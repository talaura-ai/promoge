var bZ=Object.defineProperty;var vZ=(t,e,i)=>e in t?bZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i;var dm=(t,e,i)=>vZ(t,typeof e!="symbol"?e+"":e,i);function SZ(t,e){for(var i=0;i<e.length;i++){const n=e[i];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(t,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function i(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=i(s);fetch(s.href,a)}})();function YG(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _C={exports:{}},pm={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uz;function MZ(){if(Uz)return pm;Uz=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(n,s,a){var o=null;if(a!==void 0&&(o=""+a),s.key!==void 0&&(o=""+s.key),"key"in s){a={};for(var r in s)r!=="key"&&(a[r]=s[r])}else a=s;return s=a.ref,{$$typeof:t,type:n,key:o,ref:s!==void 0?s:null,props:a}}return pm.Fragment=e,pm.jsx=i,pm.jsxs=i,pm}var Hz;function AZ(){return Hz||(Hz=1,_C.exports=MZ()),_C.exports}var q=AZ(),jC={exports:{}},ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wz;function DZ(){if(Wz)return ie;Wz=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),r=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function f(j){return j===null||typeof j!="object"?null:(j=p&&j[p]||j["@@iterator"],typeof j=="function"?j:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,b={};function S(j,U,Z){this.props=j,this.context=U,this.refs=b,this.updater=Z||y}S.prototype.isReactComponent={},S.prototype.setState=function(j,U){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,U,"setState")},S.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function v(){}v.prototype=S.prototype;function D(j,U,Z){this.props=j,this.context=U,this.refs=b,this.updater=Z||y}var I=D.prototype=new v;I.constructor=D,m(I,S.prototype),I.isPureReactComponent=!0;var T=Array.isArray,k={H:null,A:null,T:null,S:null},E=Object.prototype.hasOwnProperty;function w(j,U,Z,tt,J,nt){return Z=nt.ref,{$$typeof:t,type:j,key:U,ref:Z!==void 0?Z:null,props:nt}}function R(j,U){return w(j.type,U,void 0,void 0,void 0,j.props)}function O(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function L(j){var U={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(Z){return U[Z]})}var F=/\/+/g;function z(j,U){return typeof j=="object"&&j!==null&&j.key!=null?L(""+j.key):U.toString(36)}function V(){}function H(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(V,V):(j.status="pending",j.then(function(U){j.status==="pending"&&(j.status="fulfilled",j.value=U)},function(U){j.status==="pending"&&(j.status="rejected",j.reason=U)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function W(j,U,Z,tt,J){var nt=typeof j;(nt==="undefined"||nt==="boolean")&&(j=null);var at=!1;if(j===null)at=!0;else switch(nt){case"bigint":case"string":case"number":at=!0;break;case"object":switch(j.$$typeof){case t:case e:at=!0;break;case h:return at=j._init,W(at(j._payload),U,Z,tt,J)}}if(at)return J=J(j),at=tt===""?"."+z(j,0):tt,T(J)?(Z="",at!=null&&(Z=at.replace(F,"$&/")+"/"),W(J,U,Z,"",function(pt){return pt})):J!=null&&(O(J)&&(J=R(J,Z+(J.key==null||j&&j.key===J.key?"":(""+J.key).replace(F,"$&/")+"/")+at)),U.push(J)),1;at=0;var lt=tt===""?".":tt+":";if(T(j))for(var ut=0;ut<j.length;ut++)tt=j[ut],nt=lt+z(tt,ut),at+=W(tt,U,Z,nt,J);else if(ut=f(j),typeof ut=="function")for(j=ut.call(j),ut=0;!(tt=j.next()).done;)tt=tt.value,nt=lt+z(tt,ut++),at+=W(tt,U,Z,nt,J);else if(nt==="object"){if(typeof j.then=="function")return W(H(j),U,Z,tt,J);throw U=String(j),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return at}function G(j,U,Z){if(j==null)return j;var tt=[],J=0;return W(j,tt,"","",function(nt){return U.call(Z,nt,J++)}),tt}function $(j){if(j._status===-1){var U=j._result;U=U(),U.then(function(Z){(j._status===0||j._status===-1)&&(j._status=1,j._result=Z)},function(Z){(j._status===0||j._status===-1)&&(j._status=2,j._result=Z)}),j._status===-1&&(j._status=0,j._result=U)}if(j._status===1)return j._result.default;throw j._result}var K=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function X(){}return ie.Children={map:G,forEach:function(j,U,Z){G(j,function(){U.apply(this,arguments)},Z)},count:function(j){var U=0;return G(j,function(){U++}),U},toArray:function(j){return G(j,function(U){return U})||[]},only:function(j){if(!O(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},ie.Component=S,ie.Fragment=i,ie.Profiler=s,ie.PureComponent=D,ie.StrictMode=n,ie.Suspense=l,ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,ie.act=function(){throw Error("act(...) is not supported in production builds of React.")},ie.cache=function(j){return function(){return j.apply(null,arguments)}},ie.cloneElement=function(j,U,Z){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var tt=m({},j.props),J=j.key,nt=void 0;if(U!=null)for(at in U.ref!==void 0&&(nt=void 0),U.key!==void 0&&(J=""+U.key),U)!E.call(U,at)||at==="key"||at==="__self"||at==="__source"||at==="ref"&&U.ref===void 0||(tt[at]=U[at]);var at=arguments.length-2;if(at===1)tt.children=Z;else if(1<at){for(var lt=Array(at),ut=0;ut<at;ut++)lt[ut]=arguments[ut+2];tt.children=lt}return w(j.type,J,void 0,void 0,nt,tt)},ie.createContext=function(j){return j={$$typeof:o,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:a,_context:j},j},ie.createElement=function(j,U,Z){var tt,J={},nt=null;if(U!=null)for(tt in U.key!==void 0&&(nt=""+U.key),U)E.call(U,tt)&&tt!=="key"&&tt!=="__self"&&tt!=="__source"&&(J[tt]=U[tt]);var at=arguments.length-2;if(at===1)J.children=Z;else if(1<at){for(var lt=Array(at),ut=0;ut<at;ut++)lt[ut]=arguments[ut+2];J.children=lt}if(j&&j.defaultProps)for(tt in at=j.defaultProps,at)J[tt]===void 0&&(J[tt]=at[tt]);return w(j,nt,void 0,void 0,null,J)},ie.createRef=function(){return{current:null}},ie.forwardRef=function(j){return{$$typeof:r,render:j}},ie.isValidElement=O,ie.lazy=function(j){return{$$typeof:h,_payload:{_status:-1,_result:j},_init:$}},ie.memo=function(j,U){return{$$typeof:c,type:j,compare:U===void 0?null:U}},ie.startTransition=function(j){var U=k.T,Z={};k.T=Z;try{var tt=j(),J=k.S;J!==null&&J(Z,tt),typeof tt=="object"&&tt!==null&&typeof tt.then=="function"&&tt.then(X,K)}catch(nt){K(nt)}finally{k.T=U}},ie.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},ie.use=function(j){return k.H.use(j)},ie.useActionState=function(j,U,Z){return k.H.useActionState(j,U,Z)},ie.useCallback=function(j,U){return k.H.useCallback(j,U)},ie.useContext=function(j){return k.H.useContext(j)},ie.useDebugValue=function(){},ie.useDeferredValue=function(j,U){return k.H.useDeferredValue(j,U)},ie.useEffect=function(j,U){return k.H.useEffect(j,U)},ie.useId=function(){return k.H.useId()},ie.useImperativeHandle=function(j,U,Z){return k.H.useImperativeHandle(j,U,Z)},ie.useInsertionEffect=function(j,U){return k.H.useInsertionEffect(j,U)},ie.useLayoutEffect=function(j,U){return k.H.useLayoutEffect(j,U)},ie.useMemo=function(j,U){return k.H.useMemo(j,U)},ie.useOptimistic=function(j,U){return k.H.useOptimistic(j,U)},ie.useReducer=function(j,U,Z){return k.H.useReducer(j,U,Z)},ie.useRef=function(j){return k.H.useRef(j)},ie.useState=function(j){return k.H.useState(j)},ie.useSyncExternalStore=function(j,U,Z){return k.H.useSyncExternalStore(j,U,Z)},ie.useTransition=function(){return k.H.useTransition()},ie.version="19.0.0",ie}var Yz;function tN(){return Yz||(Yz=1,jC.exports=DZ()),jC.exports}var Q=tN();const wo=YG(Q),Bk=SZ({__proto__:null,default:wo},[Q]);var FC={exports:{}},fm={},GC={exports:{}},VC={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $z;function IZ(){return $z||($z=1,function(t){function e(G,$){var K=G.length;G.push($);t:for(;0<K;){var X=K-1>>>1,j=G[X];if(0<s(j,$))G[X]=$,G[K]=j,K=X;else break t}}function i(G){return G.length===0?null:G[0]}function n(G){if(G.length===0)return null;var $=G[0],K=G.pop();if(K!==$){G[0]=K;t:for(var X=0,j=G.length,U=j>>>1;X<U;){var Z=2*(X+1)-1,tt=G[Z],J=Z+1,nt=G[J];if(0>s(tt,K))J<j&&0>s(nt,tt)?(G[X]=nt,G[J]=K,X=J):(G[X]=tt,G[Z]=K,X=Z);else if(J<j&&0>s(nt,K))G[X]=nt,G[J]=K,X=J;else break t}}return $}function s(G,$){var K=G.sortIndex-$.sortIndex;return K!==0?K:G.id-$.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,r=o.now();t.unstable_now=function(){return o.now()-r}}var l=[],c=[],h=1,p=null,f=3,y=!1,m=!1,b=!1,S=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function I(G){for(var $=i(c);$!==null;){if($.callback===null)n(c);else if($.startTime<=G)n(c),$.sortIndex=$.expirationTime,e(l,$);else break;$=i(c)}}function T(G){if(b=!1,I(G),!m)if(i(l)!==null)m=!0,H();else{var $=i(c);$!==null&&W(T,$.startTime-G)}}var k=!1,E=-1,w=5,R=-1;function O(){return!(t.unstable_now()-R<w)}function L(){if(k){var G=t.unstable_now();R=G;var $=!0;try{t:{m=!1,b&&(b=!1,v(E),E=-1),y=!0;var K=f;try{e:{for(I(G),p=i(l);p!==null&&!(p.expirationTime>G&&O());){var X=p.callback;if(typeof X=="function"){p.callback=null,f=p.priorityLevel;var j=X(p.expirationTime<=G);if(G=t.unstable_now(),typeof j=="function"){p.callback=j,I(G),$=!0;break e}p===i(l)&&n(l),I(G)}else n(l);p=i(l)}if(p!==null)$=!0;else{var U=i(c);U!==null&&W(T,U.startTime-G),$=!1}}break t}finally{p=null,f=K,y=!1}$=void 0}}finally{$?F():k=!1}}}var F;if(typeof D=="function")F=function(){D(L)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,V=z.port2;z.port1.onmessage=L,F=function(){V.postMessage(null)}}else F=function(){S(L,0)};function H(){k||(k=!0,F())}function W(G,$){E=S(function(){G(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){m||y||(m=!0,H())},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return i(l)},t.unstable_next=function(G){switch(f){case 1:case 2:case 3:var $=3;break;default:$=f}var K=f;f=$;try{return G()}finally{f=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,$){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var K=f;f=G;try{return $()}finally{f=K}},t.unstable_scheduleCallback=function(G,$,K){var X=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?X+K:X):K=X,G){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=K+j,G={id:h++,callback:$,priorityLevel:G,startTime:K,expirationTime:j,sortIndex:-1},K>X?(G.sortIndex=K,e(c,G),i(l)===null&&G===i(c)&&(b?(v(E),E=-1):b=!0,W(T,K-X))):(G.sortIndex=j,e(l,G),m||y||(m=!0,H())),G},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(G){var $=f;return function(){var K=f;f=$;try{return G.apply(this,arguments)}finally{f=K}}}}(VC)),VC}var Kz;function TZ(){return Kz||(Kz=1,GC.exports=IZ()),GC.exports}var UC={exports:{}},xs={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xz;function CZ(){if(Xz)return xs;Xz=1;var t=tN();function e(l){var c="https://react.dev/errors/"+l;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var n={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(l,c,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:p==null?null:""+p,children:l,containerInfo:c,implementation:h}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function r(l,c){if(l==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return xs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,xs.createPortal=function(l,c){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(e(299));return a(l,c,null,h)},xs.flushSync=function(l){var c=o.T,h=n.p;try{if(o.T=null,n.p=2,l)return l()}finally{o.T=c,n.p=h,n.d.f()}},xs.preconnect=function(l,c){typeof l=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,n.d.C(l,c))},xs.prefetchDNS=function(l){typeof l=="string"&&n.d.D(l)},xs.preinit=function(l,c){if(typeof l=="string"&&c&&typeof c.as=="string"){var h=c.as,p=r(h,c.crossOrigin),f=typeof c.integrity=="string"?c.integrity:void 0,y=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;h==="style"?n.d.S(l,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:p,integrity:f,fetchPriority:y}):h==="script"&&n.d.X(l,{crossOrigin:p,integrity:f,fetchPriority:y,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},xs.preinitModule=function(l,c){if(typeof l=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var h=r(c.as,c.crossOrigin);n.d.M(l,{crossOrigin:h,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&n.d.M(l)},xs.preload=function(l,c){if(typeof l=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var h=c.as,p=r(h,c.crossOrigin);n.d.L(l,h,{crossOrigin:p,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},xs.preloadModule=function(l,c){if(typeof l=="string")if(c){var h=r(c.as,c.crossOrigin);n.d.m(l,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:h,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else n.d.m(l)},xs.requestFormReset=function(l){n.d.r(l)},xs.unstable_batchedUpdates=function(l,c){return l(c)},xs.useFormState=function(l,c,h){return o.H.useFormState(l,c,h)},xs.useFormStatus=function(){return o.H.useHostTransitionStatus()},xs.version="19.0.0",xs}var Zz;function $G(){if(Zz)return UC.exports;Zz=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),UC.exports=CZ(),UC.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qz;function kZ(){if(qz)return fm;qz=1;var t=TZ(),e=tN(),i=$G();function n(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}var a=Symbol.for("react.element"),o=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),f=Symbol.for("react.consumer"),y=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),v=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),I=Symbol.for("react.offscreen"),T=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function E(u){return u===null||typeof u!="object"?null:(u=k&&u[k]||u["@@iterator"],typeof u=="function"?u:null)}var w=Symbol.for("react.client.reference");function R(u){if(u==null)return null;if(typeof u=="function")return u.$$typeof===w?null:u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case l:return"Fragment";case r:return"Portal";case h:return"Profiler";case c:return"StrictMode";case b:return"Suspense";case S:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case y:return(u.displayName||"Context")+".Provider";case f:return(u._context.displayName||"Context")+".Consumer";case m:var d=u.render;return u=u.displayName,u||(u=d.displayName||d.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case v:return d=u.displayName||null,d!==null?d:R(u.type)||"Memo";case D:d=u._payload,u=u._init;try{return R(u(d))}catch{}}return null}var O=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=Object.assign,F,z;function V(u){if(F===void 0)try{throw Error()}catch(g){var d=g.stack.trim().match(/\n( *(at )?)/);F=d&&d[1]||"",z=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+F+u+z}var H=!1;function W(u,d){if(!u||H)return"";H=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var x={DetermineComponentFrameRoot:function(){try{if(d){var At=function(){throw Error()};if(Object.defineProperty(At.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(At,[])}catch(yt){var dt=yt}Reflect.construct(u,[],At)}else{try{At.call()}catch(yt){dt=yt}u.call(At.prototype)}}else{try{throw Error()}catch(yt){dt=yt}(At=u())&&typeof At.catch=="function"&&At.catch(function(){})}}catch(yt){if(yt&&dt&&typeof yt.stack=="string")return[yt.stack,dt.stack]}return[null,null]}};x.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var M=Object.getOwnPropertyDescriptor(x.DetermineComponentFrameRoot,"name");M&&M.configurable&&Object.defineProperty(x.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=x.DetermineComponentFrameRoot(),B=C[0],Y=C[1];if(B&&Y){var et=B.split(`
`),st=Y.split(`
`);for(M=x=0;x<et.length&&!et[x].includes("DetermineComponentFrameRoot");)x++;for(;M<st.length&&!st[M].includes("DetermineComponentFrameRoot");)M++;if(x===et.length||M===st.length)for(x=et.length-1,M=st.length-1;1<=x&&0<=M&&et[x]!==st[M];)M--;for(;1<=x&&0<=M;x--,M--)if(et[x]!==st[M]){if(x!==1||M!==1)do if(x--,M--,0>M||et[x]!==st[M]){var mt=`
`+et[x].replace(" at new "," at ");return u.displayName&&mt.includes("<anonymous>")&&(mt=mt.replace("<anonymous>",u.displayName)),mt}while(1<=x&&0<=M);break}}}finally{H=!1,Error.prepareStackTrace=g}return(g=u?u.displayName||u.name:"")?V(g):""}function G(u){switch(u.tag){case 26:case 27:case 5:return V(u.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 15:return u=W(u.type,!1),u;case 11:return u=W(u.type.render,!1),u;case 1:return u=W(u.type,!0),u;default:return""}}function $(u){try{var d="";do d+=G(u),u=u.return;while(u);return d}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}function K(u){var d=u,g=u;if(u.alternate)for(;d.return;)d=d.return;else{u=d;do d=u,d.flags&4098&&(g=d.return),u=d.return;while(u)}return d.tag===3?g:null}function X(u){if(u.tag===13){var d=u.memoizedState;if(d===null&&(u=u.alternate,u!==null&&(d=u.memoizedState)),d!==null)return d.dehydrated}return null}function j(u){if(K(u)!==u)throw Error(n(188))}function U(u){var d=u.alternate;if(!d){if(d=K(u),d===null)throw Error(n(188));return d!==u?null:u}for(var g=u,x=d;;){var M=g.return;if(M===null)break;var C=M.alternate;if(C===null){if(x=M.return,x!==null){g=x;continue}break}if(M.child===C.child){for(C=M.child;C;){if(C===g)return j(M),u;if(C===x)return j(M),d;C=C.sibling}throw Error(n(188))}if(g.return!==x.return)g=M,x=C;else{for(var B=!1,Y=M.child;Y;){if(Y===g){B=!0,g=M,x=C;break}if(Y===x){B=!0,x=M,g=C;break}Y=Y.sibling}if(!B){for(Y=C.child;Y;){if(Y===g){B=!0,g=C,x=M;break}if(Y===x){B=!0,x=C,g=M;break}Y=Y.sibling}if(!B)throw Error(n(189))}}if(g.alternate!==x)throw Error(n(190))}if(g.tag!==3)throw Error(n(188));return g.stateNode.current===g?u:d}function Z(u){var d=u.tag;if(d===5||d===26||d===27||d===6)return u;for(u=u.child;u!==null;){if(d=Z(u),d!==null)return d;u=u.sibling}return null}var tt=Array.isArray,J=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt={pending:!1,data:null,method:null,action:null},at=[],lt=-1;function ut(u){return{current:u}}function pt(u){0>lt||(u.current=at[lt],at[lt]=null,lt--)}function ot(u,d){lt++,at[lt]=u.current,u.current=d}var ft=ut(null),ct=ut(null),bt=ut(null),St=ut(null);function xt(u,d){switch(ot(bt,d),ot(ct,u),ot(ft,null),u=d.nodeType,u){case 9:case 11:d=(d=d.documentElement)&&(d=d.namespaceURI)?xz(d):0;break;default:if(u=u===8?d.parentNode:d,d=u.tagName,u=u.namespaceURI)u=xz(u),d=bz(u,d);else switch(d){case"svg":d=1;break;case"math":d=2;break;default:d=0}}pt(ft),ot(ft,d)}function wt(){pt(ft),pt(ct),pt(bt)}function kt(u){u.memoizedState!==null&&ot(St,u);var d=ft.current,g=bz(d,u.type);d!==g&&(ot(ct,u),ot(ft,g))}function Nt(u){ct.current===u&&(pt(ft),pt(ct)),St.current===u&&(pt(St),rm._currentValue=nt)}var $t=Object.prototype.hasOwnProperty,zt=t.unstable_scheduleCallback,Ot=t.unstable_cancelCallback,Mt=t.unstable_shouldYield,Ne=t.unstable_requestPaint,Yt=t.unstable_now,cn=t.unstable_getCurrentPriorityLevel,Ui=t.unstable_ImmediatePriority,gs=t.unstable_UserBlockingPriority,Gs=t.unstable_NormalPriority,qn=t.unstable_LowPriority,ra=t.unstable_IdlePriority,Ye=t.log,Rp=t.unstable_setDisableYieldValue,_r=null,Qn=null;function Vt(u){if(Qn&&typeof Qn.onCommitFiberRoot=="function")try{Qn.onCommitFiberRoot(_r,u,void 0,(u.current.flags&128)===128)}catch{}}function _t(u){if(typeof Ye=="function"&&Rp(u),Qn&&typeof Qn.setStrictMode=="function")try{Qn.setStrictMode(_r,u)}catch{}}var ee=Math.clz32?Math.clz32:eo,De=Math.log,yi=Math.LN2;function eo(u){return u>>>=0,u===0?32:31-(De(u)/yi|0)|0}var io=128,jr=4194304;function Fr(u){var d=u&42;if(d!==0)return d;switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return u&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return u}}function su(u,d){var g=u.pendingLanes;if(g===0)return 0;var x=0,M=u.suspendedLanes,C=u.pingedLanes,B=u.warmLanes;u=u.finishedLanes!==0;var Y=g&134217727;return Y!==0?(g=Y&~M,g!==0?x=Fr(g):(C&=Y,C!==0?x=Fr(C):u||(B=Y&~B,B!==0&&(x=Fr(B))))):(Y=g&~M,Y!==0?x=Fr(Y):C!==0?x=Fr(C):u||(B=g&~B,B!==0&&(x=Fr(B)))),x===0?0:d!==0&&d!==x&&!(d&M)&&(M=x&-x,B=d&-d,M>=B||M===32&&(B&4194176)!==0)?d:x}function my(u,d){return(u.pendingLanes&~(u.suspendedLanes&~u.pingedLanes)&d)===0}function r8(u,d){switch(u){case 1:case 2:case 4:case 8:return d+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function u2(){var u=io;return io<<=1,!(io&4194176)&&(io=128),u}function h2(){var u=jr;return jr<<=1,!(jr&62914560)&&(jr=4194304),u}function OI(u){for(var d=[],g=0;31>g;g++)d.push(u);return d}function xy(u,d){u.pendingLanes|=d,d!==268435456&&(u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0)}function l8(u,d,g,x,M,C){var B=u.pendingLanes;u.pendingLanes=g,u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0,u.expiredLanes&=g,u.entangledLanes&=g,u.errorRecoveryDisabledLanes&=g,u.shellSuspendCounter=0;var Y=u.entanglements,et=u.expirationTimes,st=u.hiddenUpdates;for(g=B&~g;0<g;){var mt=31-ee(g),At=1<<mt;Y[mt]=0,et[mt]=-1;var dt=st[mt];if(dt!==null)for(st[mt]=null,mt=0;mt<dt.length;mt++){var yt=dt[mt];yt!==null&&(yt.lane&=-536870913)}g&=~At}x!==0&&d2(u,x,0),C!==0&&M===0&&u.tag!==0&&(u.suspendedLanes|=C&~(B&~d))}function d2(u,d,g){u.pendingLanes|=d,u.suspendedLanes&=~d;var x=31-ee(d);u.entangledLanes|=d,u.entanglements[x]=u.entanglements[x]|1073741824|g&4194218}function p2(u,d){var g=u.entangledLanes|=d;for(u=u.entanglements;g;){var x=31-ee(g),M=1<<x;M&d|u[x]&d&&(u[x]|=d),g&=~M}}function f2(u){return u&=-u,2<u?8<u?u&134217727?32:268435456:8:2}function g2(){var u=J.p;return u!==0?u:(u=window.event,u===void 0?32:zz(u.type))}function c8(u,d){var g=J.p;try{return J.p=u,d()}finally{J.p=g}}var au=Math.random().toString(36).slice(2),ys="__reactFiber$"+au,la="__reactProps$"+au,Pp="__reactContainer$"+au,RI="__reactEvents$"+au,u8="__reactListeners$"+au,h8="__reactHandles$"+au,y2="__reactResources$"+au,by="__reactMarker$"+au;function PI(u){delete u[ys],delete u[la],delete u[RI],delete u[u8],delete u[h8]}function _h(u){var d=u[ys];if(d)return d;for(var g=u.parentNode;g;){if(d=g[Pp]||g[ys]){if(g=d.alternate,d.child!==null||g!==null&&g.child!==null)for(u=Mz(u);u!==null;){if(g=u[ys])return g;u=Mz(u)}return d}u=g,g=u.parentNode}return null}function Bp(u){if(u=u[ys]||u[Pp]){var d=u.tag;if(d===5||d===6||d===13||d===26||d===27||d===3)return u}return null}function vy(u){var d=u.tag;if(d===5||d===26||d===27||d===6)return u.stateNode;throw Error(n(33))}function zp(u){var d=u[y2];return d||(d=u[y2]={hoistableStyles:new Map,hoistableScripts:new Map}),d}function zn(u){u[by]=!0}var m2=new Set,x2={};function jh(u,d){_p(u,d),_p(u+"Capture",d)}function _p(u,d){for(x2[u]=d,u=0;u<d.length;u++)m2.add(d[u])}var Bl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d8=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),b2={},v2={};function p8(u){return $t.call(v2,u)?!0:$t.call(b2,u)?!1:d8.test(u)?v2[u]=!0:(b2[u]=!0,!1)}function xv(u,d,g){if(p8(d))if(g===null)u.removeAttribute(d);else{switch(typeof g){case"undefined":case"function":case"symbol":u.removeAttribute(d);return;case"boolean":var x=d.toLowerCase().slice(0,5);if(x!=="data-"&&x!=="aria-"){u.removeAttribute(d);return}}u.setAttribute(d,""+g)}}function bv(u,d,g){if(g===null)u.removeAttribute(d);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(d);return}u.setAttribute(d,""+g)}}function zl(u,d,g,x){if(x===null)u.removeAttribute(g);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(g);return}u.setAttributeNS(d,g,""+x)}}function no(u){switch(typeof u){case"bigint":case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function S2(u){var d=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function f8(u){var d=S2(u)?"checked":"value",g=Object.getOwnPropertyDescriptor(u.constructor.prototype,d),x=""+u[d];if(!u.hasOwnProperty(d)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var M=g.get,C=g.set;return Object.defineProperty(u,d,{configurable:!0,get:function(){return M.call(this)},set:function(B){x=""+B,C.call(this,B)}}),Object.defineProperty(u,d,{enumerable:g.enumerable}),{getValue:function(){return x},setValue:function(B){x=""+B},stopTracking:function(){u._valueTracker=null,delete u[d]}}}}function vv(u){u._valueTracker||(u._valueTracker=f8(u))}function M2(u){if(!u)return!1;var d=u._valueTracker;if(!d)return!0;var g=d.getValue(),x="";return u&&(x=S2(u)?u.checked?"true":"false":u.value),u=x,u!==g?(d.setValue(u),!0):!1}function Sv(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}var g8=/[\n"\\]/g;function so(u){return u.replace(g8,function(d){return"\\"+d.charCodeAt(0).toString(16)+" "})}function BI(u,d,g,x,M,C,B,Y){u.name="",B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?u.type=B:u.removeAttribute("type"),d!=null?B==="number"?(d===0&&u.value===""||u.value!=d)&&(u.value=""+no(d)):u.value!==""+no(d)&&(u.value=""+no(d)):B!=="submit"&&B!=="reset"||u.removeAttribute("value"),d!=null?zI(u,B,no(d)):g!=null?zI(u,B,no(g)):x!=null&&u.removeAttribute("value"),M==null&&C!=null&&(u.defaultChecked=!!C),M!=null&&(u.checked=M&&typeof M!="function"&&typeof M!="symbol"),Y!=null&&typeof Y!="function"&&typeof Y!="symbol"&&typeof Y!="boolean"?u.name=""+no(Y):u.removeAttribute("name")}function A2(u,d,g,x,M,C,B,Y){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(u.type=C),d!=null||g!=null){if(!(C!=="submit"&&C!=="reset"||d!=null))return;g=g!=null?""+no(g):"",d=d!=null?""+no(d):g,Y||d===u.value||(u.value=d),u.defaultValue=d}x=x??M,x=typeof x!="function"&&typeof x!="symbol"&&!!x,u.checked=Y?u.checked:!!x,u.defaultChecked=!!x,B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"&&(u.name=B)}function zI(u,d,g){d==="number"&&Sv(u.ownerDocument)===u||u.defaultValue===""+g||(u.defaultValue=""+g)}function jp(u,d,g,x){if(u=u.options,d){d={};for(var M=0;M<g.length;M++)d["$"+g[M]]=!0;for(g=0;g<u.length;g++)M=d.hasOwnProperty("$"+u[g].value),u[g].selected!==M&&(u[g].selected=M),M&&x&&(u[g].defaultSelected=!0)}else{for(g=""+no(g),d=null,M=0;M<u.length;M++){if(u[M].value===g){u[M].selected=!0,x&&(u[M].defaultSelected=!0);return}d!==null||u[M].disabled||(d=u[M])}d!==null&&(d.selected=!0)}}function D2(u,d,g){if(d!=null&&(d=""+no(d),d!==u.value&&(u.value=d),g==null)){u.defaultValue!==d&&(u.defaultValue=d);return}u.defaultValue=g!=null?""+no(g):""}function I2(u,d,g,x){if(d==null){if(x!=null){if(g!=null)throw Error(n(92));if(tt(x)){if(1<x.length)throw Error(n(93));x=x[0]}g=x}g==null&&(g=""),d=g}g=no(d),u.defaultValue=g,x=u.textContent,x===g&&x!==""&&x!==null&&(u.value=x)}function Fp(u,d){if(d){var g=u.firstChild;if(g&&g===u.lastChild&&g.nodeType===3){g.nodeValue=d;return}}u.textContent=d}var y8=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function T2(u,d,g){var x=d.indexOf("--")===0;g==null||typeof g=="boolean"||g===""?x?u.setProperty(d,""):d==="float"?u.cssFloat="":u[d]="":x?u.setProperty(d,g):typeof g!="number"||g===0||y8.has(d)?d==="float"?u.cssFloat=g:u[d]=(""+g).trim():u[d]=g+"px"}function C2(u,d,g){if(d!=null&&typeof d!="object")throw Error(n(62));if(u=u.style,g!=null){for(var x in g)!g.hasOwnProperty(x)||d!=null&&d.hasOwnProperty(x)||(x.indexOf("--")===0?u.setProperty(x,""):x==="float"?u.cssFloat="":u[x]="");for(var M in d)x=d[M],d.hasOwnProperty(M)&&g[M]!==x&&T2(u,M,x)}else for(var C in d)d.hasOwnProperty(C)&&T2(u,C,d[C])}function _I(u){if(u.indexOf("-")===-1)return!1;switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var m8=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),x8=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mv(u){return x8.test(""+u)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":u}var jI=null;function FI(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var Gp=null,Vp=null;function k2(u){var d=Bp(u);if(d&&(u=d.stateNode)){var g=u[la]||null;t:switch(u=d.stateNode,d.type){case"input":if(BI(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name),d=g.name,g.type==="radio"&&d!=null){for(g=u;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll('input[name="'+so(""+d)+'"][type="radio"]'),d=0;d<g.length;d++){var x=g[d];if(x!==u&&x.form===u.form){var M=x[la]||null;if(!M)throw Error(n(90));BI(x,M.value,M.defaultValue,M.defaultValue,M.checked,M.defaultChecked,M.type,M.name)}}for(d=0;d<g.length;d++)x=g[d],x.form===u.form&&M2(x)}break t;case"textarea":D2(u,g.value,g.defaultValue);break t;case"select":d=g.value,d!=null&&jp(u,!!g.multiple,d,!1)}}}var GI=!1;function L2(u,d,g){if(GI)return u(d,g);GI=!0;try{var x=u(d);return x}finally{if(GI=!1,(Gp!==null||Vp!==null)&&(a0(),Gp&&(d=Gp,u=Vp,Vp=Gp=null,k2(d),u)))for(d=0;d<u.length;d++)k2(u[d])}}function Sy(u,d){var g=u.stateNode;if(g===null)return null;var x=g[la]||null;if(x===null)return null;g=x[d];t:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(u=u.type,x=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!x;break t;default:u=!1}if(u)return null;if(g&&typeof g!="function")throw Error(n(231,d,typeof g));return g}var VI=!1;if(Bl)try{var My={};Object.defineProperty(My,"passive",{get:function(){VI=!0}}),window.addEventListener("test",My,My),window.removeEventListener("test",My,My)}catch{VI=!1}var ou=null,UI=null,Av=null;function N2(){if(Av)return Av;var u,d=UI,g=d.length,x,M="value"in ou?ou.value:ou.textContent,C=M.length;for(u=0;u<g&&d[u]===M[u];u++);var B=g-u;for(x=1;x<=B&&d[g-x]===M[C-x];x++);return Av=M.slice(u,1<x?1-x:void 0)}function Dv(u){var d=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&d===13&&(u=13)):u=d,u===10&&(u=13),32<=u||u===13?u:0}function Iv(){return!0}function E2(){return!1}function ca(u){function d(g,x,M,C,B){this._reactName=g,this._targetInst=M,this.type=x,this.nativeEvent=C,this.target=B,this.currentTarget=null;for(var Y in u)u.hasOwnProperty(Y)&&(g=u[Y],this[Y]=g?g(C):C[Y]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?Iv:E2,this.isPropagationStopped=E2,this}return L(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=Iv)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=Iv)},persist:function(){},isPersistent:Iv}),d}var Fh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tv=ca(Fh),Ay=L({},Fh,{view:0,detail:0}),b8=ca(Ay),HI,WI,Dy,Cv=L({},Ay,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$I,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==Dy&&(Dy&&u.type==="mousemove"?(HI=u.screenX-Dy.screenX,WI=u.screenY-Dy.screenY):WI=HI=0,Dy=u),HI)},movementY:function(u){return"movementY"in u?u.movementY:WI}}),w2=ca(Cv),v8=L({},Cv,{dataTransfer:0}),S8=ca(v8),M8=L({},Ay,{relatedTarget:0}),YI=ca(M8),A8=L({},Fh,{animationName:0,elapsedTime:0,pseudoElement:0}),D8=ca(A8),I8=L({},Fh,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),T8=ca(I8),C8=L({},Fh,{data:0}),O2=ca(C8),k8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},L8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},N8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function E8(u){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(u):(u=N8[u])?!!d[u]:!1}function $I(){return E8}var w8=L({},Ay,{key:function(u){if(u.key){var d=k8[u.key]||u.key;if(d!=="Unidentified")return d}return u.type==="keypress"?(u=Dv(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?L8[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$I,charCode:function(u){return u.type==="keypress"?Dv(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?Dv(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),O8=ca(w8),R8=L({},Cv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),R2=ca(R8),P8=L({},Ay,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$I}),B8=ca(P8),z8=L({},Fh,{propertyName:0,elapsedTime:0,pseudoElement:0}),_8=ca(z8),j8=L({},Cv,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),F8=ca(j8),G8=L({},Fh,{newState:0,oldState:0}),V8=ca(G8),U8=[9,13,27,32],KI=Bl&&"CompositionEvent"in window,Iy=null;Bl&&"documentMode"in document&&(Iy=document.documentMode);var H8=Bl&&"TextEvent"in window&&!Iy,P2=Bl&&(!KI||Iy&&8<Iy&&11>=Iy),B2=" ",z2=!1;function _2(u,d){switch(u){case"keyup":return U8.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function j2(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var Up=!1;function W8(u,d){switch(u){case"compositionend":return j2(d);case"keypress":return d.which!==32?null:(z2=!0,B2);case"textInput":return u=d.data,u===B2&&z2?null:u;default:return null}}function Y8(u,d){if(Up)return u==="compositionend"||!KI&&_2(u,d)?(u=N2(),Av=UI=ou=null,Up=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return P2&&d.locale!=="ko"?null:d.data;default:return null}}var $8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function F2(u){var d=u&&u.nodeName&&u.nodeName.toLowerCase();return d==="input"?!!$8[u.type]:d==="textarea"}function G2(u,d,g,x){Gp?Vp?Vp.push(x):Vp=[x]:Gp=x,d=u0(d,"onChange"),0<d.length&&(g=new Tv("onChange","change",null,g,x),u.push({event:g,listeners:d}))}var Ty=null,Cy=null;function K8(u){pz(u,0)}function kv(u){var d=vy(u);if(M2(d))return u}function V2(u,d){if(u==="change")return d}var U2=!1;if(Bl){var XI;if(Bl){var ZI="oninput"in document;if(!ZI){var H2=document.createElement("div");H2.setAttribute("oninput","return;"),ZI=typeof H2.oninput=="function"}XI=ZI}else XI=!1;U2=XI&&(!document.documentMode||9<document.documentMode)}function W2(){Ty&&(Ty.detachEvent("onpropertychange",Y2),Cy=Ty=null)}function Y2(u){if(u.propertyName==="value"&&kv(Cy)){var d=[];G2(d,Cy,u,FI(u)),L2(K8,d)}}function X8(u,d,g){u==="focusin"?(W2(),Ty=d,Cy=g,Ty.attachEvent("onpropertychange",Y2)):u==="focusout"&&W2()}function Z8(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return kv(Cy)}function q8(u,d){if(u==="click")return kv(d)}function Q8(u,d){if(u==="input"||u==="change")return kv(d)}function J8(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var Na=typeof Object.is=="function"?Object.is:J8;function ky(u,d){if(Na(u,d))return!0;if(typeof u!="object"||u===null||typeof d!="object"||d===null)return!1;var g=Object.keys(u),x=Object.keys(d);if(g.length!==x.length)return!1;for(x=0;x<g.length;x++){var M=g[x];if(!$t.call(d,M)||!Na(u[M],d[M]))return!1}return!0}function $2(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function K2(u,d){var g=$2(u);u=0;for(var x;g;){if(g.nodeType===3){if(x=u+g.textContent.length,u<=d&&x>=d)return{node:g,offset:d-u};u=x}t:{for(;g;){if(g.nextSibling){g=g.nextSibling;break t}g=g.parentNode}g=void 0}g=$2(g)}}function X2(u,d){return u&&d?u===d?!0:u&&u.nodeType===3?!1:d&&d.nodeType===3?X2(u,d.parentNode):"contains"in u?u.contains(d):u.compareDocumentPosition?!!(u.compareDocumentPosition(d)&16):!1:!1}function Z2(u){u=u!=null&&u.ownerDocument!=null&&u.ownerDocument.defaultView!=null?u.ownerDocument.defaultView:window;for(var d=Sv(u.document);d instanceof u.HTMLIFrameElement;){try{var g=typeof d.contentWindow.location.href=="string"}catch{g=!1}if(g)u=d.contentWindow;else break;d=Sv(u.document)}return d}function qI(u){var d=u&&u.nodeName&&u.nodeName.toLowerCase();return d&&(d==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||d==="textarea"||u.contentEditable==="true")}function tX(u,d){var g=Z2(d);d=u.focusedElem;var x=u.selectionRange;if(g!==d&&d&&d.ownerDocument&&X2(d.ownerDocument.documentElement,d)){if(x!==null&&qI(d)){if(u=x.start,g=x.end,g===void 0&&(g=u),"selectionStart"in d)d.selectionStart=u,d.selectionEnd=Math.min(g,d.value.length);else if(g=(u=d.ownerDocument||document)&&u.defaultView||window,g.getSelection){g=g.getSelection();var M=d.textContent.length,C=Math.min(x.start,M);x=x.end===void 0?C:Math.min(x.end,M),!g.extend&&C>x&&(M=x,x=C,C=M),M=K2(d,C);var B=K2(d,x);M&&B&&(g.rangeCount!==1||g.anchorNode!==M.node||g.anchorOffset!==M.offset||g.focusNode!==B.node||g.focusOffset!==B.offset)&&(u=u.createRange(),u.setStart(M.node,M.offset),g.removeAllRanges(),C>x?(g.addRange(u),g.extend(B.node,B.offset)):(u.setEnd(B.node,B.offset),g.addRange(u)))}}for(u=[],g=d;g=g.parentNode;)g.nodeType===1&&u.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<u.length;d++)g=u[d],g.element.scrollLeft=g.left,g.element.scrollTop=g.top}}var eX=Bl&&"documentMode"in document&&11>=document.documentMode,Hp=null,QI=null,Ly=null,JI=!1;function q2(u,d,g){var x=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;JI||Hp==null||Hp!==Sv(x)||(x=Hp,"selectionStart"in x&&qI(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),Ly&&ky(Ly,x)||(Ly=x,x=u0(QI,"onSelect"),0<x.length&&(d=new Tv("onSelect","select",null,d,g),u.push({event:d,listeners:x}),d.target=Hp)))}function Gh(u,d){var g={};return g[u.toLowerCase()]=d.toLowerCase(),g["Webkit"+u]="webkit"+d,g["Moz"+u]="moz"+d,g}var Wp={animationend:Gh("Animation","AnimationEnd"),animationiteration:Gh("Animation","AnimationIteration"),animationstart:Gh("Animation","AnimationStart"),transitionrun:Gh("Transition","TransitionRun"),transitionstart:Gh("Transition","TransitionStart"),transitioncancel:Gh("Transition","TransitionCancel"),transitionend:Gh("Transition","TransitionEnd")},tT={},Q2={};Bl&&(Q2=document.createElement("div").style,"AnimationEvent"in window||(delete Wp.animationend.animation,delete Wp.animationiteration.animation,delete Wp.animationstart.animation),"TransitionEvent"in window||delete Wp.transitionend.transition);function Vh(u){if(tT[u])return tT[u];if(!Wp[u])return u;var d=Wp[u],g;for(g in d)if(d.hasOwnProperty(g)&&g in Q2)return tT[u]=d[g];return u}var J2=Vh("animationend"),tP=Vh("animationiteration"),eP=Vh("animationstart"),iX=Vh("transitionrun"),nX=Vh("transitionstart"),sX=Vh("transitioncancel"),iP=Vh("transitionend"),nP=new Map,sP="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function tr(u,d){nP.set(u,d),jh(d,[u])}var ao=[],Yp=0,eT=0;function Lv(){for(var u=Yp,d=eT=Yp=0;d<u;){var g=ao[d];ao[d++]=null;var x=ao[d];ao[d++]=null;var M=ao[d];ao[d++]=null;var C=ao[d];if(ao[d++]=null,x!==null&&M!==null){var B=x.pending;B===null?M.next=M:(M.next=B.next,B.next=M),x.pending=M}C!==0&&aP(g,M,C)}}function Nv(u,d,g,x){ao[Yp++]=u,ao[Yp++]=d,ao[Yp++]=g,ao[Yp++]=x,eT|=x,u.lanes|=x,u=u.alternate,u!==null&&(u.lanes|=x)}function iT(u,d,g,x){return Nv(u,d,g,x),Ev(u)}function ru(u,d){return Nv(u,null,null,d),Ev(u)}function aP(u,d,g){u.lanes|=g;var x=u.alternate;x!==null&&(x.lanes|=g);for(var M=!1,C=u.return;C!==null;)C.childLanes|=g,x=C.alternate,x!==null&&(x.childLanes|=g),C.tag===22&&(u=C.stateNode,u===null||u._visibility&1||(M=!0)),u=C,C=C.return;M&&d!==null&&u.tag===3&&(C=u.stateNode,M=31-ee(g),C=C.hiddenUpdates,u=C[M],u===null?C[M]=[d]:u.push(d),d.lane=g|536870912)}function Ev(u){if(50<tm)throw tm=0,lC=null,Error(n(185));for(var d=u.return;d!==null;)u=d,d=u.return;return u.tag===3?u.stateNode:null}var $p={},oP=new WeakMap;function oo(u,d){if(typeof u=="object"&&u!==null){var g=oP.get(u);return g!==void 0?g:(d={value:u,source:d,stack:$(d)},oP.set(u,d),d)}return{value:u,source:d,stack:$(d)}}var Kp=[],Xp=0,wv=null,Ov=0,ro=[],lo=0,Uh=null,_l=1,jl="";function Hh(u,d){Kp[Xp++]=Ov,Kp[Xp++]=wv,wv=u,Ov=d}function rP(u,d,g){ro[lo++]=_l,ro[lo++]=jl,ro[lo++]=Uh,Uh=u;var x=_l;u=jl;var M=32-ee(x)-1;x&=~(1<<M),g+=1;var C=32-ee(d)+M;if(30<C){var B=M-M%5;C=(x&(1<<B)-1).toString(32),x>>=B,M-=B,_l=1<<32-ee(d)+M|g<<M|x,jl=C+u}else _l=1<<C|g<<M|x,jl=u}function nT(u){u.return!==null&&(Hh(u,1),rP(u,1,0))}function sT(u){for(;u===wv;)wv=Kp[--Xp],Kp[Xp]=null,Ov=Kp[--Xp],Kp[Xp]=null;for(;u===Uh;)Uh=ro[--lo],ro[lo]=null,jl=ro[--lo],ro[lo]=null,_l=ro[--lo],ro[lo]=null}var Vs=null,Jn=null,Ee=!1,er=null,Gr=!1,aT=Error(n(519));function Wh(u){var d=Error(n(418,""));throw wy(oo(d,u)),aT}function lP(u){var d=u.stateNode,g=u.type,x=u.memoizedProps;switch(d[ys]=u,d[la]=x,g){case"dialog":me("cancel",d),me("close",d);break;case"iframe":case"object":case"embed":me("load",d);break;case"video":case"audio":for(g=0;g<im.length;g++)me(im[g],d);break;case"source":me("error",d);break;case"img":case"image":case"link":me("error",d),me("load",d);break;case"details":me("toggle",d);break;case"input":me("invalid",d),A2(d,x.value,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name,!0),vv(d);break;case"select":me("invalid",d);break;case"textarea":me("invalid",d),I2(d,x.value,x.defaultValue,x.children),vv(d)}g=x.children,typeof g!="string"&&typeof g!="number"&&typeof g!="bigint"||d.textContent===""+g||x.suppressHydrationWarning===!0||mz(d.textContent,g)?(x.popover!=null&&(me("beforetoggle",d),me("toggle",d)),x.onScroll!=null&&me("scroll",d),x.onScrollEnd!=null&&me("scrollend",d),x.onClick!=null&&(d.onclick=h0),d=!0):d=!1,d||Wh(u)}function cP(u){for(Vs=u.return;Vs;)switch(Vs.tag){case 3:case 27:Gr=!0;return;case 5:case 13:Gr=!1;return;default:Vs=Vs.return}}function Ny(u){if(u!==Vs)return!1;if(!Ee)return cP(u),Ee=!0,!1;var d=!1,g;if((g=u.tag!==3&&u.tag!==27)&&((g=u.tag===5)&&(g=u.type,g=!(g!=="form"&&g!=="button")||IC(u.type,u.memoizedProps)),g=!g),g&&(d=!0),d&&Jn&&Wh(u),cP(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(n(317));t:{for(u=u.nextSibling,d=0;u;){if(u.nodeType===8)if(g=u.data,g==="/$"){if(d===0){Jn=nr(u.nextSibling);break t}d--}else g!=="$"&&g!=="$!"&&g!=="$?"||d++;u=u.nextSibling}Jn=null}}else Jn=Vs?nr(u.stateNode.nextSibling):null;return!0}function Ey(){Jn=Vs=null,Ee=!1}function wy(u){er===null?er=[u]:er.push(u)}var Oy=Error(n(460)),uP=Error(n(474)),oT={then:function(){}};function hP(u){return u=u.status,u==="fulfilled"||u==="rejected"}function Rv(){}function dP(u,d,g){switch(g=u[g],g===void 0?u.push(d):g!==d&&(d.then(Rv,Rv),d=g),d.status){case"fulfilled":return d.value;case"rejected":throw u=d.reason,u===Oy?Error(n(483)):u;default:if(typeof d.status=="string")d.then(Rv,Rv);else{if(u=li,u!==null&&100<u.shellSuspendCounter)throw Error(n(482));u=d,u.status="pending",u.then(function(x){if(d.status==="pending"){var M=d;M.status="fulfilled",M.value=x}},function(x){if(d.status==="pending"){var M=d;M.status="rejected",M.reason=x}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw u=d.reason,u===Oy?Error(n(483)):u}throw Ry=d,Oy}}var Ry=null;function pP(){if(Ry===null)throw Error(n(459));var u=Ry;return Ry=null,u}var Zp=null,Py=0;function Pv(u){var d=Py;return Py+=1,Zp===null&&(Zp=[]),dP(Zp,u,d)}function By(u,d){d=d.props.ref,u.ref=d!==void 0?d:null}function Bv(u,d){throw d.$$typeof===a?Error(n(525)):(u=Object.prototype.toString.call(d),Error(n(31,u==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":u)))}function fP(u){var d=u._init;return d(u._payload)}function gP(u){function d(rt,it){if(u){var ht=rt.deletions;ht===null?(rt.deletions=[it],rt.flags|=16):ht.push(it)}}function g(rt,it){if(!u)return null;for(;it!==null;)d(rt,it),it=it.sibling;return null}function x(rt){for(var it=new Map;rt!==null;)rt.key!==null?it.set(rt.key,rt):it.set(rt.index,rt),rt=rt.sibling;return it}function M(rt,it){return rt=bu(rt,it),rt.index=0,rt.sibling=null,rt}function C(rt,it,ht){return rt.index=ht,u?(ht=rt.alternate,ht!==null?(ht=ht.index,ht<it?(rt.flags|=33554434,it):ht):(rt.flags|=33554434,it)):(rt.flags|=1048576,it)}function B(rt){return u&&rt.alternate===null&&(rt.flags|=33554434),rt}function Y(rt,it,ht,vt){return it===null||it.tag!==6?(it=tC(ht,rt.mode,vt),it.return=rt,it):(it=M(it,ht),it.return=rt,it)}function et(rt,it,ht,vt){var Bt=ht.type;return Bt===l?mt(rt,it,ht.props.children,vt,ht.key):it!==null&&(it.elementType===Bt||typeof Bt=="object"&&Bt!==null&&Bt.$$typeof===D&&fP(Bt)===it.type)?(it=M(it,ht.props),By(it,ht),it.return=rt,it):(it=t0(ht.type,ht.key,ht.props,null,rt.mode,vt),By(it,ht),it.return=rt,it)}function st(rt,it,ht,vt){return it===null||it.tag!==4||it.stateNode.containerInfo!==ht.containerInfo||it.stateNode.implementation!==ht.implementation?(it=eC(ht,rt.mode,vt),it.return=rt,it):(it=M(it,ht.children||[]),it.return=rt,it)}function mt(rt,it,ht,vt,Bt){return it===null||it.tag!==7?(it=ed(ht,rt.mode,vt,Bt),it.return=rt,it):(it=M(it,ht),it.return=rt,it)}function At(rt,it,ht){if(typeof it=="string"&&it!==""||typeof it=="number"||typeof it=="bigint")return it=tC(""+it,rt.mode,ht),it.return=rt,it;if(typeof it=="object"&&it!==null){switch(it.$$typeof){case o:return ht=t0(it.type,it.key,it.props,null,rt.mode,ht),By(ht,it),ht.return=rt,ht;case r:return it=eC(it,rt.mode,ht),it.return=rt,it;case D:var vt=it._init;return it=vt(it._payload),At(rt,it,ht)}if(tt(it)||E(it))return it=ed(it,rt.mode,ht,null),it.return=rt,it;if(typeof it.then=="function")return At(rt,Pv(it),ht);if(it.$$typeof===y)return At(rt,qv(rt,it),ht);Bv(rt,it)}return null}function dt(rt,it,ht,vt){var Bt=it!==null?it.key:null;if(typeof ht=="string"&&ht!==""||typeof ht=="number"||typeof ht=="bigint")return Bt!==null?null:Y(rt,it,""+ht,vt);if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case o:return ht.key===Bt?et(rt,it,ht,vt):null;case r:return ht.key===Bt?st(rt,it,ht,vt):null;case D:return Bt=ht._init,ht=Bt(ht._payload),dt(rt,it,ht,vt)}if(tt(ht)||E(ht))return Bt!==null?null:mt(rt,it,ht,vt,null);if(typeof ht.then=="function")return dt(rt,it,Pv(ht),vt);if(ht.$$typeof===y)return dt(rt,it,qv(rt,ht),vt);Bv(rt,ht)}return null}function yt(rt,it,ht,vt,Bt){if(typeof vt=="string"&&vt!==""||typeof vt=="number"||typeof vt=="bigint")return rt=rt.get(ht)||null,Y(it,rt,""+vt,Bt);if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case o:return rt=rt.get(vt.key===null?ht:vt.key)||null,et(it,rt,vt,Bt);case r:return rt=rt.get(vt.key===null?ht:vt.key)||null,st(it,rt,vt,Bt);case D:var ce=vt._init;return vt=ce(vt._payload),yt(rt,it,ht,vt,Bt)}if(tt(vt)||E(vt))return rt=rt.get(ht)||null,mt(it,rt,vt,Bt,null);if(typeof vt.then=="function")return yt(rt,it,ht,Pv(vt),Bt);if(vt.$$typeof===y)return yt(rt,it,ht,qv(it,vt),Bt);Bv(it,vt)}return null}function Ft(rt,it,ht,vt){for(var Bt=null,ce=null,Ht=it,Xt=it=0,Fn=null;Ht!==null&&Xt<ht.length;Xt++){Ht.index>Xt?(Fn=Ht,Ht=null):Fn=Ht.sibling;var we=dt(rt,Ht,ht[Xt],vt);if(we===null){Ht===null&&(Ht=Fn);break}u&&Ht&&we.alternate===null&&d(rt,Ht),it=C(we,it,Xt),ce===null?Bt=we:ce.sibling=we,ce=we,Ht=Fn}if(Xt===ht.length)return g(rt,Ht),Ee&&Hh(rt,Xt),Bt;if(Ht===null){for(;Xt<ht.length;Xt++)Ht=At(rt,ht[Xt],vt),Ht!==null&&(it=C(Ht,it,Xt),ce===null?Bt=Ht:ce.sibling=Ht,ce=Ht);return Ee&&Hh(rt,Xt),Bt}for(Ht=x(Ht);Xt<ht.length;Xt++)Fn=yt(Ht,rt,Xt,ht[Xt],vt),Fn!==null&&(u&&Fn.alternate!==null&&Ht.delete(Fn.key===null?Xt:Fn.key),it=C(Fn,it,Xt),ce===null?Bt=Fn:ce.sibling=Fn,ce=Fn);return u&&Ht.forEach(function(Tu){return d(rt,Tu)}),Ee&&Hh(rt,Xt),Bt}function te(rt,it,ht,vt){if(ht==null)throw Error(n(151));for(var Bt=null,ce=null,Ht=it,Xt=it=0,Fn=null,we=ht.next();Ht!==null&&!we.done;Xt++,we=ht.next()){Ht.index>Xt?(Fn=Ht,Ht=null):Fn=Ht.sibling;var Tu=dt(rt,Ht,we.value,vt);if(Tu===null){Ht===null&&(Ht=Fn);break}u&&Ht&&Tu.alternate===null&&d(rt,Ht),it=C(Tu,it,Xt),ce===null?Bt=Tu:ce.sibling=Tu,ce=Tu,Ht=Fn}if(we.done)return g(rt,Ht),Ee&&Hh(rt,Xt),Bt;if(Ht===null){for(;!we.done;Xt++,we=ht.next())we=At(rt,we.value,vt),we!==null&&(it=C(we,it,Xt),ce===null?Bt=we:ce.sibling=we,ce=we);return Ee&&Hh(rt,Xt),Bt}for(Ht=x(Ht);!we.done;Xt++,we=ht.next())we=yt(Ht,rt,Xt,we.value,vt),we!==null&&(u&&we.alternate!==null&&Ht.delete(we.key===null?Xt:we.key),it=C(we,it,Xt),ce===null?Bt=we:ce.sibling=we,ce=we);return u&&Ht.forEach(function(xZ){return d(rt,xZ)}),Ee&&Hh(rt,Xt),Bt}function Bi(rt,it,ht,vt){if(typeof ht=="object"&&ht!==null&&ht.type===l&&ht.key===null&&(ht=ht.props.children),typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case o:t:{for(var Bt=ht.key;it!==null;){if(it.key===Bt){if(Bt=ht.type,Bt===l){if(it.tag===7){g(rt,it.sibling),vt=M(it,ht.props.children),vt.return=rt,rt=vt;break t}}else if(it.elementType===Bt||typeof Bt=="object"&&Bt!==null&&Bt.$$typeof===D&&fP(Bt)===it.type){g(rt,it.sibling),vt=M(it,ht.props),By(vt,ht),vt.return=rt,rt=vt;break t}g(rt,it);break}else d(rt,it);it=it.sibling}ht.type===l?(vt=ed(ht.props.children,rt.mode,vt,ht.key),vt.return=rt,rt=vt):(vt=t0(ht.type,ht.key,ht.props,null,rt.mode,vt),By(vt,ht),vt.return=rt,rt=vt)}return B(rt);case r:t:{for(Bt=ht.key;it!==null;){if(it.key===Bt)if(it.tag===4&&it.stateNode.containerInfo===ht.containerInfo&&it.stateNode.implementation===ht.implementation){g(rt,it.sibling),vt=M(it,ht.children||[]),vt.return=rt,rt=vt;break t}else{g(rt,it);break}else d(rt,it);it=it.sibling}vt=eC(ht,rt.mode,vt),vt.return=rt,rt=vt}return B(rt);case D:return Bt=ht._init,ht=Bt(ht._payload),Bi(rt,it,ht,vt)}if(tt(ht))return Ft(rt,it,ht,vt);if(E(ht)){if(Bt=E(ht),typeof Bt!="function")throw Error(n(150));return ht=Bt.call(ht),te(rt,it,ht,vt)}if(typeof ht.then=="function")return Bi(rt,it,Pv(ht),vt);if(ht.$$typeof===y)return Bi(rt,it,qv(rt,ht),vt);Bv(rt,ht)}return typeof ht=="string"&&ht!==""||typeof ht=="number"||typeof ht=="bigint"?(ht=""+ht,it!==null&&it.tag===6?(g(rt,it.sibling),vt=M(it,ht),vt.return=rt,rt=vt):(g(rt,it),vt=tC(ht,rt.mode,vt),vt.return=rt,rt=vt),B(rt)):g(rt,it)}return function(rt,it,ht,vt){try{Py=0;var Bt=Bi(rt,it,ht,vt);return Zp=null,Bt}catch(Ht){if(Ht===Oy)throw Ht;var ce=po(29,Ht,null,rt.mode);return ce.lanes=vt,ce.return=rt,ce}finally{}}}var Yh=gP(!0),yP=gP(!1),qp=ut(null),zv=ut(0);function mP(u,d){u=Zl,ot(zv,u),ot(qp,d),Zl=u|d.baseLanes}function rT(){ot(zv,Zl),ot(qp,qp.current)}function lT(){Zl=zv.current,pt(qp),pt(zv)}var co=ut(null),Vr=null;function lu(u){var d=u.alternate;ot(Tn,Tn.current&1),ot(co,u),Vr===null&&(d===null||qp.current!==null||d.memoizedState!==null)&&(Vr=u)}function xP(u){if(u.tag===22){if(ot(Tn,Tn.current),ot(co,u),Vr===null){var d=u.alternate;d!==null&&d.memoizedState!==null&&(Vr=u)}}else cu()}function cu(){ot(Tn,Tn.current),ot(co,co.current)}function Fl(u){pt(co),Vr===u&&(Vr=null),pt(Tn)}var Tn=ut(0);function _v(u){for(var d=u;d!==null;){if(d.tag===13){var g=d.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if(d.flags&128)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===u)break;for(;d.sibling===null;){if(d.return===null||d.return===u)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var aX=typeof AbortController<"u"?AbortController:function(){var u=[],d=this.signal={aborted:!1,addEventListener:function(g,x){u.push(x)}};this.abort=function(){d.aborted=!0,u.forEach(function(g){return g()})}},oX=t.unstable_scheduleCallback,rX=t.unstable_NormalPriority,Cn={$$typeof:y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cT(){return{controller:new aX,data:new Map,refCount:0}}function zy(u){u.refCount--,u.refCount===0&&oX(rX,function(){u.controller.abort()})}var _y=null,uT=0,Qp=0,Jp=null;function lX(u,d){if(_y===null){var g=_y=[];uT=0,Qp=yC(),Jp={status:"pending",value:void 0,then:function(x){g.push(x)}}}return uT++,d.then(bP,bP),d}function bP(){if(--uT===0&&_y!==null){Jp!==null&&(Jp.status="fulfilled");var u=_y;_y=null,Qp=0,Jp=null;for(var d=0;d<u.length;d++)(0,u[d])()}}function cX(u,d){var g=[],x={status:"pending",value:null,reason:null,then:function(M){g.push(M)}};return u.then(function(){x.status="fulfilled",x.value=d;for(var M=0;M<g.length;M++)(0,g[M])(d)},function(M){for(x.status="rejected",x.reason=M,M=0;M<g.length;M++)(0,g[M])(void 0)}),x}var vP=O.S;O.S=function(u,d){typeof d=="object"&&d!==null&&typeof d.then=="function"&&lX(u,d),vP!==null&&vP(u,d)};var $h=ut(null);function hT(){var u=$h.current;return u!==null?u:li.pooledCache}function jv(u,d){d===null?ot($h,$h.current):ot($h,d.pool)}function SP(){var u=hT();return u===null?null:{parent:Cn._currentValue,pool:u}}var uu=0,oe=null,$e=null,un=null,Fv=!1,tf=!1,Kh=!1,Gv=0,jy=0,ef=null,uX=0;function Hi(){throw Error(n(321))}function dT(u,d){if(d===null)return!1;for(var g=0;g<d.length&&g<u.length;g++)if(!Na(u[g],d[g]))return!1;return!0}function pT(u,d,g,x,M,C){return uu=C,oe=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,O.H=u===null||u.memoizedState===null?Xh:hu,Kh=!1,C=g(x,M),Kh=!1,tf&&(C=AP(d,g,x,M)),MP(u),C}function MP(u){O.H=Ur;var d=$e!==null&&$e.next!==null;if(uu=0,un=$e=oe=null,Fv=!1,jy=0,ef=null,d)throw Error(n(300));u===null||_n||(u=u.dependencies,u!==null&&Zv(u)&&(_n=!0))}function AP(u,d,g,x){oe=u;var M=0;do{if(tf&&(ef=null),jy=0,tf=!1,25<=M)throw Error(n(301));if(M+=1,un=$e=null,u.updateQueue!=null){var C=u.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}O.H=Zh,C=d(g,x)}while(tf);return C}function hX(){var u=O.H,d=u.useState()[0];return d=typeof d.then=="function"?Fy(d):d,u=u.useState()[0],($e!==null?$e.memoizedState:null)!==u&&(oe.flags|=1024),d}function fT(){var u=Gv!==0;return Gv=0,u}function gT(u,d,g){d.updateQueue=u.updateQueue,d.flags&=-2053,u.lanes&=~g}function yT(u){if(Fv){for(u=u.memoizedState;u!==null;){var d=u.queue;d!==null&&(d.pending=null),u=u.next}Fv=!1}uu=0,un=$e=oe=null,tf=!1,jy=Gv=0,ef=null}function ua(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return un===null?oe.memoizedState=un=u:un=un.next=u,un}function hn(){if($e===null){var u=oe.alternate;u=u!==null?u.memoizedState:null}else u=$e.next;var d=un===null?oe.memoizedState:un.next;if(d!==null)un=d,$e=u;else{if(u===null)throw oe.alternate===null?Error(n(467)):Error(n(310));$e=u,u={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},un===null?oe.memoizedState=un=u:un=un.next=u}return un}var Vv;Vv=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Fy(u){var d=jy;return jy+=1,ef===null&&(ef=[]),u=dP(ef,u,d),d=oe,(un===null?d.memoizedState:un.next)===null&&(d=d.alternate,O.H=d===null||d.memoizedState===null?Xh:hu),u}function Uv(u){if(u!==null&&typeof u=="object"){if(typeof u.then=="function")return Fy(u);if(u.$$typeof===y)return ms(u)}throw Error(n(438,String(u)))}function mT(u){var d=null,g=oe.updateQueue;if(g!==null&&(d=g.memoCache),d==null){var x=oe.alternate;x!==null&&(x=x.updateQueue,x!==null&&(x=x.memoCache,x!=null&&(d={data:x.data.map(function(M){return M.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),g===null&&(g=Vv(),oe.updateQueue=g),g.memoCache=d,g=d.data[d.index],g===void 0)for(g=d.data[d.index]=Array(u),x=0;x<u;x++)g[x]=T;return d.index++,g}function Gl(u,d){return typeof d=="function"?d(u):d}function Hv(u){var d=hn();return xT(d,$e,u)}function xT(u,d,g){var x=u.queue;if(x===null)throw Error(n(311));x.lastRenderedReducer=g;var M=u.baseQueue,C=x.pending;if(C!==null){if(M!==null){var B=M.next;M.next=C.next,C.next=B}d.baseQueue=M=C,x.pending=null}if(C=u.baseState,M===null)u.memoizedState=C;else{d=M.next;var Y=B=null,et=null,st=d,mt=!1;do{var At=st.lane&-536870913;if(At!==st.lane?(Se&At)===At:(uu&At)===At){var dt=st.revertLane;if(dt===0)et!==null&&(et=et.next={lane:0,revertLane:0,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null}),At===Qp&&(mt=!0);else if((uu&dt)===dt){st=st.next,dt===Qp&&(mt=!0);continue}else At={lane:0,revertLane:st.revertLane,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null},et===null?(Y=et=At,B=C):et=et.next=At,oe.lanes|=dt,vu|=dt;At=st.action,Kh&&g(C,At),C=st.hasEagerState?st.eagerState:g(C,At)}else dt={lane:At,revertLane:st.revertLane,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null},et===null?(Y=et=dt,B=C):et=et.next=dt,oe.lanes|=At,vu|=At;st=st.next}while(st!==null&&st!==d);if(et===null?B=C:et.next=Y,!Na(C,u.memoizedState)&&(_n=!0,mt&&(g=Jp,g!==null)))throw g;u.memoizedState=C,u.baseState=B,u.baseQueue=et,x.lastRenderedState=C}return M===null&&(x.lanes=0),[u.memoizedState,x.dispatch]}function bT(u){var d=hn(),g=d.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=u;var x=g.dispatch,M=g.pending,C=d.memoizedState;if(M!==null){g.pending=null;var B=M=M.next;do C=u(C,B.action),B=B.next;while(B!==M);Na(C,d.memoizedState)||(_n=!0),d.memoizedState=C,d.baseQueue===null&&(d.baseState=C),g.lastRenderedState=C}return[C,x]}function DP(u,d,g){var x=oe,M=hn(),C=Ee;if(C){if(g===void 0)throw Error(n(407));g=g()}else g=d();var B=!Na(($e||M).memoizedState,g);if(B&&(M.memoizedState=g,_n=!0),M=M.queue,MT(CP.bind(null,x,M,u),[u]),M.getSnapshot!==d||B||un!==null&&un.memoizedState.tag&1){if(x.flags|=2048,nf(9,TP.bind(null,x,M,g,d),{destroy:void 0},null),li===null)throw Error(n(349));C||uu&60||IP(x,d,g)}return g}function IP(u,d,g){u.flags|=16384,u={getSnapshot:d,value:g},d=oe.updateQueue,d===null?(d=Vv(),oe.updateQueue=d,d.stores=[u]):(g=d.stores,g===null?d.stores=[u]:g.push(u))}function TP(u,d,g,x){d.value=g,d.getSnapshot=x,kP(d)&&LP(u)}function CP(u,d,g){return g(function(){kP(d)&&LP(u)})}function kP(u){var d=u.getSnapshot;u=u.value;try{var g=d();return!Na(u,g)}catch{return!0}}function LP(u){var d=ru(u,2);d!==null&&Us(d,u,2)}function vT(u){var d=ua();if(typeof u=="function"){var g=u;if(u=g(),Kh){_t(!0);try{g()}finally{_t(!1)}}}return d.memoizedState=d.baseState=u,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gl,lastRenderedState:u},d}function NP(u,d,g,x){return u.baseState=g,xT(u,$e,typeof x=="function"?x:Gl)}function dX(u,d,g,x,M){if($v(u))throw Error(n(485));if(u=d.action,u!==null){var C={payload:M,action:u,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(B){C.listeners.push(B)}};O.T!==null?g(!0):C.isTransition=!1,x(C),g=d.pending,g===null?(C.next=d.pending=C,EP(d,C)):(C.next=g.next,d.pending=g.next=C)}}function EP(u,d){var g=d.action,x=d.payload,M=u.state;if(d.isTransition){var C=O.T,B={};O.T=B;try{var Y=g(M,x),et=O.S;et!==null&&et(B,Y),wP(u,d,Y)}catch(st){ST(u,d,st)}finally{O.T=C}}else try{C=g(M,x),wP(u,d,C)}catch(st){ST(u,d,st)}}function wP(u,d,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(x){OP(u,d,x)},function(x){return ST(u,d,x)}):OP(u,d,g)}function OP(u,d,g){d.status="fulfilled",d.value=g,RP(d),u.state=g,d=u.pending,d!==null&&(g=d.next,g===d?u.pending=null:(g=g.next,d.next=g,EP(u,g)))}function ST(u,d,g){var x=u.pending;if(u.pending=null,x!==null){x=x.next;do d.status="rejected",d.reason=g,RP(d),d=d.next;while(d!==x)}u.action=null}function RP(u){u=u.listeners;for(var d=0;d<u.length;d++)(0,u[d])()}function PP(u,d){return d}function BP(u,d){if(Ee){var g=li.formState;if(g!==null){t:{var x=oe;if(Ee){if(Jn){e:{for(var M=Jn,C=Gr;M.nodeType!==8;){if(!C){M=null;break e}if(M=nr(M.nextSibling),M===null){M=null;break e}}C=M.data,M=C==="F!"||C==="F"?M:null}if(M){Jn=nr(M.nextSibling),x=M.data==="F!";break t}}Wh(x)}x=!1}x&&(d=g[0])}}return g=ua(),g.memoizedState=g.baseState=d,x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:PP,lastRenderedState:d},g.queue=x,g=tB.bind(null,oe,x),x.dispatch=g,x=vT(!1),C=CT.bind(null,oe,!1,x.queue),x=ua(),M={state:d,dispatch:null,action:u,pending:null},x.queue=M,g=dX.bind(null,oe,M,C,g),M.dispatch=g,x.memoizedState=u,[d,g,!1]}function zP(u){var d=hn();return _P(d,$e,u)}function _P(u,d,g){d=xT(u,d,PP)[0],u=Hv(Gl)[0],d=typeof d=="object"&&d!==null&&typeof d.then=="function"?Fy(d):d;var x=hn(),M=x.queue,C=M.dispatch;return g!==x.memoizedState&&(oe.flags|=2048,nf(9,pX.bind(null,M,g),{destroy:void 0},null)),[d,C,u]}function pX(u,d){u.action=d}function jP(u){var d=hn(),g=$e;if(g!==null)return _P(d,g,u);hn(),d=d.memoizedState,g=hn();var x=g.queue.dispatch;return g.memoizedState=u,[d,x,!1]}function nf(u,d,g,x){return u={tag:u,create:d,inst:g,deps:x,next:null},d=oe.updateQueue,d===null&&(d=Vv(),oe.updateQueue=d),g=d.lastEffect,g===null?d.lastEffect=u.next=u:(x=g.next,g.next=u,u.next=x,d.lastEffect=u),u}function FP(){return hn().memoizedState}function Wv(u,d,g,x){var M=ua();oe.flags|=u,M.memoizedState=nf(1|d,g,{destroy:void 0},x===void 0?null:x)}function Yv(u,d,g,x){var M=hn();x=x===void 0?null:x;var C=M.memoizedState.inst;$e!==null&&x!==null&&dT(x,$e.memoizedState.deps)?M.memoizedState=nf(d,g,C,x):(oe.flags|=u,M.memoizedState=nf(1|d,g,C,x))}function GP(u,d){Wv(8390656,8,u,d)}function MT(u,d){Yv(2048,8,u,d)}function VP(u,d){return Yv(4,2,u,d)}function UP(u,d){return Yv(4,4,u,d)}function HP(u,d){if(typeof d=="function"){u=u();var g=d(u);return function(){typeof g=="function"?g():d(null)}}if(d!=null)return u=u(),d.current=u,function(){d.current=null}}function WP(u,d,g){g=g!=null?g.concat([u]):null,Yv(4,4,HP.bind(null,d,u),g)}function AT(){}function YP(u,d){var g=hn();d=d===void 0?null:d;var x=g.memoizedState;return d!==null&&dT(d,x[1])?x[0]:(g.memoizedState=[u,d],u)}function $P(u,d){var g=hn();d=d===void 0?null:d;var x=g.memoizedState;if(d!==null&&dT(d,x[1]))return x[0];if(x=u(),Kh){_t(!0);try{u()}finally{_t(!1)}}return g.memoizedState=[x,d],x}function DT(u,d,g){return g===void 0||uu&1073741824?u.memoizedState=d:(u.memoizedState=g,u=XB(),oe.lanes|=u,vu|=u,g)}function KP(u,d,g,x){return Na(g,d)?g:qp.current!==null?(u=DT(u,g,x),Na(u,d)||(_n=!0),u):uu&42?(u=XB(),oe.lanes|=u,vu|=u,d):(_n=!0,u.memoizedState=g)}function XP(u,d,g,x,M){var C=J.p;J.p=C!==0&&8>C?C:8;var B=O.T,Y={};O.T=Y,CT(u,!1,d,g);try{var et=M(),st=O.S;if(st!==null&&st(Y,et),et!==null&&typeof et=="object"&&typeof et.then=="function"){var mt=cX(et,x);Gy(u,d,mt,Ra(u))}else Gy(u,d,x,Ra(u))}catch(At){Gy(u,d,{then:function(){},status:"rejected",reason:At},Ra())}finally{J.p=C,O.T=B}}function fX(){}function IT(u,d,g,x){if(u.tag!==5)throw Error(n(476));var M=ZP(u).queue;XP(u,M,d,nt,g===null?fX:function(){return qP(u),g(x)})}function ZP(u){var d=u.memoizedState;if(d!==null)return d;d={memoizedState:nt,baseState:nt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gl,lastRenderedState:nt},next:null};var g={};return d.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gl,lastRenderedState:g},next:null},u.memoizedState=d,u=u.alternate,u!==null&&(u.memoizedState=d),d}function qP(u){var d=ZP(u).next.queue;Gy(u,d,{},Ra())}function TT(){return ms(rm)}function QP(){return hn().memoizedState}function JP(){return hn().memoizedState}function gX(u){for(var d=u.return;d!==null;){switch(d.tag){case 24:case 3:var g=Ra();u=fu(g);var x=gu(d,u,g);x!==null&&(Us(x,d,g),Hy(x,d,g)),d={cache:cT()},u.payload=d;return}d=d.return}}function yX(u,d,g){var x=Ra();g={lane:x,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null},$v(u)?eB(d,g):(g=iT(u,d,g,x),g!==null&&(Us(g,u,x),iB(g,d,x)))}function tB(u,d,g){var x=Ra();Gy(u,d,g,x)}function Gy(u,d,g,x){var M={lane:x,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null};if($v(u))eB(d,M);else{var C=u.alternate;if(u.lanes===0&&(C===null||C.lanes===0)&&(C=d.lastRenderedReducer,C!==null))try{var B=d.lastRenderedState,Y=C(B,g);if(M.hasEagerState=!0,M.eagerState=Y,Na(Y,B))return Nv(u,d,M,0),li===null&&Lv(),!1}catch{}finally{}if(g=iT(u,d,M,x),g!==null)return Us(g,u,x),iB(g,d,x),!0}return!1}function CT(u,d,g,x){if(x={lane:2,revertLane:yC(),action:x,hasEagerState:!1,eagerState:null,next:null},$v(u)){if(d)throw Error(n(479))}else d=iT(u,g,x,2),d!==null&&Us(d,u,2)}function $v(u){var d=u.alternate;return u===oe||d!==null&&d===oe}function eB(u,d){tf=Fv=!0;var g=u.pending;g===null?d.next=d:(d.next=g.next,g.next=d),u.pending=d}function iB(u,d,g){if(g&4194176){var x=d.lanes;x&=u.pendingLanes,g|=x,d.lanes=g,p2(u,g)}}var Ur={readContext:ms,use:Uv,useCallback:Hi,useContext:Hi,useEffect:Hi,useImperativeHandle:Hi,useLayoutEffect:Hi,useInsertionEffect:Hi,useMemo:Hi,useReducer:Hi,useRef:Hi,useState:Hi,useDebugValue:Hi,useDeferredValue:Hi,useTransition:Hi,useSyncExternalStore:Hi,useId:Hi};Ur.useCacheRefresh=Hi,Ur.useMemoCache=Hi,Ur.useHostTransitionStatus=Hi,Ur.useFormState=Hi,Ur.useActionState=Hi,Ur.useOptimistic=Hi;var Xh={readContext:ms,use:Uv,useCallback:function(u,d){return ua().memoizedState=[u,d===void 0?null:d],u},useContext:ms,useEffect:GP,useImperativeHandle:function(u,d,g){g=g!=null?g.concat([u]):null,Wv(4194308,4,HP.bind(null,d,u),g)},useLayoutEffect:function(u,d){return Wv(4194308,4,u,d)},useInsertionEffect:function(u,d){Wv(4,2,u,d)},useMemo:function(u,d){var g=ua();d=d===void 0?null:d;var x=u();if(Kh){_t(!0);try{u()}finally{_t(!1)}}return g.memoizedState=[x,d],x},useReducer:function(u,d,g){var x=ua();if(g!==void 0){var M=g(d);if(Kh){_t(!0);try{g(d)}finally{_t(!1)}}}else M=d;return x.memoizedState=x.baseState=M,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:M},x.queue=u,u=u.dispatch=yX.bind(null,oe,u),[x.memoizedState,u]},useRef:function(u){var d=ua();return u={current:u},d.memoizedState=u},useState:function(u){u=vT(u);var d=u.queue,g=tB.bind(null,oe,d);return d.dispatch=g,[u.memoizedState,g]},useDebugValue:AT,useDeferredValue:function(u,d){var g=ua();return DT(g,u,d)},useTransition:function(){var u=vT(!1);return u=XP.bind(null,oe,u.queue,!0,!1),ua().memoizedState=u,[!1,u]},useSyncExternalStore:function(u,d,g){var x=oe,M=ua();if(Ee){if(g===void 0)throw Error(n(407));g=g()}else{if(g=d(),li===null)throw Error(n(349));Se&60||IP(x,d,g)}M.memoizedState=g;var C={value:g,getSnapshot:d};return M.queue=C,GP(CP.bind(null,x,C,u),[u]),x.flags|=2048,nf(9,TP.bind(null,x,C,g,d),{destroy:void 0},null),g},useId:function(){var u=ua(),d=li.identifierPrefix;if(Ee){var g=jl,x=_l;g=(x&~(1<<32-ee(x)-1)).toString(32)+g,d=":"+d+"R"+g,g=Gv++,0<g&&(d+="H"+g.toString(32)),d+=":"}else g=uX++,d=":"+d+"r"+g.toString(32)+":";return u.memoizedState=d},useCacheRefresh:function(){return ua().memoizedState=gX.bind(null,oe)}};Xh.useMemoCache=mT,Xh.useHostTransitionStatus=TT,Xh.useFormState=BP,Xh.useActionState=BP,Xh.useOptimistic=function(u){var d=ua();d.memoizedState=d.baseState=u;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=g,d=CT.bind(null,oe,!0,g),g.dispatch=d,[u,d]};var hu={readContext:ms,use:Uv,useCallback:YP,useContext:ms,useEffect:MT,useImperativeHandle:WP,useInsertionEffect:VP,useLayoutEffect:UP,useMemo:$P,useReducer:Hv,useRef:FP,useState:function(){return Hv(Gl)},useDebugValue:AT,useDeferredValue:function(u,d){var g=hn();return KP(g,$e.memoizedState,u,d)},useTransition:function(){var u=Hv(Gl)[0],d=hn().memoizedState;return[typeof u=="boolean"?u:Fy(u),d]},useSyncExternalStore:DP,useId:QP};hu.useCacheRefresh=JP,hu.useMemoCache=mT,hu.useHostTransitionStatus=TT,hu.useFormState=zP,hu.useActionState=zP,hu.useOptimistic=function(u,d){var g=hn();return NP(g,$e,u,d)};var Zh={readContext:ms,use:Uv,useCallback:YP,useContext:ms,useEffect:MT,useImperativeHandle:WP,useInsertionEffect:VP,useLayoutEffect:UP,useMemo:$P,useReducer:bT,useRef:FP,useState:function(){return bT(Gl)},useDebugValue:AT,useDeferredValue:function(u,d){var g=hn();return $e===null?DT(g,u,d):KP(g,$e.memoizedState,u,d)},useTransition:function(){var u=bT(Gl)[0],d=hn().memoizedState;return[typeof u=="boolean"?u:Fy(u),d]},useSyncExternalStore:DP,useId:QP};Zh.useCacheRefresh=JP,Zh.useMemoCache=mT,Zh.useHostTransitionStatus=TT,Zh.useFormState=jP,Zh.useActionState=jP,Zh.useOptimistic=function(u,d){var g=hn();return $e!==null?NP(g,$e,u,d):(g.baseState=u,[u,g.queue.dispatch])};function kT(u,d,g,x){d=u.memoizedState,g=g(x,d),g=g==null?d:L({},d,g),u.memoizedState=g,u.lanes===0&&(u.updateQueue.baseState=g)}var LT={isMounted:function(u){return(u=u._reactInternals)?K(u)===u:!1},enqueueSetState:function(u,d,g){u=u._reactInternals;var x=Ra(),M=fu(x);M.payload=d,g!=null&&(M.callback=g),d=gu(u,M,x),d!==null&&(Us(d,u,x),Hy(d,u,x))},enqueueReplaceState:function(u,d,g){u=u._reactInternals;var x=Ra(),M=fu(x);M.tag=1,M.payload=d,g!=null&&(M.callback=g),d=gu(u,M,x),d!==null&&(Us(d,u,x),Hy(d,u,x))},enqueueForceUpdate:function(u,d){u=u._reactInternals;var g=Ra(),x=fu(g);x.tag=2,d!=null&&(x.callback=d),d=gu(u,x,g),d!==null&&(Us(d,u,g),Hy(d,u,g))}};function nB(u,d,g,x,M,C,B){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(x,C,B):d.prototype&&d.prototype.isPureReactComponent?!ky(g,x)||!ky(M,C):!0}function sB(u,d,g,x){u=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(g,x),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(g,x),d.state!==u&&LT.enqueueReplaceState(d,d.state,null)}function qh(u,d){var g=d;if("ref"in d){g={};for(var x in d)x!=="ref"&&(g[x]=d[x])}if(u=u.defaultProps){g===d&&(g=L({},g));for(var M in u)g[M]===void 0&&(g[M]=u[M])}return g}var Kv=typeof reportError=="function"?reportError:function(u){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof u=="object"&&u!==null&&typeof u.message=="string"?String(u.message):String(u),error:u});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",u);return}console.error(u)};function aB(u){Kv(u)}function oB(u){console.error(u)}function rB(u){Kv(u)}function Xv(u,d){try{var g=u.onUncaughtError;g(d.value,{componentStack:d.stack})}catch(x){setTimeout(function(){throw x})}}function lB(u,d,g){try{var x=u.onCaughtError;x(g.value,{componentStack:g.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(M){setTimeout(function(){throw M})}}function NT(u,d,g){return g=fu(g),g.tag=3,g.payload={element:null},g.callback=function(){Xv(u,d)},g}function cB(u){return u=fu(u),u.tag=3,u}function uB(u,d,g,x){var M=g.type.getDerivedStateFromError;if(typeof M=="function"){var C=x.value;u.payload=function(){return M(C)},u.callback=function(){lB(d,g,x)}}var B=g.stateNode;B!==null&&typeof B.componentDidCatch=="function"&&(u.callback=function(){lB(d,g,x),typeof M!="function"&&(Su===null?Su=new Set([this]):Su.add(this));var Y=x.stack;this.componentDidCatch(x.value,{componentStack:Y!==null?Y:""})})}function mX(u,d,g,x,M){if(g.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){if(d=g.alternate,d!==null&&Uy(d,g,M,!0),g=co.current,g!==null){switch(g.tag){case 13:return Vr===null?hC():g.alternate===null&&Pi===0&&(Pi=3),g.flags&=-257,g.flags|=65536,g.lanes=M,x===oT?g.flags|=16384:(d=g.updateQueue,d===null?g.updateQueue=new Set([x]):d.add(x),pC(u,x,M)),!1;case 22:return g.flags|=65536,x===oT?g.flags|=16384:(d=g.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([x])},g.updateQueue=d):(g=d.retryQueue,g===null?d.retryQueue=new Set([x]):g.add(x)),pC(u,x,M)),!1}throw Error(n(435,g.tag))}return pC(u,x,M),hC(),!1}if(Ee)return d=co.current,d!==null?(!(d.flags&65536)&&(d.flags|=256),d.flags|=65536,d.lanes=M,x!==aT&&(u=Error(n(422),{cause:x}),wy(oo(u,g)))):(x!==aT&&(d=Error(n(423),{cause:x}),wy(oo(d,g))),u=u.current.alternate,u.flags|=65536,M&=-M,u.lanes|=M,x=oo(x,g),M=NT(u.stateNode,x,M),WT(u,M),Pi!==4&&(Pi=2)),!1;var C=Error(n(520),{cause:x});if(C=oo(C,g),Qy===null?Qy=[C]:Qy.push(C),Pi!==4&&(Pi=2),d===null)return!0;x=oo(x,g),g=d;do{switch(g.tag){case 3:return g.flags|=65536,u=M&-M,g.lanes|=u,u=NT(g.stateNode,x,u),WT(g,u),!1;case 1:if(d=g.type,C=g.stateNode,(g.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Su===null||!Su.has(C))))return g.flags|=65536,M&=-M,g.lanes|=M,M=cB(M),uB(M,u,g,x),WT(g,M),!1}g=g.return}while(g!==null);return!1}var hB=Error(n(461)),_n=!1;function ts(u,d,g,x){d.child=u===null?yP(d,null,g,x):Yh(d,u.child,g,x)}function dB(u,d,g,x,M){g=g.render;var C=d.ref;if("ref"in x){var B={};for(var Y in x)Y!=="ref"&&(B[Y]=x[Y])}else B=x;return Jh(d),x=pT(u,d,g,B,C,M),Y=fT(),u!==null&&!_n?(gT(u,d,M),Vl(u,d,M)):(Ee&&Y&&nT(d),d.flags|=1,ts(u,d,x,M),d.child)}function pB(u,d,g,x,M){if(u===null){var C=g.type;return typeof C=="function"&&!JT(C)&&C.defaultProps===void 0&&g.compare===null?(d.tag=15,d.type=C,fB(u,d,C,x,M)):(u=t0(g.type,null,x,d,d.mode,M),u.ref=d.ref,u.return=d,d.child=u)}if(C=u.child,!jT(u,M)){var B=C.memoizedProps;if(g=g.compare,g=g!==null?g:ky,g(B,x)&&u.ref===d.ref)return Vl(u,d,M)}return d.flags|=1,u=bu(C,x),u.ref=d.ref,u.return=d,d.child=u}function fB(u,d,g,x,M){if(u!==null){var C=u.memoizedProps;if(ky(C,x)&&u.ref===d.ref)if(_n=!1,d.pendingProps=x=C,jT(u,M))u.flags&131072&&(_n=!0);else return d.lanes=u.lanes,Vl(u,d,M)}return ET(u,d,g,x,M)}function gB(u,d,g){var x=d.pendingProps,M=x.children,C=(d.stateNode._pendingVisibility&2)!==0,B=u!==null?u.memoizedState:null;if(Vy(u,d),x.mode==="hidden"||C){if(d.flags&128){if(x=B!==null?B.baseLanes|g:g,u!==null){for(M=d.child=u.child,C=0;M!==null;)C=C|M.lanes|M.childLanes,M=M.sibling;d.childLanes=C&~x}else d.childLanes=0,d.child=null;return yB(u,d,x,g)}if(g&536870912)d.memoizedState={baseLanes:0,cachePool:null},u!==null&&jv(d,B!==null?B.cachePool:null),B!==null?mP(d,B):rT(),xP(d);else return d.lanes=d.childLanes=536870912,yB(u,d,B!==null?B.baseLanes|g:g,g)}else B!==null?(jv(d,B.cachePool),mP(d,B),cu(),d.memoizedState=null):(u!==null&&jv(d,null),rT(),cu());return ts(u,d,M,g),d.child}function yB(u,d,g,x){var M=hT();return M=M===null?null:{parent:Cn._currentValue,pool:M},d.memoizedState={baseLanes:g,cachePool:M},u!==null&&jv(d,null),rT(),xP(d),u!==null&&Uy(u,d,x,!0),null}function Vy(u,d){var g=d.ref;if(g===null)u!==null&&u.ref!==null&&(d.flags|=2097664);else{if(typeof g!="function"&&typeof g!="object")throw Error(n(284));(u===null||u.ref!==g)&&(d.flags|=2097664)}}function ET(u,d,g,x,M){return Jh(d),g=pT(u,d,g,x,void 0,M),x=fT(),u!==null&&!_n?(gT(u,d,M),Vl(u,d,M)):(Ee&&x&&nT(d),d.flags|=1,ts(u,d,g,M),d.child)}function mB(u,d,g,x,M,C){return Jh(d),d.updateQueue=null,g=AP(d,x,g,M),MP(u),x=fT(),u!==null&&!_n?(gT(u,d,C),Vl(u,d,C)):(Ee&&x&&nT(d),d.flags|=1,ts(u,d,g,C),d.child)}function xB(u,d,g,x,M){if(Jh(d),d.stateNode===null){var C=$p,B=g.contextType;typeof B=="object"&&B!==null&&(C=ms(B)),C=new g(x,C),d.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=LT,d.stateNode=C,C._reactInternals=d,C=d.stateNode,C.props=x,C.state=d.memoizedState,C.refs={},UT(d),B=g.contextType,C.context=typeof B=="object"&&B!==null?ms(B):$p,C.state=d.memoizedState,B=g.getDerivedStateFromProps,typeof B=="function"&&(kT(d,g,B,x),C.state=d.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(B=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),B!==C.state&&LT.enqueueReplaceState(C,C.state,null),Yy(d,x,C,M),Wy(),C.state=d.memoizedState),typeof C.componentDidMount=="function"&&(d.flags|=4194308),x=!0}else if(u===null){C=d.stateNode;var Y=d.memoizedProps,et=qh(g,Y);C.props=et;var st=C.context,mt=g.contextType;B=$p,typeof mt=="object"&&mt!==null&&(B=ms(mt));var At=g.getDerivedStateFromProps;mt=typeof At=="function"||typeof C.getSnapshotBeforeUpdate=="function",Y=d.pendingProps!==Y,mt||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(Y||st!==B)&&sB(d,C,x,B),pu=!1;var dt=d.memoizedState;C.state=dt,Yy(d,x,C,M),Wy(),st=d.memoizedState,Y||dt!==st||pu?(typeof At=="function"&&(kT(d,g,At,x),st=d.memoizedState),(et=pu||nB(d,g,et,x,dt,st,B))?(mt||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(d.flags|=4194308)):(typeof C.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=x,d.memoizedState=st),C.props=x,C.state=st,C.context=B,x=et):(typeof C.componentDidMount=="function"&&(d.flags|=4194308),x=!1)}else{C=d.stateNode,HT(u,d),B=d.memoizedProps,mt=qh(g,B),C.props=mt,At=d.pendingProps,dt=C.context,st=g.contextType,et=$p,typeof st=="object"&&st!==null&&(et=ms(st)),Y=g.getDerivedStateFromProps,(st=typeof Y=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(B!==At||dt!==et)&&sB(d,C,x,et),pu=!1,dt=d.memoizedState,C.state=dt,Yy(d,x,C,M),Wy();var yt=d.memoizedState;B!==At||dt!==yt||pu||u!==null&&u.dependencies!==null&&Zv(u.dependencies)?(typeof Y=="function"&&(kT(d,g,Y,x),yt=d.memoizedState),(mt=pu||nB(d,g,mt,x,dt,yt,et)||u!==null&&u.dependencies!==null&&Zv(u.dependencies))?(st||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(x,yt,et),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(x,yt,et)),typeof C.componentDidUpdate=="function"&&(d.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof C.componentDidUpdate!="function"||B===u.memoizedProps&&dt===u.memoizedState||(d.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||B===u.memoizedProps&&dt===u.memoizedState||(d.flags|=1024),d.memoizedProps=x,d.memoizedState=yt),C.props=x,C.state=yt,C.context=et,x=mt):(typeof C.componentDidUpdate!="function"||B===u.memoizedProps&&dt===u.memoizedState||(d.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||B===u.memoizedProps&&dt===u.memoizedState||(d.flags|=1024),x=!1)}return C=x,Vy(u,d),x=(d.flags&128)!==0,C||x?(C=d.stateNode,g=x&&typeof g.getDerivedStateFromError!="function"?null:C.render(),d.flags|=1,u!==null&&x?(d.child=Yh(d,u.child,null,M),d.child=Yh(d,null,g,M)):ts(u,d,g,M),d.memoizedState=C.state,u=d.child):u=Vl(u,d,M),u}function bB(u,d,g,x){return Ey(),d.flags|=256,ts(u,d,g,x),d.child}var wT={dehydrated:null,treeContext:null,retryLane:0};function OT(u){return{baseLanes:u,cachePool:SP()}}function RT(u,d,g){return u=u!==null?u.childLanes&~g:0,d&&(u|=fo),u}function vB(u,d,g){var x=d.pendingProps,M=!1,C=(d.flags&128)!==0,B;if((B=C)||(B=u!==null&&u.memoizedState===null?!1:(Tn.current&2)!==0),B&&(M=!0,d.flags&=-129),B=(d.flags&32)!==0,d.flags&=-33,u===null){if(Ee){if(M?lu(d):cu(),Ee){var Y=Jn,et;if(et=Y){t:{for(et=Y,Y=Gr;et.nodeType!==8;){if(!Y){Y=null;break t}if(et=nr(et.nextSibling),et===null){Y=null;break t}}Y=et}Y!==null?(d.memoizedState={dehydrated:Y,treeContext:Uh!==null?{id:_l,overflow:jl}:null,retryLane:536870912},et=po(18,null,null,0),et.stateNode=Y,et.return=d,d.child=et,Vs=d,Jn=null,et=!0):et=!1}et||Wh(d)}if(Y=d.memoizedState,Y!==null&&(Y=Y.dehydrated,Y!==null))return Y.data==="$!"?d.lanes=16:d.lanes=536870912,null;Fl(d)}return Y=x.children,x=x.fallback,M?(cu(),M=d.mode,Y=BT({mode:"hidden",children:Y},M),x=ed(x,M,g,null),Y.return=d,x.return=d,Y.sibling=x,d.child=Y,M=d.child,M.memoizedState=OT(g),M.childLanes=RT(u,B,g),d.memoizedState=wT,x):(lu(d),PT(d,Y))}if(et=u.memoizedState,et!==null&&(Y=et.dehydrated,Y!==null)){if(C)d.flags&256?(lu(d),d.flags&=-257,d=zT(u,d,g)):d.memoizedState!==null?(cu(),d.child=u.child,d.flags|=128,d=null):(cu(),M=x.fallback,Y=d.mode,x=BT({mode:"visible",children:x.children},Y),M=ed(M,Y,g,null),M.flags|=2,x.return=d,M.return=d,x.sibling=M,d.child=x,Yh(d,u.child,null,g),x=d.child,x.memoizedState=OT(g),x.childLanes=RT(u,B,g),d.memoizedState=wT,d=M);else if(lu(d),Y.data==="$!"){if(B=Y.nextSibling&&Y.nextSibling.dataset,B)var st=B.dgst;B=st,x=Error(n(419)),x.stack="",x.digest=B,wy({value:x,source:null,stack:null}),d=zT(u,d,g)}else if(_n||Uy(u,d,g,!1),B=(g&u.childLanes)!==0,_n||B){if(B=li,B!==null){if(x=g&-g,x&42)x=1;else switch(x){case 2:x=1;break;case 8:x=4;break;case 32:x=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:x=64;break;case 268435456:x=134217728;break;default:x=0}if(x=x&(B.suspendedLanes|g)?0:x,x!==0&&x!==et.retryLane)throw et.retryLane=x,ru(u,x),Us(B,u,x),hB}Y.data==="$?"||hC(),d=zT(u,d,g)}else Y.data==="$?"?(d.flags|=128,d.child=u.child,d=wX.bind(null,u),Y._reactRetry=d,d=null):(u=et.treeContext,Jn=nr(Y.nextSibling),Vs=d,Ee=!0,er=null,Gr=!1,u!==null&&(ro[lo++]=_l,ro[lo++]=jl,ro[lo++]=Uh,_l=u.id,jl=u.overflow,Uh=d),d=PT(d,x.children),d.flags|=4096);return d}return M?(cu(),M=x.fallback,Y=d.mode,et=u.child,st=et.sibling,x=bu(et,{mode:"hidden",children:x.children}),x.subtreeFlags=et.subtreeFlags&31457280,st!==null?M=bu(st,M):(M=ed(M,Y,g,null),M.flags|=2),M.return=d,x.return=d,x.sibling=M,d.child=x,x=M,M=d.child,Y=u.child.memoizedState,Y===null?Y=OT(g):(et=Y.cachePool,et!==null?(st=Cn._currentValue,et=et.parent!==st?{parent:st,pool:st}:et):et=SP(),Y={baseLanes:Y.baseLanes|g,cachePool:et}),M.memoizedState=Y,M.childLanes=RT(u,B,g),d.memoizedState=wT,x):(lu(d),g=u.child,u=g.sibling,g=bu(g,{mode:"visible",children:x.children}),g.return=d,g.sibling=null,u!==null&&(B=d.deletions,B===null?(d.deletions=[u],d.flags|=16):B.push(u)),d.child=g,d.memoizedState=null,g)}function PT(u,d){return d=BT({mode:"visible",children:d},u.mode),d.return=u,u.child=d}function BT(u,d){return YB(u,d,0,null)}function zT(u,d,g){return Yh(d,u.child,null,g),u=PT(d,d.pendingProps.children),u.flags|=2,d.memoizedState=null,u}function SB(u,d,g){u.lanes|=d;var x=u.alternate;x!==null&&(x.lanes|=d),GT(u.return,d,g)}function _T(u,d,g,x,M){var C=u.memoizedState;C===null?u.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:x,tail:g,tailMode:M}:(C.isBackwards=d,C.rendering=null,C.renderingStartTime=0,C.last=x,C.tail=g,C.tailMode=M)}function MB(u,d,g){var x=d.pendingProps,M=x.revealOrder,C=x.tail;if(ts(u,d,x.children,g),x=Tn.current,x&2)x=x&1|2,d.flags|=128;else{if(u!==null&&u.flags&128)t:for(u=d.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&SB(u,g,d);else if(u.tag===19)SB(u,g,d);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===d)break t;for(;u.sibling===null;){if(u.return===null||u.return===d)break t;u=u.return}u.sibling.return=u.return,u=u.sibling}x&=1}switch(ot(Tn,x),M){case"forwards":for(g=d.child,M=null;g!==null;)u=g.alternate,u!==null&&_v(u)===null&&(M=g),g=g.sibling;g=M,g===null?(M=d.child,d.child=null):(M=g.sibling,g.sibling=null),_T(d,!1,M,g,C);break;case"backwards":for(g=null,M=d.child,d.child=null;M!==null;){if(u=M.alternate,u!==null&&_v(u)===null){d.child=M;break}u=M.sibling,M.sibling=g,g=M,M=u}_T(d,!0,g,null,C);break;case"together":_T(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Vl(u,d,g){if(u!==null&&(d.dependencies=u.dependencies),vu|=d.lanes,!(g&d.childLanes))if(u!==null){if(Uy(u,d,g,!1),(g&d.childLanes)===0)return null}else return null;if(u!==null&&d.child!==u.child)throw Error(n(153));if(d.child!==null){for(u=d.child,g=bu(u,u.pendingProps),d.child=g,g.return=d;u.sibling!==null;)u=u.sibling,g=g.sibling=bu(u,u.pendingProps),g.return=d;g.sibling=null}return d.child}function jT(u,d){return u.lanes&d?!0:(u=u.dependencies,!!(u!==null&&Zv(u)))}function xX(u,d,g){switch(d.tag){case 3:xt(d,d.stateNode.containerInfo),du(d,Cn,u.memoizedState.cache),Ey();break;case 27:case 5:kt(d);break;case 4:xt(d,d.stateNode.containerInfo);break;case 10:du(d,d.type,d.memoizedProps.value);break;case 13:var x=d.memoizedState;if(x!==null)return x.dehydrated!==null?(lu(d),d.flags|=128,null):g&d.child.childLanes?vB(u,d,g):(lu(d),u=Vl(u,d,g),u!==null?u.sibling:null);lu(d);break;case 19:var M=(u.flags&128)!==0;if(x=(g&d.childLanes)!==0,x||(Uy(u,d,g,!1),x=(g&d.childLanes)!==0),M){if(x)return MB(u,d,g);d.flags|=128}if(M=d.memoizedState,M!==null&&(M.rendering=null,M.tail=null,M.lastEffect=null),ot(Tn,Tn.current),x)break;return null;case 22:case 23:return d.lanes=0,gB(u,d,g);case 24:du(d,Cn,u.memoizedState.cache)}return Vl(u,d,g)}function AB(u,d,g){if(u!==null)if(u.memoizedProps!==d.pendingProps)_n=!0;else{if(!jT(u,g)&&!(d.flags&128))return _n=!1,xX(u,d,g);_n=!!(u.flags&131072)}else _n=!1,Ee&&d.flags&1048576&&rP(d,Ov,d.index);switch(d.lanes=0,d.tag){case 16:t:{u=d.pendingProps;var x=d.elementType,M=x._init;if(x=M(x._payload),d.type=x,typeof x=="function")JT(x)?(u=qh(x,u),d.tag=1,d=xB(null,d,x,u,g)):(d.tag=0,d=ET(null,d,x,u,g));else{if(x!=null){if(M=x.$$typeof,M===m){d.tag=11,d=dB(null,d,x,u,g);break t}else if(M===v){d.tag=14,d=pB(null,d,x,u,g);break t}}throw d=R(x)||x,Error(n(306,d,""))}}return d;case 0:return ET(u,d,d.type,d.pendingProps,g);case 1:return x=d.type,M=qh(x,d.pendingProps),xB(u,d,x,M,g);case 3:t:{if(xt(d,d.stateNode.containerInfo),u===null)throw Error(n(387));var C=d.pendingProps;M=d.memoizedState,x=M.element,HT(u,d),Yy(d,C,null,g);var B=d.memoizedState;if(C=B.cache,du(d,Cn,C),C!==M.cache&&VT(d,[Cn],g,!0),Wy(),C=B.element,M.isDehydrated)if(M={element:C,isDehydrated:!1,cache:B.cache},d.updateQueue.baseState=M,d.memoizedState=M,d.flags&256){d=bB(u,d,C,g);break t}else if(C!==x){x=oo(Error(n(424)),d),wy(x),d=bB(u,d,C,g);break t}else for(Jn=nr(d.stateNode.containerInfo.firstChild),Vs=d,Ee=!0,er=null,Gr=!0,g=yP(d,null,C,g),d.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(Ey(),C===x){d=Vl(u,d,g);break t}ts(u,d,C,g)}d=d.child}return d;case 26:return Vy(u,d),u===null?(g=Tz(d.type,null,d.pendingProps,null))?d.memoizedState=g:Ee||(g=d.type,u=d.pendingProps,x=d0(bt.current).createElement(g),x[ys]=d,x[la]=u,es(x,g,u),zn(x),d.stateNode=x):d.memoizedState=Tz(d.type,u.memoizedProps,d.pendingProps,u.memoizedState),null;case 27:return kt(d),u===null&&Ee&&(x=d.stateNode=Az(d.type,d.pendingProps,bt.current),Vs=d,Gr=!0,Jn=nr(x.firstChild)),x=d.pendingProps.children,u!==null||Ee?ts(u,d,x,g):d.child=Yh(d,null,x,g),Vy(u,d),d.child;case 5:return u===null&&Ee&&((M=x=Jn)&&(x=KX(x,d.type,d.pendingProps,Gr),x!==null?(d.stateNode=x,Vs=d,Jn=nr(x.firstChild),Gr=!1,M=!0):M=!1),M||Wh(d)),kt(d),M=d.type,C=d.pendingProps,B=u!==null?u.memoizedProps:null,x=C.children,IC(M,C)?x=null:B!==null&&IC(M,B)&&(d.flags|=32),d.memoizedState!==null&&(M=pT(u,d,hX,null,null,g),rm._currentValue=M),Vy(u,d),ts(u,d,x,g),d.child;case 6:return u===null&&Ee&&((u=g=Jn)&&(g=XX(g,d.pendingProps,Gr),g!==null?(d.stateNode=g,Vs=d,Jn=null,u=!0):u=!1),u||Wh(d)),null;case 13:return vB(u,d,g);case 4:return xt(d,d.stateNode.containerInfo),x=d.pendingProps,u===null?d.child=Yh(d,null,x,g):ts(u,d,x,g),d.child;case 11:return dB(u,d,d.type,d.pendingProps,g);case 7:return ts(u,d,d.pendingProps,g),d.child;case 8:return ts(u,d,d.pendingProps.children,g),d.child;case 12:return ts(u,d,d.pendingProps.children,g),d.child;case 10:return x=d.pendingProps,du(d,d.type,x.value),ts(u,d,x.children,g),d.child;case 9:return M=d.type._context,x=d.pendingProps.children,Jh(d),M=ms(M),x=x(M),d.flags|=1,ts(u,d,x,g),d.child;case 14:return pB(u,d,d.type,d.pendingProps,g);case 15:return fB(u,d,d.type,d.pendingProps,g);case 19:return MB(u,d,g);case 22:return gB(u,d,g);case 24:return Jh(d),x=ms(Cn),u===null?(M=hT(),M===null&&(M=li,C=cT(),M.pooledCache=C,C.refCount++,C!==null&&(M.pooledCacheLanes|=g),M=C),d.memoizedState={parent:x,cache:M},UT(d),du(d,Cn,M)):(u.lanes&g&&(HT(u,d),Yy(d,null,null,g),Wy()),M=u.memoizedState,C=d.memoizedState,M.parent!==x?(M={parent:x,cache:x},d.memoizedState=M,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=M),du(d,Cn,x)):(x=C.cache,du(d,Cn,x),x!==M.cache&&VT(d,[Cn],g,!0))),ts(u,d,d.pendingProps.children,g),d.child;case 29:throw d.pendingProps}throw Error(n(156,d.tag))}var FT=ut(null),Qh=null,Ul=null;function du(u,d,g){ot(FT,d._currentValue),d._currentValue=g}function Hl(u){u._currentValue=FT.current,pt(FT)}function GT(u,d,g){for(;u!==null;){var x=u.alternate;if((u.childLanes&d)!==d?(u.childLanes|=d,x!==null&&(x.childLanes|=d)):x!==null&&(x.childLanes&d)!==d&&(x.childLanes|=d),u===g)break;u=u.return}}function VT(u,d,g,x){var M=u.child;for(M!==null&&(M.return=u);M!==null;){var C=M.dependencies;if(C!==null){var B=M.child;C=C.firstContext;t:for(;C!==null;){var Y=C;C=M;for(var et=0;et<d.length;et++)if(Y.context===d[et]){C.lanes|=g,Y=C.alternate,Y!==null&&(Y.lanes|=g),GT(C.return,g,u),x||(B=null);break t}C=Y.next}}else if(M.tag===18){if(B=M.return,B===null)throw Error(n(341));B.lanes|=g,C=B.alternate,C!==null&&(C.lanes|=g),GT(B,g,u),B=null}else B=M.child;if(B!==null)B.return=M;else for(B=M;B!==null;){if(B===u){B=null;break}if(M=B.sibling,M!==null){M.return=B.return,B=M;break}B=B.return}M=B}}function Uy(u,d,g,x){u=null;for(var M=d,C=!1;M!==null;){if(!C){if(M.flags&524288)C=!0;else if(M.flags&262144)break}if(M.tag===10){var B=M.alternate;if(B===null)throw Error(n(387));if(B=B.memoizedProps,B!==null){var Y=M.type;Na(M.pendingProps.value,B.value)||(u!==null?u.push(Y):u=[Y])}}else if(M===St.current){if(B=M.alternate,B===null)throw Error(n(387));B.memoizedState.memoizedState!==M.memoizedState.memoizedState&&(u!==null?u.push(rm):u=[rm])}M=M.return}u!==null&&VT(d,u,g,x),d.flags|=262144}function Zv(u){for(u=u.firstContext;u!==null;){if(!Na(u.context._currentValue,u.memoizedValue))return!0;u=u.next}return!1}function Jh(u){Qh=u,Ul=null,u=u.dependencies,u!==null&&(u.firstContext=null)}function ms(u){return DB(Qh,u)}function qv(u,d){return Qh===null&&Jh(u),DB(u,d)}function DB(u,d){var g=d._currentValue;if(d={context:d,memoizedValue:g,next:null},Ul===null){if(u===null)throw Error(n(308));Ul=d,u.dependencies={lanes:0,firstContext:d},u.flags|=524288}else Ul=Ul.next=d;return g}var pu=!1;function UT(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function HT(u,d){u=u.updateQueue,d.updateQueue===u&&(d.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,callbacks:null})}function fu(u){return{lane:u,tag:0,payload:null,callback:null,next:null}}function gu(u,d,g){var x=u.updateQueue;if(x===null)return null;if(x=x.shared,Ai&2){var M=x.pending;return M===null?d.next=d:(d.next=M.next,M.next=d),x.pending=d,d=Ev(u),aP(u,null,g),d}return Nv(u,x,d,g),Ev(u)}function Hy(u,d,g){if(d=d.updateQueue,d!==null&&(d=d.shared,(g&4194176)!==0)){var x=d.lanes;x&=u.pendingLanes,g|=x,d.lanes=g,p2(u,g)}}function WT(u,d){var g=u.updateQueue,x=u.alternate;if(x!==null&&(x=x.updateQueue,g===x)){var M=null,C=null;if(g=g.firstBaseUpdate,g!==null){do{var B={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};C===null?M=C=B:C=C.next=B,g=g.next}while(g!==null);C===null?M=C=d:C=C.next=d}else M=C=d;g={baseState:x.baseState,firstBaseUpdate:M,lastBaseUpdate:C,shared:x.shared,callbacks:x.callbacks},u.updateQueue=g;return}u=g.lastBaseUpdate,u===null?g.firstBaseUpdate=d:u.next=d,g.lastBaseUpdate=d}var YT=!1;function Wy(){if(YT){var u=Jp;if(u!==null)throw u}}function Yy(u,d,g,x){YT=!1;var M=u.updateQueue;pu=!1;var C=M.firstBaseUpdate,B=M.lastBaseUpdate,Y=M.shared.pending;if(Y!==null){M.shared.pending=null;var et=Y,st=et.next;et.next=null,B===null?C=st:B.next=st,B=et;var mt=u.alternate;mt!==null&&(mt=mt.updateQueue,Y=mt.lastBaseUpdate,Y!==B&&(Y===null?mt.firstBaseUpdate=st:Y.next=st,mt.lastBaseUpdate=et))}if(C!==null){var At=M.baseState;B=0,mt=st=et=null,Y=C;do{var dt=Y.lane&-536870913,yt=dt!==Y.lane;if(yt?(Se&dt)===dt:(x&dt)===dt){dt!==0&&dt===Qp&&(YT=!0),mt!==null&&(mt=mt.next={lane:0,tag:Y.tag,payload:Y.payload,callback:null,next:null});t:{var Ft=u,te=Y;dt=d;var Bi=g;switch(te.tag){case 1:if(Ft=te.payload,typeof Ft=="function"){At=Ft.call(Bi,At,dt);break t}At=Ft;break t;case 3:Ft.flags=Ft.flags&-65537|128;case 0:if(Ft=te.payload,dt=typeof Ft=="function"?Ft.call(Bi,At,dt):Ft,dt==null)break t;At=L({},At,dt);break t;case 2:pu=!0}}dt=Y.callback,dt!==null&&(u.flags|=64,yt&&(u.flags|=8192),yt=M.callbacks,yt===null?M.callbacks=[dt]:yt.push(dt))}else yt={lane:dt,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},mt===null?(st=mt=yt,et=At):mt=mt.next=yt,B|=dt;if(Y=Y.next,Y===null){if(Y=M.shared.pending,Y===null)break;yt=Y,Y=yt.next,yt.next=null,M.lastBaseUpdate=yt,M.shared.pending=null}}while(!0);mt===null&&(et=At),M.baseState=et,M.firstBaseUpdate=st,M.lastBaseUpdate=mt,C===null&&(M.shared.lanes=0),vu|=B,u.lanes=B,u.memoizedState=At}}function IB(u,d){if(typeof u!="function")throw Error(n(191,u));u.call(d)}function TB(u,d){var g=u.callbacks;if(g!==null)for(u.callbacks=null,u=0;u<g.length;u++)IB(g[u],d)}function $y(u,d){try{var g=d.updateQueue,x=g!==null?g.lastEffect:null;if(x!==null){var M=x.next;g=M;do{if((g.tag&u)===u){x=void 0;var C=g.create,B=g.inst;x=C(),B.destroy=x}g=g.next}while(g!==M)}}catch(Y){ti(d,d.return,Y)}}function yu(u,d,g){try{var x=d.updateQueue,M=x!==null?x.lastEffect:null;if(M!==null){var C=M.next;x=C;do{if((x.tag&u)===u){var B=x.inst,Y=B.destroy;if(Y!==void 0){B.destroy=void 0,M=d;var et=g;try{Y()}catch(st){ti(M,et,st)}}}x=x.next}while(x!==C)}}catch(st){ti(d,d.return,st)}}function CB(u){var d=u.updateQueue;if(d!==null){var g=u.stateNode;try{TB(d,g)}catch(x){ti(u,u.return,x)}}}function kB(u,d,g){g.props=qh(u.type,u.memoizedProps),g.state=u.memoizedState;try{g.componentWillUnmount()}catch(x){ti(u,d,x)}}function td(u,d){try{var g=u.ref;if(g!==null){var x=u.stateNode;switch(u.tag){case 26:case 27:case 5:var M=x;break;default:M=x}typeof g=="function"?u.refCleanup=g(M):g.current=M}}catch(C){ti(u,d,C)}}function Ea(u,d){var g=u.ref,x=u.refCleanup;if(g!==null)if(typeof x=="function")try{x()}catch(M){ti(u,d,M)}finally{u.refCleanup=null,u=u.alternate,u!=null&&(u.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(M){ti(u,d,M)}else g.current=null}function LB(u){var d=u.type,g=u.memoizedProps,x=u.stateNode;try{t:switch(d){case"button":case"input":case"select":case"textarea":g.autoFocus&&x.focus();break t;case"img":g.src?x.src=g.src:g.srcSet&&(x.srcset=g.srcSet)}}catch(M){ti(u,u.return,M)}}function NB(u,d,g){try{var x=u.stateNode;UX(x,u.type,g,d),x[la]=d}catch(M){ti(u,u.return,M)}}function EB(u){return u.tag===5||u.tag===3||u.tag===26||u.tag===27||u.tag===4}function $T(u){t:for(;;){for(;u.sibling===null;){if(u.return===null||EB(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==27&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue t;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function KT(u,d,g){var x=u.tag;if(x===5||x===6)u=u.stateNode,d?g.nodeType===8?g.parentNode.insertBefore(u,d):g.insertBefore(u,d):(g.nodeType===8?(d=g.parentNode,d.insertBefore(u,g)):(d=g,d.appendChild(u)),g=g._reactRootContainer,g!=null||d.onclick!==null||(d.onclick=h0));else if(x!==4&&x!==27&&(u=u.child,u!==null))for(KT(u,d,g),u=u.sibling;u!==null;)KT(u,d,g),u=u.sibling}function Qv(u,d,g){var x=u.tag;if(x===5||x===6)u=u.stateNode,d?g.insertBefore(u,d):g.appendChild(u);else if(x!==4&&x!==27&&(u=u.child,u!==null))for(Qv(u,d,g),u=u.sibling;u!==null;)Qv(u,d,g),u=u.sibling}var Wl=!1,Ri=!1,XT=!1,wB=typeof WeakSet=="function"?WeakSet:Set,jn=null,OB=!1;function bX(u,d){if(u=u.containerInfo,AC=x0,u=Z2(u),qI(u)){if("selectionStart"in u)var g={start:u.selectionStart,end:u.selectionEnd};else t:{g=(g=u.ownerDocument)&&g.defaultView||window;var x=g.getSelection&&g.getSelection();if(x&&x.rangeCount!==0){g=x.anchorNode;var M=x.anchorOffset,C=x.focusNode;x=x.focusOffset;try{g.nodeType,C.nodeType}catch{g=null;break t}var B=0,Y=-1,et=-1,st=0,mt=0,At=u,dt=null;e:for(;;){for(var yt;At!==g||M!==0&&At.nodeType!==3||(Y=B+M),At!==C||x!==0&&At.nodeType!==3||(et=B+x),At.nodeType===3&&(B+=At.nodeValue.length),(yt=At.firstChild)!==null;)dt=At,At=yt;for(;;){if(At===u)break e;if(dt===g&&++st===M&&(Y=B),dt===C&&++mt===x&&(et=B),(yt=At.nextSibling)!==null)break;At=dt,dt=At.parentNode}At=yt}g=Y===-1||et===-1?null:{start:Y,end:et}}else g=null}g=g||{start:0,end:0}}else g=null;for(DC={focusedElem:u,selectionRange:g},x0=!1,jn=d;jn!==null;)if(d=jn,u=d.child,(d.subtreeFlags&1028)!==0&&u!==null)u.return=d,jn=u;else for(;jn!==null;){switch(d=jn,C=d.alternate,u=d.flags,d.tag){case 0:break;case 11:case 15:break;case 1:if(u&1024&&C!==null){u=void 0,g=d,M=C.memoizedProps,C=C.memoizedState,x=g.stateNode;try{var Ft=qh(g.type,M,g.elementType===g.type);u=x.getSnapshotBeforeUpdate(Ft,C),x.__reactInternalSnapshotBeforeUpdate=u}catch(te){ti(g,g.return,te)}}break;case 3:if(u&1024){if(u=d.stateNode.containerInfo,g=u.nodeType,g===9)kC(u);else if(g===1)switch(u.nodeName){case"HEAD":case"HTML":case"BODY":kC(u);break;default:u.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(u&1024)throw Error(n(163))}if(u=d.sibling,u!==null){u.return=d.return,jn=u;break}jn=d.return}return Ft=OB,OB=!1,Ft}function RB(u,d,g){var x=g.flags;switch(g.tag){case 0:case 11:case 15:$l(u,g),x&4&&$y(5,g);break;case 1:if($l(u,g),x&4)if(u=g.stateNode,d===null)try{u.componentDidMount()}catch(Y){ti(g,g.return,Y)}else{var M=qh(g.type,d.memoizedProps);d=d.memoizedState;try{u.componentDidUpdate(M,d,u.__reactInternalSnapshotBeforeUpdate)}catch(Y){ti(g,g.return,Y)}}x&64&&CB(g),x&512&&td(g,g.return);break;case 3:if($l(u,g),x&64&&(x=g.updateQueue,x!==null)){if(u=null,g.child!==null)switch(g.child.tag){case 27:case 5:u=g.child.stateNode;break;case 1:u=g.child.stateNode}try{TB(x,u)}catch(Y){ti(g,g.return,Y)}}break;case 26:$l(u,g),x&512&&td(g,g.return);break;case 27:case 5:$l(u,g),d===null&&x&4&&LB(g),x&512&&td(g,g.return);break;case 12:$l(u,g);break;case 13:$l(u,g),x&4&&zB(u,g);break;case 22:if(M=g.memoizedState!==null||Wl,!M){d=d!==null&&d.memoizedState!==null||Ri;var C=Wl,B=Ri;Wl=M,(Ri=d)&&!B?mu(u,g,(g.subtreeFlags&8772)!==0):$l(u,g),Wl=C,Ri=B}x&512&&(g.memoizedProps.mode==="manual"?td(g,g.return):Ea(g,g.return));break;default:$l(u,g)}}function PB(u){var d=u.alternate;d!==null&&(u.alternate=null,PB(d)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(d=u.stateNode,d!==null&&PI(d)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}var dn=null,wa=!1;function Yl(u,d,g){for(g=g.child;g!==null;)BB(u,d,g),g=g.sibling}function BB(u,d,g){if(Qn&&typeof Qn.onCommitFiberUnmount=="function")try{Qn.onCommitFiberUnmount(_r,g)}catch{}switch(g.tag){case 26:Ri||Ea(g,d),Yl(u,d,g),g.memoizedState?g.memoizedState.count--:g.stateNode&&(g=g.stateNode,g.parentNode.removeChild(g));break;case 27:Ri||Ea(g,d);var x=dn,M=wa;for(dn=g.stateNode,Yl(u,d,g),g=g.stateNode,d=g.attributes;d.length;)g.removeAttributeNode(d[0]);PI(g),dn=x,wa=M;break;case 5:Ri||Ea(g,d);case 6:M=dn;var C=wa;if(dn=null,Yl(u,d,g),dn=M,wa=C,dn!==null)if(wa)try{u=dn,x=g.stateNode,u.nodeType===8?u.parentNode.removeChild(x):u.removeChild(x)}catch(B){ti(g,d,B)}else try{dn.removeChild(g.stateNode)}catch(B){ti(g,d,B)}break;case 18:dn!==null&&(wa?(d=dn,g=g.stateNode,d.nodeType===8?CC(d.parentNode,g):d.nodeType===1&&CC(d,g),hm(d)):CC(dn,g.stateNode));break;case 4:x=dn,M=wa,dn=g.stateNode.containerInfo,wa=!0,Yl(u,d,g),dn=x,wa=M;break;case 0:case 11:case 14:case 15:Ri||yu(2,g,d),Ri||yu(4,g,d),Yl(u,d,g);break;case 1:Ri||(Ea(g,d),x=g.stateNode,typeof x.componentWillUnmount=="function"&&kB(g,d,x)),Yl(u,d,g);break;case 21:Yl(u,d,g);break;case 22:Ri||Ea(g,d),Ri=(x=Ri)||g.memoizedState!==null,Yl(u,d,g),Ri=x;break;default:Yl(u,d,g)}}function zB(u,d){if(d.memoizedState===null&&(u=d.alternate,u!==null&&(u=u.memoizedState,u!==null&&(u=u.dehydrated,u!==null))))try{hm(u)}catch(g){ti(d,d.return,g)}}function vX(u){switch(u.tag){case 13:case 19:var d=u.stateNode;return d===null&&(d=u.stateNode=new wB),d;case 22:return u=u.stateNode,d=u._retryCache,d===null&&(d=u._retryCache=new wB),d;default:throw Error(n(435,u.tag))}}function ZT(u,d){var g=vX(u);d.forEach(function(x){var M=OX.bind(null,u,x);g.has(x)||(g.add(x),x.then(M,M))})}function uo(u,d){var g=d.deletions;if(g!==null)for(var x=0;x<g.length;x++){var M=g[x],C=u,B=d,Y=B;t:for(;Y!==null;){switch(Y.tag){case 27:case 5:dn=Y.stateNode,wa=!1;break t;case 3:dn=Y.stateNode.containerInfo,wa=!0;break t;case 4:dn=Y.stateNode.containerInfo,wa=!0;break t}Y=Y.return}if(dn===null)throw Error(n(160));BB(C,B,M),dn=null,wa=!1,C=M.alternate,C!==null&&(C.return=null),M.return=null}if(d.subtreeFlags&13878)for(d=d.child;d!==null;)_B(d,u),d=d.sibling}var ir=null;function _B(u,d){var g=u.alternate,x=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:uo(d,u),ho(u),x&4&&(yu(3,u,u.return),$y(3,u),yu(5,u,u.return));break;case 1:uo(d,u),ho(u),x&512&&(Ri||g===null||Ea(g,g.return)),x&64&&Wl&&(u=u.updateQueue,u!==null&&(x=u.callbacks,x!==null&&(g=u.shared.hiddenCallbacks,u.shared.hiddenCallbacks=g===null?x:g.concat(x))));break;case 26:var M=ir;if(uo(d,u),ho(u),x&512&&(Ri||g===null||Ea(g,g.return)),x&4){var C=g!==null?g.memoizedState:null;if(x=u.memoizedState,g===null)if(x===null)if(u.stateNode===null){t:{x=u.type,g=u.memoizedProps,M=M.ownerDocument||M;e:switch(x){case"title":C=M.getElementsByTagName("title")[0],(!C||C[by]||C[ys]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=M.createElement(x),M.head.insertBefore(C,M.querySelector("head > title"))),es(C,x,g),C[ys]=u,zn(C),x=C;break t;case"link":var B=Lz("link","href",M).get(x+(g.href||""));if(B){for(var Y=0;Y<B.length;Y++)if(C=B[Y],C.getAttribute("href")===(g.href==null?null:g.href)&&C.getAttribute("rel")===(g.rel==null?null:g.rel)&&C.getAttribute("title")===(g.title==null?null:g.title)&&C.getAttribute("crossorigin")===(g.crossOrigin==null?null:g.crossOrigin)){B.splice(Y,1);break e}}C=M.createElement(x),es(C,x,g),M.head.appendChild(C);break;case"meta":if(B=Lz("meta","content",M).get(x+(g.content||""))){for(Y=0;Y<B.length;Y++)if(C=B[Y],C.getAttribute("content")===(g.content==null?null:""+g.content)&&C.getAttribute("name")===(g.name==null?null:g.name)&&C.getAttribute("property")===(g.property==null?null:g.property)&&C.getAttribute("http-equiv")===(g.httpEquiv==null?null:g.httpEquiv)&&C.getAttribute("charset")===(g.charSet==null?null:g.charSet)){B.splice(Y,1);break e}}C=M.createElement(x),es(C,x,g),M.head.appendChild(C);break;default:throw Error(n(468,x))}C[ys]=u,zn(C),x=C}u.stateNode=x}else Nz(M,u.type,u.stateNode);else u.stateNode=kz(M,x,u.memoizedProps);else C!==x?(C===null?g.stateNode!==null&&(g=g.stateNode,g.parentNode.removeChild(g)):C.count--,x===null?Nz(M,u.type,u.stateNode):kz(M,x,u.memoizedProps)):x===null&&u.stateNode!==null&&NB(u,u.memoizedProps,g.memoizedProps)}break;case 27:if(x&4&&u.alternate===null){M=u.stateNode,C=u.memoizedProps;try{for(var et=M.firstChild;et;){var st=et.nextSibling,mt=et.nodeName;et[by]||mt==="HEAD"||mt==="BODY"||mt==="SCRIPT"||mt==="STYLE"||mt==="LINK"&&et.rel.toLowerCase()==="stylesheet"||M.removeChild(et),et=st}for(var At=u.type,dt=M.attributes;dt.length;)M.removeAttributeNode(dt[0]);es(M,At,C),M[ys]=u,M[la]=C}catch(Ft){ti(u,u.return,Ft)}}case 5:if(uo(d,u),ho(u),x&512&&(Ri||g===null||Ea(g,g.return)),u.flags&32){M=u.stateNode;try{Fp(M,"")}catch(Ft){ti(u,u.return,Ft)}}x&4&&u.stateNode!=null&&(M=u.memoizedProps,NB(u,M,g!==null?g.memoizedProps:M)),x&1024&&(XT=!0);break;case 6:if(uo(d,u),ho(u),x&4){if(u.stateNode===null)throw Error(n(162));x=u.memoizedProps,g=u.stateNode;try{g.nodeValue=x}catch(Ft){ti(u,u.return,Ft)}}break;case 3:if(g0=null,M=ir,ir=p0(d.containerInfo),uo(d,u),ir=M,ho(u),x&4&&g!==null&&g.memoizedState.isDehydrated)try{hm(d.containerInfo)}catch(Ft){ti(u,u.return,Ft)}XT&&(XT=!1,jB(u));break;case 4:x=ir,ir=p0(u.stateNode.containerInfo),uo(d,u),ho(u),ir=x;break;case 12:uo(d,u),ho(u);break;case 13:uo(d,u),ho(u),u.child.flags&8192&&u.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(aC=Yt()),x&4&&(x=u.updateQueue,x!==null&&(u.updateQueue=null,ZT(u,x)));break;case 22:if(x&512&&(Ri||g===null||Ea(g,g.return)),et=u.memoizedState!==null,st=g!==null&&g.memoizedState!==null,mt=Wl,At=Ri,Wl=mt||et,Ri=At||st,uo(d,u),Ri=At,Wl=mt,ho(u),d=u.stateNode,d._current=u,d._visibility&=-3,d._visibility|=d._pendingVisibility&2,x&8192&&(d._visibility=et?d._visibility&-2:d._visibility|1,et&&(d=Wl||Ri,g===null||st||d||sf(u)),u.memoizedProps===null||u.memoizedProps.mode!=="manual"))t:for(g=null,d=u;;){if(d.tag===5||d.tag===26||d.tag===27){if(g===null){st=g=d;try{if(M=st.stateNode,et)C=M.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{B=st.stateNode,Y=st.memoizedProps.style;var yt=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;B.style.display=yt==null||typeof yt=="boolean"?"":(""+yt).trim()}}catch(Ft){ti(st,st.return,Ft)}}}else if(d.tag===6){if(g===null){st=d;try{st.stateNode.nodeValue=et?"":st.memoizedProps}catch(Ft){ti(st,st.return,Ft)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===u)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===u)break t;for(;d.sibling===null;){if(d.return===null||d.return===u)break t;g===d&&(g=null),d=d.return}g===d&&(g=null),d.sibling.return=d.return,d=d.sibling}x&4&&(x=u.updateQueue,x!==null&&(g=x.retryQueue,g!==null&&(x.retryQueue=null,ZT(u,g))));break;case 19:uo(d,u),ho(u),x&4&&(x=u.updateQueue,x!==null&&(u.updateQueue=null,ZT(u,x)));break;case 21:break;default:uo(d,u),ho(u)}}function ho(u){var d=u.flags;if(d&2){try{if(u.tag!==27){t:{for(var g=u.return;g!==null;){if(EB(g)){var x=g;break t}g=g.return}throw Error(n(160))}switch(x.tag){case 27:var M=x.stateNode,C=$T(u);Qv(u,C,M);break;case 5:var B=x.stateNode;x.flags&32&&(Fp(B,""),x.flags&=-33);var Y=$T(u);Qv(u,Y,B);break;case 3:case 4:var et=x.stateNode.containerInfo,st=$T(u);KT(u,st,et);break;default:throw Error(n(161))}}}catch(mt){ti(u,u.return,mt)}u.flags&=-3}d&4096&&(u.flags&=-4097)}function jB(u){if(u.subtreeFlags&1024)for(u=u.child;u!==null;){var d=u;jB(d),d.tag===5&&d.flags&1024&&d.stateNode.reset(),u=u.sibling}}function $l(u,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)RB(u,d.alternate,d),d=d.sibling}function sf(u){for(u=u.child;u!==null;){var d=u;switch(d.tag){case 0:case 11:case 14:case 15:yu(4,d,d.return),sf(d);break;case 1:Ea(d,d.return);var g=d.stateNode;typeof g.componentWillUnmount=="function"&&kB(d,d.return,g),sf(d);break;case 26:case 27:case 5:Ea(d,d.return),sf(d);break;case 22:Ea(d,d.return),d.memoizedState===null&&sf(d);break;default:sf(d)}u=u.sibling}}function mu(u,d,g){for(g=g&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var x=d.alternate,M=u,C=d,B=C.flags;switch(C.tag){case 0:case 11:case 15:mu(M,C,g),$y(4,C);break;case 1:if(mu(M,C,g),x=C,M=x.stateNode,typeof M.componentDidMount=="function")try{M.componentDidMount()}catch(st){ti(x,x.return,st)}if(x=C,M=x.updateQueue,M!==null){var Y=x.stateNode;try{var et=M.shared.hiddenCallbacks;if(et!==null)for(M.shared.hiddenCallbacks=null,M=0;M<et.length;M++)IB(et[M],Y)}catch(st){ti(x,x.return,st)}}g&&B&64&&CB(C),td(C,C.return);break;case 26:case 27:case 5:mu(M,C,g),g&&x===null&&B&4&&LB(C),td(C,C.return);break;case 12:mu(M,C,g);break;case 13:mu(M,C,g),g&&B&4&&zB(M,C);break;case 22:C.memoizedState===null&&mu(M,C,g),td(C,C.return);break;default:mu(M,C,g)}d=d.sibling}}function qT(u,d){var g=null;u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),u=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(u=d.memoizedState.cachePool.pool),u!==g&&(u!=null&&u.refCount++,g!=null&&zy(g))}function QT(u,d){u=null,d.alternate!==null&&(u=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==u&&(d.refCount++,u!=null&&zy(u))}function xu(u,d,g,x){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)FB(u,d,g,x),d=d.sibling}function FB(u,d,g,x){var M=d.flags;switch(d.tag){case 0:case 11:case 15:xu(u,d,g,x),M&2048&&$y(9,d);break;case 3:xu(u,d,g,x),M&2048&&(u=null,d.alternate!==null&&(u=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==u&&(d.refCount++,u!=null&&zy(u)));break;case 12:if(M&2048){xu(u,d,g,x),u=d.stateNode;try{var C=d.memoizedProps,B=C.id,Y=C.onPostCommit;typeof Y=="function"&&Y(B,d.alternate===null?"mount":"update",u.passiveEffectDuration,-0)}catch(et){ti(d,d.return,et)}}else xu(u,d,g,x);break;case 23:break;case 22:C=d.stateNode,d.memoizedState!==null?C._visibility&4?xu(u,d,g,x):Ky(u,d):C._visibility&4?xu(u,d,g,x):(C._visibility|=4,af(u,d,g,x,(d.subtreeFlags&10256)!==0)),M&2048&&qT(d.alternate,d);break;case 24:xu(u,d,g,x),M&2048&&QT(d.alternate,d);break;default:xu(u,d,g,x)}}function af(u,d,g,x,M){for(M=M&&(d.subtreeFlags&10256)!==0,d=d.child;d!==null;){var C=u,B=d,Y=g,et=x,st=B.flags;switch(B.tag){case 0:case 11:case 15:af(C,B,Y,et,M),$y(8,B);break;case 23:break;case 22:var mt=B.stateNode;B.memoizedState!==null?mt._visibility&4?af(C,B,Y,et,M):Ky(C,B):(mt._visibility|=4,af(C,B,Y,et,M)),M&&st&2048&&qT(B.alternate,B);break;case 24:af(C,B,Y,et,M),M&&st&2048&&QT(B.alternate,B);break;default:af(C,B,Y,et,M)}d=d.sibling}}function Ky(u,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var g=u,x=d,M=x.flags;switch(x.tag){case 22:Ky(g,x),M&2048&&qT(x.alternate,x);break;case 24:Ky(g,x),M&2048&&QT(x.alternate,x);break;default:Ky(g,x)}d=d.sibling}}var Xy=8192;function of(u){if(u.subtreeFlags&Xy)for(u=u.child;u!==null;)GB(u),u=u.sibling}function GB(u){switch(u.tag){case 26:of(u),u.flags&Xy&&u.memoizedState!==null&&lZ(ir,u.memoizedState,u.memoizedProps);break;case 5:of(u);break;case 3:case 4:var d=ir;ir=p0(u.stateNode.containerInfo),of(u),ir=d;break;case 22:u.memoizedState===null&&(d=u.alternate,d!==null&&d.memoizedState!==null?(d=Xy,Xy=16777216,of(u),Xy=d):of(u));break;default:of(u)}}function VB(u){var d=u.alternate;if(d!==null&&(u=d.child,u!==null)){d.child=null;do d=u.sibling,u.sibling=null,u=d;while(u!==null)}}function Zy(u){var d=u.deletions;if(u.flags&16){if(d!==null)for(var g=0;g<d.length;g++){var x=d[g];jn=x,HB(x,u)}VB(u)}if(u.subtreeFlags&10256)for(u=u.child;u!==null;)UB(u),u=u.sibling}function UB(u){switch(u.tag){case 0:case 11:case 15:Zy(u),u.flags&2048&&yu(9,u,u.return);break;case 3:Zy(u);break;case 12:Zy(u);break;case 22:var d=u.stateNode;u.memoizedState!==null&&d._visibility&4&&(u.return===null||u.return.tag!==13)?(d._visibility&=-5,Jv(u)):Zy(u);break;default:Zy(u)}}function Jv(u){var d=u.deletions;if(u.flags&16){if(d!==null)for(var g=0;g<d.length;g++){var x=d[g];jn=x,HB(x,u)}VB(u)}for(u=u.child;u!==null;){switch(d=u,d.tag){case 0:case 11:case 15:yu(8,d,d.return),Jv(d);break;case 22:g=d.stateNode,g._visibility&4&&(g._visibility&=-5,Jv(d));break;default:Jv(d)}u=u.sibling}}function HB(u,d){for(;jn!==null;){var g=jn;switch(g.tag){case 0:case 11:case 15:yu(8,g,d);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var x=g.memoizedState.cachePool.pool;x!=null&&x.refCount++}break;case 24:zy(g.memoizedState.cache)}if(x=g.child,x!==null)x.return=g,jn=x;else t:for(g=u;jn!==null;){x=jn;var M=x.sibling,C=x.return;if(PB(x),x===g){jn=null;break t}if(M!==null){M.return=C,jn=M;break t}jn=C}}}function SX(u,d,g,x){this.tag=u,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function po(u,d,g,x){return new SX(u,d,g,x)}function JT(u){return u=u.prototype,!(!u||!u.isReactComponent)}function bu(u,d){var g=u.alternate;return g===null?(g=po(u.tag,d,u.key,u.mode),g.elementType=u.elementType,g.type=u.type,g.stateNode=u.stateNode,g.alternate=u,u.alternate=g):(g.pendingProps=d,g.type=u.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=u.flags&31457280,g.childLanes=u.childLanes,g.lanes=u.lanes,g.child=u.child,g.memoizedProps=u.memoizedProps,g.memoizedState=u.memoizedState,g.updateQueue=u.updateQueue,d=u.dependencies,g.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},g.sibling=u.sibling,g.index=u.index,g.ref=u.ref,g.refCleanup=u.refCleanup,g}function WB(u,d){u.flags&=31457282;var g=u.alternate;return g===null?(u.childLanes=0,u.lanes=d,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=g.childLanes,u.lanes=g.lanes,u.child=g.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=g.memoizedProps,u.memoizedState=g.memoizedState,u.updateQueue=g.updateQueue,u.type=g.type,d=g.dependencies,u.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),u}function t0(u,d,g,x,M,C){var B=0;if(x=u,typeof u=="function")JT(u)&&(B=1);else if(typeof u=="string")B=oZ(u,g,ft.current)?26:u==="html"||u==="head"||u==="body"?27:5;else t:switch(u){case l:return ed(g.children,M,C,d);case c:B=8,M|=24;break;case h:return u=po(12,g,d,M|2),u.elementType=h,u.lanes=C,u;case b:return u=po(13,g,d,M),u.elementType=b,u.lanes=C,u;case S:return u=po(19,g,d,M),u.elementType=S,u.lanes=C,u;case I:return YB(g,M,C,d);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case p:case y:B=10;break t;case f:B=9;break t;case m:B=11;break t;case v:B=14;break t;case D:B=16,x=null;break t}B=29,g=Error(n(130,u===null?"null":typeof u,"")),x=null}return d=po(B,g,d,M),d.elementType=u,d.type=x,d.lanes=C,d}function ed(u,d,g,x){return u=po(7,u,x,d),u.lanes=g,u}function YB(u,d,g,x){u=po(22,u,x,d),u.elementType=I,u.lanes=g;var M={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var C=M._current;if(C===null)throw Error(n(456));if(!(M._pendingVisibility&2)){var B=ru(C,2);B!==null&&(M._pendingVisibility|=2,Us(B,C,2))}},attach:function(){var C=M._current;if(C===null)throw Error(n(456));if(M._pendingVisibility&2){var B=ru(C,2);B!==null&&(M._pendingVisibility&=-3,Us(B,C,2))}}};return u.stateNode=M,u}function tC(u,d,g){return u=po(6,u,null,d),u.lanes=g,u}function eC(u,d,g){return d=po(4,u.children!==null?u.children:[],u.key,d),d.lanes=g,d.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},d}function Kl(u){u.flags|=4}function $B(u,d){if(d.type!=="stylesheet"||d.state.loading&4)u.flags&=-16777217;else if(u.flags|=16777216,!Ez(d)){if(d=co.current,d!==null&&((Se&4194176)===Se?Vr!==null:(Se&62914560)!==Se&&!(Se&536870912)||d!==Vr))throw Ry=oT,uP;u.flags|=8192}}function e0(u,d){d!==null&&(u.flags|=4),u.flags&16384&&(d=u.tag!==22?h2():536870912,u.lanes|=d,lf|=d)}function qy(u,d){if(!Ee)switch(u.tailMode){case"hidden":d=u.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?u.tail=null:g.sibling=null;break;case"collapsed":g=u.tail;for(var x=null;g!==null;)g.alternate!==null&&(x=g),g=g.sibling;x===null?d||u.tail===null?u.tail=null:u.tail.sibling=null:x.sibling=null}}function Mi(u){var d=u.alternate!==null&&u.alternate.child===u.child,g=0,x=0;if(d)for(var M=u.child;M!==null;)g|=M.lanes|M.childLanes,x|=M.subtreeFlags&31457280,x|=M.flags&31457280,M.return=u,M=M.sibling;else for(M=u.child;M!==null;)g|=M.lanes|M.childLanes,x|=M.subtreeFlags,x|=M.flags,M.return=u,M=M.sibling;return u.subtreeFlags|=x,u.childLanes=g,d}function MX(u,d,g){var x=d.pendingProps;switch(sT(d),d.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mi(d),null;case 1:return Mi(d),null;case 3:return g=d.stateNode,x=null,u!==null&&(x=u.memoizedState.cache),d.memoizedState.cache!==x&&(d.flags|=2048),Hl(Cn),wt(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(u===null||u.child===null)&&(Ny(d)?Kl(d):u===null||u.memoizedState.isDehydrated&&!(d.flags&256)||(d.flags|=1024,er!==null&&(cC(er),er=null))),Mi(d),null;case 26:return g=d.memoizedState,u===null?(Kl(d),g!==null?(Mi(d),$B(d,g)):(Mi(d),d.flags&=-16777217)):g?g!==u.memoizedState?(Kl(d),Mi(d),$B(d,g)):(Mi(d),d.flags&=-16777217):(u.memoizedProps!==x&&Kl(d),Mi(d),d.flags&=-16777217),null;case 27:Nt(d),g=bt.current;var M=d.type;if(u!==null&&d.stateNode!=null)u.memoizedProps!==x&&Kl(d);else{if(!x){if(d.stateNode===null)throw Error(n(166));return Mi(d),null}u=ft.current,Ny(d)?lP(d):(u=Az(M,x,g),d.stateNode=u,Kl(d))}return Mi(d),null;case 5:if(Nt(d),g=d.type,u!==null&&d.stateNode!=null)u.memoizedProps!==x&&Kl(d);else{if(!x){if(d.stateNode===null)throw Error(n(166));return Mi(d),null}if(u=ft.current,Ny(d))lP(d);else{switch(M=d0(bt.current),u){case 1:u=M.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:u=M.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":u=M.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":u=M.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":u=M.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof x.is=="string"?M.createElement("select",{is:x.is}):M.createElement("select"),x.multiple?u.multiple=!0:x.size&&(u.size=x.size);break;default:u=typeof x.is=="string"?M.createElement(g,{is:x.is}):M.createElement(g)}}u[ys]=d,u[la]=x;t:for(M=d.child;M!==null;){if(M.tag===5||M.tag===6)u.appendChild(M.stateNode);else if(M.tag!==4&&M.tag!==27&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===d)break t;for(;M.sibling===null;){if(M.return===null||M.return===d)break t;M=M.return}M.sibling.return=M.return,M=M.sibling}d.stateNode=u;t:switch(es(u,g,x),g){case"button":case"input":case"select":case"textarea":u=!!x.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&Kl(d)}}return Mi(d),d.flags&=-16777217,null;case 6:if(u&&d.stateNode!=null)u.memoizedProps!==x&&Kl(d);else{if(typeof x!="string"&&d.stateNode===null)throw Error(n(166));if(u=bt.current,Ny(d)){if(u=d.stateNode,g=d.memoizedProps,x=null,M=Vs,M!==null)switch(M.tag){case 27:case 5:x=M.memoizedProps}u[ys]=d,u=!!(u.nodeValue===g||x!==null&&x.suppressHydrationWarning===!0||mz(u.nodeValue,g)),u||Wh(d)}else u=d0(u).createTextNode(x),u[ys]=d,d.stateNode=u}return Mi(d),null;case 13:if(x=d.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(M=Ny(d),x!==null&&x.dehydrated!==null){if(u===null){if(!M)throw Error(n(318));if(M=d.memoizedState,M=M!==null?M.dehydrated:null,!M)throw Error(n(317));M[ys]=d}else Ey(),!(d.flags&128)&&(d.memoizedState=null),d.flags|=4;Mi(d),M=!1}else er!==null&&(cC(er),er=null),M=!0;if(!M)return d.flags&256?(Fl(d),d):(Fl(d),null)}if(Fl(d),d.flags&128)return d.lanes=g,d;if(g=x!==null,u=u!==null&&u.memoizedState!==null,g){x=d.child,M=null,x.alternate!==null&&x.alternate.memoizedState!==null&&x.alternate.memoizedState.cachePool!==null&&(M=x.alternate.memoizedState.cachePool.pool);var C=null;x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(C=x.memoizedState.cachePool.pool),C!==M&&(x.flags|=2048)}return g!==u&&g&&(d.child.flags|=8192),e0(d,d.updateQueue),Mi(d),null;case 4:return wt(),u===null&&vC(d.stateNode.containerInfo),Mi(d),null;case 10:return Hl(d.type),Mi(d),null;case 19:if(pt(Tn),M=d.memoizedState,M===null)return Mi(d),null;if(x=(d.flags&128)!==0,C=M.rendering,C===null)if(x)qy(M,!1);else{if(Pi!==0||u!==null&&u.flags&128)for(u=d.child;u!==null;){if(C=_v(u),C!==null){for(d.flags|=128,qy(M,!1),u=C.updateQueue,d.updateQueue=u,e0(d,u),d.subtreeFlags=0,u=g,g=d.child;g!==null;)WB(g,u),g=g.sibling;return ot(Tn,Tn.current&1|2),d.child}u=u.sibling}M.tail!==null&&Yt()>i0&&(d.flags|=128,x=!0,qy(M,!1),d.lanes=4194304)}else{if(!x)if(u=_v(C),u!==null){if(d.flags|=128,x=!0,u=u.updateQueue,d.updateQueue=u,e0(d,u),qy(M,!0),M.tail===null&&M.tailMode==="hidden"&&!C.alternate&&!Ee)return Mi(d),null}else 2*Yt()-M.renderingStartTime>i0&&g!==536870912&&(d.flags|=128,x=!0,qy(M,!1),d.lanes=4194304);M.isBackwards?(C.sibling=d.child,d.child=C):(u=M.last,u!==null?u.sibling=C:d.child=C,M.last=C)}return M.tail!==null?(d=M.tail,M.rendering=d,M.tail=d.sibling,M.renderingStartTime=Yt(),d.sibling=null,u=Tn.current,ot(Tn,x?u&1|2:u&1),d):(Mi(d),null);case 22:case 23:return Fl(d),lT(),x=d.memoizedState!==null,u!==null?u.memoizedState!==null!==x&&(d.flags|=8192):x&&(d.flags|=8192),x?g&536870912&&!(d.flags&128)&&(Mi(d),d.subtreeFlags&6&&(d.flags|=8192)):Mi(d),g=d.updateQueue,g!==null&&e0(d,g.retryQueue),g=null,u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),x=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(x=d.memoizedState.cachePool.pool),x!==g&&(d.flags|=2048),u!==null&&pt($h),null;case 24:return g=null,u!==null&&(g=u.memoizedState.cache),d.memoizedState.cache!==g&&(d.flags|=2048),Hl(Cn),Mi(d),null;case 25:return null}throw Error(n(156,d.tag))}function AX(u,d){switch(sT(d),d.tag){case 1:return u=d.flags,u&65536?(d.flags=u&-65537|128,d):null;case 3:return Hl(Cn),wt(),u=d.flags,u&65536&&!(u&128)?(d.flags=u&-65537|128,d):null;case 26:case 27:case 5:return Nt(d),null;case 13:if(Fl(d),u=d.memoizedState,u!==null&&u.dehydrated!==null){if(d.alternate===null)throw Error(n(340));Ey()}return u=d.flags,u&65536?(d.flags=u&-65537|128,d):null;case 19:return pt(Tn),null;case 4:return wt(),null;case 10:return Hl(d.type),null;case 22:case 23:return Fl(d),lT(),u!==null&&pt($h),u=d.flags,u&65536?(d.flags=u&-65537|128,d):null;case 24:return Hl(Cn),null;case 25:return null;default:return null}}function KB(u,d){switch(sT(d),d.tag){case 3:Hl(Cn),wt();break;case 26:case 27:case 5:Nt(d);break;case 4:wt();break;case 13:Fl(d);break;case 19:pt(Tn);break;case 10:Hl(d.type);break;case 22:case 23:Fl(d),lT(),u!==null&&pt($h);break;case 24:Hl(Cn)}}var DX={getCacheForType:function(u){var d=ms(Cn),g=d.data.get(u);return g===void 0&&(g=u(),d.data.set(u,g)),g}},IX=typeof WeakMap=="function"?WeakMap:Map,Ai=0,li=null,he=null,Se=0,ci=0,Oa=null,Xl=!1,rf=!1,iC=!1,Zl=0,Pi=0,vu=0,id=0,nC=0,fo=0,lf=0,Qy=null,Hr=null,sC=!1,aC=0,i0=1/0,n0=null,Su=null,s0=!1,nd=null,Jy=0,oC=0,rC=null,tm=0,lC=null;function Ra(){if(Ai&2&&Se!==0)return Se&-Se;if(O.T!==null){var u=Qp;return u!==0?u:yC()}return g2()}function XB(){fo===0&&(fo=!(Se&536870912)||Ee?u2():536870912);var u=co.current;return u!==null&&(u.flags|=32),fo}function Us(u,d,g){(u===li&&ci===2||u.cancelPendingCommit!==null)&&(cf(u,0),ql(u,Se,fo,!1)),xy(u,g),(!(Ai&2)||u!==li)&&(u===li&&(!(Ai&2)&&(id|=g),Pi===4&&ql(u,Se,fo,!1)),Wr(u))}function ZB(u,d,g){if(Ai&6)throw Error(n(327));var x=!g&&(d&60)===0&&(d&u.expiredLanes)===0||my(u,d),M=x?kX(u,d):dC(u,d,!0),C=x;do{if(M===0){rf&&!x&&ql(u,d,0,!1);break}else if(M===6)ql(u,d,0,!Xl);else{if(g=u.current.alternate,C&&!TX(g)){M=dC(u,d,!1),C=!1;continue}if(M===2){if(C=d,u.errorRecoveryDisabledLanes&C)var B=0;else B=u.pendingLanes&-536870913,B=B!==0?B:B&536870912?536870912:0;if(B!==0){d=B;t:{var Y=u;M=Qy;var et=Y.current.memoizedState.isDehydrated;if(et&&(cf(Y,B).flags|=256),B=dC(Y,B,!1),B!==2){if(iC&&!et){Y.errorRecoveryDisabledLanes|=C,id|=C,M=4;break t}C=Hr,Hr=M,C!==null&&cC(C)}M=B}if(C=!1,M!==2)continue}}if(M===1){cf(u,0),ql(u,d,0,!0);break}t:{switch(x=u,M){case 0:case 1:throw Error(n(345));case 4:if((d&4194176)===d){ql(x,d,fo,!Xl);break t}break;case 2:Hr=null;break;case 3:case 5:break;default:throw Error(n(329))}if(x.finishedWork=g,x.finishedLanes=d,(d&62914560)===d&&(C=aC+300-Yt(),10<C)){if(ql(x,d,fo,!Xl),su(x,0)!==0)break t;x.timeoutHandle=vz(qB.bind(null,x,g,Hr,n0,sC,d,fo,id,lf,Xl,2,-0,0),C);break t}qB(x,g,Hr,n0,sC,d,fo,id,lf,Xl,0,-0,0)}}break}while(!0);Wr(u)}function cC(u){Hr===null?Hr=u:Hr.push.apply(Hr,u)}function qB(u,d,g,x,M,C,B,Y,et,st,mt,At,dt){var yt=d.subtreeFlags;if((yt&8192||(yt&16785408)===16785408)&&(om={stylesheets:null,count:0,unsuspend:rZ},GB(d),d=cZ(),d!==null)){u.cancelPendingCommit=d(sz.bind(null,u,g,x,M,B,Y,et,1,At,dt)),ql(u,C,B,!st);return}sz(u,g,x,M,B,Y,et,mt,At,dt)}function TX(u){for(var d=u;;){var g=d.tag;if((g===0||g===11||g===15)&&d.flags&16384&&(g=d.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var x=0;x<g.length;x++){var M=g[x],C=M.getSnapshot;M=M.value;try{if(!Na(C(),M))return!1}catch{return!1}}if(g=d.child,d.subtreeFlags&16384&&g!==null)g.return=d,d=g;else{if(d===u)break;for(;d.sibling===null;){if(d.return===null||d.return===u)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function ql(u,d,g,x){d&=~nC,d&=~id,u.suspendedLanes|=d,u.pingedLanes&=~d,x&&(u.warmLanes|=d),x=u.expirationTimes;for(var M=d;0<M;){var C=31-ee(M),B=1<<C;x[C]=-1,M&=~B}g!==0&&d2(u,g,d)}function a0(){return Ai&6?!0:(em(0),!1)}function uC(){if(he!==null){if(ci===0)var u=he.return;else u=he,Ul=Qh=null,yT(u),Zp=null,Py=0,u=he;for(;u!==null;)KB(u.alternate,u),u=u.return;he=null}}function cf(u,d){u.finishedWork=null,u.finishedLanes=0;var g=u.timeoutHandle;g!==-1&&(u.timeoutHandle=-1,WX(g)),g=u.cancelPendingCommit,g!==null&&(u.cancelPendingCommit=null,g()),uC(),li=u,he=g=bu(u.current,null),Se=d,ci=0,Oa=null,Xl=!1,rf=my(u,d),iC=!1,lf=fo=nC=id=vu=Pi=0,Hr=Qy=null,sC=!1,d&8&&(d|=d&32);var x=u.entangledLanes;if(x!==0)for(u=u.entanglements,x&=d;0<x;){var M=31-ee(x),C=1<<M;d|=u[M],x&=~C}return Zl=d,Lv(),g}function QB(u,d){oe=null,O.H=Ur,d===Oy?(d=pP(),ci=3):d===uP?(d=pP(),ci=4):ci=d===hB?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,Oa=d,he===null&&(Pi=1,Xv(u,oo(d,u.current)))}function JB(){var u=O.H;return O.H=Ur,u===null?Ur:u}function tz(){var u=O.A;return O.A=DX,u}function hC(){Pi=4,Xl||(Se&4194176)!==Se&&co.current!==null||(rf=!0),!(vu&134217727)&&!(id&134217727)||li===null||ql(li,Se,fo,!1)}function dC(u,d,g){var x=Ai;Ai|=2;var M=JB(),C=tz();(li!==u||Se!==d)&&(n0=null,cf(u,d)),d=!1;var B=Pi;t:do try{if(ci!==0&&he!==null){var Y=he,et=Oa;switch(ci){case 8:uC(),B=6;break t;case 3:case 2:case 6:co.current===null&&(d=!0);var st=ci;if(ci=0,Oa=null,uf(u,Y,et,st),g&&rf){B=0;break t}break;default:st=ci,ci=0,Oa=null,uf(u,Y,et,st)}}CX(),B=Pi;break}catch(mt){QB(u,mt)}while(!0);return d&&u.shellSuspendCounter++,Ul=Qh=null,Ai=x,O.H=M,O.A=C,he===null&&(li=null,Se=0,Lv()),B}function CX(){for(;he!==null;)ez(he)}function kX(u,d){var g=Ai;Ai|=2;var x=JB(),M=tz();li!==u||Se!==d?(n0=null,i0=Yt()+500,cf(u,d)):rf=my(u,d);t:do try{if(ci!==0&&he!==null){d=he;var C=Oa;e:switch(ci){case 1:ci=0,Oa=null,uf(u,d,C,1);break;case 2:if(hP(C)){ci=0,Oa=null,iz(d);break}d=function(){ci===2&&li===u&&(ci=7),Wr(u)},C.then(d,d);break t;case 3:ci=7;break t;case 4:ci=5;break t;case 7:hP(C)?(ci=0,Oa=null,iz(d)):(ci=0,Oa=null,uf(u,d,C,7));break;case 5:var B=null;switch(he.tag){case 26:B=he.memoizedState;case 5:case 27:var Y=he;if(!B||Ez(B)){ci=0,Oa=null;var et=Y.sibling;if(et!==null)he=et;else{var st=Y.return;st!==null?(he=st,o0(st)):he=null}break e}}ci=0,Oa=null,uf(u,d,C,5);break;case 6:ci=0,Oa=null,uf(u,d,C,6);break;case 8:uC(),Pi=6;break t;default:throw Error(n(462))}}LX();break}catch(mt){QB(u,mt)}while(!0);return Ul=Qh=null,O.H=x,O.A=M,Ai=g,he!==null?0:(li=null,Se=0,Lv(),Pi)}function LX(){for(;he!==null&&!Mt();)ez(he)}function ez(u){var d=AB(u.alternate,u,Zl);u.memoizedProps=u.pendingProps,d===null?o0(u):he=d}function iz(u){var d=u,g=d.alternate;switch(d.tag){case 15:case 0:d=mB(g,d,d.pendingProps,d.type,void 0,Se);break;case 11:d=mB(g,d,d.pendingProps,d.type.render,d.ref,Se);break;case 5:yT(d);default:KB(g,d),d=he=WB(d,Zl),d=AB(g,d,Zl)}u.memoizedProps=u.pendingProps,d===null?o0(u):he=d}function uf(u,d,g,x){Ul=Qh=null,yT(d),Zp=null,Py=0;var M=d.return;try{if(mX(u,M,d,g,Se)){Pi=1,Xv(u,oo(g,u.current)),he=null;return}}catch(C){if(M!==null)throw he=M,C;Pi=1,Xv(u,oo(g,u.current)),he=null;return}d.flags&32768?(Ee||x===1?u=!0:rf||Se&536870912?u=!1:(Xl=u=!0,(x===2||x===3||x===6)&&(x=co.current,x!==null&&x.tag===13&&(x.flags|=16384))),nz(d,u)):o0(d)}function o0(u){var d=u;do{if(d.flags&32768){nz(d,Xl);return}u=d.return;var g=MX(d.alternate,d,Zl);if(g!==null){he=g;return}if(d=d.sibling,d!==null){he=d;return}he=d=u}while(d!==null);Pi===0&&(Pi=5)}function nz(u,d){do{var g=AX(u.alternate,u);if(g!==null){g.flags&=32767,he=g;return}if(g=u.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!d&&(u=u.sibling,u!==null)){he=u;return}he=u=g}while(u!==null);Pi=6,he=null}function sz(u,d,g,x,M,C,B,Y,et,st){var mt=O.T,At=J.p;try{J.p=2,O.T=null,NX(u,d,g,x,At,M,C,B,Y,et,st)}finally{O.T=mt,J.p=At}}function NX(u,d,g,x,M,C,B,Y){do hf();while(nd!==null);if(Ai&6)throw Error(n(327));var et=u.finishedWork;if(x=u.finishedLanes,et===null)return null;if(u.finishedWork=null,u.finishedLanes=0,et===u.current)throw Error(n(177));u.callbackNode=null,u.callbackPriority=0,u.cancelPendingCommit=null;var st=et.lanes|et.childLanes;if(st|=eT,l8(u,x,st,C,B,Y),u===li&&(he=li=null,Se=0),!(et.subtreeFlags&10256)&&!(et.flags&10256)||s0||(s0=!0,oC=st,rC=g,RX(Gs,function(){return hf(),null})),g=(et.flags&15990)!==0,et.subtreeFlags&15990||g?(g=O.T,O.T=null,C=J.p,J.p=2,B=Ai,Ai|=4,bX(u,et),_B(et,u),tX(DC,u.containerInfo),x0=!!AC,DC=AC=null,u.current=et,RB(u,et.alternate,et),Ne(),Ai=B,J.p=C,O.T=g):u.current=et,s0?(s0=!1,nd=u,Jy=x):az(u,st),st=u.pendingLanes,st===0&&(Su=null),Vt(et.stateNode),Wr(u),d!==null)for(M=u.onRecoverableError,et=0;et<d.length;et++)st=d[et],M(st.value,{componentStack:st.stack});return Jy&3&&hf(),st=u.pendingLanes,x&4194218&&st&42?u===lC?tm++:(tm=0,lC=u):tm=0,em(0),null}function az(u,d){(u.pooledCacheLanes&=d)===0&&(d=u.pooledCache,d!=null&&(u.pooledCache=null,zy(d)))}function hf(){if(nd!==null){var u=nd,d=oC;oC=0;var g=f2(Jy),x=O.T,M=J.p;try{if(J.p=32>g?32:g,O.T=null,nd===null)var C=!1;else{g=rC,rC=null;var B=nd,Y=Jy;if(nd=null,Jy=0,Ai&6)throw Error(n(331));var et=Ai;if(Ai|=4,UB(B.current),FB(B,B.current,Y,g),Ai=et,em(0,!1),Qn&&typeof Qn.onPostCommitFiberRoot=="function")try{Qn.onPostCommitFiberRoot(_r,B)}catch{}C=!0}return C}finally{J.p=M,O.T=x,az(u,d)}}return!1}function oz(u,d,g){d=oo(g,d),d=NT(u.stateNode,d,2),u=gu(u,d,2),u!==null&&(xy(u,2),Wr(u))}function ti(u,d,g){if(u.tag===3)oz(u,u,g);else for(;d!==null;){if(d.tag===3){oz(d,u,g);break}else if(d.tag===1){var x=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(Su===null||!Su.has(x))){u=oo(g,u),g=cB(2),x=gu(d,g,2),x!==null&&(uB(g,x,d,u),xy(x,2),Wr(x));break}}d=d.return}}function pC(u,d,g){var x=u.pingCache;if(x===null){x=u.pingCache=new IX;var M=new Set;x.set(d,M)}else M=x.get(d),M===void 0&&(M=new Set,x.set(d,M));M.has(g)||(iC=!0,M.add(g),u=EX.bind(null,u,d,g),d.then(u,u))}function EX(u,d,g){var x=u.pingCache;x!==null&&x.delete(d),u.pingedLanes|=u.suspendedLanes&g,u.warmLanes&=~g,li===u&&(Se&g)===g&&(Pi===4||Pi===3&&(Se&62914560)===Se&&300>Yt()-aC?!(Ai&2)&&cf(u,0):nC|=g,lf===Se&&(lf=0)),Wr(u)}function rz(u,d){d===0&&(d=h2()),u=ru(u,d),u!==null&&(xy(u,d),Wr(u))}function wX(u){var d=u.memoizedState,g=0;d!==null&&(g=d.retryLane),rz(u,g)}function OX(u,d){var g=0;switch(u.tag){case 13:var x=u.stateNode,M=u.memoizedState;M!==null&&(g=M.retryLane);break;case 19:x=u.stateNode;break;case 22:x=u.stateNode._retryCache;break;default:throw Error(n(314))}x!==null&&x.delete(d),rz(u,g)}function RX(u,d){return zt(u,d)}var r0=null,df=null,fC=!1,l0=!1,gC=!1,sd=0;function Wr(u){u!==df&&u.next===null&&(df===null?r0=df=u:df=df.next=u),l0=!0,fC||(fC=!0,BX(PX))}function em(u,d){if(!gC&&l0){gC=!0;do for(var g=!1,x=r0;x!==null;){if(u!==0){var M=x.pendingLanes;if(M===0)var C=0;else{var B=x.suspendedLanes,Y=x.pingedLanes;C=(1<<31-ee(42|u)+1)-1,C&=M&~(B&~Y),C=C&201326677?C&201326677|1:C?C|2:0}C!==0&&(g=!0,uz(x,C))}else C=Se,C=su(x,x===li?C:0),!(C&3)||my(x,C)||(g=!0,uz(x,C));x=x.next}while(g);gC=!1}}function PX(){l0=fC=!1;var u=0;sd!==0&&(HX()&&(u=sd),sd=0);for(var d=Yt(),g=null,x=r0;x!==null;){var M=x.next,C=lz(x,d);C===0?(x.next=null,g===null?r0=M:g.next=M,M===null&&(df=g)):(g=x,(u!==0||C&3)&&(l0=!0)),x=M}em(u)}function lz(u,d){for(var g=u.suspendedLanes,x=u.pingedLanes,M=u.expirationTimes,C=u.pendingLanes&-62914561;0<C;){var B=31-ee(C),Y=1<<B,et=M[B];et===-1?(!(Y&g)||Y&x)&&(M[B]=r8(Y,d)):et<=d&&(u.expiredLanes|=Y),C&=~Y}if(d=li,g=Se,g=su(u,u===d?g:0),x=u.callbackNode,g===0||u===d&&ci===2||u.cancelPendingCommit!==null)return x!==null&&x!==null&&Ot(x),u.callbackNode=null,u.callbackPriority=0;if(!(g&3)||my(u,g)){if(d=g&-g,d===u.callbackPriority)return d;switch(x!==null&&Ot(x),f2(g)){case 2:case 8:g=gs;break;case 32:g=Gs;break;case 268435456:g=ra;break;default:g=Gs}return x=cz.bind(null,u),g=zt(g,x),u.callbackPriority=d,u.callbackNode=g,d}return x!==null&&x!==null&&Ot(x),u.callbackPriority=2,u.callbackNode=null,2}function cz(u,d){var g=u.callbackNode;if(hf()&&u.callbackNode!==g)return null;var x=Se;return x=su(u,u===li?x:0),x===0?null:(ZB(u,x,d),lz(u,Yt()),u.callbackNode!=null&&u.callbackNode===g?cz.bind(null,u):null)}function uz(u,d){if(hf())return null;ZB(u,d,!0)}function BX(u){YX(function(){Ai&6?zt(Ui,u):u()})}function yC(){return sd===0&&(sd=u2()),sd}function hz(u){return u==null||typeof u=="symbol"||typeof u=="boolean"?null:typeof u=="function"?u:Mv(""+u)}function dz(u,d){var g=d.ownerDocument.createElement("input");return g.name=d.name,g.value=d.value,u.id&&g.setAttribute("form",u.id),d.parentNode.insertBefore(g,d),u=new FormData(u),g.parentNode.removeChild(g),u}function zX(u,d,g,x,M){if(d==="submit"&&g&&g.stateNode===M){var C=hz((M[la]||null).action),B=x.submitter;B&&(d=(d=B[la]||null)?hz(d.formAction):B.getAttribute("formAction"),d!==null&&(C=d,B=null));var Y=new Tv("action","action",null,x,M);u.push({event:Y,listeners:[{instance:null,listener:function(){if(x.defaultPrevented){if(sd!==0){var et=B?dz(M,B):new FormData(M);IT(g,{pending:!0,data:et,method:M.method,action:C},null,et)}}else typeof C=="function"&&(Y.preventDefault(),et=B?dz(M,B):new FormData(M),IT(g,{pending:!0,data:et,method:M.method,action:C},C,et))},currentTarget:M}]})}}for(var mC=0;mC<sP.length;mC++){var xC=sP[mC],_X=xC.toLowerCase(),jX=xC[0].toUpperCase()+xC.slice(1);tr(_X,"on"+jX)}tr(J2,"onAnimationEnd"),tr(tP,"onAnimationIteration"),tr(eP,"onAnimationStart"),tr("dblclick","onDoubleClick"),tr("focusin","onFocus"),tr("focusout","onBlur"),tr(iX,"onTransitionRun"),tr(nX,"onTransitionStart"),tr(sX,"onTransitionCancel"),tr(iP,"onTransitionEnd"),_p("onMouseEnter",["mouseout","mouseover"]),_p("onMouseLeave",["mouseout","mouseover"]),_p("onPointerEnter",["pointerout","pointerover"]),_p("onPointerLeave",["pointerout","pointerover"]),jh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),jh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),jh("onBeforeInput",["compositionend","keypress","textInput","paste"]),jh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),jh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),jh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var im="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FX=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(im));function pz(u,d){d=(d&4)!==0;for(var g=0;g<u.length;g++){var x=u[g],M=x.event;x=x.listeners;t:{var C=void 0;if(d)for(var B=x.length-1;0<=B;B--){var Y=x[B],et=Y.instance,st=Y.currentTarget;if(Y=Y.listener,et!==C&&M.isPropagationStopped())break t;C=Y,M.currentTarget=st;try{C(M)}catch(mt){Kv(mt)}M.currentTarget=null,C=et}else for(B=0;B<x.length;B++){if(Y=x[B],et=Y.instance,st=Y.currentTarget,Y=Y.listener,et!==C&&M.isPropagationStopped())break t;C=Y,M.currentTarget=st;try{C(M)}catch(mt){Kv(mt)}M.currentTarget=null,C=et}}}}function me(u,d){var g=d[RI];g===void 0&&(g=d[RI]=new Set);var x=u+"__bubble";g.has(x)||(fz(d,u,2,!1),g.add(x))}function bC(u,d,g){var x=0;d&&(x|=4),fz(g,u,x,d)}var c0="_reactListening"+Math.random().toString(36).slice(2);function vC(u){if(!u[c0]){u[c0]=!0,m2.forEach(function(g){g!=="selectionchange"&&(FX.has(g)||bC(g,!1,u),bC(g,!0,u))});var d=u.nodeType===9?u:u.ownerDocument;d===null||d[c0]||(d[c0]=!0,bC("selectionchange",!1,d))}}function fz(u,d,g,x){switch(zz(d)){case 2:var M=dZ;break;case 8:M=pZ;break;default:M=OC}g=M.bind(null,d,g,u),M=void 0,!VI||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(M=!0),x?M!==void 0?u.addEventListener(d,g,{capture:!0,passive:M}):u.addEventListener(d,g,!0):M!==void 0?u.addEventListener(d,g,{passive:M}):u.addEventListener(d,g,!1)}function SC(u,d,g,x,M){var C=x;if(!(d&1)&&!(d&2)&&x!==null)t:for(;;){if(x===null)return;var B=x.tag;if(B===3||B===4){var Y=x.stateNode.containerInfo;if(Y===M||Y.nodeType===8&&Y.parentNode===M)break;if(B===4)for(B=x.return;B!==null;){var et=B.tag;if((et===3||et===4)&&(et=B.stateNode.containerInfo,et===M||et.nodeType===8&&et.parentNode===M))return;B=B.return}for(;Y!==null;){if(B=_h(Y),B===null)return;if(et=B.tag,et===5||et===6||et===26||et===27){x=C=B;continue t}Y=Y.parentNode}}x=x.return}L2(function(){var st=C,mt=FI(g),At=[];t:{var dt=nP.get(u);if(dt!==void 0){var yt=Tv,Ft=u;switch(u){case"keypress":if(Dv(g)===0)break t;case"keydown":case"keyup":yt=O8;break;case"focusin":Ft="focus",yt=YI;break;case"focusout":Ft="blur",yt=YI;break;case"beforeblur":case"afterblur":yt=YI;break;case"click":if(g.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":yt=w2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":yt=S8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":yt=B8;break;case J2:case tP:case eP:yt=D8;break;case iP:yt=_8;break;case"scroll":case"scrollend":yt=b8;break;case"wheel":yt=F8;break;case"copy":case"cut":case"paste":yt=T8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":yt=R2;break;case"toggle":case"beforetoggle":yt=V8}var te=(d&4)!==0,Bi=!te&&(u==="scroll"||u==="scrollend"),rt=te?dt!==null?dt+"Capture":null:dt;te=[];for(var it=st,ht;it!==null;){var vt=it;if(ht=vt.stateNode,vt=vt.tag,vt!==5&&vt!==26&&vt!==27||ht===null||rt===null||(vt=Sy(it,rt),vt!=null&&te.push(nm(it,vt,ht))),Bi)break;it=it.return}0<te.length&&(dt=new yt(dt,Ft,null,g,mt),At.push({event:dt,listeners:te}))}}if(!(d&7)){t:{if(dt=u==="mouseover"||u==="pointerover",yt=u==="mouseout"||u==="pointerout",dt&&g!==jI&&(Ft=g.relatedTarget||g.fromElement)&&(_h(Ft)||Ft[Pp]))break t;if((yt||dt)&&(dt=mt.window===mt?mt:(dt=mt.ownerDocument)?dt.defaultView||dt.parentWindow:window,yt?(Ft=g.relatedTarget||g.toElement,yt=st,Ft=Ft?_h(Ft):null,Ft!==null&&(Bi=K(Ft),te=Ft.tag,Ft!==Bi||te!==5&&te!==27&&te!==6)&&(Ft=null)):(yt=null,Ft=st),yt!==Ft)){if(te=w2,vt="onMouseLeave",rt="onMouseEnter",it="mouse",(u==="pointerout"||u==="pointerover")&&(te=R2,vt="onPointerLeave",rt="onPointerEnter",it="pointer"),Bi=yt==null?dt:vy(yt),ht=Ft==null?dt:vy(Ft),dt=new te(vt,it+"leave",yt,g,mt),dt.target=Bi,dt.relatedTarget=ht,vt=null,_h(mt)===st&&(te=new te(rt,it+"enter",Ft,g,mt),te.target=ht,te.relatedTarget=Bi,vt=te),Bi=vt,yt&&Ft)e:{for(te=yt,rt=Ft,it=0,ht=te;ht;ht=pf(ht))it++;for(ht=0,vt=rt;vt;vt=pf(vt))ht++;for(;0<it-ht;)te=pf(te),it--;for(;0<ht-it;)rt=pf(rt),ht--;for(;it--;){if(te===rt||rt!==null&&te===rt.alternate)break e;te=pf(te),rt=pf(rt)}te=null}else te=null;yt!==null&&gz(At,dt,yt,te,!1),Ft!==null&&Bi!==null&&gz(At,Bi,Ft,te,!0)}}t:{if(dt=st?vy(st):window,yt=dt.nodeName&&dt.nodeName.toLowerCase(),yt==="select"||yt==="input"&&dt.type==="file")var Bt=V2;else if(F2(dt))if(U2)Bt=Q8;else{Bt=Z8;var ce=X8}else yt=dt.nodeName,!yt||yt.toLowerCase()!=="input"||dt.type!=="checkbox"&&dt.type!=="radio"?st&&_I(st.elementType)&&(Bt=V2):Bt=q8;if(Bt&&(Bt=Bt(u,st))){G2(At,Bt,g,mt);break t}ce&&ce(u,dt,st),u==="focusout"&&st&&dt.type==="number"&&st.memoizedProps.value!=null&&zI(dt,"number",dt.value)}switch(ce=st?vy(st):window,u){case"focusin":(F2(ce)||ce.contentEditable==="true")&&(Hp=ce,QI=st,Ly=null);break;case"focusout":Ly=QI=Hp=null;break;case"mousedown":JI=!0;break;case"contextmenu":case"mouseup":case"dragend":JI=!1,q2(At,g,mt);break;case"selectionchange":if(eX)break;case"keydown":case"keyup":q2(At,g,mt)}var Ht;if(KI)t:{switch(u){case"compositionstart":var Xt="onCompositionStart";break t;case"compositionend":Xt="onCompositionEnd";break t;case"compositionupdate":Xt="onCompositionUpdate";break t}Xt=void 0}else Up?_2(u,g)&&(Xt="onCompositionEnd"):u==="keydown"&&g.keyCode===229&&(Xt="onCompositionStart");Xt&&(P2&&g.locale!=="ko"&&(Up||Xt!=="onCompositionStart"?Xt==="onCompositionEnd"&&Up&&(Ht=N2()):(ou=mt,UI="value"in ou?ou.value:ou.textContent,Up=!0)),ce=u0(st,Xt),0<ce.length&&(Xt=new O2(Xt,u,null,g,mt),At.push({event:Xt,listeners:ce}),Ht?Xt.data=Ht:(Ht=j2(g),Ht!==null&&(Xt.data=Ht)))),(Ht=H8?W8(u,g):Y8(u,g))&&(Xt=u0(st,"onBeforeInput"),0<Xt.length&&(ce=new O2("onBeforeInput","beforeinput",null,g,mt),At.push({event:ce,listeners:Xt}),ce.data=Ht)),zX(At,u,st,g,mt)}pz(At,d)})}function nm(u,d,g){return{instance:u,listener:d,currentTarget:g}}function u0(u,d){for(var g=d+"Capture",x=[];u!==null;){var M=u,C=M.stateNode;M=M.tag,M!==5&&M!==26&&M!==27||C===null||(M=Sy(u,g),M!=null&&x.unshift(nm(u,M,C)),M=Sy(u,d),M!=null&&x.push(nm(u,M,C))),u=u.return}return x}function pf(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5&&u.tag!==27);return u||null}function gz(u,d,g,x,M){for(var C=d._reactName,B=[];g!==null&&g!==x;){var Y=g,et=Y.alternate,st=Y.stateNode;if(Y=Y.tag,et!==null&&et===x)break;Y!==5&&Y!==26&&Y!==27||st===null||(et=st,M?(st=Sy(g,C),st!=null&&B.unshift(nm(g,st,et))):M||(st=Sy(g,C),st!=null&&B.push(nm(g,st,et)))),g=g.return}B.length!==0&&u.push({event:d,listeners:B})}var GX=/\r\n?/g,VX=/\u0000|\uFFFD/g;function yz(u){return(typeof u=="string"?u:""+u).replace(GX,`
`).replace(VX,"")}function mz(u,d){return d=yz(d),yz(u)===d}function h0(){}function Ke(u,d,g,x,M,C){switch(g){case"children":typeof x=="string"?d==="body"||d==="textarea"&&x===""||Fp(u,x):(typeof x=="number"||typeof x=="bigint")&&d!=="body"&&Fp(u,""+x);break;case"className":bv(u,"class",x);break;case"tabIndex":bv(u,"tabindex",x);break;case"dir":case"role":case"viewBox":case"width":case"height":bv(u,g,x);break;case"style":C2(u,x,C);break;case"data":if(d!=="object"){bv(u,"data",x);break}case"src":case"href":if(x===""&&(d!=="a"||g!=="href")){u.removeAttribute(g);break}if(x==null||typeof x=="function"||typeof x=="symbol"||typeof x=="boolean"){u.removeAttribute(g);break}x=Mv(""+x),u.setAttribute(g,x);break;case"action":case"formAction":if(typeof x=="function"){u.setAttribute(g,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(g==="formAction"?(d!=="input"&&Ke(u,d,"name",M.name,M,null),Ke(u,d,"formEncType",M.formEncType,M,null),Ke(u,d,"formMethod",M.formMethod,M,null),Ke(u,d,"formTarget",M.formTarget,M,null)):(Ke(u,d,"encType",M.encType,M,null),Ke(u,d,"method",M.method,M,null),Ke(u,d,"target",M.target,M,null)));if(x==null||typeof x=="symbol"||typeof x=="boolean"){u.removeAttribute(g);break}x=Mv(""+x),u.setAttribute(g,x);break;case"onClick":x!=null&&(u.onclick=h0);break;case"onScroll":x!=null&&me("scroll",u);break;case"onScrollEnd":x!=null&&me("scrollend",u);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(n(61));if(g=x.__html,g!=null){if(M.children!=null)throw Error(n(60));u.innerHTML=g}}break;case"multiple":u.multiple=x&&typeof x!="function"&&typeof x!="symbol";break;case"muted":u.muted=x&&typeof x!="function"&&typeof x!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(x==null||typeof x=="function"||typeof x=="boolean"||typeof x=="symbol"){u.removeAttribute("xlink:href");break}g=Mv(""+x),u.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":x!=null&&typeof x!="function"&&typeof x!="symbol"?u.setAttribute(g,""+x):u.removeAttribute(g);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":x&&typeof x!="function"&&typeof x!="symbol"?u.setAttribute(g,""):u.removeAttribute(g);break;case"capture":case"download":x===!0?u.setAttribute(g,""):x!==!1&&x!=null&&typeof x!="function"&&typeof x!="symbol"?u.setAttribute(g,x):u.removeAttribute(g);break;case"cols":case"rows":case"size":case"span":x!=null&&typeof x!="function"&&typeof x!="symbol"&&!isNaN(x)&&1<=x?u.setAttribute(g,x):u.removeAttribute(g);break;case"rowSpan":case"start":x==null||typeof x=="function"||typeof x=="symbol"||isNaN(x)?u.removeAttribute(g):u.setAttribute(g,x);break;case"popover":me("beforetoggle",u),me("toggle",u),xv(u,"popover",x);break;case"xlinkActuate":zl(u,"http://www.w3.org/1999/xlink","xlink:actuate",x);break;case"xlinkArcrole":zl(u,"http://www.w3.org/1999/xlink","xlink:arcrole",x);break;case"xlinkRole":zl(u,"http://www.w3.org/1999/xlink","xlink:role",x);break;case"xlinkShow":zl(u,"http://www.w3.org/1999/xlink","xlink:show",x);break;case"xlinkTitle":zl(u,"http://www.w3.org/1999/xlink","xlink:title",x);break;case"xlinkType":zl(u,"http://www.w3.org/1999/xlink","xlink:type",x);break;case"xmlBase":zl(u,"http://www.w3.org/XML/1998/namespace","xml:base",x);break;case"xmlLang":zl(u,"http://www.w3.org/XML/1998/namespace","xml:lang",x);break;case"xmlSpace":zl(u,"http://www.w3.org/XML/1998/namespace","xml:space",x);break;case"is":xv(u,"is",x);break;case"innerText":case"textContent":break;default:(!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(g=m8.get(g)||g,xv(u,g,x))}}function MC(u,d,g,x,M,C){switch(g){case"style":C2(u,x,C);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(n(61));if(g=x.__html,g!=null){if(M.children!=null)throw Error(n(60));u.innerHTML=g}}break;case"children":typeof x=="string"?Fp(u,x):(typeof x=="number"||typeof x=="bigint")&&Fp(u,""+x);break;case"onScroll":x!=null&&me("scroll",u);break;case"onScrollEnd":x!=null&&me("scrollend",u);break;case"onClick":x!=null&&(u.onclick=h0);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!x2.hasOwnProperty(g))t:{if(g[0]==="o"&&g[1]==="n"&&(M=g.endsWith("Capture"),d=g.slice(2,M?g.length-7:void 0),C=u[la]||null,C=C!=null?C[g]:null,typeof C=="function"&&u.removeEventListener(d,C,M),typeof x=="function")){typeof C!="function"&&C!==null&&(g in u?u[g]=null:u.hasAttribute(g)&&u.removeAttribute(g)),u.addEventListener(d,x,M);break t}g in u?u[g]=x:x===!0?u.setAttribute(g,""):xv(u,g,x)}}}function es(u,d,g){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":me("error",u),me("load",u);var x=!1,M=!1,C;for(C in g)if(g.hasOwnProperty(C)){var B=g[C];if(B!=null)switch(C){case"src":x=!0;break;case"srcSet":M=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,d));default:Ke(u,d,C,B,g,null)}}M&&Ke(u,d,"srcSet",g.srcSet,g,null),x&&Ke(u,d,"src",g.src,g,null);return;case"input":me("invalid",u);var Y=C=B=M=null,et=null,st=null;for(x in g)if(g.hasOwnProperty(x)){var mt=g[x];if(mt!=null)switch(x){case"name":M=mt;break;case"type":B=mt;break;case"checked":et=mt;break;case"defaultChecked":st=mt;break;case"value":C=mt;break;case"defaultValue":Y=mt;break;case"children":case"dangerouslySetInnerHTML":if(mt!=null)throw Error(n(137,d));break;default:Ke(u,d,x,mt,g,null)}}A2(u,C,Y,et,st,B,M,!1),vv(u);return;case"select":me("invalid",u),x=B=C=null;for(M in g)if(g.hasOwnProperty(M)&&(Y=g[M],Y!=null))switch(M){case"value":C=Y;break;case"defaultValue":B=Y;break;case"multiple":x=Y;default:Ke(u,d,M,Y,g,null)}d=C,g=B,u.multiple=!!x,d!=null?jp(u,!!x,d,!1):g!=null&&jp(u,!!x,g,!0);return;case"textarea":me("invalid",u),C=M=x=null;for(B in g)if(g.hasOwnProperty(B)&&(Y=g[B],Y!=null))switch(B){case"value":x=Y;break;case"defaultValue":M=Y;break;case"children":C=Y;break;case"dangerouslySetInnerHTML":if(Y!=null)throw Error(n(91));break;default:Ke(u,d,B,Y,g,null)}I2(u,x,M,C),vv(u);return;case"option":for(et in g)if(g.hasOwnProperty(et)&&(x=g[et],x!=null))switch(et){case"selected":u.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:Ke(u,d,et,x,g,null)}return;case"dialog":me("cancel",u),me("close",u);break;case"iframe":case"object":me("load",u);break;case"video":case"audio":for(x=0;x<im.length;x++)me(im[x],u);break;case"image":me("error",u),me("load",u);break;case"details":me("toggle",u);break;case"embed":case"source":case"link":me("error",u),me("load",u);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(st in g)if(g.hasOwnProperty(st)&&(x=g[st],x!=null))switch(st){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,d));default:Ke(u,d,st,x,g,null)}return;default:if(_I(d)){for(mt in g)g.hasOwnProperty(mt)&&(x=g[mt],x!==void 0&&MC(u,d,mt,x,g,void 0));return}}for(Y in g)g.hasOwnProperty(Y)&&(x=g[Y],x!=null&&Ke(u,d,Y,x,g,null))}function UX(u,d,g,x){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var M=null,C=null,B=null,Y=null,et=null,st=null,mt=null;for(yt in g){var At=g[yt];if(g.hasOwnProperty(yt)&&At!=null)switch(yt){case"checked":break;case"value":break;case"defaultValue":et=At;default:x.hasOwnProperty(yt)||Ke(u,d,yt,null,x,At)}}for(var dt in x){var yt=x[dt];if(At=g[dt],x.hasOwnProperty(dt)&&(yt!=null||At!=null))switch(dt){case"type":C=yt;break;case"name":M=yt;break;case"checked":st=yt;break;case"defaultChecked":mt=yt;break;case"value":B=yt;break;case"defaultValue":Y=yt;break;case"children":case"dangerouslySetInnerHTML":if(yt!=null)throw Error(n(137,d));break;default:yt!==At&&Ke(u,d,dt,yt,x,At)}}BI(u,B,Y,et,st,mt,C,M);return;case"select":yt=B=Y=dt=null;for(C in g)if(et=g[C],g.hasOwnProperty(C)&&et!=null)switch(C){case"value":break;case"multiple":yt=et;default:x.hasOwnProperty(C)||Ke(u,d,C,null,x,et)}for(M in x)if(C=x[M],et=g[M],x.hasOwnProperty(M)&&(C!=null||et!=null))switch(M){case"value":dt=C;break;case"defaultValue":Y=C;break;case"multiple":B=C;default:C!==et&&Ke(u,d,M,C,x,et)}d=Y,g=B,x=yt,dt!=null?jp(u,!!g,dt,!1):!!x!=!!g&&(d!=null?jp(u,!!g,d,!0):jp(u,!!g,g?[]:"",!1));return;case"textarea":yt=dt=null;for(Y in g)if(M=g[Y],g.hasOwnProperty(Y)&&M!=null&&!x.hasOwnProperty(Y))switch(Y){case"value":break;case"children":break;default:Ke(u,d,Y,null,x,M)}for(B in x)if(M=x[B],C=g[B],x.hasOwnProperty(B)&&(M!=null||C!=null))switch(B){case"value":dt=M;break;case"defaultValue":yt=M;break;case"children":break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(n(91));break;default:M!==C&&Ke(u,d,B,M,x,C)}D2(u,dt,yt);return;case"option":for(var Ft in g)if(dt=g[Ft],g.hasOwnProperty(Ft)&&dt!=null&&!x.hasOwnProperty(Ft))switch(Ft){case"selected":u.selected=!1;break;default:Ke(u,d,Ft,null,x,dt)}for(et in x)if(dt=x[et],yt=g[et],x.hasOwnProperty(et)&&dt!==yt&&(dt!=null||yt!=null))switch(et){case"selected":u.selected=dt&&typeof dt!="function"&&typeof dt!="symbol";break;default:Ke(u,d,et,dt,x,yt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var te in g)dt=g[te],g.hasOwnProperty(te)&&dt!=null&&!x.hasOwnProperty(te)&&Ke(u,d,te,null,x,dt);for(st in x)if(dt=x[st],yt=g[st],x.hasOwnProperty(st)&&dt!==yt&&(dt!=null||yt!=null))switch(st){case"children":case"dangerouslySetInnerHTML":if(dt!=null)throw Error(n(137,d));break;default:Ke(u,d,st,dt,x,yt)}return;default:if(_I(d)){for(var Bi in g)dt=g[Bi],g.hasOwnProperty(Bi)&&dt!==void 0&&!x.hasOwnProperty(Bi)&&MC(u,d,Bi,void 0,x,dt);for(mt in x)dt=x[mt],yt=g[mt],!x.hasOwnProperty(mt)||dt===yt||dt===void 0&&yt===void 0||MC(u,d,mt,dt,x,yt);return}}for(var rt in g)dt=g[rt],g.hasOwnProperty(rt)&&dt!=null&&!x.hasOwnProperty(rt)&&Ke(u,d,rt,null,x,dt);for(At in x)dt=x[At],yt=g[At],!x.hasOwnProperty(At)||dt===yt||dt==null&&yt==null||Ke(u,d,At,dt,x,yt)}var AC=null,DC=null;function d0(u){return u.nodeType===9?u:u.ownerDocument}function xz(u){switch(u){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bz(u,d){if(u===0)switch(d){case"svg":return 1;case"math":return 2;default:return 0}return u===1&&d==="foreignObject"?0:u}function IC(u,d){return u==="textarea"||u==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.children=="bigint"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var TC=null;function HX(){var u=window.event;return u&&u.type==="popstate"?u===TC?!1:(TC=u,!0):(TC=null,!1)}var vz=typeof setTimeout=="function"?setTimeout:void 0,WX=typeof clearTimeout=="function"?clearTimeout:void 0,Sz=typeof Promise=="function"?Promise:void 0,YX=typeof queueMicrotask=="function"?queueMicrotask:typeof Sz<"u"?function(u){return Sz.resolve(null).then(u).catch($X)}:vz;function $X(u){setTimeout(function(){throw u})}function CC(u,d){var g=d,x=0;do{var M=g.nextSibling;if(u.removeChild(g),M&&M.nodeType===8)if(g=M.data,g==="/$"){if(x===0){u.removeChild(M),hm(d);return}x--}else g!=="$"&&g!=="$?"&&g!=="$!"||x++;g=M}while(g);hm(d)}function kC(u){var d=u.firstChild;for(d&&d.nodeType===10&&(d=d.nextSibling);d;){var g=d;switch(d=d.nextSibling,g.nodeName){case"HTML":case"HEAD":case"BODY":kC(g),PI(g);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(g.rel.toLowerCase()==="stylesheet")continue}u.removeChild(g)}}function KX(u,d,g,x){for(;u.nodeType===1;){var M=g;if(u.nodeName.toLowerCase()!==d.toLowerCase()){if(!x&&(u.nodeName!=="INPUT"||u.type!=="hidden"))break}else if(x){if(!u[by])switch(d){case"meta":if(!u.hasAttribute("itemprop"))break;return u;case"link":if(C=u.getAttribute("rel"),C==="stylesheet"&&u.hasAttribute("data-precedence"))break;if(C!==M.rel||u.getAttribute("href")!==(M.href==null?null:M.href)||u.getAttribute("crossorigin")!==(M.crossOrigin==null?null:M.crossOrigin)||u.getAttribute("title")!==(M.title==null?null:M.title))break;return u;case"style":if(u.hasAttribute("data-precedence"))break;return u;case"script":if(C=u.getAttribute("src"),(C!==(M.src==null?null:M.src)||u.getAttribute("type")!==(M.type==null?null:M.type)||u.getAttribute("crossorigin")!==(M.crossOrigin==null?null:M.crossOrigin))&&C&&u.hasAttribute("async")&&!u.hasAttribute("itemprop"))break;return u;default:return u}}else if(d==="input"&&u.type==="hidden"){var C=M.name==null?null:""+M.name;if(M.type==="hidden"&&u.getAttribute("name")===C)return u}else return u;if(u=nr(u.nextSibling),u===null)break}return null}function XX(u,d,g){if(d==="")return null;for(;u.nodeType!==3;)if((u.nodeType!==1||u.nodeName!=="INPUT"||u.type!=="hidden")&&!g||(u=nr(u.nextSibling),u===null))return null;return u}function nr(u){for(;u!=null;u=u.nextSibling){var d=u.nodeType;if(d===1||d===3)break;if(d===8){if(d=u.data,d==="$"||d==="$!"||d==="$?"||d==="F!"||d==="F")break;if(d==="/$")return null}}return u}function Mz(u){u=u.previousSibling;for(var d=0;u;){if(u.nodeType===8){var g=u.data;if(g==="$"||g==="$!"||g==="$?"){if(d===0)return u;d--}else g==="/$"&&d++}u=u.previousSibling}return null}function Az(u,d,g){switch(d=d0(g),u){case"html":if(u=d.documentElement,!u)throw Error(n(452));return u;case"head":if(u=d.head,!u)throw Error(n(453));return u;case"body":if(u=d.body,!u)throw Error(n(454));return u;default:throw Error(n(451))}}var go=new Map,Dz=new Set;function p0(u){return typeof u.getRootNode=="function"?u.getRootNode():u.ownerDocument}var Ql=J.d;J.d={f:ZX,r:qX,D:QX,C:JX,L:tZ,m:eZ,X:nZ,S:iZ,M:sZ};function ZX(){var u=Ql.f(),d=a0();return u||d}function qX(u){var d=Bp(u);d!==null&&d.tag===5&&d.type==="form"?qP(d):Ql.r(u)}var ff=typeof document>"u"?null:document;function Iz(u,d,g){var x=ff;if(x&&typeof d=="string"&&d){var M=so(d);M='link[rel="'+u+'"][href="'+M+'"]',typeof g=="string"&&(M+='[crossorigin="'+g+'"]'),Dz.has(M)||(Dz.add(M),u={rel:u,crossOrigin:g,href:d},x.querySelector(M)===null&&(d=x.createElement("link"),es(d,"link",u),zn(d),x.head.appendChild(d)))}}function QX(u){Ql.D(u),Iz("dns-prefetch",u,null)}function JX(u,d){Ql.C(u,d),Iz("preconnect",u,d)}function tZ(u,d,g){Ql.L(u,d,g);var x=ff;if(x&&u&&d){var M='link[rel="preload"][as="'+so(d)+'"]';d==="image"&&g&&g.imageSrcSet?(M+='[imagesrcset="'+so(g.imageSrcSet)+'"]',typeof g.imageSizes=="string"&&(M+='[imagesizes="'+so(g.imageSizes)+'"]')):M+='[href="'+so(u)+'"]';var C=M;switch(d){case"style":C=gf(u);break;case"script":C=yf(u)}go.has(C)||(u=L({rel:"preload",href:d==="image"&&g&&g.imageSrcSet?void 0:u,as:d},g),go.set(C,u),x.querySelector(M)!==null||d==="style"&&x.querySelector(sm(C))||d==="script"&&x.querySelector(am(C))||(d=x.createElement("link"),es(d,"link",u),zn(d),x.head.appendChild(d)))}}function eZ(u,d){Ql.m(u,d);var g=ff;if(g&&u){var x=d&&typeof d.as=="string"?d.as:"script",M='link[rel="modulepreload"][as="'+so(x)+'"][href="'+so(u)+'"]',C=M;switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=yf(u)}if(!go.has(C)&&(u=L({rel:"modulepreload",href:u},d),go.set(C,u),g.querySelector(M)===null)){switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(g.querySelector(am(C)))return}x=g.createElement("link"),es(x,"link",u),zn(x),g.head.appendChild(x)}}}function iZ(u,d,g){Ql.S(u,d,g);var x=ff;if(x&&u){var M=zp(x).hoistableStyles,C=gf(u);d=d||"default";var B=M.get(C);if(!B){var Y={loading:0,preload:null};if(B=x.querySelector(sm(C)))Y.loading=5;else{u=L({rel:"stylesheet",href:u,"data-precedence":d},g),(g=go.get(C))&&LC(u,g);var et=B=x.createElement("link");zn(et),es(et,"link",u),et._p=new Promise(function(st,mt){et.onload=st,et.onerror=mt}),et.addEventListener("load",function(){Y.loading|=1}),et.addEventListener("error",function(){Y.loading|=2}),Y.loading|=4,f0(B,d,x)}B={type:"stylesheet",instance:B,count:1,state:Y},M.set(C,B)}}}function nZ(u,d){Ql.X(u,d);var g=ff;if(g&&u){var x=zp(g).hoistableScripts,M=yf(u),C=x.get(M);C||(C=g.querySelector(am(M)),C||(u=L({src:u,async:!0},d),(d=go.get(M))&&NC(u,d),C=g.createElement("script"),zn(C),es(C,"link",u),g.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},x.set(M,C))}}function sZ(u,d){Ql.M(u,d);var g=ff;if(g&&u){var x=zp(g).hoistableScripts,M=yf(u),C=x.get(M);C||(C=g.querySelector(am(M)),C||(u=L({src:u,async:!0,type:"module"},d),(d=go.get(M))&&NC(u,d),C=g.createElement("script"),zn(C),es(C,"link",u),g.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},x.set(M,C))}}function Tz(u,d,g,x){var M=(M=bt.current)?p0(M):null;if(!M)throw Error(n(446));switch(u){case"meta":case"title":return null;case"style":return typeof g.precedence=="string"&&typeof g.href=="string"?(d=gf(g.href),g=zp(M).hoistableStyles,x=g.get(d),x||(x={type:"style",instance:null,count:0,state:null},g.set(d,x)),x):{type:"void",instance:null,count:0,state:null};case"link":if(g.rel==="stylesheet"&&typeof g.href=="string"&&typeof g.precedence=="string"){u=gf(g.href);var C=zp(M).hoistableStyles,B=C.get(u);if(B||(M=M.ownerDocument||M,B={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(u,B),(C=M.querySelector(sm(u)))&&!C._p&&(B.instance=C,B.state.loading=5),go.has(u)||(g={rel:"preload",as:"style",href:g.href,crossOrigin:g.crossOrigin,integrity:g.integrity,media:g.media,hrefLang:g.hrefLang,referrerPolicy:g.referrerPolicy},go.set(u,g),C||aZ(M,u,g,B.state))),d&&x===null)throw Error(n(528,""));return B}if(d&&x!==null)throw Error(n(529,""));return null;case"script":return d=g.async,g=g.src,typeof g=="string"&&d&&typeof d!="function"&&typeof d!="symbol"?(d=yf(g),g=zp(M).hoistableScripts,x=g.get(d),x||(x={type:"script",instance:null,count:0,state:null},g.set(d,x)),x):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,u))}}function gf(u){return'href="'+so(u)+'"'}function sm(u){return'link[rel="stylesheet"]['+u+"]"}function Cz(u){return L({},u,{"data-precedence":u.precedence,precedence:null})}function aZ(u,d,g,x){u.querySelector('link[rel="preload"][as="style"]['+d+"]")?x.loading=1:(d=u.createElement("link"),x.preload=d,d.addEventListener("load",function(){return x.loading|=1}),d.addEventListener("error",function(){return x.loading|=2}),es(d,"link",g),zn(d),u.head.appendChild(d))}function yf(u){return'[src="'+so(u)+'"]'}function am(u){return"script[async]"+u}function kz(u,d,g){if(d.count++,d.instance===null)switch(d.type){case"style":var x=u.querySelector('style[data-href~="'+so(g.href)+'"]');if(x)return d.instance=x,zn(x),x;var M=L({},g,{"data-href":g.href,"data-precedence":g.precedence,href:null,precedence:null});return x=(u.ownerDocument||u).createElement("style"),zn(x),es(x,"style",M),f0(x,g.precedence,u),d.instance=x;case"stylesheet":M=gf(g.href);var C=u.querySelector(sm(M));if(C)return d.state.loading|=4,d.instance=C,zn(C),C;x=Cz(g),(M=go.get(M))&&LC(x,M),C=(u.ownerDocument||u).createElement("link"),zn(C);var B=C;return B._p=new Promise(function(Y,et){B.onload=Y,B.onerror=et}),es(C,"link",x),d.state.loading|=4,f0(C,g.precedence,u),d.instance=C;case"script":return C=yf(g.src),(M=u.querySelector(am(C)))?(d.instance=M,zn(M),M):(x=g,(M=go.get(C))&&(x=L({},g),NC(x,M)),u=u.ownerDocument||u,M=u.createElement("script"),zn(M),es(M,"link",x),u.head.appendChild(M),d.instance=M);case"void":return null;default:throw Error(n(443,d.type))}else d.type==="stylesheet"&&!(d.state.loading&4)&&(x=d.instance,d.state.loading|=4,f0(x,g.precedence,u));return d.instance}function f0(u,d,g){for(var x=g.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),M=x.length?x[x.length-1]:null,C=M,B=0;B<x.length;B++){var Y=x[B];if(Y.dataset.precedence===d)C=Y;else if(C!==M)break}C?C.parentNode.insertBefore(u,C.nextSibling):(d=g.nodeType===9?g.head:g,d.insertBefore(u,d.firstChild))}function LC(u,d){u.crossOrigin==null&&(u.crossOrigin=d.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=d.referrerPolicy),u.title==null&&(u.title=d.title)}function NC(u,d){u.crossOrigin==null&&(u.crossOrigin=d.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=d.referrerPolicy),u.integrity==null&&(u.integrity=d.integrity)}var g0=null;function Lz(u,d,g){if(g0===null){var x=new Map,M=g0=new Map;M.set(g,x)}else M=g0,x=M.get(g),x||(x=new Map,M.set(g,x));if(x.has(u))return x;for(x.set(u,null),g=g.getElementsByTagName(u),M=0;M<g.length;M++){var C=g[M];if(!(C[by]||C[ys]||u==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var B=C.getAttribute(d)||"";B=u+B;var Y=x.get(B);Y?Y.push(C):x.set(B,[C])}}return x}function Nz(u,d,g){u=u.ownerDocument||u,u.head.insertBefore(g,d==="title"?u.querySelector("head > title"):null)}function oZ(u,d,g){if(g===1||d.itemProp!=null)return!1;switch(u){case"meta":case"title":return!0;case"style":if(typeof d.precedence!="string"||typeof d.href!="string"||d.href==="")break;return!0;case"link":if(typeof d.rel!="string"||typeof d.href!="string"||d.href===""||d.onLoad||d.onError)break;switch(d.rel){case"stylesheet":return u=d.disabled,typeof d.precedence=="string"&&u==null;default:return!0}case"script":if(d.async&&typeof d.async!="function"&&typeof d.async!="symbol"&&!d.onLoad&&!d.onError&&d.src&&typeof d.src=="string")return!0}return!1}function Ez(u){return!(u.type==="stylesheet"&&!(u.state.loading&3))}var om=null;function rZ(){}function lZ(u,d,g){if(om===null)throw Error(n(475));var x=om;if(d.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&!(d.state.loading&4)){if(d.instance===null){var M=gf(g.href),C=u.querySelector(sm(M));if(C){u=C._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(x.count++,x=y0.bind(x),u.then(x,x)),d.state.loading|=4,d.instance=C,zn(C);return}C=u.ownerDocument||u,g=Cz(g),(M=go.get(M))&&LC(g,M),C=C.createElement("link"),zn(C);var B=C;B._p=new Promise(function(Y,et){B.onload=Y,B.onerror=et}),es(C,"link",g),d.instance=C}x.stylesheets===null&&(x.stylesheets=new Map),x.stylesheets.set(d,u),(u=d.state.preload)&&!(d.state.loading&3)&&(x.count++,d=y0.bind(x),u.addEventListener("load",d),u.addEventListener("error",d))}}function cZ(){if(om===null)throw Error(n(475));var u=om;return u.stylesheets&&u.count===0&&EC(u,u.stylesheets),0<u.count?function(d){var g=setTimeout(function(){if(u.stylesheets&&EC(u,u.stylesheets),u.unsuspend){var x=u.unsuspend;u.unsuspend=null,x()}},6e4);return u.unsuspend=d,function(){u.unsuspend=null,clearTimeout(g)}}:null}function y0(){if(this.count--,this.count===0){if(this.stylesheets)EC(this,this.stylesheets);else if(this.unsuspend){var u=this.unsuspend;this.unsuspend=null,u()}}}var m0=null;function EC(u,d){u.stylesheets=null,u.unsuspend!==null&&(u.count++,m0=new Map,d.forEach(uZ,u),m0=null,y0.call(u))}function uZ(u,d){if(!(d.state.loading&4)){var g=m0.get(u);if(g)var x=g.get(null);else{g=new Map,m0.set(u,g);for(var M=u.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<M.length;C++){var B=M[C];(B.nodeName==="LINK"||B.getAttribute("media")!=="not all")&&(g.set(B.dataset.precedence,B),x=B)}x&&g.set(null,x)}M=d.instance,B=M.getAttribute("data-precedence"),C=g.get(B)||x,C===x&&g.set(null,M),g.set(B,M),this.count++,x=y0.bind(this),M.addEventListener("load",x),M.addEventListener("error",x),C?C.parentNode.insertBefore(M,C.nextSibling):(u=u.nodeType===9?u.head:u,u.insertBefore(M,u.firstChild)),d.state.loading|=4}}var rm={$$typeof:y,Provider:null,Consumer:null,_currentValue:nt,_currentValue2:nt,_threadCount:0};function hZ(u,d,g,x,M,C,B,Y){this.tag=1,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=OI(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=OI(0),this.hiddenUpdates=OI(null),this.identifierPrefix=x,this.onUncaughtError=M,this.onCaughtError=C,this.onRecoverableError=B,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Y,this.incompleteTransitions=new Map}function wz(u,d,g,x,M,C,B,Y,et,st,mt,At){return u=new hZ(u,d,g,B,Y,et,st,At),d=1,C===!0&&(d|=24),C=po(3,null,null,d),u.current=C,C.stateNode=u,d=cT(),d.refCount++,u.pooledCache=d,d.refCount++,C.memoizedState={element:x,isDehydrated:g,cache:d},UT(C),u}function Oz(u){return u?(u=$p,u):$p}function Rz(u,d,g,x,M,C){M=Oz(M),x.context===null?x.context=M:x.pendingContext=M,x=fu(d),x.payload={element:g},C=C===void 0?null:C,C!==null&&(x.callback=C),g=gu(u,x,d),g!==null&&(Us(g,u,d),Hy(g,u,d))}function Pz(u,d){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var g=u.retryLane;u.retryLane=g!==0&&g<d?g:d}}function wC(u,d){Pz(u,d),(u=u.alternate)&&Pz(u,d)}function Bz(u){if(u.tag===13){var d=ru(u,67108864);d!==null&&Us(d,u,67108864),wC(u,67108864)}}var x0=!0;function dZ(u,d,g,x){var M=O.T;O.T=null;var C=J.p;try{J.p=2,OC(u,d,g,x)}finally{J.p=C,O.T=M}}function pZ(u,d,g,x){var M=O.T;O.T=null;var C=J.p;try{J.p=8,OC(u,d,g,x)}finally{J.p=C,O.T=M}}function OC(u,d,g,x){if(x0){var M=RC(x);if(M===null)SC(u,d,x,b0,g),_z(u,x);else if(gZ(M,u,d,g,x))x.stopPropagation();else if(_z(u,x),d&4&&-1<fZ.indexOf(u)){for(;M!==null;){var C=Bp(M);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var B=Fr(C.pendingLanes);if(B!==0){var Y=C;for(Y.pendingLanes|=2,Y.entangledLanes|=2;B;){var et=1<<31-ee(B);Y.entanglements[1]|=et,B&=~et}Wr(C),!(Ai&6)&&(i0=Yt()+500,em(0))}}break;case 13:Y=ru(C,2),Y!==null&&Us(Y,C,2),a0(),wC(C,2)}if(C=RC(x),C===null&&SC(u,d,x,b0,g),C===M)break;M=C}M!==null&&x.stopPropagation()}else SC(u,d,x,null,g)}}function RC(u){return u=FI(u),PC(u)}var b0=null;function PC(u){if(b0=null,u=_h(u),u!==null){var d=K(u);if(d===null)u=null;else{var g=d.tag;if(g===13){if(u=X(d),u!==null)return u;u=null}else if(g===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;u=null}else d!==u&&(u=null)}}return b0=u,null}function zz(u){switch(u){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(cn()){case Ui:return 2;case gs:return 8;case Gs:case qn:return 32;case ra:return 268435456;default:return 32}default:return 32}}var BC=!1,Mu=null,Au=null,Du=null,lm=new Map,cm=new Map,Iu=[],fZ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _z(u,d){switch(u){case"focusin":case"focusout":Mu=null;break;case"dragenter":case"dragleave":Au=null;break;case"mouseover":case"mouseout":Du=null;break;case"pointerover":case"pointerout":lm.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":cm.delete(d.pointerId)}}function um(u,d,g,x,M,C){return u===null||u.nativeEvent!==C?(u={blockedOn:d,domEventName:g,eventSystemFlags:x,nativeEvent:C,targetContainers:[M]},d!==null&&(d=Bp(d),d!==null&&Bz(d)),u):(u.eventSystemFlags|=x,d=u.targetContainers,M!==null&&d.indexOf(M)===-1&&d.push(M),u)}function gZ(u,d,g,x,M){switch(d){case"focusin":return Mu=um(Mu,u,d,g,x,M),!0;case"dragenter":return Au=um(Au,u,d,g,x,M),!0;case"mouseover":return Du=um(Du,u,d,g,x,M),!0;case"pointerover":var C=M.pointerId;return lm.set(C,um(lm.get(C)||null,u,d,g,x,M)),!0;case"gotpointercapture":return C=M.pointerId,cm.set(C,um(cm.get(C)||null,u,d,g,x,M)),!0}return!1}function jz(u){var d=_h(u.target);if(d!==null){var g=K(d);if(g!==null){if(d=g.tag,d===13){if(d=X(g),d!==null){u.blockedOn=d,c8(u.priority,function(){if(g.tag===13){var x=Ra(),M=ru(g,x);M!==null&&Us(M,g,x),wC(g,x)}});return}}else if(d===3&&g.stateNode.current.memoizedState.isDehydrated){u.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}u.blockedOn=null}function v0(u){if(u.blockedOn!==null)return!1;for(var d=u.targetContainers;0<d.length;){var g=RC(u.nativeEvent);if(g===null){g=u.nativeEvent;var x=new g.constructor(g.type,g);jI=x,g.target.dispatchEvent(x),jI=null}else return d=Bp(g),d!==null&&Bz(d),u.blockedOn=g,!1;d.shift()}return!0}function Fz(u,d,g){v0(u)&&g.delete(d)}function yZ(){BC=!1,Mu!==null&&v0(Mu)&&(Mu=null),Au!==null&&v0(Au)&&(Au=null),Du!==null&&v0(Du)&&(Du=null),lm.forEach(Fz),cm.forEach(Fz)}function S0(u,d){u.blockedOn===d&&(u.blockedOn=null,BC||(BC=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,yZ)))}var M0=null;function Gz(u){M0!==u&&(M0=u,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){M0===u&&(M0=null);for(var d=0;d<u.length;d+=3){var g=u[d],x=u[d+1],M=u[d+2];if(typeof x!="function"){if(PC(x||g)===null)continue;break}var C=Bp(g);C!==null&&(u.splice(d,3),d-=3,IT(C,{pending:!0,data:M,method:g.method,action:x},x,M))}}))}function hm(u){function d(et){return S0(et,u)}Mu!==null&&S0(Mu,u),Au!==null&&S0(Au,u),Du!==null&&S0(Du,u),lm.forEach(d),cm.forEach(d);for(var g=0;g<Iu.length;g++){var x=Iu[g];x.blockedOn===u&&(x.blockedOn=null)}for(;0<Iu.length&&(g=Iu[0],g.blockedOn===null);)jz(g),g.blockedOn===null&&Iu.shift();if(g=(u.ownerDocument||u).$$reactFormReplay,g!=null)for(x=0;x<g.length;x+=3){var M=g[x],C=g[x+1],B=M[la]||null;if(typeof C=="function")B||Gz(g);else if(B){var Y=null;if(C&&C.hasAttribute("formAction")){if(M=C,B=C[la]||null)Y=B.formAction;else if(PC(M)!==null)continue}else Y=B.action;typeof Y=="function"?g[x+1]=Y:(g.splice(x,3),x-=3),Gz(g)}}}function zC(u){this._internalRoot=u}A0.prototype.render=zC.prototype.render=function(u){var d=this._internalRoot;if(d===null)throw Error(n(409));var g=d.current,x=Ra();Rz(g,x,u,d,null,null)},A0.prototype.unmount=zC.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var d=u.containerInfo;u.tag===0&&hf(),Rz(u.current,2,null,u,null,null),a0(),d[Pp]=null}};function A0(u){this._internalRoot=u}A0.prototype.unstable_scheduleHydration=function(u){if(u){var d=g2();u={blockedOn:null,target:u,priority:d};for(var g=0;g<Iu.length&&d!==0&&d<Iu[g].priority;g++);Iu.splice(g,0,u),g===0&&jz(u)}};var Vz=e.version;if(Vz!=="19.0.0")throw Error(n(527,Vz,"19.0.0"));J.findDOMNode=function(u){var d=u._reactInternals;if(d===void 0)throw typeof u.render=="function"?Error(n(188)):(u=Object.keys(u).join(","),Error(n(268,u)));return u=U(d),u=u!==null?Z(u):null,u=u===null?null:u.stateNode,u};var mZ={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:O,findFiberByHostInstance:_h,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var D0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!D0.isDisabled&&D0.supportsFiber)try{_r=D0.inject(mZ),Qn=D0}catch{}}return fm.createRoot=function(u,d){if(!s(u))throw Error(n(299));var g=!1,x="",M=aB,C=oB,B=rB,Y=null;return d!=null&&(d.unstable_strictMode===!0&&(g=!0),d.identifierPrefix!==void 0&&(x=d.identifierPrefix),d.onUncaughtError!==void 0&&(M=d.onUncaughtError),d.onCaughtError!==void 0&&(C=d.onCaughtError),d.onRecoverableError!==void 0&&(B=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(Y=d.unstable_transitionCallbacks)),d=wz(u,1,!1,null,null,g,x,M,C,B,Y,null),u[Pp]=d.current,vC(u.nodeType===8?u.parentNode:u),new zC(d)},fm.hydrateRoot=function(u,d,g){if(!s(u))throw Error(n(299));var x=!1,M="",C=aB,B=oB,Y=rB,et=null,st=null;return g!=null&&(g.unstable_strictMode===!0&&(x=!0),g.identifierPrefix!==void 0&&(M=g.identifierPrefix),g.onUncaughtError!==void 0&&(C=g.onUncaughtError),g.onCaughtError!==void 0&&(B=g.onCaughtError),g.onRecoverableError!==void 0&&(Y=g.onRecoverableError),g.unstable_transitionCallbacks!==void 0&&(et=g.unstable_transitionCallbacks),g.formState!==void 0&&(st=g.formState)),d=wz(u,1,!0,d,g??null,x,M,C,B,Y,et,st),d.context=Oz(null),g=d.current,x=Ra(),M=fu(x),M.callback=null,gu(g,M,x),d.current.lanes=x,xy(d,x),Wr(d),u[Pp]=d.current,vC(u),new A0(d)},fm.version="19.0.0",fm}var Qz;function LZ(){if(Qz)return FC.exports;Qz=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),FC.exports=kZ(),FC.exports}var NZ=LZ();const gx={black:"#000",white:"#fff"},mf={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},xf={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},bf={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},vf={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Sf={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},gm={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},EZ={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function sh(t,...e){const i=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(n=>i.searchParams.append("args[]",n)),`Minified MUI error #${t}; visit ${i} for the full message.`}const eA="$$material";function hM(){return hM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)({}).hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},hM.apply(null,arguments)}function wZ(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function OZ(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var RZ=function(){function t(i){var n=this;this._insertTag=function(s){var a;n.tags.length===0?n.insertionPoint?a=n.insertionPoint.nextSibling:n.prepend?a=n.container.firstChild:a=n.before:a=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(s,a),n.tags.push(s)},this.isSpeedy=i.speedy===void 0?!0:i.speedy,this.tags=[],this.ctr=0,this.nonce=i.nonce,this.key=i.key,this.container=i.container,this.prepend=i.prepend,this.insertionPoint=i.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(OZ(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var a=wZ(s);try{a.insertRule(n,a.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){var s;return(s=n.parentNode)==null?void 0:s.removeChild(n)}),this.tags=[],this.ctr=0},t}(),Ss="-ms-",dM="-moz-",_e="-webkit-",KG="comm",eN="rule",iN="decl",PZ="@import",XG="@keyframes",BZ="@layer",zZ=Math.abs,iA=String.fromCharCode,_Z=Object.assign;function jZ(t,e){return os(t,0)^45?(((e<<2^os(t,0))<<2^os(t,1))<<2^os(t,2))<<2^os(t,3):0}function ZG(t){return t.trim()}function FZ(t,e){return(t=e.exec(t))?t[0]:t}function je(t,e,i){return t.replace(e,i)}function zk(t,e){return t.indexOf(e)}function os(t,e){return t.charCodeAt(e)|0}function yx(t,e,i){return t.slice(e,i)}function Jr(t){return t.length}function nN(t){return t.length}function I0(t,e){return e.push(t),t}function GZ(t,e){return t.map(e).join("")}var nA=1,cg=1,qG=0,Sa=0,yn=0,xg="";function sA(t,e,i,n,s,a,o){return{value:t,root:e,parent:i,type:n,props:s,children:a,line:nA,column:cg,length:o,return:""}}function ym(t,e){return _Z(sA("",null,null,"",null,null,0),t,{length:-t.length},e)}function VZ(){return yn}function UZ(){return yn=Sa>0?os(xg,--Sa):0,cg--,yn===10&&(cg=1,nA--),yn}function Va(){return yn=Sa<qG?os(xg,Sa++):0,cg++,yn===10&&(cg=1,nA++),yn}function rl(){return os(xg,Sa)}function $S(){return Sa}function ib(t,e){return yx(xg,t,e)}function mx(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function QG(t){return nA=cg=1,qG=Jr(xg=t),Sa=0,[]}function JG(t){return xg="",t}function KS(t){return ZG(ib(Sa-1,_k(t===91?t+2:t===40?t+1:t)))}function HZ(t){for(;(yn=rl())&&yn<33;)Va();return mx(t)>2||mx(yn)>3?"":" "}function WZ(t,e){for(;--e&&Va()&&!(yn<48||yn>102||yn>57&&yn<65||yn>70&&yn<97););return ib(t,$S()+(e<6&&rl()==32&&Va()==32))}function _k(t){for(;Va();)switch(yn){case t:return Sa;case 34:case 39:t!==34&&t!==39&&_k(yn);break;case 40:t===41&&_k(t);break;case 92:Va();break}return Sa}function YZ(t,e){for(;Va()&&t+yn!==57;)if(t+yn===84&&rl()===47)break;return"/*"+ib(e,Sa-1)+"*"+iA(t===47?t:Va())}function $Z(t){for(;!mx(rl());)Va();return ib(t,Sa)}function KZ(t){return JG(XS("",null,null,null,[""],t=QG(t),0,[0],t))}function XS(t,e,i,n,s,a,o,r,l){for(var c=0,h=0,p=o,f=0,y=0,m=0,b=1,S=1,v=1,D=0,I="",T=s,k=a,E=n,w=I;S;)switch(m=D,D=Va()){case 40:if(m!=108&&os(w,p-1)==58){zk(w+=je(KS(D),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:w+=KS(D);break;case 9:case 10:case 13:case 32:w+=HZ(m);break;case 92:w+=WZ($S()-1,7);continue;case 47:switch(rl()){case 42:case 47:I0(XZ(YZ(Va(),$S()),e,i),l);break;default:w+="/"}break;case 123*b:r[c++]=Jr(w)*v;case 125*b:case 59:case 0:switch(D){case 0:case 125:S=0;case 59+h:v==-1&&(w=je(w,/\f/g,"")),y>0&&Jr(w)-p&&I0(y>32?t4(w+";",n,i,p-1):t4(je(w," ","")+";",n,i,p-2),l);break;case 59:w+=";";default:if(I0(E=Jz(w,e,i,c,h,s,r,I,T=[],k=[],p),a),D===123)if(h===0)XS(w,e,E,E,T,a,p,r,k);else switch(f===99&&os(w,3)===110?100:f){case 100:case 108:case 109:case 115:XS(t,E,E,n&&I0(Jz(t,E,E,0,0,s,r,I,s,T=[],p),k),s,k,p,r,n?T:k);break;default:XS(w,E,E,E,[""],k,0,r,k)}}c=h=y=0,b=v=1,I=w="",p=o;break;case 58:p=1+Jr(w),y=m;default:if(b<1){if(D==123)--b;else if(D==125&&b++==0&&UZ()==125)continue}switch(w+=iA(D),D*b){case 38:v=h>0?1:(w+="\f",-1);break;case 44:r[c++]=(Jr(w)-1)*v,v=1;break;case 64:rl()===45&&(w+=KS(Va())),f=rl(),h=p=Jr(I=w+=$Z($S())),D++;break;case 45:m===45&&Jr(w)==2&&(b=0)}}return a}function Jz(t,e,i,n,s,a,o,r,l,c,h){for(var p=s-1,f=s===0?a:[""],y=nN(f),m=0,b=0,S=0;m<n;++m)for(var v=0,D=yx(t,p+1,p=zZ(b=o[m])),I=t;v<y;++v)(I=ZG(b>0?f[v]+" "+D:je(D,/&\f/g,f[v])))&&(l[S++]=I);return sA(t,e,i,s===0?eN:r,l,c,h)}function XZ(t,e,i){return sA(t,e,i,KG,iA(VZ()),yx(t,2,-2),0)}function t4(t,e,i,n){return sA(t,e,i,iN,yx(t,0,n),yx(t,n+1,-1),n)}function Jf(t,e){for(var i="",n=nN(t),s=0;s<n;s++)i+=e(t[s],s,t,e)||"";return i}function ZZ(t,e,i,n){switch(t.type){case BZ:if(t.children.length)break;case PZ:case iN:return t.return=t.return||t.value;case KG:return"";case XG:return t.return=t.value+"{"+Jf(t.children,n)+"}";case eN:t.value=t.props.join(",")}return Jr(i=Jf(t.children,n))?t.return=t.value+"{"+i+"}":""}function qZ(t){var e=nN(t);return function(i,n,s,a){for(var o="",r=0;r<e;r++)o+=t[r](i,n,s,a)||"";return o}}function QZ(t){return function(e){e.root||(e=e.return)&&t(e)}}function tV(t){var e=Object.create(null);return function(i){return e[i]===void 0&&(e[i]=t(i)),e[i]}}var JZ=function(e,i,n){for(var s=0,a=0;s=a,a=rl(),s===38&&a===12&&(i[n]=1),!mx(a);)Va();return ib(e,Sa)},t7=function(e,i){var n=-1,s=44;do switch(mx(s)){case 0:s===38&&rl()===12&&(i[n]=1),e[n]+=JZ(Sa-1,i,n);break;case 2:e[n]+=KS(s);break;case 4:if(s===44){e[++n]=rl()===58?"&\f":"",i[n]=e[n].length;break}default:e[n]+=iA(s)}while(s=Va());return e},e7=function(e,i){return JG(t7(QG(e),i))},e4=new WeakMap,i7=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var i=e.value,n=e.parent,s=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&i.charCodeAt(0)!==58&&!e4.get(n))&&!s){e4.set(e,!0);for(var a=[],o=e7(i,a),r=n.props,l=0,c=0;l<o.length;l++)for(var h=0;h<r.length;h++,c++)e.props[c]=a[l]?o[l].replace(/&\f/g,r[h]):r[h]+" "+o[l]}}},n7=function(e){if(e.type==="decl"){var i=e.value;i.charCodeAt(0)===108&&i.charCodeAt(2)===98&&(e.return="",e.value="")}};function eV(t,e){switch(jZ(t,e)){case 5103:return _e+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return _e+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return _e+t+dM+t+Ss+t+t;case 6828:case 4268:return _e+t+Ss+t+t;case 6165:return _e+t+Ss+"flex-"+t+t;case 5187:return _e+t+je(t,/(\w+).+(:[^]+)/,_e+"box-$1$2"+Ss+"flex-$1$2")+t;case 5443:return _e+t+Ss+"flex-item-"+je(t,/flex-|-self/,"")+t;case 4675:return _e+t+Ss+"flex-line-pack"+je(t,/align-content|flex-|-self/,"")+t;case 5548:return _e+t+Ss+je(t,"shrink","negative")+t;case 5292:return _e+t+Ss+je(t,"basis","preferred-size")+t;case 6060:return _e+"box-"+je(t,"-grow","")+_e+t+Ss+je(t,"grow","positive")+t;case 4554:return _e+je(t,/([^-])(transform)/g,"$1"+_e+"$2")+t;case 6187:return je(je(je(t,/(zoom-|grab)/,_e+"$1"),/(image-set)/,_e+"$1"),t,"")+t;case 5495:case 3959:return je(t,/(image-set\([^]*)/,_e+"$1$`$1");case 4968:return je(je(t,/(.+:)(flex-)?(.*)/,_e+"box-pack:$3"+Ss+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+_e+t+t;case 4095:case 3583:case 4068:case 2532:return je(t,/(.+)-inline(.+)/,_e+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Jr(t)-1-e>6)switch(os(t,e+1)){case 109:if(os(t,e+4)!==45)break;case 102:return je(t,/(.+:)(.+)-([^]+)/,"$1"+_e+"$2-$3$1"+dM+(os(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~zk(t,"stretch")?eV(je(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(os(t,e+1)!==115)break;case 6444:switch(os(t,Jr(t)-3-(~zk(t,"!important")&&10))){case 107:return je(t,":",":"+_e)+t;case 101:return je(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+_e+(os(t,14)===45?"inline-":"")+"box$3$1"+_e+"$2$3$1"+Ss+"$2box$3")+t}break;case 5936:switch(os(t,e+11)){case 114:return _e+t+Ss+je(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return _e+t+Ss+je(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return _e+t+Ss+je(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return _e+t+Ss+t+t}return t}var s7=function(e,i,n,s){if(e.length>-1&&!e.return)switch(e.type){case iN:e.return=eV(e.value,e.length);break;case XG:return Jf([ym(e,{value:je(e.value,"@","@"+_e)})],s);case eN:if(e.length)return GZ(e.props,function(a){switch(FZ(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Jf([ym(e,{props:[je(a,/:(read-\w+)/,":"+dM+"$1")]})],s);case"::placeholder":return Jf([ym(e,{props:[je(a,/:(plac\w+)/,":"+_e+"input-$1")]}),ym(e,{props:[je(a,/:(plac\w+)/,":"+dM+"$1")]}),ym(e,{props:[je(a,/:(plac\w+)/,Ss+"input-$1")]})],s)}return""})}},a7=[s7],o7=function(e){var i=e.key;if(i==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(b){var S=b.getAttribute("data-emotion");S.indexOf(" ")!==-1&&(document.head.appendChild(b),b.setAttribute("data-s",""))})}var s=e.stylisPlugins||a7,a={},o,r=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+i+' "]'),function(b){for(var S=b.getAttribute("data-emotion").split(" "),v=1;v<S.length;v++)a[S[v]]=!0;r.push(b)});var l,c=[i7,n7];{var h,p=[ZZ,QZ(function(b){h.insert(b)})],f=qZ(c.concat(s,p)),y=function(S){return Jf(KZ(S),f)};l=function(S,v,D,I){h=D,y(S?S+"{"+v.styles+"}":v.styles),I&&(m.inserted[v.name]=!0)}}var m={key:i,sheet:new RZ({key:i,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:l};return m.sheet.hydrate(r),m},HC={exports:{}},Ue={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i4;function r7(){if(i4)return Ue;i4=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,i=t?Symbol.for("react.portal"):60106,n=t?Symbol.for("react.fragment"):60107,s=t?Symbol.for("react.strict_mode"):60108,a=t?Symbol.for("react.profiler"):60114,o=t?Symbol.for("react.provider"):60109,r=t?Symbol.for("react.context"):60110,l=t?Symbol.for("react.async_mode"):60111,c=t?Symbol.for("react.concurrent_mode"):60111,h=t?Symbol.for("react.forward_ref"):60112,p=t?Symbol.for("react.suspense"):60113,f=t?Symbol.for("react.suspense_list"):60120,y=t?Symbol.for("react.memo"):60115,m=t?Symbol.for("react.lazy"):60116,b=t?Symbol.for("react.block"):60121,S=t?Symbol.for("react.fundamental"):60117,v=t?Symbol.for("react.responder"):60118,D=t?Symbol.for("react.scope"):60119;function I(k){if(typeof k=="object"&&k!==null){var E=k.$$typeof;switch(E){case e:switch(k=k.type,k){case l:case c:case n:case a:case s:case p:return k;default:switch(k=k&&k.$$typeof,k){case r:case h:case m:case y:case o:return k;default:return E}}case i:return E}}}function T(k){return I(k)===c}return Ue.AsyncMode=l,Ue.ConcurrentMode=c,Ue.ContextConsumer=r,Ue.ContextProvider=o,Ue.Element=e,Ue.ForwardRef=h,Ue.Fragment=n,Ue.Lazy=m,Ue.Memo=y,Ue.Portal=i,Ue.Profiler=a,Ue.StrictMode=s,Ue.Suspense=p,Ue.isAsyncMode=function(k){return T(k)||I(k)===l},Ue.isConcurrentMode=T,Ue.isContextConsumer=function(k){return I(k)===r},Ue.isContextProvider=function(k){return I(k)===o},Ue.isElement=function(k){return typeof k=="object"&&k!==null&&k.$$typeof===e},Ue.isForwardRef=function(k){return I(k)===h},Ue.isFragment=function(k){return I(k)===n},Ue.isLazy=function(k){return I(k)===m},Ue.isMemo=function(k){return I(k)===y},Ue.isPortal=function(k){return I(k)===i},Ue.isProfiler=function(k){return I(k)===a},Ue.isStrictMode=function(k){return I(k)===s},Ue.isSuspense=function(k){return I(k)===p},Ue.isValidElementType=function(k){return typeof k=="string"||typeof k=="function"||k===n||k===c||k===a||k===s||k===p||k===f||typeof k=="object"&&k!==null&&(k.$$typeof===m||k.$$typeof===y||k.$$typeof===o||k.$$typeof===r||k.$$typeof===h||k.$$typeof===S||k.$$typeof===v||k.$$typeof===D||k.$$typeof===b)},Ue.typeOf=I,Ue}var n4;function l7(){return n4||(n4=1,HC.exports=r7()),HC.exports}var WC,s4;function c7(){if(s4)return WC;s4=1;var t=l7(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};a[t.ForwardRef]=n,a[t.Memo]=s;function o(m){return t.isMemo(m)?s:a[m.$$typeof]||e}var r=Object.defineProperty,l=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;function y(m,b,S){if(typeof b!="string"){if(f){var v=p(b);v&&v!==f&&y(m,v,S)}var D=l(b);c&&(D=D.concat(c(b)));for(var I=o(m),T=o(b),k=0;k<D.length;++k){var E=D[k];if(!i[E]&&!(S&&S[E])&&!(T&&T[E])&&!(I&&I[E])){var w=h(b,E);try{r(m,E,w)}catch{}}}}return m}return WC=y,WC}c7();var u7=!0;function iV(t,e,i){var n="";return i.split(" ").forEach(function(s){t[s]!==void 0?e.push(t[s]+";"):s&&(n+=s+" ")}),n}var sN=function(e,i,n){var s=e.key+"-"+i.name;(n===!1||u7===!1)&&e.registered[s]===void 0&&(e.registered[s]=i.styles)},aN=function(e,i,n){sN(e,i,n);var s=e.key+"-"+i.name;if(e.inserted[i.name]===void 0){var a=i;do e.insert(i===a?"."+s:"",a,e.sheet,!0),a=a.next;while(a!==void 0)}};function h7(t){for(var e=0,i,n=0,s=t.length;s>=4;++n,s-=4)i=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,i=(i&65535)*1540483477+((i>>>16)*59797<<16),i^=i>>>24,e=(i&65535)*1540483477+((i>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var d7={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},p7=/[A-Z]|^ms/g,f7=/_EMO_([^_]+?)_([^]*?)_EMO_/g,nV=function(e){return e.charCodeAt(1)===45},a4=function(e){return e!=null&&typeof e!="boolean"},YC=tV(function(t){return nV(t)?t:t.replace(p7,"-$&").toLowerCase()}),o4=function(e,i){switch(e){case"animation":case"animationName":if(typeof i=="string")return i.replace(f7,function(n,s,a){return tl={name:s,styles:a,next:tl},s})}return d7[e]!==1&&!nV(e)&&typeof i=="number"&&i!==0?i+"px":i};function xx(t,e,i){if(i==null)return"";var n=i;if(n.__emotion_styles!==void 0)return n;switch(typeof i){case"boolean":return"";case"object":{var s=i;if(s.anim===1)return tl={name:s.name,styles:s.styles,next:tl},s.name;var a=i;if(a.styles!==void 0){var o=a.next;if(o!==void 0)for(;o!==void 0;)tl={name:o.name,styles:o.styles,next:tl},o=o.next;var r=a.styles+";";return r}return g7(t,e,i)}case"function":{if(t!==void 0){var l=tl,c=i(t);return tl=l,xx(t,e,c)}break}}var h=i;if(e==null)return h;var p=e[h];return p!==void 0?p:h}function g7(t,e,i){var n="";if(Array.isArray(i))for(var s=0;s<i.length;s++)n+=xx(t,e,i[s])+";";else for(var a in i){var o=i[a];if(typeof o!="object"){var r=o;e!=null&&e[r]!==void 0?n+=a+"{"+e[r]+"}":a4(r)&&(n+=YC(a)+":"+o4(a,r)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var l=0;l<o.length;l++)a4(o[l])&&(n+=YC(a)+":"+o4(a,o[l])+";");else{var c=xx(t,e,o);switch(a){case"animation":case"animationName":{n+=YC(a)+":"+c+";";break}default:n+=a+"{"+c+"}"}}}return n}var r4=/label:\s*([^\s;{]+)\s*(;|$)/g,tl;function nb(t,e,i){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var n=!0,s="";tl=void 0;var a=t[0];if(a==null||a.raw===void 0)n=!1,s+=xx(i,e,a);else{var o=a;s+=o[0]}for(var r=1;r<t.length;r++)if(s+=xx(i,e,t[r]),n){var l=a;s+=l[r]}r4.lastIndex=0;for(var c="",h;(h=r4.exec(s))!==null;)c+="-"+h[1];var p=h7(s)+c;return{name:p,styles:s,next:tl}}var y7=function(e){return e()},sV=Bk.useInsertionEffect?Bk.useInsertionEffect:!1,aV=sV||y7,l4=sV||Q.useLayoutEffect,oV=Q.createContext(typeof HTMLElement<"u"?o7({key:"css"}):null);oV.Provider;var oN=function(e){return Q.forwardRef(function(i,n){var s=Q.useContext(oV);return e(i,s,n)})},aA=Q.createContext({}),rN={}.hasOwnProperty,jk="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",m7=function(e,i){var n={};for(var s in i)rN.call(i,s)&&(n[s]=i[s]);return n[jk]=e,n},x7=function(e){var i=e.cache,n=e.serialized,s=e.isStringTag;return sN(i,n,s),aV(function(){return aN(i,n,s)}),null},b7=oN(function(t,e,i){var n=t.css;typeof n=="string"&&e.registered[n]!==void 0&&(n=e.registered[n]);var s=t[jk],a=[n],o="";typeof t.className=="string"?o=iV(e.registered,a,t.className):t.className!=null&&(o=t.className+" ");var r=nb(a,void 0,Q.useContext(aA));o+=e.key+"-"+r.name;var l={};for(var c in t)rN.call(t,c)&&c!=="css"&&c!==jk&&(l[c]=t[c]);return l.className=o,i&&(l.ref=i),Q.createElement(Q.Fragment,null,Q.createElement(x7,{cache:e,serialized:r,isStringTag:typeof s=="string"}),Q.createElement(s,l))}),v7=b7,c4=function(e,i){var n=arguments;if(i==null||!rN.call(i,"css"))return Q.createElement.apply(void 0,n);var s=n.length,a=new Array(s);a[0]=v7,a[1]=m7(e,i);for(var o=2;o<s;o++)a[o]=n[o];return Q.createElement.apply(null,a)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(c4||(c4={}));var S7=oN(function(t,e){var i=t.styles,n=nb([i],void 0,Q.useContext(aA)),s=Q.useRef();return l4(function(){var a=e.key+"-global",o=new e.sheet.constructor({key:a,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),r=!1,l=document.querySelector('style[data-emotion="'+a+" "+n.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(r=!0,l.setAttribute("data-emotion",a),o.hydrate([l])),s.current=[o,r],function(){o.flush()}},[e]),l4(function(){var a=s.current,o=a[0],r=a[1];if(r){a[1]=!1;return}if(n.next!==void 0&&aN(e,n.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",n,o,!1)},[e,n.name]),null});function lN(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return nb(e)}function sb(){var t=lN.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var M7=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,A7=tV(function(t){return M7.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),D7=A7,I7=function(e){return e!=="theme"},u4=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?D7:I7},h4=function(e,i,n){var s;if(i){var a=i.shouldForwardProp;s=e.__emotion_forwardProp&&a?function(o){return e.__emotion_forwardProp(o)&&a(o)}:a}return typeof s!="function"&&n&&(s=e.__emotion_forwardProp),s},T7=function(e){var i=e.cache,n=e.serialized,s=e.isStringTag;return sN(i,n,s),aV(function(){return aN(i,n,s)}),null},C7=function t(e,i){var n=e.__emotion_real===e,s=n&&e.__emotion_base||e,a,o;i!==void 0&&(a=i.label,o=i.target);var r=h4(e,i,n),l=r||u4(s),c=!l("as");return function(){var h=arguments,p=n&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(a!==void 0&&p.push("label:"+a+";"),h[0]==null||h[0].raw===void 0)p.push.apply(p,h);else{var f=h[0];p.push(f[0]);for(var y=h.length,m=1;m<y;m++)p.push(h[m],f[m])}var b=oN(function(S,v,D){var I=c&&S.as||s,T="",k=[],E=S;if(S.theme==null){E={};for(var w in S)E[w]=S[w];E.theme=Q.useContext(aA)}typeof S.className=="string"?T=iV(v.registered,k,S.className):S.className!=null&&(T=S.className+" ");var R=nb(p.concat(k),v.registered,E);T+=v.key+"-"+R.name,o!==void 0&&(T+=" "+o);var O=c&&r===void 0?u4(I):l,L={};for(var F in S)c&&F==="as"||O(F)&&(L[F]=S[F]);return L.className=T,D&&(L.ref=D),Q.createElement(Q.Fragment,null,Q.createElement(T7,{cache:v,serialized:R,isStringTag:typeof I=="string"}),Q.createElement(I,L))});return b.displayName=a!==void 0?a:"Styled("+(typeof s=="string"?s:s.displayName||s.name||"Component")+")",b.defaultProps=e.defaultProps,b.__emotion_real=b,b.__emotion_base=s,b.__emotion_styles=p,b.__emotion_forwardProp=r,Object.defineProperty(b,"toString",{value:function(){return"."+o}}),b.withComponent=function(S,v){var D=t(S,hM({},i,v,{shouldForwardProp:h4(b,v,!0)}));return D.apply(void 0,p)},b}},k7=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Fk=C7.bind(null);k7.forEach(function(t){Fk[t]=Fk(t)});function L7(t){return t==null||Object.keys(t).length===0}function N7(t){const{styles:e,defaultTheme:i={}}=t,n=typeof e=="function"?s=>e(L7(s)?i:s):e;return q.jsx(S7,{styles:n})}/**
 * @mui/styled-engine v6.4.3
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function rV(t,e){return Fk(t,e)}function E7(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const d4=[];function p4(t){return d4[0]=t,nb(d4)}var $C={exports:{}},Xe={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f4;function w7(){if(f4)return Xe;f4=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),r=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.for("react.offscreen"),y=Symbol.for("react.client.reference");function m(b){if(typeof b=="object"&&b!==null){var S=b.$$typeof;switch(S){case t:switch(b=b.type,b){case i:case s:case n:case l:case c:return b;default:switch(b=b&&b.$$typeof,b){case o:case r:case p:case h:return b;case a:return b;default:return S}}case e:return S}}}return Xe.ContextConsumer=a,Xe.ContextProvider=o,Xe.Element=t,Xe.ForwardRef=r,Xe.Fragment=i,Xe.Lazy=p,Xe.Memo=h,Xe.Portal=e,Xe.Profiler=s,Xe.StrictMode=n,Xe.Suspense=l,Xe.SuspenseList=c,Xe.isContextConsumer=function(b){return m(b)===a},Xe.isContextProvider=function(b){return m(b)===o},Xe.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===t},Xe.isForwardRef=function(b){return m(b)===r},Xe.isFragment=function(b){return m(b)===i},Xe.isLazy=function(b){return m(b)===p},Xe.isMemo=function(b){return m(b)===h},Xe.isPortal=function(b){return m(b)===e},Xe.isProfiler=function(b){return m(b)===s},Xe.isStrictMode=function(b){return m(b)===n},Xe.isSuspense=function(b){return m(b)===l},Xe.isSuspenseList=function(b){return m(b)===c},Xe.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===i||b===s||b===n||b===l||b===c||b===f||typeof b=="object"&&b!==null&&(b.$$typeof===p||b.$$typeof===h||b.$$typeof===o||b.$$typeof===a||b.$$typeof===r||b.$$typeof===y||b.getModuleId!==void 0)},Xe.typeOf=m,Xe}var g4;function O7(){return g4||(g4=1,$C.exports=w7()),$C.exports}var lV=O7();function sl(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function cV(t){if(Q.isValidElement(t)||lV.isValidElementType(t)||!sl(t))return t;const e={};return Object.keys(t).forEach(i=>{e[i]=cV(t[i])}),e}function Ua(t,e,i={clone:!0}){const n=i.clone?{...t}:t;return sl(t)&&sl(e)&&Object.keys(e).forEach(s=>{Q.isValidElement(e[s])||lV.isValidElementType(e[s])?n[s]=e[s]:sl(e[s])&&Object.prototype.hasOwnProperty.call(t,s)&&sl(t[s])?n[s]=Ua(t[s],e[s],i):i.clone?n[s]=sl(e[s])?cV(e[s]):e[s]:n[s]=e[s]}),n}const R7=t=>{const e=Object.keys(t).map(i=>({key:i,val:t[i]}))||[];return e.sort((i,n)=>i.val-n.val),e.reduce((i,n)=>({...i,[n.key]:n.val}),{})};function P7(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:i="px",step:n=5,...s}=t,a=R7(e),o=Object.keys(a);function r(f){return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${i})`}function l(f){return`@media (max-width:${(typeof e[f]=="number"?e[f]:f)-n/100}${i})`}function c(f,y){const m=o.indexOf(y);return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${i}) and (max-width:${(m!==-1&&typeof e[o[m]]=="number"?e[o[m]]:y)-n/100}${i})`}function h(f){return o.indexOf(f)+1<o.length?c(f,o[o.indexOf(f)+1]):r(f)}function p(f){const y=o.indexOf(f);return y===0?r(o[1]):y===o.length-1?l(o[y]):c(f,o[o.indexOf(f)+1]).replace("@media","@media not all and")}return{keys:o,values:a,up:r,down:l,between:c,only:h,not:p,unit:i,...s}}function B7(t,e){if(!t.containerQueries)return e;const i=Object.keys(e).filter(n=>n.startsWith("@container")).sort((n,s)=>{var o,r;const a=/min-width:\s*([0-9.]+)/;return+(((o=n.match(a))==null?void 0:o[1])||0)-+(((r=s.match(a))==null?void 0:r[1])||0)});return i.length?i.reduce((n,s)=>{const a=e[s];return delete n[s],n[s]=a,n},{...e}):e}function z7(t,e){return e==="@"||e.startsWith("@")&&(t.some(i=>e.startsWith(`@${i}`))||!!e.match(/^@\d/))}function _7(t,e){const i=e.match(/^@([^/]+)?\/?(.+)?$/);if(!i)return null;const[,n,s]=i,a=Number.isNaN(+n)?n||0:+n;return t.containerQueries(s).up(a)}function j7(t){const e=(a,o)=>a.replace("@media",o?`@container ${o}`:"@container");function i(a,o){a.up=(...r)=>e(t.breakpoints.up(...r),o),a.down=(...r)=>e(t.breakpoints.down(...r),o),a.between=(...r)=>e(t.breakpoints.between(...r),o),a.only=(...r)=>e(t.breakpoints.only(...r),o),a.not=(...r)=>{const l=e(t.breakpoints.not(...r),o);return l.includes("not all and")?l.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):l}}const n={},s=a=>(i(n,a),n);return i(s),{...t,containerQueries:s}}const F7={borderRadius:4};function ex(t,e){return e?Ua(t,e,{clone:!1}):t}const oA={xs:0,sm:600,md:900,lg:1200,xl:1536},y4={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${oA[t]}px)`},G7={containerQueries:t=>({up:e=>{let i=typeof e=="number"?e:oA[e]||e;return typeof i=="number"&&(i=`${i}px`),t?`@container ${t} (min-width:${i})`:`@container (min-width:${i})`}})};function Fo(t,e,i){const n=t.theme||{};if(Array.isArray(e)){const a=n.breakpoints||y4;return e.reduce((o,r,l)=>(o[a.up(a.keys[l])]=i(e[l]),o),{})}if(typeof e=="object"){const a=n.breakpoints||y4;return Object.keys(e).reduce((o,r)=>{if(z7(a.keys,r)){const l=_7(n.containerQueries?n:G7,r);l&&(o[l]=i(e[r],r))}else if(Object.keys(a.values||oA).includes(r)){const l=a.up(r);o[l]=i(e[r],r)}else{const l=r;o[l]=e[l]}return o},{})}return i(e)}function V7(t={}){var i;return((i=t.keys)==null?void 0:i.reduce((n,s)=>{const a=t.up(s);return n[a]={},n},{}))||{}}function U7(t,e){return t.reduce((i,n)=>{const s=i[n];return(!s||Object.keys(s).length===0)&&delete i[n],i},e)}function H7(t,e){if(typeof t!="object")return{};const i={},n=Object.keys(e);return Array.isArray(t)?n.forEach((s,a)=>{a<t.length&&(i[s]=!0)}):n.forEach(s=>{t[s]!=null&&(i[s]=!0)}),i}function rA({values:t,breakpoints:e,base:i}){const n=i||H7(t,e),s=Object.keys(n);if(s.length===0)return t;let a;return s.reduce((o,r,l)=>(Array.isArray(t)?(o[r]=t[l]!=null?t[l]:t[a],a=l):typeof t=="object"?(o[r]=t[r]!=null?t[r]:t[a],a=r):o[r]=t,o),{})}function Tt(t){if(typeof t!="string")throw new Error(sh(7));return t.charAt(0).toUpperCase()+t.slice(1)}function lA(t,e,i=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&i){const n=`vars.${e}`.split(".").reduce((s,a)=>s&&s[a]?s[a]:null,t);if(n!=null)return n}return e.split(".").reduce((n,s)=>n&&n[s]!=null?n[s]:null,t)}function pM(t,e,i,n=i){let s;return typeof t=="function"?s=t(i):Array.isArray(t)?s=t[i]||n:s=lA(t,i)||n,e&&(s=e(s,n,t)),s}function Qi(t){const{prop:e,cssProperty:i=t.prop,themeKey:n,transform:s}=t,a=o=>{if(o[e]==null)return null;const r=o[e],l=o.theme,c=lA(l,n)||{};return Fo(o,r,p=>{let f=pM(c,s,p);return p===f&&typeof p=="string"&&(f=pM(c,s,`${e}${p==="default"?"":Tt(p)}`,p)),i===!1?f:{[i]:f}})};return a.propTypes={},a.filterProps=[e],a}function W7(t){const e={};return i=>(e[i]===void 0&&(e[i]=t(i)),e[i])}const Y7={m:"margin",p:"padding"},$7={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},m4={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},K7=W7(t=>{if(t.length>2)if(m4[t])t=m4[t];else return[t];const[e,i]=t.split(""),n=Y7[e],s=$7[i]||"";return Array.isArray(s)?s.map(a=>n+a):[n+s]}),cN=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],uN=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...cN,...uN];function ab(t,e,i,n){const s=lA(t,e,!0)??i;return typeof s=="number"||typeof s=="string"?a=>typeof a=="string"?a:typeof s=="string"?`calc(${a} * ${s})`:s*a:Array.isArray(s)?a=>{if(typeof a=="string")return a;const o=Math.abs(a),r=s[o];return a>=0?r:typeof r=="number"?-r:`-${r}`}:typeof s=="function"?s:()=>{}}function hN(t){return ab(t,"spacing",8)}function ob(t,e){return typeof e=="string"||e==null?e:t(e)}function X7(t,e){return i=>t.reduce((n,s)=>(n[s]=ob(e,i),n),{})}function Z7(t,e,i,n){if(!e.includes(i))return null;const s=K7(i),a=X7(s,n),o=t[i];return Fo(t,o,a)}function uV(t,e){const i=hN(t.theme);return Object.keys(t).map(n=>Z7(t,e,n,i)).reduce(ex,{})}function zi(t){return uV(t,cN)}zi.propTypes={};zi.filterProps=cN;function _i(t){return uV(t,uN)}_i.propTypes={};_i.filterProps=uN;function hV(t=8,e=hN({spacing:t})){if(t.mui)return t;const i=(...n)=>(n.length===0?[1]:n).map(a=>{const o=e(a);return typeof o=="number"?`${o}px`:o}).join(" ");return i.mui=!0,i}function cA(...t){const e=t.reduce((n,s)=>(s.filterProps.forEach(a=>{n[a]=s}),n),{}),i=n=>Object.keys(n).reduce((s,a)=>e[a]?ex(s,e[a](n)):s,{});return i.propTypes={},i.filterProps=t.reduce((n,s)=>n.concat(s.filterProps),[]),i}function Co(t){return typeof t!="number"?t:`${t}px solid`}function Uo(t,e){return Qi({prop:t,themeKey:"borders",transform:e})}const q7=Uo("border",Co),Q7=Uo("borderTop",Co),J7=Uo("borderRight",Co),tq=Uo("borderBottom",Co),eq=Uo("borderLeft",Co),iq=Uo("borderColor"),nq=Uo("borderTopColor"),sq=Uo("borderRightColor"),aq=Uo("borderBottomColor"),oq=Uo("borderLeftColor"),rq=Uo("outline",Co),lq=Uo("outlineColor"),uA=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=ab(t.theme,"shape.borderRadius",4),i=n=>({borderRadius:ob(e,n)});return Fo(t,t.borderRadius,i)}return null};uA.propTypes={};uA.filterProps=["borderRadius"];cA(q7,Q7,J7,tq,eq,iq,nq,sq,aq,oq,uA,rq,lq);const hA=t=>{if(t.gap!==void 0&&t.gap!==null){const e=ab(t.theme,"spacing",8),i=n=>({gap:ob(e,n)});return Fo(t,t.gap,i)}return null};hA.propTypes={};hA.filterProps=["gap"];const dA=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=ab(t.theme,"spacing",8),i=n=>({columnGap:ob(e,n)});return Fo(t,t.columnGap,i)}return null};dA.propTypes={};dA.filterProps=["columnGap"];const pA=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=ab(t.theme,"spacing",8),i=n=>({rowGap:ob(e,n)});return Fo(t,t.rowGap,i)}return null};pA.propTypes={};pA.filterProps=["rowGap"];const cq=Qi({prop:"gridColumn"}),uq=Qi({prop:"gridRow"}),hq=Qi({prop:"gridAutoFlow"}),dq=Qi({prop:"gridAutoColumns"}),pq=Qi({prop:"gridAutoRows"}),fq=Qi({prop:"gridTemplateColumns"}),gq=Qi({prop:"gridTemplateRows"}),yq=Qi({prop:"gridTemplateAreas"}),mq=Qi({prop:"gridArea"});cA(hA,dA,pA,cq,uq,hq,dq,pq,fq,gq,yq,mq);function tg(t,e){return e==="grey"?e:t}const xq=Qi({prop:"color",themeKey:"palette",transform:tg}),bq=Qi({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:tg}),vq=Qi({prop:"backgroundColor",themeKey:"palette",transform:tg});cA(xq,bq,vq);function _a(t){return t<=1&&t!==0?`${t*100}%`:t}const Sq=Qi({prop:"width",transform:_a}),dN=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=i=>{var s,a,o,r,l;const n=((o=(a=(s=t.theme)==null?void 0:s.breakpoints)==null?void 0:a.values)==null?void 0:o[i])||oA[i];return n?((l=(r=t.theme)==null?void 0:r.breakpoints)==null?void 0:l.unit)!=="px"?{maxWidth:`${n}${t.theme.breakpoints.unit}`}:{maxWidth:n}:{maxWidth:_a(i)}};return Fo(t,t.maxWidth,e)}return null};dN.filterProps=["maxWidth"];const Mq=Qi({prop:"minWidth",transform:_a}),Aq=Qi({prop:"height",transform:_a}),Dq=Qi({prop:"maxHeight",transform:_a}),Iq=Qi({prop:"minHeight",transform:_a});Qi({prop:"size",cssProperty:"width",transform:_a});Qi({prop:"size",cssProperty:"height",transform:_a});const Tq=Qi({prop:"boxSizing"});cA(Sq,dN,Mq,Aq,Dq,Iq,Tq);const rb={border:{themeKey:"borders",transform:Co},borderTop:{themeKey:"borders",transform:Co},borderRight:{themeKey:"borders",transform:Co},borderBottom:{themeKey:"borders",transform:Co},borderLeft:{themeKey:"borders",transform:Co},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Co},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:uA},color:{themeKey:"palette",transform:tg},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:tg},backgroundColor:{themeKey:"palette",transform:tg},p:{style:_i},pt:{style:_i},pr:{style:_i},pb:{style:_i},pl:{style:_i},px:{style:_i},py:{style:_i},padding:{style:_i},paddingTop:{style:_i},paddingRight:{style:_i},paddingBottom:{style:_i},paddingLeft:{style:_i},paddingX:{style:_i},paddingY:{style:_i},paddingInline:{style:_i},paddingInlineStart:{style:_i},paddingInlineEnd:{style:_i},paddingBlock:{style:_i},paddingBlockStart:{style:_i},paddingBlockEnd:{style:_i},m:{style:zi},mt:{style:zi},mr:{style:zi},mb:{style:zi},ml:{style:zi},mx:{style:zi},my:{style:zi},margin:{style:zi},marginTop:{style:zi},marginRight:{style:zi},marginBottom:{style:zi},marginLeft:{style:zi},marginX:{style:zi},marginY:{style:zi},marginInline:{style:zi},marginInlineStart:{style:zi},marginInlineEnd:{style:zi},marginBlock:{style:zi},marginBlockStart:{style:zi},marginBlockEnd:{style:zi},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:hA},rowGap:{style:pA},columnGap:{style:dA},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:_a},maxWidth:{style:dN},minWidth:{transform:_a},height:{transform:_a},maxHeight:{transform:_a},minHeight:{transform:_a},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function Cq(...t){const e=t.reduce((n,s)=>n.concat(Object.keys(s)),[]),i=new Set(e);return t.every(n=>i.size===Object.keys(n).length)}function kq(t,e){return typeof t=="function"?t(e):t}function Lq(){function t(i,n,s,a){const o={[i]:n,theme:s},r=a[i];if(!r)return{[i]:n};const{cssProperty:l=i,themeKey:c,transform:h,style:p}=r;if(n==null)return null;if(c==="typography"&&n==="inherit")return{[i]:n};const f=lA(s,c)||{};return p?p(o):Fo(o,n,m=>{let b=pM(f,h,m);return m===b&&typeof m=="string"&&(b=pM(f,h,`${i}${m==="default"?"":Tt(m)}`,m)),l===!1?b:{[l]:b}})}function e(i){const{sx:n,theme:s={}}=i||{};if(!n)return null;const a=s.unstable_sxConfig??rb;function o(r){let l=r;if(typeof r=="function")l=r(s);else if(typeof r!="object")return r;if(!l)return null;const c=V7(s.breakpoints),h=Object.keys(c);let p=c;return Object.keys(l).forEach(f=>{const y=kq(l[f],s);if(y!=null)if(typeof y=="object")if(a[f])p=ex(p,t(f,y,s,a));else{const m=Fo({theme:s},y,b=>({[f]:b}));Cq(m,y)?p[f]=e({sx:y,theme:s}):p=ex(p,m)}else p=ex(p,t(f,y,s,a))}),B7(s,U7(h,p))}return Array.isArray(n)?n.map(o):o(n)}return e}const Wd=Lq();Wd.filterProps=["sx"];function Nq(t,e){var n;const i=this;if(i.vars){if(!((n=i.colorSchemes)!=null&&n[t])||typeof i.getColorSchemeSelector!="function")return{};let s=i.getColorSchemeSelector(t);return s==="&"?e:((s.includes("data-")||s.includes("."))&&(s=`*:where(${s.replace(/\s*&$/,"")}) &`),{[s]:e})}return i.palette.mode===t?e:{}}function pN(t={},...e){const{breakpoints:i={},palette:n={},spacing:s,shape:a={},...o}=t,r=P7(i),l=hV(s);let c=Ua({breakpoints:r,direction:"ltr",components:{},palette:{mode:"light",...n},spacing:l,shape:{...F7,...a}},o);return c=j7(c),c.applyStyles=Nq,c=e.reduce((h,p)=>Ua(h,p),c),c.unstable_sxConfig={...rb,...o==null?void 0:o.unstable_sxConfig},c.unstable_sx=function(p){return Wd({sx:p,theme:this})},c}function Eq(t){return Object.keys(t).length===0}function wq(t=null){const e=Q.useContext(aA);return!e||Eq(e)?t:e}const Oq=pN();function fN(t=Oq){return wq(t)}function Rq({styles:t,themeId:e,defaultTheme:i={}}){const n=fN(i),s=typeof t=="function"?t(e&&n[e]||n):t;return q.jsx(N7,{styles:s})}const Pq=t=>{var n;const e={systemProps:{},otherProps:{}},i=((n=t==null?void 0:t.theme)==null?void 0:n.unstable_sxConfig)??rb;return Object.keys(t).forEach(s=>{i[s]?e.systemProps[s]=t[s]:e.otherProps[s]=t[s]}),e};function gN(t){const{sx:e,...i}=t,{systemProps:n,otherProps:s}=Pq(i);let a;return Array.isArray(e)?a=[n,...e]:typeof e=="function"?a=(...o)=>{const r=e(...o);return sl(r)?{...n,...r}:n}:a={...n,...e},{...s,sx:a}}const x4=t=>t,Bq=()=>{let t=x4;return{configure(e){t=e},generate(e){return t(e)},reset(){t=x4}}},dV=Bq();function pV(t){var e,i,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(i=pV(t[e]))&&(n&&(n+=" "),n+=i)}else for(i in t)t[i]&&(n&&(n+=" "),n+=i);return n}function jt(){for(var t,e,i=0,n="",s=arguments.length;i<s;i++)(t=arguments[i])&&(e=pV(t))&&(n&&(n+=" "),n+=e);return n}function zq(t={}){const{themeId:e,defaultTheme:i,defaultClassName:n="MuiBox-root",generateClassName:s}=t,a=rV("div",{shouldForwardProp:r=>r!=="theme"&&r!=="sx"&&r!=="as"})(Wd);return Q.forwardRef(function(l,c){const h=fN(i),{className:p,component:f="div",...y}=gN(l);return q.jsx(a,{as:f,ref:c,className:jt(p,s?s(n):n),theme:e&&h[e]||h,...y})})}const _q={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Ae(t,e,i="Mui"){const n=_q[e];return n?`${i}-${n}`:`${dV.generate(t)}-${e}`}function be(t,e,i="Mui"){const n={};return e.forEach(s=>{n[s]=Ae(t,s,i)}),n}function fV(t){const{variants:e,...i}=t,n={variants:e,style:p4(i),isProcessed:!0};return n.style===i||e&&e.forEach(s=>{typeof s.style!="function"&&(s.style=p4(s.style))}),n}const jq=pN();function KC(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function Fq(t){return t?(e,i)=>i[t]:null}function Gq(t,e,i){t.theme=Hq(t.theme)?i:t.theme[e]||t.theme}function ZS(t,e){const i=typeof e=="function"?e(t):e;if(Array.isArray(i))return i.flatMap(n=>ZS(t,n));if(Array.isArray(i==null?void 0:i.variants)){let n;if(i.isProcessed)n=i.style;else{const{variants:s,...a}=i;n=a}return gV(t,i.variants,[n])}return i!=null&&i.isProcessed?i.style:i}function gV(t,e,i=[]){var s;let n;t:for(let a=0;a<e.length;a+=1){const o=e[a];if(typeof o.props=="function"){if(n??(n={...t,...t.ownerState,ownerState:t.ownerState}),!o.props(n))continue}else for(const r in o.props)if(t[r]!==o.props[r]&&((s=t.ownerState)==null?void 0:s[r])!==o.props[r])continue t;typeof o.style=="function"?(n??(n={...t,...t.ownerState,ownerState:t.ownerState}),i.push(o.style(n))):i.push(o.style)}return i}function Vq(t={}){const{themeId:e,defaultTheme:i=jq,rootShouldForwardProp:n=KC,slotShouldForwardProp:s=KC}=t;function a(r){Gq(r,e,i)}return(r,l={})=>{E7(r,k=>k.filter(E=>E!==Wd));const{name:c,slot:h,skipVariantsResolver:p,skipSx:f,overridesResolver:y=Fq(Yq(h)),...m}=l,b=p!==void 0?p:h&&h!=="Root"&&h!=="root"||!1,S=f||!1;let v=KC;h==="Root"||h==="root"?v=n:h?v=s:Wq(r)&&(v=void 0);const D=rV(r,{shouldForwardProp:v,label:Uq(),...m}),I=k=>{if(typeof k=="function"&&k.__emotion_real!==k)return function(w){return ZS(w,k)};if(sl(k)){const E=fV(k);return E.variants?function(R){return ZS(R,E)}:E.style}return k},T=(...k)=>{const E=[],w=k.map(I),R=[];if(E.push(a),c&&y&&R.push(function(z){var G,$;const H=($=(G=z.theme.components)==null?void 0:G[c])==null?void 0:$.styleOverrides;if(!H)return null;const W={};for(const K in H)W[K]=ZS(z,H[K]);return y(z,W)}),c&&!b&&R.push(function(z){var W,G;const V=z.theme,H=(G=(W=V==null?void 0:V.components)==null?void 0:W[c])==null?void 0:G.variants;return H?gV(z,H):null}),S||R.push(Wd),Array.isArray(w[0])){const F=w.shift(),z=new Array(E.length).fill(""),V=new Array(R.length).fill("");let H;H=[...z,...F,...V],H.raw=[...z,...F.raw,...V],E.unshift(H)}const O=[...E,...w,...R],L=D(...O);return r.muiName&&(L.muiName=r.muiName),L};return D.withConfig&&(T.withConfig=D.withConfig),T}}function Uq(t,e){return void 0}function Hq(t){for(const e in t)return!1;return!0}function Wq(t){return typeof t=="string"&&t.charCodeAt(0)>96}function Yq(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}function fM(t,e){const i={...e};for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const s=n;if(s==="components"||s==="slots")i[s]={...t[s],...i[s]};else if(s==="componentsProps"||s==="slotProps"){const a=t[s],o=e[s];if(!o)i[s]=a||{};else if(!a)i[s]=o;else{i[s]={...o};for(const r in a)if(Object.prototype.hasOwnProperty.call(a,r)){const l=r;i[s][l]=fM(a[l],o[l])}}}else i[s]===void 0&&(i[s]=t[s])}return i}const Dc=typeof window<"u"?Q.useLayoutEffect:Q.useEffect;function $q(t,e=Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,i))}function yN(t,e=0,i=1){return $q(t,e,i)}function Kq(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let i=t.match(e);return i&&i[0].length===1&&(i=i.map(n=>n+n)),i?`rgb${i.length===4?"a":""}(${i.map((n,s)=>s<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function ah(t){if(t.type)return t;if(t.charAt(0)==="#")return ah(Kq(t));const e=t.indexOf("("),i=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(i))throw new Error(sh(9,t));let n=t.substring(e+1,t.length-1),s;if(i==="color"){if(n=n.split(" "),s=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(s))throw new Error(sh(10,s))}else n=n.split(",");return n=n.map(a=>parseFloat(a)),{type:i,values:n,colorSpace:s}}const Xq=t=>{const e=ah(t);return e.values.slice(0,3).map((i,n)=>e.type.includes("hsl")&&n!==0?`${i}%`:i).join(" ")},Vm=(t,e)=>{try{return Xq(t)}catch{return t}};function fA(t){const{type:e,colorSpace:i}=t;let{values:n}=t;return e.includes("rgb")?n=n.map((s,a)=>a<3?parseInt(s,10):s):e.includes("hsl")&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),e.includes("color")?n=`${i} ${n.join(" ")}`:n=`${n.join(", ")}`,`${e}(${n})`}function yV(t){t=ah(t);const{values:e}=t,i=e[0],n=e[1]/100,s=e[2]/100,a=n*Math.min(s,1-s),o=(c,h=(c+i/30)%12)=>s-a*Math.max(Math.min(h-3,9-h,1),-1);let r="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(r+="a",l.push(e[3])),fA({type:r,values:l})}function Gk(t){t=ah(t);let e=t.type==="hsl"||t.type==="hsla"?ah(yV(t)).values:t.values;return e=e.map(i=>(t.type!=="color"&&(i/=255),i<=.03928?i/12.92:((i+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function Zq(t,e){const i=Gk(t),n=Gk(e);return(Math.max(i,n)+.05)/(Math.min(i,n)+.05)}function Fe(t,e){return t=ah(t),e=yN(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,fA(t)}function T0(t,e,i){try{return Fe(t,e)}catch{return t}}function gA(t,e){if(t=ah(t),e=yN(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let i=0;i<3;i+=1)t.values[i]*=1-e;return fA(t)}function ei(t,e,i){try{return gA(t,e)}catch{return t}}function yA(t,e){if(t=ah(t),e=yN(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let i=0;i<3;i+=1)t.values[i]+=(255-t.values[i])*e;else if(t.type.includes("color"))for(let i=0;i<3;i+=1)t.values[i]+=(1-t.values[i])*e;return fA(t)}function ii(t,e,i){try{return yA(t,e)}catch{return t}}function qq(t,e=.15){return Gk(t)>.5?gA(t,e):yA(t,e)}function C0(t,e,i){try{return qq(t,e)}catch{return t}}function b4(...t){return t.reduce((e,i)=>i==null?e:function(...s){e.apply(this,s),i.apply(this,s)},()=>{})}function mA(t,e=166){let i;function n(...s){const a=()=>{t.apply(this,s)};clearTimeout(i),i=setTimeout(a,e)}return n.clear=()=>{clearTimeout(i)},n}function br(t){return t&&t.ownerDocument||document}function vr(t){return br(t).defaultView||window}function Vk(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let v4=0;function Qq(t){const[e,i]=Q.useState(t),n=t||e;return Q.useEffect(()=>{e==null&&(v4+=1,i(`mui-${v4}`))},[e]),n}const Jq={...Bk},S4=Jq.useId;function mV(t){if(S4!==void 0){const e=S4();return t??e}return Qq(t)}function tQ({controlled:t,default:e,name:i,state:n="value"}){const{current:s}=Q.useRef(t!==void 0),[a,o]=Q.useState(e),r=s?t:a,l=Q.useCallback(c=>{s||o(c)},[]);return[r,l]}function bc(t){const e=Q.useRef(t);return Dc(()=>{e.current=t}),Q.useRef((...i)=>(0,e.current)(...i)).current}function Ls(...t){return Q.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(i=>{Vk(i,e)})},t)}const M4={};function xV(t,e){const i=Q.useRef(M4);return i.current===M4&&(i.current=t(e)),i}const eQ=[];function iQ(t){Q.useEffect(t,eQ)}class mN{constructor(){dm(this,"currentId",null);dm(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});dm(this,"disposeEffect",()=>this.clear)}static create(){return new mN}start(e,i){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,i()},e)}}function bV(){const t=xV(mN.create).current;return iQ(t.disposeEffect),t}function A4(t){try{return t.matches(":focus-visible")}catch{}return!1}function vV(t=window){const e=t.document.documentElement.clientWidth;return t.innerWidth-e}const SV=t=>{const e=Q.useRef({});return Q.useEffect(()=>{e.current=t}),e.current};function Te(t,e,i=void 0){const n={};for(const s in t){const a=t[s];let o="",r=!0;for(let l=0;l<a.length;l+=1){const c=a[l];c&&(o+=(r===!0?"":" ")+e(c),r=!1,i&&i[c]&&(o+=" "+i[c]))}n[s]=o}return n}function nQ(t){return typeof t=="string"}function MV(t,e,i){return t===void 0||nQ(t)?e:{...e,ownerState:{...e.ownerState,...i}}}function AV(t,e=[]){if(t===void 0)return{};const i={};return Object.keys(t).filter(n=>n.match(/^on[A-Z]/)&&typeof t[n]=="function"&&!e.includes(n)).forEach(n=>{i[n]=t[n]}),i}function D4(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(i=>!(i.match(/^on[A-Z]/)&&typeof t[i]=="function")).forEach(i=>{e[i]=t[i]}),e}function DV(t){const{getSlotProps:e,additionalProps:i,externalSlotProps:n,externalForwardedProps:s,className:a}=t;if(!e){const y=jt(i==null?void 0:i.className,a,s==null?void 0:s.className,n==null?void 0:n.className),m={...i==null?void 0:i.style,...s==null?void 0:s.style,...n==null?void 0:n.style},b={...i,...s,...n};return y.length>0&&(b.className=y),Object.keys(m).length>0&&(b.style=m),{props:b,internalRef:void 0}}const o=AV({...s,...n}),r=D4(n),l=D4(s),c=e(o),h=jt(c==null?void 0:c.className,i==null?void 0:i.className,a,s==null?void 0:s.className,n==null?void 0:n.className),p={...c==null?void 0:c.style,...i==null?void 0:i.style,...s==null?void 0:s.style,...n==null?void 0:n.style},f={...c,...i,...l,...r};return h.length>0&&(f.className=h),Object.keys(p).length>0&&(f.style=p),{props:f,internalRef:c.ref}}function IV(t,e,i){return typeof t=="function"?t(e,i):t}function oh(t){var p;const{elementType:e,externalSlotProps:i,ownerState:n,skipResolvingSlotProps:s=!1,...a}=t,o=s?{}:IV(i,n),{props:r,internalRef:l}=DV({...a,externalSlotProps:o}),c=Ls(l,o==null?void 0:o.ref,(p=t.additionalProps)==null?void 0:p.ref);return MV(e,{...r,ref:c},n)}function xA(t){var e;return parseInt(Q.version,10)>=19?((e=t==null?void 0:t.props)==null?void 0:e.ref)||null:(t==null?void 0:t.ref)||null}const sQ=Q.createContext(),xN=()=>Q.useContext(sQ)??!1,aQ=Q.createContext(void 0);function oQ(t){const{theme:e,name:i,props:n}=t;if(!e||!e.components||!e.components[i])return n;const s=e.components[i];return s.defaultProps?fM(s.defaultProps,n):!s.styleOverrides&&!s.variants?fM(s,n):n}function rQ({props:t,name:e}){const i=Q.useContext(aQ);return oQ({props:t,name:e,theme:{components:i}})}const I4={theme:void 0};function lQ(t){let e,i;return function(s){let a=e;return(a===void 0||s.theme!==i)&&(I4.theme=s.theme,a=fV(t(I4)),e=a,i=s.theme),a}}function cQ(t=""){function e(...n){if(!n.length)return"";const s=n[0];return typeof s=="string"&&!s.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${s}${e(...n.slice(1))})`:`, ${s}`}return(n,...s)=>`var(--${t?`${t}-`:""}${n}${e(...s)})`}const T4=(t,e,i,n=[])=>{let s=t;e.forEach((a,o)=>{o===e.length-1?Array.isArray(s)?s[Number(a)]=i:s&&typeof s=="object"&&(s[a]=i):s&&typeof s=="object"&&(s[a]||(s[a]=n.includes(a)?[]:{}),s=s[a])})},uQ=(t,e,i)=>{function n(s,a=[],o=[]){Object.entries(s).forEach(([r,l])=>{(!i||i&&!i([...a,r]))&&l!=null&&(typeof l=="object"&&Object.keys(l).length>0?n(l,[...a,r],Array.isArray(l)?[...o,r]:o):e([...a,r],l,o))})}n(t)},hQ=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(n=>t.includes(n))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function XC(t,e){const{prefix:i,shouldSkipGeneratingVar:n}=e||{},s={},a={},o={};return uQ(t,(r,l,c)=>{if((typeof l=="string"||typeof l=="number")&&(!n||!n(r,l))){const h=`--${i?`${i}-`:""}${r.join("-")}`,p=hQ(r,l);Object.assign(s,{[h]:p}),T4(a,r,`var(${h})`,c),T4(o,r,`var(${h}, ${p})`,c)}},r=>r[0]==="vars"),{css:s,vars:a,varsWithDefaults:o}}function dQ(t,e={}){const{getSelector:i=S,disableCssColorScheme:n,colorSchemeSelector:s}=e,{colorSchemes:a={},components:o,defaultColorScheme:r="light",...l}=t,{vars:c,css:h,varsWithDefaults:p}=XC(l,e);let f=p;const y={},{[r]:m,...b}=a;if(Object.entries(b||{}).forEach(([I,T])=>{const{vars:k,css:E,varsWithDefaults:w}=XC(T,e);f=Ua(f,w),y[I]={css:E,vars:k}}),m){const{css:I,vars:T,varsWithDefaults:k}=XC(m,e);f=Ua(f,k),y[r]={css:I,vars:T}}function S(I,T){var E,w;let k=s;if(s==="class"&&(k=".%s"),s==="data"&&(k="[data-%s]"),s!=null&&s.startsWith("data-")&&!s.includes("%s")&&(k=`[${s}="%s"]`),I){if(k==="media")return t.defaultColorScheme===I?":root":{[`@media (prefers-color-scheme: ${((w=(E=a[I])==null?void 0:E.palette)==null?void 0:w.mode)||I})`]:{":root":T}};if(k)return t.defaultColorScheme===I?`:root, ${k.replace("%s",String(I))}`:k.replace("%s",String(I))}return":root"}return{vars:f,generateThemeVars:()=>{let I={...c};return Object.entries(y).forEach(([,{vars:T}])=>{I=Ua(I,T)}),I},generateStyleSheets:()=>{var R,O;const I=[],T=t.defaultColorScheme||"light";function k(L,F){Object.keys(F).length&&I.push(typeof L=="string"?{[L]:{...F}}:L)}k(i(void 0,{...h}),h);const{[T]:E,...w}=y;if(E){const{css:L}=E,F=(O=(R=a[T])==null?void 0:R.palette)==null?void 0:O.mode,z=!n&&F?{colorScheme:F,...L}:{...L};k(i(T,{...z}),z)}return Object.entries(w).forEach(([L,{css:F}])=>{var H,W;const z=(W=(H=a[L])==null?void 0:H.palette)==null?void 0:W.mode,V=!n&&z?{colorScheme:z,...F}:{...F};k(i(L,{...V}),V)}),I}}}function pQ(t){return function(i){return t==="media"?`@media (prefers-color-scheme: ${i})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${i}"] &`:t==="class"?`.${i} &`:t==="data"?`[data-${i}] &`:`${t.replace("%s",i)} &`:"&"}}function TV(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:gx.white,default:gx.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const fQ=TV();function CV(){return{text:{primary:gx.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:gx.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const C4=CV();function k4(t,e,i,n){const s=n.light||n,a=n.dark||n*1.5;t[e]||(t.hasOwnProperty(i)?t[e]=t[i]:e==="light"?t.light=yA(t.main,s):e==="dark"&&(t.dark=gA(t.main,a)))}function gQ(t="light"){return t==="dark"?{main:bf[200],light:bf[50],dark:bf[400]}:{main:bf[700],light:bf[400],dark:bf[800]}}function yQ(t="light"){return t==="dark"?{main:xf[200],light:xf[50],dark:xf[400]}:{main:xf[500],light:xf[300],dark:xf[700]}}function mQ(t="light"){return t==="dark"?{main:mf[500],light:mf[300],dark:mf[700]}:{main:mf[700],light:mf[400],dark:mf[800]}}function xQ(t="light"){return t==="dark"?{main:vf[400],light:vf[300],dark:vf[700]}:{main:vf[700],light:vf[500],dark:vf[900]}}function bQ(t="light"){return t==="dark"?{main:Sf[400],light:Sf[300],dark:Sf[700]}:{main:Sf[800],light:Sf[500],dark:Sf[900]}}function vQ(t="light"){return t==="dark"?{main:gm[400],light:gm[300],dark:gm[700]}:{main:"#ed6c02",light:gm[500],dark:gm[900]}}function bN(t){const{mode:e="light",contrastThreshold:i=3,tonalOffset:n=.2,...s}=t,a=t.primary||gQ(e),o=t.secondary||yQ(e),r=t.error||mQ(e),l=t.info||xQ(e),c=t.success||bQ(e),h=t.warning||vQ(e);function p(b){return Zq(b,C4.text.primary)>=i?C4.text.primary:fQ.text.primary}const f=({color:b,name:S,mainShade:v=500,lightShade:D=300,darkShade:I=700})=>{if(b={...b},!b.main&&b[v]&&(b.main=b[v]),!b.hasOwnProperty("main"))throw new Error(sh(11,S?` (${S})`:"",v));if(typeof b.main!="string")throw new Error(sh(12,S?` (${S})`:"",JSON.stringify(b.main)));return k4(b,"light",D,n),k4(b,"dark",I,n),b.contrastText||(b.contrastText=p(b.main)),b};let y;return e==="light"?y=TV():e==="dark"&&(y=CV()),Ua({common:{...gx},mode:e,primary:f({color:a,name:"primary"}),secondary:f({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:f({color:r,name:"error"}),warning:f({color:h,name:"warning"}),info:f({color:l,name:"info"}),success:f({color:c,name:"success"}),grey:EZ,contrastThreshold:i,getContrastText:p,augmentColor:f,tonalOffset:n,...y},s)}function SQ(t){const e={};return Object.entries(t).forEach(n=>{const[s,a]=n;typeof a=="object"&&(e[s]=`${a.fontStyle?`${a.fontStyle} `:""}${a.fontVariant?`${a.fontVariant} `:""}${a.fontWeight?`${a.fontWeight} `:""}${a.fontStretch?`${a.fontStretch} `:""}${a.fontSize||""}${a.lineHeight?`/${a.lineHeight} `:""}${a.fontFamily||""}`)}),e}function MQ(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function AQ(t){return Math.round(t*1e5)/1e5}const L4={textTransform:"uppercase"},N4='"Roboto", "Helvetica", "Arial", sans-serif';function DQ(t,e){const{fontFamily:i=N4,fontSize:n=14,fontWeightLight:s=300,fontWeightRegular:a=400,fontWeightMedium:o=500,fontWeightBold:r=700,htmlFontSize:l=16,allVariants:c,pxToRem:h,...p}=typeof e=="function"?e(t):e,f=n/14,y=h||(S=>`${S/l*f}rem`),m=(S,v,D,I,T)=>({fontFamily:i,fontWeight:S,fontSize:y(v),lineHeight:D,...i===N4?{letterSpacing:`${AQ(I/v)}em`}:{},...T,...c}),b={h1:m(s,96,1.167,-1.5),h2:m(s,60,1.2,-.5),h3:m(a,48,1.167,0),h4:m(a,34,1.235,.25),h5:m(a,24,1.334,0),h6:m(o,20,1.6,.15),subtitle1:m(a,16,1.75,.15),subtitle2:m(o,14,1.57,.1),body1:m(a,16,1.5,.15),body2:m(a,14,1.43,.15),button:m(o,14,1.75,.4,L4),caption:m(a,12,1.66,.4),overline:m(a,12,2.66,1,L4),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Ua({htmlFontSize:l,pxToRem:y,fontFamily:i,fontSize:n,fontWeightLight:s,fontWeightRegular:a,fontWeightMedium:o,fontWeightBold:r,...b},p,{clone:!1})}const IQ=.2,TQ=.14,CQ=.12;function mi(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${IQ})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${TQ})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${CQ})`].join(",")}const kQ=["none",mi(0,2,1,-1,0,1,1,0,0,1,3,0),mi(0,3,1,-2,0,2,2,0,0,1,5,0),mi(0,3,3,-2,0,3,4,0,0,1,8,0),mi(0,2,4,-1,0,4,5,0,0,1,10,0),mi(0,3,5,-1,0,5,8,0,0,1,14,0),mi(0,3,5,-1,0,6,10,0,0,1,18,0),mi(0,4,5,-2,0,7,10,1,0,2,16,1),mi(0,5,5,-3,0,8,10,1,0,3,14,2),mi(0,5,6,-3,0,9,12,1,0,3,16,2),mi(0,6,6,-3,0,10,14,1,0,4,18,3),mi(0,6,7,-4,0,11,15,1,0,4,20,3),mi(0,7,8,-4,0,12,17,2,0,5,22,4),mi(0,7,8,-4,0,13,19,2,0,5,24,4),mi(0,7,9,-4,0,14,21,2,0,5,26,4),mi(0,8,9,-5,0,15,22,2,0,6,28,5),mi(0,8,10,-5,0,16,24,2,0,6,30,5),mi(0,8,11,-5,0,17,26,2,0,6,32,5),mi(0,9,11,-5,0,18,28,2,0,7,34,6),mi(0,9,12,-6,0,19,29,2,0,7,36,6),mi(0,10,13,-6,0,20,31,3,0,8,38,7),mi(0,10,13,-6,0,21,33,3,0,8,40,7),mi(0,10,14,-6,0,22,35,3,0,8,42,7),mi(0,11,14,-7,0,23,36,3,0,9,44,8),mi(0,11,15,-7,0,24,38,3,0,9,46,8)],LQ={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},NQ={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function E4(t){return`${Math.round(t)}ms`}function EQ(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function wQ(t){const e={...LQ,...t.easing},i={...NQ,...t.duration};return{getAutoHeightDuration:EQ,create:(s=["all"],a={})=>{const{duration:o=i.standard,easing:r=e.easeInOut,delay:l=0,...c}=a;return(Array.isArray(s)?s:[s]).map(h=>`${h} ${typeof o=="string"?o:E4(o)} ${r} ${typeof l=="string"?l:E4(l)}`).join(",")},...t,easing:e,duration:i}}const OQ={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function RQ(t){return sl(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function kV(t={}){const e={...t};function i(n){const s=Object.entries(n);for(let a=0;a<s.length;a++){const[o,r]=s[a];!RQ(r)||o.startsWith("unstable_")?delete n[o]:sl(r)&&(n[o]={...r},i(n[o]))}}return i(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function Uk(t={},...e){const{breakpoints:i,mixins:n={},spacing:s,palette:a={},transitions:o={},typography:r={},shape:l,...c}=t;if(t.vars)throw new Error(sh(20));const h=bN(a),p=pN(t);let f=Ua(p,{mixins:MQ(p.breakpoints,n),palette:h,shadows:kQ.slice(),typography:DQ(h,r),transitions:wQ(o),zIndex:{...OQ}});return f=Ua(f,c),f=e.reduce((y,m)=>Ua(y,m),f),f.unstable_sxConfig={...rb,...c==null?void 0:c.unstable_sxConfig},f.unstable_sx=function(m){return Wd({sx:m,theme:this})},f.toRuntimeSource=kV,f}function Hk(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const PQ=[...Array(25)].map((t,e)=>{if(e===0)return"none";const i=Hk(e);return`linear-gradient(rgba(255 255 255 / ${i}), rgba(255 255 255 / ${i}))`});function LV(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function NV(t){return t==="dark"?PQ:[]}function BQ(t){const{palette:e={mode:"light"},opacity:i,overlays:n,...s}=t,a=bN(e);return{palette:a,opacity:{...LV(a.mode),...i},overlays:n||NV(a.mode),...s}}function zQ(t){var e;return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!((e=t[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const _Q=t=>[...[...Array(25)].map((e,i)=>`--${t?`${t}-`:""}overlays-${i}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],jQ=t=>(e,i)=>{const n=t.rootSelector||":root",s=t.colorSchemeSelector;let a=s;if(s==="class"&&(a=".%s"),s==="data"&&(a="[data-%s]"),s!=null&&s.startsWith("data-")&&!s.includes("%s")&&(a=`[${s}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const o={};return _Q(t.cssVarPrefix).forEach(r=>{o[r]=i[r],delete i[r]}),a==="media"?{[n]:i,"@media (prefers-color-scheme: dark)":{[n]:o}}:a?{[a.replace("%s",e)]:o,[`${n}, ${a.replace("%s",e)}`]:i}:{[n]:{...i,...o}}}if(a&&a!=="media")return`${n}, ${a.replace("%s",String(e))}`}else if(e){if(a==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[n]:i}};if(a)return a.replace("%s",String(e))}return n};function FQ(t,e){e.forEach(i=>{t[i]||(t[i]={})})}function gt(t,e,i){!t[e]&&i&&(t[e]=i)}function Um(t){return typeof t!="string"||!t.startsWith("hsl")?t:yV(t)}function Jl(t,e){`${e}Channel`in t||(t[`${e}Channel`]=Vm(Um(t[e])))}function GQ(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const Yr=t=>{try{return t()}catch{}},VQ=(t="mui")=>cQ(t);function ZC(t,e,i,n){if(!e)return;e=e===!0?{}:e;const s=n==="dark"?"dark":"light";if(!i){t[n]=BQ({...e,palette:{mode:s,...e==null?void 0:e.palette}});return}const{palette:a,...o}=Uk({...i,palette:{mode:s,...e==null?void 0:e.palette}});return t[n]={...e,palette:a,opacity:{...LV(s),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||NV(s)},o}function UQ(t={},...e){const{colorSchemes:i={light:!0},defaultColorScheme:n,disableCssColorScheme:s=!1,cssVarPrefix:a="mui",shouldSkipGeneratingVar:o=zQ,colorSchemeSelector:r=i.light&&i.dark?"media":void 0,rootSelector:l=":root",...c}=t,h=Object.keys(i)[0],p=n||(i.light&&h!=="light"?"light":h),f=VQ(a),{[p]:y,light:m,dark:b,...S}=i,v={...S};let D=y;if((p==="dark"&&!("dark"in i)||p==="light"&&!("light"in i))&&(D=!0),!D)throw new Error(sh(21,p));const I=ZC(v,D,c,p);m&&!v.light&&ZC(v,m,void 0,"light"),b&&!v.dark&&ZC(v,b,void 0,"dark");let T={defaultColorScheme:p,...I,cssVarPrefix:a,colorSchemeSelector:r,rootSelector:l,getCssVar:f,colorSchemes:v,font:{...SQ(I.typography),...I.font},spacing:GQ(c.spacing)};Object.keys(T.colorSchemes).forEach(O=>{const L=T.colorSchemes[O].palette,F=z=>{const V=z.split("-"),H=V[1],W=V[2];return f(z,L[H][W])};if(L.mode==="light"&&(gt(L.common,"background","#fff"),gt(L.common,"onBackground","#000")),L.mode==="dark"&&(gt(L.common,"background","#000"),gt(L.common,"onBackground","#fff")),FQ(L,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),L.mode==="light"){gt(L.Alert,"errorColor",ei(L.error.light,.6)),gt(L.Alert,"infoColor",ei(L.info.light,.6)),gt(L.Alert,"successColor",ei(L.success.light,.6)),gt(L.Alert,"warningColor",ei(L.warning.light,.6)),gt(L.Alert,"errorFilledBg",F("palette-error-main")),gt(L.Alert,"infoFilledBg",F("palette-info-main")),gt(L.Alert,"successFilledBg",F("palette-success-main")),gt(L.Alert,"warningFilledBg",F("palette-warning-main")),gt(L.Alert,"errorFilledColor",Yr(()=>L.getContrastText(L.error.main))),gt(L.Alert,"infoFilledColor",Yr(()=>L.getContrastText(L.info.main))),gt(L.Alert,"successFilledColor",Yr(()=>L.getContrastText(L.success.main))),gt(L.Alert,"warningFilledColor",Yr(()=>L.getContrastText(L.warning.main))),gt(L.Alert,"errorStandardBg",ii(L.error.light,.9)),gt(L.Alert,"infoStandardBg",ii(L.info.light,.9)),gt(L.Alert,"successStandardBg",ii(L.success.light,.9)),gt(L.Alert,"warningStandardBg",ii(L.warning.light,.9)),gt(L.Alert,"errorIconColor",F("palette-error-main")),gt(L.Alert,"infoIconColor",F("palette-info-main")),gt(L.Alert,"successIconColor",F("palette-success-main")),gt(L.Alert,"warningIconColor",F("palette-warning-main")),gt(L.AppBar,"defaultBg",F("palette-grey-100")),gt(L.Avatar,"defaultBg",F("palette-grey-400")),gt(L.Button,"inheritContainedBg",F("palette-grey-300")),gt(L.Button,"inheritContainedHoverBg",F("palette-grey-A100")),gt(L.Chip,"defaultBorder",F("palette-grey-400")),gt(L.Chip,"defaultAvatarColor",F("palette-grey-700")),gt(L.Chip,"defaultIconColor",F("palette-grey-700")),gt(L.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),gt(L.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),gt(L.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),gt(L.LinearProgress,"primaryBg",ii(L.primary.main,.62)),gt(L.LinearProgress,"secondaryBg",ii(L.secondary.main,.62)),gt(L.LinearProgress,"errorBg",ii(L.error.main,.62)),gt(L.LinearProgress,"infoBg",ii(L.info.main,.62)),gt(L.LinearProgress,"successBg",ii(L.success.main,.62)),gt(L.LinearProgress,"warningBg",ii(L.warning.main,.62)),gt(L.Skeleton,"bg",`rgba(${F("palette-text-primaryChannel")} / 0.11)`),gt(L.Slider,"primaryTrack",ii(L.primary.main,.62)),gt(L.Slider,"secondaryTrack",ii(L.secondary.main,.62)),gt(L.Slider,"errorTrack",ii(L.error.main,.62)),gt(L.Slider,"infoTrack",ii(L.info.main,.62)),gt(L.Slider,"successTrack",ii(L.success.main,.62)),gt(L.Slider,"warningTrack",ii(L.warning.main,.62));const z=C0(L.background.default,.8);gt(L.SnackbarContent,"bg",z),gt(L.SnackbarContent,"color",Yr(()=>L.getContrastText(z))),gt(L.SpeedDialAction,"fabHoverBg",C0(L.background.paper,.15)),gt(L.StepConnector,"border",F("palette-grey-400")),gt(L.StepContent,"border",F("palette-grey-400")),gt(L.Switch,"defaultColor",F("palette-common-white")),gt(L.Switch,"defaultDisabledColor",F("palette-grey-100")),gt(L.Switch,"primaryDisabledColor",ii(L.primary.main,.62)),gt(L.Switch,"secondaryDisabledColor",ii(L.secondary.main,.62)),gt(L.Switch,"errorDisabledColor",ii(L.error.main,.62)),gt(L.Switch,"infoDisabledColor",ii(L.info.main,.62)),gt(L.Switch,"successDisabledColor",ii(L.success.main,.62)),gt(L.Switch,"warningDisabledColor",ii(L.warning.main,.62)),gt(L.TableCell,"border",ii(T0(L.divider,1),.88)),gt(L.Tooltip,"bg",T0(L.grey[700],.92))}if(L.mode==="dark"){gt(L.Alert,"errorColor",ii(L.error.light,.6)),gt(L.Alert,"infoColor",ii(L.info.light,.6)),gt(L.Alert,"successColor",ii(L.success.light,.6)),gt(L.Alert,"warningColor",ii(L.warning.light,.6)),gt(L.Alert,"errorFilledBg",F("palette-error-dark")),gt(L.Alert,"infoFilledBg",F("palette-info-dark")),gt(L.Alert,"successFilledBg",F("palette-success-dark")),gt(L.Alert,"warningFilledBg",F("palette-warning-dark")),gt(L.Alert,"errorFilledColor",Yr(()=>L.getContrastText(L.error.dark))),gt(L.Alert,"infoFilledColor",Yr(()=>L.getContrastText(L.info.dark))),gt(L.Alert,"successFilledColor",Yr(()=>L.getContrastText(L.success.dark))),gt(L.Alert,"warningFilledColor",Yr(()=>L.getContrastText(L.warning.dark))),gt(L.Alert,"errorStandardBg",ei(L.error.light,.9)),gt(L.Alert,"infoStandardBg",ei(L.info.light,.9)),gt(L.Alert,"successStandardBg",ei(L.success.light,.9)),gt(L.Alert,"warningStandardBg",ei(L.warning.light,.9)),gt(L.Alert,"errorIconColor",F("palette-error-main")),gt(L.Alert,"infoIconColor",F("palette-info-main")),gt(L.Alert,"successIconColor",F("palette-success-main")),gt(L.Alert,"warningIconColor",F("palette-warning-main")),gt(L.AppBar,"defaultBg",F("palette-grey-900")),gt(L.AppBar,"darkBg",F("palette-background-paper")),gt(L.AppBar,"darkColor",F("palette-text-primary")),gt(L.Avatar,"defaultBg",F("palette-grey-600")),gt(L.Button,"inheritContainedBg",F("palette-grey-800")),gt(L.Button,"inheritContainedHoverBg",F("palette-grey-700")),gt(L.Chip,"defaultBorder",F("palette-grey-700")),gt(L.Chip,"defaultAvatarColor",F("palette-grey-300")),gt(L.Chip,"defaultIconColor",F("palette-grey-300")),gt(L.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),gt(L.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),gt(L.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),gt(L.LinearProgress,"primaryBg",ei(L.primary.main,.5)),gt(L.LinearProgress,"secondaryBg",ei(L.secondary.main,.5)),gt(L.LinearProgress,"errorBg",ei(L.error.main,.5)),gt(L.LinearProgress,"infoBg",ei(L.info.main,.5)),gt(L.LinearProgress,"successBg",ei(L.success.main,.5)),gt(L.LinearProgress,"warningBg",ei(L.warning.main,.5)),gt(L.Skeleton,"bg",`rgba(${F("palette-text-primaryChannel")} / 0.13)`),gt(L.Slider,"primaryTrack",ei(L.primary.main,.5)),gt(L.Slider,"secondaryTrack",ei(L.secondary.main,.5)),gt(L.Slider,"errorTrack",ei(L.error.main,.5)),gt(L.Slider,"infoTrack",ei(L.info.main,.5)),gt(L.Slider,"successTrack",ei(L.success.main,.5)),gt(L.Slider,"warningTrack",ei(L.warning.main,.5));const z=C0(L.background.default,.98);gt(L.SnackbarContent,"bg",z),gt(L.SnackbarContent,"color",Yr(()=>L.getContrastText(z))),gt(L.SpeedDialAction,"fabHoverBg",C0(L.background.paper,.15)),gt(L.StepConnector,"border",F("palette-grey-600")),gt(L.StepContent,"border",F("palette-grey-600")),gt(L.Switch,"defaultColor",F("palette-grey-300")),gt(L.Switch,"defaultDisabledColor",F("palette-grey-600")),gt(L.Switch,"primaryDisabledColor",ei(L.primary.main,.55)),gt(L.Switch,"secondaryDisabledColor",ei(L.secondary.main,.55)),gt(L.Switch,"errorDisabledColor",ei(L.error.main,.55)),gt(L.Switch,"infoDisabledColor",ei(L.info.main,.55)),gt(L.Switch,"successDisabledColor",ei(L.success.main,.55)),gt(L.Switch,"warningDisabledColor",ei(L.warning.main,.55)),gt(L.TableCell,"border",ei(T0(L.divider,1),.68)),gt(L.Tooltip,"bg",T0(L.grey[700],.92))}Jl(L.background,"default"),Jl(L.background,"paper"),Jl(L.common,"background"),Jl(L.common,"onBackground"),Jl(L,"divider"),Object.keys(L).forEach(z=>{const V=L[z];z!=="tonalOffset"&&V&&typeof V=="object"&&(V.main&&gt(L[z],"mainChannel",Vm(Um(V.main))),V.light&&gt(L[z],"lightChannel",Vm(Um(V.light))),V.dark&&gt(L[z],"darkChannel",Vm(Um(V.dark))),V.contrastText&&gt(L[z],"contrastTextChannel",Vm(Um(V.contrastText))),z==="text"&&(Jl(L[z],"primary"),Jl(L[z],"secondary")),z==="action"&&(V.active&&Jl(L[z],"active"),V.selected&&Jl(L[z],"selected")))})}),T=e.reduce((O,L)=>Ua(O,L),T);const k={prefix:a,disableCssColorScheme:s,shouldSkipGeneratingVar:o,getSelector:jQ(T)},{vars:E,generateThemeVars:w,generateStyleSheets:R}=dQ(T,k);return T.vars=E,Object.entries(T.colorSchemes[T.defaultColorScheme]).forEach(([O,L])=>{T[O]=L}),T.generateThemeVars=w,T.generateStyleSheets=R,T.generateSpacing=function(){return hV(c.spacing,hN(this))},T.getColorSchemeSelector=pQ(r),T.spacing=T.generateSpacing(),T.shouldSkipGeneratingVar=o,T.unstable_sxConfig={...rb,...c==null?void 0:c.unstable_sxConfig},T.unstable_sx=function(L){return Wd({sx:L,theme:this})},T.toRuntimeSource=kV,T}function w4(t,e,i){t.colorSchemes&&i&&(t.colorSchemes[e]={...i!==!0&&i,palette:bN({...i===!0?{}:i.palette,mode:e})})}function EV(t={},...e){const{palette:i,cssVariables:n=!1,colorSchemes:s=i?void 0:{light:!0},defaultColorScheme:a=i==null?void 0:i.mode,...o}=t,r=a||"light",l=s==null?void 0:s[r],c={...s,...i?{[r]:{...typeof l!="boolean"&&l,palette:i}}:void 0};if(n===!1){if(!("colorSchemes"in t))return Uk(t,...e);let h=i;"palette"in t||c[r]&&(c[r]!==!0?h=c[r].palette:r==="dark"&&(h={mode:"dark"}));const p=Uk({...t,palette:h},...e);return p.defaultColorScheme=r,p.colorSchemes=c,p.palette.mode==="light"&&(p.colorSchemes.light={...c.light!==!0&&c.light,palette:p.palette},w4(p,"dark",c.dark)),p.palette.mode==="dark"&&(p.colorSchemes.dark={...c.dark!==!0&&c.dark,palette:p.palette},w4(p,"light",c.light)),p}return!i&&!("light"in c)&&r==="light"&&(c.light=!0),UQ({...o,colorSchemes:c,defaultColorScheme:r,...typeof n!="boolean"&&n},...e)}const vN=EV();function lb(){const t=fN(vN);return t[eA]||t}function HQ(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const bg=t=>HQ(t)&&t!=="classes",Ut=Vq({themeId:eA,defaultTheme:vN,rootShouldForwardProp:bg});function WQ(t){return q.jsx(Rq,{...t,defaultTheme:vN,themeId:eA})}function YQ(t){return function(i){return q.jsx(WQ,{styles:typeof t=="function"?n=>t({theme:n,...i}):t})}}function $Q(){return gN}const bi=lQ;function Ce(t){return rQ(t)}function KQ(t){return Ae("MuiSvgIcon",t)}be("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const XQ=t=>{const{color:e,fontSize:i,classes:n}=t,s={root:["root",e!=="inherit"&&`color${Tt(e)}`,`fontSize${Tt(i)}`]};return Te(s,KQ,n)},ZQ=Ut("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,i.color!=="inherit"&&e[`color${Tt(i.color)}`],e[`fontSize${Tt(i.fontSize)}`]]}})(bi(({theme:t})=>{var e,i,n,s,a,o,r,l,c,h,p,f,y,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(s=(e=t.transitions)==null?void 0:e.create)==null?void 0:s.call(e,"fill",{duration:(n=(i=(t.vars??t).transitions)==null?void 0:i.duration)==null?void 0:n.shorter}),variants:[{props:b=>!b.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((o=(a=t.typography)==null?void 0:a.pxToRem)==null?void 0:o.call(a,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((l=(r=t.typography)==null?void 0:r.pxToRem)==null?void 0:l.call(r,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((h=(c=t.typography)==null?void 0:c.pxToRem)==null?void 0:h.call(c,35))||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,b])=>b&&b.main).map(([b])=>{var S,v;return{props:{color:b},style:{color:(v=(S=(t.vars??t).palette)==null?void 0:S[b])==null?void 0:v.main}}}),{props:{color:"action"},style:{color:(f=(p=(t.vars??t).palette)==null?void 0:p.action)==null?void 0:f.active}},{props:{color:"disabled"},style:{color:(m=(y=(t.vars??t).palette)==null?void 0:y.action)==null?void 0:m.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),Wk=Q.forwardRef(function(e,i){const n=Ce({props:e,name:"MuiSvgIcon"}),{children:s,className:a,color:o="inherit",component:r="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:h=!1,titleAccess:p,viewBox:f="0 0 24 24",...y}=n,m=Q.isValidElement(s)&&s.type==="svg",b={...n,color:o,component:r,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:h,viewBox:f,hasSvgAsChild:m},S={};h||(S.viewBox=f);const v=XQ(b);return q.jsxs(ZQ,{as:r,className:jt(v.root,a),focusable:"false",color:c,"aria-hidden":p?void 0:!0,role:p?"img":void 0,ref:i,...S,...y,...m&&s.props,ownerState:b,children:[m?s.props.children:s,p?q.jsx("title",{children:p}):null]})});Wk.muiName="SvgIcon";function vn(t,e){function i(n,s){return q.jsx(Wk,{"data-testid":`${e}Icon`,ref:s,...n,children:t})}return i.muiName=Wk.muiName,Q.memo(Q.forwardRef(i))}function wV(t,e){if(t==null)return{};var i={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;i[n]=t[n]}return i}function Yk(t,e){return Yk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,n){return i.__proto__=n,i},Yk(t,e)}function OV(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Yk(t,e)}var RV=$G();const k0=YG(RV),O4={disabled:!1},gM=wo.createContext(null);var qQ=function(e){return e.scrollTop},Hm="unmounted",Td="exited",Cd="entering",Ff="entered",$k="exiting",yl=function(t){OV(e,t);function e(n,s){var a;a=t.call(this,n,s)||this;var o=s,r=o&&!o.isMounting?n.enter:n.appear,l;return a.appearStatus=null,n.in?r?(l=Td,a.appearStatus=Cd):l=Ff:n.unmountOnExit||n.mountOnEnter?l=Hm:l=Td,a.state={status:l},a.nextCallback=null,a}e.getDerivedStateFromProps=function(s,a){var o=s.in;return o&&a.status===Hm?{status:Td}:null};var i=e.prototype;return i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(s){var a=null;if(s!==this.props){var o=this.state.status;this.props.in?o!==Cd&&o!==Ff&&(a=Cd):(o===Cd||o===Ff)&&(a=$k)}this.updateStatus(!1,a)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var s=this.props.timeout,a,o,r;return a=o=r=s,s!=null&&typeof s!="number"&&(a=s.exit,o=s.enter,r=s.appear!==void 0?s.appear:o),{exit:a,enter:o,appear:r}},i.updateStatus=function(s,a){if(s===void 0&&(s=!1),a!==null)if(this.cancelNextCallback(),a===Cd){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:k0.findDOMNode(this);o&&qQ(o)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Td&&this.setState({status:Hm})},i.performEnter=function(s){var a=this,o=this.props.enter,r=this.context?this.context.isMounting:s,l=this.props.nodeRef?[r]:[k0.findDOMNode(this),r],c=l[0],h=l[1],p=this.getTimeouts(),f=r?p.appear:p.enter;if(!s&&!o||O4.disabled){this.safeSetState({status:Ff},function(){a.props.onEntered(c)});return}this.props.onEnter(c,h),this.safeSetState({status:Cd},function(){a.props.onEntering(c,h),a.onTransitionEnd(f,function(){a.safeSetState({status:Ff},function(){a.props.onEntered(c,h)})})})},i.performExit=function(){var s=this,a=this.props.exit,o=this.getTimeouts(),r=this.props.nodeRef?void 0:k0.findDOMNode(this);if(!a||O4.disabled){this.safeSetState({status:Td},function(){s.props.onExited(r)});return}this.props.onExit(r),this.safeSetState({status:$k},function(){s.props.onExiting(r),s.onTransitionEnd(o.exit,function(){s.safeSetState({status:Td},function(){s.props.onExited(r)})})})},i.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(s,a){a=this.setNextCallback(a),this.setState(s,a)},i.setNextCallback=function(s){var a=this,o=!0;return this.nextCallback=function(r){o&&(o=!1,a.nextCallback=null,s(r))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},i.onTransitionEnd=function(s,a){this.setNextCallback(a);var o=this.props.nodeRef?this.props.nodeRef.current:k0.findDOMNode(this),r=s==null&&!this.props.addEndListener;if(!o||r){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=l[0],h=l[1];this.props.addEndListener(c,h)}s!=null&&setTimeout(this.nextCallback,s)},i.render=function(){var s=this.state.status;if(s===Hm)return null;var a=this.props,o=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var r=wV(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return wo.createElement(gM.Provider,{value:null},typeof o=="function"?o(s,r):wo.cloneElement(wo.Children.only(o),r))},e}(wo.Component);yl.contextType=gM;yl.propTypes={};function Mf(){}yl.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Mf,onEntering:Mf,onEntered:Mf,onExit:Mf,onExiting:Mf,onExited:Mf};yl.UNMOUNTED=Hm;yl.EXITED=Td;yl.ENTERING=Cd;yl.ENTERED=Ff;yl.EXITING=$k;function QQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SN(t,e){var i=function(a){return e&&Q.isValidElement(a)?e(a):a},n=Object.create(null);return t&&Q.Children.map(t,function(s){return s}).forEach(function(s){n[s.key]=i(s)}),n}function JQ(t,e){t=t||{},e=e||{};function i(h){return h in e?e[h]:t[h]}var n=Object.create(null),s=[];for(var a in t)a in e?s.length&&(n[a]=s,s=[]):s.push(a);var o,r={};for(var l in e){if(n[l])for(o=0;o<n[l].length;o++){var c=n[l][o];r[n[l][o]]=i(c)}r[l]=i(l)}for(o=0;o<s.length;o++)r[s[o]]=i(s[o]);return r}function Pd(t,e,i){return i[e]!=null?i[e]:t.props[e]}function tJ(t,e){return SN(t.children,function(i){return Q.cloneElement(i,{onExited:e.bind(null,i),in:!0,appear:Pd(i,"appear",t),enter:Pd(i,"enter",t),exit:Pd(i,"exit",t)})})}function eJ(t,e,i){var n=SN(t.children),s=JQ(e,n);return Object.keys(s).forEach(function(a){var o=s[a];if(Q.isValidElement(o)){var r=a in e,l=a in n,c=e[a],h=Q.isValidElement(c)&&!c.props.in;l&&(!r||h)?s[a]=Q.cloneElement(o,{onExited:i.bind(null,o),in:!0,exit:Pd(o,"exit",t),enter:Pd(o,"enter",t)}):!l&&r&&!h?s[a]=Q.cloneElement(o,{in:!1}):l&&r&&Q.isValidElement(c)&&(s[a]=Q.cloneElement(o,{onExited:i.bind(null,o),in:c.props.in,exit:Pd(o,"exit",t),enter:Pd(o,"enter",t)}))}}),s}var iJ=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},nJ={component:"div",childFactory:function(e){return e}},MN=function(t){OV(e,t);function e(n,s){var a;a=t.call(this,n,s)||this;var o=a.handleExited.bind(QQ(a));return a.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},a}var i=e.prototype;return i.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},i.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(s,a){var o=a.children,r=a.handleExited,l=a.firstRender;return{children:l?tJ(s,r):eJ(s,o,r),firstRender:!1}},i.handleExited=function(s,a){var o=SN(this.props.children);s.key in o||(s.props.onExited&&s.props.onExited(a),this.mounted&&this.setState(function(r){var l=hM({},r.children);return delete l[s.key],{children:l}}))},i.render=function(){var s=this.props,a=s.component,o=s.childFactory,r=wV(s,["component","childFactory"]),l=this.state.contextValue,c=iJ(this.state.children).map(o);return delete r.appear,delete r.enter,delete r.exit,a===null?wo.createElement(gM.Provider,{value:l},c):wo.createElement(gM.Provider,{value:l},wo.createElement(a,r,c))},e}(wo.Component);MN.propTypes={};MN.defaultProps=nJ;const PV=t=>t.scrollTop;function yM(t,e){const{timeout:i,easing:n,style:s={}}=t;return{duration:s.transitionDuration??(typeof i=="number"?i:i[e.mode]||0),easing:s.transitionTimingFunction??(typeof n=="object"?n[e.mode]:n),delay:s.transitionDelay}}function sJ(t){return Ae("MuiPaper",t)}be("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const aJ=t=>{const{square:e,elevation:i,variant:n,classes:s}=t,a={root:["root",n,!e&&"rounded",n==="elevation"&&`elevation${i}`]};return Te(a,sJ,s)},oJ=Ut("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,e[i.variant],!i.square&&e.rounded,i.variant==="elevation"&&e[`elevation${i.elevation}`]]}})(bi(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(t.vars||t).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),BV=Q.forwardRef(function(e,i){var y;const n=Ce({props:e,name:"MuiPaper"}),s=lb(),{className:a,component:o="div",elevation:r=1,square:l=!1,variant:c="elevation",...h}=n,p={...n,component:o,elevation:r,square:l,variant:c},f=aJ(p);return q.jsx(oJ,{as:o,ownerState:p,className:jt(f.root,a),ref:i,...h,style:{...c==="elevation"&&{"--Paper-shadow":(s.vars||s).shadows[r],...s.vars&&{"--Paper-overlay":(y=s.vars.overlays)==null?void 0:y[r]},...!s.vars&&s.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${Fe("#fff",Hk(r))}, ${Fe("#fff",Hk(r))})`}},...h.style}})});function Ic(t,e){const{className:i,elementType:n,ownerState:s,externalForwardedProps:a,internalForwardedProps:o,shouldForwardComponentProp:r=!1,...l}=e,{component:c,slots:h={[t]:void 0},slotProps:p={[t]:void 0},...f}=a,y=h[t]||n,m=IV(p[t],s),{props:{component:b,...S},internalRef:v}=DV({className:i,...l,externalForwardedProps:t==="root"?f:void 0,externalSlotProps:m}),D=Ls(v,m==null?void 0:m.ref,e.ref),I=t==="root"?b||c:b,T=MV(y,{...t==="root"&&!c&&!h[t]&&o,...t!=="root"&&!h[t]&&o,...S,...I&&!r&&{as:I},...I&&r&&{component:I},ref:D},s);return[y,T]}class mM{constructor(){dm(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new mM}static use(){const e=xV(mM.create).current,[i,n]=Q.useState(!1);return e.shouldMount=i,e.setShouldMount=n,Q.useEffect(e.mountEffect,[i]),e}mount(){return this.mounted||(this.mounted=lJ(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...e){this.mount().then(()=>{var i;return(i=this.ref.current)==null?void 0:i.start(...e)})}stop(...e){this.mount().then(()=>{var i;return(i=this.ref.current)==null?void 0:i.stop(...e)})}pulsate(...e){this.mount().then(()=>{var i;return(i=this.ref.current)==null?void 0:i.pulsate(...e)})}}function rJ(){return mM.use()}function lJ(){let t,e;const i=new Promise((n,s)=>{t=n,e=s});return i.resolve=t,i.reject=e,i}function cJ(t){const{className:e,classes:i,pulsate:n=!1,rippleX:s,rippleY:a,rippleSize:o,in:r,onExited:l,timeout:c}=t,[h,p]=Q.useState(!1),f=jt(e,i.ripple,i.rippleVisible,n&&i.ripplePulsate),y={width:o,height:o,top:-(o/2)+a,left:-(o/2)+s},m=jt(i.child,h&&i.childLeaving,n&&i.childPulsate);return!r&&!h&&p(!0),Q.useEffect(()=>{if(!r&&l!=null){const b=setTimeout(l,c);return()=>{clearTimeout(b)}}},[l,r,c]),q.jsx("span",{className:f,style:y,children:q.jsx("span",{className:m})})}const Io=be("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Kk=550,uJ=80,hJ=sb`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,dJ=sb`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,pJ=sb`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,fJ=Ut("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),gJ=Ut(cJ,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${Io.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${hJ};
    animation-duration: ${Kk}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  &.${Io.ripplePulsate} {
    animation-duration: ${({theme:t})=>t.transitions.duration.shorter}ms;
  }

  & .${Io.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${Io.childLeaving} {
    opacity: 0;
    animation-name: ${dJ};
    animation-duration: ${Kk}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  & .${Io.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${pJ};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,yJ=Q.forwardRef(function(e,i){const n=Ce({props:e,name:"MuiTouchRipple"}),{center:s=!1,classes:a={},className:o,...r}=n,[l,c]=Q.useState([]),h=Q.useRef(0),p=Q.useRef(null);Q.useEffect(()=>{p.current&&(p.current(),p.current=null)},[l]);const f=Q.useRef(!1),y=bV(),m=Q.useRef(null),b=Q.useRef(null),S=Q.useCallback(T=>{const{pulsate:k,rippleX:E,rippleY:w,rippleSize:R,cb:O}=T;c(L=>[...L,q.jsx(gJ,{classes:{ripple:jt(a.ripple,Io.ripple),rippleVisible:jt(a.rippleVisible,Io.rippleVisible),ripplePulsate:jt(a.ripplePulsate,Io.ripplePulsate),child:jt(a.child,Io.child),childLeaving:jt(a.childLeaving,Io.childLeaving),childPulsate:jt(a.childPulsate,Io.childPulsate)},timeout:Kk,pulsate:k,rippleX:E,rippleY:w,rippleSize:R},h.current)]),h.current+=1,p.current=O},[a]),v=Q.useCallback((T={},k={},E=()=>{})=>{const{pulsate:w=!1,center:R=s||k.pulsate,fakeElement:O=!1}=k;if((T==null?void 0:T.type)==="mousedown"&&f.current){f.current=!1;return}(T==null?void 0:T.type)==="touchstart"&&(f.current=!0);const L=O?null:b.current,F=L?L.getBoundingClientRect():{width:0,height:0,left:0,top:0};let z,V,H;if(R||T===void 0||T.clientX===0&&T.clientY===0||!T.clientX&&!T.touches)z=Math.round(F.width/2),V=Math.round(F.height/2);else{const{clientX:W,clientY:G}=T.touches&&T.touches.length>0?T.touches[0]:T;z=Math.round(W-F.left),V=Math.round(G-F.top)}if(R)H=Math.sqrt((2*F.width**2+F.height**2)/3),H%2===0&&(H+=1);else{const W=Math.max(Math.abs((L?L.clientWidth:0)-z),z)*2+2,G=Math.max(Math.abs((L?L.clientHeight:0)-V),V)*2+2;H=Math.sqrt(W**2+G**2)}T!=null&&T.touches?m.current===null&&(m.current=()=>{S({pulsate:w,rippleX:z,rippleY:V,rippleSize:H,cb:E})},y.start(uJ,()=>{m.current&&(m.current(),m.current=null)})):S({pulsate:w,rippleX:z,rippleY:V,rippleSize:H,cb:E})},[s,S,y]),D=Q.useCallback(()=>{v({},{pulsate:!0})},[v]),I=Q.useCallback((T,k)=>{if(y.clear(),(T==null?void 0:T.type)==="touchend"&&m.current){m.current(),m.current=null,y.start(0,()=>{I(T,k)});return}m.current=null,c(E=>E.length>0?E.slice(1):E),p.current=k},[y]);return Q.useImperativeHandle(i,()=>({pulsate:D,start:v,stop:I}),[D,v,I]),q.jsx(fJ,{className:jt(Io.root,a.root,o),ref:b,...r,children:q.jsx(MN,{component:null,exit:!0,children:l})})});function mJ(t){return Ae("MuiButtonBase",t)}const xJ=be("MuiButtonBase",["root","disabled","focusVisible"]),bJ=t=>{const{disabled:e,focusVisible:i,focusVisibleClassName:n,classes:s}=t,o=Te({root:["root",e&&"disabled",i&&"focusVisible"]},mJ,s);return i&&n&&(o.root+=` ${n}`),o},vJ=Ut("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${xJ.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),rh=Q.forwardRef(function(e,i){const n=Ce({props:e,name:"MuiButtonBase"}),{action:s,centerRipple:a=!1,children:o,className:r,component:l="button",disabled:c=!1,disableRipple:h=!1,disableTouchRipple:p=!1,focusRipple:f=!1,focusVisibleClassName:y,LinkComponent:m="a",onBlur:b,onClick:S,onContextMenu:v,onDragLeave:D,onFocus:I,onFocusVisible:T,onKeyDown:k,onKeyUp:E,onMouseDown:w,onMouseLeave:R,onMouseUp:O,onTouchEnd:L,onTouchMove:F,onTouchStart:z,tabIndex:V=0,TouchRippleProps:H,touchRippleRef:W,type:G,...$}=n,K=Q.useRef(null),X=rJ(),j=Ls(X.ref,W),[U,Z]=Q.useState(!1);c&&U&&Z(!1),Q.useImperativeHandle(s,()=>({focusVisible:()=>{Z(!0),K.current.focus()}}),[]);const tt=X.shouldMount&&!h&&!c;Q.useEffect(()=>{U&&f&&!h&&X.pulsate()},[h,f,U,X]);const J=tc(X,"start",w,p),nt=tc(X,"stop",v,p),at=tc(X,"stop",D,p),lt=tc(X,"stop",O,p),ut=tc(X,"stop",Mt=>{U&&Mt.preventDefault(),R&&R(Mt)},p),pt=tc(X,"start",z,p),ot=tc(X,"stop",L,p),ft=tc(X,"stop",F,p),ct=tc(X,"stop",Mt=>{A4(Mt.target)||Z(!1),b&&b(Mt)},!1),bt=bc(Mt=>{K.current||(K.current=Mt.currentTarget),A4(Mt.target)&&(Z(!0),T&&T(Mt)),I&&I(Mt)}),St=()=>{const Mt=K.current;return l&&l!=="button"&&!(Mt.tagName==="A"&&Mt.href)},xt=bc(Mt=>{f&&!Mt.repeat&&U&&Mt.key===" "&&X.stop(Mt,()=>{X.start(Mt)}),Mt.target===Mt.currentTarget&&St()&&Mt.key===" "&&Mt.preventDefault(),k&&k(Mt),Mt.target===Mt.currentTarget&&St()&&Mt.key==="Enter"&&!c&&(Mt.preventDefault(),S&&S(Mt))}),wt=bc(Mt=>{f&&Mt.key===" "&&U&&!Mt.defaultPrevented&&X.stop(Mt,()=>{X.pulsate(Mt)}),E&&E(Mt),S&&Mt.target===Mt.currentTarget&&St()&&Mt.key===" "&&!Mt.defaultPrevented&&S(Mt)});let kt=l;kt==="button"&&($.href||$.to)&&(kt=m);const Nt={};kt==="button"?(Nt.type=G===void 0?"button":G,Nt.disabled=c):(!$.href&&!$.to&&(Nt.role="button"),c&&(Nt["aria-disabled"]=c));const $t=Ls(i,K),zt={...n,centerRipple:a,component:l,disabled:c,disableRipple:h,disableTouchRipple:p,focusRipple:f,tabIndex:V,focusVisible:U},Ot=bJ(zt);return q.jsxs(vJ,{as:kt,className:jt(Ot.root,r),ownerState:zt,onBlur:ct,onClick:S,onContextMenu:nt,onFocus:bt,onKeyDown:xt,onKeyUp:wt,onMouseDown:J,onMouseLeave:ut,onMouseUp:lt,onDragLeave:at,onTouchEnd:ot,onTouchMove:ft,onTouchStart:pt,ref:$t,tabIndex:c?-1:V,type:G,...Nt,...$,children:[o,tt?q.jsx(yJ,{ref:j,center:a,...H}):null]})});function tc(t,e,i,n=!1){return bc(s=>(i&&i(s),n||t[e](s),!0))}function SJ(t){return typeof t.main=="string"}function MJ(t,e=[]){if(!SJ(t))return!1;for(const i of e)if(!t.hasOwnProperty(i)||typeof t[i]!="string")return!1;return!0}function ja(t=[]){return([,e])=>e&&MJ(e,t)}function AJ(t){return Ae("MuiCircularProgress",t)}be("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Cu=44,Xk=sb`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,Zk=sb`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,DJ=typeof Xk!="string"?lN`
        animation: ${Xk} 1.4s linear infinite;
      `:null,IJ=typeof Zk!="string"?lN`
        animation: ${Zk} 1.4s ease-in-out infinite;
      `:null,TJ=t=>{const{classes:e,variant:i,color:n,disableShrink:s}=t,a={root:["root",i,`color${Tt(n)}`],svg:["svg"],circle:["circle",`circle${Tt(i)}`,s&&"circleDisableShrink"]};return Te(a,AJ,e)},CJ=Ut("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,e[i.variant],e[`color${Tt(i.color)}`]]}})(bi(({theme:t})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:DJ||{animation:`${Xk} 1.4s linear infinite`}},...Object.entries(t.palette).filter(ja()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}}))]}))),kJ=Ut("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),LJ=Ut("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.circle,e[`circle${Tt(i.variant)}`],i.disableShrink&&e.circleDisableShrink]}})(bi(({theme:t})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:IJ||{animation:`${Zk} 1.4s ease-in-out infinite`}}]}))),xM=Q.forwardRef(function(e,i){const n=Ce({props:e,name:"MuiCircularProgress"}),{className:s,color:a="primary",disableShrink:o=!1,size:r=40,style:l,thickness:c=3.6,value:h=0,variant:p="indeterminate",...f}=n,y={...n,color:a,disableShrink:o,size:r,thickness:c,value:h,variant:p},m=TJ(y),b={},S={},v={};if(p==="determinate"){const D=2*Math.PI*((Cu-c)/2);b.strokeDasharray=D.toFixed(3),v["aria-valuenow"]=Math.round(h),b.strokeDashoffset=`${((100-h)/100*D).toFixed(3)}px`,S.transform="rotate(-90deg)"}return q.jsx(CJ,{className:jt(m.root,s),style:{width:r,height:r,...S,...l},ownerState:y,ref:i,role:"progressbar",...v,...f,children:q.jsx(kJ,{className:m.svg,ownerState:y,viewBox:`${Cu/2} ${Cu/2} ${Cu} ${Cu}`,children:q.jsx(LJ,{className:m.circle,style:b,ownerState:y,cx:Cu,cy:Cu,r:(Cu-c)/2,fill:"none",strokeWidth:c})})})});function NJ(t){return Ae("MuiIconButton",t)}const R4=be("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),EJ=t=>{const{classes:e,disabled:i,color:n,edge:s,size:a,loading:o}=t,r={root:["root",o&&"loading",i&&"disabled",n!=="default"&&`color${Tt(n)}`,s&&`edge${Tt(s)}`,`size${Tt(a)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return Te(r,NJ,e)},wJ=Ut(rh,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,i.loading&&e.loading,i.color!=="default"&&e[`color${Tt(i.color)}`],i.edge&&e[`edge${Tt(i.edge)}`],e[`size${Tt(i.size)}`]]}})(bi(({theme:t})=>({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Fe(t.palette.action.active,t.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),bi(({theme:t})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter(ja()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),...Object.entries(t.palette).filter(ja()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":t.vars?`rgba(${(t.vars||t).palette[e].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Fe((t.vars||t).palette[e].main,t.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],[`&.${R4.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled},[`&.${R4.loading}`]:{color:"transparent"}}))),OJ=Ut("span",{name:"MuiIconButton",slot:"LoadingIndicator",overridesResolver:(t,e)=>e.loadingIndicator})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(t.vars||t).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),zV=Q.forwardRef(function(e,i){const n=Ce({props:e,name:"MuiIconButton"}),{edge:s=!1,children:a,className:o,color:r="default",disabled:l=!1,disableFocusRipple:c=!1,size:h="medium",id:p,loading:f=null,loadingIndicator:y,...m}=n,b=mV(p),S=y??q.jsx(xM,{"aria-labelledby":b,color:"inherit",size:16}),v={...n,edge:s,color:r,disabled:l,disableFocusRipple:c,loading:f,loadingIndicator:S,size:h},D=EJ(v);return q.jsxs(wJ,{id:b,className:jt(D.root,o),centerRipple:!0,focusRipple:!c,disabled:l||f,ref:i,...m,ownerState:v,children:[typeof f=="boolean"&&q.jsx("span",{className:D.loadingWrapper,style:{display:"contents"},children:q.jsx(OJ,{className:D.loadingIndicator,ownerState:v,children:f&&S})}),a]})});function RJ(t){return Ae("MuiTypography",t)}const P4=be("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),PJ={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},BJ=$Q(),zJ=t=>{const{align:e,gutterBottom:i,noWrap:n,paragraph:s,variant:a,classes:o}=t,r={root:["root",a,t.align!=="inherit"&&`align${Tt(e)}`,i&&"gutterBottom",n&&"noWrap",s&&"paragraph"]};return Te(r,RJ,o)},_J=Ut("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,i.variant&&e[i.variant],i.align!=="inherit"&&e[`align${Tt(i.align)}`],i.noWrap&&e.noWrap,i.gutterBottom&&e.gutterBottom,i.paragraph&&e.paragraph]}})(bi(({theme:t})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(([i,n])=>i!=="inherit"&&n&&typeof n=="object").map(([i,n])=>({props:{variant:i},style:n})),...Object.entries(t.palette).filter(ja()).map(([i])=>({props:{color:i},style:{color:(t.vars||t).palette[i].main}})),...Object.entries(((e=t.palette)==null?void 0:e.text)||{}).filter(([,i])=>typeof i=="string").map(([i])=>({props:{color:`text${Tt(i)}`},style:{color:(t.vars||t).palette.text[i]}})),{props:({ownerState:i})=>i.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:i})=>i.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:i})=>i.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:i})=>i.paragraph,style:{marginBottom:16}}]}})),B4={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},He=Q.forwardRef(function(e,i){const{color:n,...s}=Ce({props:e,name:"MuiTypography"}),a=!PJ[n],o=BJ({...s,...a&&{color:n}}),{align:r="inherit",className:l,component:c,gutterBottom:h=!1,noWrap:p=!1,paragraph:f=!1,variant:y="body1",variantMapping:m=B4,...b}=o,S={...o,align:r,color:n,className:l,component:c,gutterBottom:h,noWrap:p,paragraph:f,variant:y,variantMapping:m},v=c||(f?"p":m[y]||B4[y])||"span",D=zJ(S);return q.jsx(_J,{as:v,ref:i,className:jt(D.root,l),...b,ownerState:S,style:{...r!=="inherit"&&{"--Typography-textAlign":r},...b.style}})});function jJ(t){return Ae("MuiAppBar",t)}be("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const FJ=t=>{const{color:e,position:i,classes:n}=t,s={root:["root",`color${Tt(e)}`,`position${Tt(i)}`]};return Te(s,jJ,n)},z4=(t,e)=>t?`${t==null?void 0:t.replace(")","")}, ${e})`:e,GJ=Ut(BV,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,e[`position${Tt(i.position)}`],e[`color${Tt(i.color)}`]]}})(bi(({theme:t})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[100],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[100]),...t.applyStyles("dark",{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[900],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[900])})}},...Object.entries(t.palette).filter(ja(["contrastText"])).map(([e])=>({props:{color:e},style:{"--AppBar-background":(t.vars??t).palette[e].main,"--AppBar-color":(t.vars??t).palette[e].contrastText}})),{props:e=>e.enableColorOnDark===!0&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:e=>e.enableColorOnDark===!1&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...t.applyStyles("dark",{backgroundColor:t.vars?z4(t.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:t.vars?z4(t.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...t.applyStyles("dark",{backgroundImage:"none"})}}]}))),VJ=Q.forwardRef(function(e,i){const n=Ce({props:e,name:"MuiAppBar"}),{className:s,color:a="primary",enableColorOnDark:o=!1,position:r="fixed",...l}=n,c={...n,color:a,position:r,enableColorOnDark:o},h=FJ(c);return q.jsx(GJ,{square:!0,component:"header",ownerState:c,elevation:4,className:jt(h.root,s,r==="fixed"&&"mui-fixed"),ref:i,...l})});function UJ(t){return typeof t=="function"?t():t}const HJ=Q.forwardRef(function(e,i){const{children:n,container:s,disablePortal:a=!1}=e,[o,r]=Q.useState(null),l=Ls(Q.isValidElement(n)?xA(n):null,i);if(Dc(()=>{a||r(UJ(s)||document.body)},[s,a]),Dc(()=>{if(o&&!a)return Vk(i,o),()=>{Vk(i,null)}},[i,o,a]),a){if(Q.isValidElement(n)){const c={ref:l};return Q.cloneElement(n,c)}return n}return o&&RV.createPortal(n,o)}),WJ=vn(q.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function YJ(t){return Ae("MuiChip",t)}const de=be("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),$J=t=>{const{classes:e,disabled:i,size:n,color:s,iconColor:a,onDelete:o,clickable:r,variant:l}=t,c={root:["root",l,i&&"disabled",`size${Tt(n)}`,`color${Tt(s)}`,r&&"clickable",r&&`clickableColor${Tt(s)}`,o&&"deletable",o&&`deletableColor${Tt(s)}`,`${l}${Tt(s)}`],label:["label",`label${Tt(n)}`],avatar:["avatar",`avatar${Tt(n)}`,`avatarColor${Tt(s)}`],icon:["icon",`icon${Tt(n)}`,`iconColor${Tt(a)}`],deleteIcon:["deleteIcon",`deleteIcon${Tt(n)}`,`deleteIconColor${Tt(s)}`,`deleteIcon${Tt(l)}Color${Tt(s)}`]};return Te(c,YJ,e)},KJ=Ut("div",{name:"MuiChip",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t,{color:n,iconColor:s,clickable:a,onDelete:o,size:r,variant:l}=i;return[{[`& .${de.avatar}`]:e.avatar},{[`& .${de.avatar}`]:e[`avatar${Tt(r)}`]},{[`& .${de.avatar}`]:e[`avatarColor${Tt(n)}`]},{[`& .${de.icon}`]:e.icon},{[`& .${de.icon}`]:e[`icon${Tt(r)}`]},{[`& .${de.icon}`]:e[`iconColor${Tt(s)}`]},{[`& .${de.deleteIcon}`]:e.deleteIcon},{[`& .${de.deleteIcon}`]:e[`deleteIcon${Tt(r)}`]},{[`& .${de.deleteIcon}`]:e[`deleteIconColor${Tt(n)}`]},{[`& .${de.deleteIcon}`]:e[`deleteIcon${Tt(l)}Color${Tt(n)}`]},e.root,e[`size${Tt(r)}`],e[`color${Tt(n)}`],a&&e.clickable,a&&n!=="default"&&e[`clickableColor${Tt(n)})`],o&&e.deletable,o&&n!=="default"&&e[`deletableColor${Tt(n)}`],e[l],e[`${l}${Tt(n)}`]]}})(bi(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[700]:t.palette.grey[300];return{maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${de.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${de.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:e,fontSize:t.typography.pxToRem(12)},[`& .${de.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${de.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${de.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${de.icon}`]:{marginLeft:5,marginRight:-6},[`& .${de.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.26)`:Fe(t.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:Fe(t.palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${de.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${de.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(t.palette).filter(ja(["contrastText"])).map(([i])=>({props:{color:i},style:{backgroundColor:(t.vars||t).palette[i].main,color:(t.vars||t).palette[i].contrastText,[`& .${de.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[i].contrastTextChannel} / 0.7)`:Fe(t.palette[i].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[i].contrastText}}}})),{props:i=>i.iconColor===i.color,style:{[`& .${de.icon}`]:{color:t.vars?t.vars.palette.Chip.defaultIconColor:e}}},{props:i=>i.iconColor===i.color&&i.color!=="default",style:{[`& .${de.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${de.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Fe(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}}},...Object.entries(t.palette).filter(ja(["dark"])).map(([i])=>({props:{color:i,onDelete:!0},style:{[`&.${de.focusVisible}`]:{background:(t.vars||t).palette[i].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Fe(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},[`&.${de.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Fe(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}}},...Object.entries(t.palette).filter(ja(["dark"])).map(([i])=>({props:{color:i,clickable:!0},style:{[`&:hover, &.${de.focusVisible}`]:{backgroundColor:(t.vars||t).palette[i].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${de.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${de.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${de.avatar}`]:{marginLeft:4},[`& .${de.avatarSmall}`]:{marginLeft:2},[`& .${de.icon}`]:{marginLeft:4},[`& .${de.iconSmall}`]:{marginLeft:2},[`& .${de.deleteIcon}`]:{marginRight:5},[`& .${de.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(t.palette).filter(ja()).map(([i])=>({props:{variant:"outlined",color:i},style:{color:(t.vars||t).palette[i].main,border:`1px solid ${t.vars?`rgba(${t.vars.palette[i].mainChannel} / 0.7)`:Fe(t.palette[i].main,.7)}`,[`&.${de.clickable}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[i].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Fe(t.palette[i].main,t.palette.action.hoverOpacity)},[`&.${de.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[i].mainChannel} / ${t.vars.palette.action.focusOpacity})`:Fe(t.palette[i].main,t.palette.action.focusOpacity)},[`& .${de.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[i].mainChannel} / 0.7)`:Fe(t.palette[i].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[i].main}}}}))]}})),XJ=Ut("span",{name:"MuiChip",slot:"Label",overridesResolver:(t,e)=>{const{ownerState:i}=t,{size:n}=i;return[e.label,e[`label${Tt(n)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function _4(t){return t.key==="Backspace"||t.key==="Delete"}const _V=Q.forwardRef(function(e,i){const n=Ce({props:e,name:"MuiChip"}),{avatar:s,className:a,clickable:o,color:r="default",component:l,deleteIcon:c,disabled:h=!1,icon:p,label:f,onClick:y,onDelete:m,onKeyDown:b,onKeyUp:S,size:v="medium",variant:D="filled",tabIndex:I,skipFocusWhenDisabled:T=!1,...k}=n,E=Q.useRef(null),w=Ls(E,i),R=X=>{X.stopPropagation(),m&&m(X)},O=X=>{X.currentTarget===X.target&&_4(X)&&X.preventDefault(),b&&b(X)},L=X=>{X.currentTarget===X.target&&m&&_4(X)&&m(X),S&&S(X)},F=o!==!1&&y?!0:o,z=F||m?rh:l||"div",V={...n,component:z,disabled:h,size:v,color:r,iconColor:Q.isValidElement(p)&&p.props.color||r,onDelete:!!m,clickable:F,variant:D},H=$J(V),W=z===rh?{component:l||"div",focusVisibleClassName:H.focusVisible,...m&&{disableRipple:!0}}:{};let G=null;m&&(G=c&&Q.isValidElement(c)?Q.cloneElement(c,{className:jt(c.props.className,H.deleteIcon),onClick:R}):q.jsx(WJ,{className:jt(H.deleteIcon),onClick:R}));let $=null;s&&Q.isValidElement(s)&&($=Q.cloneElement(s,{className:jt(H.avatar,s.props.className)}));let K=null;return p&&Q.isValidElement(p)&&(K=Q.cloneElement(p,{className:jt(H.icon,p.props.className)})),q.jsxs(KJ,{as:z,className:jt(H.root,a),disabled:F&&h?!0:void 0,onClick:y,onKeyDown:O,onKeyUp:L,ref:w,tabIndex:T&&h?-1:I,ownerState:V,...W,...k,children:[$||K,q.jsx(XJ,{className:jt(H.label),ownerState:V,children:f}),G]})});function L0(t){return parseInt(t,10)||0}const ZJ={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function qJ(t){for(const e in t)return!1;return!0}function QJ(t){return qJ(t)||t.outerHeightStyle===0&&!t.overflowing}const JJ=Q.forwardRef(function(e,i){const{onChange:n,maxRows:s,minRows:a=1,style:o,value:r,...l}=e,{current:c}=Q.useRef(r!=null),h=Q.useRef(null),p=Ls(i,h),f=Q.useRef(null),y=Q.useRef(null),m=Q.useCallback(()=>{const D=h.current,I=y.current;if(!D||!I)return;const k=vr(D).getComputedStyle(D);if(k.width==="0px")return{outerHeightStyle:0,overflowing:!1};I.style.width=k.width,I.value=D.value||e.placeholder||"x",I.value.slice(-1)===`
`&&(I.value+=" ");const E=k.boxSizing,w=L0(k.paddingBottom)+L0(k.paddingTop),R=L0(k.borderBottomWidth)+L0(k.borderTopWidth),O=I.scrollHeight;I.value="x";const L=I.scrollHeight;let F=O;a&&(F=Math.max(Number(a)*L,F)),s&&(F=Math.min(Number(s)*L,F)),F=Math.max(F,L);const z=F+(E==="border-box"?w+R:0),V=Math.abs(F-O)<=1;return{outerHeightStyle:z,overflowing:V}},[s,a,e.placeholder]),b=Q.useCallback(()=>{const D=h.current,I=m();if(!D||!I||QJ(I))return;const T=I.outerHeightStyle;f.current!==T&&(f.current=T,D.style.height=`${T}px`),D.style.overflow=I.overflowing?"hidden":""},[m]),S=Q.useRef(-1);Dc(()=>{const D=mA(()=>b()),I=h==null?void 0:h.current;if(!I)return;const T=vr(I);T.addEventListener("resize",D);let k;return typeof ResizeObserver<"u"&&(k=new ResizeObserver(()=>{k.unobserve(I),cancelAnimationFrame(S.current),b(),S.current=requestAnimationFrame(()=>{k.observe(I)})}),k.observe(I)),()=>{D.clear(),cancelAnimationFrame(S.current),T.removeEventListener("resize",D),k&&k.disconnect()}},[m,b]),Dc(()=>{b()});const v=D=>{c||b(),n&&n(D)};return q.jsxs(Q.Fragment,{children:[q.jsx("textarea",{value:r,onChange:v,ref:p,rows:a,style:o,...l}),q.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:y,tabIndex:-1,style:{...ZJ.shadow,...o,paddingTop:0,paddingBottom:0}})]})});function qk(t){return typeof t=="string"}function ttt({props:t,states:e,muiFormControl:i}){return e.reduce((n,s)=>(n[s]=t[s],i&&typeof t[s]>"u"&&(n[s]=i[s]),n),{})}const jV=Q.createContext(void 0);function FV(){return Q.useContext(jV)}function j4(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function ett(t,e=!1){return t&&(j4(t.value)&&t.value!==""||e&&j4(t.defaultValue)&&t.defaultValue!=="")}function itt(t){return Ae("MuiInputBase",t)}const Qk=be("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var F4;const ntt=(t,e)=>{const{ownerState:i}=t;return[e.root,i.formControl&&e.formControl,i.startAdornment&&e.adornedStart,i.endAdornment&&e.adornedEnd,i.error&&e.error,i.size==="small"&&e.sizeSmall,i.multiline&&e.multiline,i.color&&e[`color${Tt(i.color)}`],i.fullWidth&&e.fullWidth,i.hiddenLabel&&e.hiddenLabel]},stt=(t,e)=>{const{ownerState:i}=t;return[e.input,i.size==="small"&&e.inputSizeSmall,i.multiline&&e.inputMultiline,i.type==="search"&&e.inputTypeSearch,i.startAdornment&&e.inputAdornedStart,i.endAdornment&&e.inputAdornedEnd,i.hiddenLabel&&e.inputHiddenLabel]},att=t=>{const{classes:e,color:i,disabled:n,error:s,endAdornment:a,focused:o,formControl:r,fullWidth:l,hiddenLabel:c,multiline:h,readOnly:p,size:f,startAdornment:y,type:m}=t,b={root:["root",`color${Tt(i)}`,n&&"disabled",s&&"error",l&&"fullWidth",o&&"focused",r&&"formControl",f&&f!=="medium"&&`size${Tt(f)}`,h&&"multiline",y&&"adornedStart",a&&"adornedEnd",c&&"hiddenLabel",p&&"readOnly"],input:["input",n&&"disabled",m==="search"&&"inputTypeSearch",h&&"inputMultiline",f==="small"&&"inputSizeSmall",c&&"inputHiddenLabel",y&&"inputAdornedStart",a&&"inputAdornedEnd",p&&"readOnly"]};return Te(b,itt,e)},ott=Ut("div",{name:"MuiInputBase",slot:"Root",overridesResolver:ntt})(bi(({theme:t})=>({...t.typography.body1,color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Qk.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:i})=>e.multiline&&i==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),rtt=Ut("input",{name:"MuiInputBase",slot:"Input",overridesResolver:stt})(bi(({theme:t})=>{const e=t.palette.mode==="light",i={color:"currentColor",...t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})},n={opacity:"0 !important"},s=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&::-ms-input-placeholder":i,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Qk.formControl} &`]:{"&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${Qk.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},variants:[{props:({ownerState:a})=>!a.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:a})=>a.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),G4=YQ({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),ltt=Q.forwardRef(function(e,i){const n=Ce({props:e,name:"MuiInputBase"}),{"aria-describedby":s,autoComplete:a,autoFocus:o,className:r,color:l,components:c={},componentsProps:h={},defaultValue:p,disabled:f,disableInjectingGlobalStyles:y,endAdornment:m,error:b,fullWidth:S=!1,id:v,inputComponent:D="input",inputProps:I={},inputRef:T,margin:k,maxRows:E,minRows:w,multiline:R=!1,name:O,onBlur:L,onChange:F,onClick:z,onFocus:V,onKeyDown:H,onKeyUp:W,placeholder:G,readOnly:$,renderSuffix:K,rows:X,size:j,slotProps:U={},slots:Z={},startAdornment:tt,type:J="text",value:nt,...at}=n,lt=I.value!=null?I.value:nt,{current:ut}=Q.useRef(lt!=null),pt=Q.useRef(),ot=Q.useCallback(Ye=>{},[]),ft=Ls(pt,T,I.ref,ot),[ct,bt]=Q.useState(!1),St=FV(),xt=ttt({props:n,muiFormControl:St,states:["color","disabled","error","hiddenLabel","size","required","filled"]});xt.focused=St?St.focused:ct,Q.useEffect(()=>{!St&&f&&ct&&(bt(!1),L&&L())},[St,f,ct,L]);const wt=St&&St.onFilled,kt=St&&St.onEmpty,Nt=Q.useCallback(Ye=>{ett(Ye)?wt&&wt():kt&&kt()},[wt,kt]);Dc(()=>{ut&&Nt({value:lt})},[lt,Nt,ut]);const $t=Ye=>{V&&V(Ye),I.onFocus&&I.onFocus(Ye),St&&St.onFocus?St.onFocus(Ye):bt(!0)},zt=Ye=>{L&&L(Ye),I.onBlur&&I.onBlur(Ye),St&&St.onBlur?St.onBlur(Ye):bt(!1)},Ot=(Ye,...Rp)=>{if(!ut){const _r=Ye.target||pt.current;if(_r==null)throw new Error(sh(1));Nt({value:_r.value})}I.onChange&&I.onChange(Ye,...Rp),F&&F(Ye,...Rp)};Q.useEffect(()=>{Nt(pt.current)},[]);const Mt=Ye=>{pt.current&&Ye.currentTarget===Ye.target&&pt.current.focus(),z&&z(Ye)};let Ne=D,Yt=I;R&&Ne==="input"&&(X?Yt={type:void 0,minRows:X,maxRows:X,...Yt}:Yt={type:void 0,maxRows:E,minRows:w,...Yt},Ne=JJ);const cn=Ye=>{Nt(Ye.animationName==="mui-auto-fill-cancel"?pt.current:{value:"x"})};Q.useEffect(()=>{St&&St.setAdornedStart(!!tt)},[St,tt]);const Ui={...n,color:xt.color||"primary",disabled:xt.disabled,endAdornment:m,error:xt.error,focused:xt.focused,formControl:St,fullWidth:S,hiddenLabel:xt.hiddenLabel,multiline:R,size:xt.size,startAdornment:tt,type:J},gs=att(Ui),Gs=Z.root||c.Root||ott,qn=U.root||h.root||{},ra=Z.input||c.Input||rtt;return Yt={...Yt,...U.input??h.input},q.jsxs(Q.Fragment,{children:[!y&&typeof G4=="function"&&(F4||(F4=q.jsx(G4,{}))),q.jsxs(Gs,{...qn,ref:i,onClick:Mt,...at,...!qk(Gs)&&{ownerState:{...Ui,...qn.ownerState}},className:jt(gs.root,qn.className,r,$&&"MuiInputBase-readOnly"),children:[tt,q.jsx(jV.Provider,{value:null,children:q.jsx(ra,{"aria-invalid":xt.error,"aria-describedby":s,autoComplete:a,autoFocus:o,defaultValue:p,disabled:xt.disabled,id:v,onAnimationStart:cn,name:O,placeholder:G,readOnly:$,required:xt.required,rows:X,value:lt,onKeyDown:H,onKeyUp:W,type:J,...Yt,...!qk(ra)&&{as:Ne,ownerState:{...Ui,...Yt.ownerState}},ref:ft,className:jt(gs.input,Yt.className,$&&"MuiInputBase-readOnly"),onBlur:zt,onChange:Ot,onFocus:$t})}),m,K?K({...xt,startAdornment:tt}):null]})]})}),ctt=vn(q.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function utt(t){return Ae("MuiAvatar",t)}be("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const htt=t=>{const{classes:e,variant:i,colorDefault:n}=t;return Te({root:["root",i,n&&"colorDefault"],img:["img"],fallback:["fallback"]},utt,e)},dtt=Ut("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,e[i.variant],i.colorDefault&&e.colorDefault]}})(bi(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(t.vars||t).palette.background.default,...t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:t.palette.grey[400],...t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})}}}]}))),ptt=Ut("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(t,e)=>e.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),ftt=Ut(ctt,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(t,e)=>e.fallback})({width:"75%",height:"75%"});function gtt({crossOrigin:t,referrerPolicy:e,src:i,srcSet:n}){const[s,a]=Q.useState(!1);return Q.useEffect(()=>{if(!i&&!n)return;a(!1);let o=!0;const r=new Image;return r.onload=()=>{o&&a("loaded")},r.onerror=()=>{o&&a("error")},r.crossOrigin=t,r.referrerPolicy=e,r.src=i,n&&(r.srcset=n),()=>{o=!1}},[t,e,i,n]),s}const GV=Q.forwardRef(function(e,i){const n=Ce({props:e,name:"MuiAvatar"}),{alt:s,children:a,className:o,component:r="div",slots:l={},slotProps:c={},imgProps:h,sizes:p,src:f,srcSet:y,variant:m="circular",...b}=n;let S=null;const v={...n,component:r,variant:m},D=gtt({...h,...typeof c.img=="function"?c.img(v):c.img,src:f,srcSet:y}),I=f||y,T=I&&D!=="error";v.colorDefault=!T,delete v.ownerState;const k=htt(v),[E,w]=Ic("img",{className:k.img,elementType:ptt,externalForwardedProps:{slots:l,slotProps:{img:{...h,...c.img}}},additionalProps:{alt:s,src:f,srcSet:y,sizes:p},ownerState:v});return T?S=q.jsx(E,{...w}):a||a===0?S=a:I&&s?S=s[0]:S=q.jsx(ftt,{ownerState:v,className:k.fallback}),q.jsx(dtt,{as:r,className:jt(k.root,o),ref:i,...b,ownerState:v,children:S})}),ytt={entering:{opacity:1},entered:{opacity:1}},mtt=Q.forwardRef(function(e,i){const n=lb(),s={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:a,appear:o=!0,children:r,easing:l,in:c,onEnter:h,onEntered:p,onEntering:f,onExit:y,onExited:m,onExiting:b,style:S,timeout:v=s,TransitionComponent:D=yl,...I}=e,T=Q.useRef(null),k=Ls(T,xA(r),i),E=H=>W=>{if(H){const G=T.current;W===void 0?H(G):H(G,W)}},w=E(f),R=E((H,W)=>{PV(H);const G=yM({style:S,timeout:v,easing:l},{mode:"enter"});H.style.webkitTransition=n.transitions.create("opacity",G),H.style.transition=n.transitions.create("opacity",G),h&&h(H,W)}),O=E(p),L=E(b),F=E(H=>{const W=yM({style:S,timeout:v,easing:l},{mode:"exit"});H.style.webkitTransition=n.transitions.create("opacity",W),H.style.transition=n.transitions.create("opacity",W),y&&y(H)}),z=E(m),V=H=>{a&&a(T.current,H)};return q.jsx(D,{appear:o,in:c,nodeRef:T,onEnter:R,onEntered:O,onEntering:w,onExit:F,onExited:z,onExiting:L,addEndListener:V,timeout:v,...I,children:(H,{ownerState:W,...G})=>Q.cloneElement(r,{style:{opacity:0,visibility:H==="exited"&&!c?"hidden":void 0,...ytt[H],...S,...r.props.style},ref:k,...G})})});function xtt(t){return Ae("MuiBackdrop",t)}be("MuiBackdrop",["root","invisible"]);const btt=t=>{const{classes:e,invisible:i}=t;return Te({root:["root",i&&"invisible"]},xtt,e)},vtt=Ut("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,i.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),Stt=Q.forwardRef(function(e,i){const n=Ce({props:e,name:"MuiBackdrop"}),{children:s,className:a,component:o="div",invisible:r=!1,open:l,components:c={},componentsProps:h={},slotProps:p={},slots:f={},TransitionComponent:y,transitionDuration:m,...b}=n,S={...n,component:o,invisible:r},v=btt(S),D={transition:y,root:c.Root,...f},I={...h,...p},T={slots:D,slotProps:I},[k,E]=Ic("root",{elementType:vtt,externalForwardedProps:T,className:jt(v.root,a),ownerState:S}),[w,R]=Ic("transition",{elementType:mtt,externalForwardedProps:T,ownerState:S});return q.jsx(w,{in:l,timeout:m,...b,...R,children:q.jsx(k,{"aria-hidden":!0,...E,classes:v,ref:i,children:s})})});function Mtt(t){const{badgeContent:e,invisible:i=!1,max:n=99,showZero:s=!1}=t,a=SV({badgeContent:e,max:n});let o=i;i===!1&&e===0&&!s&&(o=!0);const{badgeContent:r,max:l=n}=o?a:t,c=r&&Number(r)>l?`${l}+`:r;return{badgeContent:r,invisible:o,max:l,displayValue:c}}function Att(t){return Ae("MuiBadge",t)}const ku=be("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),qC=10,QC=4,Dtt=t=>{const{color:e,anchorOrigin:i,invisible:n,overlap:s,variant:a,classes:o={}}=t,r={root:["root"],badge:["badge",a,n&&"invisible",`anchorOrigin${Tt(i.vertical)}${Tt(i.horizontal)}`,`anchorOrigin${Tt(i.vertical)}${Tt(i.horizontal)}${Tt(s)}`,`overlap${Tt(s)}`,e!=="default"&&`color${Tt(e)}`]};return Te(r,Att,o)},Itt=Ut("span",{name:"MuiBadge",slot:"Root",overridesResolver:(t,e)=>e.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),Ttt=Ut("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.badge,e[i.variant],e[`anchorOrigin${Tt(i.anchorOrigin.vertical)}${Tt(i.anchorOrigin.horizontal)}${Tt(i.overlap)}`],i.color!=="default"&&e[`color${Tt(i.color)}`],i.invisible&&e.invisible]}})(bi(({theme:t})=>({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(12),minWidth:qC*2,lineHeight:1,padding:"0 6px",height:qC*2,borderRadius:qC,zIndex:1,transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.enteringScreen}),variants:[...Object.entries(t.palette).filter(ja(["contrastText"])).map(([e])=>({props:{color:e},style:{backgroundColor:(t.vars||t).palette[e].main,color:(t.vars||t).palette[e].contrastText}})),{props:{variant:"dot"},style:{borderRadius:QC,height:QC*2,minWidth:QC*2,padding:0}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${ku.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${ku.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${ku.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${ku.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${ku.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${ku.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${ku.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${ku.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.leavingScreen})}}]})));function V4(t){return{vertical:(t==null?void 0:t.vertical)??"top",horizontal:(t==null?void 0:t.horizontal)??"right"}}const Ctt=Q.forwardRef(function(e,i){const n=Ce({props:e,name:"MuiBadge"}),{anchorOrigin:s,className:a,classes:o,component:r,components:l={},componentsProps:c={},children:h,overlap:p="rectangular",color:f="default",invisible:y=!1,max:m=99,badgeContent:b,slots:S,slotProps:v,showZero:D=!1,variant:I="standard",...T}=n,{badgeContent:k,invisible:E,max:w,displayValue:R}=Mtt({max:m,invisible:y,badgeContent:b,showZero:D}),O=SV({anchorOrigin:V4(s),color:f,overlap:p,variant:I,badgeContent:b}),L=E||k==null&&I!=="dot",{color:F=f,overlap:z=p,anchorOrigin:V,variant:H=I}=L?O:n,W=V4(V),G=H!=="dot"?R:void 0,$={...n,badgeContent:k,invisible:L,max:w,displayValue:G,showZero:D,anchorOrigin:W,color:F,overlap:z,variant:H},K=Dtt($),X=(S==null?void 0:S.root)??l.Root??Itt,j=(S==null?void 0:S.badge)??l.Badge??Ttt,U=(v==null?void 0:v.root)??c.root,Z=(v==null?void 0:v.badge)??c.badge,tt=oh({elementType:X,externalSlotProps:U,externalForwardedProps:T,additionalProps:{ref:i,as:r},ownerState:$,className:jt(U==null?void 0:U.className,K.root,a)}),J=oh({elementType:j,externalSlotProps:Z,ownerState:$,className:jt(K.badge,Z==null?void 0:Z.className)});return q.jsxs(X,{...tt,children:[h,q.jsx(j,{...J,children:G})]})}),ktt=be("MuiBox",["root"]),Ltt=EV(),ae=zq({themeId:eA,defaultTheme:Ltt,defaultClassName:ktt.root,generateClassName:dV.generate});function Ntt(t){return Ae("MuiButton",t)}const ad=be("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),Ett=Q.createContext({}),wtt=Q.createContext(void 0),Ott=t=>{const{color:e,disableElevation:i,fullWidth:n,size:s,variant:a,loading:o,loadingPosition:r,classes:l}=t,c={root:["root",o&&"loading",a,`${a}${Tt(e)}`,`size${Tt(s)}`,`${a}Size${Tt(s)}`,`color${Tt(e)}`,i&&"disableElevation",n&&"fullWidth",o&&`loadingPosition${Tt(r)}`],startIcon:["icon","startIcon",`iconSize${Tt(s)}`],endIcon:["icon","endIcon",`iconSize${Tt(s)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},h=Te(c,Ntt,l);return{...l,...h}},VV=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],Rtt=Ut(rh,{shouldForwardProp:t=>bg(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,e[i.variant],e[`${i.variant}${Tt(i.color)}`],e[`size${Tt(i.size)}`],e[`${i.variant}Size${Tt(i.size)}`],i.color==="inherit"&&e.colorInherit,i.disableElevation&&e.disableElevation,i.fullWidth&&e.fullWidth,i.loading&&e.loading]}})(bi(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],i=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return{...t.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${ad.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(t.vars||t).shadows[2],"&:hover":{boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2]}},"&:active":{boxShadow:(t.vars||t).shadows[8]},[`&.${ad.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},[`&.${ad.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${ad.disabled}`]:{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(t.palette).filter(ja()).map(([n])=>({props:{color:n},style:{"--variant-textColor":(t.vars||t).palette[n].main,"--variant-outlinedColor":(t.vars||t).palette[n].main,"--variant-outlinedBorder":t.vars?`rgba(${t.vars.palette[n].mainChannel} / 0.5)`:Fe(t.palette[n].main,.5),"--variant-containedColor":(t.vars||t).palette[n].contrastText,"--variant-containedBg":(t.vars||t).palette[n].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(t.vars||t).palette[n].dark,"--variant-textBg":t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Fe(t.palette[n].main,t.palette.action.hoverOpacity),"--variant-outlinedBorder":(t.vars||t).palette[n].main,"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Fe(t.palette[n].main,t.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedHoverBg:i,"--variant-textBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Fe(t.palette.text.primary,t.palette.action.hoverOpacity),"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Fe(t.palette.text.primary,t.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${ad.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${ad.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),[`&.${ad.loading}`]:{color:"transparent"}}}]}})),Ptt=Ut("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.startIcon,i.loading&&e.startIconLoadingStart,e[`iconSize${Tt(i.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...VV]})),Btt=Ut("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.endIcon,i.loading&&e.endIconLoadingEnd,e[`iconSize${Tt(i.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...VV]})),ztt=Ut("span",{name:"MuiButton",slot:"LoadingIndicator",overridesResolver:(t,e)=>e.loadingIndicator})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),U4=Ut("span",{name:"MuiButton",slot:"LoadingIconPlaceholder",overridesResolver:(t,e)=>e.loadingIconPlaceholder})({display:"inline-block",width:"1em",height:"1em"}),AN=Q.forwardRef(function(e,i){const n=Q.useContext(Ett),s=Q.useContext(wtt),a=fM(n,e),o=Ce({props:a,name:"MuiButton"}),{children:r,color:l="primary",component:c="button",className:h,disabled:p=!1,disableElevation:f=!1,disableFocusRipple:y=!1,endIcon:m,focusVisibleClassName:b,fullWidth:S=!1,id:v,loading:D=null,loadingIndicator:I,loadingPosition:T="center",size:k="medium",startIcon:E,type:w,variant:R="text",...O}=o,L=mV(v),F=I??q.jsx(xM,{"aria-labelledby":L,color:"inherit",size:16}),z={...o,color:l,component:c,disabled:p,disableElevation:f,disableFocusRipple:y,fullWidth:S,loading:D,loadingIndicator:F,loadingPosition:T,size:k,type:w,variant:R},V=Ott(z),H=(E||D&&T==="start")&&q.jsx(Ptt,{className:V.startIcon,ownerState:z,children:E||q.jsx(U4,{className:V.loadingIconPlaceholder,ownerState:z})}),W=(m||D&&T==="end")&&q.jsx(Btt,{className:V.endIcon,ownerState:z,children:m||q.jsx(U4,{className:V.loadingIconPlaceholder,ownerState:z})}),G=s||"",$=typeof D=="boolean"?q.jsx("span",{className:V.loadingWrapper,style:{display:"contents"},children:D&&q.jsx(ztt,{className:V.loadingIndicator,ownerState:z,children:F})}):null;return q.jsxs(Rtt,{ownerState:z,className:jt(n.className,V.root,h,G),component:c,disabled:p||D,focusRipple:!y,focusVisibleClassName:jt(V.focusVisible,b),ref:i,type:w,id:L,...O,classes:V,children:[H,T!=="end"&&$,r,T==="end"&&$,W]})});function _tt(t){return Ae("MuiCardContent",t)}be("MuiCardContent",["root"]);const jtt=t=>{const{classes:e}=t;return Te({root:["root"]},_tt,e)},Ftt=Ut("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:16,"&:last-child":{paddingBottom:24}}),N0=Q.forwardRef(function(e,i){const n=Ce({props:e,name:"MuiCardContent"}),{className:s,component:a="div",...o}=n,r={...n,component:a},l=jtt(r);return q.jsx(Ftt,{as:a,className:jt(l.root,s),ownerState:r,ref:i,...o})});function Gtt(t){return Ae("PrivateSwitchBase",t)}be("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const Vtt=t=>{const{classes:e,checked:i,disabled:n,edge:s}=t,a={root:["root",i&&"checked",n&&"disabled",s&&`edge${Tt(s)}`],input:["input"]};return Te(a,Gtt,e)},Utt=Ut(rh)({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:t,ownerState:e})=>t==="start"&&e.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:t,ownerState:e})=>t==="end"&&e.size!=="small",style:{marginRight:-12}}]}),Htt=Ut("input",{shouldForwardProp:bg})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),Wtt=Q.forwardRef(function(e,i){const{autoFocus:n,checked:s,checkedIcon:a,className:o,defaultChecked:r,disabled:l,disableFocusRipple:c=!1,edge:h=!1,icon:p,id:f,inputProps:y,inputRef:m,name:b,onBlur:S,onChange:v,onFocus:D,readOnly:I,required:T=!1,tabIndex:k,type:E,value:w,...R}=e,[O,L]=tQ({controlled:s,default:!!r,name:"SwitchBase",state:"checked"}),F=FV(),z=X=>{D&&D(X),F&&F.onFocus&&F.onFocus(X)},V=X=>{S&&S(X),F&&F.onBlur&&F.onBlur(X)},H=X=>{if(X.nativeEvent.defaultPrevented)return;const j=X.target.checked;L(j),v&&v(X,j)};let W=l;F&&typeof W>"u"&&(W=F.disabled);const G=E==="checkbox"||E==="radio",$={...e,checked:O,disabled:W,disableFocusRipple:c,edge:h},K=Vtt($);return q.jsxs(Utt,{component:"span",className:jt(K.root,o),centerRipple:!0,focusRipple:!c,disabled:W,tabIndex:null,role:void 0,onFocus:z,onBlur:V,ownerState:$,ref:i,...R,children:[q.jsx(Htt,{autoFocus:n,checked:s,defaultChecked:r,className:K.input,disabled:W,id:G?f:void 0,name:b,onChange:H,readOnly:I,ref:m,required:T,ownerState:$,tabIndex:k,type:E,...E==="checkbox"&&w===void 0?{}:{value:w},...y}),O?a:p]})}),Ytt=vn(q.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),$tt=vn(q.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),Ktt=vn(q.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function Xtt(t){return Ae("MuiCheckbox",t)}const JC=be("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),Ztt=t=>{const{classes:e,indeterminate:i,color:n,size:s}=t,a={root:["root",i&&"indeterminate",`color${Tt(n)}`,`size${Tt(s)}`]},o=Te(a,Xtt,e);return{...e,...o}},qtt=Ut(Wtt,{shouldForwardProp:t=>bg(t)||t==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,i.indeterminate&&e.indeterminate,e[`size${Tt(i.size)}`],i.color!=="default"&&e[`color${Tt(i.color)}`]]}})(bi(({theme:t})=>({color:(t.vars||t).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Fe(t.palette.action.active,t.palette.action.hoverOpacity)}}},...Object.entries(t.palette).filter(ja()).map(([e])=>({props:{color:e,disableRipple:!1},style:{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Fe(t.palette[e].main,t.palette.action.hoverOpacity)}}})),...Object.entries(t.palette).filter(ja()).map(([e])=>({props:{color:e},style:{[`&.${JC.checked}, &.${JC.indeterminate}`]:{color:(t.vars||t).palette[e].main},[`&.${JC.disabled}`]:{color:(t.vars||t).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),Qtt=q.jsx($tt,{}),Jtt=q.jsx(Ytt,{}),tet=q.jsx(Ktt,{}),eet=Q.forwardRef(function(e,i){const n=Ce({props:e,name:"MuiCheckbox"}),{checkedIcon:s=Qtt,color:a="primary",icon:o=Jtt,indeterminate:r=!1,indeterminateIcon:l=tet,inputProps:c,size:h="medium",disableRipple:p=!1,className:f,...y}=n,m=r?l:o,b=r?l:s,S={...n,disableRipple:p,color:a,indeterminate:r,size:h},v=Ztt(S);return q.jsx(qtt,{type:"checkbox",inputProps:{"data-indeterminate":r,...c},icon:Q.cloneElement(m,{fontSize:m.props.fontSize??h}),checkedIcon:Q.cloneElement(b,{fontSize:b.props.fontSize??h}),ownerState:S,ref:i,className:jt(v.root,f),disableRipple:p,...y,classes:v})});function iet(t){const e=br(t);return e.body===t?vr(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function ix(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function H4(t){return parseInt(vr(t).getComputedStyle(t).paddingRight,10)||0}function net(t){const i=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(t.tagName),n=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return i||n}function W4(t,e,i,n,s){const a=[e,i,...n];[].forEach.call(t.children,o=>{const r=!a.includes(o),l=!net(o);r&&l&&ix(o,s)})}function t1(t,e){let i=-1;return t.some((n,s)=>e(n)?(i=s,!0):!1),i}function set(t,e){const i=[],n=t.container;if(!e.disableScrollLock){if(iet(n)){const o=vV(vr(n));i.push({value:n.style.paddingRight,property:"padding-right",el:n}),n.style.paddingRight=`${H4(n)+o}px`;const r=br(n).querySelectorAll(".mui-fixed");[].forEach.call(r,l=>{i.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${H4(l)+o}px`})}let a;if(n.parentNode instanceof DocumentFragment)a=br(n).body;else{const o=n.parentElement,r=vr(n);a=(o==null?void 0:o.nodeName)==="HTML"&&r.getComputedStyle(o).overflowY==="scroll"?o:n}i.push({value:a.style.overflow,property:"overflow",el:a},{value:a.style.overflowX,property:"overflow-x",el:a},{value:a.style.overflowY,property:"overflow-y",el:a}),a.style.overflow="hidden"}return()=>{i.forEach(({value:a,el:o,property:r})=>{a?o.style.setProperty(r,a):o.style.removeProperty(r)})}}function aet(t){const e=[];return[].forEach.call(t.children,i=>{i.getAttribute("aria-hidden")==="true"&&e.push(i)}),e}class oet{constructor(){this.modals=[],this.containers=[]}add(e,i){let n=this.modals.indexOf(e);if(n!==-1)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&ix(e.modalRef,!1);const s=aet(i);W4(i,e.mount,e.modalRef,s,!0);const a=t1(this.containers,o=>o.container===i);return a!==-1?(this.containers[a].modals.push(e),n):(this.containers.push({modals:[e],container:i,restore:null,hiddenSiblings:s}),n)}mount(e,i){const n=t1(this.containers,a=>a.modals.includes(e)),s=this.containers[n];s.restore||(s.restore=set(s,i))}remove(e,i=!0){const n=this.modals.indexOf(e);if(n===-1)return n;const s=t1(this.containers,o=>o.modals.includes(e)),a=this.containers[s];if(a.modals.splice(a.modals.indexOf(e),1),this.modals.splice(n,1),a.modals.length===0)a.restore&&a.restore(),e.modalRef&&ix(e.modalRef,i),W4(a.container,e.mount,e.modalRef,a.hiddenSiblings,!1),this.containers.splice(s,1);else{const o=a.modals[a.modals.length-1];o.modalRef&&ix(o.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const ret=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function cet(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function uet(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=n=>t.ownerDocument.querySelector(`input[type="radio"]${n}`);let i=e(`[name="${t.name}"]:checked`);return i||(i=e(`[name="${t.name}"]`)),i!==t}function het(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||uet(t))}function det(t){const e=[],i=[];return Array.from(t.querySelectorAll(ret)).forEach((n,s)=>{const a=cet(n);a===-1||!het(n)||(a===0?e.push(n):i.push({documentOrder:s,tabIndex:a,node:n}))}),i.sort((n,s)=>n.tabIndex===s.tabIndex?n.documentOrder-s.documentOrder:n.tabIndex-s.tabIndex).map(n=>n.node).concat(e)}function pet(){return!0}function fet(t){const{children:e,disableAutoFocus:i=!1,disableEnforceFocus:n=!1,disableRestoreFocus:s=!1,getTabbable:a=det,isEnabled:o=pet,open:r}=t,l=Q.useRef(!1),c=Q.useRef(null),h=Q.useRef(null),p=Q.useRef(null),f=Q.useRef(null),y=Q.useRef(!1),m=Q.useRef(null),b=Ls(xA(e),m),S=Q.useRef(null);Q.useEffect(()=>{!r||!m.current||(y.current=!i)},[i,r]),Q.useEffect(()=>{if(!r||!m.current)return;const I=br(m.current);return m.current.contains(I.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),y.current&&m.current.focus()),()=>{s||(p.current&&p.current.focus&&(l.current=!0,p.current.focus()),p.current=null)}},[r]),Q.useEffect(()=>{if(!r||!m.current)return;const I=br(m.current),T=w=>{S.current=w,!(n||!o()||w.key!=="Tab")&&I.activeElement===m.current&&w.shiftKey&&(l.current=!0,h.current&&h.current.focus())},k=()=>{var O,L;const w=m.current;if(w===null)return;if(!I.hasFocus()||!o()||l.current){l.current=!1;return}if(w.contains(I.activeElement)||n&&I.activeElement!==c.current&&I.activeElement!==h.current)return;if(I.activeElement!==f.current)f.current=null;else if(f.current!==null)return;if(!y.current)return;let R=[];if((I.activeElement===c.current||I.activeElement===h.current)&&(R=a(m.current)),R.length>0){const F=!!((O=S.current)!=null&&O.shiftKey&&((L=S.current)==null?void 0:L.key)==="Tab"),z=R[0],V=R[R.length-1];typeof z!="string"&&typeof V!="string"&&(F?V.focus():z.focus())}else w.focus()};I.addEventListener("focusin",k),I.addEventListener("keydown",T,!0);const E=setInterval(()=>{I.activeElement&&I.activeElement.tagName==="BODY"&&k()},50);return()=>{clearInterval(E),I.removeEventListener("focusin",k),I.removeEventListener("keydown",T,!0)}},[i,n,s,o,r,a]);const v=I=>{p.current===null&&(p.current=I.relatedTarget),y.current=!0,f.current=I.target;const T=e.props.onFocus;T&&T(I)},D=I=>{p.current===null&&(p.current=I.relatedTarget),y.current=!0};return q.jsxs(Q.Fragment,{children:[q.jsx("div",{tabIndex:r?0:-1,onFocus:D,ref:c,"data-testid":"sentinelStart"}),Q.cloneElement(e,{ref:b,onFocus:v}),q.jsx("div",{tabIndex:r?0:-1,onFocus:D,ref:h,"data-testid":"sentinelEnd"})]})}function get(t){return typeof t=="function"?t():t}function yet(t){return t?t.props.hasOwnProperty("in"):!1}const Y4=()=>{},E0=new oet;function met(t){const{container:e,disableEscapeKeyDown:i=!1,disableScrollLock:n=!1,closeAfterTransition:s=!1,onTransitionEnter:a,onTransitionExited:o,children:r,onClose:l,open:c,rootRef:h}=t,p=Q.useRef({}),f=Q.useRef(null),y=Q.useRef(null),m=Ls(y,h),[b,S]=Q.useState(!c),v=yet(r);let D=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(D=!1);const I=()=>br(f.current),T=()=>(p.current.modalRef=y.current,p.current.mount=f.current,p.current),k=()=>{E0.mount(T(),{disableScrollLock:n}),y.current&&(y.current.scrollTop=0)},E=bc(()=>{const W=get(e)||I().body;E0.add(T(),W),y.current&&k()}),w=()=>E0.isTopModal(T()),R=bc(W=>{f.current=W,W&&(c&&w()?k():y.current&&ix(y.current,D))}),O=Q.useCallback(()=>{E0.remove(T(),D)},[D]);Q.useEffect(()=>()=>{O()},[O]),Q.useEffect(()=>{c?E():(!v||!s)&&O()},[c,O,v,s,E]);const L=W=>G=>{var $;($=W.onKeyDown)==null||$.call(W,G),!(G.key!=="Escape"||G.which===229||!w())&&(i||(G.stopPropagation(),l&&l(G,"escapeKeyDown")))},F=W=>G=>{var $;($=W.onClick)==null||$.call(W,G),G.target===G.currentTarget&&l&&l(G,"backdropClick")};return{getRootProps:(W={})=>{const G=AV(t);delete G.onTransitionEnter,delete G.onTransitionExited;const $={...G,...W};return{role:"presentation",...$,onKeyDown:L($),ref:m}},getBackdropProps:(W={})=>{const G=W;return{"aria-hidden":!0,...G,onClick:F(G),open:c}},getTransitionProps:()=>{const W=()=>{S(!1),a&&a()},G=()=>{S(!0),o&&o(),s&&O()};return{onEnter:b4(W,(r==null?void 0:r.props.onEnter)??Y4),onExited:b4(G,(r==null?void 0:r.props.onExited)??Y4)}},rootRef:m,portalRef:R,isTopModal:w,exited:b,hasTransition:v}}function xet(t){return Ae("MuiModal",t)}be("MuiModal",["root","hidden","backdrop"]);const bet=t=>{const{open:e,exited:i,classes:n}=t;return Te({root:["root",!e&&i&&"hidden"],backdrop:["backdrop"]},xet,n)},vet=Ut("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,!i.open&&i.exited&&e.hidden]}})(bi(({theme:t})=>({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),Met=Ut(Stt,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),Aet=Q.forwardRef(function(e,i){const n=Ce({name:"MuiModal",props:e}),{BackdropComponent:s=Met,BackdropProps:a,classes:o,className:r,closeAfterTransition:l=!1,children:c,container:h,component:p,components:f={},componentsProps:y={},disableAutoFocus:m=!1,disableEnforceFocus:b=!1,disableEscapeKeyDown:S=!1,disablePortal:v=!1,disableRestoreFocus:D=!1,disableScrollLock:I=!1,hideBackdrop:T=!1,keepMounted:k=!1,onBackdropClick:E,onClose:w,onTransitionEnter:R,onTransitionExited:O,open:L,slotProps:F={},slots:z={},theme:V,...H}=n,W={...n,closeAfterTransition:l,disableAutoFocus:m,disableEnforceFocus:b,disableEscapeKeyDown:S,disablePortal:v,disableRestoreFocus:D,disableScrollLock:I,hideBackdrop:T,keepMounted:k},{getRootProps:G,getBackdropProps:$,getTransitionProps:K,portalRef:X,isTopModal:j,exited:U,hasTransition:Z}=met({...W,rootRef:i}),tt={...W,exited:U},J=bet(tt),nt={};if(c.props.tabIndex===void 0&&(nt.tabIndex="-1"),Z){const{onEnter:ct,onExited:bt}=K();nt.onEnter=ct,nt.onExited=bt}const at={...H,slots:{root:f.Root,backdrop:f.Backdrop,...z},slotProps:{...y,...F}},[lt,ut]=Ic("root",{elementType:vet,externalForwardedProps:at,getSlotProps:G,additionalProps:{ref:i,as:p},ownerState:tt,className:jt(r,J==null?void 0:J.root,!tt.open&&tt.exited&&(J==null?void 0:J.hidden))}),[pt,ot]=Ic("backdrop",{elementType:s,externalForwardedProps:at,additionalProps:a,getSlotProps:ct=>$({...ct,onClick:bt=>{E&&E(bt),ct!=null&&ct.onClick&&ct.onClick(bt)}}),className:jt(a==null?void 0:a.className,J==null?void 0:J.backdrop),ownerState:tt}),ft=Ls(a==null?void 0:a.ref,ot.ref);return!k&&!L&&(!Z||U)?null:q.jsx(HJ,{ref:X,container:h,disablePortal:v,children:q.jsxs(lt,{...ut,children:[!T&&s?q.jsx(pt,{...ot,ref:ft}):null,q.jsx(fet,{disableEnforceFocus:b,disableAutoFocus:m,disableRestoreFocus:D,isEnabled:j,open:L,children:Q.cloneElement(c,nt)})]})})}),$4=Q.createContext();function Det(t){return Ae("MuiGrid",t)}const Iet=[0,1,2,3,4,5,6,7,8,9,10],Tet=["column-reverse","column","row-reverse","row"],Cet=["nowrap","wrap-reverse","wrap"],mm=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],bx=be("MuiGrid",["root","container","item","zeroMinWidth",...Iet.map(t=>`spacing-xs-${t}`),...Tet.map(t=>`direction-xs-${t}`),...Cet.map(t=>`wrap-xs-${t}`),...mm.map(t=>`grid-xs-${t}`),...mm.map(t=>`grid-sm-${t}`),...mm.map(t=>`grid-md-${t}`),...mm.map(t=>`grid-lg-${t}`),...mm.map(t=>`grid-xl-${t}`)]);function ket({theme:t,ownerState:e}){let i;return t.breakpoints.keys.reduce((n,s)=>{let a={};if(e[s]&&(i=e[s]),!i)return n;if(i===!0)a={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(i==="auto")a={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const o=rA({values:e.columns,breakpoints:t.breakpoints.values}),r=typeof o=="object"?o[s]:o;if(r==null)return n;const l=`${Math.round(i/r*1e8)/1e6}%`;let c={};if(e.container&&e.item&&e.columnSpacing!==0){const h=t.spacing(e.columnSpacing);if(h!=="0px"){const p=`calc(${l} + ${h})`;c={flexBasis:p,maxWidth:p}}}a={flexBasis:l,flexGrow:0,maxWidth:l,...c}}return t.breakpoints.values[s]===0?Object.assign(n,a):n[t.breakpoints.up(s)]=a,n},{})}function Let({theme:t,ownerState:e}){const i=rA({values:e.direction,breakpoints:t.breakpoints.values});return Fo({theme:t},i,n=>{const s={flexDirection:n};return n.startsWith("column")&&(s[`& > .${bx.item}`]={maxWidth:"none"}),s})}function UV({breakpoints:t,values:e}){let i="";Object.keys(e).forEach(s=>{i===""&&e[s]!==0&&(i=s)});const n=Object.keys(t).sort((s,a)=>t[s]-t[a]);return n.slice(0,n.indexOf(i))}function Net({theme:t,ownerState:e}){const{container:i,rowSpacing:n}=e;let s={};if(i&&n!==0){const a=rA({values:n,breakpoints:t.breakpoints.values});let o;typeof a=="object"&&(o=UV({breakpoints:t.breakpoints.values,values:a})),s=Fo({theme:t},a,(r,l)=>{const c=t.spacing(r);return c!=="0px"?{marginTop:`calc(-1 * ${c})`,[`& > .${bx.item}`]:{paddingTop:c}}:o!=null&&o.includes(l)?{}:{marginTop:0,[`& > .${bx.item}`]:{paddingTop:0}}})}return s}function Eet({theme:t,ownerState:e}){const{container:i,columnSpacing:n}=e;let s={};if(i&&n!==0){const a=rA({values:n,breakpoints:t.breakpoints.values});let o;typeof a=="object"&&(o=UV({breakpoints:t.breakpoints.values,values:a})),s=Fo({theme:t},a,(r,l)=>{const c=t.spacing(r);if(c!=="0px"){const h=`calc(-1 * ${c})`;return{width:`calc(100% + ${c})`,marginLeft:h,[`& > .${bx.item}`]:{paddingLeft:c}}}return o!=null&&o.includes(l)?{}:{width:"100%",marginLeft:0,[`& > .${bx.item}`]:{paddingLeft:0}}})}return s}function wet(t,e,i={}){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[i[`spacing-xs-${String(t)}`]];const n=[];return e.forEach(s=>{const a=t[s];Number(a)>0&&n.push(i[`spacing-${s}-${String(a)}`])}),n}const Oet=Ut("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t,{container:n,direction:s,item:a,spacing:o,wrap:r,zeroMinWidth:l,breakpoints:c}=i;let h=[];n&&(h=wet(o,c,e));const p=[];return c.forEach(f=>{const y=i[f];y&&p.push(e[`grid-${f}-${String(y)}`])}),[e.root,n&&e.container,a&&e.item,l&&e.zeroMinWidth,...h,s!=="row"&&e[`direction-xs-${String(s)}`],r!=="wrap"&&e[`wrap-xs-${String(r)}`],...p]}})(({ownerState:t})=>({boxSizing:"border-box",...t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},...t.item&&{margin:0},...t.zeroMinWidth&&{minWidth:0},...t.wrap!=="wrap"&&{flexWrap:t.wrap}}),Let,Net,Eet,ket);function Ret(t,e){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[`spacing-xs-${String(t)}`];const i=[];return e.forEach(n=>{const s=t[n];if(Number(s)>0){const a=`spacing-${n}-${String(s)}`;i.push(a)}}),i}const Pet=t=>{const{classes:e,container:i,direction:n,item:s,spacing:a,wrap:o,zeroMinWidth:r,breakpoints:l}=t;let c=[];i&&(c=Ret(a,l));const h=[];l.forEach(f=>{const y=t[f];y&&h.push(`grid-${f}-${String(y)}`)});const p={root:["root",i&&"container",s&&"item",r&&"zeroMinWidth",...c,n!=="row"&&`direction-xs-${String(n)}`,o!=="wrap"&&`wrap-xs-${String(o)}`,...h]};return Te(p,Det,e)},xm=Q.forwardRef(function(e,i){const n=Ce({props:e,name:"MuiGrid"}),{breakpoints:s}=lb(),a=gN(n),{className:o,columns:r,columnSpacing:l,component:c="div",container:h=!1,direction:p="row",item:f=!1,rowSpacing:y,spacing:m=0,wrap:b="wrap",zeroMinWidth:S=!1,...v}=a,D=y||m,I=l||m,T=Q.useContext($4),k=h?r||12:T,E={},w={...v};s.keys.forEach(L=>{v[L]!=null&&(E[L]=v[L],delete w[L])});const R={...a,columns:k,container:h,direction:p,item:f,rowSpacing:D,columnSpacing:I,wrap:b,zeroMinWidth:S,spacing:m,...E,breakpoints:s.keys},O=Pet(R);return q.jsx($4.Provider,{value:k,children:q.jsx(Oet,{ownerState:R,className:jt(O.root,o),as:c,ref:i,...w})})});function Jk(t){return`scale(${t}, ${t**2})`}const Bet={entering:{opacity:1,transform:Jk(1)},entered:{opacity:1,transform:"none"}},e1=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),tL=Q.forwardRef(function(e,i){const{addEndListener:n,appear:s=!0,children:a,easing:o,in:r,onEnter:l,onEntered:c,onEntering:h,onExit:p,onExited:f,onExiting:y,style:m,timeout:b="auto",TransitionComponent:S=yl,...v}=e,D=bV(),I=Q.useRef(),T=lb(),k=Q.useRef(null),E=Ls(k,xA(a),i),w=W=>G=>{if(W){const $=k.current;G===void 0?W($):W($,G)}},R=w(h),O=w((W,G)=>{PV(W);const{duration:$,delay:K,easing:X}=yM({style:m,timeout:b,easing:o},{mode:"enter"});let j;b==="auto"?(j=T.transitions.getAutoHeightDuration(W.clientHeight),I.current=j):j=$,W.style.transition=[T.transitions.create("opacity",{duration:j,delay:K}),T.transitions.create("transform",{duration:e1?j:j*.666,delay:K,easing:X})].join(","),l&&l(W,G)}),L=w(c),F=w(y),z=w(W=>{const{duration:G,delay:$,easing:K}=yM({style:m,timeout:b,easing:o},{mode:"exit"});let X;b==="auto"?(X=T.transitions.getAutoHeightDuration(W.clientHeight),I.current=X):X=G,W.style.transition=[T.transitions.create("opacity",{duration:X,delay:$}),T.transitions.create("transform",{duration:e1?X:X*.666,delay:e1?$:$||X*.333,easing:K})].join(","),W.style.opacity=0,W.style.transform=Jk(.75),p&&p(W)}),V=w(f),H=W=>{b==="auto"&&D.start(I.current||0,W),n&&n(k.current,W)};return q.jsx(S,{appear:s,in:r,nodeRef:k,onEnter:O,onEntered:L,onEntering:R,onExit:z,onExited:V,onExiting:F,addEndListener:H,timeout:b==="auto"?null:b,...v,children:(W,{ownerState:G,...$})=>Q.cloneElement(a,{style:{opacity:0,transform:Jk(.75),visibility:W==="exited"&&!r?"hidden":void 0,...Bet[W],...m,...a.props.style},ref:E,...$})})});tL&&(tL.muiSupportAuto=!0);const vx=Q.createContext({});function zet(t){return Ae("MuiList",t)}be("MuiList",["root","padding","dense","subheader"]);const _et=t=>{const{classes:e,disablePadding:i,dense:n,subheader:s}=t;return Te({root:["root",!i&&"padding",n&&"dense",s&&"subheader"]},zet,e)},jet=Ut("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,!i.disablePadding&&e.padding,i.dense&&e.dense,i.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>t.subheader,style:{paddingTop:0}}]}),HV=Q.forwardRef(function(e,i){const n=Ce({props:e,name:"MuiList"}),{children:s,className:a,component:o="ul",dense:r=!1,disablePadding:l=!1,subheader:c,...h}=n,p=Q.useMemo(()=>({dense:r}),[r]),f={...n,component:o,dense:r,disablePadding:l},y=_et(f);return q.jsx(vx.Provider,{value:p,children:q.jsxs(jet,{as:o,className:jt(y.root,a),ref:i,ownerState:f,...h,children:[c,s]})})});function Fet(t){return Ae("MuiListItemButton",t)}const bm=be("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),Get=(t,e)=>{const{ownerState:i}=t;return[e.root,i.dense&&e.dense,i.alignItems==="flex-start"&&e.alignItemsFlexStart,i.divider&&e.divider,!i.disableGutters&&e.gutters]},Vet=t=>{const{alignItems:e,classes:i,dense:n,disabled:s,disableGutters:a,divider:o,selected:r}=t,c=Te({root:["root",n&&"dense",!a&&"gutters",o&&"divider",s&&"disabled",e==="flex-start"&&"alignItemsFlexStart",r&&"selected"]},Fet,i);return{...i,...c}},Uet=Ut(rh,{shouldForwardProp:t=>bg(t)||t==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:Get})(bi(({theme:t})=>({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${bm.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Fe(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${bm.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Fe(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${bm.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Fe(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Fe(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${bm.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${bm.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},variants:[{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.dense,style:{paddingTop:4,paddingBottom:4}}]}))),K4=Q.forwardRef(function(e,i){const n=Ce({props:e,name:"MuiListItemButton"}),{alignItems:s="center",autoFocus:a=!1,component:o="div",children:r,dense:l=!1,disableGutters:c=!1,divider:h=!1,focusVisibleClassName:p,selected:f=!1,className:y,...m}=n,b=Q.useContext(vx),S=Q.useMemo(()=>({dense:l||b.dense||!1,alignItems:s,disableGutters:c}),[s,b.dense,l,c]),v=Q.useRef(null);Dc(()=>{a&&v.current&&v.current.focus()},[a]);const D={...n,alignItems:s,dense:S.dense,disableGutters:c,divider:h,selected:f},I=Vet(D),T=Ls(v,i);return q.jsx(vx.Provider,{value:S,children:q.jsx(Uet,{ref:T,href:m.href||m.to,component:(m.href||m.to)&&o==="div"?"button":o,focusVisibleClassName:jt(I.focusVisible,p),ownerState:D,className:jt(I.root,y),...m,classes:I,children:r})})});function Het(t){return Ae("MuiListItemIcon",t)}be("MuiListItemIcon",["root","alignItemsFlexStart"]);const Wet=t=>{const{alignItems:e,classes:i}=t;return Te({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},Het,i)},Yet=Ut("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,i.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(bi(({theme:t})=>({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}))),X4=Q.forwardRef(function(e,i){const n=Ce({props:e,name:"MuiListItemIcon"}),{className:s,...a}=n,o=Q.useContext(vx),r={...n,alignItems:o.alignItems},l=Wet(r);return q.jsx(Yet,{className:jt(l.root,s),ownerState:r,ref:i,...a})});function $et(t){return Ae("MuiListItemText",t)}const w0=be("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),Ket=t=>{const{classes:e,inset:i,primary:n,secondary:s,dense:a}=t;return Te({root:["root",i&&"inset",a&&"dense",n&&s&&"multiline"],primary:["primary"],secondary:["secondary"]},$et,e)},Xet=Ut("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[{[`& .${w0.primary}`]:e.primary},{[`& .${w0.secondary}`]:e.secondary},e.root,i.inset&&e.inset,i.primary&&i.secondary&&e.multiline,i.dense&&e.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${P4.root}:where(& .${w0.primary})`]:{display:"block"},[`.${P4.root}:where(& .${w0.secondary})`]:{display:"block"},variants:[{props:({ownerState:t})=>t.primary&&t.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:t})=>t.inset,style:{paddingLeft:56}}]}),Z4=Q.forwardRef(function(e,i){const n=Ce({props:e,name:"MuiListItemText"}),{children:s,className:a,disableTypography:o=!1,inset:r=!1,primary:l,primaryTypographyProps:c,secondary:h,secondaryTypographyProps:p,slots:f={},slotProps:y={},...m}=n,{dense:b}=Q.useContext(vx);let S=l??s,v=h;const D={...n,disableTypography:o,inset:r,primary:!!S,secondary:!!v,dense:b},I=Ket(D),T={slots:f,slotProps:{primary:c,secondary:p,...y}},[k,E]=Ic("primary",{className:I.primary,elementType:He,externalForwardedProps:T,ownerState:D}),[w,R]=Ic("secondary",{className:I.secondary,elementType:He,externalForwardedProps:T,ownerState:D});return S!=null&&S.type!==He&&!o&&(S=q.jsx(k,{variant:b?"body2":"body1",component:E!=null&&E.variant?void 0:"span",...E,children:S})),v!=null&&v.type!==He&&!o&&(v=q.jsx(w,{variant:"body2",color:"textSecondary",...R,children:v})),q.jsxs(Xet,{className:jt(I.root,a),ownerState:D,ref:i,...m,children:[S,v]})});function i1(t,e,i){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:i?null:t.firstChild}function q4(t,e,i){return t===e?i?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:i?null:t.lastChild}function WV(t,e){if(e===void 0)return!0;let i=t.innerText;return i===void 0&&(i=t.textContent),i=i.trim().toLowerCase(),i.length===0?!1:e.repeating?i[0]===e.keys[0]:i.startsWith(e.keys.join(""))}function vm(t,e,i,n,s,a){let o=!1,r=s(t,e,e?i:!1);for(;r;){if(r===t.firstChild){if(o)return!1;o=!0}const l=n?!1:r.disabled||r.getAttribute("aria-disabled")==="true";if(!r.hasAttribute("tabindex")||!WV(r,a)||l)r=s(t,r,i);else return r.focus(),!0}return!1}const Zet=Q.forwardRef(function(e,i){const{actions:n,autoFocus:s=!1,autoFocusItem:a=!1,children:o,className:r,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:h,variant:p="selectedMenu",...f}=e,y=Q.useRef(null),m=Q.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Dc(()=>{s&&y.current.focus()},[s]),Q.useImperativeHandle(n,()=>({adjustStyleForScrollbar:(I,{direction:T})=>{const k=!y.current.style.width;if(I.clientHeight<y.current.clientHeight&&k){const E=`${vV(vr(I))}px`;y.current.style[T==="rtl"?"paddingLeft":"paddingRight"]=E,y.current.style.width=`calc(100% + ${E})`}return y.current}}),[]);const b=I=>{const T=y.current,k=I.key;if(I.ctrlKey||I.metaKey||I.altKey){h&&h(I);return}const w=br(T).activeElement;if(k==="ArrowDown")I.preventDefault(),vm(T,w,c,l,i1);else if(k==="ArrowUp")I.preventDefault(),vm(T,w,c,l,q4);else if(k==="Home")I.preventDefault(),vm(T,null,c,l,i1);else if(k==="End")I.preventDefault(),vm(T,null,c,l,q4);else if(k.length===1){const R=m.current,O=k.toLowerCase(),L=performance.now();R.keys.length>0&&(L-R.lastTime>500?(R.keys=[],R.repeating=!0,R.previousKeyMatched=!0):R.repeating&&O!==R.keys[0]&&(R.repeating=!1)),R.lastTime=L,R.keys.push(O);const F=w&&!R.repeating&&WV(w,R);R.previousKeyMatched&&(F||vm(T,w,!1,l,i1,R))?I.preventDefault():R.previousKeyMatched=!1}h&&h(I)},S=Ls(y,i);let v=-1;Q.Children.forEach(o,(I,T)=>{if(!Q.isValidElement(I)){v===T&&(v+=1,v>=o.length&&(v=-1));return}I.props.disabled||(p==="selectedMenu"&&I.props.selected||v===-1)&&(v=T),v===T&&(I.props.disabled||I.props.muiSkipListHighlight||I.type.muiSkipListHighlight)&&(v+=1,v>=o.length&&(v=-1))});const D=Q.Children.map(o,(I,T)=>{if(T===v){const k={};return a&&(k.autoFocus=!0),I.props.tabIndex===void 0&&p==="selectedMenu"&&(k.tabIndex=0),Q.cloneElement(I,k)}return I});return q.jsx(HV,{role:"menu",ref:S,className:r,onKeyDown:b,tabIndex:s?0:-1,...f,children:D})});function qet(t){return Ae("MuiPopover",t)}be("MuiPopover",["root","paper"]);function Q4(t,e){let i=0;return typeof e=="number"?i=e:e==="center"?i=t.height/2:e==="bottom"&&(i=t.height),i}function J4(t,e){let i=0;return typeof e=="number"?i=e:e==="center"?i=t.width/2:e==="right"&&(i=t.width),i}function t_(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function n1(t){return typeof t=="function"?t():t}const Qet=t=>{const{classes:e}=t;return Te({root:["root"],paper:["paper"]},qet,e)},Jet=Ut(Aet,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),YV=Ut(BV,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),tit=Q.forwardRef(function(e,i){const n=Ce({props:e,name:"MuiPopover"}),{action:s,anchorEl:a,anchorOrigin:o={vertical:"top",horizontal:"left"},anchorPosition:r,anchorReference:l="anchorEl",children:c,className:h,container:p,elevation:f=8,marginThreshold:y=16,open:m,PaperProps:b={},slots:S={},slotProps:v={},transformOrigin:D={vertical:"top",horizontal:"left"},TransitionComponent:I=tL,transitionDuration:T="auto",TransitionProps:{onEntering:k,...E}={},disableScrollLock:w=!1,...R}=n,O=(v==null?void 0:v.paper)??b,L=Q.useRef(),F={...n,anchorOrigin:o,anchorReference:l,elevation:f,marginThreshold:y,externalPaperSlotProps:O,transformOrigin:D,TransitionComponent:I,transitionDuration:T,TransitionProps:E},z=Qet(F),V=Q.useCallback(()=>{if(l==="anchorPosition")return r;const ot=n1(a),ct=(ot&&ot.nodeType===1?ot:br(L.current).body).getBoundingClientRect();return{top:ct.top+Q4(ct,o.vertical),left:ct.left+J4(ct,o.horizontal)}},[a,o.horizontal,o.vertical,r,l]),H=Q.useCallback(ot=>({vertical:Q4(ot,D.vertical),horizontal:J4(ot,D.horizontal)}),[D.horizontal,D.vertical]),W=Q.useCallback(ot=>{const ft={width:ot.offsetWidth,height:ot.offsetHeight},ct=H(ft);if(l==="none")return{top:null,left:null,transformOrigin:t_(ct)};const bt=V();let St=bt.top-ct.vertical,xt=bt.left-ct.horizontal;const wt=St+ft.height,kt=xt+ft.width,Nt=vr(n1(a)),$t=Nt.innerHeight-y,zt=Nt.innerWidth-y;if(y!==null&&St<y){const Ot=St-y;St-=Ot,ct.vertical+=Ot}else if(y!==null&&wt>$t){const Ot=wt-$t;St-=Ot,ct.vertical+=Ot}if(y!==null&&xt<y){const Ot=xt-y;xt-=Ot,ct.horizontal+=Ot}else if(kt>zt){const Ot=kt-zt;xt-=Ot,ct.horizontal+=Ot}return{top:`${Math.round(St)}px`,left:`${Math.round(xt)}px`,transformOrigin:t_(ct)}},[a,l,V,H,y]),[G,$]=Q.useState(m),K=Q.useCallback(()=>{const ot=L.current;if(!ot)return;const ft=W(ot);ft.top!==null&&ot.style.setProperty("top",ft.top),ft.left!==null&&(ot.style.left=ft.left),ot.style.transformOrigin=ft.transformOrigin,$(!0)},[W]);Q.useEffect(()=>(w&&window.addEventListener("scroll",K),()=>window.removeEventListener("scroll",K)),[a,w,K]);const X=(ot,ft)=>{k&&k(ot,ft),K()},j=()=>{$(!1)};Q.useEffect(()=>{m&&K()}),Q.useImperativeHandle(s,()=>m?{updatePosition:()=>{K()}}:null,[m,K]),Q.useEffect(()=>{if(!m)return;const ot=mA(()=>{K()}),ft=vr(a);return ft.addEventListener("resize",ot),()=>{ot.clear(),ft.removeEventListener("resize",ot)}},[a,m,K]);let U=T;T==="auto"&&!I.muiSupportAuto&&(U=void 0);const Z=p||(a?br(n1(a)).body:void 0),tt={slots:S,slotProps:{...v,paper:O}},[J,nt]=Ic("paper",{elementType:YV,externalForwardedProps:tt,additionalProps:{elevation:f,className:jt(z.paper,O==null?void 0:O.className),style:G?O.style:{...O.style,opacity:0}},ownerState:F}),[at,{slotProps:lt,...ut}]=Ic("root",{elementType:Jet,externalForwardedProps:tt,additionalProps:{slotProps:{backdrop:{invisible:!0}},container:Z,open:m},ownerState:F,className:jt(z.root,h)}),pt=Ls(L,nt.ref);return q.jsx(at,{...ut,...!qk(at)&&{slotProps:lt,disableScrollLock:w},...R,ref:i,children:q.jsx(I,{appear:!0,in:m,onEntering:X,onExited:j,timeout:U,...E,children:q.jsx(J,{...nt,ref:pt,children:c})})})});function eit(t){return Ae("MuiMenu",t)}be("MuiMenu",["root","paper","list"]);const iit={vertical:"top",horizontal:"right"},nit={vertical:"top",horizontal:"left"},sit=t=>{const{classes:e}=t;return Te({root:["root"],paper:["paper"],list:["list"]},eit,e)},ait=Ut(tit,{shouldForwardProp:t=>bg(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),oit=Ut(YV,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),rit=Ut(Zet,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),lit=Q.forwardRef(function(e,i){const n=Ce({props:e,name:"MuiMenu"}),{autoFocus:s=!0,children:a,className:o,disableAutoFocusItem:r=!1,MenuListProps:l={},onClose:c,open:h,PaperProps:p={},PopoverClasses:f,transitionDuration:y="auto",TransitionProps:{onEntering:m,...b}={},variant:S="selectedMenu",slots:v={},slotProps:D={},...I}=n,T=xN(),k={...n,autoFocus:s,disableAutoFocusItem:r,MenuListProps:l,onEntering:m,PaperProps:p,transitionDuration:y,TransitionProps:b,variant:S},E=sit(k),w=s&&!r&&h,R=Q.useRef(null),O=(G,$)=>{R.current&&R.current.adjustStyleForScrollbar(G,{direction:T?"rtl":"ltr"}),m&&m(G,$)},L=G=>{G.key==="Tab"&&(G.preventDefault(),c&&c(G,"tabKeyDown"))};let F=-1;Q.Children.map(a,(G,$)=>{Q.isValidElement(G)&&(G.props.disabled||(S==="selectedMenu"&&G.props.selected||F===-1)&&(F=$))});const z=v.paper??oit,V=D.paper??p,H=oh({elementType:v.root,externalSlotProps:D.root,ownerState:k,className:[E.root,o]}),W=oh({elementType:z,externalSlotProps:V,ownerState:k,className:E.paper});return q.jsx(ait,{onClose:c,anchorOrigin:{vertical:"bottom",horizontal:T?"right":"left"},transformOrigin:T?iit:nit,slots:{paper:z,root:v.root},slotProps:{root:H,paper:W},open:h,ref:i,transitionDuration:y,TransitionProps:{onEntering:O,...b},ownerState:k,...I,classes:f,children:q.jsx(rit,{onKeyDown:L,actions:R,autoFocus:s&&(F===-1||r),autoFocusItem:w,variant:S,...l,className:jt(E.list,l.className),children:a})})});function cit(t){return Ae("MuiTab",t)}const yo=be("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper","icon"]),uit=t=>{const{classes:e,textColor:i,fullWidth:n,wrapped:s,icon:a,label:o,selected:r,disabled:l}=t,c={root:["root",a&&o&&"labelIcon",`textColor${Tt(i)}`,n&&"fullWidth",s&&"wrapped",r&&"selected",l&&"disabled"],icon:["iconWrapper","icon"]};return Te(c,cit,e)},hit=Ut(rh,{name:"MuiTab",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,i.label&&i.icon&&e.labelIcon,e[`textColor${Tt(i.textColor)}`],i.fullWidth&&e.fullWidth,i.wrapped&&e.wrapped,{[`& .${yo.iconWrapper}`]:e.iconWrapper},{[`& .${yo.icon}`]:e.icon}]}})(bi(({theme:t})=>({...t.typography.button,maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center",lineHeight:1.25,variants:[{props:({ownerState:e})=>e.label&&(e.iconPosition==="top"||e.iconPosition==="bottom"),style:{flexDirection:"column"}},{props:({ownerState:e})=>e.label&&e.iconPosition!=="top"&&e.iconPosition!=="bottom",style:{flexDirection:"row"}},{props:({ownerState:e})=>e.icon&&e.label,style:{minHeight:72,paddingTop:9,paddingBottom:9}},{props:({ownerState:e,iconPosition:i})=>e.icon&&e.label&&i==="top",style:{[`& > .${yo.icon}`]:{marginBottom:6}}},{props:({ownerState:e,iconPosition:i})=>e.icon&&e.label&&i==="bottom",style:{[`& > .${yo.icon}`]:{marginTop:6}}},{props:({ownerState:e,iconPosition:i})=>e.icon&&e.label&&i==="start",style:{[`& > .${yo.icon}`]:{marginRight:t.spacing(1)}}},{props:({ownerState:e,iconPosition:i})=>e.icon&&e.label&&i==="end",style:{[`& > .${yo.icon}`]:{marginLeft:t.spacing(1)}}},{props:{textColor:"inherit"},style:{color:"inherit",opacity:.6,[`&.${yo.selected}`]:{opacity:1},[`&.${yo.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}}},{props:{textColor:"primary"},style:{color:(t.vars||t).palette.text.secondary,[`&.${yo.selected}`]:{color:(t.vars||t).palette.primary.main},[`&.${yo.disabled}`]:{color:(t.vars||t).palette.text.disabled}}},{props:{textColor:"secondary"},style:{color:(t.vars||t).palette.text.secondary,[`&.${yo.selected}`]:{color:(t.vars||t).palette.secondary.main},[`&.${yo.disabled}`]:{color:(t.vars||t).palette.text.disabled}}},{props:({ownerState:e})=>e.fullWidth,style:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"}},{props:({ownerState:e})=>e.wrapped,style:{fontSize:t.typography.pxToRem(12)}}]}))),dit=Q.forwardRef(function(e,i){const n=Ce({props:e,name:"MuiTab"}),{className:s,disabled:a=!1,disableFocusRipple:o=!1,fullWidth:r,icon:l,iconPosition:c="top",indicator:h,label:p,onChange:f,onClick:y,onFocus:m,selected:b,selectionFollowsFocus:S,textColor:v="inherit",value:D,wrapped:I=!1,...T}=n,k={...n,disabled:a,disableFocusRipple:o,selected:b,icon:!!l,iconPosition:c,label:!!p,fullWidth:r,textColor:v,wrapped:I},E=uit(k),w=l&&p&&Q.isValidElement(l)?Q.cloneElement(l,{className:jt(E.icon,l.props.className)}):l,R=L=>{!b&&f&&f(L,D),y&&y(L)},O=L=>{S&&!b&&f&&f(L,D),m&&m(L)};return q.jsxs(hit,{focusRipple:!o,className:jt(E.root,s),ref:i,role:"tab","aria-selected":b,disabled:a,onClick:R,onFocus:O,ownerState:k,tabIndex:b?0:-1,...T,children:[c==="top"||c==="start"?q.jsxs(Q.Fragment,{children:[w,p]}):q.jsxs(Q.Fragment,{children:[p,w]}),h]})}),$V=Q.createContext();function pit(t){return Ae("MuiTable",t)}be("MuiTable",["root","stickyHeader"]);const fit=t=>{const{classes:e,stickyHeader:i}=t;return Te({root:["root",i&&"stickyHeader"]},pit,e)},git=Ut("table",{name:"MuiTable",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,i.stickyHeader&&e.stickyHeader]}})(bi(({theme:t})=>({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...t.typography.body2,padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:({ownerState:e})=>e.stickyHeader,style:{borderCollapse:"separate"}}]}))),e_="table",yit=Q.forwardRef(function(e,i){const n=Ce({props:e,name:"MuiTable"}),{className:s,component:a=e_,padding:o="normal",size:r="medium",stickyHeader:l=!1,...c}=n,h={...n,component:a,padding:o,size:r,stickyHeader:l},p=fit(h),f=Q.useMemo(()=>({padding:o,size:r,stickyHeader:l}),[o,r,l]);return q.jsx($V.Provider,{value:f,children:q.jsx(git,{as:a,role:a===e_?null:"table",ref:i,className:jt(p.root,s),ownerState:h,...c})})}),bA=Q.createContext();function mit(t){return Ae("MuiTableBody",t)}be("MuiTableBody",["root"]);const xit=t=>{const{classes:e}=t;return Te({root:["root"]},mit,e)},bit=Ut("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"table-row-group"}),vit={variant:"body"},i_="tbody",Sit=Q.forwardRef(function(e,i){const n=Ce({props:e,name:"MuiTableBody"}),{className:s,component:a=i_,...o}=n,r={...n,component:a},l=xit(r);return q.jsx(bA.Provider,{value:vit,children:q.jsx(bit,{className:jt(l.root,s),as:a,ref:i,role:a===i_?null:"rowgroup",ownerState:r,...o})})});function Mit(t){return Ae("MuiTableCell",t)}const Ait=be("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),Dit=t=>{const{classes:e,variant:i,align:n,padding:s,size:a,stickyHeader:o}=t,r={root:["root",i,o&&"stickyHeader",n!=="inherit"&&`align${Tt(n)}`,s!=="normal"&&`padding${Tt(s)}`,`size${Tt(a)}`]};return Te(r,Mit,e)},Iit=Ut("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,e[i.variant],e[`size${Tt(i.size)}`],i.padding!=="normal"&&e[`padding${Tt(i.padding)}`],i.align!=="inherit"&&e[`align${Tt(i.align)}`],i.stickyHeader&&e.stickyHeader]}})(bi(({theme:t})=>({...t.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?`1px solid ${t.vars.palette.TableCell.border}`:`1px solid
    ${t.palette.mode==="light"?yA(Fe(t.palette.divider,1),.88):gA(Fe(t.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(t.vars||t).palette.text.primary}},{props:{variant:"footer"},style:{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${Ait.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:({ownerState:e})=>e.stickyHeader,style:{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default}}]}))),Af=Q.forwardRef(function(e,i){const n=Ce({props:e,name:"MuiTableCell"}),{align:s="inherit",className:a,component:o,padding:r,scope:l,size:c,sortDirection:h,variant:p,...f}=n,y=Q.useContext($V),m=Q.useContext(bA),b=m&&m.variant==="head";let S;o?S=o:S=b?"th":"td";let v=l;S==="td"?v=void 0:!v&&b&&(v="col");const D=p||m&&m.variant,I={...n,align:s,component:S,padding:r||(y&&y.padding?y.padding:"normal"),size:c||(y&&y.size?y.size:"medium"),sortDirection:h,stickyHeader:D==="head"&&y&&y.stickyHeader,variant:D},T=Dit(I);let k=null;return h&&(k=h==="asc"?"ascending":"descending"),q.jsx(Iit,{as:S,ref:i,className:jt(T.root,a),"aria-sort":k,scope:v,ownerState:I,...f})});function Tit(t){return Ae("MuiTableContainer",t)}be("MuiTableContainer",["root"]);const Cit=t=>{const{classes:e}=t;return Te({root:["root"]},Tit,e)},kit=Ut("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(t,e)=>e.root})({width:"100%",overflowX:"auto"}),Lit=Q.forwardRef(function(e,i){const n=Ce({props:e,name:"MuiTableContainer"}),{className:s,component:a="div",...o}=n,r={...n,component:a},l=Cit(r);return q.jsx(kit,{ref:i,as:a,className:jt(l.root,s),ownerState:r,...o})});function Nit(t){return Ae("MuiTableHead",t)}be("MuiTableHead",["root"]);const Eit=t=>{const{classes:e}=t;return Te({root:["root"]},Nit,e)},wit=Ut("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"table-header-group"}),Oit={variant:"head"},n_="thead",Rit=Q.forwardRef(function(e,i){const n=Ce({props:e,name:"MuiTableHead"}),{className:s,component:a=n_,...o}=n,r={...n,component:a},l=Eit(r);return q.jsx(bA.Provider,{value:Oit,children:q.jsx(wit,{as:a,className:jt(l.root,s),ref:i,role:a===n_?null:"rowgroup",ownerState:r,...o})})}),Pit=vn(q.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),Bit=vn(q.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function zit(t){return Ae("MuiTableRow",t)}const s_=be("MuiTableRow",["root","selected","hover","head","footer"]),_it=t=>{const{classes:e,selected:i,hover:n,head:s,footer:a}=t;return Te({root:["root",i&&"selected",n&&"hover",s&&"head",a&&"footer"]},zit,e)},jit=Ut("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,i.head&&e.head,i.footer&&e.footer]}})(bi(({theme:t})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${s_.hover}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${s_.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Fe(t.palette.primary.main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Fe(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)}}}))),a_="tr",o_=Q.forwardRef(function(e,i){const n=Ce({props:e,name:"MuiTableRow"}),{className:s,component:a=a_,hover:o=!1,selected:r=!1,...l}=n,c=Q.useContext(bA),h={...n,component:a,hover:o,selected:r,head:c&&c.variant==="head",footer:c&&c.variant==="footer"},p=_it(h);return q.jsx(jit,{as:a,ref:i,className:jt(p.root,s),role:a===a_?null:"row",ownerState:h,...l})});function Fit(t){return(1+Math.sin(Math.PI*t-Math.PI/2))/2}function Git(t,e,i,n={},s=()=>{}){const{ease:a=Fit,duration:o=300}=n;let r=null;const l=e[t];let c=!1;const h=()=>{c=!0},p=f=>{if(c){s(new Error("Animation cancelled"));return}r===null&&(r=f);const y=Math.min(1,(f-r)/o);if(e[t]=a(y)*(i-l)+l,y>=1){requestAnimationFrame(()=>{s(null)});return}requestAnimationFrame(p)};return l===i?(s(new Error("Element already at target position")),h):(requestAnimationFrame(p),h)}const Vit={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function Uit(t){const{onChange:e,...i}=t,n=Q.useRef(),s=Q.useRef(null),a=()=>{n.current=s.current.offsetHeight-s.current.clientHeight};return Dc(()=>{const o=mA(()=>{const l=n.current;a(),l!==n.current&&e(n.current)}),r=vr(s.current);return r.addEventListener("resize",o),()=>{o.clear(),r.removeEventListener("resize",o)}},[e]),Q.useEffect(()=>{a(),e(n.current)},[e]),q.jsx("div",{style:Vit,...i,ref:s})}function Hit(t){return Ae("MuiTabScrollButton",t)}const Wit=be("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),Yit=t=>{const{classes:e,orientation:i,disabled:n}=t;return Te({root:["root",i,n&&"disabled"]},Hit,e)},$it=Ut(rh,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,i.orientation&&e[i.orientation]]}})({width:40,flexShrink:0,opacity:.8,[`&.${Wit.disabled}`]:{opacity:0},variants:[{props:{orientation:"vertical"},style:{width:"100%",height:40,"& svg":{transform:"var(--TabScrollButton-svgRotate)"}}}]}),Kit=Q.forwardRef(function(e,i){const n=Ce({props:e,name:"MuiTabScrollButton"}),{className:s,slots:a={},slotProps:o={},direction:r,orientation:l,disabled:c,...h}=n,p=xN(),f={isRtl:p,...n},y=Yit(f),m=a.StartScrollButtonIcon??Pit,b=a.EndScrollButtonIcon??Bit,S=oh({elementType:m,externalSlotProps:o.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:f}),v=oh({elementType:b,externalSlotProps:o.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:f});return q.jsx($it,{component:"div",className:jt(y.root,s),ref:i,role:null,ownerState:f,tabIndex:null,...h,style:{...h.style,...l==="vertical"&&{"--TabScrollButton-svgRotate":`rotate(${p?-90:90}deg)`}},children:r==="left"?q.jsx(m,{...S}):q.jsx(b,{...v})})});function Xit(t){return Ae("MuiTabs",t)}const s1=be("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),r_=(t,e)=>t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t.firstChild,l_=(t,e)=>t===e?t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t.lastChild,O0=(t,e,i)=>{let n=!1,s=i(t,e);for(;s;){if(s===t.firstChild){if(n)return;n=!0}const a=s.disabled||s.getAttribute("aria-disabled")==="true";if(!s.hasAttribute("tabindex")||a)s=i(t,s);else{s.focus();return}}},Zit=t=>{const{vertical:e,fixed:i,hideScrollbar:n,scrollableX:s,scrollableY:a,centered:o,scrollButtonsHideMobile:r,classes:l}=t;return Te({root:["root",e&&"vertical"],scroller:["scroller",i&&"fixed",n&&"hideScrollbar",s&&"scrollableX",a&&"scrollableY"],flexContainer:["flexContainer",e&&"flexContainerVertical",o&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",r&&"scrollButtonsHideMobile"],scrollableX:[s&&"scrollableX"],hideScrollbar:[n&&"hideScrollbar"]},Xit,l)},qit=Ut("div",{name:"MuiTabs",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[{[`& .${s1.scrollButtons}`]:e.scrollButtons},{[`& .${s1.scrollButtons}`]:i.scrollButtonsHideMobile&&e.scrollButtonsHideMobile},e.root,i.vertical&&e.vertical]}})(bi(({theme:t})=>({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex",variants:[{props:({ownerState:e})=>e.vertical,style:{flexDirection:"column"}},{props:({ownerState:e})=>e.scrollButtonsHideMobile,style:{[`& .${s1.scrollButtons}`]:{[t.breakpoints.down("sm")]:{display:"none"}}}}]}))),Qit=Ut("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.scroller,i.fixed&&e.fixed,i.hideScrollbar&&e.hideScrollbar,i.scrollableX&&e.scrollableX,i.scrollableY&&e.scrollableY]}})({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap",variants:[{props:({ownerState:t})=>t.fixed,style:{overflowX:"hidden",width:"100%"}},{props:({ownerState:t})=>t.hideScrollbar,style:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},{props:({ownerState:t})=>t.scrollableX,style:{overflowX:"auto",overflowY:"hidden"}},{props:({ownerState:t})=>t.scrollableY,style:{overflowY:"auto",overflowX:"hidden"}}]}),Jit=Ut("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.flexContainer,i.vertical&&e.flexContainerVertical,i.centered&&e.centered]}})({display:"flex",variants:[{props:({ownerState:t})=>t.vertical,style:{flexDirection:"column"}},{props:({ownerState:t})=>t.centered,style:{justifyContent:"center"}}]}),tnt=Ut("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(t,e)=>e.indicator})(bi(({theme:t})=>({position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create(),variants:[{props:{indicatorColor:"primary"},style:{backgroundColor:(t.vars||t).palette.primary.main}},{props:{indicatorColor:"secondary"},style:{backgroundColor:(t.vars||t).palette.secondary.main}},{props:({ownerState:e})=>e.vertical,style:{height:"100%",width:2,right:0}}]}))),ent=Ut(Uit)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),c_={},int=Q.forwardRef(function(e,i){const n=Ce({props:e,name:"MuiTabs"}),s=lb(),a=xN(),{"aria-label":o,"aria-labelledby":r,action:l,centered:c=!1,children:h,className:p,component:f="div",allowScrollButtonsMobile:y=!1,indicatorColor:m="primary",onChange:b,orientation:S="horizontal",ScrollButtonComponent:v=Kit,scrollButtons:D="auto",selectionFollowsFocus:I,slots:T={},slotProps:k={},TabIndicatorProps:E={},TabScrollButtonProps:w={},textColor:R="primary",value:O,variant:L="standard",visibleScrollbar:F=!1,...z}=n,V=L==="scrollable",H=S==="vertical",W=H?"scrollTop":"scrollLeft",G=H?"top":"left",$=H?"bottom":"right",K=H?"clientHeight":"clientWidth",X=H?"height":"width",j={...n,component:f,allowScrollButtonsMobile:y,indicatorColor:m,orientation:S,vertical:H,scrollButtons:D,textColor:R,variant:L,visibleScrollbar:F,fixed:!V,hideScrollbar:V&&!F,scrollableX:V&&!H,scrollableY:V&&H,centered:c&&!V,scrollButtonsHideMobile:!y},U=Zit(j),Z=oh({elementType:T.StartScrollButtonIcon,externalSlotProps:k.startScrollButtonIcon,ownerState:j}),tt=oh({elementType:T.EndScrollButtonIcon,externalSlotProps:k.endScrollButtonIcon,ownerState:j}),[J,nt]=Q.useState(!1),[at,lt]=Q.useState(c_),[ut,pt]=Q.useState(!1),[ot,ft]=Q.useState(!1),[ct,bt]=Q.useState(!1),[St,xt]=Q.useState({overflow:"hidden",scrollbarWidth:0}),wt=new Map,kt=Q.useRef(null),Nt=Q.useRef(null),$t=()=>{const Vt=kt.current;let _t;if(Vt){const De=Vt.getBoundingClientRect();_t={clientWidth:Vt.clientWidth,scrollLeft:Vt.scrollLeft,scrollTop:Vt.scrollTop,scrollWidth:Vt.scrollWidth,top:De.top,bottom:De.bottom,left:De.left,right:De.right}}let ee;if(Vt&&O!==!1){const De=Nt.current.children;if(De.length>0){const yi=De[wt.get(O)];ee=yi?yi.getBoundingClientRect():null}}return{tabsMeta:_t,tabMeta:ee}},zt=bc(()=>{const{tabsMeta:Vt,tabMeta:_t}=$t();let ee=0,De;H?(De="top",_t&&Vt&&(ee=_t.top-Vt.top+Vt.scrollTop)):(De=a?"right":"left",_t&&Vt&&(ee=(a?-1:1)*(_t[De]-Vt[De]+Vt.scrollLeft)));const yi={[De]:ee,[X]:_t?_t[X]:0};if(typeof at[De]!="number"||typeof at[X]!="number")lt(yi);else{const eo=Math.abs(at[De]-yi[De]),io=Math.abs(at[X]-yi[X]);(eo>=1||io>=1)&&lt(yi)}}),Ot=(Vt,{animation:_t=!0}={})=>{_t?Git(W,kt.current,Vt,{duration:s.transitions.duration.standard}):kt.current[W]=Vt},Mt=Vt=>{let _t=kt.current[W];H?_t+=Vt:_t+=Vt*(a?-1:1),Ot(_t)},Ne=()=>{const Vt=kt.current[K];let _t=0;const ee=Array.from(Nt.current.children);for(let De=0;De<ee.length;De+=1){const yi=ee[De];if(_t+yi[K]>Vt){De===0&&(_t=Vt);break}_t+=yi[K]}return _t},Yt=()=>{Mt(-1*Ne())},cn=()=>{Mt(Ne())},Ui=Q.useCallback(Vt=>{xt({overflow:null,scrollbarWidth:Vt})},[]),gs=()=>{const Vt={};Vt.scrollbarSizeListener=V?q.jsx(ent,{onChange:Ui,className:jt(U.scrollableX,U.hideScrollbar)}):null;const ee=V&&(D==="auto"&&(ut||ot)||D===!0);return Vt.scrollButtonStart=ee?q.jsx(v,{slots:{StartScrollButtonIcon:T.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:Z},orientation:S,direction:a?"right":"left",onClick:Yt,disabled:!ut,...w,className:jt(U.scrollButtons,w.className)}):null,Vt.scrollButtonEnd=ee?q.jsx(v,{slots:{EndScrollButtonIcon:T.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:tt},orientation:S,direction:a?"left":"right",onClick:cn,disabled:!ot,...w,className:jt(U.scrollButtons,w.className)}):null,Vt},Gs=bc(Vt=>{const{tabsMeta:_t,tabMeta:ee}=$t();if(!(!ee||!_t)){if(ee[G]<_t[G]){const De=_t[W]+(ee[G]-_t[G]);Ot(De,{animation:Vt})}else if(ee[$]>_t[$]){const De=_t[W]+(ee[$]-_t[$]);Ot(De,{animation:Vt})}}}),qn=bc(()=>{V&&D!==!1&&bt(!ct)});Q.useEffect(()=>{const Vt=mA(()=>{kt.current&&zt()});let _t;const ee=eo=>{eo.forEach(io=>{io.removedNodes.forEach(jr=>{_t==null||_t.unobserve(jr)}),io.addedNodes.forEach(jr=>{_t==null||_t.observe(jr)})}),Vt(),qn()},De=vr(kt.current);De.addEventListener("resize",Vt);let yi;return typeof ResizeObserver<"u"&&(_t=new ResizeObserver(Vt),Array.from(Nt.current.children).forEach(eo=>{_t.observe(eo)})),typeof MutationObserver<"u"&&(yi=new MutationObserver(ee),yi.observe(Nt.current,{childList:!0})),()=>{Vt.clear(),De.removeEventListener("resize",Vt),yi==null||yi.disconnect(),_t==null||_t.disconnect()}},[zt,qn]),Q.useEffect(()=>{const Vt=Array.from(Nt.current.children),_t=Vt.length;if(typeof IntersectionObserver<"u"&&_t>0&&V&&D!==!1){const ee=Vt[0],De=Vt[_t-1],yi={root:kt.current,threshold:.99},eo=su=>{pt(!su[0].isIntersecting)},io=new IntersectionObserver(eo,yi);io.observe(ee);const jr=su=>{ft(!su[0].isIntersecting)},Fr=new IntersectionObserver(jr,yi);return Fr.observe(De),()=>{io.disconnect(),Fr.disconnect()}}},[V,D,ct,h==null?void 0:h.length]),Q.useEffect(()=>{nt(!0)},[]),Q.useEffect(()=>{zt()}),Q.useEffect(()=>{Gs(c_!==at)},[Gs,at]),Q.useImperativeHandle(l,()=>({updateIndicator:zt,updateScrollButtons:qn}),[zt,qn]);const ra=q.jsx(tnt,{...E,className:jt(U.indicator,E.className),ownerState:j,style:{...at,...E.style}});let Ye=0;const Rp=Q.Children.map(h,Vt=>{if(!Q.isValidElement(Vt))return null;const _t=Vt.props.value===void 0?Ye:Vt.props.value;wt.set(_t,Ye);const ee=_t===O;return Ye+=1,Q.cloneElement(Vt,{fullWidth:L==="fullWidth",indicator:ee&&!J&&ra,selected:ee,selectionFollowsFocus:I,onChange:b,textColor:R,value:_t,...Ye===1&&O===!1&&!Vt.props.tabIndex?{tabIndex:0}:{}})}),_r=Vt=>{const _t=Nt.current,ee=br(_t).activeElement;if(ee.getAttribute("role")!=="tab")return;let yi=S==="horizontal"?"ArrowLeft":"ArrowUp",eo=S==="horizontal"?"ArrowRight":"ArrowDown";switch(S==="horizontal"&&a&&(yi="ArrowRight",eo="ArrowLeft"),Vt.key){case yi:Vt.preventDefault(),O0(_t,ee,l_);break;case eo:Vt.preventDefault(),O0(_t,ee,r_);break;case"Home":Vt.preventDefault(),O0(_t,null,r_);break;case"End":Vt.preventDefault(),O0(_t,null,l_);break}},Qn=gs();return q.jsxs(qit,{className:jt(U.root,p),ownerState:j,ref:i,as:f,...z,children:[Qn.scrollButtonStart,Qn.scrollbarSizeListener,q.jsxs(Qit,{className:U.scroller,ownerState:j,style:{overflow:St.overflow,[H?`margin${a?"Left":"Right"}`:"marginBottom"]:F?void 0:-St.scrollbarWidth},ref:kt,children:[q.jsx(Jit,{"aria-label":o,"aria-labelledby":r,"aria-orientation":S==="vertical"?"vertical":null,className:U.flexContainer,ownerState:j,onKeyDown:_r,ref:Nt,role:"tablist",children:Rp}),J&&ra]}),Qn.scrollButtonEnd]})});/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nnt=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),KV=(...t)=>t.filter((e,i,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===i).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var snt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ant=Q.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:o,...r},l)=>Q.createElement("svg",{ref:l,...snt,width:e,height:e,stroke:t,strokeWidth:n?Number(i)*24/Number(e):i,className:KV("lucide",s),...r},[...o.map(([c,h])=>Q.createElement(c,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=(t,e)=>{const i=Q.forwardRef(({className:n,...s},a)=>Q.createElement(ant,{ref:a,iconNode:e,className:KV(`lucide-${nnt(t)}`,n),...s}));return i.displayName=`${t}`,i};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ont=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],rnt=ml("Briefcase",ont);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lnt=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],cnt=ml("ChevronLeft",lnt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const unt=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],hnt=ml("Clock",unt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dnt=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],pnt=ml("Grid3x3",dnt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fnt=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],gnt=ml("Layers",fnt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ynt=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],mnt=ml("Network",ynt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xnt=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],bnt=ml("Plus",xnt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vnt=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Snt=ml("Settings",vnt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mnt=[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ant=ml("SquareCheckBig",Mnt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dnt=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Int=ml("Users",Dnt),re={primary:"#efe4db",secondary:"#f3eae6",black:"#000",white:"#fff",red:"red",green:"green",orange:"#e75f2b"},Tnt=[{name:"Dashboard",icon:pnt,variant:"primary"},{name:"Projects",icon:rnt},{name:"Tasks",icon:Ant},{name:"Time log",icon:hnt},{name:"Resource mgnt",icon:mnt},{name:"Users",icon:Int},{name:"Project template",icon:gnt},{name:"Menu settings",icon:Snt}],Cnt=({isCollapsed:t,setIsCollapsed:e})=>{const[i,n]=Q.useState(0);return q.jsxs(ae,{sx:{position:"fixed",padding:2,height:"100vh",width:t?"80px":"250px",bgcolor:re.black,transition:"width 0.3s ease"},children:[q.jsx(zV,{sx:{bgcolor:re.white,position:"absolute",left:t?65:235,top:10,width:30,height:30,transition:"left 0.3s ease","&:hover":{bgcolor:"#ccc"}},onClick:()=>e(!t),children:q.jsx(cnt,{style:{transform:t?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.3s ease"}})}),q.jsxs(K4,{sx:{display:"flex",justifyContent:t?"center":"flex-start",bgcolor:re.white,marginY:6,borderRadius:10,color:re.black,width:"100%",padding:t?"10px 0":"10px 16px",transition:"padding 0.3s ease","&:hover":{bgcolor:re.white,color:re.black}},children:[q.jsx(X4,{sx:{minWidth:"unset",color:re.white,justifyContent:"center",marginRight:t?0:2},children:q.jsx(bnt,{style:{background:re.orange,borderRadius:"50%",padding:"6px",width:t?"32px":"24px",height:t?"32px":"24px",transition:"width 0.3s ease, height 0.3s ease"}})}),!t&&q.jsx(Z4,{primary:"Create new project"})]}),q.jsx(HV,{children:Tnt.map((s,a)=>q.jsxs(K4,{sx:{bgcolor:i===a?re.white:"transparent",marginY:1,borderRadius:10,color:i===a?re.orange:re.white,width:"100%",padding:t?"10px 0":"10px 10px",transition:"padding 0.3s ease",display:"flex",justifyContent:t?"center":"flex-start","&:hover":{bgcolor:re.white,color:re.orange,"& .MuiListItemIcon-root":{color:re.orange}}},onClick:()=>n(a),children:[q.jsx(X4,{sx:{minWidth:"unset",color:i===a?re.orange:re.white,justifyContent:"center",marginRight:t?0:2},children:q.jsx(s.icon,{})}),!t&&q.jsx(Z4,{primary:s.name})]},a))})]})},knt=({children:t})=>{const[e,i]=Q.useState(!1);return q.jsxs(ae,{sx:{display:"flex",height:"100vh"},children:[q.jsx(ae,{sx:{width:e?"5%":"250px",bgcolor:re.black,color:"white",display:{xs:"none",sm:"none",lg:"block"}},children:q.jsx(Cnt,{isCollapsed:e,setIsCollapsed:i})}),q.jsx(ae,{sx:{flexGrow:1,bgcolor:"#fff",width:e?"95%":"82%"},children:t})]})},Lnt=vn(q.jsx("path",{d:"M6 6v2h8.59L5 17.59 6.41 19 16 9.41V18h2V6z"}),"ArrowOutward"),Nnt=vn(q.jsx("path",{d:"M19 9h-2v6.59L5.41 4 4 5.41 15.59 17H9v2h10z"}),"SouthEast"),Ent=({icon:t,heading:e,money:i,report:n,iconBgColor:s,id:a})=>q.jsxs(ae,{sx:{bgcolor:re.secondary,padding:2.5,borderRadius:3,boxShadow:"0px 2px 4px rgba(0,0,0,0.1)",minWidth:{xs:"100%",sm:"calc(100% / 2 - 1%)",md:"calc(100% / 4 - 1%)"}},children:[q.jsx(He,{sx:{width:40,height:40,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:s,borderRadius:"50%",color:re.white},children:t}),q.jsx(He,{fontSize:14,paddingY:1.4,color:"gray",children:e}),q.jsxs(He,{variant:"h4",component:"div",sx:{mb:1},fontSize:24,fontWeight:"600",children:[i.split("/")[0],"",q.jsxs(He,{component:"span",children:["/",i.split("/")[1]]})]}),q.jsxs(He,{fontSize:10,alignItems:"center",display:"flex",children:[" ",a===2?q.jsx(Nnt,{sx:{width:12,height:12,color:re.red}}):q.jsx(Lnt,{sx:{width:12,height:12,color:re.green}}),n]})]}),wnt=vn(q.jsx("path",{d:"M19.88 18.47c.44-.7.7-1.51.7-2.39 0-2.49-2.01-4.5-4.5-4.5s-4.5 2.01-4.5 4.5 2.01 4.5 4.49 4.5c.88 0 1.7-.26 2.39-.7L21.58 23 23 21.58zm-3.8.11c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5m-.36-8.5c-.74.02-1.45.18-2.1.45l-.55-.83-3.8 6.18-3.01-3.52-3.63 5.81L1 17l5-8 3 3.5L13 6zm2.59.5c-.64-.28-1.33-.45-2.05-.49L21.38 2 23 3.18z"}),"QueryStats"),Ont=vn(q.jsx("path",{d:"M10 16v-1H3.01L3 19c0 1.11.89 2 2 2h14c1.11 0 2-.89 2-2v-4h-7v1zm10-9h-4.01V5l-2-2h-4l-2 2v2H4c-1.1 0-2 .9-2 2v3c0 1.11.89 2 2 2h6v-2h4v2h6c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2m-6 0h-4V5h4z"}),"BusinessCenter"),Rnt=vn([q.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),q.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")],"QueryBuilder"),Pnt=vn(q.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person"),Bnt=[{id:1,icon:wnt,heading:"Total Revenue",money:"$530,000",report:"12% increase from last month",color:"#cc9dd7"},{id:2,icon:Ont,heading:"Projects",money:"92 /100",report:"12% increase from last month",color:"#bb6242"},{id:3,icon:Rnt,heading:"Time spent",money:"1022 /1300 Hrs",report:"12% increase from last month",color:"#6fa1e5"},{id:4,icon:Pnt,heading:"Resources",money:"101 /120",report:"12% increase from last month",color:"#daa23e"}],znt=["Name","Project Manager","Due Date","Status","Progress"],R0=[{name:"All",manager:"All",status:"All"},{name:"Nelsa web development",manager:"Om Prakash Sao",dueDate:"May 25, 2023",status:"Completed",progress:100,color:"67, 155, 106"},{name:"Datascale AI app",manager:"Neilsan Mando",dueDate:"Jun 20, 2023",status:"Delayed",progress:35,color:"210, 153, 70"},{name:"Media channel branding",manager:"Tiruvelly Priya",dueDate:"July 13, 2023",status:"At risk",progress:68,color:"294, 94, 42"},{name:"Corlax iOS app development",manager:"Matte Hannery",dueDate:"Dec 20, 2023",status:"Completed",progress:100,color:"67, 155, 106"},{name:"Website builder development",manager:"Sukumar Rao",dueDate:"Mar 15, 2024",status:"On going",progress:50,color:"215, 95, 54"}],_nt=[{task:"Create a user flow of social application design",status:"Approved",color:"67, 155, 106"},{task:"Create a user flow of social application design",status:"In review",color:"294, 94, 42"},{task:"Landing page design for Fintech project of Singapore",status:"In review",color:"294, 94, 42"},{task:"Interactive prototype for app screens of deltamime project",status:"On going",color:"215, 95, 54"},{task:"Interactive prototype for app screens of deltamime project",status:"Approved",color:"67, 155, 106"}],jnt=[{name:"Sam",value:7},{name:"Meldy",value:8},{name:"Ken",value:2},{name:"Dmitry",value:10},{name:"Vego",value:8},{name:"Kadin",value:2},{name:"Melm",value:4}],Fnt=[{label:"All",count:10},{label:"Important",count:null},{label:"Notes",count:5},{label:"Links",count:10}],P0=[{id:"1",userName:"Alex Ben",designation:"Product Manager"},{id:"2",userName:"Shimon Menon",designation:"Business Head"},{id:"2",userName:"Marc Stone",designation:"Creative Head"}],Gnt=vn(q.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),Gf=({text:t,children:e,onClick:i})=>q.jsxs(ae,{onClick:i,sx:{display:"flex",justifyContent:"space-between",alignItems:"center",bgcolor:re.white,borderRadius:30,paddingX:2,paddingY:1,cursor:"pointer",position:"relative"},children:[q.jsx(He,{sx:{fontSize:{xs:14,sm:16}},children:t}),q.jsx(Gnt,{}),q.jsx(ae,{sx:{display:"inline-block"},children:e})]}),XV=({children:t,sx:e})=>q.jsx(ae,{sx:{paddingX:{xs:2,sm:3},...e},children:t}),Vf=({list:t,onSelect:e})=>q.jsx(ae,{sx:{bgcolor:re.white,width:"auto",display:"inline-flex",borderRadius:2,padding:1,flexDirection:"column",position:"absolute",top:50,left:0,zIndex:9},children:t&&t.map((i,n)=>q.jsx(AN,{sx:{color:re.black,width:"100%"},onClick:()=>e(i),children:i},n))}),Vnt=()=>{const[t,e]=Q.useState(""),[i,n]=Q.useState("Last 15 days"),s=a=>{n(a),setTimeout(()=>e(""),0)};return q.jsxs(XV,{children:[q.jsxs(ae,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingY:2},children:[q.jsx(He,{fontSize:20,fontWeight:"500",children:"Overview"}),q.jsx(Gf,{text:i,onClick:()=>e(a=>a!=="duration"?"duration":""),children:t==="duration"&&q.jsx(Vf,{list:["Last 15 days","Last 30 days","Last 1 month"],onSelect:a=>s(a)})})]}),q.jsx(ae,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:1,flexWrap:"wrap"},children:Bnt.map(a=>q.jsx(Ent,{heading:a.heading,icon:q.jsx(a.icon,{}),money:a.money,report:a.report,iconBgColor:a.color,id:a.id},a.id))})]})},Unt=vn(q.jsx("path",{d:"m7 10 5 5 5-5z"}),"ArrowDropDown"),Hnt=vn(q.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle"),Wnt=vn(q.jsx("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu"),Ynt=vn(q.jsx("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2m6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1z"}),"Notifications"),$nt=vn(q.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"RadioButtonUnchecked"),Knt=vn(q.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search"),Xnt=Ut(t=>q.jsx(lit,{elevation:0,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},...t}))(({theme:t})=>({"& .MuiPaper-root":{borderRadius:6,marginTop:t.spacing(1),minWidth:180,color:"rgb(55, 65, 81)",boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px","& .MuiMenu-list":{padding:"4px 0"},"& .MuiMenuItem-root":{"& .MuiSvgIcon-root":{fontSize:18,color:t.palette.text.secondary,marginRight:t.spacing(1.5)},"&:active":{backgroundColor:Fe(t.palette.primary.main,t.palette.action.selectedOpacity)}}}})),Znt=({anchorEl:t,open:e,onClose:i,children:n})=>q.jsx(Xnt,{anchorEl:t,open:e,onClose:i,children:n}),qnt=({userName:t,designation:e,changeProfile:i})=>q.jsxs(AN,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:1,paddingX:1,marginX:"auto",width:"100%","&:hover":{background:"#eee"}},onClick:()=>i(t,e),children:[q.jsx(GV,{src:"/path-to-image.jpg",sx:{width:30,height:30}}),q.jsxs(ae,{sx:{display:"flex",justifyContent:"center",alignItems:"flex-start",flexDirection:"column",width:"100%",marginY:1,cursor:"pointer"},children:[q.jsx(He,{fontWeight:"bold",color:re.black,sx:{fontSize:14},children:t}),q.jsx(He,{variant:"caption",color:re.black,sx:{fontSize:10},children:e})]})]}),Qnt=()=>{const[t,e]=Q.useState(null),[i,n]=Q.useState({userName:"Alex Meian",designation:"Product Manager"}),s=!!t,a=l=>{e(c=>c===null?l.currentTarget:null)},o=()=>{e(null)},r=(l,c)=>{n({userName:l,designation:c}),o()};return q.jsx(VJ,{position:"static",sx:{boxShadow:"none",paddingX:{xs:1,sm:3},paddingY:1,bgcolor:"transparent",borderBottom:"1px solid #ccc"},children:q.jsxs(ae,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[q.jsx(He,{variant:"h4",fontWeight:"bold",color:re.black,children:"Promage"}),q.jsxs(ae,{sx:{display:"flex","@media (max-width: 700px)":{display:"none"},justifyContent:"center",alignItems:"center",gap:2},children:[q.jsxs(ae,{sx:{display:"flex",alignItems:"center",backgroundColor:re.white,paddingX:2,paddingY:1,borderRadius:"40px",width:{xs:"200px",lg:"300px"},boxShadow:"0px 2px 4px rgba(0,0,0,0.1)"},children:[q.jsx(Knt,{sx:{color:"gray",marginRight:1}}),q.jsx(ltt,{placeholder:"Search for anything...",fullWidth:!0})]}),q.jsx(zV,{sx:{background:"#fff",padding:1.4},children:q.jsx(Ynt,{sx:{color:"black"}})}),q.jsxs(AN,{sx:{display:"flex",alignItems:"center",gap:1.5,background:re.white,borderRadius:"50px",padding:"4px 10px",boxShadow:"0px 2px 10px rgba(0,0,0,0.1)"},onClick:a,children:[q.jsx(GV,{src:"/path-to-image.jpg",sx:{width:30,height:30}}),q.jsxs(ae,{sx:{display:"flex",flexDirection:"column",lineHeight:1},children:[q.jsx(He,{fontWeight:"bold",color:re.black,sx:{fontSize:14},children:i.userName}),q.jsx(He,{variant:"caption",color:re.black,sx:{fontSize:10},children:i.designation})]}),q.jsx(Unt,{sx:{fontSize:24,color:re.black}}),q.jsx(Znt,{anchorEl:t,onClose:o,open:s,children:P0&&(P0==null?void 0:P0.map(l=>q.jsx(qnt,{userName:l==null?void 0:l.userName,designation:l==null?void 0:l.designation,changeProfile:r},l==null?void 0:l.id)))})]})]}),q.jsx(Wnt,{sx:{color:re.black,display:"none","@media (max-width: 700px)":{display:"block"}}})]})})},a1=({heading:t,children:e,sx:i})=>q.jsxs(ae,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:2},children:[q.jsx(He,{fontWeight:"bold",variant:"h6",children:t}),q.jsx(ae,{display:"flex",gap:2,sx:{...i},children:e})]});var ZV=Object.defineProperty,Jnt=Object.getOwnPropertyDescriptor,Ho=(t,e)=>{for(var i in e)ZV(t,i,{get:e[i],enumerable:!0})},N=(t,e,i,n)=>{for(var s=n>1?void 0:n?Jnt(e,i):e,a=t.length-1,o;a>=0;a--)(o=t[a])&&(s=(n?o(e,i,s):o(s))||s);return n&&s&&ZV(e,i,s),s},It={};Ho(It,{error:()=>QV,errorOnce:()=>nst,log:()=>tst,logGroup:()=>ast,reset:()=>sst,table:()=>est,warn:()=>qV,warnOnce:()=>ist});var Sx=new Set;function tst(...t){console.log(...t)}function qV(t,...e){console.warn(`AG Charts - ${t}`,...e)}function QV(t,...e){typeof t=="object"?console.error("AG Charts error",t,...e):console.error(`AG Charts - ${t}`,...e)}function est(...t){console.table(...t)}function ist(t,...e){const i=`Logger.warn: ${t}`;Sx.has(i)||(qV(t,...e),Sx.add(i))}function nst(t,...e){const i=`Logger.error: ${t}`;Sx.has(i)||(QV(t,...e),Sx.add(i))}function sst(){Sx.clear()}function ast(t,e){console.groupCollapsed(t);try{return e()}finally{console.groupEnd()}}var Gd=class{static[Symbol.iterator](){return this.registeredModules.values()}static register(t){const e=this.registeredModules.get(t.name);if(e&&(e.enterprise||!t.enterprise))throw new Error(`AG Charts - Module '${t.name}' already registered`);this.registeredModules.set(t.name,t)}static registerMany(t){for(const e of t)this.register(e)}static reset(){this.registeredModules.clear()}static detectChartDefinition(t){return this.detectDefinition("chart",t)}static detectSeriesDefinition(t){return this.detectDefinition("series",t)}static detectDefinition(t,e){for(const i of this.registeredModules.values())if(i.type===t&&i.detect(e))return i;throw new Error(`AG Charts - Unknown ${t} type; Check options are correctly structured and series types are specified`)}};Gd.registeredModules=new Map;var DN=class{constructor(){this.events=new Map}on(t,e){var i;return this.events.has(t)||this.events.set(t,new Set),(i=this.events.get(t))==null||i.add(e),()=>this.off(t,e)}off(t,e){const i=this.events.get(t);i&&(i.delete(e),i.size===0&&this.events.delete(t))}emit(t,e){var i;(i=this.events.get(t))==null||i.forEach(n=>n(e))}clear(t){t?this.events.delete(t):this.events.clear()}};function bM(t){return typeof t>"u"?[]:Array.isArray(t)?t:[t]}function ost(t){return Array.from(new Set(t))}function IN(t,e){return t.reduce((i,n)=>{const s=e(n);return i[s]??(i[s]=[]),i[s].push(n),i},{})}function ll(t,e){if(t==null||e==null||t.length!==e.length)return!1;for(let i=0;i<t.length;i++)if(Array.isArray(t[i])&&Array.isArray(e[i])){if(!ll(t[i],e[i]))return!1}else if(t[i]!==e[i])return!1;return!0}function u_(t,e,i=0){if(t.length===0)return[];const n=[];for(let s=0;s<e;s++)n.push(t.at((s+i)%t.length));return n}function rst(t,e){const i=new Map;return e.forEach((n,s)=>{i.set(n,s)}),t.sort((n,s)=>{const a=i.get(n)??1/0,o=i.get(s)??1/0;return a-o})}function JV(t,e,i){if(t>e)return;let n;for(;e>=t;){const s=Math.floor((e+t)/2);i(s)?(n=s,t=s+1):e=s-1}return n}function tU(t,e,i){if(t>e)return;let n;for(;e>=t;){const s=Math.floor((e+t)/2);i(s)?(n=s,e=s-1):t=s+1}return n}function lst(t,e,i){if(t>e)return;let n;for(;e>=t;){const s=Math.floor((e+t)/2),a=i(s);a==null?t=s+1:(n=a,e=s-1)}return n}function cst(t,e){const i=Math.max(t.length,e.length),n=new Set,s=new Set;for(let a=0;a<i;a++){const o=t[a],r=e[a];o!==r&&(s.has(r)?s.delete(r):r&&n.add(r),n.has(o)?n.delete(o):o&&s.add(o))}return{changed:n.size>0||s.size>0,added:n,removed:s}}function h_(t,e,i){const{leading:n=!0,trailing:s=!0}=i??{};let a,o,r=!1;function l(){s&&o?(a=setTimeout(l,e),t(...o)):r=!1,o=null}function c(...h){r?o=h:(r=!0,a=setTimeout(l,e),n?t(...h):o=h)}return Object.assign(c,{cancel(){clearTimeout(a),r=!1,o=null}})}function*Bd(...t){for(const e of t)yield*e}function ust(t){return t!=null&&typeof t=="object"&&Symbol.iterator in t?t:[t]}function Sm(t){for(const e of t)return e;throw new Error("AG Charts - no first() value found")}function hst(t,e="and",i=String,n=1/0){if(t.length===1)return i(t[0]);t=t.map(i);const s=t.pop();if(t.length>=n){const a=t.length-(n-1);return`${t.slice(0,n-1).join(", ")}, and ${a} more ${e} ${s}`}return`${t.join(", ")} ${e} ${s}`}function nx(t,e=1/0){switch(typeof t){case"undefined":return"undefined";case"number":if(isNaN(t))return"NaN";if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity";default:return t=JSON.stringify(t),t.length>e?`${t.slice(0,e)}... (+${t.length-e} characters)`:t}}function dst(t){let e=1;for(let i=0;i<t.length;i++)t.charCodeAt(i)===10&&e++;return e}function qS(t){return t!=null}function oi(t){return Array.isArray(t)}function eU(t){return typeof t=="boolean"}function vg(t){return t instanceof Date}function cb(t){return vg(t)&&!isNaN(Number(t))}function pst(t){return t instanceof RegExp}function Jd(t){return typeof t=="function"}function Un(t){return typeof t=="object"&&t!==null&&!oi(t)}function Ns(t){return typeof t=="object"&&t!==null&&Object.getPrototypeOf(t)===Object.prototype}function ba(t){return typeof t=="string"}function Oo(t){return typeof t=="number"}function xe(t){return Number.isFinite(t)}function fst(t){return typeof window<"u"&&t instanceof HTMLElement}function gst(t,e){return Object.values(t).includes(e)}function yst(t){return typeof t=="symbol"}var ub=Symbol("description"),mst=Symbol("required");function vA(t,e,i=""){if(!Un(t))return{valid:null,errors:[{path:i,value:t,message:d_(i,t,"an object")}]};const n=new Set(Object.keys(t)),s=[],a={};function o(r){return oi(e)?`${i}[${r}]`:i?`${i}.${r}`:r}for(const[r,l]of Object.entries(e)){n.delete(r);const c=t[r];if(!(!l[mst]&&typeof c>"u"))if(Jd(l))l(c,t)?a[r]=c:s.push({key:r,path:i,value:c,message:d_(o(r),c,l)});else{const h=vA(c,l,o(r));a[r]=h.valid,s.push(...h.errors)}}for(const r of n)s.push({key:r,path:i,unknown:!0,message:`Unknown option \`${o(r)}\`, ignoring.`});return{valid:a,errors:s}}function d_(t,e,i){const n=ba(i)?i:i[ub],s=n?`; expecting ${n}`:"";return`${t?`Option \`${t}\``:"Value"} cannot be set to \`${nx(e)}\`${s}, ignoring.`}function Es(t,e){return Object.assign((i,n)=>t(i,n),{[ub]:e})}var B0=(...t)=>Es((e,i)=>t.every(n=>n(e,i)),t.map(e=>e[ub]).filter(Boolean).join(" and ")),zd=(...t)=>Es((e,i)=>t.some(n=>n(e,i)),t.map(e=>e[ub]).filter(Boolean).join(" or "));Es(oi,"an array");Es(eU,"a boolean");Es(Jd,"a function");var gc=Es(xe,"a number"),o1=Es(Un,"an object"),Pa=Es(ba,"a string"),z0=Es(t=>vg(t)||(xe(t)||ba(t))&&cb(new Date(t)),"a date"),xst=(t,e=!0)=>Es(i=>xe(i)&&(i>t||e&&i===t),`a number greater than ${e?"or equal to ":""}${t}`),bst=(t,e)=>Es(i=>xe(i)&&i>=t&&i<=e,`a number between ${t} and ${e} inclusive`);xst(0);var _0=bst(0,1),p_=t=>xe(t)||cb(t),f_=t=>Es((e,i)=>!p_(e)||!p_(i[t])||e<i[t],`to be less than ${t}`);function vst(...t){Un(t[0])&&(t=Object.values(t[0]));const e=hst(t,"or",i=>`'${i}'`,6);return Es(i=>t.includes(i),`a keyword such as ${e}`)}var eL=(t,e)=>Es((i,n)=>oi(i)&&i.every(s=>t(s,n)),`${t[ub]} array`),iU={};Ho(iU,{NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>fr,fromToMotion:()=>Ti,staticFromToMotion:()=>Ec});var dl={};typeof window<"u"?dl.window=window:typeof global<"u"&&(dl.window=global.window);typeof document<"u"?dl.document=document:typeof global<"u"&&(dl.document=global.document);function Tc(t){var e;return t?(e=dl.document)==null?void 0:e[t]:dl.document}function ai(t){var e;return t?(e=dl.window)==null?void 0:e[t]:dl.window}function nU(t){dl.document=t}function sU(t){dl.window=t}function le(t,e,i){const n=Tc().createElement(t);if(typeof e=="object"&&(i=e,e=void 0),e)for(const s of e.split(" "))n.classList.add(s);return i&&Object.assign(n.style,i),n}function zo(t){return Tc().createElementNS("http://www.w3.org/2000/svg",t)}function aU(t,e){const i=Tc("body"),n=le("a",{display:"none"});n.href=t,n.download=e,i.appendChild(n),n.click(),setTimeout(()=>i.removeChild(n))}var iL=new Map;function Sst(){iL.clear()}function Wo(t){const e=t.constructor,i=Object.hasOwn(e,"className")?e.className:e.name;if(!i)throw new Error(`The ${e} is missing the 'className' property.`);const n=(iL.get(i)??0)+1;return iL.set(i,n),`${i}-${n}`}function Mst(){var t;return((t=crypto.randomUUID)==null?void 0:t.call(crypto))??Ast()}function Ast(){const t=new Uint8Array(16);crypto.getRandomValues(t),t[6]=t[6]&15|64,t[8]=t[8]&63|128;let e="";for(let i=0;i<t.length;i++)(i===4||i===6||i===8||i===10)&&(e+="-"),e+=t[i].toString(16).padStart(2,"0");return e}var SA={containsPoint:Dst,isEmpty:Ist,normalize:Tst};function Dst(t,e,i){return e>=t.x&&e<=t.x+t.width&&i>=t.y&&i<=t.y+t.height}function Ist(t){return t==null||t.height===0||t.width===0||isNaN(t.height)||isNaN(t.width)}function Tst(t){let{x:e,y:i,width:n,height:s}=t;return(n==null||n>0)&&(s==null||s>0)?t:(e!=null&&n!=null&&n<0&&(n=-n,e=e-n),i!=null&&s!=null&&s<0&&(s=-s,i=i-s),{x:e,y:i,width:n,height:s})}var MA=Symbol("interpolate"),vM=t=>t[MA]!=null;function AA(t,e,i,n=1/0){const s={nearest:void 0,distanceSquared:n};for(const a of i){const o=a.distanceSquared(t,e);if(o===0)return{nearest:a,distanceSquared:0};o<s.distanceSquared&&(s.nearest=a,s.distanceSquared=o)}return s}function Cst(t,e,i,n=1/0){var r;const{x:s=t,y:a=e}=((r=i.transformPoint)==null?void 0:r.call(i,t,e))??{},o={nearest:void 0,distanceSquared:n};for(const l of i.children){const{nearest:c,distanceSquared:h}=l.nearestSquared(s,a,o.distanceSquared);if(h===0)return{nearest:c,distanceSquared:h};h<o.distanceSquared&&(o.nearest=c,o.distanceSquared=h)}return o}function Jt(t,e,i){return Math.min(i,Math.max(t,e))}function nL(t,e){const[i,n]=Hn(e);return Jt(i,t,n)}function Hn(t){if(t.length===0)return[];const e=[1/0,-1/0];for(const i of t)i<e[0]&&(e[0]=i),i>e[1]&&(e[1]=i);return e}function ug(t){const[e,i]=Hn(t);return i-e}function oU(t,e,i=1e-10){return t>=e[0]-i&&t<=e[1]+i}function hr(t,e,i=1e-10){return t===e||Math.abs(t-e)<i}function DA(t){return Math.sign(t)===-1||Object.is(t,-0)}function rU(t){return t%1===0}function kst(t,e=2){const i=10**e;return Math.round(t*i)/i}function TN(t,e){return Math.floor(t%e+(t<0?e:0))}function IA(t){var s;if(Math.floor(t)===t)return 0;let e=String(t),i=0;if(t<1e-6||t>=1e21){let a;[e,a]=e.split("e"),a!=null&&(i=Number(a))}const n=((s=e.split(".")[1])==null?void 0:s.length)??0;return Math.max(n-i,0)}var Mx=class Uf{constructor(e,i,n,s){this.x=e,this.y=i,this.width=n,this.height=s}static fromDOMRect({x:e,y:i,width:n,height:s}){return new Uf(e,i,n,s)}static merge(e){let i=1/0,n=1/0,s=-1/0,a=-1/0;for(const o of e)o.x<i&&(i=o.x),o.y<n&&(n=o.y),o.x+o.width>s&&(s=o.x+o.width),o.y+o.height>a&&(a=o.y+o.height);return new Uf(i,n,s-i,a-n)}static nearestBox(e,i,n){return AA(e,i,n)}toDOMRect(){return{x:this.x,y:this.y,width:this.width,height:this.height,top:this.y,left:this.x,right:this.x+this.width,bottom:this.y+this.height,toJSON(){return{}}}}clone(){const{x:e,y:i,width:n,height:s}=this;return new Uf(e,i,n,s)}equals(e){return this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height}containsPoint(e,i){return SA.containsPoint(this,e,i)}intersection(e){if(!this.collidesBBox(e))return;const i=Jt(e.x,this.x,e.x+e.width),n=Jt(e.y,this.y,e.y+e.height),s=Jt(e.x,this.x+this.width,e.x+e.width),a=Jt(e.y,this.y+this.height,e.y+e.height);return new Uf(i,n,s-i,a-n)}collidesBBox(e){return this.x<e.x+e.width&&this.x+this.width>e.x&&this.y<e.y+e.height&&this.y+this.height>e.y}computeCenter(){return{x:this.x+this.width/2,y:this.y+this.height/2}}isFinite(){return Number.isFinite(this.x)&&Number.isFinite(this.y)&&Number.isFinite(this.width)&&Number.isFinite(this.height)}distanceSquared(e,i){if(this.containsPoint(e,i))return 0;const n=e-Jt(this.x,e,this.x+this.width),s=i-Jt(this.y,i,this.y+this.height);return n*n+s*s}shrink(e,i){if(typeof e=="number")this.applyMargin(e,i);else for(const[n,s]of Object.entries(e))this.applyMargin(s,n);return this.width<0&&(this.width=0),this.height<0&&(this.height=0),this}grow(e,i){if(typeof e=="number")this.applyMargin(-e,i);else for(const[n,s]of Object.entries(e))this.applyMargin(-s,n);return this}applyMargin(e,i){switch(i){case"top":this.y+=e;case"bottom":this.height-=e;break;case"left":this.x+=e;case"right":this.width-=e;break;case"vertical":this.y+=e,this.height-=e*2;break;case"horizontal":this.x+=e,this.width-=e*2;break;case void 0:this.x+=e,this.y+=e,this.width-=e*2,this.height-=e*2;break}}translate(e,i){return this.x+=e,this.y+=i,this}[MA](e,i){return new Uf(this.x*(1-i)+e.x*i,this.y*(1-i)+e.y*i,this.width*(1-i)+e.width*i,this.height*(1-i)+e.height*i)}};Mx.zero=Object.freeze(new Mx(0,0,0,0));Mx.NaN=Object.freeze(new Mx(NaN,NaN,NaN,NaN));var Rt=Mx;function Et(t){return function(e,i){const n=`__${i}`;e[i]||Lst(e,i,n,t)}}function Lst(t,e,i,n){const{type:s="normal",changeCb:a,convertor:o,checkDirtyOnAssignment:r=!1}=n??{},l={changeCb:a,checkDirtyOnAssignment:r,convertor:o};let c;switch(s){case"normal":c=Ost(i,l);break;case"transform":c=Rst(i);break;case"path":c=Pst(i);break}c=wst(Est(Nst(c,l),l),l),Object.defineProperty(t,e,{set:c,get:function(){return this[i]},enumerable:!0,configurable:!0})}function Nst(t,e){const{convertor:i}=e;return i?function(n){t.call(this,i(n))}:t}var TA=Symbol("no-change");function Est(t,e){const{changeCb:i}=e;return i?function(n){const s=t.call(this,n);return s!==TA&&i.call(this,this),s}:t}function wst(t,e){const{checkDirtyOnAssignment:i}=e;return i?function(n){const s=t.call(this,n);return(n==null?void 0:n._dirty)===!0&&this.markDirty(),s}:t}function Ost(t,e){const{changeCb:i}=e;return function(n){const s=this[t];return n!==s?(this[t]=n,this.markDirty(),i==null||i(this),n):TA}}function Rst(t){return function(e){const i=this[t];return e!==i?(this[t]=e,this.markDirtyTransform(),e):TA}}function Pst(t){return function(e){const i=this[t];return e!==i?(this[t]=e,this._dirtyPath||(this._dirtyPath=!0,this.markDirty()),e):TA}}var lU=(t=>(t[t.All=0]="All",t[t.None=1]="None",t))(lU||{}),CA=class cU{constructor(e){this.serialNumber=cU._nextSerialNumber++,this.childNodeCounts={groups:0,nonGroups:0,thisComplexity:0,complexity:0},this.id=Wo(this),this.pointerEvents=0,this._dirty=!0,this.dirtyZIndex=!1,this.isContainerNode=!1,this.visible=!0,this.zIndex=0,this.name=e==null?void 0:e.name,this.tag=(e==null?void 0:e.tag)??NaN,this.zIndex=(e==null?void 0:e.zIndex)??0}static toSVG(e,i,n){var o,r;const s=e==null?void 0:e.toSVG();if(s==null||!s.elements.length&&!((o=s.defs)!=null&&o.length))return;const a=zo("svg");if(a.setAttribute("width",String(i)),a.setAttribute("height",String(n)),a.setAttribute("viewBox",`0 0 ${i} ${n}`),(r=s.defs)!=null&&r.length){const l=zo("defs");l.append(...s.defs),a.append(l)}return a.append(...s.elements),a.outerHTML}static*extractBBoxes(e,i){for(const n of e)if(!i||n.visible&&!n.transitionOut){const s=n.getBBox();s&&(yield s)}}get datum(){var e;return this._datum??((e=this.parentNode)==null?void 0:e.datum)}set datum(e){this._datum!==e&&(this._previousDatum=this._datum,this._datum=e)}get previousDatum(){return this._previousDatum}get layerManager(){return this._layerManager}get dirty(){return this._dirty}preRender(e,i=1){this.childNodeCounts.groups=0,this.childNodeCounts.nonGroups=1,this.childNodeCounts.complexity=i,this.childNodeCounts.thisComplexity=i;for(const n of this.children()){const s=n.preRender(e);this.childNodeCounts.groups+=s.groups,this.childNodeCounts.nonGroups+=s.nonGroups,this.childNodeCounts.complexity+=s.complexity}return this.childNodeCounts}render(e){const{stats:i}=e;if(this._dirty=!1,e.debugNodeSearch){const n=this.name??this.id;e.debugNodeSearch.some(s=>typeof s=="string"?s===n:s.test(n))&&(e.debugNodes[this.name??this.id]=this)}i&&(i.nodesRendered++,i.opsPerformed+=this.childNodeCounts.thisComplexity)}_setLayerManager(e){this._layerManager=e,this._debug=e==null?void 0:e.debug;for(const i of this.children())i._setLayerManager(e)}sortChildren(e){if(this.dirtyZIndex=!1,!this.childNodes)return;const i=[...this.childNodes].sort(e);this.childNodes.clear();for(const n of i)this.childNodes.add(n)}*traverseUp(e){let i=this;for(e&&(yield i);i=i.parentNode;)yield i}*children(){if(this.childNodes)for(const e of this.childNodes)yield e}*descendants(){for(const e of this.children())yield e,yield*e.descendants()}isLeaf(){var e;return!((e=this.childNodes)!=null&&e.size)}isRoot(){return!this.parentNode}append(e){var i;this.childNodes??(this.childNodes=new Set);for(const n of ust(e))(i=n.parentNode)==null||i.removeChild(n),this.childNodes.add(n),n.parentNode=this,n._setLayerManager(this.layerManager);this.invalidateCachedBBox(),this.dirtyZIndex=!0,this.markDirty()}appendChild(e){return this.append(e),e}removeChild(e){var i;return(i=this.childNodes)!=null&&i.delete(e)?(delete e.parentNode,e._setLayerManager(),this.invalidateCachedBBox(),this.dirtyZIndex=!0,this.markDirty(),!0):!1}remove(){var e;return((e=this.parentNode)==null?void 0:e.removeChild(this))??!1}clear(){var e;for(const i of this.children())delete i.parentNode,i._setLayerManager();(e=this.childNodes)==null||e.clear(),this.invalidateCachedBBox()}destroy(){var e;(e=this.parentNode)==null||e.removeChild(this)}setProperties(e,i){if(i)for(const n of i)this[n]=e[n];else Object.assign(this,e);return this}containsPoint(e,i){return!1}pickNode(e,i,n=!1){if(!this.visible||this.pointerEvents===1||!this.containsPoint(e,i))return;const s=[...this.children()];if(s.length>1e3)for(let a=s.length-1;a>=0;a--){const o=s[a],l=o.containsPoint(e,i)?o.pickNode(e,i):void 0;if(l)return l}else if(s.length)for(let a=s.length-1;a>=0;a--){const o=s[a].pickNode(e,i);if(o)return o}else if(!this.isContainerNode)return this}invalidateCachedBBox(){var e;this.cachedBBox!=null&&(this.cachedBBox=void 0,(e=this.parentNode)==null||e.invalidateCachedBBox())}getBBox(){return this.cachedBBox==null&&(this.cachedBBox=Object.freeze(this.computeBBox())),this.cachedBBox}computeBBox(){}markDirty(){const{_dirty:e}=this;this.cachedBBox==null&&e||(this.invalidateCachedBBox(),this._dirty=!0,this.parentNode&&this.parentNode.markDirty())}markClean(){if(this._dirty){this._dirty=!1;for(const e of this.children())e.markClean()}}onZIndexChange(){const{parentNode:e}=this;e&&(e.dirtyZIndex=!0)}toSVG(){}};CA._nextSerialNumber=0;N([Et()],CA.prototype,"visible",2);N([Et({changeCb:t=>t.onZIndexChange()})],CA.prototype,"zIndex",2);var lh=CA,j0=(t,e,i)=>t*(1-i)+e*i,r1=t=>{const e=t<0?-1:1,i=Math.abs(t);return i<=.04045?t/12.92:e*((i+.055)/1.055)**2.4},l1=t=>{const e=t<0?-1:1,i=Math.abs(t);return i>.0031308?e*(1.055*i**(1/2.4)-.055):12.92*t},uU=class ni{constructor(e,i,n,s=1){this.r=Jt(0,e||0,1),this.g=Jt(0,i||0,1),this.b=Jt(0,n||0,1),this.a=Jt(0,s||0,1)}static validColorString(e){return e.indexOf("#")>=0?!!ni.parseHex(e):e.indexOf("rgb")>=0?!!ni.stringToRgba(e):ni.nameToHex.has(e.toLowerCase())}static fromString(e){if(e.indexOf("#")>=0)return ni.fromHexString(e);const i=ni.nameToHex.get(e.toLowerCase());if(i)return ni.fromHexString(i);if(e.indexOf("rgb")>=0)return ni.fromRgbaString(e);throw new Error(`Invalid color string: '${e}'`)}static parseHex(e){e=e.replace(/ /g,"").slice(1);let i;switch(e.length){case 6:case 8:i=[];for(let n=0;n<e.length;n+=2)i.push(parseInt(`${e[n]}${e[n+1]}`,16));break;case 3:case 4:i=e.split("").map(n=>parseInt(n,16)).map(n=>n+n*16);break}if((i==null?void 0:i.length)>=3&&i.every(n=>n>=0))return i.length===3&&i.push(255),i}static fromHexString(e){const i=ni.parseHex(e);if(i){const[n,s,a,o]=i;return new ni(n/255,s/255,a/255,o/255)}throw new Error(`Malformed hexadecimal color string: '${e}'`)}static stringToRgba(e){let i=-1,n=-1;for(let r=0;r<e.length;r++){const l=e[r];if(i===-1&&l==="(")i=r;else if(l===")"){n=r;break}}if(i===-1||n===-1)return;const a=e.substring(i+1,n).split(","),o=[];for(let r=0;r<a.length;r++){const l=a[r];let c=parseFloat(l);if(!Number.isFinite(c))return;l.indexOf("%")>=0?(c=Jt(0,c,100),c/=100):r===3?c=Jt(0,c,1):(c=Jt(0,c,255),c/=255),o.push(c)}return o}static fromRgbaString(e){const i=ni.stringToRgba(e);if(i){if(i.length===3)return new ni(i[0],i[1],i[2]);if(i.length===4)return new ni(i[0],i[1],i[2],i[3])}throw new Error(`Malformed rgb/rgba color string: '${e}'`)}static fromArray(e){if(e.length===4)return new ni(e[0],e[1],e[2],e[3]);if(e.length===3)return new ni(e[0],e[1],e[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")}static fromHSB(e,i,n,s=1){const a=ni.HSBtoRGB(e,i,n);return new ni(a[0],a[1],a[2],s)}static fromHSL(e,i,n,s=1){const a=ni.HSLtoRGB(e,i,n);return new ni(a[0],a[1],a[2],s)}static fromOKLCH(e,i,n,s=1){const a=ni.OKLCHtoRGB(e,i,n);return new ni(a[0],a[1],a[2],s)}static padHex(e){return e.length===1?"0"+e:e}toHexString(){let e="#"+ni.padHex(Math.round(this.r*255).toString(16))+ni.padHex(Math.round(this.g*255).toString(16))+ni.padHex(Math.round(this.b*255).toString(16));return this.a<1&&(e+=ni.padHex(Math.round(this.a*255).toString(16))),e}toRgbaString(e=3){const i=[Math.round(this.r*255),Math.round(this.g*255),Math.round(this.b*255)],n=Math.pow(10,e);return this.a!==1?(i.push(Math.round(this.a*n)/n),`rgba(${i.join(", ")})`):`rgb(${i.join(", ")})`}toString(){return this.a===1?this.toHexString():this.toRgbaString()}toHSB(){return ni.RGBtoHSB(this.r,this.g,this.b)}static RGBtoOKLCH(e,i,n){const s=r1(e),a=r1(i),o=r1(n),r=Math.cbrt(.4122214708*s+.5363325363*a+.0514459929*o),l=Math.cbrt(.2119034982*s+.6806995451*a+.1073969566*o),c=Math.cbrt(.0883024619*s+.2817188376*a+.6299787005*o),h=.2104542553*r+.793617785*l-.0040720468*c,p=1.9779984951*r-2.428592205*l+.4505937099*c,f=.0259040371*r+.7827717662*l-.808675766*c,y=Math.atan2(f,p)*180/Math.PI,m=h,b=Math.hypot(p,f),S=y>=0?y:y+360;return[m,b,S]}static OKLCHtoRGB(e,i,n){const s=e,a=i*Math.cos(n*Math.PI/180),o=i*Math.sin(n*Math.PI/180),r=(s+.3963377774*a+.2158037573*o)**3,l=(s-.1055613458*a-.0638541728*o)**3,c=(s-.0894841775*a-1.291485548*o)**3,h=4.0767416621*r-3.3077115913*l+.2309699292*c,p=-1.2684380046*r+2.6097574011*l-.3413193965*c,f=-.0041960863*r-.7034186147*l+1.707614701*c,y=l1(h),m=l1(p),b=l1(f);return[y,m,b]}static RGBtoHSL(e,i,n){const s=Math.min(e,i,n),a=Math.max(e,i,n),o=(a+s)/2;let r,l;if(a===s)r=0,l=0;else{const c=a-s;l=o>.5?c/(2-a-s):c/(a+s),a===e?r=(i-n)/c+(i<n?6:0):a===i?r=(n-e)/c+2:r=(e-i)/c+4,r*=360/6}return[r,l,o]}static HSLtoRGB(e,i,n){if(e=(e%360+360)%360,i===0)return[n,n,n];const s=n<.5?n*(1+i):n+i-n*i,a=2*n-s;function o(h){return h<0&&(h+=1),h>1&&(h-=1),h<1/6?a+(s-a)*6*h:h<1/2?s:h<2/3?a+(s-a)*(2/3-h)*6:a}const r=o(e/360+1/3),l=o(e/360),c=o(e/360-1/3);return[r,l,c]}static RGBtoHSB(e,i,n){const s=Math.min(e,i,n),a=Math.max(e,i,n),o=a===0?0:(a-s)/a;let r=0;if(s!==a){const l=a-s,c=(a-e)/l,h=(a-i)/l,p=(a-n)/l;e===a?r=p-h:i===a?r=2+c-p:r=4+h-c,r/=6,r<0&&(r=r+1)}return[r*360,o,a]}static HSBtoRGB(e,i,n){e=(e%360+360)%360/360;let s=0,a=0,o=0;if(i===0)s=a=o=n;else{const r=(e-Math.floor(e))*6,l=r-Math.floor(r),c=n*(1-i),h=n*(1-i*l),p=n*(1-i*(1-l));switch(r>>0){case 0:s=n,a=p,o=c;break;case 1:s=h,a=n,o=c;break;case 2:s=c,a=n,o=p;break;case 3:s=c,a=h,o=n;break;case 4:s=p,a=c,o=n;break;case 5:s=n,a=c,o=h;break}}return[s,a,o]}static mix(e,i,n){return new ni(j0(e.r,i.r,n),j0(e.g,i.g,n),j0(e.b,i.b,n),j0(e.a,i.a,n))}};uU.nameToHex=new Map([["aliceblue","#F0F8FF"],["antiquewhite","#FAEBD7"],["aqua","#00FFFF"],["aquamarine","#7FFFD4"],["azure","#F0FFFF"],["beige","#F5F5DC"],["bisque","#FFE4C4"],["black","#000000"],["blanchedalmond","#FFEBCD"],["blue","#0000FF"],["blueviolet","#8A2BE2"],["brown","#A52A2A"],["burlywood","#DEB887"],["cadetblue","#5F9EA0"],["chartreuse","#7FFF00"],["chocolate","#D2691E"],["coral","#FF7F50"],["cornflowerblue","#6495ED"],["cornsilk","#FFF8DC"],["crimson","#DC143C"],["cyan","#00FFFF"],["darkblue","#00008B"],["darkcyan","#008B8B"],["darkgoldenrod","#B8860B"],["darkgray","#A9A9A9"],["darkgreen","#006400"],["darkgrey","#A9A9A9"],["darkkhaki","#BDB76B"],["darkmagenta","#8B008B"],["darkolivegreen","#556B2F"],["darkorange","#FF8C00"],["darkorchid","#9932CC"],["darkred","#8B0000"],["darksalmon","#E9967A"],["darkseagreen","#8FBC8F"],["darkslateblue","#483D8B"],["darkslategray","#2F4F4F"],["darkslategrey","#2F4F4F"],["darkturquoise","#00CED1"],["darkviolet","#9400D3"],["deeppink","#FF1493"],["deepskyblue","#00BFFF"],["dimgray","#696969"],["dimgrey","#696969"],["dodgerblue","#1E90FF"],["firebrick","#B22222"],["floralwhite","#FFFAF0"],["forestgreen","#228B22"],["fuchsia","#FF00FF"],["gainsboro","#DCDCDC"],["ghostwhite","#F8F8FF"],["gold","#FFD700"],["goldenrod","#DAA520"],["gray","#808080"],["green","#008000"],["greenyellow","#ADFF2F"],["grey","#808080"],["honeydew","#F0FFF0"],["hotpink","#FF69B4"],["indianred","#CD5C5C"],["indigo","#4B0082"],["ivory","#FFFFF0"],["khaki","#F0E68C"],["lavender","#E6E6FA"],["lavenderblush","#FFF0F5"],["lawngreen","#7CFC00"],["lemonchiffon","#FFFACD"],["lightblue","#ADD8E6"],["lightcoral","#F08080"],["lightcyan","#E0FFFF"],["lightgoldenrodyellow","#FAFAD2"],["lightgray","#D3D3D3"],["lightgreen","#90EE90"],["lightgrey","#D3D3D3"],["lightpink","#FFB6C1"],["lightsalmon","#FFA07A"],["lightseagreen","#20B2AA"],["lightskyblue","#87CEFA"],["lightslategray","#778899"],["lightslategrey","#778899"],["lightsteelblue","#B0C4DE"],["lightyellow","#FFFFE0"],["lime","#00FF00"],["limegreen","#32CD32"],["linen","#FAF0E6"],["magenta","#FF00FF"],["maroon","#800000"],["mediumaquamarine","#66CDAA"],["mediumblue","#0000CD"],["mediumorchid","#BA55D3"],["mediumpurple","#9370DB"],["mediumseagreen","#3CB371"],["mediumslateblue","#7B68EE"],["mediumspringgreen","#00FA9A"],["mediumturquoise","#48D1CC"],["mediumvioletred","#C71585"],["midnightblue","#191970"],["mintcream","#F5FFFA"],["mistyrose","#FFE4E1"],["moccasin","#FFE4B5"],["navajowhite","#FFDEAD"],["navy","#000080"],["oldlace","#FDF5E6"],["olive","#808000"],["olivedrab","#6B8E23"],["orange","#FFA500"],["orangered","#FF4500"],["orchid","#DA70D6"],["palegoldenrod","#EEE8AA"],["palegreen","#98FB98"],["paleturquoise","#AFEEEE"],["palevioletred","#DB7093"],["papayawhip","#FFEFD5"],["peachpuff","#FFDAB9"],["peru","#CD853F"],["pink","#FFC0CB"],["plum","#DDA0DD"],["powderblue","#B0E0E6"],["purple","#800080"],["rebeccapurple","#663399"],["red","#FF0000"],["rosybrown","#BC8F8F"],["royalblue","#4169E1"],["saddlebrown","#8B4513"],["salmon","#FA8072"],["sandybrown","#F4A460"],["seagreen","#2E8B57"],["seashell","#FFF5EE"],["sienna","#A0522D"],["silver","#C0C0C0"],["skyblue","#87CEEB"],["slateblue","#6A5ACD"],["slategray","#708090"],["slategrey","#708090"],["snow","#FFFAFA"],["springgreen","#00FF7F"],["steelblue","#4682B4"],["tan","#D2B48C"],["teal","#008080"],["thistle","#D8BFD8"],["tomato","#FF6347"],["transparent","#00000000"],["turquoise","#40E0D0"],["violet","#EE82EE"],["wheat","#F5DEB3"],["white","#FFFFFF"],["whitesmoke","#F5F5F5"],["yellow","#FFFF00"],["yellowgreen","#9ACD32"]]);var Ii=uU;function Bst(t,e){return i=>Number(t)*(1-i)+Number(e)*i}function hU(t,e){if(typeof t=="string")try{t=Ii.fromString(t)}catch{t=Ii.fromArray([0,0,0])}if(typeof e=="string")try{e=Ii.fromString(e)}catch{e=Ii.fromArray([0,0,0])}return i=>Ii.mix(t,e,i).toRgbaString()}var SM=Symbol("BREAK"),eg="__decorator_config";function dU(t,e){Object.getOwnPropertyDescriptor(t,eg)==null&&Object.defineProperty(t,eg,{value:{}});const i=t[eg],n=e.toString();if(typeof i[n]<"u")return i[n];const s=new WeakMap;i[n]={setters:[],getters:[],observers:[],valuesMap:s};const a=Object.getOwnPropertyDescriptor(t,e),o=a==null?void 0:a.set,r=a==null?void 0:a.get;return Object.defineProperty(t,e,{set:function(h){const{setters:p,observers:f}=i[n];let y;p.some(m=>m.length>2)&&(y=r?r.call(this):s.get(this));for(const m of p)if(h=m(this,e,h,y),h===SM)return;o?o.call(this,h):s.set(this,h);for(const m of f)m(this,h,y)},get:function(){let h=r?r.call(this):s.get(this);for(const p of i[n].getters)if(h=p(this,e,h),h===SM)return;return h},enumerable:!0,configurable:!1}),i[n]}function Cc(t,e,i){return(n,s)=>{const a=dU(n,s);a.setters.push(t),e&&a.getters.unshift(e),i&&Object.assign(a,i)}}function pU(t){return(e,i)=>{dU(e,i).observers.push(t)}}function kA(t){return typeof t<"u"&&eg in t}function Vd(t){const e=new Set;for(;kA(t);)e.add(t==null?void 0:t[eg]),t=Object.getPrototypeOf(t);return Array.from(e).flatMap(i=>Object.keys(i))}function fU(t){return Vd(t).reduce((e,i)=>(e[i]=t[i]??null,e),{})}function zst(t,e){const i=e.toString();for(;kA(t);){const n=t[eg];if(Object.hasOwn(n,i))return n[i];t=Object.getPrototypeOf(t)}}function Yd(t,e){return Array.isArray(t)?!Array.isArray(e)||t.length!==e.length?!1:t.every((i,n)=>Yd(i,e[n])):Ns(t)?Ns(e)?CN(t,e,Yd):!1:t===e}function CN(t,e,i){for(const n of Object.keys(e))if(!(n in t))return!1;for(const n of Object.keys(t))if(!(n in e)||!i(t[n],e[n]))return!1;return!0}function ne(...t){const e={};for(const i of t){if(!Un(i))continue;const n=kA(i)?Vd(i):Object.keys(i);for(const s of n)Ns(e[s])&&Ns(i[s])?e[s]=ne(e[s],i[s]):e[s]??(e[s]=i[s])}return e}function MM(t,...e){return e&&oi(t)?t.map(i=>ne(i,...e)):t}function _st(t,e){return Object.entries(t).reduce((i,[n,s])=>(i[n]=e(s,n,t),i),{})}function sL(t,e){const i={...t};for(const n of e)delete i[n];return i}function kN(t,e){return(oi(e)?e:e.split(".")).reduce((n,s)=>n[s],t)}var LN=new Set(["__proto__","constructor","prototype"]);function NN(t,e,i){const n=oi(e)?e.slice():e.split("."),s=n.pop();if(n.some(o=>LN.has(o)))return;const a=n.reduce((o,r)=>o[r],t);return a[s]=i,a[s]}function aL(t,e,i){if(i===void 0)return e;for(const n of t){const s=i[n];s!==void 0&&(e[n]=s)}return e}function sx(t){return Object.freeze(t),Object.getOwnPropertyNames(t).forEach(e=>{const i=t[e];i!==null&&(typeof i=="object"||typeof i=="function")&&!Object.isFrozen(i)&&sx(i)}),t}var oL={};Ho(oL,{easeIn:()=>jst,easeInOut:()=>Fst,easeInOutQuad:()=>Ust,easeInQuad:()=>Gst,easeOut:()=>Ax,easeOutQuad:()=>Vst,inverseEaseOut:()=>yU,linear:()=>gU});var gU=t=>t,jst=t=>1-Math.cos(t*Math.PI/2),Ax=t=>Math.sin(t*Math.PI/2),Fst=t=>-(Math.cos(t*Math.PI)-1)/2,Gst=t=>t*t,Vst=t=>1-(1-t)**2,Ust=t=>t<.5?2*t*t:1-(-2*t+2)**2/2,yU=t=>2*Math.asin(t)/Math.PI,AM=.2,Hf=["initial","remove","update","add","trailing","end","none"],Dx={initial:{animationDuration:1,animationDelay:0},add:{animationDuration:.25,animationDelay:.75},remove:{animationDuration:.25,animationDelay:0},update:{animationDuration:.5,animationDelay:.25},trailing:{animationDuration:AM,animationDelay:1,skipIfNoEarlierAnimations:!0},end:{animationDelay:1+AM,animationDuration:0,skipIfNoEarlierAnimations:!0},none:{animationDuration:0,animationDelay:0}},mU=(t=>(t.Loop="loop",t.Reverse="reverse",t))(mU||{});function Hst(t){return t.every(e=>e instanceof lh)}function LA(t){return Hst(t)?{nodes:t,selections:[]}:{nodes:[],selections:t}}function rL(t,e){return t===e?!0:Array.isArray(t)&&Array.isArray(e)?t.length===e.length&&t.every((i,n)=>rL(i,e[n])):vM(t)&&vM(e)?t.equals(e):Ns(t)&&Ns(e)?CN(t,e,rL):!1}var xU=class{constructor(e){var n,s,a;this.isComplete=!1,this.elapsed=0,this.iteration=0,this.isPlaying=!1,this.isReverse=!1,this.id=e.id,this.groupId=e.groupId,this.autoplay=e.autoplay??!0,this.ease=e.ease??gU,this.phase=e.phase;const i=e.duration??Dx[this.phase].animationDuration;this.duration=i*e.defaultDuration,this.delay=(e.delay??0)*e.defaultDuration,this.onComplete=e.onComplete,this.onPlay=e.onPlay,this.onStop=e.onStop,this.onUpdate=e.onUpdate,this.interpolate=this.createInterpolator(e.from,e.to),this.from=e.from,e.skip===!0&&((n=this.onUpdate)==null||n.call(this,e.to,!1,this),(s=this.onStop)==null||s.call(this,this),(a=this.onComplete)==null||a.call(this,this),this.isComplete=!0),e.collapsable!==!1&&(this.duration=this.checkCollapse(e,this.duration))}checkCollapse(e,i){return rL(e.from,e.to)?0:i}play(e=!1){var i,n;this.isPlaying||this.isComplete||(this.isPlaying=!0,(i=this.onPlay)==null||i.call(this,this),this.autoplay&&(this.autoplay=!1,e&&((n=this.onUpdate)==null||n.call(this,this.from,!0,this))))}stop(){var e;this.isPlaying=!1,this.isComplete||(this.isComplete=!0,(e=this.onStop)==null||e.call(this,this))}update(e){var a,o;if(this.isComplete)return e;!this.isPlaying&&this.autoplay&&this.play(!0);const i=this.elapsed;if(this.elapsed+=e,this.delay>this.elapsed)return 0;const n=this.interpolate(this.isReverse?1-this.delta:this.delta);(a=this.onUpdate)==null||a.call(this,n,!1,this);const s=this.delay+this.duration;return this.elapsed>=s?(this.stop(),this.isComplete=!0,(o=this.onComplete)==null||o.call(this,this),e-(s-i)):0}get delta(){return this.ease(Jt(0,(this.elapsed-this.delay)/this.duration,1))}createInterpolator(e,i){if(typeof i!="object"||vM(i))return this.interpolateValue(e,i);const n=[];for(const s of Object.keys(i)){const a=this.interpolateValue(e[s],i[s]);a!=null&&n.push([s,a])}return s=>{const a={};for(const[o,r]of n)a[o]=r(s);return a}}interpolateValue(e,i){if(!(e==null||i==null)){if(vM(e))return n=>e[MA](i,n);try{switch(typeof e){case"number":return Bst(e,i);case"string":return hU(e,i);case"boolean":if(e===i)return()=>e;break}}catch{}throw new Error(`Unable to interpolate values: ${e}, ${i}`)}}},fr={added:"add",updated:"update",removed:"remove",unknown:"initial","no-op":"none"};function Ti(t,e,i,n,s,a,o){const{fromFn:r,toFn:l,applyFn:c=(m,b)=>m.setProperties(b)}=s,{nodes:h,selections:p}=LA(n),f=(m,b)=>{let S,v=0,D=0;for(const I of b){const T=m[v]===I,k={last:D>=b.length-1,lastLive:v>=m.length-1,prev:b[D-1],prevFromProps:S,prevLive:m[v-1],next:b[D+1],nextLive:m[v+(T?1:0)]},E=`${t}_${e}_${I.id}`;i.stopByAnimationId(E);let w="unknown";T?a&&o&&(w=Wst(I,I.datum,a,o)):w="removed",I.transitionOut=w==="removed";const{phase:R,start:O,finish:L,delay:F,duration:z,...V}=r(I,I.datum,w,k),{phase:H,start:W,finish:G,delay:$,duration:K,...X}=l(I,I.datum,w,k),j=L==null;i.animate({id:E,groupId:t,phase:R??H??"update",duration:z??K,delay:F??$,from:V,to:X,ease:Ax,collapsable:j,onPlay:()=>{const U={...O,...W,...V};c(I,U,"start")},onUpdate(U){c(I,U,"update")},onStop:()=>{const U={...O,...W,...V,...X,...L,...G};c(I,U,"end")}}),T&&v++,D++,S=V}};let y=0;for(const m of p){const b=m.nodes(),S=b.filter(v=>!m.isGarbage(v));f(S,b),i.animate({id:`${t}_${e}_selection_${y}`,groupId:t,phase:"end",from:0,to:1,ease:Ax,onStop(){m.cleanup()}}),y++}f(h,h)}function Ec(t,e,i,n,s,a,o){const{nodes:r,selections:l}=LA(n),{start:c,finish:h,phase:p}=o;i.animate({id:`${t}_${e}`,groupId:t,phase:p??"update",from:s,to:a,ease:Ax,onPlay:()=>{if(c){for(const f of r)f.setProperties(c);for(const f of l)for(const y of f.nodes())y.setProperties(c)}},onUpdate(f){for(const y of r)y.setProperties(f);for(const y of l)for(const m of y.nodes())m.setProperties(f)},onStop:()=>{for(const f of r)f.setProperties({...a,...h});for(const f of l){for(const y of f.nodes())y.setProperties({...a,...h});f.cleanup()}}})}function Wst(t,e,i,n){const s=i(t,e);return n.added.has(s)?"added":n.removed.has(s)?"removed":"updated"}var NA=class{ticks(t,e,i){}niceDomain(t,e=this.domain){return e}tickFormatter(t){}datumFormatter(t){}get bandwidth(){}get step(){}get inset(){}},bU=class vU extends NA{constructor(e=[],i=[]){super(),this.domain=e,this.range=i,this.defaultClamp=!1}static is(e){return e instanceof vU}normalizeDomains(...e){let i,n=1/0,s,a=-1/0;for(const o of e)for(const r of o){const l=r.valueOf();l<n&&(n=l,i=r),l>a&&(a=l,s=r)}return i!=null&&s!=null?{domain:[i,s],animatable:!0}:{domain:[],animatable:!1}}transform(e){return e}transformInvert(e){return e}calcBandwidth(e=1){const{domain:i}=this,n=this.getPixelRange();if(i.length===0)return n;const s=Math.abs(i[1].valueOf()-i[0].valueOf())/e+1,a=Math.floor(n),o=Math.min(s,a);return n/Math.max(1,o)}convert(e,i=this.defaultClamp){const{domain:n}=this;if(!n||n.length<2)return NaN;const s=Number(this.transform(n[0])),a=Number(this.transform(n[1])),o=Number(this.transform(e)),{range:r}=this,[l,c]=r;if(i){const[h,p]=Hn([s,a]);if(o<h)return l;if(o>p)return c}return s===a?(l+c)/2:o===s?l:o===a?c:l+(o-s)/(a-s)*(c-l)}invert(e,i){const n=this.domain.map(h=>this.transform(h)),[s,a]=n,{range:o}=this,[r,l]=o;let c;return r===l?c=this.toDomain((Number(s)+Number(a))/2):c=this.toDomain(Number(s)+(e-r)/(l-r)*(Number(a)-Number(s))),this.transformInvert(c)}getPixelRange(){const[e,i]=this.range;return Math.abs(i-e)}};bU.defaultTickCount=5;var Oe=bU,Yst={};Ho(Yst,{TimeInterval:()=>hg,day:()=>DM,friday:()=>rat,hour:()=>Kf,millisecond:()=>SU,minute:()=>$f,monday:()=>nat,month:()=>Od,saturday:()=>lat,second:()=>Yf,sunday:()=>ax,thursday:()=>oat,tuesday:()=>sat,utcDay:()=>Sat,utcHour:()=>xat,utcMinute:()=>gat,utcMonth:()=>Dat,utcYear:()=>Cat,wednesday:()=>aat,year:()=>EA});var hg=class{constructor(t,e,i){this._encode=t,this._decode=e,this._rangeCallback=i}floor(t){const e=new Date(t),i=this._encode(e);return this._decode(i)}ceil(t){const e=new Date(Number(t)-1),i=this._encode(e);return this._decode(i+1)}range(t,e,{extend:i=!1,visibleRange:n=[0,1]}={}){var f;let s=!1;t.getTime()>e.getTime()&&([t,e]=[e,t],s=!0);const a=(f=this._rangeCallback)==null?void 0:f.call(this,t,e),o=this._encode(i?this.floor(t):this.ceil(t)),r=this._encode(i?this.ceil(e):this.floor(e));if(r<o)return[];const l=r-o;let c,h;s?(c=Math.ceil(o+(1-n[1])*l),h=Math.floor(o+(1-n[0])*l)):(c=Math.floor(o+n[0]*l),h=Math.ceil(o+n[1]*l));const p=[];for(let y=c;y<=h;y+=1){const m=this._decode(y);p.push(m)}return a==null||a(),p}},Wa=class extends hg{getOffset(t,e){return Math.floor(this._encode(new Date(t)))%e}every(t,e){let i=0,n;const s=t;t=Math.max(1,Math.round(t)),s!==t&&It.warnOnce(`interval step of [${s}] rounded to [${t}].`);const{snapTo:a="start"}=e??{};if(typeof a=="string"){const l=i;n=(c,h)=>{const p=a==="start"?c:h;return i=this.getOffset(p,t),()=>i=l}}else typeof a=="number"?i=this.getOffset(new Date(a),t):a instanceof Date&&(i=this.getOffset(a,t));const o=l=>Math.floor((this._encode(l)-i)/t),r=l=>this._decode(l*t+i);return new hg(o,r,n)}};function $st(t){return t.getTime()}function Kst(t){return new Date(t)}var SU=new Wa($st,Kst),Uu=1e3,ls=Uu*60,Js=ls*60,_o=Js*24,mc=_o*7,Mm=_o*30,dg=_o*365,MU=new Date().getTimezoneOffset()*ls;function Xst(t){return Math.floor((t.getTime()-MU)/Uu)}function Zst(t){return new Date(MU+t*Uu)}var Yf=new Wa(Xst,Zst),AU=new Date().getTimezoneOffset()*ls;function qst(t){return Math.floor((t.getTime()-AU)/ls)}function Qst(t){return new Date(AU+t*ls)}var $f=new Wa(qst,Qst),DU=new Date().getTimezoneOffset()*ls;function Jst(t){return Math.floor((t.getTime()-DU)/Js)}function tat(t){return new Date(DU+t*Js)}var Kf=new Wa(Jst,tat);function eat(t){const e=t.getTimezoneOffset()*ls;return Math.floor((t.getTime()-e)/_o)}function iat(t){const e=new Date(1970,0,1);return e.setDate(e.getDate()+t),e}var DM=new Wa(eat,iat);function tp(t){const i=(7+t-4)%7;function n(a){const o=a.getTimezoneOffset()*ls;return Math.floor((a.getTime()-o)/mc-i/7)}function s(a){const o=new Date(1970,0,1);return o.setDate(o.getDate()+a*7+i),o}return new Wa(n,s)}var ax=tp(0),nat=tp(1),sat=tp(2),aat=tp(3),oat=tp(4),rat=tp(5),lat=tp(6);function cat(t){return t.getFullYear()*12+t.getMonth()}function uat(t){const e=Math.floor(t/12),i=t-e*12;return new Date(e,i,1)}var Od=new Wa(cat,uat);function hat(t){return t.getFullYear()}function dat(t){const e=new Date;return e.setFullYear(t),e.setMonth(0,1),e.setHours(0,0,0,0),e}var EA=new Wa(hat,dat);function pat(t){return Math.floor(t.getTime()/ls)}function fat(t){return new Date(t*ls)}var gat=new Wa(pat,fat);function yat(t){return Math.floor(t.getTime()/Js)}function mat(t){return new Date(t*Js)}var xat=new Wa(yat,mat);function bat(t){return Math.floor(t.getTime()/_o)}function vat(t){const e=new Date(0);return e.setUTCDate(e.getUTCDate()+t),e.setUTCHours(0,0,0,0),e}var Sat=new Wa(bat,vat);function Mat(t){return t.getUTCFullYear()*12+t.getUTCMonth()}function Aat(t){const e=Math.floor(t/12),i=t-e*12;return new Date(Date.UTC(e,i,1))}var Dat=new Wa(Mat,Aat);function Iat(t){return t.getUTCFullYear()}function Tat(t){const e=new Date;return e.setUTCFullYear(t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0),e}var Cat=new Wa(Iat,Tat),F0={days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]};function EN(t,e=new Date(t.getFullYear(),0,1)){const i=t.getTimezoneOffset()-e.getTimezoneOffset(),n=t.getTime()-e.getTime()+i*6e4,s=36e5*24;return Math.floor(n/s)}function g_(t,e){const n=new Date(t.getFullYear(),0,1).getDay(),s=(e-n+7)%7,a=new Date(t.getFullYear(),0,s+1);return a<=t?Math.floor(EN(t,a)/7)+1:0}var kat=0,IU=1,y_=4;function TU(t,e=t.getFullYear()){const n=new Date(e,0,1).getDay(),s=(y_-n+7)%7,a=new Date(e,0,s-(y_-IU)+1);return a<=t?Math.floor(EN(t,a)/7)+1:TU(t,e-1)}function Lat(t){const e=t.getTimezoneOffset(),i=Math.abs(e);return`${e>0?"-":"+"}${ss(Math.floor(i/60),2,"0")}${ss(Math.floor(i%60),2,"0")}`}var Nat={a:t=>F0.shortDays[t.getDay()],A:t=>F0.days[t.getDay()],b:t=>F0.shortMonths[t.getMonth()],B:t=>F0.months[t.getMonth()],c:"%x, %X",d:(t,e)=>ss(t.getDate(),2,e??"0"),e:"%_d",f:(t,e)=>ss(t.getMilliseconds()*1e3,6,e??"0"),H:(t,e)=>ss(t.getHours(),2,e??"0"),I:(t,e)=>{const i=t.getHours()%12;return i===0?"12":ss(i,2,e??"0")},j:(t,e)=>ss(EN(t)+1,3,e??"0"),m:(t,e)=>ss(t.getMonth()+1,2,e??"0"),M:(t,e)=>ss(t.getMinutes(),2,e??"0"),L:(t,e)=>ss(t.getMilliseconds(),3,e??"0"),p:t=>t.getHours()<12?"AM":"PM",Q:t=>String(t.getTime()),s:t=>String(Math.floor(t.getTime()/1e3)),S:(t,e)=>ss(t.getSeconds(),2,e??"0"),u:t=>{let e=t.getDay();return e<1&&(e+=7),String(e%7)},U:(t,e)=>ss(g_(t,kat),2,e??"0"),V:(t,e)=>ss(TU(t),2,e??"0"),w:(t,e)=>ss(t.getDay(),2,e??"0"),W:(t,e)=>ss(g_(t,IU),2,e??"0"),x:"%-m/%-d/%Y",X:"%-I:%M:%S %p",y:(t,e)=>ss(t.getFullYear()%100,2,e??"0"),Y:(t,e)=>ss(t.getFullYear(),4,e??"0"),Z:t=>Lat(t),"%":()=>"%"},Eat={_:" ",0:"0","-":""};function ss(t,e,i){const n=String(Math.floor(t));return n.length>=e?n:`${i.repeat(e-n.length)}${n}`}function hb(t){const e=[];for(;t.length>0;){let i=t.indexOf("%");if(i!==0){const r=i>0?t.substring(0,i):t;e.push(r)}if(i<0)break;const n=t[i+1],s=Eat[n];s!=null&&i++;const a=t[i+1],o=Nat[a];if(typeof o=="function")e.push([o,s]);else if(typeof o=="string"){const r=hb(o);e.push([r,s])}else e.push(`${s??""}${a}`);t=t.substring(i+2)}return i=>{const n=typeof i=="number"?new Date(i):i;return e.map(s=>typeof s=="string"?s:s[0](n,s[1])).join("")}}function Is(t){return t instanceof Date?t.getTime():t}function wN(t,e,i){const n=CU(t,e,i),s=hb(n);return a=>s(a)}function CU(t,e,i=0){let n=1/0;for(let h=1;h<t.length;h++)n=Math.min(n,Math.abs(t[h].valueOf()-t[h-1].valueOf()));const[s,a]=e.length===0?[0,0]:Hn([e[0].valueOf(),e[e.length-1].valueOf()]),o=new Date(s).getFullYear(),l=new Date(a).getFullYear()-o>0,c=isFinite(n)?wat(n,t):Oat(t[0]);return Pat(Math.max(c-i,0),l,t)}function wat(t,e){return t<Uu?0:t<ls?1:t<Js?2:t<_o?3:t<mc?4:t<_o*28||t<_o*31&&Rat(e)?5:t<dg?6:7}function Oat(t){return Yf.floor(t)<t?0:$f.floor(t)<t?1:Kf.floor(t)<t?2:DM.floor(t)<t?3:Od.floor(t)<t?ax.floor(t)<t?4:5:EA.floor(t)<t?6:7}function Rat(t){let e=new Date(t[0]).getMonth();for(let i=1;i<t.length;i++){const n=new Date(t[i]).getMonth();if(e===n)return!0;e=n}return!1}function Pat(t,e,i){const n=Is(i[0]),s=Is(i.at(-1)),a=Math.abs(s-n),o=e||t===7,r=a===0,c=[["hour",6*Js,14*_o,3,"%I %p"],["hour",ls,6*Js,3,"%I:%M"],["second",1e3,6*Js,1,":%S"],["ms",0,6*Js,0,".%L"],["am/pm",ls,6*Js,3,"%p"]," ",["day",_o,mc,4,"%a"],["month",r?0:mc,52*mc,5,"%b %d"],["month",5*mc,10*dg,6,"%B"]," ",["year",o?0:dg,1/0,7,"%Y"]].filter(f=>{if(typeof f=="string")return!0;const[y,m,b,S]=f;return S>=t&&m<=a&&a<b}).reduce((f,y)=>(typeof y=="string"?f.result.push(y):f.used.has(y[0])||(f.result.push(y),f.used.add(y[0])),f),{result:[],used:new Set}).result,h=c.findIndex(f=>typeof f!="string"),p=c.findLastIndex(f=>typeof f!="string");return c.slice(h,p+1).map(f=>typeof f=="string"?f:f[4]).join("").replaceAll(/\s+/g," ").trim()}var Sg=(t,e)=>{const i=Symbol(String(e));t[i]=void 0,Object.defineProperty(t,e,{get(){return this[i]},set(n){this[i]!==n&&(this[i]=n,this.invalid=!0)},enumerable:!0,configurable:!1})};function kU(t,e,i){if(i==null||i[0]===0&&i[1]===1)return t;const n=Jt(0,Math.floor(i[0]*t.length),t.length),s=Jt(0,Math.ceil(i[1]*t.length),t.length),a=e?t.length-s:n,o=e?t.length-n:s;return t.slice(a,o)}var wA=class LU extends NA{constructor(){super(...arguments),this.invalid=!0,this.range=[0,1],this.round=!1,this.interval=void 0,this._bandwidth=1,this._step=1,this._inset=1,this._rawBandwidth=1,this._paddingInner=0,this._paddingOuter=0}static is(e){return e instanceof LU}get bandwidth(){return this.refresh(),this._bandwidth}get step(){return this.refresh(),this._step}get inset(){return this.refresh(),this._inset}get rawBandwidth(){return this.refresh(),this._rawBandwidth}set padding(e){e=Jt(0,e,1),this._paddingInner=e,this._paddingOuter=e}get padding(){return this._paddingInner}set paddingInner(e){this.invalid=!0,this._paddingInner=Jt(0,e,1)}get paddingInner(){return this._paddingInner}set paddingOuter(e){this.invalid=!0,this._paddingOuter=Jt(0,e,1)}get paddingOuter(){return this._paddingOuter}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&It.warnOnce("Expected update to not invalidate scale"))}ticks(e,i=this.domain,n){return kU(i,!1,n)}convert(e,i){this.refresh();const n=this.getIndex(e);return n==null||n<0||n>=this.domain.length?NaN:this.ordinalRange(n)}invertNearestIndex(e){this.refresh();const{domain:i}=this;if(i.length===0)return-1;let n=0,s=i.length-1,a=1/0,o=0;for(;n<=s;){const r=(s+n)/2|0,l=this.ordinalRange(r),c=Math.abs(l-e);if(c===0)return r;c<a&&(a=c,o=r),l<e?n=r+1:s=r-1}return o}update(){const e=this.domain.length;if(e===0)return;const[i,n]=this.range;let{_paddingInner:s}=this;const{_paddingOuter:a,round:o}=this,r=n-i;let l;e===1?(s=0,l=r*(1-a*2)):l=r/Math.max(1,e-s+a*2);const c=o?Math.floor(l):l;let h=i+(r-c*(e-s))/2,p=c*(1-s);o&&(h=Math.round(h),p=Math.round(p)),this._step=c,this._inset=h,this._bandwidth=p,this._rawBandwidth=l*(1-s)}ordinalRange(e){const{_inset:i,_step:n,range:s}=this,a=Math.min(s[0],s[1]),o=Math.max(s[0],s[1]);return Jt(a,i+n*e,o)}};N([Sg],wA.prototype,"range",2);N([Sg],wA.prototype,"round",2);N([Sg],wA.prototype,"interval",2);var db=wA,pb=class extends db{constructor(){super(...arguments),this.type="band",this.index=void 0,this._domain=[]}set domain(e){this._domain!==e&&(this.invalid=!0,this._domain=e,this.index=void 0)}get domain(){return this._domain}normalizeDomains(...e){let i;const n=new Set;let s=!0;for(const a of e)n.has(a)||(n.add(a),i==null?i=m_(a):(s&&(s=Bat(a,i)),i=m_([...i,...a])));return i??(i=[]),{domain:i,animatable:s}}toDomain(e){}invert(e,i=!1){this.refresh();const n=i?this.bandwidth/2:0,s=this.invertNearestIndex(Math.max(0,e-n));return i||e===this.ordinalRange(s)?this.domain[s]:void 0}getIndex(e){let{index:i}=this;if(i==null){const{domain:n}=this;i=new Map;for(let s=0;s<n.length;s++)i.set(Is(n[s]),s);this.index=i}return i.get(Is(e))}};function m_(t){let e;const i=new Set;for(const n of t){const s=Is(n),a=i.size;i.add(s),i.size!==a?e==null||e.push(n):e??(e=t.slice(0,i.size))}return e??t}function Bat(t,e){let i=-1;for(const n of t){const s=e.indexOf(n);if(s===-1)i=1/0;else{if(s<=i)return!1;i=s}}return!0}var Qt=class{set(e){const{className:i=this.constructor.name}=this.constructor;if(typeof e!="object")return It.warn(`unable to set ${i} - expecting a properties object`),this;const n=new Set(Object.keys(e));for(const s of Vd(this))if(n.has(s)){const a=e[s],o=this;if(pl(o[s]))if(o[s]instanceof fb){const r=o[s].reset(a);r!=null?o[s]=r:It.warn(`unable to set [${s}] - expecting a properties array`)}else o[s].set(a);else o[s]=a;n.delete(s)}for(const s of n)It.warn(`unable to set [${s}] in ${i} - property is unknown`);return this}isValid(e){return Vd(this).every(i=>{const{optional:n}=zst(this,i),s=n===!0||typeof this[i]<"u";return s||It.warnOnce(`${e??""}[${i}] is required.`),s})}toJson(){return Vd(this).reduce((e,i)=>{const n=this[i];return e[i]=pl(n)?n.toJson():n,e},{})}},fb=class NU extends Array{constructor(e,...i){super(i.length);const s=(a=>{var o,r;return!!((r=(o=a==null?void 0:a.prototype)==null?void 0:o.constructor)!=null&&r.name)})(e)?a=>new e().set(a):e;Object.defineProperty(this,"itemFactory",{value:s,enumerable:!1,configurable:!1}),this.set(i)}set(e){if(oi(e)){this.length=e.length;for(let i=0;i<e.length;i++)this[i]=this.itemFactory(e[i])}return this}reset(e){if(Array.isArray(e))return new NU(this.itemFactory,...e)}toJson(){return this.map(e=>{var i;return((i=e==null?void 0:e.toJson)==null?void 0:i.call(e))??e})}};function pl(t){return t instanceof Qt||t instanceof fb}function P(t,e={}){const{optional:i=!1,property:n}=e;return Cc((s,a,o)=>{const r={...e,target:s,property:a};if(i&&typeof o>"u"||t(o,r))return pl(s[a])&&!pl(o)?(s[a].set(o),s[a]):o;const l=n??String(a).replace(/^_*/,""),c=s.constructor.className??s.constructor.name.replace(/Properties$/,""),h=nx(o,50);return It.warn(`Property [${l}] of [${c}] cannot be set to [${h}]${t.message?`; expecting ${xb(t,r)}`:""}, ignoring.`),SM},void 0,{optional:i})}var xl=(...t)=>{const e=[];return Ge((i,n)=>(e.length=0,t.every(s=>{const a=s(i,n);return a||e.push(xb(s,n)),a})),()=>e.filter(Boolean).join(" AND "))},hh=(...t)=>Ge((e,i)=>t.some(n=>n(e,i)),e=>t.map(Yat(e)).filter(Boolean).join(" OR ")),Lt=_N(Ge((t,e)=>pl(t)||Un(t)&&pl(e.target[e.property]),"a properties object")),EU=_N(Ge(t=>Un(t),"an object")),Gt=Ge(eU,"a boolean"),ea=Ge(Jd,"a function"),Dt=Ge(ba,"a string"),fe=Kat(Ge(xe,"a number")),wU=Ge(t=>Oo(t)&&!isNaN(t),"a real number"),OA=Ge(t=>Oo(t)&&isNaN(t),"NaN"),Ct=fe.restrict({min:0}),Re=fe.restrict({min:0,max:1}),Mg=hh(fe,OA),gb=$at(Ge(oi,"an array")),wc=(t,e)=>Ge((i,n)=>oi(i)&&i.every(s=>t(s,n)),i=>{const n=xb(gb,i)??"";return typeof e=="function"?`${n} of ${e(i)}`:e?`${n} of ${e}`:n}),IM=t=>xe(t)||cb(t),yb=t=>Ge((e,i)=>!IM(e)||!IM(i.target[t])||e<i.target[t],`to be less than ${t}`),mb=t=>Ge((e,i)=>!IM(e)||!IM(i.target[t])||e>i.target[t],`to be greater than ${t}`),ON=Ge(cb,"Date object"),RN=hh(ON,Ct),OU="A color string can be in one of the following formats to be valid: #rgb, #rrggbb, rgb(r, g, b), rgba(r, g, b, a) or a CSS color name such as 'white', 'orange', 'cyan', etc",ke=Ge(t=>ba(t)&&Ii.validColorString(t),`color String. ${OU}`),RU=_N(Ge(t=>Un(t)&&t.type==="gradient","a color gradient object")),Ya=Ge(wc(ke),`color strings. ${OU}`),zat=wc(Gt,"boolean values"),RA=wc(fe,"numbers"),PU=wc(Dt,"strings"),_at=Ge(wc(ON),"Date objects"),PN=Ge(wc(Lt),"objects"),jat=Je(["butt","round","square"],"a line cap"),Fat=Je(["round","bevel","miter"],"a line join"),Gat=Je(["solid","dashed","dotted"],"a line style"),bl=Ge(wc(Ct),"numbers specifying the length in pixels of alternating dashes and gaps, for example, [6, 3] means dashes with a length of 6 pixels with gaps between of 3 pixels."),BN=Je(["top","right","bottom","left"],"a position"),Oc=Je(["normal","italic","oblique"],"a font style"),Rc=hh(Je(["normal","bold","bolder","lighter"],"a font weight"),fe.restrict({min:1,max:1e3})),PA=Je(["never","always","hyphenate","on-space"],"a text wrap strategy"),BU=Je(["left","center","right"],"a text align"),Vat=Je(["top","middle","bottom"],"a vertical align"),Uat=Je(["ellipsis","hide"],"an overflow strategy"),zU=Je(["horizontal","vertical"],"a direction"),Hat=Je(["inside","outside"],"a placement"),BA=hh(Je(["exact","nearest"],"interaction range"),fe),zN=Je(["top","bottom","left","right"]);function Je(t,e="a"){return Ge((i,n)=>{const s=t.find(a=>{const o=typeof a=="string"?a:a.value;return i===o});if(s==null)return!1;if(typeof s!="string"&&(s.deprecated===!0||s.deprecatedTo!=null)){const a=[`Property [%s] with value '${s.value}' is deprecated.`];s.deprecatedTo&&a.push(`Use ${s.deprecatedTo} instead.`),It.warnOnce(a.join(" "),n.property)}return!0},`${e} keyword such as ${Wat(t)}`)}var _U=hh(xl(fe.restrict({min:1}),yb("maxSpacing")),OA),jU=hh(xl(fe.restrict({min:1}),mb("minSpacing")),OA);function Ge(t,e){return t.message=e,t}function Wat(t){const e=t.filter(n=>typeof n=="string"||n.undocumented!==!0).map(n=>`'${typeof n=="string"?n:n.value}'`);if(e.length===1)return e[0];const i=e.pop();return`${e.join(", ")} or ${i}`}function xb(t,e){return Jd(t.message)?t.message(e):t.message}function Yat(t){return e=>xb(e,t)}function $at(t){return Object.assign(t,{restrict({length:e,minLength:i}={}){let n="an array";return Oo(i)&&i>0?n="a non-empty array":Oo(e)&&(n=`an array of length ${e}`),Ge(s=>oi(s)&&(Oo(e)?s.length===e:!0)&&(Oo(i)?s.length>=i:!0),n)}})}function Kat(t){return Object.assign(t,{restrict({min:e,max:i}={}){const n=["a number"],s=Oo(e),a=Oo(i);return s&&a?n.push(`between ${e} and ${i} inclusive`):s?n.push(`greater than or equal to ${e}`):a&&n.push(`less than or equal to ${i}`),Ge(o=>xe(o)&&(s?o>=e:!0)&&(a?o<=i:!0),n.join(" "))}})}function _N(t){return Object.assign(t,{restrict(e){return Ge(i=>i instanceof e,i=>xb(t,i)??`an instance of ${e.name}`)}})}var FU={};Ho(FU,{resetMotion:()=>Vn});function Vn(t,e){const{nodes:i,selections:n}=LA(t);for(const s of n){for(const a of s.nodes()){const o=e(a,a.datum);a.setProperties(o)}s.cleanup()}for(const s of i){const a=e(s,s.datum);s.setProperties(a)}}var Xat=2e3,x_=Date.now(),Zat=()=>{const t=Date.now()-x_;if(t>Xat){const e=(Math.floor(t/100)/10).toFixed(1);It.log(`**** ${e}s since last log message ****`)}x_=Date.now()},Qe={create(...t){return Object.assign((...i)=>{Qe.check(...t)&&(typeof i[0]=="function"&&(i=bM(i[0]())),Zat(),It.log(...i))},{check:()=>Qe.check(...t),group:(i,n)=>Qe.check(...t)?It.logGroup(i,n):n()})},check(...t){return t.length===0&&t.push(!0),bM(ai("agChartsDebug")).some(i=>t.includes(i))}};function GU({context:t,pixelRatio:e,width:i,height:n}){t.save(),t.resetTransform(),t.clearRect(0,0,Math.ceil(i*e),Math.ceil(n*e)),t.restore()}function VU(t){if(Qe.check("canvas")){const e=t.save.bind(t),i=t.restore.bind(t);let n=0;Object.assign(t,{save(){e(),n++},restore(){if(n===0)throw new Error("AG Charts - Unable to restore() past depth 0");i(),n--},verifyDepthZero(){if(n!==0)throw new Error(`AG Charts - Save/restore depth is non-zero: ${n}`)}})}}function b_(t,e,i){return[Math.round(t*i),Math.round(e*i)]}var UU=class{constructor(t){const{width:e,height:i,pixelRatio:n,willReadFrequently:s=!1}=t;this.width=e,this.height=i,this.pixelRatio=n;const[a,o]=b_(e,i,n);this.canvas=new OffscreenCanvas(a,o),this.context=this.canvas.getContext("2d",{willReadFrequently:s}),this.context.setTransform(n,0,0,n,0,0),VU(this.context)}drawImage(t,e=0,i=0){return t.drawImage(this.canvas,e,i)}transferToImageBitmap(){return this.canvas.transferToImageBitmap()}resize(t,e,i){if(!(t>0&&e>0))return;const{canvas:n,context:s}=this;if(t!==this.width||e!==this.height||i!==this.pixelRatio){const[a,o]=b_(t,e,i);n.width=a,n.height=o}s.setTransform(i,0,0,i,0,0),this.width=t,this.height=e,this.pixelRatio=i}clear(){GU(this)}destroy(){this.canvas.width=0,this.canvas.height=0,this.context.clearRect(0,0,0,0),this.canvas=null,this.context=null,Object.freeze(this)}},v_=t=>{const e=Ii.fromString(t),[i,n,s]=Ii.RGBtoOKLCH(e.r,e.g,e.b);return{l:i,c:n,h:s,a:e.a}},c1=1e-6,S_=t=>t.c<c1||t.l<c1||t.l>1-c1,qat=(t,e,i)=>{i=Jt(0,i,1);let n;if(S_(t))n=e.h;else if(S_(e))n=t.h;else{const r=t.h;let l=e.h;const c=e.h-t.h;c>180?l-=360:c<-180&&(l+=360),n=r*(1-i)+l*i}const s=t.c*(1-i)+e.c*i,a=t.l*(1-i)+e.l*i,o=t.a*(1-i)+e.a*i;return Ii.fromOKLCH(a,s,n,o)},dh=class extends NA{constructor(){super(...arguments),this.type="color",this.invalid=!0,this.domain=[0,1],this.range=["red","blue"],this.parsedRange=this.range.map(v_)}update(){const{domain:e,range:i}=this;e.length<2&&(It.warnOnce("`colorDomain` should have at least 2 values."),e.length===0?e.push(0,1):e.length===1&&e.push(e[0]+1));for(let n=1;n<e.length;n++){const s=e[n-1],a=e[n];if(s>=a){It.warnOnce("`colorDomain` values should be supplied in ascending order."),e.sort((o,r)=>o-r);break}}if(i.length<e.length)for(let n=i.length;n<e.length;n++)i.push(i.length>0?i[0]:"black");this.parsedRange=this.range.map(v_)}normalizeDomains(...e){return{domain:e.flat(),animatable:!0}}toDomain(){}convert(e){this.refresh();const{domain:i,range:n,parsedRange:s}=this,a=i[0],o=i.at(-1),r=n[0],l=n[n.length-1];if(e<=a)return r;if(e>=o)return l;let c,h;if(i.length===2){const y=(e-a)/(o-a),m=1/(n.length-1);c=n.length<=2?0:Math.min(Math.floor(y*(n.length-1)),n.length-2),h=(y-c*m)/m}else{for(c=0;c<i.length-2&&!(e<i[c+1]);c++);const y=i[c],m=i[c+1];h=(e-y)/(m-y)}const p=s[c],f=s[c+1];return qat(p,f,h).toRgbaString()}invert(){}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&It.warnOnce("Expected update to not invalidate scale"))}};N([Sg],dh.prototype,"domain",2);N([Sg],dh.prototype,"range",2);var zA=class{constructor(t,e=[],i){this.colorSpace=t,this.stops=e,this.bbox=i,this._cache=void 0}createGradient(t,e){const i=this.bbox??e;if(this._cache!=null&&this._cache.ctx===t&&this._cache.bbox.equals(i))return this._cache.gradient;const{stops:n,colorSpace:s}=this;if(n.length===0)return;if(n.length===1)return n[0].color;let a=this.createCanvasGradient(t,i);if(a==null)return;const o=s==="oklch",r=.05;let l=n[0];a.addColorStop(l.offset,l.color);for(let c=1;c<n.length;c+=1){const h=n[c];if(o){const p=new dh;p.domain=[l.offset,h.offset],p.range=[l.color,h.color];for(let f=l.offset+r;f<h.offset;f+=r)a.addColorStop(f,p.convert(f))}a.addColorStop(h.offset,h.color),l=h}return"createPattern"in a&&(a=a.createPattern()),this._cache={ctx:t,bbox:i,gradient:a},a}},Ro=Math.PI*2,Am=Math.PI/2;function si(t){return t%=Ro,t+=Ro,t%=Ro,t}function Qat(t){return t%=Ro,t+=Ro,t!==Ro&&(t%=Ro),t}function Ix(t){return t%=Ro,t<-Math.PI?t+=Ro:t>=Math.PI&&(t-=Ro),t}function Hu(t,e,i){const n=si(t),s=si(e),a=si(i);return s<a?s<=n&&n<=a:s>a?s<=n||n<=a:!0}function bn(t){return t/180*Math.PI}function Jat(t){return t/Math.PI*180}function _A(t,e){return t=si(t),e=si(e),e-t+(t>e?Ro:0)}function HU(t){const e=si(t);return e<=Am?e/Am:e<=Math.PI?(Math.PI-e)/Am:e<=1.5*Math.PI?(e-Math.PI)/Am:(Ro-e)/Am}var lL=class extends zA{constructor(e,i,n=0,s){super(e,i,s),this.angle=n}createCanvasGradient(e,i){const{angle:s}=this,a=si(bn(s+90)),o=Math.cos(a),r=Math.sin(a),l=i.width,c=i.height,h=i.x+l*.5,p=i.y+c*.5,f=Math.sqrt(c*c+l*l)/2,y=Math.atan2(c,l);let m;a<Math.PI/2?m=a:a<Math.PI?m=Math.PI-a:a<1.5*Math.PI?m=a-Math.PI:m=2*Math.PI-a;const b=f*Math.abs(Math.cos(m-y));return e.createLinearGradient(h+o*b,p+r*b,h-o*b,p-r*b)}},jN=class extends Qt{constructor(){super(...arguments),this.color="black"}};N([P(fe,{optional:!0})],jN.prototype,"stop",2);N([P(ke,{optional:!0})],jN.prototype,"color",2);function tot(t){let e;for(const{stop:i}of t)if(i!=null){if(e!=null&&i<e)return!1;e=i}return!0}function WU(t){return t.flatMap((e,i)=>{var a;const{offset:n}=e,s=(a=t.at(i+1))==null?void 0:a.color;return s!=null?[e,{offset:n,color:s}]:[e]})}function eot(t,e){const i=e==="discrete"?1:0,n=t.map((s,a,{length:o})=>({offset:(a+i)/(o-1+i),color:s}));return e==="discrete"?WU(n):n}function YU(t,e,i,n="continuous"){var y;if(t.length===0)return eot(e,n);if(!tot(t))return It.warnOnce("[fills] must have the stops defined in ascending order"),[];const s=Math.min(...i),a=Math.max(...i),o=n==="discrete",r=new Float64Array(t.length);let l=0,c=-1;for(let m=0;m<t.length;m+=1){const b=t[m];if(m>=c){c=t.length-1;for(let v=m+1;v<t.length;v+=1)if(t[v].stop!=null){c=v;break}}let{stop:S}=b;if(S==null){const v=t[l].stop,D=t[c].stop,I=v??s,T=D??a,k=o&&v==null?1:0;S=I+(T-I)*(m-l+k)/(c-l+k)}else l=m;r[m]=Math.max(0,Math.min(1,(S-s)/(a-s)))}let h=(y=t.find(m=>m.color!=null))==null?void 0:y.color,p;const f=t.map(({color:m},b)=>{const S=r[b];return m!=null?h=m:h!=null?m=h:(p==null&&(p=new dh,p.domain=[0,1],p.range=e),m=p.convert(S)),{offset:S,color:m}});return n==="discrete"?WU(f):f}function $U(t){return t!==null&&Un(t)&&t.type=="gradient"}function ac(t,e,i){const n=Math.round(e*t)/t;return i==null?n:i===0?0:i<1?Math.ceil(i*t)/t:Math.round((i+e)*t)/t-n}function M_(t,e){return Math.floor(e*t)/t}var iot=/^linear-gradient\((-?[\d.]+)deg,(.*?)\)$/i,ia=class ur extends lh{constructor(){super(...arguments),this.fillOpacity=1,this.strokeOpacity=1,this.fill=ur.defaultStyles.fill,this.stroke=ur.defaultStyles.stroke,this.strokeWidth=ur.defaultStyles.strokeWidth,this.lineDash=ur.defaultStyles.lineDash,this.lineDashOffset=ur.defaultStyles.lineDashOffset,this.lineCap=ur.defaultStyles.lineCap,this.lineJoin=ur.defaultStyles.lineJoin,this.miterLimit=void 0,this.opacity=ur.defaultStyles.opacity,this.fillShadow=ur.defaultStyles.fillShadow,this.gradientFillOptions={domain:[0,1],defaultColorRange:ur.defaultStyles.defaultColorRange}}restoreOwnStyles(){const{defaultStyles:e}=this.constructor;Object.assign(this,e)}getGradient(e){let i;if(e instanceof zA)return e;if(typeof e=="string"&&(e!=null&&e.startsWith("linear-gradient"))&&(i=iot.exec(e))){const n=parseFloat(i[1]),s=[],a=i[2],o=/(#[0-9a-f]+)|(rgba?\(.+?\))|([a-z]+)/gi;let r;for(;r=o.exec(a);)s.push(r[0]);return new lL("rgb",s.map((l,c)=>({color:l,offset:c/(s.length-1)})),n)}else if($U(e))return this.createLinearGradient(e)}createLinearGradient(e){const{colorStops:i=[],direction:n}=e,s=n==="horizontal",{domain:a,defaultColorRange:o=[]}=this.gradientFillOptions,r=YU(i,o,a);return new lL("oklch",r,s?0:90)}onFillChange(){this.fillGradient=this.getGradient(this.fill)}onStrokeChange(){this.strokeGradient=this.getGradient(this.stroke)}align(e,i){var n,s;return ac(((s=(n=this.layerManager)==null?void 0:n.canvas)==null?void 0:s.pixelRatio)??1,e,i)}fillStroke(e,i){this.renderFill(e,i),this.renderStroke(e,i)}renderFill(e,i){if(this.fill){const{globalAlpha:n}=e;this.applyFill(e),this.applyFillAlpha(e),this.applyShadow(e),this.executeFill(e,i),e.globalAlpha=n}e.shadowColor="rgba(0, 0, 0, 0)"}executeFill(e,i){i?e.fill(i):e.fill()}applyFill(e){var n;const i=this.gradientFillOptions.bbox??this.getBBox();e.fillStyle=((n=this.fillGradient)==null?void 0:n.createGradient(e,i))??(typeof this.fill=="string"?this.fill:void 0)??"black"}applyStroke(e){var i;e.strokeStyle=((i=this.strokeGradient)==null?void 0:i.createGradient(e,this.getBBox()))??(typeof this.stroke=="string"?this.stroke:void 0)??"black"}applyFillAlpha(e){e.globalAlpha*=this.opacity*this.fillOpacity}applyShadow(e){var s;const i=((s=this.layerManager)==null?void 0:s.canvas.pixelRatio)??1,n=this.fillShadow;n!=null&&n.enabled&&(e.shadowColor=n.color,e.shadowOffsetX=n.xOffset*i,e.shadowOffsetY=n.yOffset*i,e.shadowBlur=n.blur*i)}renderStroke(e,i){if(this.stroke&&this.strokeWidth){const{globalAlpha:n}=e;this.applyStroke(e),e.globalAlpha*=this.opacity*this.strokeOpacity,e.lineWidth=this.strokeWidth,this.lineDash&&e.setLineDash(this.lineDash),this.lineDashOffset&&(e.lineDashOffset=this.lineDashOffset),this.lineCap&&(e.lineCap=this.lineCap),this.lineJoin&&(e.lineJoin=this.lineJoin),this.miterLimit!=null&&(e.miterLimit=this.miterLimit),this.executeStroke(e,i),e.globalAlpha=n}}executeStroke(e,i){i?e.stroke(i):e.stroke()}containsPoint(e,i){return this.isPointInPath(e,i)}applySvgFillAttributes(e){const{fill:i,fillOpacity:n}=this;e.setAttribute("fill",typeof i=="string"?i:"none"),e.setAttribute("fill-opacity",String(n))}applySvgStrokeAttributes(e){const{stroke:i,strokeOpacity:n,strokeWidth:s,lineDash:a,lineDashOffset:o}=this;if(i!=null&&(e.setAttribute("stroke",typeof i=="string"?i:"none"),e.setAttribute("stroke-opacity",String(n)),e.setAttribute("stroke-width",String(s))),(a==null?void 0:a.some(r=>r!==0))===!0){const r=a.length%2===1?[...a,...a]:a;e.setAttribute("stroke-dasharray",r.join(" ")),e.setAttribute("stroke-dashoffset",String(o))}}};ia.defaultStyles={fill:"black",stroke:void 0,strokeWidth:0,lineDash:void 0,lineDashOffset:0,lineCap:void 0,lineJoin:void 0,opacity:1,fillShadow:void 0,defaultColorRange:["#5090dc","#ef5452"]};N([Et()],ia.prototype,"fillOpacity",2);N([Et()],ia.prototype,"strokeOpacity",2);N([Et({changeCb:t=>t.onFillChange()})],ia.prototype,"fill",2);N([Et({changeCb:t=>t.onStrokeChange()})],ia.prototype,"stroke",2);N([Et()],ia.prototype,"strokeWidth",2);N([Et()],ia.prototype,"lineDash",2);N([Et()],ia.prototype,"lineDashOffset",2);N([Et()],ia.prototype,"lineCap",2);N([Et()],ia.prototype,"lineJoin",2);N([Et()],ia.prototype,"miterLimit",2);N([Et({convertor:t=>Jt(0,t,1)})],ia.prototype,"opacity",2);N([Et({checkDirtyOnAssignment:!0})],ia.prototype,"fillShadow",2);N([Et({changeCb:t=>t.onFillChange()})],ia.prototype,"gradientFillOptions",2);var Go=ia,KU=[1,0,0,1,0,0],Sr=class QS{get e(){return[...this.elements]}constructor(e=KU){this.elements=[...e]}setElements(e){const i=this.elements;return i[0]=e[0],i[1]=e[1],i[2]=e[2],i[3]=e[3],i[4]=e[4],i[5]=e[5],this}get identity(){const e=this.elements;return hr(e[0],1)&&hr(e[1],0)&&hr(e[2],0)&&hr(e[3],1)&&hr(e[4],0)&&hr(e[5],0)}AxB(e,i,n){const s=e[0]*i[0]+e[2]*i[1],a=e[1]*i[0]+e[3]*i[1],o=e[0]*i[2]+e[2]*i[3],r=e[1]*i[2]+e[3]*i[3],l=e[0]*i[4]+e[2]*i[5]+e[4],c=e[1]*i[4]+e[3]*i[5]+e[5];n=n??e,n[0]=s,n[1]=a,n[2]=o,n[3]=r,n[4]=l,n[5]=c}multiplySelf(e){return this.AxB(this.elements,e.elements),this}multiply(e){const i=new Array(6);return e instanceof QS?this.AxB(this.elements,e.elements,i):this.AxB(this.elements,[e.a,e.b,e.c,e.d,e.e,e.f],i),new QS(i)}preMultiplySelf(e){return this.AxB(e.elements,this.elements,this.elements),this}inverse(){const e=this.elements;let i=e[0],n=e[1],s=e[2],a=e[3];const o=e[4],r=e[5],l=1/(i*a-n*s);return i*=l,n*=l,s*=l,a*=l,new QS([a,-n,-s,i,s*r-a*o,n*o-i*r])}invertSelf(){const e=this.elements;let i=e[0],n=e[1],s=e[2],a=e[3];const o=e[4],r=e[5],l=1/(i*a-n*s);return i*=l,n*=l,s*=l,a*=l,e[0]=a,e[1]=-n,e[2]=-s,e[3]=i,e[4]=s*r-a*o,e[5]=n*o-i*r,this}transformPoint(e,i){const n=this.elements;return{x:e*n[0]+i*n[2]+n[4],y:e*n[1]+i*n[3]+n[5]}}transformBBox(e,i){const n=this.elements,s=n[0],a=n[1],o=n[2],r=n[3],l=e.width*.5,c=e.height*.5,h=e.x+l,p=e.y+c,f=Math.abs(l*s)+Math.abs(c*o),y=Math.abs(l*a)+Math.abs(c*r);return i??(i=new Rt(0,0,0,0)),i.x=h*s+p*o+n[4]-f,i.y=h*a+p*r+n[5]-y,i.width=f+f,i.height=y+y,i}toContext(e){if(this.identity)return;const i=this.elements;e.transform(i[0],i[1],i[2],i[3],i[4],i[5])}static updateTransformMatrix(e,i,n,s,a,o,r){const l=i,c=n;let h,p;l===1&&c===1?(h=0,p=0):(h=(r==null?void 0:r.scalingCenterX)??0,p=(r==null?void 0:r.scalingCenterY)??0);const f=s,y=Math.cos(f),m=Math.sin(f);let b,S;f===0?(b=0,S=0):(b=(r==null?void 0:r.rotationCenterX)??0,S=(r==null?void 0:r.rotationCenterY)??0);const v=a,D=o,I=h*(1-l)-b,T=p*(1-c)-S;return e.setElements([y*l,m*l,-m*c,y*c,y*I-m*T+b+v,m*I+y*T+S+D]),e}};function Lu(t){return ZU(t.constructor)}var XU=Symbol("isMatrixTransform");function ZU(t){return t[XU]===!0}function FN(t){var e,i;const n=t;if(ZU(t))return t;const s=Symbol("matrix_combined_transform");class a extends n{constructor(){super(...arguments),this[i]=new Sr,this._dirtyTransform=!0}markDirtyTransform(){this._dirtyTransform=!0,super.markDirty()}updateMatrix(r){}computeTransformMatrix(){this._dirtyTransform&&(this[s].setElements(KU),this.updateMatrix(this[s]),this._dirtyTransform=!1)}toParent(r){return this.computeTransformMatrix(),this[s].identity?r.clone():this[s].transformBBox(r)}toParentPoint(r,l){return this.computeTransformMatrix(),this[s].identity?{x:r,y:l}:this[s].transformPoint(r,l)}fromParent(r){return this.computeTransformMatrix(),this[s].identity?r.clone():this[s].inverse().transformBBox(r)}fromParentPoint(r,l){return this.computeTransformMatrix(),this[s].identity?{x:r,y:l}:this[s].inverse().transformPoint(r,l)}computeBBox(){const r=super.computeBBox();return r&&this.toParent(r)}computeBBoxWithoutTransforms(){return super.computeBBox()}pickNode(r,l,c=!1){return c||({x:r,y:l}=this.fromParentPoint(r,l)),super.pickNode(r,l)}render(r){this.computeTransformMatrix();const{ctx:l}=r,c=this[s];let h=!1;c.identity||(l.save(),h=!0,c.toContext(l)),super.render(r),h&&l.restore()}toSVG(){this.computeTransformMatrix();const r=super.toSVG(),l=this[s];if(l.identity||r==null)return r;const c=zo("g");c.append(...r.elements);const[h,p,f,y,m,b]=l.e;return c.setAttribute("transform",`matrix(${h} ${p} ${f} ${y} ${m} ${b})`),{elements:[c],defs:r.defs}}}return e=XU,i=s,a[e]=!0,a}function Ag(t){var e;const i=t,n=Symbol("matrix_rotation");class s extends FN(i){constructor(){super(...arguments),this[e]=new Sr,this.rotationCenterX=null,this.rotationCenterY=null,this.rotation=0}updateMatrix(o){super.updateMatrix(o);const{rotation:r,rotationCenterX:l,rotationCenterY:c}=this;r!==0&&(Sr.updateTransformMatrix(this[n],1,1,r,0,0,{rotationCenterX:l,rotationCenterY:c}),o.multiplySelf(this[n]))}}return e=n,N([Et({type:"transform"})],s.prototype,"rotationCenterX",2),N([Et({type:"transform"})],s.prototype,"rotationCenterY",2),N([Et({type:"transform"})],s.prototype,"rotation",2),s}function GN(t){var e;const i=t,n=Symbol("matrix_scale");class s extends FN(i){constructor(){super(...arguments),this[e]=new Sr,this.scalingX=1,this.scalingY=1,this.scalingCenterX=null,this.scalingCenterY=null}updateMatrix(o){super.updateMatrix(o);const{scalingX:r,scalingY:l,scalingCenterX:c,scalingCenterY:h}=this;r===1&&l===1||(Sr.updateTransformMatrix(this[n],r,l,0,0,0,{scalingCenterX:c,scalingCenterY:h}),o.multiplySelf(this[n]))}}return e=n,N([Et({type:"transform"})],s.prototype,"scalingX",2),N([Et({type:"transform"})],s.prototype,"scalingY",2),N([Et({type:"transform"})],s.prototype,"scalingCenterX",2),N([Et({type:"transform"})],s.prototype,"scalingCenterY",2),s}function ep(t){var e;const i=t,n=Symbol("matrix_translation");class s extends FN(i){constructor(){super(...arguments),this[e]=new Sr,this.translationX=0,this.translationY=0}updateMatrix(o){super.updateMatrix(o);const{translationX:r,translationY:l}=this;r===0&&l===0||(Sr.updateTransformMatrix(this[n],1,1,0,r,l),o.multiplySelf(this[n]))}}return e=n,N([Et({type:"transform"})],s.prototype,"translationX",2),N([Et({type:"transform"})],s.prototype,"translationY",2),s}var Ni=class{static fromCanvas(e,i){const n=[];for(const s of e.traverseUp())Lu(s)&&n.unshift(s);for(const s of n)i=s.fromParent(i);return Lu(e)&&(i=e.fromParent(i)),i}static toCanvas(e,i){i==null?i=e.getBBox():Lu(e)&&(i=e.toParent(i));for(const n of e.traverseUp())Lu(n)&&(i=n.toParent(i));return i}static fromCanvasPoint(e,i,n){const s=[];for(const a of e.traverseUp())Lu(a)&&s.unshift(a);for(const a of s)({x:i,y:n}=a.fromParentPoint(i,n));return Lu(e)&&({x:i,y:n}=e.fromParentPoint(i,n)),{x:i,y:n}}static toCanvasPoint(e,i,n){Lu(e)&&({x:i,y:n}=e.toParentPoint(i,n));for(const s of e.traverseUp())Lu(s)&&({x:i,y:n}=s.toParentPoint(i,n));return{x:i,y:n}}},u1=(t,e)=>Math.sign(t-e);function qU(t,e){if(typeof t=="number"&&typeof e=="number")return u1(t,e);const i=typeof t=="number"?[t]:t,n=typeof e=="number"?[e]:e,s=Math.min(i.length,n.length);for(let a=0;a<s;a+=1){const o=u1(i[a],n[a]);if(o!==0)return o}return u1(i.length,n.length)}var Dm,VN=class Wm extends lh{constructor(e){super(e),this.opacity=1,this.renderToOffscreenCanvas=!1,this.optimizeForInfrequentRedraws=!1,this.layer=void 0,this.image=void 0,this._lastWidth=NaN,this._lastHeight=NaN,this._lastDevicePixelRatio=NaN,this.isContainerNode=!0,this.renderToOffscreenCanvas=(e==null?void 0:e.renderToOffscreenCanvas)===!0}static is(e){return e instanceof Wm}static computeChildrenBBox(e,i=!0){return Rt.merge(lh.extractBBoxes(e,i))}static compareChildren(e,i){return qU(e.zIndex,i.zIndex)||e.serialNumber-i.serialNumber}containsPoint(e,i){return!0}computeBBox(){return Wm.computeChildrenBBox(this.children())}computeSafeClippingBBox(e){const i=this.computeBBox();if(!i.isFinite())return;let n=0;const s=4;for(const f of this.descendants())f instanceof Go&&(n=Math.max(n,f.strokeWidth));const a=Math.max(1,n/2*s),{x:o,y:r}=Ni.toCanvasPoint(this,0,0),l=M_(e,o+i.x-a)-o,c=M_(e,r+i.y-a)-r,h=Math.ceil(i.x+i.width-l+a),p=Math.ceil(i.y+i.height-c+a);return new Rt(l,c,h,p)}prepareSharedCanvas(e,i,n){return Dm==null||Dm.pixelRatio!==n?Dm=new UU({width:e,height:i,pixelRatio:n}):Dm.resize(e,i,n),Dm}isDirty(e){const{width:i,height:n,devicePixelRatio:s}=e,{dirty:a,dirtyZIndex:o,layer:r}=this,l=r!=null&&(this._lastWidth!==i||this._lastHeight!==n),c=this._lastDevicePixelRatio!==s;if(this._lastWidth=i,this._lastHeight=n,this._lastDevicePixelRatio=s,a||o||l||c)return!0;for(const h of this.children())if(h.dirty)return!0;return!1}preRender(e){var n,s;const i=super.preRender(e,0);return i.groups+=1,i.nonGroups-=1,this.renderToOffscreenCanvas&&!this.optimizeForInfrequentRedraws&&i.nonGroups>0&&this.getVisibility()?this.layer??(this.layer=(n=this._layerManager)==null?void 0:n.addLayer({name:this.name})):this.layer!=null&&((s=this._layerManager)==null||s.removeLayer(this.layer),this.layer=void 0),i}render(e){const{layer:i,renderToOffscreenCanvas:n}=this,s={...e};if(!n){this.renderInContext(s),super.render(s);return}const{ctx:a,stats:o,devicePixelRatio:r}=e;let{image:l}=this;if(this.isDirty(e)){l==null||l.bitmap.close(),l=void 0;const h=i?void 0:this.computeSafeClippingBBox(r),p=(f,...y)=>{var b;const m=f.context;s.ctx=m,f.clear(),m.save(),m.setTransform(...y),m.globalAlpha=1,this.renderInContext(s),m.restore(),(b=m.verifyDepthZero)==null||b.call(m)};if(i)p(i,a.getTransform());else if(h){const{x:f,y,width:m,height:b}=h,S=this.prepareSharedCanvas(m,b,r);p(S,r,0,0,r,-f*r,-y*r),l={bitmap:S.transferToImageBitmap(),x:f,y,width:m,height:b}}else this.dirtyZIndex&&this.sortChildren(Wm.compareChildren);this.image=l,o&&o.layersRendered++}else this.skipRender(s),o&&o.layersSkipped++;const{globalAlpha:c}=a;if(a.globalAlpha=c*this.opacity,i)a.save(),a.resetTransform(),i.drawImage(a),a.restore();else if(l){const{bitmap:h,x:p,y:f,width:y,height:m}=l;a.drawImage(h,0,0,y*r,m*r,p,f,y,m)}a.globalAlpha=c,super.render(s)}skipRender(e){const{stats:i}=e;for(const n of this.children())n.markClean(),i&&(i.nodesSkipped+=this.childNodeCounts.groups+this.childNodeCounts.nonGroups,i.opsSkipped+=this.childNodeCounts.complexity)}applyClip(e,i){const{x:n,y:s,width:a,height:o}=i;e.beginPath(),e.rect(n,s,a,o),e.clip()}renderInContext(e){const{ctx:i,stats:n}=e;this.dirtyZIndex&&this.sortChildren(Wm.compareChildren),i.save(),i.globalAlpha*=this.opacity,this.clipRect!=null&&(this.applyClip(i,this.clipRect),e.clipBBox=Ni.toCanvas(this,this.clipRect));for(const s of this.children()){if(!s.visible){s.markClean(),n&&(n.nodesSkipped+=s.childNodeCounts.nonGroups+s.childNodeCounts.groups,n.opsSkipped+=s.childNodeCounts.complexity);continue}i.save(),s.render(e),i.restore()}i.restore()}setClipRect(e){this.clipRect=e?Ni.fromCanvas(this,e):void 0}setClipRectCanvasSpace(e){this.clipRect=e}_setLayerManager(e){var i;this.layer&&((i=this._layerManager)==null||i.removeLayer(this.layer),this.layer=void 0),super._setLayerManager(e)}getVisibility(){for(const e of this.traverseUp(!0))if(!e.visible)return!1;return!0}toSVG(){if(!this.visible)return;const e=[],i=[];for(const n of this.children()){const s=n.toSVG();s!=null&&(i.push(...s.elements),s.defs!=null&&e.push(...s.defs))}return{elements:i,defs:e}}};VN.className="Group";N([Et({convertor:t=>Jt(0,t,1)})],VN.prototype,"opacity",2);var Kt=VN,not=class extends GN(Kt){},sot=class extends Ag(Kt){},ta=class extends ep(Kt){},Im=class extends Ag(ep(Kt)){};function aot(t=0,e=0){return new OffscreenCanvas(t,e).getContext("2d")}var UN=class{constructor(t=5){this.maxCacheSize=t,this.store=new Map}get(t){if(!this.store.has(t))return;const e=this.store.get(t);return this.store.delete(t),this.store.set(t,e),e}has(t){return this.store.has(t)}set(t,e){if(this.store.set(t,e),this.store.size>this.maxCacheSize){const i=this.store.keys();let n=this.store.size-this.maxCacheSize;for(;n>0;){const s=i.next();s.done||this.store.delete(s.value),n--}}return e}clear(){this.store.clear()}},Pc=class{static measureText(e,i){return this.getMeasurer(i).measureText(e)}static measureLines(e,i){return this.getMeasurer(i).measureLines(e)}static getMeasurer(e){const i=typeof e.font=="string"?e.font:xi.toFontString(e.font),n=`${i}-${e.textAlign??"start"}-${e.textBaseline??"alphabetic"}`;return this.instanceMap.get(n)??this.createFontMeasurer(i,e,n)}static createFontMeasurer(e,i,n){const s=aot();s.font=e,s.textAlign=i.textAlign??"start",s.textBaseline=i.textBaseline??"alphabetic";const a=new QU(s,i);return this.instanceMap.set(n,a),a}};Pc.instanceMap=new UN(10);var QU=class{constructor(t,e){this.ctx=t,this.measureMap=new UN(100),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline),t.font=typeof e.font=="string"?e.font:xi.toFontString(e.font),this.textMeasurer=new HN(i=>this.cachedCtxMeasureText(i),e.textBaseline??"alphabetic")}textWidth(t,e){return this.textMeasurer.textWidth(t,e)}measureText(t){return this.textMeasurer.measureText(t)}measureLines(t){return this.textMeasurer.measureLines(t)}cachedCtxMeasureText(t){if(!this.measureMap.has(t)){const e=this.ctx.measureText(t);this.measureMap.set(t,{actualBoundingBoxAscent:e.actualBoundingBoxAscent,emHeightAscent:e.emHeightAscent,emHeightDescent:e.emHeightDescent,actualBoundingBoxDescent:e.actualBoundingBoxDescent,actualBoundingBoxLeft:e.actualBoundingBoxLeft,actualBoundingBoxRight:e.actualBoundingBoxRight,alphabeticBaseline:e.alphabeticBaseline,fontBoundingBoxAscent:e.fontBoundingBoxAscent,fontBoundingBoxDescent:e.fontBoundingBoxDescent,hangingBaseline:e.hangingBaseline,ideographicBaseline:e.ideographicBaseline,width:e.width})}return this.measureMap.get(t)}},xi=class{static toFontString({fontSize:e=10,fontStyle:i,fontWeight:n,fontFamily:s,lineHeight:a}){let o="";return i&&(o+=`${i} `),n&&(o+=`${n} `),o+=`${e}px`,a&&(o+=`/${a}px`),o+=` ${s}`,o.trim()}static getLineHeight(e){return Math.ceil(e*this.defaultLineHeight)}static getVerticalModifier(e){switch(e){case"hanging":case"top":return 0;case"middle":return .5;case"alphabetic":case"bottom":case"ideographic":default:return 1}}};xi.EllipsisChar="";xi.defaultLineHeight=1.15;xi.lineSplitter=/\r?\n/g;var HN=class{constructor(t,e="alphabetic"){this.measureTextFn=t,this.textBaseline=e,this.charMap=new Map}getMetrics(t){const e=this.measureTextFn(t);return e.fontBoundingBoxAscent??(e.fontBoundingBoxAscent=e.emHeightAscent),e.fontBoundingBoxDescent??(e.fontBoundingBoxDescent=e.emHeightDescent),{width:e.width,height:e.actualBoundingBoxAscent+e.actualBoundingBoxDescent,lineHeight:e.fontBoundingBoxAscent+e.fontBoundingBoxDescent,offsetTop:e.actualBoundingBoxAscent,offsetLeft:e.actualBoundingBoxLeft}}getMultilineMetrics(t){let e=0,i=0,n=0,s=0,a=0;const o=xi.getVerticalModifier(this.textBaseline),r=[];let l=0;const c=t.length;for(const h of t){const p=this.measureTextFn(h);p.fontBoundingBoxAscent??(p.fontBoundingBoxAscent=p.emHeightAscent),p.fontBoundingBoxDescent??(p.fontBoundingBoxDescent=p.emHeightDescent),e<p.width&&(e=p.width),s<p.actualBoundingBoxLeft&&(s=p.actualBoundingBoxLeft),l===0?(i+=p.actualBoundingBoxAscent,n+=p.actualBoundingBoxAscent):a+=p.fontBoundingBoxAscent,l===c-1?i+=p.actualBoundingBoxDescent:a+=p.fontBoundingBoxDescent,r.push({text:h,width:p.width,height:p.actualBoundingBoxAscent+p.actualBoundingBoxDescent,lineHeight:p.fontBoundingBoxAscent+p.fontBoundingBoxDescent,offsetTop:p.actualBoundingBoxAscent,offsetLeft:p.actualBoundingBoxLeft}),l++}return i+=a,n+=a*o,{width:e,height:i,offsetTop:n,offsetLeft:s,lineMetrics:r}}textWidth(t,e){if(e){let i=0;for(let n=0;n<t.length;n++)i+=this.textWidth(t.charAt(n));return i}return t.length>1?this.measureTextFn(t).width:this.charMap.get(t)??this.charWidth(t)}measureText(t){return this.getMetrics(t)}measureLines(t){const e=typeof t=="string"?t.split(xi.lineSplitter):t;return this.getMultilineMetrics(e)}charWidth(t){const{width:e}=this.measureTextFn(t);return this.charMap.set(t,e),e}},$a=class JS extends Go{constructor(){super(...arguments),this.x=0,this.y=0,this.lines=[],this.text=void 0,this.fontSize=10,this.fontFamily="sans-serif",this.textAlign=JS.defaultStyles.textAlign,this.textBaseline=JS.defaultStyles.textBaseline}onTextChange(){var e;this.lines=((e=this.text)==null?void 0:e.split(`
`).map(i=>i.trim()))??[]}static computeBBox(e,i,n,s){const{offsetTop:a,offsetLeft:o,width:r,height:l}=Pc.measureLines(e,s);return new Rt(i-o,n-a,r,l)}computeBBox(){const{x:e,y:i,lines:n,textBaseline:s,textAlign:a}=this;return JS.computeBBox(n,e,i,{font:this,textBaseline:s,textAlign:a})}isPointInPath(e,i){const n=this.getBBox();return n?n.containsPoint(e,i):!1}render(e){const{ctx:i,stats:n}=e;if(!this.lines.length||!this.layerManager)return n&&(n.nodesSkipped+=1),super.render(e);const{fill:s,stroke:a,strokeWidth:o}=this,{pixelRatio:r}=this.layerManager.canvas;if(i.font=xi.toFontString(this),i.textAlign=this.textAlign,i.textBaseline=this.textBaseline,s){this.applyFill(i),i.globalAlpha*=this.opacity*this.fillOpacity;const{fillShadow:l}=this;l!=null&&l.enabled&&(i.shadowColor=l.color,i.shadowOffsetX=l.xOffset*r,i.shadowOffsetY=l.yOffset*r,i.shadowBlur=l.blur*r),this.renderLines((c,h,p)=>i.fillText(c,h,p))}if(a&&o){this.applyStroke(i),i.lineWidth=o,i.globalAlpha*=this.opacity*this.strokeOpacity;const{lineDash:l,lineDashOffset:c,lineCap:h,lineJoin:p}=this;l&&i.setLineDash(l),c&&(i.lineDashOffset=c),h&&(i.lineCap=h),p&&(i.lineJoin=p),this.renderLines((f,y,m)=>i.strokeText(f,y,m))}super.render(e)}renderLines(e){const{lines:i,x:n,y:s}=this,a=this.lineHeight??xi.getLineHeight(this.fontSize);let o=(a-a*i.length)*xi.getVerticalModifier(this.textBaseline);for(const r of i)e(r,n,s+o),o+=a}setFont(e){this.fontFamily=e.fontFamily,this.fontSize=e.fontSize,this.fontStyle=e.fontStyle,this.fontWeight=e.fontWeight}setAlign(e){this.textAlign=e.textAlign,this.textBaseline=e.textBaseline}toSVG(){var i;if(!this.visible||!this.text)return;const e=zo("text");return this.applySvgFillAttributes(e),e.setAttribute("font-family",((i=this.fontFamily)==null?void 0:i.split(",")[0])??""),e.setAttribute("font-size",String(this.fontSize)),e.setAttribute("font-style",this.fontStyle??""),e.setAttribute("font-weight",String(this.fontWeight??"")),e.setAttribute("text-anchor",{center:"middle",left:"start",right:"end",start:"start",end:"end"}[this.textAlign??"start"]),e.setAttribute("alignment-baseline",{alphabetic:"alphabetic",top:"top",bottom:"bottom",hanging:"hanging",middle:"middle",ideographic:"ideographic"}[this.textBaseline??"alphabetic"]),e.setAttribute("x",String(this.x)),e.setAttribute("y",String(this.y)),e.textContent=this.text??"",{elements:[e]}}};$a.className="Text";$a.defaultStyles={...Go.defaultStyles,textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"};N([Et()],$a.prototype,"x",2);N([Et()],$a.prototype,"y",2);N([Et({changeCb:t=>t.onTextChange()})],$a.prototype,"text",2);N([Et()],$a.prototype,"fontStyle",2);N([Et()],$a.prototype,"fontWeight",2);N([Et()],$a.prototype,"fontSize",2);N([Et()],$a.prototype,"fontFamily",2);N([Et()],$a.prototype,"textAlign",2);N([Et()],$a.prototype,"textBaseline",2);N([Et()],$a.prototype,"lineHeight",2);var Nn=$a,JU=class extends Ag(Nn){},pg=class extends Ag(ep(Nn)){},h1="color: green",d1="color: grey";function oot(){return pU(()=>{})}function cL(t,e){const i=Vd(e);if(i.length===0)return;const n=fU(t);for(const s of i)s in n&&(e[s]=n[s])}var tH=class{transitionRoot(t,e){this.parent?this.parent.transitionRoot(t,e):this.transition(t,e)}},WN=class da extends tH{constructor(e,i,n){super(),this.defaultState=e,this.states=i,this.enterEach=n,this.debug=Qe.create(!0,"animation"),this.state=e,this.debug(`%c${this.constructor.name} | init -> ${e}`,h1)}transition(e,i){var h,p,f,y;if(!this.transitionChild(e,i)||this.state===da.child||this.state===da.parent)return;const s=this.state,a=this.states[this.state];let o=a[e];const r=`%c${this.constructor.name} | ${this.state} -> ${e} ->`;if(Array.isArray(o))o=o.find(m=>{if(!m.guard)return!0;const b=m.guard(i);return b||this.debug(`${r} (guarded)`,m.target,d1),b});else if(typeof o=="object"&&!(o instanceof da)&&o.guard&&!o.guard(i)){this.debug(`${r} (guarded)`,o.target,d1);return}if(!o){this.debug(`${r} ${this.state}`,d1);return}const l=this.getDestinationState(o),c=l===this.state?void 0:a.onExit;this.debug(`${r} ${l}`,h1),this.state=l,typeof o=="function"?o(i):typeof o=="object"&&!(o instanceof da)&&((h=o.action)==null||h.call(o,i)),c==null||c(),(p=this.enterEach)==null||p.call(this,s,l),l!==s&&l!==da.child&&l!==da.parent&&((y=(f=this.states[l]).onEnter)==null||y.call(f,s,i))}transitionAsync(e,i){setTimeout(()=>{this.transition(e,i)},0)}is(e){return this.state===da.child&&this.childState?this.childState.is(e):this.state===e}resetHierarchy(){this.debug(`%c${this.constructor.name} | ${this.state} -> [resetHierarchy] -> ${this.defaultState}`,"color: green"),this.state=this.defaultState}transitionChild(e,i){var n,s;return this.state!==da.child||!this.childState||(cL(this,this.childState),this.childState.transition(e,i),!this.childState.is(da.parent))?!0:(this.debug(`%c${this.constructor.name} | ${this.state} -> ${e} -> ${this.defaultState}`,h1),this.state=this.defaultState,(s=(n=this.states[this.state]).onEnter)==null||s.call(n),this.childState.resetHierarchy(),!1)}getDestinationState(e){let i=this.state;return typeof e=="string"?i=e:e instanceof da?(this.childState=e,this.childState.parent=this,i=da.child):typeof e=="object"&&(e.target instanceof da?(this.childState=e.target,this.childState.parent=this,i=da.child):e.target!=null&&(i=e.target)),i}};WN.child="__child";WN.parent="__parent";var bb=WN,rot=class extends tH{constructor(...e){super(),this.stateMachines=e;for(const i of e)i.parent=this}transition(e,i){for(const n of this.stateMachines)cL(this,n),n.transition(e,i)}transitionAsync(e,i){for(const n of this.stateMachines)cL(this,n),n.transitionAsync(e,i)}};function ui(t,e){const i=oi(t)?t:t.split(".");if(i.length===1){const[n]=i;return Cc((s,a,o)=>s[n]=o,s=>s[n],e)}return Cc((n,s,a)=>NN(n,i,a),n=>kN(n,i),e)}function lot(t){return Cc((e,i,n)=>e[t]=n)}function Yn(t,e){return Cc((i,n,s)=>i[t][e??n]=s)}function Ma(t){const{newValue:e,oldValue:i,changeValue:n}=t;return Cc((s,a,o,r)=>(o!==r&&(r!==void 0&&(i==null||i.call(s,r)),o!==void 0&&(e==null||e.call(s,o)),n==null||n.call(s,o,r)),o))}function ph(t){return pU(t)}var YN=class{static wrapText(e,i){return this.wrapLines(e,i).join(`
`)}static wrapLines(e,i){const n=this.textWrap(e,i);return i.overflow==="hide"&&n.some(s=>s.endsWith(xi.EllipsisChar))?[]:n}static appendEllipsis(e){return e.replace(/[.,]{1,5}$/,"")+xi.EllipsisChar}static truncateLine(e,i,n,s){const a=i.textWidth(xi.EllipsisChar);let o=0,r=0;for(;r<e.length;r++){const l=i.textWidth(e.charAt(r));if(o+l>n)break;o+=l}if(e.length===r&&(!s||o+a<=n))return s?e+xi.EllipsisChar:e;for(e=e.slice(0,r).trimEnd();e.length&&i.textWidth(e)+a>n;)e=e.slice(0,-1).trimEnd();return e+xi.EllipsisChar}static textWrap(e,i){const n=e.split(xi.lineSplitter),s=Pc.getMeasurer(i);if(i.textWrap==="never")return n.map(l=>this.truncateLine(l.trimEnd(),s,i.maxWidth));const a=[],o=i.textWrap==="hyphenate",r=i.textWrap==null||i.textWrap==="on-space";for(const l of n){let c=l.trimEnd();if(c===""){a.push(c);continue}let h=0,p=0,f=0;for(;h<c.length;){const y=c.charAt(h);if(p+=s.textWidth(y),y===" "&&(f=h),p>i.maxWidth){if(h===0)break;const m=s.textWidth(c.slice(0,h+1));if(m<=i.maxWidth){p=m,h++;continue}if(f){const v=this.getWordAt(c,f+1),D=s.textWidth(v);if(D<=i.maxWidth){a.push(c.slice(0,f).trimEnd()),c=c.slice(f).trimStart(),h=0,p=0,f=0;continue}else r&&D>i.maxWidth&&a.push(c.slice(0,f).trimEnd(),this.truncateLine(c.slice(f).trimStart(),s,i.maxWidth,!0))}else r&&a.push(this.truncateLine(c,s,i.maxWidth,!0));if(r){c="";break}const b=o?"-":"";let S=c.slice(0,h).trim();for(;S.length&&s.textWidth(S+b)>i.maxWidth;)S=S.slice(0,-1).trimEnd();if(a.push(S+b),!S.length){c="";break}c=c.slice(S.length).trimStart(),h=-1,p=0,f=0}h++}c&&a.push(c)}return this.avoidOrphans(a,s,i),this.clipLines(a,s,i)}static getWordAt(e,i){const n=e.indexOf(" ",i);return n===-1?e.slice(i):e.slice(i,n)}static clipLines(e,i,n){if(!n.maxHeight)return e;const{height:s,lineMetrics:a}=i.measureLines(e);if(s<=n.maxHeight)return e;for(let o=0,r=0;o<a.length;o++){const{lineHeight:l}=a[o];if(r+=l,r>n.maxHeight){if(n.overflow==="hide")return[];const c=e.slice(0,o||1),h=c.pop();return c.concat(this.truncateLine(h,i,n.maxWidth,!0))}}return e}static avoidOrphans(e,i,n){if(n.avoidOrphans===!1||e.length<2)return;const{length:s}=e,a=e[s-1],o=e[s-2];if(o.length<a.length)return;const r=o.lastIndexOf(" ");if(r===-1||r===o.indexOf(" ")||a.includes(" "))return;const l=o.slice(r+1);i.textWidth(a+l)<=n.maxWidth&&(e[s-2]=o.slice(0,r),e[s-1]=l+" "+a)}},qe=class extends Qt{constructor(){super(...arguments),this.id=Wo(this),this.node=new JU({zIndex:1}).setProperties({textAlign:"center",pointerEvents:1}),this.enabled=!1,this.textAlign="center",this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always",this.padding=0,this.layoutStyle="block",this.truncated=!1}registerInteraction(e,i){return e.layoutManager.addListener("layout:complete",()=>this.updateA11yText(e,i))}computeTextWrap(e,i){const{text:n,padding:s,wrapping:a}=this,o=Math.min(this.maxWidth??1/0,e)-s*2,r=this.maxHeight??i-s*2;if(!isFinite(o)&&!isFinite(r)){this.node.text=n;return}const l=YN.wrapText(n??"",{maxWidth:o,maxHeight:r,font:this,textWrap:a});this.node.text=l,this.truncated=l.includes(xi.EllipsisChar)}updateA11yText(e,i){var s;const{proxyInteractionService:n}=e;if(this.enabled&&this.text){const a=Ni.toCanvas(this.node);if(a){const{id:o}=this;this.proxyText??(this.proxyText=n.createProxyElement({type:"text",domManagerId:o,where:i})),this.proxyText.textContent=this.text,this.proxyText.setBounds(a),this.proxyText.addListener("mousemove",r=>this.handleMouseMove(e,r)),this.proxyText.addListener("mouseleave",r=>this.handleMouseLeave(e,r))}}else(s=this.proxyText)==null||s.destroy(),this.proxyText=void 0}handleMouseMove(e,i){if(i!=null&&this.enabled&&this.node.visible&&this.truncated){const{x:n,y:s}=Ni.toCanvas(this.node),a=i.sourceEvent.offsetX+n,o=i.sourceEvent.offsetY+s,r={type:"pointermove",canvasX:a,canvasY:o};e.tooltipManager.updateTooltip(this.id,{canvasX:a,canvasY:o,lastPointerEvent:r,showArrow:!1},{type:"structured",title:this.text})}}handleMouseLeave(e,i){e.tooltipManager.removeTooltip(this.id)}};qe.SMALL_PADDING=10;qe.LARGE_PADDING=20;N([P(Gt),Yn("node","visible")],qe.prototype,"enabled",2);N([P(Dt,{optional:!0}),Yn("node")],qe.prototype,"text",2);N([P(BU,{optional:!0}),Yn("node")],qe.prototype,"textAlign",2);N([P(Oc,{optional:!0}),Yn("node")],qe.prototype,"fontStyle",2);N([P(Rc,{optional:!0}),Yn("node")],qe.prototype,"fontWeight",2);N([P(Ct),Yn("node")],qe.prototype,"fontSize",2);N([P(Dt),Yn("node")],qe.prototype,"fontFamily",2);N([P(ke,{optional:!0}),Yn("node","fill")],qe.prototype,"color",2);N([P(Ct,{optional:!0})],qe.prototype,"spacing",2);N([P(Ct,{optional:!0})],qe.prototype,"maxWidth",2);N([P(Ct,{optional:!0})],qe.prototype,"maxHeight",2);N([P(PA)],qe.prototype,"wrapping",2);N([P(Ct)],qe.prototype,"padding",2);N([P(Dt)],qe.prototype,"layoutStyle",2);var $N=(t=>(t.X="x",t.Y="y",t))($N||{}),KN=class{constructor(){this.moduleMap=new Map}*modules(){for(const t of this.moduleMap.values())yield t.moduleInstance}addModule(t,e){if(this.moduleMap.has(t.optionsKey))throw new Error(`AG Charts - module already initialised: ${t.optionsKey}`);this.moduleMap.set(t.optionsKey,{module:t,moduleInstance:e(t)})}removeModule(t){var i;const e=ba(t)?t:t.optionsKey;(i=this.moduleMap.get(e))==null||i.moduleInstance.destroy(),this.moduleMap.delete(e)}getModule(t){var e;return(e=this.moduleMap.get(ba(t)?t:t.optionsKey))==null?void 0:e.moduleInstance}isEnabled(t){return this.moduleMap.has(ba(t)?t:t.optionsKey)}mapModules(t){return Array.from(this.moduleMap.values(),(e,i)=>t(e.moduleInstance,i))}destroy(){var t;for(const e of this.moduleMap.keys())(t=this.moduleMap.get(e))==null||t.moduleInstance.destroy();this.moduleMap.clear()}};function eH(t,e){return t.valueOf()-e.valueOf()}function cot(t){let e=NaN;const i=[];for(const n of t){const s=n.valueOf();e!==s&&i.push(n),e=s}return i}function uL(t){const e=t.slice().sort(eH);return XN(e)==null?cot(e):e}function XN(t){if(t.length===0)return 1;const e=Number(t[t.length-1])>Number(t[0])?1:-1;let i=-1/0*e;for(const n of t){const s=n.valueOf();if(Math.sign(s-i)!==e)return;i=s}return e}function iH(t){let e,i;const n=hot.exec(t);n&&([,e,t,i]=n);const s=uot.exec(t);if(!s)throw new Error(`The number formatter is invalid: ${t}`);const[,a,o,r,l,c,h,p,f,y,m]=s;return{fill:a,align:o,sign:r,symbol:l,zero:c,width:parseInt(h),comma:p,precision:parseInt(f),trim:!!y,type:m,prefix:e,suffix:i}}function nH(t){const e=typeof t=="string"?iH(t):t,{fill:i,align:n,sign:s="-",symbol:a,zero:o,width:r,comma:l,type:c,prefix:h="",suffix:p="",precision:f}=e;let{trim:y}=e;const m=f==null||isNaN(f);let b;if(!c)b=To.g,y=!0;else if(c in To&&c in Xf)b=m?Xf[c]:To[c];else if(c in To)b=To[c];else if(c in Xf)b=Xf[c];else throw new Error(`The number formatter type is invalid: ${c}`);let S;return f==null||m?S=c?6:12:S=f,v=>{let D=b(v,S);return y&&(D=fot(D)),l&&(D=got(D,l)),D=mot(v,D,s),a&&a!=="#"&&(D=`${a}${D}`),a==="#"&&c==="x"&&(D=`0x${D}`),c==="s"&&(D=`${D}${yot(v)}`),(c==="%"||c==="p")&&(D=`${D}%`),r!=null&&!isNaN(r)&&(D=xot(D,r,i??o,n)),D=`${h}${D}${p}`,D}}var uot=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(?:\.(\d+))?(~)?([%a-z])?$/i,hot=/^((?:[^#]|#[^{])*)#{([^}]+)}(.*)$/,Xf={b:t=>G0(t).toString(2),c:t=>String.fromCharCode(t),d:t=>Math.round(Math.abs(t)).toFixed(0),o:t=>G0(t).toString(8),x:t=>G0(t).toString(16),X:t=>Xf.x(t).toUpperCase(),n:t=>Xf.d(t),"%":t=>`${G0(t*100).toFixed(0)}`},To={e:(t,e)=>Math.abs(t).toExponential(e),E:(t,e)=>To.e(t,e).toUpperCase(),f:(t,e)=>Math.abs(t).toFixed(e),F:(t,e)=>To.f(t,e).toUpperCase(),g:(t,e)=>{if(t===0)return"0";const i=Math.abs(t),n=Math.floor(Math.log10(i));return n>=-4&&n<e?i.toFixed(e-1-n):i.toExponential(e-1)},G:(t,e)=>To.g(t,e).toUpperCase(),n:(t,e)=>To.g(t,e),p:(t,e)=>To.r(t*100,e),r:(t,e)=>{if(t===0)return"0";const i=Math.abs(t),s=Math.floor(Math.log10(i))-(e-1);if(s<=0)return i.toFixed(-s);const a=10**s;return(Math.round(i/a)*a).toFixed()},s:(t,e)=>{const i=oH(t);return To.r(t/10**i,e)},"%":(t,e)=>To.f(t*100,e)},sH=-24,aH=24,dot={[sH]:"y",[-21]:"z",[-18]:"a",[-15]:"f",[-12]:"p",[-9]:"n",[-6]:"",[-3]:"m",0:"",3:"k",6:"M",9:"G",12:"T",15:"P",18:"E",21:"Z",[aH]:"Y"},pot="";function G0(t){return Math.floor(Math.abs(t))}function fot(t){return t.replace(/\.0+$/,"").replace(/(\.[1-9])0+$/,"$1")}function got(t,e){let i=t.indexOf(".");i<0&&(i=t.length);const n=t.substring(0,i).split(""),s=t.substring(i);for(let a=n.length-3;a>0;a-=3)n.splice(a,0,e);return`${n.join("")}${s}`}function yot(t){return dot[oH(t)]}function oH(t){return Jt(sH,t?Math.floor(Math.log10(Math.abs(t))/3)*3:0,aH)}function mot(t,e,i=""){if(i==="(")return t>=0?e:`(${e})`;const n=i==="+"?"+":"";return`${t>=0?n:pot}${e}`}function xot(t,e,i=" ",n=">"){let s=t;if(n===">"||!n)s=s.padStart(e,i);else if(n==="<")s=s.padEnd(e,i);else if(n==="^"){const a=Math.max(0,e-s.length),o=Math.ceil(a/2),r=Math.floor(a/2);s=s.padStart(o+s.length,i),s=s.padEnd(r+s.length,i)}return s}var Di=(t,e,i)=>({duration:e*i,timeInterval:t,step:i}),Ym=[Di(Yf,Uu,1),Di(Yf,Uu,5),Di(Yf,Uu,15),Di(Yf,Uu,30),Di($f,ls,1),Di($f,ls,5),Di($f,ls,15),Di($f,ls,30),Di(Kf,Js,1),Di(Kf,Js,3),Di(Kf,Js,6),Di(Kf,Js,12),Di(DM,_o,1),Di(DM,_o,2),Di(ax,mc,1),Di(ax,mc,2),Di(ax,mc,3),Di(Od,Mm,1),Di(Od,Mm,2),Di(Od,Mm,3),Di(Od,Mm,4),Di(Od,Mm,6),Di(EA,dg,1)],rH=[1,2,5,10];function A_(t,e){return Math.abs(Math.round(t)-t)<e}function ZN(t,e,i,n,s,a){if(i<2)return[t,e];const o=Tx(t,e,i,n,s);if(!Number.isFinite(o))return[];if(A_(t/o,1e-12)||(t=Math.ceil(t/o)*o),A_(e/o,1e-12)||(e=Math.floor(e/o)*o),a!=null&&a[0]!==0&&a[1]!==1){const r=e-t,l=t+r*a[0],c=e-r*(1-a[1]);return Cx(l-l%o,c+c%o,o)}return Cx(t,e,o)}function lH(t,e,i,n,s,a){const o=a??Math.abs(e-t)/Math.max(i,1);let r=0;for(const f of Ym){if(o<=f.duration)break;r++}if(r===0){const f=Math.max(Tx(t,e,i,n,s),1);return SU.every(f)}else if(r===Ym.length){const f=Tx(t/dg,e/dg,i,n,s);return EA.every(f)}const l=Ym[r-1],c=Ym[r],{timeInterval:h,step:p}=o-l.duration<c.duration-o?l:c;return h.every(p)}function Tx(t,e,i,n=0,s=1/0){if(t===e)return Jt(1,n,s);if(i<1)return NaN;const a=Math.abs(e-t),o=10**Math.floor(Math.log10(a/i));let r=NaN,l=1/0,c=!1;for(const h of rH){const p=Math.ceil(a/(h*o)),f=p>=n&&p<=s;if(c&&!f)continue;const y=Math.abs(p-i);(l>y||c!==f)&&(c||(c=f),l=y,r=h)}return r*o}function D_(t){for(let e=t.length-1;e>=0;e-=1)if(t[e]!=="0")return e+1;return 0}function I_(t,e){const i=iH(e??",f");(i.precision==null||isNaN(i.precision))&&(!i.type||"eEFgGnprs".includes(i.type)?i.precision=Math.max(...t.map(s=>{if(!Number.isFinite(s))return 0;const[a,o]=s.toExponential((i.type?6:12)-1).split(/[.e]/g);return(a!=="1"&&a!=="-1"?1:0)+D_(o)+1})):"f%".includes(i.type)&&(i.precision=Math.max(...t.map(s=>{if(!Number.isFinite(s)||s===0)return 0;const a=Math.floor(Math.log10(Math.abs(s))),o=i.type?6:12,r=s.toExponential(o-1).split(/[.e]/g)[1],l=D_(r);return Math.max(0,l-a)}))));const n=nH(i);return s=>n(Number(s))}function Cx(t,e,i){if(!Number.isFinite(i)||i<=0)return[];const n=10**IA(i),s=Math.min(t,e),a=Math.max(t,e),o=[];for(let r=0;;r+=1){const l=Math.round((s+i*r)*n)/n;if(l>a)break;o.push(l)}return o}function kx(t,e){return t>=e?(It.warnOnce("the configured interval results in more than 1 item per pixel, ignoring. Supply a larger interval or omit this configuration"),!0):!1}function bot(t,e){const i=Math.abs(e-t),n=10**Math.floor(Math.log10(i));let s=1/0,a=[t,e];for(const o of rH){const r=o*n,l=Math.floor(t/r)*r,c=Math.ceil(e/r)*r,h=1-i/Math.abs(c-l);s>h&&(s=h,a=[l,c])}return a}function cH(t,e,i,n,s,a){a=Math.max(a,t/(s+1)),isNaN(i)&&(i=a),isNaN(n)&&(n=t),i>n&&(i===a?i=n:n=i);const o=Math.max(1,Math.floor(t/(e*i))),r=Math.min(o,Math.ceil(t/(e*n))),l=Jt(r,Math.floor(s/e),o);return{minTickCount:r,maxTickCount:o,tickCount:l}}var uH=class extends Oe{constructor(){super([],[0,1]),this.type="time"}toDomain(t){return new Date(t)}convert(t,e){return t instanceof Date||(t=new Date(t)),super.convert(t,e)}invert(t){return new Date(super.invert(t))}niceDomain(t,e=this.domain){if(e.length<2)return[];const i=4;let[n,s]=e;for(let a=0;a<i;a++){const[o,r]=vot(n,s,t);if(Is(n)===Is(o)&&Is(s)===Is(r))break;n=o,s=r}return[n,s]}ticks(t,e=this.domain,i=[0,1]){const{nice:n,interval:s,tickCount:a=Oe.defaultTickCount,minTickCount:o,maxTickCount:r}=t;if(e.length<2)return[];const l=e.map(Is),c=l[0],h=l[l.length-1];if(s!=null){const p=this.getPixelRange();return qN({start:c,stop:h,interval:s,availableRange:p,visibleRange:i})??T_({start:c,stop:h,tickCount:a,minTickCount:o,maxTickCount:r,visibleRange:i})}else{if(n&&a===2)return e;if(n&&a===1)return e.slice(0,1)}return T_({start:c,stop:h,tickCount:a,minTickCount:o,maxTickCount:r,visibleRange:i})}_tickFormatter({domain:t,ticks:e,specifier:i},n){return i!=null?hb(i):wN(e,t,n)}tickFormatter(t){return this._tickFormatter(t)}datumFormatter(t){return this._tickFormatter(t,1)}};function T_({start:t,stop:e,tickCount:i,minTickCount:n,maxTickCount:s,visibleRange:a}){const o=lH(t,e,i,n,s);return o?o.range(new Date(t),new Date(e),{visibleRange:a}):[]}function qN({start:t,stop:e,interval:i,availableRange:n,visibleRange:s}){if(!i)return[];if(i instanceof hg){const h=i.range(new Date(t),new Date(e),{visibleRange:s});return kx(h.length,n)?void 0:h}const a=Math.abs(i);if(kx(Math.abs(e-t)/a,n))return;const o=Ym.findLast(h=>a%h.duration===0);if(o)return o.timeInterval.every(a/(o.duration/o.step)).range(new Date(t),new Date(e),{visibleRange:s});let r=new Date(Math.min(t,e));const l=new Date(Math.max(t,e)),c=[];for(;r<=l;)c.push(r),r=new Date(r),r.setMilliseconds(r.getMilliseconds()+a);return c}function vot(t,e,i){const{interval:n}=i,s=Math.min(Is(t),Is(e)),a=Math.max(Is(t),Is(e)),o=t>e;let r;if(n instanceof hg)r=n;else{const l=typeof n=="number"?(a-s)/Math.max(n,1):i.tickCount??Oe.defaultTickCount;r=lH(s,a,l,i.minTickCount,i.maxTickCount)}if(r){const l=r.range(new Date(s),new Date(a),{extend:!0}),c=o?[...l].reverse():l,h=c[0],p=c.at(-1);return[h,p]}else return[t,e]}var cl=class hH extends db{constructor(){super(...arguments),this.type="ordinal-time",this._domain=[],this.isReversed=!1}static is(e){return e instanceof hH}set domain(e){e!==this._domain&&(this.invalid=!0,this._domain=e,this.isReversed=e.length>0&&e[0]>e[e.length-1],this.sortedTimestamps=void 0,this.precomputedSteps=void 0)}get domain(){return this._domain}toDomain(e){return new Date(e)}normalizeDomains(...e){const i=e.filter(s=>s.length>0).map(s=>{let a=XN(s);return a==null&&(s=uL(s.slice()),a=1),{domain:s,sortOrder:a}});if(i.length===0)return{domain:[],animatable:!1};if(i.length===1)return{domain:i[0].domain,animatable:!0};let n=i.flatMap(s=>s.domain);return n=uL(n),i.every(s=>s.sortOrder===-1)&&n.reverse(),{domain:n,animatable:!0}}ticks({interval:e,maxTickCount:i},n=this.domain,s=[0,1]){if(!n.length)return[];this.refresh();const{isReversed:a}=this;if(e==null)return Sot(n,i,a,s);const[o,r]=[n[0].valueOf(),n.at(-1).valueOf()],l=Math.min(o,r),c=Math.max(o,r),[h,p]=this.range,f=Math.abs(p-h),y=qN({start:l,stop:c,interval:e,availableRange:f,visibleRange:s})??[];let m=-1;return y.filter(b=>{const S=this.findInterval(b.valueOf()),v=S===m;return m=S,!v})}getSortedTimestamps(){let{sortedTimestamps:e}=this;return e==null&&(e=this.domain.map(Is),this.isReversed&&e.reverse(),this.sortedTimestamps=e),e}getPrecomputedSteps(){const{domain:e}=this;let{precomputedSteps:i}=this;const n=e.length<1e4?e.length:Math.ceil(e.length/16);if(i!=null||n<=1)return i;const s=this.getSortedTimestamps();i=new Int32Array(n);const a=s[0],r=s[s.length-1]-a,l=0,c=s.length-1;for(let h=0;h<i.length;h+=1)i[h]=this.findIntervalInRange(a+h/n*r,l,c);this.precomputedSteps=i}findIntervalInRange(e,i,n){const s=this.getSortedTimestamps();for(;i<=n;){const a=(i+n)/2|0;if(s[a]===e)return a;s[a]<e?i=a+1:n=a-1}return i}findInterval(e){const i=this.getPrecomputedSteps();let n,s;if(i==null)n=0,s=this.domain.length-1;else{const a=this.getSortedTimestamps(),o=a[0],r=a[a.length-1],l=Math.min((e-o)/(r-o)*i.length|0,i.length-1|0);n=i[l],s=l<i.length-2?i[l+1]:a.length-1}return this.findIntervalInRange(e,n,s)}tickFormatter({domain:e,ticks:i,specifier:n}){return n!=null?hb(n):wN(i,e)}datumFormatter(e){return this.tickFormatter(e)}invert(e,i=!1){this.refresh();const{domain:n}=this;if(i){const a=this.invertNearestIndex(e-this.bandwidth/2);return a!=null?n[a]:void 0}return lst(0,n.length-1,a=>this.ordinalRange(a)>=e?n[a]:void 0)??n[0]}getIndex(e){const i=this.getSortedTimestamps(),n=Number(e);if(n<i[0])return;let s=this.findInterval(n);return this.isReversed&&(s=this.domain.length-s-1),s}};function Sot(t,e,i,n){const s=[],a=Math.ceil(t.length/e),o=Math.floor(a/2),r=Math.floor(n[0]*t.length),l=Math.ceil(n[1]*t.length);for(let c=r;c<l;c+=1){const h=i?t.length-1-c:c;(a<=0||(h+o)%a===0)&&s.push(t[c])}return i&&s.reverse(),s}var Xi=class kd{constructor(e,i,n=!0){this.parentNode=e,this.autoCleanup=n,this.garbageBin=new Set,this._nodesMap=new Map,this._nodes=[],this.data=[],this.debug=Qe.create(!0,"scene","scene:selections"),this.nodeFactory=Object.prototype.isPrototypeOf.call(lh,i)?()=>new i:i}static select(e,i,n=!0){return new kd(e,i,n)}static selectAll(e,i){const n=[],s=a=>{i(a)&&n.push(a);for(const o of a.children())s(o)};return s(e),n}static selectByClass(e,...i){return kd.selectAll(e,n=>i.some(s=>n instanceof s))}static selectByTag(e,i){return kd.selectAll(e,n=>n.tag===i)}createNode(e,i,n){const s=this.nodeFactory(e);return s.datum=e,i==null||i(s),n==null?this._nodes.push(s):this._nodes.splice(n,0,s),this.parentNode.appendChild(s),s}update(e,i,n){if(this.garbageBin.size>0&&this.debug("Selection - update() called with pending garbage",e),n){const s=new Map(e.map((a,o)=>[n(a),[a,o]]));for(const[a,o]of this._nodesMap.entries())if(s.has(o)){const[r]=s.get(o);a.datum=r,this.garbageBin.delete(a),s.delete(o)}else this.garbageBin.add(a);for(const[a,[o,r]]of s.entries())this._nodesMap.set(this.createNode(o,i,r),a)}else{const s=Math.max(e.length,this.data.length);for(let a=0;a<s;a++)a>=e.length?this.garbageBin.add(this._nodes[a]):a>=this._nodes.length?this.createNode(e[a],i):(this._nodes[a].datum=e[a],this.garbageBin.delete(this._nodes[a]))}return this.data=e.slice(),this.autoCleanup&&this.cleanup(),this}cleanup(){return this.garbageBin.size===0?this:(this._nodes=this._nodes.filter(e=>this.garbageBin.has(e)?(this._nodesMap.delete(e),this.garbageBin.delete(e),e.destroy(),!1):!0),this)}clear(){return this.update([]),this}isGarbage(e){return this.garbageBin.has(e)}each(e){for(const i of this._nodes.entries())e(i[1],i[1].datum,i[0]);return this}*[Symbol.iterator](){for(let e=0;e<this._nodes.length;e++){const i=this._nodes[e];yield{node:i,datum:i.datum,index:e}}}select(e){return kd.selectAll(this.parentNode,e)}selectByClass(e){return kd.selectByClass(this.parentNode,e)}selectByTag(e){return kd.selectByTag(this.parentNode,e)}nodes(){return this._nodes}at(e){return this._nodes.at(e)}get length(){return this._nodes.length}};function ox(t,e,i,n){const s=t-i,a=e-n;return s*s+a*a}function rx(t,e,i,n,s,a,o){if(i===s&&n===a)return Math.min(o,ox(t,e,i,n));const r=s-i,l=a-n,c=Math.max(0,Math.min(1,((t-i)*r+(e-n)*l)/(r*r+l*l))),h=i+c*r,p=n+c*l;return Math.min(o,ox(t,e,h,p))}function Mot(t,e,i,n,s,a,o,r,l){r&&([o,a]=[a,o]);const c=Math.atan2(e-n,t-i);if(!Hu(c,a,o)){const p=i+Math.cos(a)*s,f=n+Math.sin(a)*s,y=i+Math.cos(a)*s,m=n+Math.sin(a)*s;return Math.min(l,ox(t,e,p,f),ox(t,e,y,m))}const h=s-Math.sqrt(ox(t,e,i,n));return Math.min(l,h*h)}var Ka=class extends Go{constructor(e={}){super(e),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.restoreOwnStyles()}set x(e){this.x1=e,this.x2=e}set y(e){this.y1=e,this.y2=e}get midPoint(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}}computeBBox(){return new Rt(Math.min(this.x1,this.x2),Math.min(this.y1,this.y2),Math.abs(this.x2-this.x1),Math.abs(this.y2-this.y1))}isPointInPath(e,i){return this.x1===this.x2||this.y1===this.y2?this.getBBox().clone().grow(this.strokeWidth/2).containsPoint(e,i):!1}distanceSquared(e,i){const{x1:n,y1:s,x2:a,y2:o}=this;return rx(e,i,n,s,a,o,1/0)}render(e){var l;const{ctx:i,devicePixelRatio:n}=e;let{x1:s,y1:a,x2:o,y2:r}=this;if(s===o){const{strokeWidth:c}=this,h=Math.round(s*n)/n+Math.trunc(c*n)%2/(n*2);s=h,o=h}else if(a===r){const{strokeWidth:c}=this,h=Math.round(a*n)/n+Math.trunc(c*n)%2/(n*2);a=h,r=h}i.beginPath(),i.moveTo(s,a),i.lineTo(o,r),this.fillStroke(i),(l=this.fillShadow)==null||l.markClean(),super.render(e)}toSVG(){if(!this.visible)return;const e=zo("line");return e.setAttribute("x1",String(this.x1)),e.setAttribute("y1",String(this.y1)),e.setAttribute("x2",String(this.x2)),e.setAttribute("y2",String(this.y2)),this.applySvgStrokeAttributes(e),{elements:[e]}}};Ka.className="Line";Ka.defaultStyles={...Go.defaultStyles,fill:void 0,strokeWidth:1};N([Et()],Ka.prototype,"x1",2);N([Et()],Ka.prototype,"y1",2);N([Et()],Ka.prototype,"x2",2);N([Et()],Ka.prototype,"y2",2);var Aot=new Intl.NumberFormat("en-US",{maximumFractionDigits:2,useGrouping:!1}),Dot=new Intl.NumberFormat("en-US",{style:"percent"});function kc(t,e=2){return typeof t=="number"?pH(t,e):String(t??"")}function dH(t){return Dot.format(t)}function pH(t,e){return e===2?Aot.format(t):new Intl.NumberFormat("en-US",{maximumFractionDigits:e,useGrouping:!1}).format(t)}var Ir=class extends Go{constructor(t={}){super(t),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.startLine=!1,this.endLine=!1,this.isRange=!1,this.restoreOwnStyles()}computeBBox(){return new Rt(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)}isPointInPath(t,e){return!1}render(t){var b;const{ctx:e}=t;let{x1:i,y1:n,x2:s,y2:a}=this;i=this.align(i),n=this.align(n),s=this.align(s),a=this.align(a);const{fill:o,opacity:r,isRange:l}=this;if(!!(l&&o)){const{fillOpacity:S}=this;this.applyFill(e),e.globalAlpha=r*S,e.beginPath(),e.moveTo(i,n),e.lineTo(s,n),e.lineTo(s,a),e.lineTo(i,a),e.closePath(),e.fill()}const{stroke:h,strokeWidth:p,startLine:f,endLine:y}=this;if(!!((f||y)&&h&&p)){const{strokeOpacity:S,lineDash:v,lineDashOffset:D,lineCap:I,lineJoin:T}=this;this.applyStroke(e),e.globalAlpha=r*S,e.lineWidth=p,v&&e.setLineDash(v),D&&(e.lineDashOffset=D),I&&(e.lineCap=I),T&&(e.lineJoin=T),e.beginPath(),f&&(e.moveTo(i,n),e.lineTo(s,n)),y&&(e.moveTo(s,a),e.lineTo(i,a)),e.stroke()}(b=this.fillShadow)==null||b.markClean(),super.render(t)}};Ir.className="Range";Ir.defaultStyles={...Go.defaultStyles,strokeWidth:1};N([Et()],Ir.prototype,"x1",2);N([Et()],Ir.prototype,"y1",2);N([Et()],Ir.prototype,"x2",2);N([Et()],Ir.prototype,"y2",2);N([Et()],Ir.prototype,"startLine",2);N([Et()],Ir.prototype,"endLine",2);N([Et()],Ir.prototype,"isRange",2);var wn=class extends Qt{constructor(){super(...arguments),this.enabled=!0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}getFont(){return xi.toFontString(this)}};N([P(Gt)],wn.prototype,"enabled",2);N([P(ke,{optional:!0})],wn.prototype,"color",2);N([P(Oc,{optional:!0})],wn.prototype,"fontStyle",2);N([P(Rc,{optional:!0})],wn.prototype,"fontWeight",2);N([P(Ct)],wn.prototype,"fontSize",2);N([P(Dt)],wn.prototype,"fontFamily",2);N([P(ea,{optional:!0})],wn.prototype,"formatter",2);function TM(t){const{parallelFlipRotation:e=0,regularFlipRotation:i=0}=t,n=t.rotation?si(bn(t.rotation)):0,s=!n&&e>=0&&e<=Math.PI?-1:1,a=!n&&i>=0&&i<=Math.PI?-1:1;let o=0;return t.parallel?o=s*Math.PI/2:a===-1&&(o=Math.PI),{configuredRotation:n,defaultRotation:o,parallelFlipFlag:s,regularFlipFlag:a}}function Iot(t,e){return isNaN(t)?e?0:10:t}function Tot(t,e,i,n){return t&&!e?i*n===-1?"hanging":"bottom":"middle"}function C_(t,e,i,n,s){const a=e>0&&e<=Math.PI,o=i>0&&i<=Math.PI,r=a||o?-1:1;if(t)if(e||i){if(n*r===-1)return"end"}else return"center";else if(n*s===-1)return"end";return"start"}function Cot(t,e,i,n){const s=[];for(const{tickLabel:a,translationY:o}of t){if(!a)continue;const{width:r,height:l}=n.measureLines(a),c=new Rt(e,o,r,l),h=new Rt(e,o,0,0);i.transformBBox(h,c);const{x:p,y:f}=c;s.push({point:{x:p,y:f},label:{text:a,width:r,height:l}})}return s}function kot(t){return t!=null&&Object.hasOwn(t,"toString")&&ba(t.toString())}function Lot(t){return t!=null&&Object.hasOwn(t,"valueOf")&&xe(t.valueOf())}function jA(t){return xe(t)||cb(t)||Lot(t)}function k_(t,e){return t!=null&&(!e||jA(t))}function hL(t){return kot(t)&&Object.hasOwn(t,"id")?t.id:t}var QN=t=>t==="value"?Ge((e,i)=>i.target.type==="line",e=>e.target.type==="range"?"crossLine type 'range' to have a 'range' property instead of 'value'":"crossLine property 'type' to be 'line'"):Ge((e,i)=>i.target.type==="range",e=>e.target.type==="line"?"crossLine type 'line' to have a 'value' property instead of 'range'":"crossLine property 'type' to be 'range'"),fH=(t,e,i,n,s)=>{const a=t==="line"&&e!==void 0,o=t==="range"&&i!==void 0;if(!a&&!o)return!0;const[r,l]=i??[e,void 0],c=Oe.is(n)||cl.is(n),h=k_(r,c)&&!isNaN(n.convert(r)),p=k_(l,c)&&!isNaN(n.convert(l));if(a&&h||o&&h&&p)return(s==null?void 0:s())??!0;const f=["Expecting crossLine"];return o?(h||f.push(`range start ${nx(r)}`),p||f.push(`${h?"":"and "}range end ${nx(l)}`)):f.push(`value ${nx(r)}`),f.push("to match the axis scale domain."),It.warnOnce(f.join(" ")),!1},Not={top:{xTranslationDirection:0,yTranslationDirection:-1},bottom:{xTranslationDirection:0,yTranslationDirection:1},left:{xTranslationDirection:-1,yTranslationDirection:0},right:{xTranslationDirection:1,yTranslationDirection:0},"top-left":{xTranslationDirection:1,yTranslationDirection:-1},"top-right":{xTranslationDirection:-1,yTranslationDirection:-1},"bottom-left":{xTranslationDirection:1,yTranslationDirection:1},"bottom-right":{xTranslationDirection:-1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},"inside-left":{xTranslationDirection:1,yTranslationDirection:0},"inside-right":{xTranslationDirection:-1,yTranslationDirection:0},"inside-top":{xTranslationDirection:0,yTranslationDirection:1},"inside-bottom":{xTranslationDirection:0,yTranslationDirection:-1},"inside-top-left":{xTranslationDirection:1,yTranslationDirection:1},"inside-bottom-left":{xTranslationDirection:1,yTranslationDirection:-1},"inside-top-right":{xTranslationDirection:-1,yTranslationDirection:1},"inside-bottom-right":{xTranslationDirection:-1,yTranslationDirection:-1}},Eot={top:{xTranslationDirection:1,yTranslationDirection:0},bottom:{xTranslationDirection:-1,yTranslationDirection:0},left:{xTranslationDirection:0,yTranslationDirection:-1},right:{xTranslationDirection:0,yTranslationDirection:1},"top-left":{xTranslationDirection:-1,yTranslationDirection:-1},"top-right":{xTranslationDirection:-1,yTranslationDirection:1},"bottom-left":{xTranslationDirection:1,yTranslationDirection:-1},"bottom-right":{xTranslationDirection:1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},"inside-left":{xTranslationDirection:0,yTranslationDirection:1},"inside-right":{xTranslationDirection:0,yTranslationDirection:-1},"inside-top":{xTranslationDirection:-1,yTranslationDirection:0},"inside-bottom":{xTranslationDirection:1,yTranslationDirection:0},"inside-top-left":{xTranslationDirection:-1,yTranslationDirection:1},"inside-bottom-left":{xTranslationDirection:1,yTranslationDirection:1},"inside-top-right":{xTranslationDirection:-1,yTranslationDirection:-1},"inside-bottom-right":{xTranslationDirection:1,yTranslationDirection:-1}};function dL({yDirection:t,padding:e=0,position:i="top",bbox:n}){const s=t?Not:Eot,{xTranslationDirection:a,yTranslationDirection:o}=s[i],r=a*(e+n.width/2),l=o*(e+n.height/2);return{xTranslation:r,yTranslation:l}}function gH({yDirection:t,bbox:e,padding:i=0,position:n="top"}){const s={};return n.startsWith("inside")||(n==="top"&&!t?s.top=i+e.height:n==="bottom"&&!t?s.bottom=i+e.height:n==="left"&&t?s.left=i+e.width:n==="right"&&t&&(s.right=i+e.width)),s}var CM=({direction:t,xEnd:e,yStart:i,yEnd:n})=>t==="y"?{x:e/2,y:i}:{x:e,y:isNaN(n)?i:(i+n)/2},L_=({direction:t,xStart:e,xEnd:i,yStart:n,yEnd:s})=>t==="y"?{x:e,y:isNaN(s)?n:(n+s)/2}:{x:i/2,y:n},N_=({direction:t,xEnd:e,yStart:i,yEnd:n})=>t==="y"?{x:e,y:isNaN(n)?i:(i+n)/2}:{x:e/2,y:isNaN(n)?i:n},E_=({direction:t,xStart:e,xEnd:i,yStart:n,yEnd:s})=>t==="y"?{x:i/2,y:isNaN(s)?n:s}:{x:e,y:isNaN(s)?n:(n+s)/2},wot=({xEnd:t,yStart:e,yEnd:i})=>({x:t/2,y:isNaN(i)?e:(e+i)/2}),w_=({direction:t,xStart:e,xEnd:i,yStart:n})=>t==="y"?{x:e/2,y:n}:{x:i,y:n},O_=({direction:t,xStart:e,yStart:i,yEnd:n})=>t==="y"?{x:e,y:isNaN(n)?i:n}:{x:e,y:i},R_=({direction:t,xEnd:e,yStart:i,yEnd:n})=>t==="y"?{x:e,y:i}:{x:e,y:isNaN(n)?i:n},P_=({direction:t,xStart:e,xEnd:i,yStart:n,yEnd:s})=>t==="y"?{x:i,y:isNaN(s)?n:s}:{x:e,y:isNaN(s)?n:s},yH={top:{c:CM},bottom:{c:E_},left:{c:L_},right:{c:N_},"top-left":{c:w_},"top-right":{c:R_},"bottom-left":{c:O_},"bottom-right":{c:P_},inside:{c:wot},"inside-left":{c:L_},"inside-right":{c:N_},"inside-top":{c:CM},"inside-bottom":{c:E_},"inside-top-left":{c:w_},"inside-bottom-left":{c:O_},"inside-top-right":{c:R_},"inside-bottom-right":{c:P_}},Oot=Je(["top","left","right","bottom","top-left","top-right","bottom-left","bottom-right","inside","inside-left","inside-right","inside-top","inside-bottom","inside-top-left","inside-bottom-left","inside-top-right","inside-bottom-right"],"crossLine label position"),Yo=class extends Qt{constructor(){super(...arguments),this.fontSize=14,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)"}};N([P(Gt,{optional:!0})],Yo.prototype,"enabled",2);N([P(Dt,{optional:!0})],Yo.prototype,"text",2);N([P(Oc,{optional:!0})],Yo.prototype,"fontStyle",2);N([P(Rc,{optional:!0})],Yo.prototype,"fontWeight",2);N([P(Ct)],Yo.prototype,"fontSize",2);N([P(Dt)],Yo.prototype,"fontFamily",2);N([P(fe)],Yo.prototype,"padding",2);N([P(ke,{optional:!0})],Yo.prototype,"color",2);N([P(Oot,{optional:!0})],Yo.prototype,"position",2);N([P(fe,{optional:!0})],Yo.prototype,"rotation",2);N([P(Gt,{optional:!0})],Yo.prototype,"parallel",2);var Aa=class extends Qt{constructor(){super(),this.id=Wo(this),this.label=new Yo,this.scale=void 0,this.clippedRange=[-1/0,1/0],this.gridLength=0,this.sideFlag=-1,this.parallelFlipRotation=0,this.regularFlipRotation=0,this.direction="x",this.rangeGroup=new Kt({name:this.id}),this.lineGroup=new Kt({name:this.id}),this.labelGroup=new Kt({name:this.id}),this.crossLineRange=new Ir,this.crossLineLabel=new pg,this.labelPoint=void 0,this.data=[],this.startLine=!1,this.endLine=!1,this.isRange=!1,this._isRange=void 0,this.lineGroup.append(this.crossLineRange),this.labelGroup.append(this.crossLineLabel),this.crossLineRange.pointerEvents=1}update(t){const{enabled:e,data:i,type:n,value:s,range:a,scale:o}=this;if(!n||!o||!e||!t||!fH(n,s,a,o)||i.length===0){this.rangeGroup.visible=!1,this.lineGroup.visible=!1,this.labelGroup.visible=!1;return}this.rangeGroup.visible=t,this.lineGroup.visible=t,this.labelGroup.visible=t,this.updateNodes();const{isRange:r}=this;r!==this._isRange&&(r?this.rangeGroup.appendChild(this.crossLineRange):this.lineGroup.appendChild(this.crossLineRange)),this._isRange=r}calculateLayout(t,e){if(!t)return;const{scale:i,gridLength:n,sideFlag:s,direction:a,label:{position:o="top"},clippedRange:r,strokeWidth:l=0}=this;if(this.data=[],!i)return;const c=i.bandwidth??0,h=i.step??0,p=(e?-1:1)*(i instanceof db?(h-c)/2:0),[f,y]=[0,s*n];let[m,b]=this.getRange();const S=b===void 0&&cl.is(i)?c/2+p:0;let[v,D]=[Number(i.convert(m,!0))-p+S,i.convert(b,!0)+c+p];v=nL(v,r),D=nL(D,r),[m,b]=[Number(i.convert(m))+S,i.convert(b)+c];const I=(m===v||b===D||v!==D)&&Math.abs(D-v)>0;if(I&&v>D&&([v,D]=[D,v],[m,b]=[b,m]),m-p>=v&&(m-=p),b+p<=D&&(b+=p),this.isRange=I,this.startLine=l>0&&m>=v&&m<=v+p,this.endLine=l>0&&b>=D-c-p&&b<=D,!I&&!this.startLine&&!this.endLine||(this.data=[v,D],!this.label.enabled))return;const{c:T=CM}=yH[o]??{},{x:k,y:E}=T({direction:a,xStart:f,xEnd:y,yStart:v,yEnd:D});this.labelPoint={x:k,y:E}}updateNodes(){this.updateRangeNode(),this.label.enabled&&(this.updateLabel(),this.positionLabel())}updateRangeNode(){const{crossLineRange:t,sideFlag:e,gridLength:i,data:n,startLine:s,endLine:a,isRange:o,fill:r,fillOpacity:l,stroke:c,strokeWidth:h,lineDash:p}=this;t.x1=0,t.x2=e*i,t.y1=n[0],t.y2=n[1],t.startLine=s,t.endLine=a,t.isRange=o,t.fill=r,t.fillOpacity=l??1,t.stroke=c,t.strokeWidth=h??1,t.strokeOpacity=this.strokeOpacity??1,t.lineDash=p}updateLabel(){const{crossLineLabel:t,label:e}=this;e.text&&(t.fontStyle=e.fontStyle,t.fontWeight=e.fontWeight,t.fontSize=e.fontSize,t.fontFamily=e.fontFamily,t.fill=e.color,t.text=e.text)}positionLabel(){const{crossLineLabel:t,labelPoint:{x:e=void 0,y:i=void 0}={},label:{parallel:n,rotation:s,position:a="top",padding:o=0},direction:r,parallelFlipRotation:l,regularFlipRotation:c}=this;if(e===void 0||i===void 0)return;const{defaultRotation:h,configuredRotation:p}=TM({rotation:s,parallel:n,regularFlipRotation:c,parallelFlipRotation:l});t.rotation=h+p,t.textBaseline="middle",t.textAlign="center";const f=t.getBBox();if(!f)return;const y=r==="y",{xTranslation:m,yTranslation:b}=dL({yDirection:y,padding:o,position:a,bbox:f});t.translationX=e+m,t.translationY=i+b}getRange(){const{value:t,range:e,scale:i}=this,n=Oe.is(i)||cl.is(i),s=(e==null?void 0:e[0])??t;let a=e==null?void 0:e[1];return!n&&a===void 0&&(a=s),n&&s===a&&(a=void 0),[s,a]}computeLabelBBox(){const{label:t}=this;if(!t.enabled)return;const e=new pg;e.fontFamily=t.fontFamily,e.fontSize=t.fontSize,e.fontStyle=t.fontStyle,e.fontWeight=t.fontWeight,e.text=t.text;const{labelPoint:{x:i=void 0,y:n=void 0}={},label:{parallel:s,rotation:a,position:o="top",padding:r=0},direction:l,parallelFlipRotation:c,regularFlipRotation:h}=this;if(i===void 0||n===void 0)return;const{configuredRotation:p}=TM({rotation:a,parallel:s,regularFlipRotation:h,parallelFlipRotation:c});e.rotation=p,e.textBaseline="middle",e.textAlign="center";const f=e.getBBox();if(!f)return;const y=l==="y",{xTranslation:m,yTranslation:b}=dL({yDirection:y,padding:r,position:o,bbox:f});return e.x=i+m,e.y=n+b,e.getBBox()}calculatePadding(t){const{isRange:e,startLine:i,endLine:n,direction:s,label:{padding:a=0,position:o="top"}}=this;if(!e&&!i&&!n)return;const r=this.computeLabelBBox();if((r==null?void 0:r.x)==null||(r==null?void 0:r.y)==null)return;const l=gH({yDirection:s==="y",padding:a,position:o,bbox:r});t.left=Math.max(t.left??0,l.left??0),t.right=Math.max(t.right??0,l.right??0),t.top=Math.max(t.top??0,l.top??0),t.bottom=Math.max(t.bottom??0,l.bottom??0)}};Aa.className="CrossLine";N([P(Gt,{optional:!0})],Aa.prototype,"enabled",2);N([P(Je(["range","line"],"a crossLine type"),{optional:!0})],Aa.prototype,"type",2);N([P(xl(QN("range"),gb.restrict({length:2})),{optional:!0})],Aa.prototype,"range",2);N([P(QN("value"),{optional:!0})],Aa.prototype,"value",2);N([P(ke,{optional:!0})],Aa.prototype,"fill",2);N([P(Re,{optional:!0})],Aa.prototype,"fillOpacity",2);N([P(ke,{optional:!0})],Aa.prototype,"stroke",2);N([P(fe,{optional:!0})],Aa.prototype,"strokeWidth",2);N([P(Re,{optional:!0})],Aa.prototype,"strokeOpacity",2);N([P(bl,{optional:!0})],Aa.prototype,"lineDash",2);N([P(Lt)],Aa.prototype,"label",2);var mH=(t=>(t[t.CHART_BACKGROUND=0]="CHART_BACKGROUND",t[t.AXIS_GRID=1]="AXIS_GRID",t[t.AXIS=2]="AXIS",t[t.ZOOM_SELECTION=3]="ZOOM_SELECTION",t[t.SERIES_CROSSLINE_RANGE=4]="SERIES_CROSSLINE_RANGE",t[t.SERIES_LAYER=5]="SERIES_LAYER",t[t.AXIS_FOREGROUND=6]="AXIS_FOREGROUND",t[t.SERIES_CROSSHAIR=7]="SERIES_CROSSHAIR",t[t.SERIES_CROSSLINE_LINE=8]="SERIES_CROSSLINE_LINE",t[t.SERIES_ANNOTATION=9]="SERIES_ANNOTATION",t[t.CHART_ANNOTATION=10]="CHART_ANNOTATION",t[t.CHART_ANNOTATION_FOCUSED=11]="CHART_ANNOTATION_FOCUSED",t[t.STATUS_BAR=12]="STATUS_BAR",t[t.SERIES_LABEL=13]="SERIES_LABEL",t[t.LEGEND=14]="LEGEND",t[t.NAVIGATOR=15]="NAVIGATOR",t[t.FOREGROUND=16]="FOREGROUND",t))(mH||{}),Rot=["stroke","lineDash"],Pot=wc(t=>Un(t)&&Object.keys(t).every(e=>Rot.includes(e)),"objects with gridline style properties such as 'stroke' or 'lineDash'"),FA=class{constructor(){this.enabled=!0,this.width=1,this.style=[{stroke:void 0,lineDash:[]}]}};N([P(Gt)],FA.prototype,"enabled",2);N([P(Ct)],FA.prototype,"width",2);N([P(Pot)],FA.prototype,"style",2);function fh(t,e=[void 0]){return Cc((i,n,s)=>e.includes(s)?Jd(t)?t(s):t:s)}var xH=Ge(t=>xe(t)&&t>0||t instanceof hg,"a non-zero positive Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'"),ip=class extends Qt{constructor(){super(...arguments),this.minSpacing=NaN,this.maxSpacing=NaN}};N([P(xH,{optional:!0})],ip.prototype,"step",2);N([P(gb,{optional:!0})],ip.prototype,"values",2);N([P(_U),fh(NaN)],ip.prototype,"minSpacing",2);N([P(jU),fh(NaN)],ip.prototype,"maxSpacing",2);var On=class extends Qt{constructor(){super(...arguments),this.enabled=!0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.spacing=5,this.minSpacing=NaN,this.color="#575757",this.avoidCollisions=!0,this.mirrored=!1,this.parallel=!1}getSideFlag(){return this.mirrored?1:-1}};N([P(Gt)],On.prototype,"enabled",2);N([P(Oc,{optional:!0})],On.prototype,"fontStyle",2);N([P(Rc,{optional:!0})],On.prototype,"fontWeight",2);N([P(fe.restrict({min:1}))],On.prototype,"fontSize",2);N([P(Dt)],On.prototype,"fontFamily",2);N([P(Ct)],On.prototype,"spacing",2);N([P(Mg),fh(NaN)],On.prototype,"minSpacing",2);N([P(ke,{optional:!0})],On.prototype,"color",2);N([P(fe,{optional:!0})],On.prototype,"rotation",2);N([P(Gt)],On.prototype,"avoidCollisions",2);N([P(Gt)],On.prototype,"mirrored",2);N([P(Gt)],On.prototype,"parallel",2);N([P(ea,{optional:!0})],On.prototype,"itemStyler",2);N([P(ea,{optional:!0})],On.prototype,"formatter",2);N([P(Dt,{optional:!0})],On.prototype,"format",2);var GA=class{constructor(){this.enabled=!0,this.width=1,this.stroke=void 0}};N([P(Gt)],GA.prototype,"enabled",2);N([P(Ct)],GA.prototype,"width",2);N([P(ke,{optional:!0})],GA.prototype,"stroke",2);var Dg=class extends Qt{constructor(){super(...arguments),this.enabled=!0,this.width=1,this.size=6}};N([P(Gt)],Dg.prototype,"enabled",2);N([P(Ct)],Dg.prototype,"width",2);N([P(Ct)],Dg.prototype,"size",2);N([P(ke,{optional:!0})],Dg.prototype,"stroke",2);var Tr=class extends Qt{constructor(){super(...arguments),this.caption=new qe,this.enabled=!1,this.spacing=qe.SMALL_PADDING,this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always"}};N([P(Gt)],Tr.prototype,"enabled",2);N([P(Dt,{optional:!0})],Tr.prototype,"text",2);N([P(Ct,{optional:!0})],Tr.prototype,"spacing",2);N([P(Oc,{optional:!0})],Tr.prototype,"fontStyle",2);N([P(Rc,{optional:!0})],Tr.prototype,"fontWeight",2);N([P(Ct)],Tr.prototype,"fontSize",2);N([P(Dt)],Tr.prototype,"fontFamily",2);N([P(ke,{optional:!0})],Tr.prototype,"color",2);N([P(PA)],Tr.prototype,"wrapping",2);N([P(ea,{optional:!0})],Tr.prototype,"formatter",2);var bH=(t=>(t[t.TickAndDomain=0]="TickAndDomain",t[t.TicksOnly=1]="TicksOnly",t[t.Off=2]="Off",t))(bH||{});function kM(t){const[e,i]=Hn(t.range),n=Math.floor(e),s=Math.ceil(i);return{min:n,max:s,visible:n!==s}}var pL=Math.PI*2,Bot=pL/2;function zot(t,e){return Math.abs(e-t)<Bot?e:t>e?e+pL:e-pL}function vH(t){const e=(o,r)=>{const[l=t.min,c=t.max]=Hn(r??[]);return o<l||o>c};return{tick:{fromFn(o,r,l){let c=o.y1+o.translationY,h=o.opacity;return(l==="added"||e(o.datum.translationY,o.datum.range))&&(c=r.translationY,h=0),{y:0,translationY:c,opacity:h,phase:fr[l]}},toFn(o,r,l){const c=r.translationY;let h=1;return l==="removed"&&(h=0),{y:0,translationY:c,opacity:h,finish:{y:c,translationY:0}}},applyFn(o,r){o.setProperties(r),o.visible=!e(o.y)}},line:{fromFn(o,r){return{...o.previousDatum??r,phase:fr.updated}},toFn(o,r){return{...r}}},label:{fromFn(o,r,l){const c=o.previousDatum??r,h=c.x,p=c.y,f=c.rotationCenterX;let y=Math.round(o.translationY),m=c.rotation,b=o.opacity;return l==="removed"||e(c.y,c.range)?m=r.rotation:(l==="added"||e(o.datum.y,o.datum.range))&&(y=Math.round(c.translationY),b=0,m=r.rotation),{x:h,y:p,rotationCenterX:f,translationY:y,rotation:m,opacity:b,phase:fr[l]}},toFn(o,r,l){var b;const c=r.x,h=r.y,p=r.rotationCenterX,f=Math.round(r.translationY);let y=0,m=1;return l==="added"?y=r.rotation:l==="removed"?(m=0,y=r.rotation):y=zot(((b=o.previousDatum)==null?void 0:b.rotation)??r.rotation,r.rotation),{x:c,y:h,rotationCenterX:p,translationY:f,rotation:y,opacity:m,finish:{rotation:r.rotation}}}},group:{fromFn(o,r){const{rotation:l,translationX:c,translationY:h}=o;return{rotation:l,translationX:c,translationY:h,phase:fr.updated}},toFn(o,r){const{rotation:l,translationX:c,translationY:h}=r;return{rotation:l,translationX:c,translationY:h}}}}}function SH(){return(t,e)=>({rotation:e.rotation,rotationCenterX:e.rotationCenterX,rotationCenterY:e.rotationCenterY,translationX:e.translationX,translationY:e.translationY})}function JN(t){const{visible:e,min:i,max:n}=t;return(s,a)=>{const o=a.translationY,r=e&&o>=i&&o<=n;return{y:o,translationY:0,opacity:1,visible:r}}}function tE(){return(t,e)=>({x:e.x,y:e.y,translationY:e.translationY,rotation:e.rotation,rotationCenterX:e.rotationCenterX})}function MH(){return(t,e)=>({...e})}var LM=class extends ep(Ka){},AH=(t=>(t[t.TickLines=0]="TickLines",t[t.AxisLine=1]="AxisLine",t[t.TickLabels=2]="TickLabels",t))(AH||{}),Bc=class DH{constructor(e,i){this.moduleCtx=e,this.scale=i,this.id=Wo(this),this.nice=!0,this.reverse=!1,this.keys=[],this.interval=new ip,this.dataDomain={domain:[],clipped:!1},this.layoutConstraints={stacked:!0,align:"start",width:100,unit:"percent"},this.boundSeries=[],this.includeInvisibleDomains=!1,this.interactionEnabled=!0,this.axisGroup=new Im({name:`${this.id}-axis`}),this.tickLineGroup=this.axisGroup.appendChild(new Kt({name:`${this.id}-Axis-tick-lines`,zIndex:0})),this.tickLabelGroup=this.axisGroup.appendChild(new Kt({name:`${this.id}-Axis-tick-labels`,zIndex:2})),this.labelGroup=new Kt({name:`${this.id}-Labels`,zIndex:9}),this.gridGroup=new Im({name:`${this.id}-Axis-grid`,zIndex:1}),this.gridLineGroup=this.gridGroup.appendChild(new Kt({name:`${this.id}-gridLines`})),this.crossLineRangeGroup=new Im({name:`${this.id}-CrossLines-Range`,zIndex:4}),this.crossLineLineGroup=new Im({name:`${this.id}-CrossLines-Line`,zIndex:8}),this.crossLineLabelGroup=new Im({name:`${this.id}-CrossLines-Label`,zIndex:13}),this.tickLineGroupSelection=Xi.select(this.tickLineGroup,LM,!1),this.tickLabelGroupSelection=Xi.select(this.tickLabelGroup,pg,!1),this.gridLineGroupSelection=Xi.select(this.gridLineGroup,LM,!1),this._crossLines=[],this.line=new GA,this.tick=new Dg,this.gridLine=new FA,this.label=this.createLabel(),this.defaultTickMinSpacing=DH.defaultTickMinSpacing,this.translation={x:0,y:0},this.rotation=0,this.layout={label:{fractionDigits:0,spacing:this.label.spacing,format:this.label.format}},this.axisContext=void 0,this.labelFormatter=void 0,this.datumFormatter=void 0,this.scaleFormatterParams=void 0,this.destroyFns=[],this.range=[0,1],this.visibleRange=[0,1],this.title=new Tr,this.gridLength=0,this.gridPadding=0,this.seriesAreaPadding=0,this.animatable=!0,this._scaleNiceDomainInputDomain=void 0,this._scaleNiceDomainRangeExtent=NaN,this.moduleMap=new KN,this.range=this.scale.range.slice(),this.crossLines.forEach(n=>this.initCrossLine(n))}get type(){return this.constructor.type??""}get labelNodes(){return this.tickLabelGroupSelection.nodes()}set crossLines(e){const{CrossLineConstructor:i}=this.constructor;this._crossLines.forEach(n=>this.detachCrossLine(n)),this._crossLines=e.map(n=>{const s=new i;return s.set(n),s}),this._crossLines.forEach(n=>{this.attachCrossLine(n),this.initCrossLine(n)})}get crossLines(){return this._crossLines}resetAnimation(e){}attachCrossLine(e){this.crossLineRangeGroup.appendChild(e.rangeGroup),this.crossLineLineGroup.appendChild(e.lineGroup),this.crossLineLabelGroup.appendChild(e.labelGroup)}detachCrossLine(e){this.crossLineRangeGroup.removeChild(e.rangeGroup),this.crossLineLineGroup.removeChild(e.lineGroup),this.crossLineLabelGroup.removeChild(e.labelGroup)}destroy(){this.moduleMap.destroy(),this.destroyFns.forEach(e=>e())}updateScale(){const{range:e,visibleRange:i,scale:n}=this,s=(e[1]-e[0])/(i[1]-i[0]),a=s*i[0],o=e[0]-a;n.range=[o,o+s],this.crossLines.forEach(r=>{r.clippedRange=[e[0],e[1]]})}setCrossLinesVisible(e){this.crossLineRangeGroup.visible=e,this.crossLineLineGroup.visible=e,this.crossLineLabelGroup.visible=e}attachAxis(e){e.gridNode.appendChild(this.gridGroup),e.axisNode.appendChild(this.axisGroup),e.labelNode.appendChild(this.labelGroup),e.crossLineRangeNode.appendChild(this.crossLineRangeGroup),e.crossLineLineNode.appendChild(this.crossLineLineGroup),e.crossLineLabelNode.appendChild(this.crossLineLabelGroup)}detachAxis(e){e.gridNode.removeChild(this.gridGroup),e.axisNode.removeChild(this.axisGroup),e.labelNode.removeChild(this.labelGroup),e.crossLineRangeNode.removeChild(this.crossLineRangeGroup),e.crossLineLineNode.removeChild(this.crossLineLineGroup),e.crossLineLabelNode.removeChild(this.crossLineLabelGroup)}attachLabel(e){this.labelGroup.append(e)}inRange(e,i=0){const[n,s]=Hn(this.range);return e>=n-i&&e<=s+i}defaultDatumFormatter(e,i){return kc(e,i+1)}defaultLabelFormatter(e,i){return kc(e,i)}onGridLengthChange(e,i){i^e&&this.onGridVisibilityChange(),this.crossLines.forEach(n=>this.initCrossLine(n))}onGridVisibilityChange(){this.gridLineGroupSelection.clear()}createLabel(){return new On}update(){this.updatePosition(),this.updateSelections(),this.tickLineGroup.visible=this.tick.enabled,this.gridLineGroup.visible=this.gridLine.enabled,this.tickLabelGroup.visible=this.label.enabled,this.updateLabels(),this.updateGridLines(),this.updateTickLines(),this.updateCrossLines()}getAxisLineCoordinates(){const[e,i]=Hn(this.range);return{x:0,y1:e,y2:i}}getLabelStyles(e,i){const{label:n}=this,s={color:n.color,spacing:n.spacing,fontFamily:n.fontFamily,fontSize:n.fontSize,fontStyle:n.fontStyle,fontWeight:n.fontWeight};let a;n.itemStyler&&(a=this.moduleCtx.callbackCache.call(n.itemStyler,{...e,...s}));const{color:o,fontFamily:r,fontSize:l,fontStyle:c,fontWeight:h,spacing:p}=ne(a,i,s);return{fill:o,fontFamily:r,fontSize:l,fontStyle:c,fontWeight:h,spacing:p}}getTickSize(){return this.tick.enabled?this.tick.size:0}setTitleProps(e,i){const{title:n}=this;if(!n.enabled){e.enabled=!1,e.node.visible=!1;return}e.enabled=!0,e.color=n.color,e.fontFamily=n.fontFamily,e.fontSize=n.fontSize,e.fontStyle=n.fontStyle,e.fontWeight=n.fontWeight,e.wrapping=n.wrapping;const s=e.node,a=(n.spacing??0)+i.spacing,o=this.label.getSideFlag(),r=si(this.rotation),l=o===-1&&r>Math.PI&&r<Math.PI*2?-1:1,c=l*o*Math.PI/2,h=l===1?"bottom":"top",{range:p}=this,f=Math.floor(l*o*(p[0]+p[1])/2),y=Math.floor(o===-1?l*-a:-a),{callbackCache:m}=this.moduleCtx,{formatter:b=v=>v.defaultValue}=n,S=m.call(b,this.getTitleFormatterParams());e.text=S,s.setProperties({visible:!0,text:S,textBaseline:h,x:f,y,rotation:c})}processData(){const{includeInvisibleDomains:e,boundSeries:i,direction:n}=this,a=(e?i:i.filter(o=>o.isEnabled())).map(o=>o.getDomain(n));this.setDomains(...a)}setDomains(...e){let i,n;e.length>0?{domain:i,animatable:n}=this.scale.normalizeDomains(...e):(i=[],n=!0),this.dataDomain=this.normaliseDataDomain(i),this.reverse&&this.dataDomain.domain.reverse(),this.animatable=n}calculateLayout(e){const{scale:i,label:n,visibleRange:s,nice:a}=this;this.updateScale();const o=ug(this.range),r=this.dataDomain.domain;let l;s[0]===0&&s[1]===1?l=void 0:a?this._scaleNiceDomainInputDomain===r&&this._scaleNiceDomainRangeExtent===o?l=this.scale.domain:l=this.calculateTickLayout(r,0,[0,1]).niceDomain:l=r;let c;a?l==null?c=0:c=1:c=2;const{niceDomain:h,primaryTickCount:p,ticks:f,tickDomain:y,fractionDigits:m,bbox:b}=this.calculateTickLayout(l??r,c,s,e);this.scale.domain=h,this._scaleNiceDomainInputDomain=a?r:void 0,this._scaleNiceDomainRangeExtent=a?o:NaN;const S=n.format;this.labelFormatter=i.tickFormatter({domain:y,specifier:S,ticks:f,fractionDigits:m})??(E=>this.defaultLabelFormatter(E,m)),this.datumFormatter=i.datumFormatter({domain:y,specifier:S,ticks:f,fractionDigits:m})??(E=>this.defaultDatumFormatter(E,m)),this.scaleFormatterParams={domain:y,ticks:f,fractionDigits:m},this.layout.label={fractionDigits:m,spacing:this.label.spacing,format:this.label.format};const v=n.getSideFlag(),D=this.isAnySeriesActive(),{rotation:I,parallelFlipRotation:T,regularFlipRotation:k}=this.calculateRotations();return this.crossLines.forEach(E=>{var R;var w;E.sideFlag=-v,E.direction=I===-Math.PI/2?"x":"y",E instanceof Aa&&((w=E.label).parallel??(w.parallel=n.parallel)),E.parallelFlipRotation=T,E.regularFlipRotation=k,(R=E.calculateLayout)==null||R.call(E,D,this.reverse)}),{primaryTickCount:p,bbox:b}}getTransformBox(e){const i=new Sr,{rotation:n,translationX:s,translationY:a}=this.getAxisTransform();return Sr.updateTransformMatrix(i,1,1,n,s,a),i.transformBBox(e)}calculateRotations(){const e=bn(this.rotation),i=si(e),n=si(e-Math.PI/2);return{rotation:e,parallelFlipRotation:i,regularFlipRotation:n}}updateCrossLines(){const e=this.isAnySeriesActive();this.crossLines.forEach(i=>{i.update(e)})}updateTickLines(){const{tick:e,label:i}=this,n=i.getSideFlag();this.tickLineGroupSelection.each((s,a)=>{s.strokeWidth=a.tickWidth??e.width,s.stroke=a.tickStroke??e.stroke,s.x1=n*(a.tickSize??this.getTickSize()),s.x2=0})}getAxisTransform(){return{rotation:bn(this.rotation),translationX:Math.floor(this.translation.x),translationY:Math.floor(this.translation.y)}}updatePosition(){const{crossLineRangeGroup:e,crossLineLineGroup:i,crossLineLabelGroup:n,gridGroup:s,translation:a}=this,{rotation:o}=this.calculateRotations(),r=Math.floor(a.x),l=Math.floor(a.y);e.setProperties({rotation:o,translationX:r,translationY:l}),i.setProperties({rotation:o,translationX:r,translationY:l}),n.setProperties({rotation:o,translationX:r,translationY:l}),s.setProperties({rotation:o,translationX:r,translationY:l})}updateGridLines(){const e=this.label.getSideFlag(),{gridLine:{style:i,width:n},gridPadding:s,gridLength:a}=this;a===0||i.length===0||this.gridLineGroupSelection.each((o,r,l)=>{const{stroke:c,lineDash:h}=i[l%i.length];o.setProperties({x1:s,x2:-e*a+s,stroke:c,strokeWidth:n,lineDash:h})})}formatTick(e,i,n,s){const{labelFormatter:a,label:{formatter:o},moduleCtx:{callbackCache:r}}=this;let l;return o?l=r.call(o,{value:e,index:i,fractionDigits:n}):s?l=s(e):a&&(l=a(e)),String(l??e)}formatDatum(e){const{label:{formatter:i},moduleCtx:{callbackCache:n},datumFormatter:s=this.labelFormatter}=this;let a;return i?a=n.call(i,{value:e,index:NaN}):s?a=n.call(s,e):oi(e)&&(a=e.filter(Boolean).join(" - ")),String(a??e)}getScaleValueFormatter(e){const{scaleFormatterParams:i}=this;let n;try{e!=null&&i!=null&&(n=this.scale.tickFormatter({...i,specifier:e}))}catch{It.warnOnce(`the format string ${e} is invalid, ignoring.`)}return n??(n=s=>this.formatDatum(s)),n}getBBox(){return this.axisGroup.getBBox()}initCrossLine(e){e.scale=this.scale,e.gridLength=this.gridLength}isAnySeriesActive(){return this.boundSeries.some(e=>this.includeInvisibleDomains||e.isEnabled())}clipTickLines(e,i,n,s){this.tickLineGroup.setClipRect(new Rt(e,i,n,s))}clipGrid(e,i,n,s){this.gridGroup.setClipRect(new Rt(e,i,n,s))}getTitleFormatterParams(){var n;const{direction:e}=this,i=[];for(const s of this.boundSeries){const a=s.getKeys(e),o=s.getNames(e);for(let r=0;r<a.length;r++)i.push({key:a[r],name:o[r]})}return{direction:e,boundSeries:i,defaultValue:(n=this.title)==null?void 0:n.text}}normaliseDataDomain(e){return{domain:[...e],clipped:!1}}getLayoutState(){return{id:this.id,rect:this.getBBox(),gridPadding:this.gridPadding,seriesAreaPadding:this.seriesAreaPadding,tickSize:this.getTickSize(),direction:this.direction,domain:this.dataDomain.domain,scale:this.scale,...this.layout}}getModuleMap(){return this.moduleMap}createModuleContext(){return this.axisContext??(this.axisContext=this.createAxisContext()),{...this.moduleCtx,parent:this.axisContext}}createAxisContext(){const{scale:e}=this;return{axisId:this.id,scale:this.scale,direction:this.direction,continuous:Oe.is(e)||cl.is(e),getCanvasBounds:()=>Ni.toCanvas(this.axisGroup),seriesKeyProperties:()=>this.boundSeries.reduce((i,n)=>(n.getKeyProperties(this.direction).forEach(a=>i.add(a)),i),new Set),seriesIds:()=>this.boundSeries.map(i=>i.id),scaleValueFormatter:i=>this.getScaleValueFormatter(i),scaleInvert:i=>e.invert(i,!0),scaleInvertNearest:i=>e.invert(i,!0),attachLabel:i=>this.attachLabel(i),inRange:(i,n)=>this.inRange(i,n)}}isReversed(){return this.reverse}};Bc.defaultTickMinSpacing=50;Bc.CrossLineConstructor=Aa;N([P(Gt)],Bc.prototype,"nice",2);N([P(Gt)],Bc.prototype,"reverse",2);N([P(PU)],Bc.prototype,"keys",2);N([P(Lt)],Bc.prototype,"interval",2);N([P(Lt)],Bc.prototype,"title",2);N([ph((t,e,i)=>t.onGridLengthChange(e,i))],Bc.prototype,"gridLength",2);var eE=Bc;function _ot(t,e,i,n,s,a){if(t.size===0)return!1;let o=t.x,r=t.y;e!=null&&(o-=(e.x-.5)*t.size,r-=(e.y-.5)*t.size);let l=o;o<i?l=i:o>i+s&&(l=i+s);let c=r;r<n?c=n:r>n+a&&(c=n+a);const h=o-l,p=r-c;return Math.sqrt(h*h+p*p)<=t.size*.5}function IH(t,e,i,n,s){const a=t.x+t.width>e&&t.x<e+n,o=t.y+t.height>i&&t.y<i+s;return a&&o}function jot(t,e,i,n,s){return e+n<t.x+t.width&&e>t.x&&i>t.y&&i+s<t.y+t.height}function Fot(t){return t!=null&&typeof t.point=="object"&&typeof t.label=="object"}var Got={top:{x:0,y:-1},bottom:{x:0,y:1},left:{x:-1,y:0},right:{x:1,y:0},"top-left":{x:-1,y:-1},"top-right":{x:1,y:-1},"bottom-left":{x:-1,y:1},"bottom-right":{x:1,y:1}};function Vot(t,e,i=5){var r;const n=new Map,s=[],a=new Map([...t.entries()].map(([l,c])=>[l,c.toSorted((h,p)=>p.point.size-h.point.size)])),o=[...a.values()].flat();for(const[l,c]of a.entries()){const h=[];if((r=c[0])!=null&&r.label){for(let p=0,f=c.length;p<f;p++){const y=c[p],{point:m,label:b,anchor:S}=y,{text:v,width:D,height:I}=b,T=m.size*.5;let k=0,E=0;if(T>0&&y.placement!=null){const V=Got[y.placement];k=(D*.5+T+i)*V.x,E=(I*.5+T+i)*V.y}const w=m.x-D*.5+k-(((S==null?void 0:S.x)??.5)-.5)*m.size,R=m.y-I*.5+E-(((S==null?void 0:S.y)??.5)-.5)*m.size;if(!(!e||jot(e,w,R,D,I))||o.some(V=>_ot(V.point,V.anchor,w,R,D,I))||s.some(V=>IH(V,w,R,D,I)))continue;const z={index:p,text:v,x:w,y:R,width:D,height:I,datum:y};h.push(z),s.push(z)}n.set(l,h)}}return n}function Uot(t,e=0){const i=[];for(let n=0;n<t.length;n++){const s=t[n],{point:{x:a,y:o},label:{text:r}}=s;let{width:l,height:c}=s.label;if(l+=e,c+=e,i.some(h=>IH(h,a,o,l,c)))return!0;i.push({index:n,text:r,x:a,y:o,width:l,height:c,datum:s})}return!1}function Hot(t,e,i){let[n,s]=Hn(t);n=Wot(Math.floor(n),s,e);const a=$ot(n,s,e),o=e-1;s=n+o*a;const r=i?[s,n]:[n,s],l=Yot(n,a,e);return{domain:r,ticks:l}}function Wot(t,e,i){const n=Math.abs(e-t)/(i-1),s=Math.floor(Math.log10(n)),a=Math.pow(10,s);return Math.floor(t/a)*a}function Yot(t,e,i){const n=Math.floor(Math.log10(e)),s=e>0&&e<1?Math.abs(n):0,a=Math.pow(10,s),o=[];for(let r=0;r<i;r++){const l=t+e*r;o[r]=Math.round(l*a)/a}return o}function $ot(t,e,i){const n=i-1,s=(e-t)/n;return Kot(s)}function Kot(t){const e=Math.floor(Math.log10(t)),i=Math.pow(10,e),n=t/i*10;return n>0&&n<=1?i/10:n>1&&n<=2?2*i/10:n>1&&n<=5?5*i/10:n>5&&n<=10?10*i/10:n>10&&n<=20?20*i/10:n>20&&n<=40?40*i/10:n>40&&n<=50?50*i/10:n>50&&n<=100?100*i/10:n}function iE(){const t=new Map;return e=>{const i=t.get(e);return i?(t.set(e,i+1),`${e}_${i}`):(t.set(e,1),e)}}var TH=class{constructor(e){this.axis=e}estimateTickCount(e,i,n){return cH(ug(this.axis.range),ug(e),i,n,Oe.defaultTickCount,this.axis.defaultTickMinSpacing)}filterTicks(e,i){const{minSpacing:n,maxSpacing:s}=this.axis.interval,o=!isNaN(n)||!isNaN(s)?Math.ceil(e.length/i):2,r=e.length%o?-1:0;return e.filter((l,c)=>(c+r)%o===0)}generateTicks({domain:e,primaryTickCount:i,visibleRange:n,niceMode:s,parallelFlipRotation:a,regularFlipRotation:o,labelX:r,sideFlag:l}){const{scale:c,label:h,interval:{minSpacing:p,maxSpacing:f}}=this.axis,{parallel:y,rotation:m,fontFamily:b,fontSize:S,fontStyle:v,fontWeight:D}=h,I=i!==void 0,{defaultRotation:T,configuredRotation:k,parallelFlipFlag:E,regularFlipFlag:w}=TM({rotation:m,parallel:y,regularFlipRotation:o,parallelFlipRotation:a}),R=k+T,O=new Sr,{maxTickCount:L}=this.estimateTickCount(n,p,f),z=!(Oe.is(c)||cl.is(c))||isNaN(L)?10:L;let V=C_(y,k,0,l,w);const H=Tot(y,k,l,E),W=xi.toFontString({fontFamily:b,fontSize:S,fontStyle:v,fontWeight:D}),G=Pc.getMeasurer({font:W}),$={fontFamily:b,fontSize:S,fontStyle:v,fontWeight:D,textBaseline:H,textAlign:V},K=h.enabled&&h.avoidCollisions,X=({ticks:at},lt)=>{if(!K)return!1;const ut=k!==0||lt!==0,pt=R+lt,ot=Iot(h.minSpacing,ut);Sr.updateTransformMatrix(O,1,1,pt,0,0);const ft=Cot(at,r,O,G);return Uot(ft,ot)};let j={tickDomain:[],ticks:[],rawTicks:[],fractionDigits:0,niceDomain:void 0},U=0,Z=0,tt=!0,J=!1;for(;!J&&tt&&U<=z;){Z=0;for(const at of this.getTickStrategies({domain:e,niceMode:s,secondaryAxis:I,index:U}))({tickData:j,index:U,autoRotation:Z,terminate:J}=at({index:U,tickData:j,textProps:$,terminate:J,primaryTickCount:i,visibleRange:n,get labelOverlap(){return X(j,Z)}}));tt=X(j,Z)}V=C_(y,k,Z,l,w);const nt=T+k+Z;return!I&&j.rawTicks.length>0&&(i=j.rawTicks.length),{tickData:j,primaryTickCount:i,combinedRotation:nt,textBaseline:H,textAlign:V}}getTickStrategies({domain:e,niceMode:i,index:n,secondaryAxis:s}){const{scale:a,label:o,interval:r}=this.axis,{minSpacing:l}=r,c=Oe.is(a)||cl.is(a),h=o.enabled&&o.avoidCollisions,p=!c&&n!==0&&h,f=o.autoRotate===!0&&o.rotation===void 0,y=[];let m;r.values?m=3:s?m=1:p?m=2:m=0;const b=({index:S,tickData:v,primaryTickCount:D,visibleRange:I,terminate:T})=>this.createTickData(e,i,I,D,m,S,v,T);if(y.push(b),!c&&!isNaN(l)){const S=({index:v,tickData:D,primaryTickCount:I,visibleRange:T,terminate:k})=>this.createTickData(e,i,T,I,2,v,D,k);y.push(S)}if(h&&f){const S=({index:v,tickData:D,labelOverlap:I,terminate:T})=>({index:v,tickData:D,autoRotation:I?si(bn(o.autoRotateAngle??0)):0,terminate:T});y.push(S)}return y}createTickData(e,i,n,s,a,o,r,l){const{scale:c,interval:h}=this.axis,{step:p,values:f,minSpacing:y,maxSpacing:m}=h,{maxTickCount:b,minTickCount:S,tickCount:v}=this.estimateTickCount(n,y,m),D=Oe.is(c)||cl.is(c),I=!D||isNaN(b)?10:b,T=E=>D?Math.max(v-E,S):b,k=p==null&&f==null&&T(o)>S&&(D||a===2);for(;o<=I;){const E=r.rawTicks;if(r=this.getTicks({domain:e,niceMode:i,visibleRange:n,tickGenerationType:a,previousTicks:E,minTickCount:S,maxTickCount:b,primaryTickCount:s,tickCount:T(o)}),o++,!k||!ll(r.rawTicks,E))break}return l||(l=p!=null||f!=null),{tickData:r,index:o,autoRotation:0,terminate:l}}getTicks({domain:e,niceMode:i,visibleRange:n,tickGenerationType:s,previousTicks:a,tickCount:o,minTickCount:r,maxTickCount:l,primaryTickCount:c}){const{axis:h}=this,{label:p,range:f,scale:y,interval:m}=h,b=iE(),S={nice:i===0,interval:m.step,tickCount:o,minTickCount:r,maxTickCount:l},v={...S,nice:i===0||i===1};let D=i===0?y.niceDomain(S,e):e,I=D,T;switch(s){case 3:if(I=m.values,T=m.values,Oe.is(y)){const[F,z]=Hn(D.map(Number));T=T.filter(V=>Number(V)>=F&&Number(V)<=z).sort((V,H)=>Number(V)-Number(H))}break;case 1:if(Oe.is(y)){const F=Hot(e.map(Number),c??0,h.reverse);T=F.ticks,D=F.domain.map(z=>y.toDomain(z))}else T=y.ticks(v,D,n)??[];break;case 2:T=this.filterTicks(a,o);break;default:T=y.ticks(v,D,n)??[]}const k=T.reduce((F,z)=>Math.max(F,typeof z=="number"?IA(z):0),0),E={domain:I,ticks:T,fractionDigits:k,specifier:p.format},w=y.tickFormatter(E),R=y.domain;y.domain=D;const O=(y.bandwidth??0)/2,L=[];for(let F=0;F<T.length;F++){const z=T[F],V=y.convert(z)+O;if(f.length>0&&!h.inRange(V,.001))continue;const H=p.enabled?h.formatTick(z,F,k,w):"";L.push({tick:z,tickId:b(H),tickLabel:H,translationY:Math.floor(V)})}return y.domain=R,{tickDomain:I,rawTicks:T,fractionDigits:k,ticks:L,niceDomain:D}}},nE=class extends On{constructor(){super(...arguments),this.autoRotateAngle=335}};N([P(Gt,{optional:!0})],nE.prototype,"autoRotate",2);N([P(fe)],nE.prototype,"autoRotateAngle",2);var sE=class CH extends eE{constructor(e,i){super(e,i),this.lineNode=this.axisGroup.appendChild(new LM({name:`${this.id}-Axis-line`,zIndex:1})),this.tempText=new pg,this.tempCaption=new qe,this.tickGenerator=new TH(this),this.generatedTicks=void 0,this.animationManager=e.animationManager,this.animationState=new bb("empty",{empty:{update:{target:"ready",action:()=>this.resetSelectionNodes()},reset:"empty"},ready:{update:s=>this.animateReadyUpdate(s),resize:()=>this.resetSelectionNodes(),reset:"empty"}}),this.axisGroup.appendChild(this.title.caption.node);let n;this.destroyFns.push(e.layoutManager.addListener("layout:complete",s=>{const a=[s.chart.width,s.chart.height];n!=null&&!ll(a,n)&&this.animationState.transition("resize"),n=a}),this.title.caption.registerInteraction(this.moduleCtx,"afterend"))}static is(e){return e instanceof CH}resetAnimation(e){e==="initial"&&this.animationState.transition("reset")}get direction(){return this.position==="top"||this.position==="bottom"?"x":"y"}createAxisContext(){return{...super.createAxisContext(),position:this.position}}createLabel(){return new nE}updateDirection(){switch(this.position){case"top":this.rotation=-90,this.label.mirrored=!0,this.label.parallel=!0;break;case"right":this.rotation=0,this.label.mirrored=!0,this.label.parallel=!1;break;case"bottom":this.rotation=-90,this.label.mirrored=!1,this.label.parallel=!0;break;case"left":this.rotation=0,this.label.mirrored=!1,this.label.parallel=!1;break}this.axisContext&&(this.axisContext.position=this.position,this.axisContext.direction=this.direction)}calculateLayout(e){return this.updateDirection(),super.calculateLayout(e)}calculateTickLayout(e,i,n,s){const a=this.label.getSideFlag(),{parallelFlipRotation:o,regularFlipRotation:r}=this.calculateRotations(),l=a*(this.getTickSize()+this.label.spacing+this.seriesAreaPadding),c=this.tickGenerator.generateTicks({domain:e,niceMode:i,visibleRange:n,primaryTickCount:s,parallelFlipRotation:o,regularFlipRotation:r,labelX:l,sideFlag:a}),{tickData:h,primaryTickCount:p=s}=c,{ticks:f,tickDomain:y,rawTicks:m,fractionDigits:b,niceDomain:S=e}=h,v=f.map(I=>this.getTickLabelProps(I,c)),D=this.tickBBox(f,v);return this.generatedTicks={ticks:f,labels:v},{ticks:m,tickDomain:y,niceDomain:S,primaryTickCount:p,fractionDigits:b,bbox:D}}update(){var a;this.updateDirection();const e=Array.from(this.tickLabelGroupSelection.nodes(),o=>o.datum.tickId);if(super.update(),this.animatable||this.moduleCtx.animationManager.skipCurrentBatch(),this.generatedTicks){const{ticks:o}=this.generatedTicks;if(this.animationManager.isSkipped())this.resetSelectionNodes();else{const r=o.map(c=>c.tickId),l=cst(e,r);this.animationState.transition("update",l)}}const{enabled:i,stroke:n,width:s}=this.line;this.lineNode.setProperties({stroke:n,strokeWidth:i?s:0}),this.updateTitle(!((a=this.generatedTicks)!=null&&a.ticks.length))}updatePosition(){super.updatePosition(),this.axisGroup.datum=this.getAxisTransform()}tickBBox(e,i){var p;const n=this.label.getSideFlag(),s=[],{x:a,y1:o,y2:r}=this.getAxisLineCoordinates(),l=new Rt(a+Math.min(n*this.seriesAreaPadding,0),o,this.seriesAreaPadding,r-o);if(s.push(l),this.tick.enabled)for(const f of e){const{x1:y,x2:m,y:b}=this.getTickLineCoordinates(f),S=new Rt(y,b,m-y,0);s.push(S)}const{tempText:c}=this;if(this.label.enabled)for(const f of i){if(!f.visible)continue;c.setProperties({...f,translationY:Math.round(f.translationY)});const y=c.getBBox();y&&s.push(y)}if((p=this.title)!=null&&p.enabled){const f=Rt.merge(s).width;this.setTitleProps(this.tempCaption,{spacing:f});const y=this.tempCaption.node.getBBox();y&&s.push(y)}const h=Rt.merge(s);return this.getTransformBox(h)}getTickLabelProps(e,i){const{combinedRotation:n,textBaseline:s,textAlign:a}=i,{range:o}=this.scale,r=e.tickLabel,c=this.label.getSideFlag()*(this.getTickSize()+this.label.spacing+this.seriesAreaPadding),h=r!==""&&r!=null;return{...this.getLabelStyles({value:e.tickLabel}),tickId:e.tickId,rotation:n,rotationCenterX:c,translationY:e.translationY,text:r,textAlign:a,textBaseline:s,visible:h,x:c,y:0,range:o}}getTickLineCoordinates(e){const n=this.label.getSideFlag()*this.getTickSize(),s=Math.min(0,n),a=s+Math.abs(n),o=e.translationY;return{x1:s,x2:a,y:o}}updateSelections(){if(!this.generatedTicks)return;const e=this.getAxisLineCoordinates(),{ticks:i,labels:n}=this.generatedTicks,s=a=>a.tickId;this.lineNode.datum=e,this.gridLineGroupSelection.update(this.gridLength?i:[],void 0,s),this.tickLineGroupSelection.update(i,void 0,s),this.tickLabelGroupSelection.update(n,void 0,s)}updateTitle(e,i){const{title:n,tickLineGroup:s,tickLabelGroup:a,lineNode:o}=this;n.enabled&&!e&&i==null&&(i=Kt.computeChildrenBBox([s,a,o]).width+(a.visible?0:this.seriesAreaPadding)),i??(i=0),this.setTitleProps(n.caption,{spacing:i})}updateLabels(){this.label.enabled&&this.tickLabelGroupSelection.each((e,i)=>{e.fill=i.fill,e.fontFamily=i.fontFamily,e.fontSize=i.fontSize,e.fontStyle=i.fontStyle,e.fontWeight=i.fontWeight,e.text=i.text,e.textBaseline=i.textBaseline,e.textAlign=i.textAlign??"center"})}animateReadyUpdate(e){const{animationManager:i}=this.moduleCtx,n=kM(this),s=vH(n);Ti(this.id,"axis-group",i,[this.axisGroup],s.group),Ti(this.id,"line",i,[this.lineNode],s.line),Ti(this.id,"line-paths",i,[this.gridLineGroupSelection,this.tickLineGroupSelection],s.tick,(a,o)=>o.tickId,e),Ti(this.id,"tick-labels",i,[this.tickLabelGroupSelection],s.label,(a,o)=>o.tickId,e)}resetSelectionNodes(){const e=kM(this);Vn([this.axisGroup],SH()),Vn([this.gridLineGroupSelection,this.tickLineGroupSelection],JN(e)),Vn([this.tickLabelGroupSelection],tE()),Vn([this.lineNode],MH())}};N([P(Ct,{optional:!0})],sE.prototype,"thickness",2);N([P(BN)],sE.prototype,"position",2);var vb=sE,Ig=class kH extends vb{constructor(e,i=new pb){super(e,i),this.groupPaddingInner=.1,this.includeInvisibleDomains=!0}static is(e){return e instanceof kH}normaliseDataDomain(e){return{domain:e,clipped:!1}}updateScale(){super.updateScale();let{paddingInner:e,paddingOuter:i}=this;if(!xe(e)||!xe(i)){const n=this.reduceBandScalePadding();e??(e=n.inner),i??(i=n.outer)}this.scale.paddingInner=e??0,this.scale.paddingOuter=i??0}reduceBandScalePadding(){return this.boundSeries.reduce((e,i)=>{var s;const n=(s=i.getBandScalePadding)==null?void 0:s.call(i);return n&&(e.inner>n.inner&&(e.inner=n.inner),e.outer<n.outer&&(e.outer=n.outer)),e},{inner:1/0,outer:-1/0})}};Ig.className="CategoryAxis";Ig.type="category";N([P(Re)],Ig.prototype,"groupPaddingInner",2);N([P(Re,{optional:!0})],Ig.prototype,"paddingInner",2);N([P(Re,{optional:!0})],Ig.prototype,"paddingOuter",2);var Tg=Ig,VA=class{constructor(){this.destroyFns=[]}destroy(){for(const e of this.destroyFns)e()}},Xot=class{constructor(){this.modules=[],this.dependencies=new Map,this.modulesByOptionKey=new Map}register(...t){for(const e of t){this.registerDependencies(e);const i=this.modules.find(n=>e.type===n.type&&("optionsKey"in e&&"optionsKey"in n?e.optionsKey===n.optionsKey:!0)&&e.identifier===n.identifier);if(i){if(e.packageType==="enterprise"&&i.packageType==="community"){const n=this.modules.indexOf(i);this.modules.splice(n,1,e),"optionsKey"in e&&this.modulesByOptionKey.set(e.optionsKey,e)}}else this.modules.push(e),"optionsKey"in e&&this.modulesByOptionKey.set(e.optionsKey,e)}}hasEnterpriseModules(){return this.modules.some(t=>t.packageType==="enterprise")}*byType(...t){const e=new Set,i=this.modules.filter(a=>t.includes(a.type)),n=a=>{const o=this.dependencies.get(a);return(o==null?void 0:o.flatMap(n).concat(o))??[]},s=[];for(const a of i){const o="optionsKey"in a?a.optionsKey:a.contextKey;if(!e.has(o)){for(const r of n(o)){if(e.has(r))continue;const l=this.modulesByOptionKey.get(r);if(!l){s.push(r);continue}t.includes(l.type)&&(yield l,e.add(r))}yield a,e.add(o)}}if(s.length>0)throw new Error(`Could not resolve module dependencies: ${s}`)}registerDependencies(t){if(t.dependencies==null||t.dependencies.length===0)return;const e="optionsKey"in t?t.optionsKey:t.contextKey;this.dependencies.set(e,t.dependencies)}},ul=new Xot,B_=class{constructor(){this.queue=[]}await(t=50){return new Promise(e=>{const i=()=>{clearTimeout(s),e(!0)},s=setTimeout(()=>{const a=this.queue.indexOf(i);a<0||(this.queue.splice(a,1),e(!1))},t);this.queue.push(i)})}notify(){this.queue.splice(0).forEach(t=>t())}};function Zot(){return new Promise(t=>{setTimeout(t,0)})}function NM(t,e){t&&(e=SA.normalize(e),e.width==null?t.style.removeProperty("width"):t.style.width=`${e.width}px`,e.height==null?t.style.removeProperty("height"):t.style.height=`${e.height}px`,e.x==null?t.style.removeProperty("left"):t.style.left=`${e.x}px`,e.y==null?t.style.removeProperty("top"):t.style.top=`${e.y}px`)}function LH(t){const e=parseFloat(t.style.width)||t.offsetWidth,i=parseFloat(t.style.height)||t.offsetHeight,n=parseFloat(t.style.left)||t.offsetLeft,s=parseFloat(t.style.top)||t.offsetTop;return{x:n,y:s,width:e,height:i}}function qot(t){var n;if(t.focus({preventScroll:!0}),((n=t.lastChild)==null?void 0:n.textContent)==null)return;const e=Tc().createRange();e.setStart(t.lastChild,t.lastChild.textContent.length),e.setEnd(t.lastChild,t.lastChild.textContent.length);const i=ai().getSelection();i==null||i.removeAllRanges(),i==null||i.addRange(e)}var Qot=0;function Jot(t){return`${t??"ag-charts-element"}-${Qot++}`}function NH(){const t=ai("navigator");if("scheduling"in t){const e=t.scheduling;if("isInputPending"in e)return e.isInputPending({includeContinuous:!0})}return!1}function UA(t){return`ag-charts-icon ag-charts-icon-${t}`}var fL="class-instance";function Lc(t,e,i){if(oi(e)){if(!oi(t)||t.length!==e.length||e.some((n,s)=>Lc(t[s],n)!=null))return e}else if(Ns(e)){if(!Ns(t))return e;const n={},s=new Set([...Object.keys(t),...Object.keys(e)]);for(const a of s)if(!(t[a]===e[a]||i!=null&&i.includes(a)))if(typeof t[a]==typeof e[a]){const o=Lc(t[a],e[a]);o!==null&&(n[a]=o)}else n[a]=e[a];return Object.keys(n).length?n:null}else if(t!==e)return e;return null}function EH(t,e){for(const i of Object.keys(t))if(t[i]!==(e==null?void 0:e[i]))return!1;return!0}function mn(t,e){return oi(t)?t.map(i=>mn(i,e)):Ns(t)?trt(t,e):t instanceof Map?new Map(mn(Array.from(t))):aE(t)}function trt(t,e){const i={};for(const n of Object.keys(t))i[n]=e!=null&&e.has(n)?aE(t[n]):mn(t[n],e);return i}function aE(t){return oi(t)?t.slice(0):Ns(t)?{...t}:vg(t)?new Date(t):pst(t)?new RegExp(t.source,t.flags):t}function xc(t,e,i,n,s,a){if(oi(t)){a=e(t,n,s,a);let o=0;for(const r of t)a=xc(r,e,i,n==null?void 0:n[o],s,a),o++}else if(Ns(t)){a=e(t,n,s,a);for(const o of Object.keys(t)){if(i!=null&&i.has(o))continue;const r=t[o];a=xc(r,e,i,n==null?void 0:n[o],s,a)}}return a}function lx(t,e,i={}){const{path:n,matcherPath:s=n==null?void 0:n.replace(/(\[[0-9+]+])/i,"[]"),skip:a=[]}=i;if(t==null)throw new Error(`AG Charts - target is uninitialised: ${n??"<root>"}`);if(e==null)return t;if(pl(t))return t.set(e);const o=t,r=p1(t);for(const l of Object.keys(e)){if(LN.has(l))continue;const c=`${s?s+".":""}${l}`;if(a.includes(c))continue;const h=e[l],p=`${n?n+".":""}${l}`,f=o.constructor,y=o[l];try{const m=p1(y),b=p1(h);if(r===fL&&!(l in t)){if(h===void 0)continue;It.warn(`unable to set [${p}] in ${f==null?void 0:f.name} - property is unknown`);continue}if(m!=null&&b!=null&&b!==m&&(m!==fL||b!=="object")){It.warn(`unable to set [${p}] in ${f==null?void 0:f.name} - can't apply type of [${b}], allowed types are: [${m}]`);continue}if(pl(y))o[l].set(h);else if(b==="object"){if(y==null){It.warn(`unable to set [${p}] in ${f==null?void 0:f.name} - property is unknown`);continue}lx(y,h,{...i,path:p,matcherPath:c})}else o[l]=h}catch(m){It.warn(`unable to set [${p}] in [${f==null?void 0:f.name}]; nested error is: ${m.message}`)}}return t}function p1(t){return t==null?null:fst(t)||vg(t)?"primitive":oi(t)?"array":Un(t)?Ns(t)?"object":fL:Jd(t)?"function":"primitive"}function wH(t,e,i){return gL(t,e,t,i)}function gL(t,e,i,n,s=[],a={}){if(oi(t)){z_(t,e,i,s,a);let o=0;for(const r of t)gL(r,e,i,n,[...s,`${o}`],a),o++}else if(Ns(t)){z_(t,e,i,s,a);for(const o of Object.keys(t)){if(n!=null&&n.has(o))continue;const r=t[o];gL(r,e,i,n,[...s,o],a)}}return a}function z_(t,e,i,n,s){if(oi(t))for(let a=0;a<t.length;a++)t[a]=__(t[a],e,i,[...n,`${a}`],s);else for(const[a,o]of Object.entries(t))t[a]=__(o,e,i,[...n,a],s)}function __(t,e,i,n,s){const{operation:a,values:o}=oE(t);return a?(s[n.join(".")]=t,RH(a,o,e,i,n,new Set)):t}var OH=(t=>(t.Ref="$ref",t.Path="$path",t.If="$if",t.Eq="$eq",t.Not="$not",t.Or="$or",t.And="$and",t.Mul="$mul",t.Round="$round",t.Rem="$rem",t.Mix="$mix",t.ForegroundBackgroundMix="$foregroundBackgroundMix",t.ForegroundBackgroundAccentMix="$foregroundBackgroundAccentMix",t))(OH||{}),ert=new Set(Object.values(OH));function oE(t){if(!Ns(t))return{};const[e,...i]=Object.keys(t);return i.length!==0||!ert.has(e)?{}:{operation:e,values:t[e]}}function RH(t,e,i,n,s,a){return oi(e)&&(e=e.map(o=>{const{operation:r,values:l}=oE(o);return r?RH(r,l,i,n,s,a):o})),PH[t](e,i,n,s,a)}function V0(t){return Oo(t)&&t>=0&&t<=1}var PH={$ref:(t,e,i,n,s)=>{if(ba(t)&&t in e){const{operation:a,values:o}=oE(e[t]);if(a!=="$ref")return e[t];if(s!=null&&s.has(o)){It.warnOnce(`\`$ref\` json operation failed on [${String(t)}] at [${n.join(".")}], circular reference detected with [${[...s].join(", ")}].`);return}return s==null||s.add(o),PH.$ref(o,e,i,n,s)}It.warnOnce(`\`$ref\` json operation failed on [${String(t)}] at [${n.join(".")}], expecting one of [${Object.keys(e).join(", ")}].`)},$path:(t,e,i,n)=>{if(!ba(t)){It.warnOnce(`\`$path\` json operation failed on [${String(t)}] at [${n.join(".")}], expecting a string.`);return}const s=t.split("/"),a=[...n];for(const r of s)r===".."?(a.pop(),a.pop()):r==="."?a.pop():a.push(r);let o=i;for(const r of a){if(!(r in o)){It.warnOnce(`\`$path\` json operation failed on [${String(t)}] at [${n.join(".")}], could not find path in object.`);return}o=o[r]}return o},$if:([t,e,i])=>t?e:i,$eq:([t,e])=>t===e,$not:([t,e])=>t!==e,$or:([t,e])=>t||e,$and:([t,e])=>t&&e,$mul:([t,e],i,n,s)=>{if(typeof t=="number"&&typeof e=="number")return t*e;It.warnOnce(`\`$mul\` json operation failed on [${String(t)}] and [${String(e)}] at [${s.join(".")}], expecting two numbers.`)},$round:([t],e,i,n)=>{if(typeof t=="number")return Math.round(t);It.warnOnce(`\`$round\` json operation failed on [${String(t)}] at [${n.join(".")}], expecting a number.`)},$rem:([t],e)=>{if(typeof t=="number")return Math.round(t*e.fontSize)},$mix:([t,e,i],n,s,a)=>{if(typeof t=="string"&&typeof e=="string"&&V0(i))try{return Ii.mix(Ii.fromString(t),Ii.fromString(e),i).toString()}catch{}It.warnOnce(`\`$mix\` json operation failed on [${String(t)}, ${String(e)}, ${String(i)}] at [${a.join(".")}], expecting two colors and a number between 0 and 1.`)},$foregroundBackgroundMix:([t],e,i,n)=>{if(V0(t))return Ii.mix(Ii.fromString(e.foregroundColor),Ii.fromString(e.backgroundColor),t).toString();It.warnOnce(`\`$foregroundBackgroundMix\` json operation failed on [${String(t)}}}] at [${n.join(".")}], expecting a number between 0 and 1.`)},$foregroundBackgroundAccentMix:([t,e],i,n,s)=>{if(V0(t)&&V0(e))return Ii.mix(Ii.mix(Ii.fromString(i.foregroundColor),Ii.fromString(i.backgroundColor),t),Ii.fromString(i.accentColor),e).toString();It.warnOnce(`\`$foregroundBackgroundAccentMix\` json operation failed on [${String(t)}, ${String(e)}}] at [${s.join(".")}], expecting two numbers between 0 and 1.`)}},irt=class{constructor(){this.available=!0,this.acquireQueue=[]}acquire(t){return new Promise(e=>{this.acquireQueue.push([t,e]),this.available&&this.dispatchNext().catch(i=>It.errorOnce(i))})}async acquireImmediately(t){return this.available?(await this.acquire(t),!0):!1}async waitForClearAcquireQueue(){return this.acquire(()=>Promise.resolve(void 0))}async dispatchNext(){this.available=!1;let[t,e]=this.acquireQueue.shift()??[];for(;t;){try{await t(),e==null||e()}catch(i){It.error("mutex callback error",i),e==null||e()}[t,e]=this.acquireQueue.shift()??[]}this.available=!0}},BH=class{constructor(){this.eventListeners=new Map}addEventListener(t,e){if(typeof e!="function")throw new Error("AG Charts - listener must be a Function");const i=this.eventListeners.get(t);i?i.add(e):this.eventListeners.set(t,new Set([e]))}removeEventListener(t,e){var i;(i=this.eventListeners.get(t))==null||i.delete(e),this.eventListeners.size===0&&this.eventListeners.delete(t)}hasEventListener(t){return this.eventListeners.has(t)}clearEventListeners(){this.eventListeners.clear()}fireEvent(t){var e;(e=this.eventListeners.get(t.type))==null||e.forEach(i=>i(t))}},gh=class extends Qt{constructor(e=0,i=e,n=e,s=i){super(),this.top=e,this.right=i,this.bottom=n,this.left=s}};N([P(Ct)],gh.prototype,"top",2);N([P(Ct)],gh.prototype,"right",2);N([P(Ct)],gh.prototype,"bottom",2);N([P(Ct)],gh.prototype,"left",2);function nrt(t){return zH((e,i)=>ai().requestAnimationFrame(e),t)}function srt(t){return zH((e,i=0)=>{i===0?queueMicrotask(e):setTimeout(e,i)},t)}function zH(t,e){let i=0,n=!1,s,a;const o=()=>n,r=()=>{n=!1,a==null||a(),a=void 0,s=void 0,i>0&&t(l)},l=()=>{const c=i;i=0,n=!0;const h=e({count:c});if(!h){r();return}h.then(r,r)};return{schedule(c){i===0&&!o()&&t(l,c),i++},async await(){if(o())for(s==null&&(s=new Promise(c=>{a=c}));o();)await s}}}function od(t){return t==="true"}function art(t){return Number(t)}function sr(t){return t}var f1={role:sr,"aria-checked":od,"aria-controls":sr,"aria-describedby":sr,"aria-disabled":od,"aria-expanded":od,"aria-haspopup":od,"aria-hidden":od,"aria-label":sr,"aria-labelledby":sr,"aria-live":sr,"aria-orientation":sr,"aria-selected":od,"data-preventdefault":od,class:sr,id:sr,tabindex:art,title:sr,placeholder:sr};function We(t,e,i){i==null||i===""||i===""?t==null||t.removeAttribute(e):t==null||t.setAttribute(e,i.toString())}function $d(t,e){if(e!=null)for(const[i,n]of Object.entries(e))i!=="class"&&We(t,i,n)}function HA(t,e,i){var s;if(!(t instanceof HTMLElement))return;const n=t.getAttribute(e);return n===null?i:((s=f1[e])==null?void 0:s.call(f1,n))??void 0}function gr(t,e,i){t!=null&&(i==null?t.style.removeProperty(e):t.style.setProperty(e,i.toString()))}function ort(t,e){for(const[i,n]of Object.entries(e))gr(t,i,n)}var rE=["blur","change","contextmenu","focus","keydown","keyup","click","dblclick","mouseenter","mousemove","mouseleave","wheel","touchstart","touchmove","touchend","touchcancel"];function Df(t,e,i){const{offsetX:n,offsetY:s,clientX:a,clientY:o}=e,{currentX:r,currentY:l}=vc.calcCurrentXY(i,e);return{type:t,offsetX:n,offsetY:s,clientX:a,clientY:o,currentX:r,currentY:l,sourceEvent:e}}function U0(t,e,i){return{type:t,sourceEvent:e}}var rrt={blur:t=>({type:"blur",sourceEvent:t}),change:t=>({type:"change",sourceEvent:t}),contextmenu:(t,e)=>Df("contextmenu",t,e),focus:t=>({type:"focus",sourceEvent:t}),keydown:t=>({type:"keydown",sourceEvent:t}),keyup:t=>({type:"keyup",sourceEvent:t}),click:(t,e)=>Df("click",t,e),dblclick:(t,e)=>Df("dblclick",t,e),mouseenter:(t,e)=>Df("mouseenter",t,e),mousemove:(t,e)=>Df("mousemove",t,e),mouseleave:(t,e)=>Df("mouseleave",t,e),wheel:t=>{const{offsetX:e,offsetY:i,clientX:n,clientY:s}=t,a=t.deltaMode===0?.01:1,o=t.deltaX*a,r=t.deltaY*a;return{type:"wheel",offsetX:e,offsetY:i,clientX:n,clientY:s,deltaX:o,deltaY:r,sourceEvent:t}},touchstart:(t,e)=>U0("touchstart",t),touchmove:(t,e)=>U0("touchmove",t),touchend:(t,e)=>U0("touchend",t),touchcancel:(t,e)=>U0("touchcancel",t)},vc=class{static alloc(t,e,i){return rrt[t](e,i)}static isHTMLEvent(t){return rE.includes(t)}static calcCurrentXY(t,e){const i=t.getBoundingClientRect();return{currentX:e.clientX-i.x,currentY:e.clientY-i.y}}},lrt=class{constructor(){this.widgetListeners={},this.sourceListeners={}}initSourceHandler(t,e){this.sourceListeners??(this.sourceListeners={}),this.sourceListeners[t]=e}lazyGetWidgetListeners(t,e){var i;if(!(t in(this.sourceListeners??{}))){const n=a=>{var r;const o=vc.alloc(t,a,e.getElement());for(const l of((r=this.widgetListeners)==null?void 0:r[t])??[])l(o,e)},s={};t.startsWith("touch")&&(s.passive=!1),this.initSourceHandler(t,n),e.getElement().addEventListener(t,n,s)}return this.widgetListeners??(this.widgetListeners={}),(i=this.widgetListeners)[t]??(i[t]=[]),this.widgetListeners[t]}add(t,e,i){this.lazyGetWidgetListeners(t,e).push(i)}remove(t,e,i){const n=this.lazyGetWidgetListeners(t,e),s=n.indexOf(i);s>-1&&n.splice(s,1)}destroy(t){for(const[e,i]of Object.entries(this.sourceListeners??{})){const n=e;t.getElement().removeEventListener(n,i)}this.widgetListeners=void 0,this.sourceListeners=void 0}},crt=class{constructor(t,e,i,n){this.glob=t,this.self=e,this.window=ai(),this.mousegeneral=l=>{l.stopPropagation(),l.stopImmediatePropagation()},this.mousemove=l=>{var c;l.stopPropagation(),l.stopImmediatePropagation(),(c=this.glob.globalMouseDragCallbacks)==null||c.mousemove(l)},this.mouseup=l=>{var c;l.button===0&&(l.stopPropagation(),l.stopImmediatePropagation(),(c=this.glob.globalMouseDragCallbacks)==null||c.mouseup(l),this.destroy())};const{window:s,mousegeneral:a,mousemove:o,mouseup:r}=this;s.addEventListener("mousedown",a,{capture:!0}),s.addEventListener("mouseenter",a,{capture:!0}),s.addEventListener("mouseleave",a,{capture:!0}),s.addEventListener("mouseout",a,{capture:!0}),s.addEventListener("mouseover",a,{capture:!0}),s.addEventListener("mousemove",o,{capture:!0}),s.addEventListener("mouseup",r,{capture:!0}),e.mouseDragger=this,t.globalMouseDragCallbacks=i,t.globalMouseDragCallbacks.mousedown(n)}destroy(){const{window:t,mousegeneral:e,mousemove:i,mouseup:n}=this;t.removeEventListener("mousedown",e,{capture:!0}),t.removeEventListener("mouseenter",e,{capture:!0}),t.removeEventListener("mouseleave",e,{capture:!0}),t.removeEventListener("mouseout",e,{capture:!0}),t.removeEventListener("mouseover",e,{capture:!0}),t.removeEventListener("mousemove",i,{capture:!0}),t.removeEventListener("mouseup",n,{capture:!0}),this.glob.globalMouseDragCallbacks=void 0,this.self.mouseDragger=void 0}};function urt(t,e,i,n){if(t.globalMouseDragCallbacks==null)return new crt(t,e,i,n)}var hrt=500,drt=100;function prt(t,e){const i=t.clientX-e.clientX,n=t.clientY-e.clientY;return i*i+n*n}var yL=!1,frt=class{constructor(t,e,i,n,s){this.glob=t,this.self=e,this.initialTouch=n,this.target=s,this.longTapInterrupted=!1,this.longtap=()=>{const{target:r,initialTouch:l}=this;if(!this.longTapInterrupted){r.dispatchEvent(new TouchEvent("touchcancel",{touches:[l],bubbles:!0})),yL=!0;const c=m=>{m.preventDefault()},h=m=>{yL=!1,m.preventDefault(),r.removeEventListener("touchmove",c),r.removeEventListener("touchend",h),r.removeEventListener("touchcancel",h)};r.addEventListener("touchmove",c,{passive:!1}),r.addEventListener("touchend",h,{passive:!1}),r.addEventListener("touchcancel",h,{passive:!1});const{clientX:p,clientY:f}=l,y=new PointerEvent("contextmenu",{bubbles:!0,cancelable:!0,view:ai(),clientX:p,clientY:f,pointerType:"touch"});r.dispatchEvent(y)}},this.touchmove=r=>{var f;const{glob:l,self:c,initialTouch:h}=this,p=this.findInitialFinger(r.targetTouches);p!=null&&(this.longTapInterrupted=this.longTapInterrupted||prt(h,p)>drt,c.dragTouchEnabled&&p!=null&&((f=l.globalTouchDragCallbacks)==null||f.touchmove(r,p)))},this.touchend=r=>{var c;this.longTapInterrupted=!0;const l=this.findInitialFinger(r.changedTouches,r.touches);l!=null&&((c=this.glob.globalTouchDragCallbacks)==null||c.touchend(r,l)),this.destroy()},this.longtapTimer=setTimeout(this.longtap,hrt);const{touchmove:a,touchend:o}=this;s.addEventListener("touchmove",a,{passive:!1}),s.addEventListener("touchstart",o,{passive:!1}),s.addEventListener("touchend",o,{passive:!1}),s.addEventListener("touchcancel",o,{passive:!1}),e.touchDragger=this,t.globalTouchDragCallbacks=i}destroy(){const{longtapTimer:t,touchmove:e,touchend:i}=this;clearTimeout(t),this.target.removeEventListener("touchstart",i),this.target.removeEventListener("touchmove",e),this.target.removeEventListener("touchend",i),this.target.removeEventListener("touchcancel",i),this.glob.globalTouchDragCallbacks=void 0,this.self.touchDragger=void 0}findInitialFinger(...t){const e=t.map(i=>Array.from(i)).flat();return Array.from(e).find(i=>i.identifier===this.initialTouch.identifier)}};function grt(t,e,i,n,s){if(!(t.globalTouchDragCallbacks!=null||yL))return new frt(t,e,i,n,s)}function g1(t,e,i,n){const{currentX:s,currentY:a}=vc.calcCurrentXY(t.getElement(),n),o=n.pageX-i.pageX,r=n.pageY-i.pageY;return{type:e,device:"mouse",offsetX:i.offsetX+o,offsetY:i.offsetY+r,clientX:n.clientX,clientY:n.clientY,currentX:s,currentY:a,originDeltaX:o,originDeltaY:r,sourceEvent:n}}function yrt(t,{pageX:e,pageY:i}){const{x:n,y:s}=t.getElement().getBoundingClientRect();return{offsetX:e-n,offsetY:i-s}}function y1(t,e,i,n,s){const{currentX:a,currentY:o}=vc.calcCurrentXY(t.getElement(),s),r=s.pageX-i.pageX,l=s.pageY-i.pageY;return{type:e,device:"touch",offsetX:i.offsetX+r,offsetY:i.offsetY+l,clientX:s.clientX,clientY:s.clientY,currentX:a,currentY:o,originDeltaX:r,originDeltaY:l,sourceEvent:n}}var j_={},F_=class{constructor(t){this.dispatchCallback=t,this.dragTouchEnabled=!0}destroy(){var t,e,i;(t=this.dragTriggerRemover)==null||t.call(this),this.dragTriggerRemover=void 0,this.dragStartListeners=void 0,this.dragMoveListeners=void 0,this.dragEndListeners=void 0,(e=this.mouseDragger)==null||e.destroy(),(i=this.touchDragger)==null||i.destroy()}add(t,e,i){switch(t){case"drag-start":{this.dragStartListeners??(this.dragStartListeners=[]),this.dragStartListeners.push(i),this.registerDragTrigger(e);break}case"drag-move":{this.dragMoveListeners??(this.dragMoveListeners=[]),this.dragMoveListeners.push(i),this.registerDragTrigger(e);break}case"drag-end":{this.dragEndListeners??(this.dragEndListeners=[]),this.dragEndListeners.push(i),this.registerDragTrigger(e);break}}}remove(t,e,i){switch(t){case"drag-start":return this.removeHandler(this.dragStartListeners,i);case"drag-move":return this.removeHandler(this.dragMoveListeners,i);case"drag-end":return this.removeHandler(this.dragEndListeners,i)}}removeHandler(t,e){const i=t==null?void 0:t.indexOf(e);i!==void 0&&(t==null||t.splice(i,1))}registerDragTrigger(t){if(this.dragTriggerRemover==null){const e=n=>this.triggerMouseDrag(t,n),i=n=>this.triggerTouchDrag(t,n);t.getElement().addEventListener("mousedown",e),t.getElement().addEventListener("touchstart",i,{passive:!1}),this.dragTriggerRemover=()=>{t.getElement().removeEventListener("mousedown",e),t.getElement().removeEventListener("touchstart",i)}}}triggerMouseDrag(t,e){e.button===0&&this.startMouseDrag(t,e)}startMouseDrag(t,e){const i={pageX:NaN,pageY:NaN,offsetX:NaN,offsetY:NaN};aL(["pageX","pageY","offsetX","offsetY"],i,e);const n={mousedown:s=>{const a=g1(t,"drag-start",i,s);this.dispatch("drag-start",t,a)},mousemove:s=>{const a=g1(t,"drag-move",i,s);this.dispatch("drag-move",t,a)},mouseup:s=>{const a=g1(t,"drag-end",i,s);this.dispatch("drag-end",t,a),this.endDrag(t,a)}};this.mouseDragger=urt(j_,this,n,e)}endDrag(t,{sourceEvent:e,clientX:i,clientY:n}){var o;const s=t.getElement(),a=s.getBoundingClientRect();SA.containsPoint(a,i,n)||(s.dispatchEvent(new MouseEvent("mouseleave",e)),(o=e.target)==null||o.dispatchEvent(new MouseEvent("mouseenter",e)))}triggerTouchDrag(t,e){const i=e.targetTouches.item(0);e.targetTouches.length===1&&i!=null&&this.startOneFingerTouch(t,e,i)}startOneFingerTouch(t,e,i){const n={pageX:NaN,pageY:NaN,...yrt(t,i)};aL(["pageX","pageY"],n,i);const s={touchmove:(r,l)=>{const c=y1(t,"drag-move",n,r,l);this.dispatch("drag-move",t,c)},touchend:(r,l)=>{const c=y1(t,"drag-end",n,r,l);this.dispatch("drag-end",t,c)}},a=t.getElement();this.touchDragger=grt(j_,this,s,i,a);const o=y1(t,"drag-start",n,e,i);this.dispatch("drag-start",t,o)}dispatch(t,e,i){var n,s,a;switch(t){case"drag-start":(n=this.dragStartListeners)==null||n.forEach(o=>o(i,e));break;case"drag-move":(s=this.dragMoveListeners)==null||s.forEach(o=>o(i,e));break;case"drag-end":(a=this.dragEndListeners)==null||a.forEach(o=>o(i,e));break}this.dispatchCallback(t,i)}},mrt=class{constructor(t){this.elem=t}setBounds(t){NM(this.elemContainer??this.elem,t)}getBounds(){return LH(this.elemContainer??this.elem)}static setElementContainer(t,e){const i=t.getBounds();NM(e,i),ort(t.elem,{width:"100%",height:"100%"}),t.elem.remove(),t.elemContainer=e,t.elemContainer.replaceChildren(t.elem)}},vl=class extends mrt{constructor(t){super(t),this.elem=t,this.index=NaN,this.children=[]}getElement(){return this.elem}getBoundingClientRect(){return this.elem.getBoundingClientRect()}get clientWidth(){return this.elem.clientWidth}get clientHeight(){return this.elem.clientHeight}destroy(){var t,e,i,n;(t=this.parent)==null||t.removeChild(this),this.children.forEach(s=>{s.parent=void 0,s.destroy()}),this.children.length=0,this.destructor(),this.elem.remove(),(e=this.elemContainer)==null||e.remove(),(i=this.internalListener)==null||i.destroy(),(n=this.htmlListener)==null||n.destroy(this)}setHidden(t){gr(this.elem,"display",t?"none":void 0)}isHidden(){var t,e;return((e=(t=ai())==null?void 0:t.getComputedStyle)==null?void 0:e.call(t,this.elem).display)==="none"}setCursor(t){gr(this.elem,"cursor",t)}setTextContent(t){this.elem.textContent=t??null}setAriaDescribedBy(t){We(this.elem,"aria-describedby",t)}setAriaHidden(t){We(this.elem,"aria-hidden",t)}setAriaLabel(t){We(this.elem,"aria-label",t)}setInnerHTML(t){this.elem.innerHTML=t}isDisabled(){return HA(this.elem,"aria-disabled",!1)}parseFloat(t){return t===""?0:parseFloat(t)}cssLeft(){return this.parseFloat(this.elem.style.left)}cssTop(){return this.parseFloat(this.elem.style.top)}cssWidth(){return this.parseFloat(this.elem.style.width)}cssHeight(){return this.parseFloat(this.elem.style.height)}focus(){this.elem.focus()}setPreventsDefault(t){We(this.elem,"data-preventdefault",t)}setTabIndex(t){We(this.elem,"tabindex",t)}addChild(t){this.addChildToDOM(t,this.getBefore(t)),this.children.push(t),t.index=this.children.length-1,t.parent=this,this.onChildAdded(t)}removeChild(t){const e=this.children.findIndex(i=>i===t);this.children.splice(e,1),this.removeChildFromDOM(t),this.onChildRemoved(t)}moveChild(t,e){t.domIndex!==e&&(t.domIndex=e,this.removeChildFromDOM(t),this.addChildToDOM(t,this.getBefore(t)))}addClass(...t){this.elem.classList.add(...t)}removeClass(...t){this.elem.classList.remove(...t)}toggleClass(t,e){this.elem.classList.toggle(t,e)}appendOrInsert(t,e){e?e.getElement().insertAdjacentElement("beforebegin",t):this.elem.appendChild(t)}addChildToDOM(t,e){this.appendOrInsert(t.getElement(),e)}removeChildFromDOM(t){this.elem.removeChild(t.getElement())}onChildAdded(t){}onChildRemoved(t){}getBefore({domIndex:t}){if(t!==void 0)return this.children.filter(e=>e.domIndex!==void 0&&e.domIndex>t).reduce((e,i)=>!e||i.domIndex<e.domIndex?i:e,void 0)}addListener(t,e){return vc.isHTMLEvent(t)?(this.htmlListener??(this.htmlListener=new lrt),this.htmlListener.add(t,this,e)):(this.internalListener??(this.internalListener=new F_(this.onDispatch.bind(this))),this.internalListener.add(t,this,e)),()=>this.removeListener(t,e)}removeListener(t,e){var i,n;vc.isHTMLEvent(t)?(i=this.htmlListener)==null||i.remove(t,this,e):this.htmlListener!=null&&((n=this.internalListener)==null||n.remove(t,this,e))}setDragTouchEnabled(t){this.internalListener??(this.internalListener=new F_(this.onDispatch.bind(this))),this.internalListener.dragTouchEnabled=t}onDispatch(t,e){if(!e.sourceEvent.bubbles)return;let{parent:i}=this;for(;i!=null;){const{internalListener:n}=i;if(n!=null){const s={...e,...vc.calcCurrentXY(i.getElement(),e)};n.dispatch(t,i,s)}i=i.parent}}static addWindowEvent(t,e){const i=n=>{n.persisted||e()};return ai().addEventListener("pagehide",i),()=>ai().removeEventListener("pagehide",i)}},lE=(t=>(t[t.Caption=0]="Caption",t[t.Legend=1]="Legend",t[t.ToolbarLeft=2]="ToolbarLeft",t[t.ToolbarBottom=3]="ToolbarBottom",t[t.Navigator=4]="Navigator",t[t.Overlay=5]="Overlay",t))(lE||{}),_H=class{constructor(){this.events=new DN,this.elements=new Map}addListener(t,e){return this.events.on(t,e)}registerElement(t,e){return this.elements.has(t)?this.elements.get(t).add(e):this.elements.set(t,new Set([e])),()=>{var i;return(i=this.elements.get(t))==null?void 0:i.delete(e)}}createContext(t,e){var n;const i=new xrt(t,e);for(const s of Object.values(lE))typeof s=="number"&&((n=this.elements.get(s))==null||n.forEach(a=>a(i)));return i}emitLayoutComplete(t,e){const i="layout:complete",{width:n,height:s}=t;this.events.emit(i,{type:i,axes:e.axes??[],chart:{width:n,height:s},clipSeries:e.clipSeries??!1,series:e.series})}},xrt=class{constructor(t,e){this.width=t,this.height=e,this.layoutBox=new Rt(0,0,t,e)}},WA=class{constructor(){this.title=new qe,this.subtitle=new qe,this.footnote=new qe}positionCaptions(t){const{title:e,subtitle:i,footnote:n}=this,s=t.layoutBox.height/10;if(e.enabled){const{spacing:a=i.enabled?qe.SMALL_PADDING:qe.LARGE_PADDING}=e;this.positionCaption("top",e,t.layoutBox,s),this.shrinkLayoutByCaption("top",e,t.layoutBox,a)}i.enabled&&(this.positionCaption("top",i,t.layoutBox,s),this.shrinkLayoutByCaption("top",i,t.layoutBox,i.spacing)),n.enabled&&(this.positionCaption("bottom",n,t.layoutBox,s),this.shrinkLayoutByCaption("bottom",n,t.layoutBox,n.spacing))}positionAbsoluteCaptions(t){const{title:e,subtitle:i,footnote:n}=this,{rect:s}=t.series;for(const a of[e,i,n])if(a.layoutStyle==="overlay"){if(a.textAlign==="left")a.node.x=s.x+a.padding;else if(a.textAlign==="right"){const o=a.node.getBBox();a.node.x=s.x+s.width-o.width-a.padding}}}computeX(t,e){return t==="left"?e.x:t==="right"?e.x+e.width:e.x+e.width/2}positionCaption(t,e,i,n){const s=Math.max(xi.getLineHeight(e.fontSize),n);e.node.x=this.computeX(e.textAlign,i)+e.padding,e.node.y=i.y+(t==="top"?0:i.height)+e.padding,e.node.textBaseline=t,e.computeTextWrap(i.width,s)}shrinkLayoutByCaption(t,e,i,n=0){if(e.layoutStyle==="block"){const s=e.node.getBBox();i.shrink(Math.ceil(t==="top"?s.y-i.y+s.height+n:i.y+i.height-s.y+n),t)}}};N([P(Lt)],WA.prototype,"title",2);N([P(Lt)],WA.prototype,"subtitle",2);N([P(Lt)],WA.prototype,"footnote",2);var brt=["candlestick","hollow-candlestick","ohlc","line","step-line","hlc","high-low"],vrt=class{constructor(t){this.chartService=t,this.mementoOriginatorKey="chartType"}createMemento(){var e,i;let t=(i=(e=this.chartService.publicApi)==null?void 0:e.getOptions())==null?void 0:i.chartType;return t==null&&(t="candlestick"),t}guardMemento(t){return t==null||brt.includes(t)}restoreMemento(t,e,i){var s;if(i==null)return;const n={chartType:i};(s=this.chartService.publicApi)==null||s.updateDelta(n).catch(a=>It.error("error restoring state",a))}},jH=class{constructor(){this.destroyFns=[]}destroy(){this.destroyFns.forEach(t=>t()),this.destroyFns.length=0}setFns(t){this.destroy(),this.destroyFns=t}push(...t){this.destroyFns.push(...t)}},EM="11.1.0",G_=Symbol("previous-memento-not-found"),Srt=class{constructor(t){this.history=[],this.historyIndex=-1,this.originators=new Map,this.clearState=new Map,this.maxHistoryLength=100,this.debug=Qe.create(!0,"history"),this.destroyFns=new jH,this.destroyFns.setFns([t.addListener("series-undo",this.undo.bind(this)),t.addListener("series-redo",this.redo.bind(this))])}destroy(){this.destroyFns.destroy()}addMementoOriginator(t){this.originators.set(t.mementoOriginatorKey,t),this.clearState.set(t.mementoOriginatorKey,t.createMemento()),this.debugEvent("History add originator:",t.mementoOriginatorKey)}clear(){this.debug("History clear:",Object.keys(this.originators)),this.history=[],this.historyIndex=-1;for(const[t,e]of this.originators.entries())this.clearState.set(t,e.createMemento())}record(t,...e){this.historyIndex<this.history.length-1&&(this.history=this.history.slice(0,this.historyIndex+1)),this.history.length>this.maxHistoryLength&&(this.history=this.history.slice(-this.maxHistoryLength));const i=new Map;for(const n of e){if(!this.originators.has(n.mementoOriginatorKey))throw new Error(`Originator [${n.mementoOriginatorKey}] has not been added to the HistoryManager.`);i.set(n.mementoOriginatorKey,n.createMemento())}this.history.push({label:t,mementos:i}),this.historyIndex=this.history.length-1,this.debugEvent(`History record: [${t}]`)}undo(){const t=this.history[this.historyIndex];if(t){for(const e of t.mementos.keys()){const i=this.findPreviousMemento(e);if(i===G_)throw new Error(`Could not find previous memento for [${e}].`);this.restoreMemento(e,i)}this.historyIndex-=1,this.debugEvent(`History undo: [${t.label}]`)}}redo(){const t=this.history[this.historyIndex+1];if(t){for(const[e,i]of t.mementos.entries())this.restoreMemento(e,i);this.historyIndex+=1,this.debugEvent(`History redo: [${t.label}]`)}}findPreviousMemento(t){for(let e=this.historyIndex-1;e>=0;e--)if(this.history[e].mementos.has(t))return this.history[e].mementos.get(t);return this.clearState.has(t)?this.clearState.get(t):G_}restoreMemento(t,e){var i;(i=this.originators.get(t))==null||i.restoreMemento(EM,EM,e)}debugEvent(...t){this.debug(...t,this.history.map((e,i)=>i===this.historyIndex?`** ${e.label} **`:e.label))}},FH=class mL{constructor(e){this.version=e.split("-")[0]}save(...e){const i={version:this.version};for(const n of Object.values(e))i[n.mementoOriginatorKey]=this.encode(n,n.createMemento());return i}restore(e,...i){if(typeof e!="object"){It.warnOnce(`Could not restore data of type [${typeof e}], expecting an object, ignoring.`);return}if(e==null){It.warnOnce("Could not restore data of type [null], expecting an object, ignoring.");return}if(!("version"in e)||typeof e.version!="string"){It.warnOnce("Could not restore data, missing [version] string in object, ignoring.");return}for(const n of i){const s=this.decode(n,e[n.mementoOriginatorKey]),a=[];if(!n.guardMemento(s,a)){const o=a.length>0?`

${a.join(`

`)}

`:"";It.warnOnce(`Could not restore [${n.mementoOriginatorKey}] data, value was invalid, ignoring.${o}`,s);return}n.restoreMemento(this.version,e.version,s)}}encode(e,i){try{return JSON.parse(JSON.stringify(i,mL.encodeTypes))}catch(n){throw new Error(`Failed to encode [${e.mementoOriginatorKey}] value [${n}].`,{cause:n})}}decode(e,i){if(i==null)return i;try{return JSON.parse(JSON.stringify(i),mL.decodeTypes)}catch(n){throw new Error(`Failed to decode [${e.mementoOriginatorKey}] value [${n}].`,{cause:n})}}static encodeTypes(e,i){return vg(this[e])?{__type:"date",value:this[e].toISOString()}:i}static decodeTypes(e,i){return Un(this[e])&&"__type"in this[e]&&this[e].__type==="date"?new Date(this[e].value):i}},Mrt=class{constructor(){this.caretaker=new FH(EM),this.state=new Map}setState(t,e){Yd(this.state.get(t.mementoOriginatorKey),e)||this.setStateAndRestore(t,e)}setStateAndRestore(t,e){this.state.set(t.mementoOriginatorKey,e),this.restoreState(t)}restoreState(t){const{caretaker:e,state:i}=this;if(!i.has(t.mementoOriginatorKey))return;const n=i.get(t.mementoOriginatorKey);e.restore({version:e.version,[t.mementoOriginatorKey]:n},t)}},Art=`.ag-charts-wrapper,.ag-charts-wrapper:after,.ag-charts-wrapper:before,.ag-charts-wrapper *,.ag-charts-wrapper *:after,.ag-charts-wrapper *:before{box-sizing:border-box}.ag-charts-wrapper{--align-items: center;--justify-content: center;position:relative;user-select:none;-webkit-user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.ag-charts-wrapper--safe-horizontal{--justify-content: flex-start}.ag-charts-wrapper--safe-vertical{--align-items: flex-start}.ag-charts-tab-guard{width:0%;height:0%;position:absolute;pointer-events:none}.ag-charts-canvas-center{width:100%;height:100%;position:absolute;touch-action:auto;pointer-events:auto;display:flex;align-items:var(--align-items);justify-content:var(--justify-content)}.ag-charts-canvas-container,.ag-charts-canvas{position:relative;user-select:none;-webkit-user-select:none}.ag-charts-canvas-container>*,.ag-charts-canvas>*{display:block;pointer-events:none}.ag-charts-series-area{outline:none;pointer-events:auto;position:absolute}.ag-charts-swapchain{outline:none;opacity:0;pointer-events:none;position:absolute;width:100%;height:100%}.ag-charts-swapchain:focus-visible{opacity:1}.ag-charts-canvas-proxy,.ag-charts-canvas-overlay{inset:0;pointer-events:none;position:absolute;user-select:none;-webkit-user-select:none}.ag-charts-canvas-overlay>*{position:absolute;pointer-events:auto}.ag-charts-theme-default,.ag-charts-theme-default-dark{--ag-charts-accent-color: #2196f3;--ag-charts-background-color: #fff;--ag-charts-border-color: #dddddd;--ag-charts-foreground-color: #464646;--ag-charts-font-family: Verdana, sans-serif;--ag-charts-font-size: 12px;--ag-charts-font-weight: 400;--ag-charts-padding: 20px;--ag-charts-shadow-color: #00000080;--ag-charts-subtle-text-color: #8c8c8c;--ag-charts-text-color: #464646;--ag-charts-chrome-background-color: #fafafa;--ag-charts-chrome-font-family: Verdana, sans-serif;--ag-charts-chrome-font-size: 12px;--ag-charts-chrome-font-weight: 400;--ag-charts-chrome-subtle-text-color: #8c8c8c;--ag-charts-chrome-text-color: #181d1f;--ag-charts-input-background-color: #fff;--ag-charts-input-text-color: #464646;--ag-charts-crosshair-label-background-color: #fff;--ag-charts-crosshair-label-text-color: #464646;--ag-charts-spacing: 4px;--ag-charts-border-radius: 4px;--ag-charts-shadow: 0 2px 8px 0 color-mix(in srgb, black 8%, transparent);--ag-charts-focus-shadow: 0 0 0 3px var(--ag-charts-accent-color);--ag-charts-focus-color: color-mix(in srgb, var(--ag-charts-background-color), var(--ag-charts-accent-color) 12%);--ag-charts-input-border-color: var(--ag-charts-border-color);--ag-charts-input-border-radius: var(--ag-charts-border-radius);--ag-charts-input-focus-border-color: var(--ag-charts-accent-color);--ag-charts-input-focus-text-color: var(--ag-charts-accent-color);--ag-charts-input-disabled-background-color: color-mix( in srgb, var(--ag-charts-chrome-background-color), var(--ag-charts-foreground-color) 6% );--ag-charts-input-disabled-border-color: var(--ag-charts-border-color);--ag-charts-input-disabled-text-color: color-mix( in srgb, var(--ag-charts-chrome-background-color), var(--ag-charts-input-text-color) 50% );--ag-charts-input-placeholder-text-color: color-mix( in srgb, var(--ag-charts-input-background-color), var(--ag-charts-input-text-color) 60% );--ag-charts-button-background-color: var(--ag-charts-background-color);--ag-charts-button-border-color: var(--ag-charts-border-color);--ag-charts-button-border-radius: var(--ag-charts-border-radius);--ag-charts-button-text-color: var(--ag-charts-text-color);--ag-charts-button-focus-background-color: color-mix( in srgb, var(--ag-charts-button-background-color), var(--ag-charts-accent-color) 12% );--ag-charts-button-focus-border-color: var(--ag-charts-accent-color);--ag-charts-button-focus-text-color: var(--ag-charts-accent-color);--ag-charts-button-disabled-background-color: color-mix( in srgb, var(--ag-charts-chrome-background-color), var(--ag-charts-foreground-color) 6% );--ag-charts-button-disabled-border-color: var(--ag-charts-border-color);--ag-charts-button-disabled-text-color: color-mix( in srgb, var(--ag-charts-chrome-background-color), var(--ag-charts-chrome-text-color) 50% );--ag-charts-checkbox-background-color: color-mix( in srgb, var(--ag-charts-background-color), var(--ag-charts-foreground-color) 35% );--ag-charts-checkbox-checked-background-color: var(--ag-charts-accent-color);--ag-charts-chrome-font-size-small: var(--ag-charts-chrome-font-size);--ag-charts-chrome-font-size-medium: calc(var(--ag-charts-chrome-font-size) * (13 / 12));--ag-charts-chrome-font-size-large: calc(var(--ag-charts-chrome-font-size) * (14 / 12));--ag-charts-border: solid 1px var(--ag-charts-border-color);--ag-charts-focus-border: solid 1px var(--ag-charts-accent-color);--ag-charts-focus-border-shadow: 0 0 0 3px color-mix(in srgb, transparent, var(--ag-charts-accent-color) 20%);--ag-charts-layer-menu: 6;--ag-charts-layer-ui-overlay: 5;--ag-charts-layer-tooltip: 4;--ag-charts-layer-toolbar: 3;--ag-charts-layer-crosshair: 2;--ag-charts-layer-annotations: 1}.ag-charts-theme-default-dark{--ag-charts-shadow: 0 2px 12px 0 color-mix(in srgb, black 33.3%, transparent);--ag-charts-focus-color: color-mix(in srgb, var(--ag-charts-background-color), var(--ag-charts-accent-color) 22%)}.ag-chart-canvas-wrapper .ag-charts-theme-default{--ag-charts-border-radius: var(--ag-border-radius, 4px);--ag-charts-border: var(--ag-borders-critical, solid 1px) var(--ag-charts-border-color);--ag-charts-focus-shadow: var(--ag-focus-shadow, 0 0 0 3px var(--ag-charts-accent-color));--ag-charts-focus-border-shadow: var( --ag-focus-shadow, 0 0 0 3px color-mix(in srgb, transparent, var(--ag-charts-accent-color) 20%) )}.ag-charts-icon{display:block;width:20px;height:20px;speak:none;speak:never;mask:var(--icon) center / contain no-repeat;background-color:currentColor;transition:background-color .25s ease-in-out}.ag-charts-icon-align-center{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNNyAxMGg2djFIN3pNNCA3aDEydjFINHptMSA2aDEwdjFINXoiLz48L3N2Zz4=)}.ag-charts-icon-align-left{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNNCAxMGg2djFINHptMC0zaDEydjFINHptMCA2aDEwdjFINHoiLz48L3N2Zz4=)}.ag-charts-icon-align-right{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMTAgMTBoNnYxaC02ek00IDdoMTJ2MUg0em0yIDZoMTB2MUg2eiIvPjwvc3ZnPg==)}.ag-charts-icon-arrow-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTE1LjI5MyA0LjVIMTIuNXYtMUgxN3Y0aC0xVjUuMjA3bC05LjY0NiA5LjY0Ny0uNzA4LS43MDh6IiBmaWxsPSIjMDAwIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDE2YTIuNSAyLjUgMCAxIDEtNSAwIDIuNSAyLjUgMCAwIDEgNSAwbS0yLjUgMS41YTEuNSAxLjUgMCAxIDAgMC0zIDEuNSAxLjUgMCAwIDAgMCAzIiBmaWxsPSIjMDAwIi8+PC9zdmc+)}.ag-charts-icon-arrow-down-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02IDhMMS41IDhMMTAgMThMMTguNSA4TDE0IDhMMTQgM0w2IDNMNiA4Wk03IDRMNyA5SDMuNjYyNDRMMTAgMTYuNDU2TDE2LjMzNzYgOUwxMyA5TDEzIDRMNyA0WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==)}.ag-charts-icon-arrow-up-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNCAxMkgxOC41TDEwIDJMMS41IDEySDZMNi4wMDAwMiAxN0gxNFYxMlpNMTMgMTZWMTFIMTYuMzM3NkwxMCAzLjU0NDA1TDMuNjYyNDQgMTFIN0w3LjAwMDAyIDE2SDEzWiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==)}.ag-charts-icon-callout-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMyA0LjVBMS41IDEuNSAwIDAgMSA0LjUgM2gxMUExLjUgMS41IDAgMCAxIDE3IDQuNXY4YTEuNSAxLjUgMCAwIDEtMS41IDEuNWgtNC41MTRhMjYgMjYgMCAwIDAtMi4wMTcgMS41NGwtLjMxNC4yNmMtLjU1LjQ1Ny0xLjExNS45MjYtMS43NiAxLjQtLjY2OS40OTEtMS41NjItLjAxMi0xLjU2Mi0uOFYxNEg0LjVBMS41IDEuNSAwIDAgMSAzIDEyLjV6TTQuNSA0YS41LjUgMCAwIDAtLjUuNXY4YS41LjUgMCAwIDAgLjUuNWgxLjgzM3YzLjM3MmEzNiAzNiAwIDAgMCAxLjY3OC0xLjMzOGwuMzItLjI2NWEyNiAyNiAwIDAgMSAyLjIyNS0xLjY4NWwuMTI2LS4wODRIMTUuNWEuNS41IDAgMCAwIC41LS41di04YS41LjUgMCAwIDAtLjUtLjV6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-candlestick-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNyAxdjNoMnYxMkg3djNINnYtM0g0VjRoMlYxek01IDVoM3YxMEg1ek0xMSAxNFY2aDJWMy4yNWgxVjZoMnY4aC0ydjIuNzVoLTFWMTR6bTEtN2gzdjZoLTN6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-close{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJtNSA1IDEwIDEwTTUgMTUgMTUgNSIgc3Ryb2tlPSIjMDAwIi8+PC9zdmc+)}.ag-charts-icon-comment-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNy41MTMgMy45OTVhNi41IDYuNSAwIDAgMSA2LjA5OCAxMS40MWMtLjU4OC4zOTMtMS4yMTcuNTM2LTEuODI5LjU4NWExMyAxMyAwIDAgMS0xLjI3LjAxN0EyNyAyNyAwIDAgMCAxMCAxNkg0LjVhLjUuNSAwIDAgMS0uNS0uNVYxMHEwLS4yNDctLjAwNy0uNTEzYy0uMDA4LS40MTYtLjAxNi0uODU3LjAxNy0xLjI2OS4wNS0uNjEyLjE5Mi0xLjI0LjU4NS0xLjgzYTYuNSA2LjUgMCAwIDEgMi45MTgtMi4zOTNtMy41Ni42MWE1LjUgNS41IDAgMCAwLTUuNjQ2IDIuMzRjLS4yNjYuMzk3LS4zNzkuODQyLS40MiAxLjM1NC0uMDMuMzYtLjAyMi43MTgtLjAxNSAxLjEwOFE1IDkuNjg5IDUgMTB2NWg1cS4zMTEuMDAxLjU5My4wMDhjLjM5LjAwNy43NDcuMDE1IDEuMTA4LS4wMTUuNTEyLS4wNDEuOTU3LS4xNTQgMS4zNTUtLjQyYTUuNSA1LjUgMCAwIDAtMS45ODMtOS45NjciIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-crosshair-add-line{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTEwIDUuNWEuNS41IDAgMCAxIC41LjV2My41aDMuODc1YS41LjUgMCAwIDEgMCAxSDEwLjV2NC4yNWEuNS41IDAgMSAxLTEgMFYxMC41SDUuNjI1YS41LjUgMCAxIDEgMC0xSDkuNVY2YS41LjUgMCAwIDEgLjUtLjUiLz48L3N2Zz4=)}.ag-charts-icon-date-range-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMiAyaDF2MTZIMnptMTUgMGgxdjE2aC0xeiIgZmlsbD0iIzE4MUQxRiIvPjxwYXRoIGQ9Ik0xMy4xNTcgMTFINXYtMWg3Ljc5M0wxMSA4LjIwN2wuNzA3LS43MDcgMy4xODIgMy4xODItMy4xODIgMy4xODItLjcwNy0uNzA3eiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-date-price-range-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMyAySDJ2MTZoMXptMy41MDcgNC44OUw4LjUgNC44OTVWMTBINXYxaDMuNXY3aDF2LTdoNS4wODhsLTEuOTU3IDEuOTU3LjcwNy43MDcgMy4xODItMy4xODJMMTMuMzM4IDcuM2wtLjcwNy43MDdMMTQuNjI0IDEwSDkuNVY0LjkzMmwxLjk1NyAxLjk1Ny43MDctLjcwN0w4Ljk4MiAzIDUuOCA2LjE4MnoiIGZpbGw9IiMxODFEMUYiLz48L3N2Zz4=)}.ag-charts-icon-delete{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZD0iTTguNDk2IDguOTk2QS41LjUgMCAwIDEgOSA5LjQ5MnY0YS41LjUgMCAxIDEtMSAuMDA4di00YS41LjUgMCAwIDEgLjQ5Ni0uNTA0TTEyIDkuNWEuNS41IDAgMCAwLTEgMHY0YS41LjUgMCAwIDAgMSAweiIvPjxwYXRoIGZpbGw9IiMxMzE3MjIiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTYgNVYzLjVBMi41IDIuNSAwIDAgMSA4LjUgMWgzQTIuNSAyLjUgMCAwIDEgMTQgMy41VjVoMi44MzNhLjUuNSAwIDAgMSAwIDFIMTV2MTAuMjVjMCAuNDE1LS4wNjYuODYzLS4zIDEuMjIxLS4yNTcuMzk0LS42NzIuNjEyLTEuMi42MTJoLTdjLS41MjggMC0uOTQzLS4yMTgtMS4yLS42MTItLjIzNC0uMzU4LS4zLS44MDYtLjMtMS4yMjFWNkgzLjMzM2EuNS41IDAgMCAxIDAtMXptMS0xLjVBMS41IDEuNSAwIDAgMSA4LjUgMmgzQTEuNSAxLjUgMCAwIDEgMTMgMy41VjVIN3pNNiAxNi4yNVY2aDh2MTAuMjVjMCAuMzM1LS4wNTkuNTU0LS4xMzguNjc1LS4wNTUuMDg1LS4xNC4xNTgtLjM2Mi4xNThoLTdjLS4yMjIgMC0uMzA3LS4wNzMtLjM2Mi0uMTU4LS4wOC0uMTIxLS4xMzgtLjM0LS4xMzgtLjY3NSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-disjoint-channel,.ag-charts-icon-disjoint-channel-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTkuMDI4IDE3LjQ2YTIuMjUgMi4yNSAwIDAgMC00LjA5Mi0xLjg1bC05LjUxMS0yLjM3OGEyLjI1IDIuMjUgMCAxIDAtLjIyNS45NzRsOS40NzUgMi4zNjlhMi4yNTEgMi4yNTEgMCAwIDAgNC4zNTMuODg2bS0xLjY2Mi0xLjk2NWExLjI1IDEuMjUgMCAxIDEtLjg4NSAyLjMzOCAxLjI1IDEuMjUgMCAwIDEgLjg4NS0yLjMzOE00LjM0MyAxMy42NjlhMS4yNSAxLjI1IDAgMSAwLTIuMzM4LS44ODUgMS4yNSAxLjI1IDAgMCAwIDIuMzM4Ljg4NU0zLjk3IDguNzY5YTIuMjUgMi4yNSAwIDAgMCAxLjQ1NS0yLjExbDkuNTExLTIuMzc4YTIuMjUgMi4yNSAwIDEgMC0uMjYtLjk2NUw1LjIgNS42ODVhMi4yNSAyLjI1IDAgMSAwLTEuMjMgMy4wODRtLjM3My0yLjU0N2ExLjI1IDEuMjUgMCAxIDEtMi4zMzguODg1IDEuMjUgMS4yNSAwIDAgMSAyLjMzOC0uODg1bTEzLjc1LTMuNDM4YTEuMjUgMS4yNSAwIDEgMS0yLjMzOC44ODUgMS4yNSAxLjI1IDAgMCAxIDIuMzM4LS44ODUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-drag-handle{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48Y2lyY2xlIGN4PSI1Ljc1IiBjeT0iNy43NSIgcj0iLjc1IiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii41Ii8+PGNpcmNsZSBjeD0iOS43NSIgY3k9IjcuNzUiIHI9Ii43NSIgZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuNSIvPjxjaXJjbGUgY3g9IjEzLjc1IiBjeT0iNy43NSIgcj0iLjc1IiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii41Ii8+PGNpcmNsZSBjeD0iMTMuNzUiIGN5PSIxMS43NSIgcj0iLjc1IiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii41Ii8+PGNpcmNsZSBjeD0iOS43NSIgY3k9IjExLjc1IiByPSIuNzUiIGZpbGw9IiMwMDAiIGZpbGwtb3BhY2l0eT0iLjUiLz48Y2lyY2xlIGN4PSI1Ljc1IiBjeT0iMTEuNzUiIHI9Ii43NSIgZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuNSIvPjwvc3ZnPg==)}.ag-charts-icon-fibonacci-retracement-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMiA1aDEydjFIMnoiLz48Y2lyY2xlIGN4PSIxNS43NSIgY3k9IjUuNSIgcj0iMS43NSIgc3Ryb2tlPSIjMDAwIi8+PGNpcmNsZSBjeD0iNC4yNSIgY3k9IjE0LjUiIHI9IjEuNzUiIHN0cm9rZT0iIzAwMCIvPjxwYXRoIGZpbGw9IiMwMDAiIGQ9Ik0xOCAxNUg2di0xaDEyem0wLTQuNUgydi0xaDE2eiIvPjwvc3ZnPg==)}.ag-charts-icon-fibonacci-retracement-trend-based-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJtNC45OTYgMTIuNjc0IDMuMjkxLTUuNzQzLjg2OC40OTctMy4yOTEgNS43NDN6Ii8+PGNpcmNsZSBjeD0iOS43NSIgY3k9IjUuNSIgcj0iMS43NSIgc3Ryb2tlPSIjMDAwIi8+PGNpcmNsZSBjeD0iNC4zNTEiIGN5PSIxNC41IiByPSIxLjc1IiBzdHJva2U9IiMwMDAiLz48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMTggNmgtN1Y1aDd6bTAgNC41aC03di0xaDd6bTAgNC41SDZ2LTFoMTJ6Ii8+PC9zdmc+)}.ag-charts-icon-fill-color{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtOC4wNzEgNC4wNi0uOTI0LS45MjQuNzA3LS43MDcgNy4yODggNy4yODgtNC45NSA0Ljk1YTMuNSAzLjUgMCAwIDEtNC45NSAwbC0xLjQxNC0xLjQxNGEzLjUgMy41IDAgMCAxIDAtNC45NXptLjcwNy43MDhMNC41MzYgOS4wMWEyLjUgMi41IDAgMCAwIDAgMy41MzZMNS45NSAxMy45NmEyLjUgMi41IDAgMCAwIDMuNTM1IDBsNC4yNDMtNC4yNDN6bTYuOSA3LjIwMi0uMzQ1LjM2My0uMzQ0LS4zNjNhLjUuNSAwIDAgMSAuNjg4IDBtLS4zNDUgMS4wOGE4IDggMCAwIDAtLjI4LjMyMyA0LjMgNC4zIDAgMCAwLS40MDkuNTgyYy0uMTEzLjIwMS0uMTQ0LjMyNi0uMTQ0LjM3OGEuODMzLjgzMyAwIDAgMCAxLjY2NyAwYzAtLjA1Mi0uMDMxLS4xNzctLjE0NC0uMzc4YTQuMyA0LjMgMCAwIDAtLjQxLS41ODIgOCA4IDAgMCAwLS4yOC0uMzIybS0uMzQ0LTEuMDguMzQ0LjM2My4zNDQtLjM2My4wMDIuMDAyLjAwNC4wMDQuMDEzLjAxMmE2IDYgMCAwIDEgLjIwNi4yMDhjLjEzMS4xMzYuMzA4LjMyNy40ODUuNTQ1LjE3Ni4yMTUuMzYzLjQ2Ny41MDcuNzI0LjEzNy4yNDMuMjczLjU1My4yNzMuODY4YTEuODMzIDEuODMzIDAgMSAxLTMuNjY3IDBjMC0uMzE1LjEzNi0uNjI1LjI3My0uODY4LjE0NC0uMjU3LjMzLS41MDkuNTA3LS43MjRhOSA5IDAgMCAxIC42NDUtLjcwOGwuMDQ2LS4wNDUuMDEzLS4wMTIuMDA0LS4wMDR6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-hollow-candlestick-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1vcGFjaXR5PSIuMTUiIGQ9Ik01IDVoM3YxMEg1eiIvPjxwYXRoIGZpbGw9IiMxMzE3MjIiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTcgMXYzaDJ2MTJIN3YzSDZ2LTNINFY0aDJWMXpNNSA1aDN2MTBINXptNyAyaDN2NmgtM3ptLTEgN1Y2aDJWMy4yNWgxVjZoMnY4aC0ydjIuNzVoLTFWMTR6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-horizontal-line,.ag-charts-icon-horizontal-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNLjUgOS41aDcuMzA2YTIuMjUgMi4yNSAwIDAgMSA0LjM4OCAwSDE5LjV2MWgtNy4zMDZhMi4yNSAyLjI1IDAgMCAxLTQuMzg4IDBILjV6bTkuNSAxLjc1YTEuMjUgMS4yNSAwIDEgMCAwLTIuNSAxLjI1IDEuMjUgMCAwIDAgMCAyLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-line-color{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTQuMjQyIDIuNzIyYy0uNjEyIDAtMS4yLjI0My0xLjYzMi42NzVsLTEuMzQzIDEuMzQ0YS41LjUgMCAwIDAtLjExMi4xMTJMNC4wNSAxMS45NTljLS4yMDcuMjA3LS4zNi40Ni0uNDQ2Ljc0di4wMDFsLS42OSAyLjc2N3YuMDAyYS44Mi44MiAwIDAgMCAxLjAyMiAxLjAyMWguMDAybDIuNjM0LS44MjJjLjI4LS4wODUuNTM0LS4yMzcuNzQtLjQ0M2w3LjEwNy03LjEwOGEuNS41IDAgMCAwIC4xMTItLjExMmwxLjM0My0xLjM0M2EyLjMwOCAyLjMwOCAwIDAgMC0xLjYzMi0zLjk0TTE0LjEyMiA3bDEuMDQ0LTEuMDQ1YTEuMzA4IDEuMzA4IDAgMSAwLTEuODQ5LTEuODVMMTIuMjcxIDUuMTV6bS0yLjU1OC0xLjE0Mi02LjgwNyA2LjgwOWEuOC44IDAgMCAwLS4xOTYuMzI1bC0uNzUgMi40NjggMi40Ny0uNzQ5YS44LjggMCAwIDAgLjMyNS0uMTk0bDYuODA4LTYuODF6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-line-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTcuMzYyIDQuODczLTQuNTk0IDYuNjU0LTQuODUtMy4zMTctNC4yNTEgNi45NzctLjg1NC0uNTJMNy42MTIgNi43OWw0Ljg5OSAzLjM1IDQuMDI4LTUuODM2eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-line-style-dashed{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMiA5aDR2MUgyem0xMiAwaDR2MWgtNHpNOCA5aDR2MUg4eiIvPjwvc3ZnPg==)}.ag-charts-icon-line-style-dotted{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48Y2lyY2xlIGN4PSIyLjUiIGN5PSI5LjUiIHI9Ii41IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iNC41IiBjeT0iOS41IiByPSIuNSIgZmlsbD0iIzAwMCIvPjxjaXJjbGUgY3g9IjYuNSIgY3k9IjkuNSIgcj0iLjUiIGZpbGw9IiMwMDAiLz48Y2lyY2xlIGN4PSI4LjUiIGN5PSI5LjUiIHI9Ii41IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iMTAuNSIgY3k9IjkuNSIgcj0iLjUiIGZpbGw9IiMwMDAiLz48Y2lyY2xlIGN4PSIxMi41IiBjeT0iOS41IiByPSIuNSIgZmlsbD0iIzAwMCIvPjxjaXJjbGUgY3g9IjE0LjUiIGN5PSI5LjUiIHI9Ii41IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iMTYuNSIgY3k9IjkuNSIgcj0iLjUiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-line-style-solid{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMiA5aDE2djFIMnoiLz48L3N2Zz4=)}.ag-charts-icon-line-with-markers-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTguMTk4IDQuODg4LTMuNTU2IDQuOTE4YTIuMjUgMi4yNSAwIDEgMS0zLjg2Ni43NWwtMS40MzItLjlhMi4yNCAyLjI0IDAgMCAxLTIuMDA5LjQzNWwtMy44MjggNi40MjgtLjg2LS41MTJMNi40NSA5LjYyM2EyLjI1IDIuMjUgMCAxIDEgMy41MS0uNzYxbDEuMzI5LjgzNWEyLjI0IDIuMjQgMCAwIDEgMi41NTctLjQ5N2wzLjU0Mi00Ljg5OHptLTQuOTYgNS4xNTNhMS4yNSAxLjI1IDAgMSAwLS42NCAyLjQxOSAxLjI1IDEuMjUgMCAwIDAgLjY0LTIuNDE5TTkuMSA4LjMyMXEuMDY2LS4xOTIuMDY3LS40MDRhMS4yNSAxLjI1IDAgMSAwLS4wNjcuNDA0IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-lock,.ag-charts-icon-locked{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuMjA3IDMuNzY0YTIuODk0IDIuODk0IDAgMCAwLTIuODk1IDIuODk0VjloNS43ODlWNi42NThhMi44OTQgMi44OTQgMCAwIDAtMi44OTUtMi44OTRNMTQuMSA5VjYuNjU4YTMuODk0IDMuODk0IDAgMSAwLTcuNzg5IDB2Mi4zNDlBMi41IDIuNSAwIDAgMCA0IDExLjV2M0EyLjUgMi41IDAgMCAwIDYuNSAxN2g4YTIuNSAyLjUgMCAwIDAgMi41LTIuNXYtM0EyLjUgMi41IDAgMCAwIDE0LjUgOXpNNi41IDEwQTEuNSAxLjUgMCAwIDAgNSAxMS41djNBMS41IDEuNSAwIDAgMCA2LjUgMTZoOGExLjUgMS41IDAgMCAwIDEuNS0xLjV2LTNhMS41IDEuNSAwIDAgMC0xLjUtMS41eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-measurer-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibTQuNDYxIDEyLjcxIDEuNTMyLTEuNTMxIDEuNDE0IDEuNDE0LjcwNy0uNzA3TDYuNyAxMC40NzJsMS41MzItMS41MzMgMiAyIC43MDctLjcwNy0yLTIgNi4wMS02LjAxIDIuODMgMi44MjhMNS4wNSAxNy43NzggMi4yMjIgMTQuOTVsMS41MzItMS41MzIgMS40MTQgMS40MTQuNzA3LS43MDd6TS44MDggMTQuOTVsLjcwNy0uNzA3TDE0LjI0MyAxLjUxNWwuNzA3LS43MDcuNzA3LjcwNyAyLjgyOCAyLjgyOC43MDcuNzA3LS43MDcuNzA3TDUuNzU3IDE4LjQ4NWwtLjcwNy43MDctLjcwNy0uNzA3LTIuODI4LTIuODI4em0xMS4wNzgtNi44MzVMMTAuNDcgNi43bC43MDctLjcwNyAxLjQxNSAxLjQxNHptLjgyNC0zLjY1NCAxIDEgLjcwOC0uNzA3LTEtMXoiIGZpbGw9IiMxODFEMUYiLz48L3N2Zz4=)}.ag-charts-icon-note-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMyA0LjVBMS41IDEuNSAwIDAgMSA0LjUgM2gxMUExLjUgMS41IDAgMCAxIDE3IDQuNXY4YTEuNSAxLjUgMCAwIDEtMS41IDEuNWgtMy4yMWwtMS40NjkgMi41N2ExIDEgMCAwIDEtMS42ODIuMDg1TDcuMjQzIDE0SDQuNUExLjUgMS41IDAgMCAxIDMgMTIuNXpNNC41IDRhLjUuNSAwIDAgMC0uNS41djhhLjUuNSAwIDAgMCAuNS41aDMuMjU3bDIuMTk2IDMuMDc0TDExLjcxIDEzaDMuNzlhLjUuNSAwIDAgMCAuNS0uNXYtOGEuNS41IDAgMCAwLS41LS41eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNi41IDYuNUEuNS41IDAgMCAxIDcgNmg2YS41LjUgMCAwIDEgMCAxSDdhLjUuNSAwIDAgMS0uNS0uNU02LjUgOS41QS41LjUgMCAwIDEgNyA5aDZhLjUuNSAwIDAgMSAwIDFIN2EuNS41IDAgMCAxLS41LS41IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-ohlc-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZD0iTTEzIDExaC0zdi0xaDNWM2gxdjJoNHYxaC00djExaC0xek02IDE3di0yaDN2LTFINlY0SDV2MUgydjFoM3YxMXoiLz48L3N2Zz4=)}.ag-charts-icon-pan-end{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0ibTYuNjQ2IDEzLjgxMy0uMzUzLjM1NC43MDcuNzA3LjM1NC0uMzU0ek0xMS4xNjYgMTBsLjM1NC4zNTQuMzU0LS4zNTQtLjM1NC0uMzU0ek03LjM1NSA1LjQ4IDcgNS4xMjZsLS43MDcuNzA3LjM1My4zNTR6bTAgOS4wNCA0LjE2Ni00LjE2Ni0uNzA3LS43MDgtNC4xNjcgNC4xNjd6bTQuMTY2LTQuODc0TDcuMzU0IDUuNDhsLS43MDguNzA3IDQuMTY3IDQuMTY3ek0xMy4wODMgNXYxMGgxVjV6Ii8+PC9zdmc+)}.ag-charts-icon-pan-left{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTIuNzkgNS44MzMgOC42MjUgMTBsNC4xNjYgNC4xNjctLjcwNy43MDdMNy4yMSAxMGw0Ljg3My00Ljg3NHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-pan-right{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNy4yMSAxNC4xNjcgMTEuMzc2IDEwIDcuMjEgNS44MzNsLjcwNy0uNzA3TDEyLjc5IDEwbC00Ljg3MyA0Ljg3NHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-pan-start{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTYgNXYxMGgxVjV6TTkuNjI0IDEwbDQuMTY2LTQuMTY3LS43MDctLjcwN0w4LjIxIDEwbDQuODc0IDQuODc0LjcwNy0uNzA3eiIvPjwvc3ZnPg==)}.ag-charts-icon-parallel-channel,.ag-charts-icon-parallel-channel-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTcuNzIgNS4zMzFBMi4yNSAyLjI1IDAgMSAwIDE0LjcwNSAzLjZsLTkuNDkgNC41NjJhMi4yNSAyLjI1IDAgMSAwIC4yMDkgMS4wMWw5LjY2Mi00LjY0NmEyLjI1IDIuMjUgMCAwIDAgMi42MzQuODA1bS4zNzMtMi41NDdhMS4yNSAxLjI1IDAgMSAxLTIuMzM4Ljg4NSAxLjI1IDEuMjUgMCAwIDEgMi4zMzgtLjg4NU00LjM0MyA4LjY3YTEuMjUgMS4yNSAwIDEgMS0yLjMzOC44ODUgMS4yNSAxLjI1IDAgMCAxIDIuMzM4LS44ODVNNS4zMDcgMTYuNzI4YTIuMjUgMi4yNSAwIDEgMS0uNTI1LS44NThsOS45MjMtNC43N2EyLjI1IDIuMjUgMCAxIDEgLjM4MS45MjZ6bS0uOTY0LjI3NGExLjI1IDEuMjUgMCAxIDEtMi4zMzguODg1IDEuMjUgMS4yNSAwIDAgMSAyLjMzOC0uODg1bTEzLjAyMy01LjEwNmExLjI1IDEuMjUgMCAxIDAtLjg4NS0yLjMzOSAxLjI1IDEuMjUgMCAwIDAgLjg4NSAyLjMzOSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-position-bottom{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii4yNSIgZD0iTTMgMTBoMTR2MUgzem0zLTNoOHYxSDZ6Ii8+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTYgMTNoOHYxSDZ6Ii8+PC9zdmc+)}.ag-charts-icon-position-center{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMyAxMGgxNHYxSDN6Ii8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuMjUiIGQ9Ik02IDdoOHYxSDZ6bTAgNmg4djFINnoiLz48L3N2Zz4=)}.ag-charts-icon-position-top{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii4yNSIgZD0iTTMgMTBoMTR2MUgzeiIvPjxwYXRoIGZpbGw9IiMwMDAiIGQ9Ik02IDdoOHYxSDZ6Ii8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuMjUiIGQ9Ik02IDEzaDh2MUg2eiIvPjwvc3ZnPg==)}.ag-charts-icon-price-label-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNC41IDNBMS41IDEuNSAwIDAgMCAzIDQuNVYxM2ExLjUgMS41IDAgMCAwIDEuNSAxLjVoLjgzM3YuMDU3Yy4yNDItLjI5OS41OTctLjUwMyAxLS41NDhWMTMuNUg0LjVBLjUuNSAwIDAgMSA0IDEzVjQuNWEuNS41IDAgMCAxIC41LS41aDExYS41LjUgMCAwIDEgLjUuNXY4YS41LjUgMCAwIDEtLjUuNWgtNC44MThsLS4xMjYuMDg0YTI2IDI2IDAgMCAwLTIuMjI1IDEuNjg1bC0uMzIuMjY1LS4wNjguMDU2YTEuNSAxLjUgMCAwIDEtMi42MDkgMS4zNTRjLjAzMy43NjMuOTA1IDEuMjM4IDEuNTYuNzU2LjY0Ni0uNDc0IDEuMjEtLjk0MyAxLjc2MS0xLjRsLjMxMy0uMjZBMjYgMjYgMCAwIDEgMTAuOTg2IDE0SDE1LjVhMS41IDEuNSAwIDAgMCAxLjUtMS41di04QTEuNSAxLjUgMCAwIDAgMTUuNSAzeiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNOC43MTYgMTQuODE1YTIuMjUgMi4yNSAwIDEgMS00LjIxIDEuNTkzIDIuMjUgMi4yNSAwIDAgMSA0LjIxLTEuNTkzbS0xLjY2MiAxLjk2NmExLjI1IDEuMjUgMCAxIDAtLjg4NS0yLjMzOSAxLjI1IDEuMjUgMCAwIDAgLjg4NSAyLjMzOSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-price-range-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNOS4wNDYgMTVWNS44NzdoLjk0MlYxNXoiIGZpbGw9IiMxODFEMUYiLz48cGF0aCBkPSJNOS4wNDYgMTVWNS44NzdoLjk0MlYxNXoiIGZpbGw9IiMxODFEMUYiLz48cGF0aCBkPSJNOS41IDYuMjI4IDcuMTY3IDguMzc2IDYuNSA3Ljc2MiA5LjUgNWwzIDIuNzYyLS42NjcuNjE0eiIgZmlsbD0iIzAwMCIvPjxwYXRoIGQ9Ik0yIDE4di0xaDE2djF6TTIgM1YyaDE2djF6IiBmaWxsPSIjMTgxRDFGIi8+PC9zdmc+)}.ag-charts-icon-reset{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTIuMDQgNC40NDVhNS44MSA1LjgxIDAgMCAwLTcuMjU3IDIuNDUzLjUuNSAwIDAgMS0uODY1LS41MDJBNi44MSA2LjgxIDAgMSAxIDMgOS44MTNhLjUuNSAwIDAgMSAxIDAgNS44MSA1LjgxIDAgMSAwIDguMDQtNS4zNjgiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiMwMDAiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTQuMjg5IDMuMDAyYS41LjUgMCAwIDEgLjUuNXYyLjY1NWgyLjY1NWEuNS41IDAgMCAxIDAgMUg0LjI5YS41LjUgMCAwIDEtLjUtLjVWMy41MDJhLjUuNSAwIDAgMSAuNS0uNSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-settings{--icon: url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgc3R5bGU9ImZpbGwtcnVsZTpldmVub2RkIj48cGF0aCBkPSJNMTAgMTNhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2bTAtMWEyIDIgMCAxIDEtLjAwMS0zLjk5OUEyIDIgMCAwIDEgMTAgMTIiLz48cGF0aCBkPSJNMi4zMSAxNC4zNDVjLS44MTctMS40OTEuMDI3LTIuNDk5LjQ3NC0yLjg2NS41MzEtLjQzNC45NjktLjM2NS45NzItMS40OC0uMDAzLTEuMTE1LS40NDEtMS4wNDYtLjk3Mi0xLjQ4MS0uNDU0LS4zNzEtMS4zMTctMS40MDUtLjQzNC0yLjkzNmwuMDA1LS4wMDljLjg4NC0xLjUyIDIuMjA3LTEuMjkgMi43NTUtMS4wODMuNjQxLjI0My44MDEuNjU2IDEuNzY4LjEwMS45NjQtLjU2LjY4Ni0uOTA0Ljc5Ni0xLjU4Mi4wOTQtLjU3OC41NTktMS44NDMgMi4zMjYtMS44NDNoLjAxYzEuNzU5LjAwNSAyLjIyMiAxLjI2NiAyLjMxNiAxLjg0My4xMS42NzgtLjE2OCAxLjAyMi43OTYgMS41ODIuOTY3LjU1NSAxLjEyNy4xNDIgMS43NjgtLjEwMS41NDktLjIwOCAxLjg3Ni0uNDM4IDIuNzYgMS4wOTJzLjAyIDIuNTY1LS40MzQgMi45MzZjLS41MzEuNDM1LS45NjkuMzY2LS45NzIgMS40ODEuMDAzIDEuMTE1LjQ0MSAxLjA0Ni45NzIgMS40OC40NTQuMzcyIDEuMzE3IDEuNDA2LjQzNCAyLjkzN2wtLjAwNS4wMDljLS44ODQgMS41Mi0yLjIwNyAxLjI5LTIuNzU1IDEuMDgzLS42NDEtLjI0My0uODAxLS42NTYtMS43NjgtLjEwMS0uOTY0LjU2LS42ODYuOTA0LS43OTYgMS41ODEtLjA5NC41NzktLjU1OSAxLjg0NC0yLjMyNiAxLjg0NGgtLjAxYy0xLjc1OS0uMDA1LTIuMjIyLTEuMjY2LTIuMzE2LTEuODQ0LS4xMS0uNjc3LjE2OC0xLjAyMS0uNzk2LTEuNTgxLS45NjctLjU1NS0xLjEyNy0uMTQyLTEuNzY4LjEwMS0uNTQ5LjIwOC0xLjg3Ni40MzgtMi43Ni0xLjA5MmwtLjAyLS4wMzZ6TTkuOTg0IDIuMTYySDEwYzEuMzU1IDAgMS4zNDIgMS4wMzkgMS4zNTMgMS40MjUuMDA4LjMxMi4wNCAxLjE2IDEuMjU5IDEuODcybC4wMTUuMDA4YzEuMjI1LjcgMS45NzYuMzA0IDIuMjUxLjE1NS4zMzctLjE4MyAxLjIyNi0uNzExIDEuOTAyLjQ0NWwuMDA4LjAxNGMuNjc4IDEuMTczLS4yMjkgMS42ODItLjU1OCAxLjg4NC0uMjY2LjE2My0uOTg0LjYxNS0uOTkxIDIuMDI3di4wMTZjLjAwNyAxLjQxMi43MjUgMS44NjQuOTkxIDIuMDI3LjMyOC4yMDEgMS4yMjkuNzA3LjU2NiAxLjg3bC0uMDA4LjAxNGMtLjY3NyAxLjE3NC0xLjU3MS42NDMtMS45MS40NTktLjI3NS0uMTQ5LTEuMDI2LS41NDUtMi4yNTEuMTU0bC0uMDE1LjAwOWMtMS4yMTkuNzEyLTEuMjUxIDEuNTYtMS4yNTkgMS44NzItLjAxMS4zODYuMDAyIDEuNDI1LTEuMzUzIDEuNDI1cy0xLjM0Mi0xLjAzOS0xLjM1My0xLjQyNWMtLjAwOC0uMzEyLS4wNC0xLjE2LTEuMjU5LTEuODcybC0uMDE1LS4wMDljLTEuMjI1LS42OTktMS45NzYtLjMwMy0yLjI1MS0uMTU0LS4zMzYuMTgzLTEuMjE5LjcwNi0xLjg5NC0uNDMybC0uMDE2LS4wMjdjLS42NzgtMS4xNzQuMjI5LTEuNjgyLjU1OC0xLjg4NC4yNjYtLjE2My45ODQtLjYxNS45OTEtMi4wMjd2LS4wMTZjLS4wMDctMS40MTItLjcyNS0xLjg2NC0uOTkxLTIuMDI3LS4zMjgtLjIwMS0xLjIyOS0uNzA3LS41NjYtMS44N2wuMDA4LS4wMTRjLjY3Ny0xLjE3NCAxLjU3MS0uNjQzIDEuOTEtLjQ1OS4yNzUuMTQ5IDEuMDI2LjU0NSAyLjI1MS0uMTU1bC4wMTUtLjAwOGMxLjIxOS0uNzEyIDEuMjUxLTEuNTYgMS4yNTktMS44NzIuMDEtLjM4NC0uMDAyLTEuNDE3IDEuMzM3LTEuNDI1Ii8+PC9zdmc+)}.ag-charts-icon-step-line-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzE4MUQxRiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNiA0aDV2OGgzVjhoNXYxaC00djRoLTVWNUg3djEwSDJ2LTFoNHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-text-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00IDRIMTZWN0gxNVY1SDEwLjVWMTVIMTRWMTZINlYxNUg5LjVWNUg1VjdINFY0WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==)}.ag-charts-icon-trend-line,.ag-charts-icon-trend-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNS4zMTQgMTAuOTM4YTIuMjUgMi4yNSAwIDEgMSAuMDEtMWg5LjM1MmEyLjI1IDIuMjUgMCAxIDEgLjAxIDF6bS0yLjE4OS43MjlhMS4yNSAxLjI1IDAgMSAwIDAtMi41IDEuMjUgMS4yNSAwIDAgMCAwIDIuNW0xMy43NSAwYTEuMjUgMS4yNSAwIDEgMCAwLTIuNSAxLjI1IDEuMjUgMCAwIDAgMCAyLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-unlock,.ag-charts-icon-unlocked{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuNjUxIDMuNWEyLjg5NCAyLjg5NCAwIDAgMC0yLjg5NCAyLjg5NFY5SDE0LjVhMi41IDIuNSAwIDAgMSAyLjUgMi41djNhMi41IDIuNSAwIDAgMS0yLjUgMi41aC04QTIuNSAyLjUgMCAwIDEgNCAxNC41di0zQTIuNSAyLjUgMCAwIDEgNi41IDloLjI1N1Y2LjM5NGEzLjg5NCAzLjg5NCAwIDEgMSA3Ljc4OSAwIC41LjUgMCAwIDEtMSAwQTIuODk0IDIuODk0IDAgMCAwIDEwLjY1IDMuNU02LjUgMTBBMS41IDEuNSAwIDAgMCA1IDExLjV2M0ExLjUgMS41IDAgMCAwIDYuNSAxNmg4YTEuNSAxLjUgMCAwIDAgMS41LTEuNXYtM2ExLjUgMS41IDAgMCAwLTEuNS0xLjV6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-vertical-line,.ag-charts-icon-vertical-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuNSA3LjgwNmEyLjI1IDIuMjUgMCAwIDEgMCA0LjM4OFYxOS41aC0xdi03LjMwNmEyLjI1IDIuMjUgMCAwIDEgMC00LjM4OFYuNWgxem0tLjUuOTQ0YTEuMjUgMS4yNSAwIDEgMSAwIDIuNSAxLjI1IDEuMjUgMCAwIDEgMC0yLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-zoom-in{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTEwIDUuNWEuNS41IDAgMCAxIC41LjV2My41aDMuODc1YS41LjUgMCAwIDEgMCAxSDEwLjV2NC4yNWEuNS41IDAgMSAxLTEgMFYxMC41SDUuNjI1YS41LjUgMCAxIDEgMC0xSDkuNVY2YS41LjUgMCAwIDEgLjUtLjUiLz48L3N2Zz4=)}.ag-charts-icon-zoom-out{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNS41IDEwYS41LjUgMCAwIDEgLjUtLjVoOGEuNS41IDAgMCAxIDAgMUg2YS41LjUgMCAwIDEtLjUtLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-high-low-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNyA0aDJ2MTJINFY0aDNNNSA1aDN2MTBINXpNMTEgMTRWNmg1djhoLTVtMS03aDN2NmgtM3oiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-hlc-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTguMTYzIDEuODM3LTUuMzM0IDExLjYyMUw2Ljk1NyA4LjEybC00LjE5OSA5LjYyMi0uOTE2LS40IDQuNzU2LTEwLjlMMTIuNDkgMTEuOCAxNy4yNTQgMS40MnoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiMwMDAiIGZpbGwtb3BhY2l0eT0iLjQiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTUuODI1IDIuNzA0LjU1IDEzLjc4NWwuOTAyLjQzIDQuNzI0LTkuOTE5IDYuMDM0IDUuMDI5IDMuMjU1LTguMTQtLjkyOC0uMzctMi43NDUgNi44NnptNy44NTIgMTQuNjM2IDUuNzgtMTMuMTM5LS45MTUtLjQwMi01LjIxOSAxMS44Ni02LjAwNS01LjUwNC0zLjI3OCA3LjY0OC45Mi4zOTQgMi43MjItNi4zNTJ6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-zoom-in-alt{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXpvb20taW4iPjxjaXJjbGUgY3g9IjExIiBjeT0iMTEiIHI9IjgiLz48bGluZSB4MT0iMjEiIHgyPSIxNi42NSIgeTE9IjIxIiB5Mj0iMTYuNjUiLz48bGluZSB4MT0iMTEiIHgyPSIxMSIgeTE9IjgiIHkyPSIxNCIvPjxsaW5lIHgxPSI4IiB4Mj0iMTQiIHkxPSIxMSIgeTI9IjExIi8+PC9zdmc+)}.ag-charts-icon-zoom-out-alt{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXpvb20tb3V0Ij48Y2lyY2xlIGN4PSIxMSIgY3k9IjExIiByPSI4Ii8+PGxpbmUgeDE9IjIxIiB4Mj0iMTYuNjUiIHkxPSIyMSIgeTI9IjE2LjY1Ii8+PGxpbmUgeDE9IjgiIHgyPSIxNCIgeTE9IjExIiB5Mj0iMTEiLz48L3N2Zz4=)}.ag-charts-input{--input-layer-active: 1;--input-layer-focus: 2;--input-padding: calc(var(--ag-charts-spacing) * 2);--input-padding-large: calc(var(--ag-charts-spacing) * 2.5);color:var(--ag-charts-input-text-color);font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size-large);transition-duration:.25s;transition-property:none;transition-timing-function:ease-out}.ag-charts-input:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow);z-index:var(--input-layer-focus)}.ag-charts-button{background:var(--ag-charts-button-background-color);border:1px solid var(--ag-charts-border-color);border-radius:var(--ag-charts-button-border-radius);color:var(--ag-charts-button-text-color);cursor:pointer;padding:var(--input-padding);transition-property:background,border-color}.ag-charts-button:hover{background:var(--ag-charts-focus-color)}.ag-charts-button:has(.ag-charts-icon){padding:2px}.ag-charts-checkbox{--checkbox-transition-duration: .1s;appearance:none;background:var(--ag-charts-checkbox-background-color);border-radius:calc(var(--ag-charts-border-radius) * 9);cursor:pointer;height:18px;margin:0;transition-duration:var(--checkbox-transition-duration);transition-property:margin;width:29px}.ag-charts-checkbox:before{display:block;background:var(--ag-charts-input-background-color);border-radius:calc(var(--ag-charts-border-radius) * 7);content:" ";height:14px;margin:2px;transition-duration:var(--checkbox-transition-duration);transition-property:margin;transition-timing-function:var(--ag-charts-input-transition-easing);width:14px}.ag-charts-checkbox:checked{background:var(--ag-charts-checkbox-checked-background-color)}.ag-charts-checkbox:checked:before{margin-left:13px}.ag-charts-select{background:var(--ag-charts-input-background-color);border:1px solid var(--ag-charts-input-border-color);border-radius:var(--ag-charts-input-border-radius);padding:3px 2px 4px;font-size:inherit}.ag-charts-textarea{--textarea-line-height: 1.38;background:var(--ag-charts-input-background-color);border:1px solid var(--ag-charts-border-color);border-radius:var(--ag-charts-input-border-radius);line-height:var(--textarea-line-height);font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size-large);padding:var(--input-padding-large) var(--input-padding)}.ag-charts-textarea::placeholder{color:var(--ag-charts-input-placeholder-text-color)}.ag-charts-proxy-container{pointer-events:none;position:absolute}.ag-charts-proxy-elem{-webkit-appearance:none;appearance:none;background:none;border:none;color:#0000;overflow:hidden;pointer-events:auto;position:absolute}.ag-charts-proxy-elem::-moz-range-thumb,.ag-charts-proxy-elem::-moz-range-track{opacity:0}.ag-charts-proxy-elem::-webkit-slider-runnable-track,.ag-charts-proxy-elem::-webkit-slider-thumb{opacity:0}.ag-charts-proxy-elem:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow)}.ag-charts-focus-indicator{position:absolute;display:block;pointer-events:none;user-select:none;-webkit-user-select:none;width:100%;height:100%}.ag-charts-focus-indicator>div{position:absolute;outline:solid 1px var(--ag-charts-chrome-background-color);box-shadow:var(--ag-charts-focus-shadow)}.ag-charts-focus-indicator>svg{width:100%;height:100%;fill:none;overflow:visible}.ag-charts-focus-svg-outer-path{stroke:var(--ag-charts-chrome-background-color);stroke-width:4px}.ag-charts-focus-svg-inner-path{stroke:var(--ag-charts-accent-color);stroke-width:2px}.ag-charts-overlay{color:#181d1f;pointer-events:none}.ag-charts-overlay.ag-charts-dark-overlay{color:#fff}.ag-charts-overlay--loading{color:#8c8c8c}.ag-charts-overlay__loading-background{background:#fff;pointer-events:none}.ag-charts-overlay.ag-charts-dark-overlay .ag-charts-overlay__loading-background{background:#192232}.ag-charts-tooltip{--tooltip-arrow-size: 8px;position:fixed;inset:unset;margin:0;padding:0;overflow:visible;width:max-content;max-width:100%;font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size);font-weight:var(--ag-charts-chrome-font-weight);color:var(--ag-charts-chrome-text-color);background:var(--ag-charts-chrome-background-color);border:var(--ag-charts-border);border-radius:var(--ag-charts-border-radius);box-shadow:var(--ag-charts-shadow)}.ag-charts-tooltip--compact .ag-charts-tooltip-content{padding:3px 6px}.ag-charts-tooltip--arrow:before{content:"";position:absolute;top:100%;left:50%;margin:0 auto;transform:translate(-50%) translateY(calc(var(--tooltip-arrow-size) * -.5)) rotate(45deg);display:block;width:var(--tooltip-arrow-size);height:var(--tooltip-arrow-size);border:inherit;border-top:none;border-left:none;clip-path:polygon(0% 100%,100% 0%,100% 100%)}.ag-charts-tooltip--arrow:after{--tooltip-inner-size: calc(var(--tooltip-arrow-size) - 2px);content:"";position:absolute;top:100%;left:50%;margin:0 auto;transform:translate(-50%) translateY(calc(var(--tooltip-inner-size) * -.5)) rotate(45deg);display:block;width:var(--tooltip-inner-size);height:var(--tooltip-inner-size);border:inherit;border-color:transparent;background:inherit;clip-path:polygon(-10% 100%,100% -10%,100% 100%)}.ag-charts-tooltip--no-interaction{pointer-events:none;user-select:none;-webkit-user-select:none}.ag-charts-tooltip--wrap-always{overflow-wrap:break-word;word-break:break-word;hyphens:none}.ag-charts-tooltip--wrap-hyphenate{overflow-wrap:break-word;word-break:break-word;hyphens:auto}.ag-charts-tooltip--wrap-on-space{overflow-wrap:normal;word-break:normal}.ag-charts-tooltip--wrap-never{white-space:nowrap}.ag-charts-tooltip-heading,.ag-charts-tooltip-title,.ag-charts-tooltip-label,.ag-charts-tooltip-value{overflow:hidden;text-overflow:ellipsis}.ag-charts-tooltip-content{display:grid;grid:auto-flow minmax(1em,auto) / 1fr;padding:8px 12px;gap:8px}.ag-charts-tooltip-content:has(.ag-charts-tooltip-symbol){grid:auto-flow minmax(1em,auto) / auto 1fr}.ag-charts-tooltip-heading{grid-column:1 / -1}.ag-charts-tooltip-symbol{grid-column:1 / 2;align-self:center}.ag-charts-tooltip-symbol svg{display:block}.ag-charts-tooltip-title{grid-column:-2 / -1}.ag-charts-tooltip-row{grid-column:1 / -1;display:flex;gap:16px;align-items:baseline;justify-content:space-between;overflow:hidden}.ag-charts-tooltip-row--inline{grid-column:-2 / -1}.ag-charts-tooltip-label{flex:1;min-width:0}.ag-charts-tooltip-value{min-width:0}.ag-charts-popover{position:absolute;border:var(--ag-charts-border);border-radius:var(--ag-charts-border-radius);background:var(--ag-charts-chrome-background-color);color:var(--ag-charts-chrome-text-color);font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size);font-weight:var(--ag-charts-chrome-font-weight);box-shadow:var(--ag-charts-shadow);z-index:var(--ag-charts-layer-ui-overlay)}.ag-charts-menu{--item-padding: 6px 12px;--icon-color: var(--ag-charts-chrome-text-color);display:grid;grid:auto-flow auto / 1fr;column-gap:12px;font-size:var(--ag-charts-chrome-font-size)}.ag-charts-menu:has(.ag-charts-menu__icon,.ag-charts-menu__row--stroke-width-visible){grid:auto-flow auto / auto 1fr}.ag-charts-menu__row--stroke-width-visible:before{content:"";height:var(--strokeWidth);width:12px;background:var(--icon-color)}.ag-charts-menu__row--stroke-width-visible[aria-disabled=true]:before{filter:grayscale(1);opacity:.5}.ag-charts-menu__row{display:grid;grid-column:1 / -1;grid-template-columns:subgrid;align-items:center;padding:var(--item-padding)}.ag-charts-menu__row:not(.ag-charts-menu__row--active){cursor:pointer}.ag-charts-menu__row:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.ag-charts-menu__row:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.ag-charts-menu__row:focus{background:var(--ag-charts-focus-color)}.ag-charts-menu__row:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow);z-index:var(--ag-charts-layer-menu)}.ag-charts-menu__row--active{--icon-color: var(--ag-charts-accent-color);background:var(--ag-charts-focus-color);color:var(--ag-charts-accent-color)}.ag-charts-menu__label{grid-column:-1 / span 1}.ag-charts-toolbar{--toolbar-gap: calc(var(--ag-charts-spacing) * 2);--toolbar-size: 34px;--toolbar-button-padding: 6px;align-items:center;display:flex;flex-wrap:nowrap;position:absolute}.ag-charts-toolbar__button{align-items:center;background:var(--ag-charts-chrome-background-color);border:var(--ag-charts-border);color:var(--ag-charts-chrome-text-color);cursor:pointer;display:flex;font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size-medium);font-weight:var(--ag-charts-chrome-font-weight);justify-content:center;min-height:var(--toolbar-size);min-width:var(--toolbar-size);padding:var(--toolbar-button-padding);position:relative;transition:background-color .25s ease-in-out,border-color .25s ease-in-out,color .25s ease-in-out;white-space:nowrap}.ag-charts-toolbar__button:hover{background:var(--ag-charts-focus-color);z-index:1}.ag-charts-toolbar__button:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow);z-index:calc(var(--ag-charts-layer-ui-overlay) + 1)}.ag-charts-toolbar__button--active{background:var(--ag-charts-focus-color);border-color:var(--ag-charts-accent-color);color:var(--ag-charts-accent-color);z-index:2}.ag-charts-toolbar__button[aria-disabled=true]{background:var(--ag-charts-button-disabled-background-color);color:var(--ag-charts-button-disabled-text-color);cursor:default}.ag-charts-toolbar--horizontal{flex-direction:row;.ag-charts-toolbar__button{margin:0 0 0 -1px}.ag-charts-toolbar__button--first{border-bottom-left-radius:var(--ag-charts-border-radius);border-top-left-radius:var(--ag-charts-border-radius);margin:0}.ag-charts-toolbar__button--last{border-bottom-right-radius:var(--ag-charts-border-radius);border-top-right-radius:var(--ag-charts-border-radius)}}.ag-charts-toolbar--vertical{flex-direction:column;.ag-charts-toolbar__button{margin:-1px 0 0;max-width:100%}.ag-charts-toolbar__button--first{border-top-left-radius:var(--ag-charts-border-radius);border-top-right-radius:var(--ag-charts-border-radius);margin:0}.ag-charts-toolbar__button--last{border-bottom-left-radius:var(--ag-charts-border-radius);border-bottom-right-radius:var(--ag-charts-border-radius)}}.ag-charts-toolbar__icon+.ag-charts-toolbar__label{margin-left:var(--toolbar-gap)}.ag-charts-toolbar__icon,.ag-charts-toolbar__label{pointer-events:none}.ag-charts-floating-toolbar{border:none;display:flex;.ag-charts-toolbar{align-items:unset;position:unset}}.ag-charts-floating-toolbar__drag-handle{align-items:center;background:var(--ag-charts-chrome-background-color);border:var(--ag-charts-border);border-bottom-left-radius:var(--ag-charts-border-radius);border-top-left-radius:var(--ag-charts-border-radius);cursor:grab;display:flex;justify-content:center;min-width:24px;padding-left:0;padding-right:0}.ag-charts-floating-toolbar__drag-handle--dragging{cursor:grabbing}
`,zc=class{constructor(){this.registeredListeners=new Map}addListener(e,i){const n={symbol:Symbol(e),handler:i};return this.registeredListeners.has(e)?this.registeredListeners.get(e).push(n):this.registeredListeners.set(e,[n]),()=>this.removeListener(n.symbol)}removeListener(e){for(const[i,n]of this.registeredListeners.entries()){const s=n.findIndex(a=>a.symbol===e);if(s>=0){n.splice(s,1),n.length===0&&this.registeredListeners.delete(i);break}}}dispatch(e,...i){for(const n of this.getListenersByType(e))try{n.handler(...i)}catch(s){It.errorOnce(String(s))}}getListenersByType(e){return this.registeredListeners.get(e)??[]}destroy(){this.registeredListeners.clear()}},yh=class{constructor(){this.listeners=new zc,this.destroyFns=[]}addListener(t,e){return this.listeners.addListener(t,e)}destroy(){this.listeners.destroy(),this.destroyFns.forEach(t=>t())}},Drt=class tM{constructor(e,i,n){this.element=e,this.topTabGuard=i,this.bottomTabGuard=n,this.destroyFns=[],this.guardTabIndex=0,this.hasFocus=!1,this.initTabGuard(this.topTabGuard,s=>this.onTab(s,!1)),this.initTabGuard(this.bottomTabGuard,s=>this.onTab(s,!0)),this.element.addEventListener("focus",()=>this.onFocus(),{capture:!0}),this.element.addEventListener("blur",s=>this.onBlur(s),{capture:!0})}set tabIndex(e){this.guardTabIndex=e,this.guardTabIndex===0?this.setGuardIndices(void 0):this.hasFocus||this.setGuardIndices(this.guardTabIndex)}destroy(){for(const e of this.destroyFns)e();this.destroyFns.length=0}initTabGuard(e,i){const n=()=>i(e);e.addEventListener("focus",n),this.destroyFns.push(()=>e.removeEventListener("focus",n))}setGuardIndices(e){const i=e;We(this.topTabGuard,"tabindex",i),We(this.bottomTabGuard,"tabindex",i)}onFocus(){this.hasFocus=!0,this.guardTabIndex!==0&&this.setGuardIndices(0)}onBlur({relatedTarget:e}){const{topTabGuard:i,bottomTabGuard:n}=this;this.hasFocus=!1,this.guardTabIndex!==0&&e!==i&&e!==n&&this.setGuardIndices(this.guardTabIndex)}onTab(e,i){if(this.guardTabIndex!==0){let n;e.tabIndex===0?(n=this.findExitTarget(!i),this.setGuardIndices(this.guardTabIndex)):n=this.findEnterTarget(i),n==null||n.focus()}}static queryFocusable(e,i){const n=ai();return Array.from(e.querySelectorAll(i)).filter(s=>{if(s instanceof HTMLElement){const a=n.getComputedStyle(s);return a.display!=="none"&&a.visibility!=="none"}return!1})}findEnterTarget(e){const i=tM.queryFocusable(this.element,'[tabindex="0"]'),n=e?i.length-1:0;return i[n]}findExitTarget(e){const i=tM.queryFocusable(Tc(),"[tabindex]").filter(a=>a.tabIndex>0).sort((a,o)=>a.tabIndex-o.tabIndex),{before:n,after:s}=tM.findBeforeAndAfter(i,this.guardTabIndex);return e?n:s}static findBeforeAndAfter(e,i){let n=0,s=e.length-1,a,o;for(;n<=s;){const r=Math.floor((n+s)/2),l=e[r].tabIndex;if(l===i){a=e[r-1]||void 0,o=e[r+1]||void 0;break}else l<i?(a=e[r],n=r+1):(o=e[r],s=r-1)}return{before:a,after:o}}};function yr(t,e,i,n,s){e.addEventListener(i,n);const a=()=>e.removeEventListener(i,n,s);return t.push(a),a}function GH(t,e,i){yr(t,e,"keydown",n=>{n.key==="Escape"&&i(n)})}function Irt(t,e,i){const n=yr(t,window,"mousedown",s=>{[0,2].includes(s.button)&&!VH(e,s)&&(i(),n())});return n}function Trt(t,e,i){const n=yr(t,window,"touchstart",s=>{Array.from(s.targetTouches).some(o=>!VH(e,o))&&(i(),n())});return n}function VH(t,e){if(e.target instanceof Element){const{x:i,y:n,width:s,height:a}=t.getBoundingClientRect(),{clientX:o,clientY:r}=e;return o>=i&&r>=n&&o<=i+s&&r<=n+a}return!1}function YA(t){return!(t.shiftKey||t.altKey||t.ctrlKey||t.metaKey)}function cE(t,e,...i){return YA(t)&&(t.key===e||i.some(n=>t.key===n))}function V_(t,e,i,n){i&&yr(t,e,"keydown",s=>{cE(s,n)&&i.focus()})}function Crt(t,e,i,n,s,a){V_(t,e,s,a),V_(t,e,i,n),yr(t,e,"keydown",o=>{cE(o,n,a)&&o.preventDefault()})}var ig={horizontal:{nextKey:"ArrowRight",prevKey:"ArrowLeft"},vertical:{nextKey:"ArrowDown",prevKey:"ArrowUp"}};function UH(t){const{orientation:e,buttons:i,wrapAround:n=!1,onEscape:s,onFocus:a,onBlur:o}=t,{nextKey:r,prevKey:l}=ig[e],c=y=>{y.target&&"tabIndex"in y.target&&(i.forEach(m=>m.tabIndex=-1),y.target.tabIndex=0)},[h,p]=n?[i.length,i.length]:[0,1/0],f=[];for(let y=0;y<i.length;y++){const m=i[(h+y-1)%p],b=i[y],S=i[(h+y+1)%p];yr(f,b,"focus",c),a&&yr(f,b,"focus",a),o&&yr(f,b,"blur",o),s&&GH(f,b,s),Crt(f,b,S,r,m,l),b.tabIndex=y===0?0:-1}return f}var krt=class{constructor(t,e,i){this.lastFocus=e,this.closeCallback=i,this.destroyFns=[],this.destroyFns.push(Irt(this.destroyFns,t,()=>this.close(!0))),this.destroyFns.push(Trt(this.destroyFns,t,()=>this.close(!0)))}close(t){this.destroyFns.forEach(e=>e()),this.destroyFns.length=0,this.closeCallback(),this.finishClosing(t)}finishClosing(t){var e;this.destroyFns.forEach(i=>i()),this.destroyFns.length=0,We(this.lastFocus,"aria-expanded",!1),t||(e=this.lastFocus)==null||e.focus({preventScroll:!0}),this.lastFocus=void 0}};function HH(t){var m;const{sourceEvent:e,orientation:i,menu:n,buttons:s,closeCallback:a,overrideFocusVisible:o,autoCloseOnBlur:r=!1}=t,{nextKey:l,prevKey:c}=ig[i],h=hE(e);We(h,"aria-expanded",!0);const p=new krt(n,h,a),f=()=>p.close(),{destroyFns:y}=p;if(n.role="menu",n.ariaOrientation=i,y.push(...UH({orientation:i,buttons:s,onEscape:f,wrapAround:!0})),n.tabIndex=-1,GH(y,n,f),yr(y,n,"keydown",b=>{var S;b.target===n&&(b.key===l||b.key===c)&&(b.preventDefault(),(S=s[0])==null||S.focus())}),r){const b=S=>{!s.includes(S.relatedTarget)&&f()};for(const S of s)yr(y,S,"blur",b)}return(m=s[0])==null||m.focus({preventScroll:!0}),o!==void 0&&(s.forEach(S=>S.setAttribute("data-focus-visible-override",o.toString())),yr(y,n,"keydown",()=>{s.forEach(S=>S.setAttribute("data-focus-visible-override","true"))},{once:!0})),p}function Lrt(t,e){return i=>{if(t.ariaDisabled==="true")return i.preventDefault();e(i)}}function uE(t){return"button"in t?t.button===0:YA(t)&&(t.code==="Space"||t.key==="Enter")}function hE(t){if((t==null?void 0:t.target)instanceof HTMLElement&&"tabindex"in t.target.attributes)return t.target}function WH(t){const e=i=>{if(i.defaultPrevented)return;HA(i.target,"data-preventdefault",!0)&&cE(i,"ArrowRight","ArrowLeft","ArrowDown","ArrowUp")&&i.preventDefault()};return t.addEventListener("keydown",e),()=>t.removeEventListener("keydown",e)}var Nrt=class{constructor(t){this.callback=t,this.devicePixelRatio=ai("devicePixelRatio")??1,this.devicePixelRatioMediaQuery=void 0,this.devicePixelRatioListener=e=>{e.matches||(this.devicePixelRatio=ai("devicePixelRatio")??1,this.unregisterDevicePixelRatioListener(),this.registerDevicePixelRatioListener(),this.callback(this.pixelRatio))}}get pixelRatio(){return this.devicePixelRatio}observe(){this.registerDevicePixelRatioListener()}disconnect(){this.unregisterDevicePixelRatioListener()}unregisterDevicePixelRatioListener(){var t;(t=this.devicePixelRatioMediaQuery)==null||t.removeEventListener("change",this.devicePixelRatioListener),this.devicePixelRatioMediaQuery=void 0}registerDevicePixelRatioListener(){var e;const t=(e=ai("matchMedia"))==null?void 0:e(`(resolution: ${this.pixelRatio}dppx)`);t==null||t.addEventListener("change",this.devicePixelRatioListener),this.devicePixelRatioMediaQuery=t}},Ert=class{constructor(){var e;this.elements=new Map,this.documentReady=!1,this.queuedObserveRequests=[],this.onLoad=()=>{this.documentReady=!0,this.queuedObserveRequests.forEach(([i,n])=>this.observe(i,n)),this.queuedObserveRequests=[],this.observeWindow()},typeof ResizeObserver<"u"&&(this.resizeObserver=new ResizeObserver(i=>{for(const{target:n,contentRect:{width:s,height:a}}of i){const o=this.elements.get(n);this.checkSize(o,n,s,a)}}));let t;this.pixelRatioObserver=new Nrt(()=>{clearTimeout(t),t=setTimeout(()=>this.checkPixelRatio(),0)}),this.documentReady=Tc("readyState")==="complete",this.documentReady?this.observeWindow():(e=ai())==null||e.addEventListener("load",this.onLoad)}destroy(){var t,e,i;(t=ai())==null||t.removeEventListener("load",this.onLoad),(e=this.resizeObserver)==null||e.disconnect(),this.resizeObserver=void 0,(i=this.pixelRatioObserver)==null||i.disconnect(),this.pixelRatioObserver=void 0}observeWindow(){var t;(t=this.pixelRatioObserver)==null||t.observe()}checkPixelRatio(){var e;const t=((e=this.pixelRatioObserver)==null?void 0:e.pixelRatio)??1;for(const[i,n]of this.elements)if(n.size!=null&&n.size.pixelRatio!==t){const{width:s,height:a}=n.size;n.size={width:s,height:a,pixelRatio:t},n.cb(n.size,i)}}checkSize(t,e,i,n){var s,a,o;if(t&&(i!==((s=t.size)==null?void 0:s.width)||n!==((a=t.size)==null?void 0:a.height))){const r=((o=this.pixelRatioObserver)==null?void 0:o.pixelRatio)??1;t.size={width:i,height:n,pixelRatio:r},t.cb(t.size,e)}}observe(t,e){var n;if(!this.documentReady){this.queuedObserveRequests.push([t,e]);return}this.elements.has(t)?this.removeFromQueue(t):(n=this.resizeObserver)==null||n.observe(t);const i={cb:e};this.elements.set(t,i)}unobserve(t){var e;(e=this.resizeObserver)==null||e.unobserve(t),this.elements.delete(t),this.removeFromQueue(t),this.elements.size||this.destroy()}removeFromQueue(t){this.queuedObserveRequests=this.queuedObserveRequests.filter(([e])=>e!==t)}},fg=class extends Map{constructor(t,e){super(),this.defaultValue=t,this.defaultState=e}set(t,e){return this.delete(t),typeof e<"u"&&super.set(t,e),this}stateId(){return Array.from(this.keys()).pop()??this.defaultState}stateValue(){return Array.from(this.values()).pop()??this.defaultValue}},wrt='<div role="presentation" class="ag-charts-wrapper ag-charts-styles" data-ag-charts><div role="presentation" class="ag-charts-canvas-center"><div role="presentation" class="ag-charts-canvas-container"><div role="presentation" class="ag-charts-canvas" aria-hidden="true"></div><div role="figure" class="ag-charts-canvas-proxy"><div role="presentation" class="ag-charts-series-area"></div></div><div role="presentation" class="ag-charts-canvas-overlay"></div></div></div></div>',Ort=["styles","canvas","canvas-center","canvas-container","canvas-overlay","canvas-proxy","series-area"],U_={safeHorizontal:"ag-charts-wrapper--safe-horizontal",safeVertical:"ag-charts-wrapper--safe-vertical"},Rrt=new Map([["styles",{childElementType:"style"}],["canvas",{childElementType:"canvas"}],["canvas-proxy",{childElementType:"div"}],["canvas-overlay",{childElementType:"div"}],["canvas-center",{childElementType:"div"}],["series-area",{childElementType:"div"}]]);function Prt(t,e){if(typeof IntersectionObserver>"u")return;const i=new IntersectionObserver(n=>{for(const s of n)s.target===t&&e(s.intersectionRatio)},{root:t});return i.observe(t),i}var YH={x:0,y:0,width:0,height:0,top:0,bottom:0,left:0,right:0,toJSON(){return YH}};function H_(t,e){const i=le("div");return i.className="ag-charts-tab-guard",t.insertAdjacentElement(e,i),i}var $H=class extends yh{constructor(t,e){super(),this.styles=new Map,this.container=void 0,this.containerSize=void 0,this.sizeMonitor=new Ert,this.cursorState=new fg("default"),this.minWidth=0,this.minHeight=0;const i=le("div");i.innerHTML=wrt,this.element=i.children.item(0),this.styleRootElement=e,this.rootElements=Ort.reduce((r,l)=>{const c=`ag-charts-${l}`,h=this.element.classList.contains(c)?this.element:this.element.querySelector(`.${c}`);if(!h)throw new Error(`AG Charts - unable to find DOM element ${c}`);return r[l]={element:h,children:new Map,listeners:[]},r},{});let n=!1;this.observer=Prt(this.element,r=>{r===0&&!n&&this.listeners.dispatch("hidden",{type:"hidden"}),n=r===0}),this.setSizeOptions(),this.updateContainerSize(),this.addStyles("ag-charts-community",Art),t&&this.setContainer(t),this.destroyFns.push(WH(this.element));const s=this.element.querySelector(".ag-charts-canvas-center");if(s==null)throw new Error("Error initializing tab guards");const a=H_(s,"beforebegin"),o=H_(s,"afterend");this.tabGuards=new Drt(s,a,o)}destroy(){var t;super.destroy(),(t=this.observer)==null||t.unobserve(this.element),this.container&&this.sizeMonitor.unobserve(this.container),Object.values(this.rootElements).forEach(e=>{e.children.forEach(i=>i.remove()),e.element.remove()}),this.element.remove()}setSizeOptions(t=300,e=300,i,n){const{style:s}=this.element;s.width=`${i??t}px`,s.height=`${n??e}px`,this.minWidth=i??t,this.minHeight=n??e,this.updateContainerClassName()}updateContainerSize(){const{style:t}=this.rootElements["canvas-center"].element;t.visibility=this.containerSize==null?"hidden":"",this.containerSize?(t.width=`${this.containerSize.width??0}px`,t.height=`${this.containerSize.height??0}px`):(t.width="",t.height=""),this.updateContainerClassName()}setTabGuardIndex(t){this.tabGuards.tabIndex=t}setContainer(t){if(t===this.container)return;if(this.container&&(this.container.removeChild(this.element),this.sizeMonitor.unobserve(this.container)),!(this.getShadowDocumentRoot(t)!=null))for(const i of this.rootElements.styles.children.keys())this.removeChild("styles",i);this.container=t;for(const[i,n]of this.styles)this.addStyles(i,n);t.appendChild(this.element),this.sizeMonitor.observe(t,i=>{this.containerSize=i,this.updateContainerSize(),this.listeners.dispatch("resize",{type:"resize"})}),this.listeners.dispatch("container-changed",{type:"container-changed"})}setThemeClass(t){const e="ag-charts-theme-";this.element.classList.forEach(i=>{i.startsWith(e)&&i!==t&&this.element.classList.remove(i)}),this.element.classList.add(t)}setThemeParameters(t){const e={accentColor:"accent-color",axisColor:"axis-color",backgroundColor:"background-color",borderColor:"border-color",foregroundColor:"foreground-color",fontFamily:"font-family",fontSize:"font-size",fontWeight:"font-weight",gridLineColor:"grid-line-color",padding:"padding",subtleTextColor:"subtle-text-color",textColor:"text-color",chromeBackgroundColor:"chrome-background-color",chromeFontFamily:"chrome-font-family",chromeFontSize:"chrome-font-size",chromeFontWeight:"chrome-font-weight",chromeSubtleTextColor:"chrome-subtle-text-color",chromeTextColor:"chrome-text-color",inputBackgroundColor:"input-background-color",inputTextColor:"input-text-color",crosshairLabelBackgroundColor:"crosshair-label-background-color",crosshairLabelTextColor:"crosshair-label-text-color"},i=["fontSize","chromeFontSize"];for(const[n,s]of Object.entries(t)){let a=`${s}`;i.includes(n)&&(a=`${s}px`),this.element.style.setProperty(`--ag-charts-${e[n]}`,a)}}updateCanvasLabel(t){We(this.rootElements["canvas-proxy"].element,"aria-label",t)}getEventElement(t,e){return["focus","blur","keydown","keyup"].includes(e)?this.rootElements["series-area"].element:t}addEventListener(t,e,i){this.getEventElement(this.element,t).addEventListener(t,e,i)}removeEventListener(t,e,i){this.getEventElement(this.element,t).removeEventListener(t,e,i)}getBoundingClientRect(){return this.rootElements.canvas.element.getBoundingClientRect()}getOverlayClientRect(){var n;const t=ai(),e=new Rt(0,0,t.innerWidth,t.innerHeight),i=this.getRawOverlayClientRect();return((n=e.intersection(i))==null?void 0:n.toDOMRect())??YH}getRawOverlayClientRect(){var s,a;let t=this.element;for(;t!=null;){const o=(s=t.computedStyleMap)==null?void 0:s.call(t),r=(a=o==null?void 0:o.get("overflow-y"))==null?void 0:a.toString();if(r==="auto"||r==="scroll")return Rt.fromDOMRect(t.getBoundingClientRect());t=t.parentElement}const e=this.getShadowDocumentRoot();if(e!=null)return Rt.fromDOMRect(e.getBoundingClientRect());const{innerWidth:i,innerHeight:n}=ai();return new Rt(0,0,i,n)}getShadowDocumentRoot(t=this.container){var i;const e=((i=t==null?void 0:t.ownerDocument)==null?void 0:i.body)??Tc("body");for(;t!=null;){if(t===e)return;if(t.parentNode instanceof DocumentFragment)return t;t=t.parentNode}return this.container}getParent(t){return this.rootElements[t].element}getChildBoundingClientRect(t){const{children:e}=this.rootElements[t],i=[];for(const n of e.values())i.push(Rt.fromDOMRect(n.getBoundingClientRect()));return Rt.merge(i)}isManagedChildDOMElement(t,e,i){const{children:n}=this.rootElements[e],s=n==null?void 0:n.get(i);return s!=null&&t.contains(s)}contains(t,e){return e==null?this.element.contains(t):this.rootElements[e].element.contains(t)}addStyles(t,e){const i="data-ag-charts";if(this.styles.set(t,e),this.container==null)return;const n=o=>o.getAttribute(i)===t,s=o=>{const r=new Set(["TITLE","META"]);let l=!0,c;for(const p of o.children){if(l&&r.has(p.tagName)){c=p;continue}if(l=!1,n(p))return;p.hasAttribute(i)&&(c=p)}const h=le("style");return c!=null?o.insertBefore(h,c.nextSibling):o.prepend(h),h};let a;this.styleRootElement?a=s(this.styleRootElement):this.getShadowDocumentRoot(this.container)!=null?a=this.addChild("styles",t):a=s(Tc("head")),!(a==null||n(a))&&(a.setAttribute(i,t),a.innerHTML=e)}removeStyles(t){this.removeChild("styles",t)}updateCursor(t,e){this.cursorState.set(t,e),this.element.style.cursor=this.cursorState.stateValue()}getCursor(){return this.element.style.cursor}addChild(t,e,i,n){const{element:s,children:a,listeners:o}=this.rootElements[t];if(!a)throw new Error("AG Charts - unable to create DOM elements after destroy()");if(a.has(e))return a.get(e);const{childElementType:r="div"}=Rrt.get(t)??{};if(i&&i.tagName.toLowerCase()!==r.toLowerCase())throw new Error("AG Charts - mismatching DOM element type");const l=i??le(r);for(const[c,h,p]of o)l.addEventListener(c,h,p);if(a.set(e,l),n){const c=s.querySelector(n.query);if(c==null)throw new Error(`AG Charts - addChild query failed ${n.query}`);c.insertAdjacentElement(n.where,l)}else s==null||s.appendChild(l);return l}removeChild(t,e){var n;const{children:i}=this.rootElements[t];i&&((n=i.get(e))==null||n.remove(),i.delete(e))}incrementDataCounter(t){const{dataset:e}=this.element;e[t]??(e[t]="0"),e[t]=String(Number(e[t])+1)}setDataBoolean(t,e){this.element.dataset[t]=String(e)}updateContainerClassName(){const{element:t,containerSize:e,minWidth:i,minHeight:n}=this;t.classList.toggle(U_.safeHorizontal,i>=((e==null?void 0:e.width)??1/0)),t.classList.toggle(U_.safeVertical,n>=((e==null?void 0:e.height)??1/0))}},Brt=class extends vl{constructor(){super(le("div")),this.textElement=zo("text"),this.textElement.role="presentation",this.svgElement=zo("svg"),this.svgElement.appendChild(this.textElement),this.svgElement.style.width="100%",this.svgElement.style.opacity="0",this.svgElement.role="presentation",this.elem.appendChild(this.svgElement),this.elem.role="presentation"}set textContent(t){var n;this.textElement.textContent=t;const e=this.textElement,i=(n=e.getBBox)==null?void 0:n.call(e);i&&this.svgElement.setAttribute("viewBox",`${i.x} ${i.y} ${i.width} ${i.height}`)}get textContent(){return this.textElement.textContent}destructor(){}},Sb=class extends vl{constructor(){super(le("button")),this.setEnabled(!0)}destructor(){}setEnabled(t){We(this.elem,"aria-disabled",!t),gr(this.elem,"pointer-events",t?void 0:"none")}addListener(t,e){return super.addListener(t,(i,n)=>{(t==="click"||t==="dblclick")&&this.isDisabled()||e(i,n)})}},zrt=class extends vl{constructor(){super(le("div")),We(this.elem,"role","group")}destructor(){}},KH=class extends vl{constructor(t,e){super(le("div")),this.focusedChildIndex=0,this.onChildFocus=(i,n)=>{const s=this.children[this.focusedChildIndex];this.focusedChildIndex=n.index,s==null||s.setTabIndex(-1),n.setTabIndex(0)},this.onChildKeyDown=(i,n)=>{var l;const s=this.orientation,[a,o]=s==="both"?[ig.horizontal,ig.vertical]:[ig[s],void 0];let r=-1;if(YA(i.sourceEvent)){const c=i.sourceEvent.key;c===a.nextKey||c===(o==null?void 0:o.nextKey)?r=n.index+1:(c===a.prevKey||c===(o==null?void 0:o.prevKey))&&(r=n.index-1)}(l=this.children[r])==null||l.focus()},this.orientation=t,We(this.elem,"role",e)}get orientation(){return HA(this.elem,"aria-orientation")??"both"}set orientation(t){We(this.elem,"aria-orientation",t!=="both"?t:void 0)}focus(){var t;(t=this.children[this.focusedChildIndex])==null||t.focus()}onChildAdded(t){t.addListener("focus",this.onChildFocus),t.addListener("keydown",this.onChildKeyDown),t.setTabIndex(this.children.length===1?0:-1)}onChildRemoved(t){t.removeListener("focus",this.onChildFocus),t.removeListener("keydown",this.onChildKeyDown)}},_rt=class extends KH{constructor(){super("both","list"),this.setHidden(!0)}destructor(){this.children.forEach(t=>t.getElement().parentElement.remove())}addChildToDOM(t,e){const i=le("div");We(i,"role","listitem"),gr(i,"position","absolute"),vl.setElementContainer(t,i),this.appendOrInsert(i,e),this.setHidden(!1)}removeChildFromDOM(t){t.getElement().parentElement.remove(),this.setHidden(this.children.length===0)}setHidden(t){this.children.length===0&&(t=!0),super.setHidden(t)}},gg=class extends vl{constructor(e){super(e)}destructor(){}},dE=class $m extends vl{constructor(){super(le("input")),this._step=$m.STEP_ONE,this.orientation="both"}get step(){return this._step}set step(e){this._step=e,this.getElement().step=e.attributeValue}get keyboardStep(){var e;return((e=this._keyboardStep)==null?void 0:e.step)??this._step}set keyboardStep(e){var i;if(e!==((i=this._keyboardStep)==null?void 0:i.step)&&(this._keyboardStep!==void 0&&(this.removeListener("keydown",this._keyboardStep.onKeyDown),this.removeListener("keyup",this._keyboardStep.onKeyUp),this.removeListener("blur",this._keyboardStep.onBlur),this._keyboardStep=void 0),e!==void 0)){const n=()=>this.getElement().step=e.attributeValue,s=()=>this.getElement().step=this._step.attributeValue;this._keyboardStep={step:e,onKeyDown:n,onKeyUp:s,onBlur:s},this.addListener("keydown",this._keyboardStep.onKeyDown),this.addListener("keyup",this._keyboardStep.onKeyUp),this.addListener("blur",this._keyboardStep.onBlur)}}get orientation(){return HA(this.elem,"aria-orientation")??"both"}set orientation(e){We(this.elem,"aria-orientation",e!=="both"?e:void 0),$m.registerDefaultPreventers(this,e)}destructor(){}clampValueRatio(e,i){const n=this.getValueRatio(),s=Jt(e,n,i);return s!==n&&this.setValueRatio(s),s}setValueRatio(e,i){const{divider:n}=this.step,s=Math.round(e*1e4)/n,{ariaValueText:a=dH(s/n)}=i??{},o=this.getElement();o.value=`${s}`,o.ariaValueText=a}getValueRatio(){return parseFloat(this.getElement().value)/this.step.divider}static registerDefaultPreventers(e,i){i==="both"?e.removeListener("keydown",$m.onKeyDown):e.addListener("keydown",$m.onKeyDown)}static onKeyDown(e,i){let n=[];const{orientation:s}=i;s==="horizontal"?n=["ArrowUp","ArrowDown"]:s==="vertical"&&(n=["ArrowLeft","ArrowRight"]),n.includes(e.sourceEvent.code)&&e.sourceEvent.preventDefault()}};dE.STEP_ONE={attributeValue:"1",divider:1};dE.STEP_HUNDRETH={attributeValue:"0.01",divider:100};var pE=dE,jrt=class extends Sb{constructor(){super(),We(this.elem,"role","switch"),this.setChecked(!1)}setChecked(t){We(this.elem,"aria-checked",t)}},$A=class extends KH{constructor(t="horizontal"){super(t,"toolbar")}destructor(){}};function If(t,e){var i;return((i=e.params)==null?void 0:i.type)===t}function Frt(t){if(t==="button")return new Sb;if(t==="slider")return new pE;if(t==="toolbar")return new $A;if(t==="group")return new zrt;if(t==="list")return new _rt;if(t==="region")return new gg(le("div"));if(t==="text")return new Brt;if(t==="listswitch")return new jrt;throw Error("AG Charts - error allocating meta")}function W_(t){const e={params:t,result:void 0};return e.result=Frt(e.params.type),e}var XH=class{constructor(t,e){this.localeManager=t,this.domManager=e,this.destroyFns=[]}destroy(){this.destroyFns.forEach(t=>t())}addLocalisation(t){t(),this.destroyFns.push(this.localeManager.addListener("locale-changed",t))}createProxyContainer(t){const e=W_(t),{params:i,result:n}=e,s=n.getElement();return this.domManager.addChild("canvas-proxy",i.domManagerId,s),s.classList.add(...i.classList,"ag-charts-proxy-container"),s.role=i.type,"ariaOrientation"in i&&(s.ariaOrientation=i.ariaOrientation),If("toolbar",e)&&(e.result.orientation=e.params.orientation),this.addLocalisation(()=>{s.ariaLabel=this.localeManager.t(i.ariaLabel.id,i.ariaLabel.params)}),n}createProxyElement(t){const e=W_(t);if(If("button",e)){const{params:i,result:n}=e,s=n.getElement();if(this.initInteract(i,n),typeof i.textContent=="string")s.textContent=i.textContent;else{const{textContent:a}=i;this.addLocalisation(()=>{s.textContent=this.localeManager.t(a.id,a.params)})}this.setParent(e.params,e.result)}if(If("slider",e)){const{params:i,result:n}=e,s=n.getElement();this.initInteract(i,n),s.type="range",s.role="presentation",s.style.margin="0px",this.addLocalisation(()=>{s.ariaLabel=this.localeManager.t(i.ariaLabel.id,i.ariaLabel.params)}),this.setParent(e.params,e.result)}if(If("text",e)){const{params:i,result:n}=e;this.initElement(i,n),this.setParent(e.params,e.result)}if(If("listswitch",e)){const{params:i,result:n}=e;this.initInteract(i,n),n.setTextContent(i.textContent),n.setChecked(i.ariaChecked),n.setAriaDescribedBy(i.ariaDescribedBy),this.setParent(e.params,e.result)}if(If("region",e)){const{params:i,result:n}=e,s=n.getElement();this.initInteract(i,n),s.role="region",this.setParent(e.params,e.result)}return e.result}initElement(t,e){const i=e.getElement();return We(i,"id",t.id),gr(i,"cursor",t.cursor),i.classList.toggle("ag-charts-proxy-elem",!0),i}initInteract(t,e){const{tabIndex:i,domIndex:n}=t,s=this.initElement(t,e);i!==void 0&&(s.tabIndex=i),n!==void 0&&(e.domIndex=n)}setParent(t,e){var i;if("parent"in t)(i=t.parent)==null||i.addChild(e);else{const n={where:t.where,query:".ag-charts-series-area"};this.domManager.addChild("canvas-proxy",t.domManagerId,e.getElement(),n)}}},Grt={ariaAnnounceHoverDatum:"${datum}",ariaAnnounceChart:"chart, ${seriesCount}[number] series",ariaAnnounceHierarchyChart:"hierarchy chart, ${caption}",ariaAnnounceGaugeChart:"gauge chart, ${caption}",ariaAnnounceHierarchyDatum:"level ${level}[number], ${count}[number] children, ${description}",ariaAnnounceFlowProportionLink:"link ${index} of ${count}, from ${from} to ${to}, ${sizeName} ${size}",ariaAnnounceFlowProportionNode:"node ${index} of ${count}, ${description}",ariaDescriptionLegendItem:"Press Space or Enter to toggle visibility",ariaLabelAddHorizontalLine:"Add Horizontal Line",ariaLabelAnnotationOptionsToolbar:"Annotation Options",ariaLabelAnnotationSettingsDialog:"Annotation Settings",ariaLabelColorPicker:"Color picker",ariaLabelFinancialCharts:"Financial Charts",ariaLabelLegend:"Legend",ariaLabelLegendPagination:"Legend Pagination",ariaLabelLegendPagePrevious:"Previous Legend Page",ariaLabelLegendPageNext:"Next Legend Page",ariaLabelLegendItem:"${label}, Legend item ${index}[number] of ${count}[number]",ariaLabelLegendItemUnknown:"Unknown legend item",ariaLabelNavigator:"Navigator",ariaLabelNavigatorRange:"Range",ariaLabelNavigatorMinimum:"Minimum",ariaLabelNavigatorMaximum:"Maximum",ariaLabelRangesToolbar:"Ranges",ariaLabelSettingsTabBar:"Settings",ariaLabelZoomToolbar:"Zoom",ariaValuePanRange:"${min}[percent] to ${max}[percent]",iconAltTextLineStyleSolid:"Solid",iconAltTextLineStyleDashed:"Long-dashed",iconAltTextLineStyleDotted:"Short-dashed",iconAltTextPositionTop:"Top",iconAltTextPositionCenter:"Center",iconAltTextPositionBottom:"Bottom",iconAltTextAlignLeft:"Left",iconAltTextAlignCenter:"Center",iconAltTextAlignRight:"Right",iconAltTextClose:"Close",overlayLoadingData:"Loading data...",overlayNoData:"No data to display",overlayNoVisibleSeries:"No visible series",overlayUnsupportedBrowser:"Incompatible browser version. Please upgrade your browser.",seriesHistogramTooltipFrequency:"Frequency",seriesHistogramTooltipSum:"${yName} (sum)",seriesHistogramTooltipCount:"${yName} (count)",seriesHistogramTooltipMean:"${yName} (mean)",toolbarSeriesTypeDropdown:"Chart Type",toolbarSeriesTypeOHLC:"OHLC",toolbarSeriesTypeHLC:"HLC",toolbarSeriesTypeHighLow:"High Low",toolbarSeriesTypeCandles:"Candles",toolbarSeriesTypeHollowCandles:"Hollow Candles",toolbarSeriesTypeLine:"Line",toolbarSeriesTypeLineWithMarkers:"Line with Markers",toolbarSeriesTypeStepLine:"Step Line",toolbarAnnotationsTrendLine:"Trend Line",toolbarAnnotationsFibonacciRetracement:"Fib Retracement",toolbarAnnotationsFibonacciRetracementTrendBased:"Fib Trend Based",toolbarAnnotationsHorizontalLine:"Horizontal Line",toolbarAnnotationsVerticalLine:"Vertical Line",toolbarAnnotationsParallelChannel:"Parallel Channel",toolbarAnnotationsDisjointChannel:"Disjoint Channel",toolbarAnnotationsClearAll:"Clear All",toolbarAnnotationsFillColor:"Fill Color",toolbarAnnotationsLineColor:"Line Color",toolbarAnnotationsLineStyle:"Line Style",toolbarAnnotationsLineStrokeWidth:"Line Stroke Width",toolbarAnnotationsSettings:"Settings",toolbarAnnotationsTextColor:"Text Color",toolbarAnnotationsTextSize:"Text Size",toolbarAnnotationsLock:"Lock",toolbarAnnotationsUnlock:"Unlock",toolbarAnnotationsDelete:"Delete",toolbarAnnotationsDragHandle:"Drag Toolbar",toolbarAnnotationsLineAnnotations:"Trend Lines",toolbarAnnotationsFibonacciAnnotations:"Fibonacci",toolbarAnnotationsTextAnnotations:"Text Annotations",toolbarAnnotationsShapeAnnotations:"Arrows",toolbarAnnotationsMeasurerAnnotations:"Measurers",toolbarAnnotationsCallout:"Callout",toolbarAnnotationsComment:"Comment",toolbarAnnotationsNote:"Note",toolbarAnnotationsText:"Text",toolbarAnnotationsArrow:"Arrow",toolbarAnnotationsArrowUp:"Arrow Up",toolbarAnnotationsArrowDown:"Arrow Down",toolbarAnnotationsDateRange:"Date Range",toolbarAnnotationsPriceRange:"Price Range",toolbarAnnotationsDatePriceRange:"Date and Price",toolbarAnnotationsQuickDatePriceRange:"Measure",toolbarRange1Month:"1M",toolbarRange1MonthAria:"1 month",toolbarRange3Months:"3M",toolbarRange3MonthsAria:"3 months",toolbarRange6Months:"6M",toolbarRange6MonthsAria:"6 months",toolbarRangeYearToDate:"YTD",toolbarRangeYearToDateAria:"Year to date",toolbarRange1Year:"1Y",toolbarRange1YearAria:"1 year",toolbarRangeAll:"All",toolbarRangeAllAria:"All",toolbarZoomZoomOut:"Zoom out",toolbarZoomZoomIn:"Zoom in",toolbarZoomPanLeft:"Pan left",toolbarZoomPanRight:"Pan right",toolbarZoomPanStart:"Pan to the start",toolbarZoomPanEnd:"Pan to the end",toolbarZoomReset:"Reset the zoom",contextMenuDownload:"Download",contextMenuToggleSeriesVisibility:"Toggle Visibility",contextMenuToggleOtherSeries:"Toggle Other Series",contextMenuZoomToCursor:"Zoom to here",contextMenuPanToCursor:"Pan to here",dialogHeaderChannel:"Channel",dialogHeaderLine:"Line",dialogHeaderFibonacciRange:"Fib Retracement",dialogHeaderDateRange:"Date Range",dialogHeaderPriceRange:"Price Range",dialogHeaderDatePriceRange:"Date and Price",dialogHeaderText:"Text",dialogInputAlign:"Align",dialogInputColorPicker:"Color",dialogInputColorPickerAltText:"Text Color",dialogInputFillColorPicker:"Fill",dialogInputFillColorPickerAltText:"Fill Color",dialogInputExtendChannelStart:"Extend channel start",dialogInputExtendChannelEnd:"Extend channel end",dialogInputExtendLineStart:"Extend line start",dialogInputExtendLineEnd:"Extend line end",dialogInputExtendAbove:"Extend above",dialogInputExtendBelow:"Extend below",dialogInputExtendLeft:"Extend left",dialogInputExtendRight:"Extend right",dialogInputReverse:"Reverse",dialogInputShowFill:"Show Fill",dialogInputFontSize:"Size",dialogInputFontSizeAltText:"Font Size",dialogInputLineStyle:"Dash",dialogInputPosition:"Position",dialogInputStrokeWidth:"Weight",dialogInputStrokeWidthAltText:"Line Weight",dialogInputFibonacciBands:"Bands",dialogInputFibonacciBandsAltText:"Fibonacci Bands",inputTextareaPlaceholder:"Add Text",measurerDateRangeBars:"${value}[number] bars",measurerPriceRangeValue:"${value}[number]",measurerPriceRangePercent:"${value}[percent]",measurerVolume:"Vol ${value}"},Vrt=/\$\{(\w+)}(?:\[(\w+)])?/gi,m1={number:new Intl.NumberFormat("en-US"),percent:new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2}),date:new Intl.DateTimeFormat("en-US",{dateStyle:"full"}),time:new Intl.DateTimeFormat("en-US",{timeStyle:"full"}),datetime:new Intl.DateTimeFormat("en-US",{dateStyle:"full",timeStyle:"full"})},Urt=({defaultValue:t,variables:e})=>t==null?void 0:t.replaceAll(Vrt,(i,n,s)=>{const a=e[n],o=s!=null?m1[s]:null;return s!=null&&o==null&&It.warnOnce(`Format style [${s}] is not supported`),o!=null?o.format(a):typeof a=="number"?m1.number.format(a):a instanceof Date?m1.datetime.format(a):String(a)}),Hrt=class extends zc{constructor(){super(...arguments),this.localeText=void 0,this.getLocaleText=void 0}setLocaleText(t){this.localeText!==t&&(this.localeText=t,this.dispatch("locale-changed"))}setLocaleTextFormatter(t){this.getLocaleText=t,this.getLocaleText!==t&&(this.getLocaleText=t,this.dispatch("locale-changed"))}t(t,e={}){const{localeText:i=Grt,getLocaleText:n}=this,s=i[t];return(n==null?void 0:n({key:t,defaultValue:s,variables:e}))??Urt({defaultValue:s,variables:e})??t}},fE=class{constructor(t){this.enabled=!0,this.width=600,this.height=300;const{width:e,height:i,canvasElement:n,willReadFrequently:s=!1}=t;this.pixelRatio=t.pixelRatio??ai("devicePixelRatio")??1,this.element=n??le("canvas"),this.element.style.display="block",this.element.style.width=(e??this.width)+"px",this.element.style.height=(i??this.height)+"px",this.element.width=Math.round((e??this.width)*this.pixelRatio),this.element.height=Math.round((i??this.height)*this.pixelRatio),this.context=this.element.getContext("2d",{willReadFrequently:s}),this.onEnabledChange(),this.resize(e??0,i??0,this.pixelRatio),VU(this.context)}drawImage(t,e=0,i=0){return t.drawImage(this.context.canvas,e,i)}toDataURL(t){return this.element.toDataURL(t)}resize(t,e,i){if(!(t>0&&e>0))return;const{element:n,context:s}=this;n.width=Math.round(t*i),n.height=Math.round(e*i),s.setTransform(i,0,0,i,0,0),n.style.width=t+"px",n.style.height=e+"px",this.width=t,this.height=e,this.pixelRatio=i}clear(){GU(this)}destroy(){this.element.remove(),this.element.width=0,this.element.height=0,this.context.clearRect(0,0,0,0),Object.freeze(this)}onEnabledChange(){this.element&&(this.element.style.display=this.enabled?"":"none")}};N([ph(t=>t.onEnabledChange())],fE.prototype,"enabled",2);var Wrt=class{constructor(t){this.canvas=t,this.debug=Qe.create(!0,"scene"),this.layersMap=new Map,this.nextLayerId=0}get size(){return this.layersMap.size}resize(t,e,i){this.canvas.resize(t,e,i),this.layersMap.forEach(({canvas:n})=>n.resize(t,e,i))}addLayer(t){const{width:e,height:i,pixelRatio:n}=this.canvas,{name:s}=t,a=new UU({width:e,height:i,pixelRatio:n});return this.layersMap.set(a,{id:this.nextLayerId++,name:s,canvas:a}),this.debug("Scene.addLayer() - layers",this.layersMap),a}removeLayer(t){this.layersMap.has(t)&&(this.layersMap.delete(t),t.destroy(),this.debug("Scene.removeLayer() -  layers",this.layersMap))}clear(){for(const t of this.layersMap.values())t.canvas.destroy();this.layersMap.clear()}};function Yrt(t){for(const e of["B","KB","MB","GB"]){if(t<1536)return`${t.toFixed(1)}${e}`;t/=1024}return`${t.toFixed(1)}TB}`}function $rt(){if(!("memory"in performance))return;const{totalJSHeapSize:t,usedJSHeapSize:e,jsHeapSizeLimit:i}=performance.memory,n=[];for(const s of[e,t,i])typeof s=="number"&&n.push(Yrt(s));return`Heap ${n.join(" / ")}`}function Y_(t,e,i,n,s={},a=Rt.zero){if(!Qe.check("scene:stats","scene:stats:verbose"))return;const{layersRendered:o=0,layersSkipped:r=0,nodesRendered:l=0,nodesSkipped:c=0,opsPerformed:h=0,opsSkipped:p=0}=n??{},f=performance.now(),{start:y,...m}=e,b=Object.entries(m).map(([L,F])=>$_(L,F)).filter(L=>L!=null).join(" + "),S=Object.entries(s).map(([L,F])=>`${L}: ${JSON.stringify(F)}`).join(" ; "),v=Qe.check("scene:stats:verbose"),D=$rt(),I=[`${$_("",y,f)} (${b})`,`${S}`,`Layers: ${v?x1(o,r):t.size}`,v?`Nodes: ${x1(l,c)}`:null,v?`Ops: ${x1(h,p)}`:null,v&&D?D:null].filter(ba),T=new HN(L=>i.measureText(L)),k=new Map(I.map(L=>[L,T.measureLines(L)])),E=Math.max(...Array.from(k.values(),L=>L.width)),w=Jrt(k.values(),L=>L.height),R=2+a.x;i.save(),i.fillStyle="white",i.fillRect(R,0,E,w),i.fillStyle="black";let O=0;for(const[L,F]of k.entries())O+=F.height,i.fillText(L,R,O);i.restore()}function Krt(t){const e=bM(ai("agChartsSceneDebug")),i=[];for(const n of e)n==="layout"?i.push("seriesRoot","legend","root",/.*Axis-\d+-axis.*/):i.push(n);t.debugNodeSearch=i}function Xrt(t,e){t.save();for(const[i,n]of Object.entries(e)){const s=Ni.toCanvas(n);if(!s){It.log(`Scene.render() - no bbox for debugged node [${i}].`);continue}t.globalAlpha=.8,t.strokeStyle="red",t.lineWidth=1,t.strokeRect(s.x,s.y,s.width,s.height),t.fillStyle="red",t.strokeStyle="white",t.font="16px sans-serif",t.textBaseline="top",t.textAlign="left",t.lineWidth=2,t.strokeText(i,s.x,s.y,s.width),t.fillText(i,s.x,s.y,s.width)}t.restore()}var Zrt=new Set,qrt=new Set(["gradient","zIndex","clipRect","cachedBBox","childNodeCounts","path","__zIndex","name","__scalingCenterX","__scalingCenterY","__rotationCenterX","__rotationCenterY","_previousDatum","__fill","__lineDash","borderPath","borderClipPath","_clipPath"]);function Qrt(t){const{...e}=t;for(const i of Object.keys(e))qrt.has(i)||typeof e[i]!="number"&&typeof e[i]!="string"&&typeof e[i]!="boolean"&&(Zrt.add(i),delete e[i]);return e}function eM(t,e){if(!Qe.check(!0,"scene"))return{};let i=0;return{node:e==="json"?Qrt(t):t,name:t.name??t.id,dirty:t.dirty,...Array.from(t.children(),n=>eM(n,e)).reduce((n,s)=>{let{name:a}=s;const{node:{visible:o,opacity:r,zIndex:l,translationX:c,translationY:h,rotation:p,scalingX:f,scalingY:y},node:m}=s;(!o||r<=0)&&(a=`(${a})`),Kt.is(m)&&m.renderToOffscreenCanvas&&(a=`*${a}*`);const b=Array.isArray(l)?`(${l.join(", ")})`:l,S=[`${(i++).toString().padStart(3,"0")}|`,`${a??"<unknown>"}`,`z: ${b}`,c&&`x: ${c}`,h&&`y: ${h}`,p&&`r: ${p}`,f!=null&&f!==1&&`sx: ${f}`,y!=null&&y!==1&&`sy: ${y}`].filter(I=>!!I).join(" ");let v=S,D=1;for(;n[v]!=null&&D<100;)v=`${S} (${D++})`;return n[v]=s,n},{})}}function ZH(t){if(!t.dirty)return{dirtyTree:{},paths:[]};const e=Array.from(t.children(),s=>ZH(s)).filter(s=>s.paths.length>0),i=Kt.is(t)?t.name??t.id:t.id,n=e.length?e.flatMap(s=>s.paths).map(s=>`${i}.${s}`):[i];return{dirtyTree:{name:i,node:t,dirty:t.dirty,...e.map(s=>s.dirtyTree).filter(s=>s.dirty!=null).reduce((s,a)=>(s[a.name??"<unknown>"]=a,s),{})},paths:n}}function x1(t,e){const i=t+e;return`${t} / ${i} (${Math.round(100*t/i)}%)`}function $_(t,e,i){const n=i!=null?i-e:e;return`${t}: ${Math.round(n*100)/100}ms`}function Jrt(t,e){let i=0;for(const n of t)i+=e(n);return i}var KA=class{constructor(t){this.debug=Qe.create(!0,"scene"),this.id=Wo(this),this.root=null,this.pendingSize=null,this.isDirty=!1,this.canvas=new fE(t),this.layersManager=new Wrt(this.canvas)}get width(){var t;return((t=this.pendingSize)==null?void 0:t[0])??this.canvas.width}get height(){var t;return((t=this.pendingSize)==null?void 0:t[1])??this.canvas.height}get pixelRatio(){var t;return((t=this.pendingSize)==null?void 0:t[2])??this.canvas.pixelRatio}setContainer(t){var i;const{element:e}=this.canvas;return(i=e.parentElement)==null||i.removeChild(e),t.appendChild(e),this}setRoot(t){var e;return this.root===t?this:(this.isDirty=!0,(e=this.root)==null||e._setLayerManager(),this.root=t,t&&(t.visible=!0,t._setLayerManager(this.layersManager)),this)}clear(){this.canvas.clear()}attachNode(t){return this.appendChild(t),()=>this.removeChild(t)}appendChild(t){var e;return(e=this.root)==null||e.appendChild(t),this}removeChild(t){var e;return(e=this.root)==null||e.removeChild(t),this}download(t,e){aU(this.canvas.toDataURL(e),(t==null?void 0:t.trim())??"image")}getDataURL(t){return this.canvas.toDataURL(t)}resize(t,e,i){return t=Math.round(t),e=Math.round(e),i??(i=this.pixelRatio),t>0&&e>0&&(t!==this.width||e!==this.height||i!==this.pixelRatio)?(this.pendingSize=[t,e,i],this.isDirty=!0,!0):!1}render(t){var m;const{debugSplitTimes:e={start:performance.now()},extraDebugStats:i,seriesRect:n}=t??{},{canvas:s,canvas:{context:a}={},root:o,pendingSize:r,width:l,height:c,pixelRatio:h}=this;if(!a)return;const p=performance.now();if(r&&(this.layersManager.resize(...r),this.pendingSize=null),o&&!o.visible){this.isDirty=!1;return}if((o==null?void 0:o.dirty)===!1&&!this.isDirty){this.debug.check()&&this.debug("Scene.render() - no-op",{tree:eM(o,"console")}),Y_(this.layersManager,e,a,void 0,i,n);return}const f={ctx:a,width:l,height:c,devicePixelRatio:h,debugNodes:{}};Qe.check("scene:stats:verbose")&&(f.stats={layersRendered:0,layersSkipped:0,nodesRendered:0,nodesSkipped:0,opsPerformed:0,opsSkipped:0}),Krt(f);let y=!1;if((o==null?void 0:o.dirty)!==!1&&(y=!0,s.clear()),o&&Qe.check("scene:dirtyTree")){const{dirtyTree:b,paths:S}=ZH(o);Qe.create("scene:dirtyTree")("Scene.render() - dirtyTree",{dirtyTree:b,paths:S})}if(o&&y){if(o.visible&&o.preRender(f),this.debug.check()){const b=eM(o,"console");this.debug("Scene.render() - before",{canvasCleared:y,tree:b})}o.visible&&(a.save(),o.render(f),a.restore())}e[""]=performance.now()-p,(m=a.verifyDepthZero)==null||m.call(a),this.isDirty=!1,Y_(this.layersManager,e,a,f.stats,i,n),Xrt(a,f.debugNodes),o&&this.debug.check()&&this.debug("Scene.render() - after",{tree:eM(o,"console"),canvasCleared:y})}toSVG(){const{root:t,width:e,height:i}=this;if(t!=null)return lh.toSVG(t,e,i)}strip(){const{context:t,pixelRatio:e}=this.canvas;t.setTransform(e,0,0,e,0,0),this.layersManager.clear(),this.setRoot(null),this.isDirty=!1}destroy(){this.strip(),this.canvas.destroy(),Object.assign(this,{canvas:void 0})}};KA.className="Scene";var tlt=class{constructor(){this.cache=new WeakMap}call(t,...e){let i,n=this.cache.get(t);try{i=JSON.stringify(e)}catch{return this.invoke(t,e,n)}return n==null&&(n=new Map,this.cache.set(t,n)),n.has(i)?n.get(i):this.invoke(t,e,n,i)}invoke(t,e,i,n){try{const s=t(...e);return i&&n!=null&&i.set(n,s),s}catch(s){It.warnOnce("User callback errored, ignoring",s);return}}invalidateCache(){this.cache=new WeakMap}},elt=class extends yh{constructor(t){super(),this.annotationRoot=t,this.mementoOriginatorKey="annotations",this.annotations=[]}createMemento(){return this.annotations}guardMemento(t){return t==null||oi(t)}restoreMemento(t,e,i){this.annotations=this.cleanData(i??[]).map(n=>{const s=this.getAnnotationTypeStyles(n.type);return ne(n,s)}),this.listeners.dispatch("restore-annotations",{type:"restore-annotations",annotations:this.annotations})}updateData(t){this.annotations=this.cleanData(t??[])}attachNode(t){return this.annotationRoot.append(t),()=>{var e;return(e=this.annotationRoot)==null||e.removeChild(t),this}}setAnnotationStyles(t){this.styles=t}getAnnotationTypeStyles(t){var e;return(e=this.styles)==null?void 0:e[t]}cleanData(t){for(const e of t)"textAlign"in e&&delete e.textAlign;return t}},ilt=class{constructor(t){this.sceneRoot=t,this.axes=new Map,this.axisGridGroup=new Kt({name:"Axes-Grids",zIndex:1}),this.axisGroup=new Kt({name:"Axes",zIndex:2}),this.axisLabelGroup=new Kt({name:"Axes-Labels",zIndex:13}),this.axisCrosslineRangeGroup=new Kt({name:"Axes-Crosslines-Range",zIndex:4}),this.axisCrosslineLineGroup=new Kt({name:"Axes-Crosslines-Line",zIndex:8}),this.axisCrosslineLabelGroup=new Kt({name:"Axes-Crosslines-Label",zIndex:13}),this.sceneRoot.appendChild(this.axisGroup),this.sceneRoot.appendChild(this.axisGridGroup),this.sceneRoot.appendChild(this.axisLabelGroup),this.sceneRoot.appendChild(this.axisCrosslineRangeGroup),this.sceneRoot.appendChild(this.axisCrosslineLineGroup),this.sceneRoot.appendChild(this.axisCrosslineLabelGroup)}updateAxes(t,e){var n;const i={axisNode:this.axisGroup,gridNode:this.axisGridGroup,labelNode:this.axisLabelGroup,crossLineRangeNode:this.axisCrosslineRangeGroup,crossLineLineNode:this.axisCrosslineLineGroup,crossLineLabelNode:this.axisCrosslineLabelGroup};for(const s of t)e.includes(s)||(s.detachAxis(i),s.destroy());for(const s of e)t!=null&&t.includes(s)||s.attachAxis(i);this.axes.clear();for(const s of e){const a=s.createAxisContext();this.axes.has(a.direction)?(n=this.axes.get(a.direction))==null||n.push(a):this.axes.set(a.direction,[a])}}getAxisContext(t){return this.axes.get(t)??[]}destroy(){this.axes.clear(),this.sceneRoot.removeChild(this.axisGroup),this.sceneRoot.removeChild(this.axisGridGroup)}},XA=class extends zc{constructor(t){super(),this.animationManager=t,this.dispatchOnlyLatest=!0,this.dispatchThrottle=0,this.requestThrottle=300,this.isLoadingInitialData=!1,this.isLoadingData=!1,this.freshRequests=[],this.requestCounter=0,this.debug=Qe.create(!0,"data-model","data-source"),this.throttledFetch=this.createThrottledFetch(this.requestThrottle),this.throttledDispatch=this.createThrottledDispatch(this.dispatchThrottle)}updateCallback(t){typeof t=="function"&&(this.debug("DataService - updated data source callback"),this.dataSourceCallback=t,this.isLoadingInitialData=!0,this.animationManager.skip(),this.dispatch("data-source-change"))}clearCallback(){this.dataSourceCallback=void 0}load(t){this.isLoadingData=!0,this.throttledFetch(t)}isLazy(){return this.dataSourceCallback!=null}isLoading(){return this.isLazy()&&(this.isLoadingInitialData||this.isLoadingData)}createThrottledFetch(t){return h_(e=>this.fetch(e).catch(i=>It.error("callback failed",i)),t,{leading:!1,trailing:!0})}createThrottledDispatch(t){return h_((e,i)=>{this.debug(`DataService - dispatching 'data-load' | ${e}`),this.dispatch("data-load",{type:"data-load",data:i})},t,{leading:!0,trailing:!0})}async fetch(t){if(!this.dataSourceCallback)throw new Error("DataService - [dataSource.getData] callback not initialised");const e=performance.now(),i=this.requestCounter++;this.debug(`DataService - requesting | ${i}`),this.freshRequests.push(i);let n;try{n=await this.dataSourceCallback(t),this.debug(`DataService - response | ${performance.now()-e}ms | ${i}`)}catch(a){this.debug(`DataService - request failed | ${i}`),It.errorOnce(`DataService - request failed | [${a}]`)}this.isLoadingInitialData=!1;const s=this.freshRequests.findIndex(a=>a===i);if(s===-1||this.dispatchOnlyLatest&&s!==this.freshRequests.length-1){this.debug(`DataService - discarding stale request | ${i}`);return}this.freshRequests=this.freshRequests.slice(s+1),this.freshRequests.length===0&&(this.isLoadingData=!1),Array.isArray(n)?this.throttledDispatch(i,n):this.dispatch("data-error")}};N([Ma({newValue(t){this.throttledDispatch=this.createThrottledDispatch(t)}})],XA.prototype,"dispatchThrottle",2);N([Ma({newValue(t){this.throttledFetch=this.createThrottledFetch(t)}})],XA.prototype,"requestThrottle",2);var K_=class{constructor(t){this.maxAnimationTime=t,this.debug=Qe.create(!0,"animation"),this.controllers=new Map,this.stoppedCbs=new Set,this.currentPhase=0,this.phases=new Map(Hf.map(e=>[e,[]])),this.skipAnimations=!1,this.animationTimeConsumed=0,this.isReady=!1}get size(){return this.controllers.size}get consumedTimeMs(){return this.animationTimeConsumed}isActive(){return this.controllers.size>0}getActiveControllers(){return this.phases.get(Hf[this.currentPhase])??[]}checkOverlappingId(t){t!=null&&this.controllers.has(t)&&(this.controllers.get(t).stop(),this.debug(`Skipping animation batch due to update of existing animation: ${t}`),this.skip())}addAnimation(t){var i;if(t.isComplete)return;if(Hf.indexOf(t.phase)<this.currentPhase){this.debug("Skipping animation due to being for an earlier phase",t.id),t.stop();return}this.controllers.set(t.id,t),(i=this.phases.get(t.phase))==null||i.push(t)}removeAnimation(t){this.controllers.delete(t.id);const e=this.phases.get(t.phase),i=e==null?void 0:e.indexOf(t);i!=null&&i>=0&&(e==null||e.splice(i,1))}progress(t){if(!this.isReady)return;let e=t===0?.01:t;const i=()=>{const c=Hf[this.currentPhase];return{phaseControllers:[...this.getActiveControllers()],phase:c,phaseMeta:Dx[c]}};let{phase:n,phaseControllers:s,phaseMeta:a}=i();const o=()=>Hf[this.currentPhase]==null,r=()=>{for({phase:n,phaseControllers:s,phaseMeta:a}=i();!o()&&s.length===0;)this.currentPhase++,{phase:n,phaseControllers:s,phaseMeta:a}=i(),this.debug(`AnimationBatch - phase changing to ${n}`,{unusedTime:e},s)},l=this.controllers.size;this.debug(`AnimationBatch - ${t}ms; phase ${n} with ${s==null?void 0:s.length} of ${l}`);do{const c=e,h=a.skipIfNoEarlierAnimations&&this.animationTimeConsumed===0;let p=0;for(const f of s)h?f.stop():e=Math.min(f.update(c),e),f.isComplete&&(p++,this.removeAnimation(f));this.animationTimeConsumed+=c-e,this.debug(`AnimationBatch - updated ${s.length} controllers; ${p} completed`),this.debug(`AnimationBatch - animationTimeConsumed: ${this.animationTimeConsumed}`),r()}while(e>0&&!o());this.animationTimeConsumed>this.maxAnimationTime&&(this.debug("Animation batch exceeded max animation time, skipping",[...this.controllers]),this.stop())}ready(){if(this.isReady)return;this.isReady=!0,this.debug(`AnimationBatch - ready; skipped: ${this.skipAnimations}`,[...this.controllers]);let t=!0;for(const[,e]of this.controllers)if(e.duration>0&&Dx[e.phase].skipIfNoEarlierAnimations!==!0){t=!1;break}if(!t)for(const[,e]of this.controllers)e.autoplay&&e.play(!0)}skip(t=!0){if(this.skipAnimations===!1&&t===!0){for(const e of this.controllers.values())e.stop();this.controllers.clear()}this.skipAnimations=t}play(){for(const t of this.controllers.values())t.play()}stop(){for(const t of this.controllers.values())try{t.stop(),this.removeAnimation(t)}catch(e){It.error("Error during animation stop",e)}this.dispatchStopped()}stopByAnimationId(t){if(t!=null&&this.controllers.has(t)){const e=this.controllers.get(t);e&&(e.stop(),this.removeAnimation(e))}}stopByAnimationGroupId(t){for(const e of this.controllers.values())e.groupId===t&&this.stopByAnimationId(e.id)}dispatchStopped(){this.stoppedCbs.forEach(t=>t()),this.stoppedCbs.clear()}isSkipped(){return this.skipAnimations}destroy(){this.stop(),this.controllers.clear()}},qH=(t=>(t[t.Default=32]="Default",t[t.ZoomDrag=16]="ZoomDrag",t[t.Annotations=8]="Annotations",t[t.ContextMenu=4]="ContextMenu",t[t.Animation=2]="Animation",t[t.AnnotationsSelected=1]="AnnotationsSelected",t[t.Clickable=41]="Clickable",t[t.Focusable=34]="Focusable",t[t.Keyable=43]="Keyable",t[t.ContextMenuable=36]="ContextMenuable",t[t.AnnotationsMoveable=9]="AnnotationsMoveable",t[t.AnnotationsDraggable=57]="AnnotationsDraggable",t[t.ZoomDraggable=50]="ZoomDraggable",t[t.ZoomClickable=34]="ZoomClickable",t[t.ZoomWheelable=59]="ZoomWheelable",t[t.All=63]="All",t))(qH||{}),QH=class{constructor(){this.stateQueue=34}pushState(t){this.stateQueue|=t}popState(t){this.stateQueue&=~t}isState(t){return!!(this.stateQueue&-this.stateQueue&t)}};function X_(t){return t==null?!0:!isNaN(t)&&t>=0&&t<=2}var JH=class{constructor(t,e){this.interactionManager=t,this.chartUpdateMutex=e,this.defaultDuration=1e3,this.batch=new K_(this.defaultDuration*1.5),this.debug=Qe.create(!0,"animation"),this.events=new DN,this.rafAvailable=typeof requestAnimationFrame<"u",this.isPlaying=!0,this.requestId=null,this.skipAnimations=!0,this.currentAnonymousAnimationId=0}addListener(t,e){return this.events.on(t,e)}animate(t){const e=this.batch;try{e.checkOverlappingId(t.id)}catch(r){this.failsafeOnError(r);return}let{id:i}=t;i==null&&(i=`__${this.currentAnonymousAnimationId}`,this.currentAnonymousAnimationId+=1);const n=this.isSkipped()||t.phase==="none";n&&this.debug("AnimationManager - skipping animation");const{delay:s,duration:a}=t;if(!X_(s))throw new Error(`Animation delay of ${s} is unsupported (${i})`);if(!X_(a))throw new Error(`Animation duration of ${a} is unsupported (${i})`);const o=new xU({...t,id:i,skip:n,autoplay:this.isPlaying?t.autoplay:!1,phase:t.phase,defaultDuration:this.defaultDuration});if(!this.forceTimeJump(o,this.defaultDuration))return this.batch.addAnimation(o),o}play(){if(!this.isPlaying){this.isPlaying=!0,this.debug("AnimationManager.play()");try{this.batch.play()}catch(t){this.failsafeOnError(t)}this.requestAnimation()}}stop(){this.isPlaying=!1,this.cancelAnimation(),this.debug("AnimationManager.stop()"),this.batch.stop()}stopByAnimationId(t){try{this.batch.stopByAnimationId(t)}catch(e){this.failsafeOnError(e)}}stopByAnimationGroupId(t){try{this.batch.stopByAnimationGroupId(t)}catch(e){this.failsafeOnError(e)}}reset(){this.isPlaying?(this.stop(),this.play()):this.stop()}skip(t=!0){this.skipAnimations=t}isSkipped(){return!this.rafAvailable||this.skipAnimations||this.batch.isSkipped()}isActive(){return this.isPlaying&&this.batch.isActive()}skipCurrentBatch(){this.debug.check()&&this.debug("AnimationManager - skipCurrentBatch()",{stack:new Error().stack}),this.batch.skip()}isSkippingFrames(){return!0}scheduleAnimationFrame(t){this.requestId=ai().requestAnimationFrame(e=>{t(e).catch(i=>It.error(i))})}forceTimeJump(t,e){return!1}requestAnimation(){if(!this.rafAvailable||!this.batch.isActive()||this.requestId!==null)return;let t;const e=async i=>{const n=()=>{const s=i-(t??i);t=i,this.debug("AnimationManager - onAnimationFrame()",{controllersCount:this.batch.size,deltaTime:s}),this.interactionManager.pushState(2);try{this.batch.progress(s)}catch(a){this.failsafeOnError(a)}this.events.emit("animation-frame",{type:"animation-frame",deltaMs:s})};this.isSkippingFrames()?await this.chartUpdateMutex.acquireImmediately(n):await this.chartUpdateMutex.acquire(n),this.batch.isActive()?this.scheduleAnimationFrame(e):(this.batch.stop(),this.events.emit("animation-stop",{type:"animation-stop",deltaMs:this.batch.consumedTimeMs}))};this.events.emit("animation-start",{type:"animation-start",deltaMs:0}),this.scheduleAnimationFrame(e)}cancelAnimation(){this.requestId!==null&&(cancelAnimationFrame(this.requestId),this.requestId=null,this.startBatch())}failsafeOnError(t,e=!0){It.error("Error during animation, skipping animations",t),e&&this.cancelAnimation()}startBatch(t){this.debug(`AnimationManager - startBatch() with skipAnimations=${t}.`),this.reset(),this.batch.destroy(),this.batch=new K_(this.defaultDuration*1.5),t===!0&&this.batch.skip()}endBatch(){this.batch.isActive()?(this.batch.ready(),this.requestAnimation()):(this.interactionManager.popState(2),this.batch.isSkipped()&&this.batch.skip(!1))}onBatchStop(t){this.batch.stoppedCbs.add(t)}destroy(){this.stop(),this.events.clear()}},tW=class extends yh{seriesEvent(t){this.listeners.dispatch(t,{type:t})}seriesKeyNavZoom(t,e){const i={type:"series-keynav-zoom",delta:t,widgetEvent:e};this.listeners.dispatch("series-keynav-zoom",i)}legendItemClick(t,e,i,n,s){const a={type:"legend-item-click",legendType:t,series:e,itemId:i,enabled:n,legendItemName:s};this.listeners.dispatch("legend-item-click",a)}legendItemDoubleClick(t,e,i,n,s,a){const o={type:"legend-item-double-click",legendType:t,series:e,itemId:i,enabled:n,legendItemName:a,numVisibleItems:s};this.listeners.dispatch("legend-item-double-click",o)}},eW=class{constructor(){this.defaultActions=[],this.disabledActions=new Set,this.hiddenActions=new Set,this.listeners=new zc}static check(e,i){return i.type===e}static checkCallback(e,i,n){return e===i}dispatchContext(e,i,n,s){const{sourceEvent:a}=i,o=(s==null?void 0:s.x)??i.canvasX,r=(s==null?void 0:s.y)??i.canvasY;a.stopPropagation();const l={type:e,x:o,y:r,context:n,sourceEvent:a};this.listeners.dispatch("",l)}addListener(e){return this.listeners.addListener("",e)}filterActions(e){return this.defaultActions.filter(i=>i.id!=null&&!this.hiddenActions.has(i.id)&&["all",e].includes(i.type))}registerDefaultAction(e){const i=e.id!=null&&!this.defaultActions.some(({id:n})=>n===e.id);return i&&this.defaultActions.push(e),()=>{const n=i?this.defaultActions.findIndex(({id:s})=>s===e.id):-1;n!==-1&&this.defaultActions.splice(n,1)}}enableAction(e){this.disabledActions.delete(e)}disableAction(e){this.disabledActions.add(e)}showAction(e){this.hiddenActions.add(e)}hideAction(e){this.hiddenActions.delete(e)}isDisabled(e){return this.disabledActions.has(e)}},iW=class extends yh{constructor(){super(...arguments),this.highlightStates=new fg}updateHighlight(t,e){const{activeHighlight:i}=this;this.highlightStates.set(t,e),this.activeHighlight=this.highlightStates.stateValue(),this.isEqual(this.activeHighlight,i)||this.listeners.dispatch("highlight-change",{type:"highlight-change",currentHighlight:this.activeHighlight,previousHighlight:i,callerId:t})}getActiveHighlight(){return this.activeHighlight}isEqual(t,e){return t===e||t!=null&&e!=null&&(t==null?void 0:t.series)===(e==null?void 0:e.series)&&(t==null?void 0:t.itemId)===(e==null?void 0:e.itemId)&&(t==null?void 0:t.datum)===(e==null?void 0:e.datum)}};function Z_(t,e){if(t==null||e.length===0)return[!1,!1];const i=t.valueOf(),n=e[0],s=e[e.length-1];if(typeof n=="string")return[i===n,i===s];let a=n.valueOf(),o=s.valueOf();return a>o&&([a,o]=[o,a]),[i===a,i===o]}function Ju(t,e,i,n,s){const{xValue:a,yValue:o}=t,[r,l]=Z_(o,s),[c,h]=Z_(a,n);return{datum:t,xKey:e,yKey:i,xValue:a,yValue:o,first:c,last:h,min:r,max:l}}function nW(t,[e,i],n){const s=tU(0,t-1,o=>{var l;const r=((l=n(o))==null?void 0:l[1])??NaN;return!Number.isFinite(r)||r>e})??0;let a=JV(0,t-1,o=>{var l;const r=((l=n(o))==null?void 0:l[0])??NaN;return!Number.isFinite(r)||r<i})??t-1;return a=Math.min(a+1,t),[s,a]}function gE(t,e){var n,s;const i=((n=e.yBar)==null?void 0:n.upperPoint)??e.midPoint??((s=t.datumMidPoint)==null?void 0:s.call(t,e));if(i){const{x:a,y:o}=Ni.toCanvasPoint(t.contentGroup,i.x,i.y);return{canvasX:Math.round(a),canvasY:Math.round(o)}}}function sW(t,e,i,n,s){let a=-1,o=0,r=0,l=!1;for(;o<n&&a<=e-t;){a+=1;const c=i+r;if(l||(r*=-1),r>=0&&(r+=1),l&&r<0&&(r-=1),c<t||c>e){l=!0;continue}s(c)&&(o+=1)}return o}var wM=class{constructor(e,i){this.domManager=e,this.tooltip=i,this.stateTracker=new fg,this.suppressState=new fg(!1),this.appliedState=null,i.setup(e),e.addListener("hidden",()=>this.tooltip.hide())}updateTooltip(e,i,n){var s;this.tooltip.enabled&&(n??(n=(s=this.stateTracker.get(e))==null?void 0:s.content),this.stateTracker.set(e,{content:n,meta:i}),this.applyStates())}removeTooltip(e){this.tooltip.enabled&&(this.stateTracker.delete(e),this.applyStates())}suppressTooltip(e){this.suppressState.set(e,!0)}unsuppressTooltip(e){this.suppressState.delete(e)}destroy(){this.domManager.removeStyles("tooltip")}applyStates(){var a;const e=this.stateTracker.stateId(),i=e?this.stateTracker.get(e):null;if(this.suppressState.stateValue()||(i==null?void 0:i.meta)==null||(i==null?void 0:i.content)==null){this.appliedState=null,this.tooltip.hide();return}const n=this.domManager.getBoundingClientRect(),s=this.tooltip.bounds==="extended"?this.domManager.getOverlayClientRect():n;if(((a=this.appliedState)==null?void 0:a.content)===(i==null?void 0:i.content)){const o=this.tooltip.isVisible();this.tooltip.show(s,n,i==null?void 0:i.meta,null,o)}else this.tooltip.show(s,n,i==null?void 0:i.meta,i==null?void 0:i.content);this.appliedState=i}static makeTooltipMeta(e,i,n){var c;const{canvasX:s,canvasY:a}=e,o=i.properties.tooltip,r={canvasX:s,canvasY:a,enableInteraction:((c=o.interaction)==null?void 0:c.enabled)??!1,lastPointerEvent:{type:e.type,canvasX:s,canvasY:a},showArrow:o.showArrow,position:{type:o.position.type,xOffset:o.position.xOffset,yOffset:o.position.yOffset}},l=gE(i,n);return(o.position.type==="node"||o.position.type==="sparkline")&&l?{...r,canvasX:l.canvasX,canvasY:l.canvasY}:r}isEnteringInteractiveTooltip(e){const{tooltip:i}=this,n=e.sourceEvent.relatedTarget;return i.interactive&&i.enabled&&i.isVisible()&&i.contains(n)}},q_=3,nlt=505;function b1(t,e,i){const{offsetX:n,offsetY:s,clientX:a,clientY:o,currentX:r,currentY:l,sourceEvent:c}=i;return{type:e,device:t,offsetX:n,offsetY:s,clientX:a,clientY:o,currentX:r,currentY:l,sourceEvent:c}}function Q_(t,e){const i=t*t+e*e,n=q_*q_;return i>=n}var aW=class{constructor(t){this.destroyFns=[],this.listeners=new zc,this.isDragging=!1,this.touch={distanceTravelledX:0,distanceTravelledY:0,clientX:0,clientY:0},this.destroyFns.push(t.addListener("touchstart",this.onTouchStart.bind(this)),t.addListener("touchmove",this.onTouchMove.bind(this)),t.addListener("touchend",this.onTouchEnd.bind(this)),t.addListener("mousemove",this.onMouseMove.bind(this)),t.addListener("dblclick",this.onDblClick.bind(this)),t.addListener("drag-start",this.onDragStart.bind(this)),t.addListener("drag-move",this.onDragMove.bind(this)),t.addListener("drag-end",this.onDragEnd.bind(this)))}destroy(){this.destroyFns.forEach(t=>t()),this.listeners.destroy()}addListener(t,e){return this.listeners.addListener(t,e)}dispatch(t){this.listeners.dispatch(t.type,t)}onTouchStart(t){const{clientX:e,clientY:i}=t.sourceEvent.targetTouches.item(0)??{clientX:1/0,clientY:1/0};this.touch.distanceTravelledX=0,this.touch.distanceTravelledY=0,this.touch.clientX=e,this.touch.clientY=i}onTouchMove(t){const{clientX:e,clientY:i}=t.sourceEvent.targetTouches.item(0)??{clientX:1/0,clientY:1/0};this.touch.distanceTravelledX+=Math.abs(this.touch.clientX-e),this.touch.distanceTravelledY+=Math.abs(this.touch.clientY-i),this.touch.clientX=e,this.touch.clientY=i}onTouchEnd(t){t.sourceEvent.preventDefault()}onMouseMove(t){this.dispatch(t)}onDblClick(t){this.dispatch({device:"mouse",...t})}onDragStart(t){this.dragStartEvent=t}onDragMove(t){this.dragStartEvent!=null&&Q_(t.originDeltaX,t.originDeltaY)&&(this.dispatch(this.dragStartEvent),this.dispatch({...this.dragStartEvent,type:"drag-move"}),this.dragStartEvent=void 0,this.isDragging=!0),this.isDragging&&this.dispatch(t)}onDragEnd(t){if(this.isDragging){this.dispatch(t),this.isDragging=!1;return}if(t.device==="mouse"){const e=b1("mouse","click",t);this.dispatch(e)}else if(t.sourceEvent.type==="touchend"){if(Q_(this.touch.distanceTravelledX,this.touch.distanceTravelledY))return;const e=b1("touch","click",t);this.dispatch(e);const i=Date.now();if(this.lastClickTime!==void 0&&i-this.lastClickTime<=nlt){const n=b1(t.device,"dblclick",t);this.dispatch(n),this.lastClickTime=void 0}else this.lastClickTime=i}}},v1=class extends gg{constructor(t){super(t)}addChildToDOM(){}removeChildFromDOM(){}},slt=class{constructor(t){this.seriesWidget=new v1(t.getParent("series-area")),this.chartWidget=new v1(t.getParent("canvas-proxy")),this.containerWidget=new v1(t.getParent("canvas-container")),this.containerWidget.addChild(this.chartWidget),this.chartWidget.addChild(this.seriesWidget),this.seriesDragInterpreter=new aW(this.seriesWidget)}destroy(){this.seriesDragInterpreter.destroy(),this.seriesWidget.destroy(),this.chartWidget.destroy(),this.containerWidget.destroy()}},xL={bottomCenter:clt,center:llt,clone:plt,collides:flt,end:olt,from:glt,height:hlt,round:dlt,start:alt,topCenter:rlt,origin:ylt,width:ult};function alt(t){return{x:t.x1,y:t.y1}}function olt(t){return{x:t.x2,y:t.y2}}function rlt(t){return{x:(t.x1+t.x2)/2,y:Math.min(t.y1,t.y2)}}function llt(t){return{x:(t.x1+t.x2)/2,y:(t.y1+t.y2)/2}}function clt(t){return{x:(t.x1+t.x2)/2,y:Math.max(t.y1,t.y2)}}function ult(t){return Math.abs(t.x2-t.x1)}function hlt(t){return Math.abs(t.y2-t.y1)}function dlt(t){return{x1:Math.round(t.x1),y1:Math.round(t.y1),x2:Math.round(t.x2),y2:Math.round(t.y2)}}function plt(t){return{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2}}function flt(t,e){const i=J_(t),n=J_(e);return i.x1<=n.x2&&i.x2>=n.x1&&i.y1<=n.y2&&i.y2>=n.y1}function J_(t){return{x1:Math.min(t.x1,t.x2),x2:Math.max(t.x1,t.x2),y1:Math.min(t.y1,t.y2),y2:Math.max(t.y1,t.y2)}}function glt(t,e,i,n){if(typeof t=="number")return{x1:t,y1:e,x2:i,y2:n};if("width"in t)return{x1:t.x,y1:t.y,x2:t.x+t.width,y2:t.y+t.height};throw new Error(`Values can not be converted into a vector4: [${JSON.stringify(t)}] [${e}] [${i}] [${n}]`)}function ylt(){return{x1:0,y1:0,x2:0,y2:0}}function H0(t,e,i,n,s){return e+(n-e)*((s-t)/(i-t))}function tj(t,e,i,n,s){return t+(s-e)*((i-t)/(n-e))}function ej(t,e,i){return[tj(t,i.min,e,i.max,0),tj(t,i.min,e,i.max,1)]}function mlt(t,e,i){const[n,s]=ej(t.x1,t.x2,e),[a,o]=ej(t.y1,t.y2,i);return{x1:n,x2:s,y1:a,y2:o}}function ij(t,e,i,n,s,a){if(i<=s&&a<=n)return i;const o=s-i,r=a-n,l=Math.abs(o)<Math.abs(r)?o:r;return Jt(t,i+l,e)}function xlt(t,e,i){const{x:n={min:0,max:1},y:s={min:0,max:1}}=e,a=xL.from(i),o=xL.from(t),r=mlt(o,n,s),l=ij(r.x1,r.x2,o.x1,o.x2,a.x1,a.x2),c=ij(r.y1,r.y2,o.y1,o.y2,a.y1,a.y2);return{x:{min:H0(o.x1,n.min,o.x2,n.max,l),max:H0(o.x1,n.min,o.x2,n.max,l+t.width)},y:{min:H0(o.y1,s.min,o.y2,s.max,c),max:H0(o.y1,s.min,o.y2,s.max,c+t.height)}}}var blt=["rangeX","rangeY","ratioX","ratioY","autoScaledAxes"],vlt=class{constructor(){this.enabled=!1,this.padding=0,this.manuallyAdjusted=!1}},nj=t=>Es((e,i)=>!Oe.is(t==null?void 0:t.scale)&&!cl.is(t==null?void 0:t.scale)||e==null||i.end==null?!0:e<=i.end,"to be less than end"),oW=class extends yh{constructor(t,e){super(),this.fireChartEvent=t,this.mementoOriginatorKey="zoom",this.axisZoomManagers=new Map,this.state=new fg(void 0,"initial"),this.axes=[],this.didLayoutAxes=!1,this.autoScaleYAxis=new vlt,this.lastRestoredState=void 0,this.independentAxes=!1,this.navigatorModule=!1,this.zoomModule=!1,this.pendingMemento=void 0,this.destroyFns.push(e.addListener("layout:complete",()=>{const{pendingMemento:i}=this,n=!this.didLayoutAxes;this.didLayoutAxes=!0,i?this.restoreMemento(i.version,i.mementoVersion,i.memento):n&&this.autoScaleYZoom("zoom-manager")}))}createMemento(){return this.getMementoRanges()}guardMemento(t,e){if(t==null)return!0;if(!Un(t))return!1;for(const o of Object.keys(t))if(!blt.includes(o))return!1;const i=this.getPrimaryAxis("x"),n=this.getPrimaryAxis("y"),s={rangeX:{start:B0(zd(gc,z0),nj(i)),end:zd(gc,z0)},rangeY:{start:B0(zd(gc,z0),nj(n)),end:zd(gc,z0)},ratioX:{start:B0(_0,f_("end")),end:_0},ratioY:{start:B0(_0,f_("end")),end:_0},autoScaledAxes:eL(vst("y"))},a=vA(t,s);return a.errors.length>0?(e.push(...a.errors.map(o=>o.message)),!1):!0}restoreMemento(t,e,i){var r;const{independentAxes:n}=this;if(!this.axes||!this.didLayoutAxes){this.pendingMemento={version:t,mementoVersion:e,memento:i};return}this.pendingMemento=void 0;const s=this.getDefinedZoom();if(i!=null&&i.rangeX?s.x=this.rangeToRatio(i.rangeX,"x")??{min:0,max:1}:i!=null&&i.ratioX?s.x={min:i.ratioX.start??0,max:i.ratioX.end??1}:s.x={min:0,max:1},!this.navigatorModule||this.zoomModule){let l=(r=i==null?void 0:i.autoScaledAxes)==null?void 0:r.includes("y");i!=null&&i.rangeY?(s.y=this.rangeToRatio(i.rangeY,"y")??{min:0,max:1},l??(l=!1)):i!=null&&i.ratioY?(s.y={min:i.ratioY.start??0,max:i.ratioY.end??1},l??(l=!1)):(s.y={min:0,max:1},l??(l=!0)),s.autoScaleYAxis=l}if(this.lastRestoredState=s,n!==!0){this.updateZoom("zoom-manager",s);return}const a=this.getPrimaryAxis("x"),o=this.getPrimaryAxis("y");for(const l of[a,o])l&&this.updateAxisZoom("zoom-manager",l.id,s[l.direction])}updateAxes(t){this.axes=t;const e=new Map(t.map(i=>[i.id,this.axisZoomManagers.get(i.id)]));this.axisZoomManagers.clear();for(const i of t)this.axisZoomManagers.set(i.id,e.get(i.id)??new Slt(i));this.state.size>0&&t.length>0&&this.updateZoom(this.state.stateId(),this.state.stateValue())}setIndependentAxes(t=!0){this.independentAxes=t}setAutoScaleYAxis(t,e){this.autoScaleYAxis.enabled=t,this.autoScaleYAxis.padding=e}setNavigatorEnabled(t=!0){this.navigatorModule=t}setZoomModuleEnabled(t=!0){this.zoomModule=t}isZoomEnabled(){return this.zoomModule}updateZoom(t,e){if(e!=null&&e.x&&(e.x.min<0||e.x.max>1)&&(It.warnOnce(`Attempted to update x-axis zoom to an invalid ratio of [{ min: ${e.x.min}, max: ${e.x.max} }], expecting a ratio of 0 to 1, ignoring.`),e.x=void 0),e!=null&&e.y&&(e.y.min<0||e.y.max>1)&&(It.warnOnce(`Attempted to update y-axis zoom to an invalid ratio of [{ min: ${e.y.min}, max: ${e.y.max} }], expecting a ratio of 0 to 1, ignoring.`),e.y=void 0),this.axisZoomManagers.size===0){const n=this.state.stateId();(n==="initial"||n===t)&&this.state.set(t,e);return}this.state.set(t,e);const i=e==null?void 0:e.autoScaleYAxis;i!=null&&(this.autoScaleYAxis.manuallyAdjusted=!i),this.axisZoomManagers.forEach(n=>{n.updateZoom(t,e==null?void 0:e[n.getDirection()])}),this.applyChanges(t)}updateAxisZoom(t,e,i){var n;(n=this.axisZoomManagers.get(e))==null||n.updateZoom(t,i),this.applyChanges(t)}resetZoom(t){var i,n,s,a;this.autoScaleYAxis.manuallyAdjusted=!1;const e=this.getRestoredZoom();this.updateZoom(t,{x:{min:((i=e==null?void 0:e.x)==null?void 0:i.min)??0,max:((n=e==null?void 0:e.x)==null?void 0:n.max)??1},y:{min:((s=e==null?void 0:e.y)==null?void 0:s.min)??0,max:((a=e==null?void 0:e.y)==null?void 0:a.max)??1},autoScaleYAxis:(e==null?void 0:e.autoScaleYAxis)??!0})}resetAxisZoom(t,e){const i=this.axisZoomManagers.get(e),n=i==null?void 0:i.getDirection();if(n==null)return;const s=this.getRestoredZoom();if(n==="y"){const a=(s==null?void 0:s.autoScaleYAxis)??!0;this.autoScaleYAxis.manuallyAdjusted=!a}this.updateAxisZoom(t,e,(s==null?void 0:s[n])??{min:0,max:1})}setAxisManuallyAdjusted(t,e){var n;((n=this.axisZoomManagers.get(e))==null?void 0:n.getDirection())==="y"&&(this.autoScaleYAxis.manuallyAdjusted=!0)}updatePrimaryAxisZoom(t,e,i){const n=this.getPrimaryAxis(e);n&&this.updateAxisZoom(t,n.id,i)}panToBBox(t,e,i){if(!this.isZoomEnabled())return!1;const n=this.getZoom();if(n===void 0||!n.x&&!n.y)return!1;if(!(e.width>0&&e.height>0&&Math.abs(i.width)<=Math.abs(e.width)&&Math.abs(i.height)<=Math.abs(e.height)))return It.warnOnce("cannot pan to target BBox - chart too small?"),!1;const a=xlt(e,n,i);return this.independentAxes?(this.updatePrimaryAxisZoom(t,"x",a.x),this.updatePrimaryAxisZoom(t,"y",a.y)):this.updateZoom(t,a),!0}fireZoomPanStartEvent(t){this.listeners.dispatch("zoom-pan-start",{type:"zoom-pan-start",callerId:t})}extendToEnd(t,e,i){return this.extendWith(t,e,n=>Number(n)-i)}extendWith(t,e,i){const n=this.getPrimaryAxis(e);if(!n)return;const s=this.getDomainExtents(n);if(!s)return;const[,a]=s,o=i(a),r=this.rangeToRatio({start:o,end:a},e);r&&this.updateZoom(t,{[e]:r})}updateWith(t,e,i){const n=this.getPrimaryAxis(e);if(!n)return;const s=this.getDomainExtents(n);if(!s)return;let[a,o]=s;[a,o]=i(a,o);const r=this.rangeToRatio({start:a,end:o},e);r&&this.updateZoom(t,{[e]:r})}getZoom(){let t,e;if(this.axisZoomManagers.forEach(i=>{i.getDirection()==="x"?t??(t=i.getZoom()):i.getDirection()==="y"&&(e??(e=i.getZoom()))}),t||e)return{x:t,y:e}}getAxisZoom(t){var e;return((e=this.axisZoomManagers.get(t))==null?void 0:e.getZoom())??{min:0,max:1}}getAxisZooms(){const t={};for(const[e,i]of this.axisZoomManagers.entries())t[e]={direction:i.getDirection(),zoom:i.getZoom()};return t}getRestoredZoom(){return this.lastRestoredState}getPrimaryAxisId(t){var e;return(e=this.getPrimaryAxis(t))==null?void 0:e.id}isVisibleItemsCountAtLeast(t,e){const i=this.getPrimaryAxis("x"),n=this.getPrimaryAxis("y"),s=new Set;let a=0;const o=[t.x.min,t.x.max],r=[t.y.min,t.y.max];for(const l of(i==null?void 0:i.boundSeries)??[]){s.add(l.id);const c=e-(a??0),h=l.getVisibleItems(o,r,c);if(a+=h,a>=e)return!0}for(const l of(n==null?void 0:n.boundSeries)??[]){if(s.has(l.id))continue;const c=e-(a??0),h=l.getVisibleItems(o,r,c);if(a+=h,a>=e)return!0}return s.size===0}getMementoRanges(){const t=this.getDefinedZoom();let e;return this.autoScaleYAxis.enabled&&(e=this.autoScaleYAxis.manuallyAdjusted?[]:["y"]),{rangeX:this.getRangeDirection(t.x,"x"),rangeY:this.getRangeDirection(t.y,"y"),ratioX:{start:t.x.min,end:t.x.max},ratioY:{start:t.y.min,end:t.y.max},autoScaledAxes:e}}autoScaleYZoom(t,e=!0){var r,l;if(!this.isZoomEnabled())return;const{independentAxes:i,autoScaleYAxis:n}=this,s=this.getZoom();if((s==null?void 0:s.x)==null||!n.enabled||n.manuallyAdjusted)return;const{padding:a}=n;let o;if(((r=s.x)==null?void 0:r.min)===0&&((l=s.x)==null?void 0:l.max)===1?o={min:0,max:1}:i?o=this.primaryAxisZoom("y",s.x,{padding:a}):o=this.combinedAxisZoom("y",s.x,{padding:a}),o!=null){if(i){const c=this.getPrimaryAxis("y"),h=c==null?void 0:this.axisZoomManagers.get(c.id);h==null||h.updateZoom("zoom-manager",o)}else for(const c of this.axisZoomManagers.values())c.getDirection()==="y"&&c.updateZoom("zoom-manager",o);e&&this.applyChanges(t)}}applyChanges(t){if(this.autoScaleYZoom(t,!1),!Array.from(this.axisZoomManagers.values(),n=>n.applyChanges()).includes(!0))return;const i={};for(const[n,s]of this.axisZoomManagers.entries())i[n]=s.getZoom();this.listeners.dispatch("zoom-change",{type:"zoom-change",...this.getZoom(),axes:i,callerId:t}),this.fireChartEvent({type:"zoom",...this.getMementoRanges()})}getRangeDirection(t,e){const i=this.getPrimaryAxis(e);if(!i||!Oe.is(i.scale)&&!cl.is(i.scale))return;const n=this.getDomainPixelExtents(i);if(!n)return;const[s,a]=n;let o,r;return s<=a?(o=i.scale.invert(0),r=i.scale.invert(s+(a-s)*t.max)):(o=i.scale.invert(s-(s-a)*t.min),r=i.scale.invert(0)),{start:o,end:r}}rangeToRatio(t,e){var y,m,b,S,v,D,I,T,k,E,w,R;const i=this.getPrimaryAxis(e);if(!i)return;const n=this.getDomainPixelExtents(i);if(!n)return;const[s,a]=n;let o=t.start==null?s:(m=(y=i.scale).convert)==null?void 0:m.call(y,t.start),r=t.end==null?a:(S=(b=i.scale).convert)==null?void 0:S.call(b,t.end);if(!xe(o)||!xe(r))return;const[l,c]=[Math.min(s,a),Math.max(s,a)];if(o<l||o>c){It.warnOnce(`Invalid range start [${t.start}], expecting a value between [${(D=(v=i.scale).invert)==null?void 0:D.call(v,s)}] and [${(T=(I=i.scale).invert)==null?void 0:T.call(I,a)}], ignoring.`);return}if(r<l||r>c){It.warnOnce(`Invalid range end [${t.end}], expecting a value between [${(E=(k=i.scale).invert)==null?void 0:E.call(k,s)}] and [${(R=(w=i.scale).invert)==null?void 0:R.call(w,a)}], ignoring.`);return}o=Math.min(c,Math.max(l,o)),r=Math.min(c,Math.max(l,r));const h=a-s,p=Math.abs((o-s)/h),f=Math.abs((r-s)/h);return{min:p,max:f}}getPrimaryAxis(t){var e;return(e=this.axes)==null?void 0:e.find(i=>i.direction===t)}getDomainExtents(t){const{domain:e}=t.scale,i=e.at(0),n=e.at(-1);if(!(i==null||n==null))return[i,n]}getDomainPixelExtents(t){var s,a,o,r;const{domain:e}=t.scale,i=(a=(s=t.scale).convert)==null?void 0:a.call(s,e.at(0)),n=(r=(o=t.scale).convert)==null?void 0:r.call(o,e.at(-1));if(!(!xe(i)||!xe(n)))return[i,n]}getDefinedZoom(){var e,i,n,s;const t=this.getZoom();return{x:{min:((e=t==null?void 0:t.x)==null?void 0:e.min)??0,max:((i=t==null?void 0:t.x)==null?void 0:i.max)??1},y:{min:((n=t==null?void 0:t.y)==null?void 0:n.min)??0,max:((s=t==null?void 0:t.y)==null?void 0:s.max)??1}}}zoomBounds(t,e,i,n){const s=t.scale,a=s.range;s.range=[0,1];const o=e.scale,r=o.range;o.range=[0,1];let l=1,c=!1,h=0,p=!1;for(const m of e.boundSeries){const{connectsToYAxis:b}=m,S=m.getRange("y",[i.min,i.max]);for(const v of S){const D=o.convert(v);Number.isFinite(D)&&(D<l&&(l=D,c=!b||v<0),D>h&&(h=D,p=!b||v>0))}}if(xe(e.min)&&(l=0),xe(e.max)&&(h=1),s.range=a,o.range=r,l>=h)return;const f=(c?n:0)+(p?n:0),y=Math.min((h-l)*(1+f),1);if(!(y<=0)){if(c&&p){const m=(h+l)/2;l=m-y/2,h=m+y/2}else!c&&p?h=l+y:c&&!p&&(l=h-y);return l<0?(h+=-l,l=0):h>1&&(l-=h-1,h=1),{min:l,max:h}}}primaryAxisZoom(t,e,{padding:i=0}={}){const n=t==="x"?"y":"x",s=this.getPrimaryAxis(n),a=this.getPrimaryAxis(t);if(!(s==null||a==null))return this.zoomBounds(s,a,e,i)}combinedAxisZoom(t,e,{padding:i=0}={}){const n=t==="x"?"y":"x",s=new Map;for(const l of this.axes)if(l.direction===n)for(const c of l.boundSeries)s.set(c,l);let a=1,o=0;for(const l of this.axes)if(l.direction===t)for(const c of l.boundSeries){const h=s.get(c);if(h==null)continue;const p=this.zoomBounds(h,l,e,i);if(p==null)return;a=Math.min(a,p.min),o=Math.max(o,p.max)}const r=1e-6;if(a<r&&(a=0),o>1-r&&(o=1),!(a>o))return{min:a,max:o}}},Slt=class{constructor(t){this.axis=t;const[e=0,i=1]=t.visibleRange;this.state=new fg({min:e,max:i}),this.currentZoom=this.state.stateValue()}getDirection(){return this.axis.direction}updateZoom(t,e){this.state.set(t,e)}getZoom(){return mn(this.state.stateValue())}hasChanges(){const t=this.currentZoom,e=this.state.stateValue();return t.min!==e.min||t.max!==e.max}applyChanges(){const t=this.hasChanges();return this.currentZoom=this.state.stateValue(),t}},Mlt=class{constructor(){this.labelData=new Map}updateLabels(t,e,i=Rt.zero){var o;const n={x:-e.left,y:-e.top,width:i.width+e.left+e.right,height:i.height+e.top+e.bottom},s=new Set(t.map(r=>r.id));for(const r of this.labelData.keys())s.has(r)||this.labelData.delete(r);for(const r of t){const l=r.getLabelData();l.every(Fot)&&this.labelData.set(r.id,l)}const a=Vot(this.labelData,n,5);for(const r of t)(o=r.updatePlacedLabelData)==null||o.call(r,a.get(r.id)??[])}},Alt=class extends yh{constructor(){super(...arguments),this.mementoOriginatorKey="legend",this.legendDataMap=new Map}createMemento(){return this.getData().filter(({hideInLegend:t,isFixed:e})=>!t&&!e).map(({enabled:t,seriesId:e,itemId:i,legendItemName:n})=>({visible:t,seriesId:e,itemId:i,legendItemName:n}))}guardMemento(t){return t==null||oi(t)}restoreMemento(t,e,i){i==null||i.forEach(n=>{const{seriesId:s,data:a}=this.getRestoredData(n)??{};!s||!a||this.updateData(s,a)}),this.update()}getRestoredData(t){const{seriesId:e,itemId:i,legendItemName:n,visible:s}=t;if(e){const o=(this.legendDataMap.get(e)??[]).map(r=>{const l=r.seriesId===e&&(!i||r.itemId===i);return l&&r.isFixed&&this.warnFixed(r.seriesId,r.itemId),!r.isFixed&&l?{...r,enabled:s}:r});return{seriesId:e,data:o}}if(!(i==null&&n==null))for(const a of this.getData()){if(i!=null&&a.itemId!==i||n!=null&&a.legendItemName!==n)continue;if(a.isFixed){this.warnFixed(a.seriesId,i);return}const o=(this.legendDataMap.get(a.seriesId)??[]).map(r=>r.itemId===i||r.legendItemName===n?{...r,enabled:s}:r);return{seriesId:a.seriesId,data:o}}}warnFixed(t,e){It.warnOnce(`The legend item with seriesId [${t}] and itemId [${e}] is not configurable, this series item cannot be toggled through the legend.`)}update(t){this.listeners.dispatch("legend-change",{type:"legend-change",legendData:t??this.getData()})}updateData(t,e=[]){this.legendDataMap.set(t,e)}clearData(){this.legendDataMap.clear()}toggleItem({enabled:t,seriesId:e,itemId:i,legendItemName:n}){if(n){this.getData().forEach(r=>{const l=(this.legendDataMap.get(r.seriesId)??[]).map(c=>c.legendItemName===n?{...c,enabled:t}:c);this.updateData(r.seriesId,l)});return}const s=this.getData(e),a=s.length===1,o=s.map(r=>i==null&&a||r.itemId===i?{...r,enabled:t}:r);this.updateData(e,o)}getData(t){return t?this.legendDataMap.get(t)??[]:[...this.legendDataMap].reduce((e,[i,n])=>e.concat(n),[])}getDatum({seriesId:t,itemId:e}={}){return this.getData(t).find(i=>i.itemId===e)}getSeriesEnabled(t){const e=this.getData(t);if(e.length>0)return e.some(i=>i.enabled)}getItemEnabled({seriesId:t,itemId:e}={}){var i;return((i=this.getDatum({seriesId:t,itemId:e}))==null?void 0:i.enabled)??!0}},Dlt=class{constructor(){this.groups={}}registerSeries({internalId:t,seriesGrouping:e,visible:i,type:n}){var s;e&&((s=this.groups)[n]??(s[n]={}),this.groups[n][t]={grouping:e,visible:i})}updateSeries({internalId:t,seriesGrouping:e,visible:i,type:n}){var a;if(!e)return;const s=(a=this.groups[n])==null?void 0:a[t];s&&(s.grouping=e,s.visible=i)}deregisterSeries({internalId:t,type:e}){this.groups[e]&&delete this.groups[e][t],this.groups[e]&&Object.keys(this.groups[e]).length===0&&delete this.groups[e]}getVisiblePeerGroupIndex({type:t,seriesGrouping:e,visible:i}){if(!e)return{visibleGroupCount:i?1:0,visibleSameStackCount:i?1:0,index:0};const n=new Set,s=new Set;for(const o of Object.values(this.groups[t]??{}))o.visible&&(n.add(o.grouping.groupIndex),o.grouping.groupIndex===e.groupIndex&&s.add(o.grouping.stackIndex));const a=Array.from(n);return a.sort((o,r)=>o-r),{visibleGroupCount:a.length,visibleSameStackCount:s.size,index:a.indexOf(e.groupIndex)}}},cx=(t=>(t[t.FULL=0]="FULL",t[t.UPDATE_DATA=1]="UPDATE_DATA",t[t.PROCESS_DATA=2]="PROCESS_DATA",t[t.PERFORM_LAYOUT=3]="PERFORM_LAYOUT",t[t.SERIES_UPDATE=4]="SERIES_UPDATE",t[t.PRE_SCENE_RENDER=5]="PRE_SCENE_RENDER",t[t.SCENE_RENDER=6]="SCENE_RENDER",t[t.NONE=7]="NONE",t))(cx||{}),rW=class{constructor(t){this.updateCallback=t,this.events=new DN}addListener(t,e){return this.events.on(t,e)}removeListener(t,e){return this.events.on(t,e)}destroy(){this.events.clear()}update(t=0,e){this.updateCallback(t,e)}dispatchUpdateComplete(){this.events.emit("update-complete",{type:"update-complete"})}dispatchPreDomUpdate(){this.events.emit("pre-dom-update",{type:"pre-dom-update"})}dispatchPreSceneRender(){this.events.emit("pre-scene-render",{type:"pre-scene-render"})}dispatchProcessData({series:t}){this.events.emit("process-data",{type:"process-data",series:t})}},Ilt=class{constructor(t,e){this.callbackCache=new tlt,this.chartEventManager=new tW,this.highlightManager=new iW,this.layoutManager=new _H,this.localeManager=new Hrt,this.seriesStateManager=new Dlt,this.stateManager=new Mrt,this.seriesLabelLayoutManager=new Mlt,this.contextModules=[];const{scene:i,root:n,syncManager:s,container:a,fireEvent:o,updateCallback:r,updateMutex:l,styleContainer:c,chartType:h}=e;this.chartService=t,this.syncManager=s,this.domManager=new $H(a,c),this.widgets=new slt(this.domManager);const p=this.domManager.addChild("canvas","scene-canvas",i==null?void 0:i.canvas.element);this.scene=i??new KA({canvasElement:p}),this.scene.setRoot(n),this.axisManager=new ilt(n),this.legendManager=new Alt,this.annotationManager=new elt(t.annotationRoot),this.chartTypeOriginator=new vrt(t),this.interactionManager=new QH,this.contextMenuRegistry=new eW,this.updateService=new rW(r),this.proxyInteractionService=new XH(this.localeManager,this.domManager),this.historyManager=new Srt(this.chartEventManager),this.animationManager=new JH(this.interactionManager,l),this.dataService=new XA(this.animationManager),this.tooltipManager=new wM(this.domManager,t.tooltip),this.zoomManager=new oW(o,this.layoutManager);for(const f of ul.byType("context")){if(!f.chartTypes.includes(h))continue;const y=f.moduleFactory(this);this.contextModules.push(y),this[f.contextKey]=y}}destroy(){this.animationManager.destroy(),this.highlightManager.destroy(),this.axisManager.destroy(),this.callbackCache.invalidateCache(),this.chartEventManager.destroy(),this.domManager.destroy(),this.highlightManager.destroy(),this.proxyInteractionService.destroy(),this.syncManager.destroy(),this.tooltipManager.destroy(),this.zoomManager.destroy(),this.widgets.destroy(),this.contextModules.forEach(t=>t.destroy())}},lW=class extends Qt{constructor(){super(...arguments),this.range="tooltip"}};N([P(Je(["tooltip","node"],"a range"))],lW.prototype,"range",2);function Tlt(t,e){if(t.size!==e.size)return!1;for(const i of t)if(!e.has(i))return!1;return!0}function Clt(t,e){if(t==null||e==null)return t===e;if(t.size!==e.size)return!1;for(const[i,n]of t){const s=e.get(i);if(s==null||!Tlt(n,s))return!1}return!0}function klt(t,e){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i+=1){const{type:n,idsMap:s,scopes:a,data:o,...r}=t[i],{type:l,idsMap:c,scopes:h,data:p,...f}=e[i];if(n!==l||a&&h&&!ll(a,h)||o&&p&&o!==p||!Yd(r,f)||!Clt(s,c))return!1}return!0}function Llt(t,e){const{props:i,...n}=t,{props:s,...a}=e;return Yd(n,a)&&klt(i,s)}function Nlt(t,e,i,n){return e===t.data&&ll(i,t.ids)&&Llt(n,t.opts)}var sj=class cW{constructor(){this.domain=new Set}static is(e){return e instanceof cW}extend(e){this.domain.add(e)}getDomain(){return Array.from(this.domain)}},zu=class uW{constructor(){this.domain=[1/0,-1/0]}static is(e){return e instanceof uW}static extendDomain(e,i=[1/0,-1/0]){for(const n of e)typeof n=="number"&&(i[0]>n&&(i[0]=n),i[1]<n&&(i[1]=n));return i}extend(e){this.domain[0]>e&&(this.domain[0]=e),this.domain[1]<e&&(this.domain[1]=e)}getDomain(){return[...this.domain]}},Tf=0,Cf=1,$r=2,Elt=class{constructor(t){const e=t.reduce((a,o)=>Math.max(a,o.length),0);let n=1<<32-Math.clz32(e);e===n/2&&(n=n>>>1),this.maxLevelSize=n;const s=new Float64Array((n*2-1)*2).fill(NaN);for(const a of t)for(let o=0;o<a.length;o+=1){const r=Number(a[o]),l=n+o-1,c=(l*$r|0)+Tf,h=(l*$r|0)+Cf,p=s[c],f=s[h];(!Number.isFinite(p)||r<p)&&(s[c]=r),(!Number.isFinite(f)||r>f)&&(s[h]=r)}for(let a=n/2|0;a>=1;a=a/2|0){const o=a-1|0,r=o+a|0;for(let l=0;l<a;l+=1){const c=o+l,h=r+l*2,p=h+1,f=s[(h*$r|0)+Tf],y=s[(p*$r|0)+Tf];s[(c*$r|0)+Tf]=!Number.isFinite(y)||f<y?f:y;const m=s[(h*$r|0)+Cf],b=s[(p*$r|0)+Cf];s[(c*$r|0)+Cf]=!Number.isFinite(b)||m>b?m:b}}this.buffer=s}computeRangeInto(t,e,i,n,s,a,o){const r=s+a-1;if(r<e||s>=i)return o;if(s>=e&&r<i){const l=t[(n*$r|0)+Tf],c=t[(n*$r|0)+Cf];Number.isFinite(l)&&(o[0]=Math.min(o[0],l)),Number.isFinite(c)&&(o[1]=Math.max(o[1],c))}else a>1&&(n=n*2|0,a=a/2|0,this.computeRangeInto(t,e,i,n+1|0,s,a,o),this.computeRangeInto(t,e,i,n+2|0,s+a,a,o));return o}rangeBetween(t,e){if(t>e)return[NaN,NaN];const{maxLevelSize:i,buffer:n}=this,s=[1/0,-1/0];return this.computeRangeInto(n,t,e,0,0,i,s),s}get range(){const{buffer:t}=this;return[t[Tf],t[Cf]]}},aj=Symbol("domain-ranges");function wlt(t){return t.map(e=>Un(e)?JSON.stringify(e):e).join("-")}function oj(t){return Number.isInteger(t)?t:Math.abs(t)>1e4?Math.trunc(t):Math.round(t*1e4)/1e4}function va(t){const e=t==null?void 0:t.map(Number);return e!=null&&e.every(Number.isFinite)?e:[]}function yE(t,e){return(e==null?void 0:e.get(t.id))??0}function Olt(t){return"scopes"in t&&Array.isArray(t.scopes)}var W0=Symbol("invalid");function S1(t,e){const i=[];for(let n=0;n<t;n+=1)i[n]=e;return i}function OM(t,e,i){var s;const n=[];for(const a of t){const o=(s=a.get(e))==null?void 0:s[i];if(o==null)return;n.push(o)}return n}function hW(t){const e=[];let i=0,n;const s=new RegExp(`((?:(?:^|\\.)\\s*\\w+|\\[\\s*(?:'(?:[^']|(?<!\\\\)\\\\')*'|"(?:[^"]|(?<!\\\\)\\\\")*"|-?\\d+)\\s*\\])\\s*)`,"g");for(;n=s.exec(t);){if(n.index!==i)return;i=n.index+n[0].length;const a=n[1].trim();if(a.startsWith("."))e.push(a.slice(1).trim());else if(a.startsWith("[")){const o=a.slice(1,-1).trim();o.startsWith("'")?e.push(o.slice(1,-1).replace(new RegExp("(?<!\\\\)\\\\'","g"),"'")):o.startsWith('"')?e.push(o.slice(1,-1).replace(new RegExp('(?<!\\\\)\\\\"',"g"),'"')):e.push(o)}else e.push(a)}if(i===t.length)return e}function Rlt(t){return e=>{let i=e;for(const n of t)i=i[n];return i}}var dW=class{constructor(t,e="standalone",i=!1){var r;this.opts=t,this.mode=e,this.suppressFieldDotNotation=i,this.debug=Qe.create(!0,"data-model"),this.scopeCache=new Map,this.keys=[],this.values=[],this.aggregates=[],this.groupProcessors=[],this.propertyProcessors=[],this.reducers=[],this.processors=[],this.markScopeDatumInvalid=function(l,c,h,p){for(const f of l)p.has(f)||p.set(f,S1(c.length,!1)),p.get(f)[h]=!0};let n=!0;for(const l of t.props){if(l.type==="key"&&!n)throw new Error("AG Charts - internal config error: keys must come before values.");l.type==="value"&&n&&(n=!1)}const s=({matchGroupIds:l=[]})=>{for(const c of l)if(this.values.every(h=>h.groupId!==c))throw new Error(`AG Charts - internal config error: matchGroupIds properties must match defined groups (${c}).`)},a=new Set,o=new Set;for(const l of t.props){const c=l.type==="key"?a:o;switch(Olt(l)&&((r=l.scopes)==null||r.forEach(h=>c.add(h))),l.type){case"key":this.keys.push({...l,index:this.keys.length,missing:new Map});break;case"value":if(l.property==null)throw new Error(`AG Charts - internal config error: no properties specified for value definitions: ${JSON.stringify(l)}`);this.values.push({...l,index:this.values.length,missing:new Map});break;case"aggregate":s(l),this.aggregates.push({...l,index:this.aggregates.length});break;case"group-value-processor":s(l),this.groupProcessors.push({...l,index:this.groupProcessors.length});break;case"property-value-processor":this.propertyProcessors.push({...l,index:this.propertyProcessors.length});break;case"reducer":this.reducers.push({...l,index:this.reducers.length});break;case"processor":this.processors.push({...l,index:this.processors.length});break}}if(this.opts.groupByKeys||this.opts.groupByFn!=null){const l=new Set(o.values());if(a.forEach(c=>l.delete(c)),l.size>0)throw new Error(`AG Charts - scopes missing key for grouping, illegal configuration: ${[...l.values()]}`)}}resolveProcessedDataDefById(t,e){var n;const i=(n=this.scopeCache.get(t.id))==null?void 0:n.get(e);if(!i)throw new Error(`AG Charts - didn't find property definition for [${e}, ${t.id}]`);return{index:i.index,def:i}}resolveProcessedDataIndexById(t,e){return this.resolveProcessedDataDefById(t,e).index}resolveKeysById(t,e,i){const n=this.resolveProcessedDataIndexById(t,e),s=i.keys[n];if(s==null)throw new Error(`AG Charts - didn't find keys for [${e}, ${t.id}]`);return s.get(t.id)}hasColumnById(t,e){var i;return((i=this.scopeCache.get(t.id))==null?void 0:i.get(e))!=null}resolveColumnById(t,e,i){var a;const n=this.resolveProcessedDataIndexById(t,e),s=(a=i.columns)==null?void 0:a[n];if(s==null)throw new Error(`AG Charts - didn't find column for [${e}, ${t.id}]`);return s}*forEachDatum(t,e,i){const n=e.columnScopes.findIndex(s=>s.has(t.id));for(const s of i.datumIndices[n]??[])yield e.columns[n][s]}*forEachGroupDatum(t,e){const i=e.columnScopes.findIndex(a=>a.has(t.id)),n={groupIndex:0,columnIndex:i},s=[];for(const a of e.groups){n.group=a;let o=0;for(const r of a.datumIndices[i]??s)n.datumIndex=r,n.valueIndex=o++,yield n;n.groupIndex++}}*forEachGroupDatumTuple(t,e){const n={columnIndex:e.columnScopes.findIndex(s=>s.has(t.id)),datumIndexes:[void 0,void 0,void 0]};for(const s of this.forEachGroupDatum(t,e))n.group=n.nextGroup,n.groupIndex=n.nextGroupIndex,n.nextGroup=s.group,n.nextGroupIndex=s.groupIndex,n.datumIndexes[0]=n.datumIndexes[1],n.datumIndexes[1]=n.datumIndexes[2],n.datumIndexes[2]=s.datumIndex,n.group!=null&&n.datumIndexes[1]!=null&&(yield n);n.group=n.nextGroup,n.groupIndex=n.nextGroupIndex,n.nextGroup=void 0,n.nextGroupIndex=void 0,n.datumIndexes[0]=n.datumIndexes[1],n.datumIndexes[1]=n.datumIndexes[2],n.datumIndexes[2]=void 0,n.group!=null&&n.datumIndexes[1]!=null&&(yield n)}getDomain(t,e,i,n){const s=this.getDomainsByType(i??"value",n);return(s==null?void 0:s[this.resolveProcessedDataIndexById(t,e)])??[]}getDomainBetweenRange(t,e,[i,n],s){const a=e.map(c=>this.resolveProcessedDataIndexById(t,c)),o=a.join(":"),r=s[aj];let l=r.get(o);if(l==null){const c=a.map(h=>s.columns[h]);l=new Elt(c),r.set(o,l)}return l.rangeBetween(i,n)}getDomainsByType(t,e){switch(t){case"key":return e.domain.keys;case"value":return e.domain.values;case"aggregate":return e.domain.aggValues;case"group-value-processor":return e.domain.groups;default:return null}}processData(t){const{opts:{groupByKeys:e,groupByFn:i},aggregates:n,groupProcessors:s,reducers:a,processors:o,propertyProcessors:r}=this,l=performance.now();if(e&&this.keys.length===0)return;let c=this.extractData(t);e?c=this.groupData(c):i&&(c=this.groupData(c,i(c))),s.length>0&&c.type==="grouped"&&this.postProcessGroups(c),n.length>0&&c.type==="ungrouped"?this.aggregateUngroupedData(c):n.length>0&&c.type==="grouped"&&this.aggregateGroupedData(c),r.length>0&&this.postProcessProperties(c),a.length>0&&this.reduceData(c),o.length>0&&this.postProcessData(c),this.warnDataMissingProperties(t);const h=performance.now();return c.time=h-l,this.debug.check()&&Plt(c),this.processScopeCache(),c}warnDataMissingProperties(t){var e;if(t.size!==0)for(const i of Bd(this.keys,this.values))for(const[n,s]of i.missing){if(s<(((e=t.get(n))==null?void 0:e.length)??1/0))continue;const a=n==null?"":` for ${n}`;It.warnOnce(`the key '${i.property}' was not found in any data element${a}.`)}}processScopeCache(){var t;this.scopeCache.clear();for(const e of Bd(this.keys,this.values,this.aggregates))if(e.idsMap)for(const[i,n]of e.idsMap)for(const s of n)if(!this.scopeCache.has(i))this.scopeCache.set(i,new Map([[s,e]]));else{if((t=this.scopeCache.get(i))!=null&&t.has(s))throw new Error("duplicate definition ids on the same scope are not allowed.");this.scopeCache.get(i).set(s,e)}}valueGroupIdxLookup({matchGroupIds:t}){const e=[];for(const[i,n]of this.values.entries())(!t||n.groupId&&t.includes(n.groupId))&&e.push(i);return e}valueIdxLookup(t,e){const i=t==null||t.length===0,n=typeof e=="string"?e:e.id,s=o=>{if(o.idsMap){for(const[r,l]of o.idsMap)if(t!=null&&t.includes(r)&&l.has(n))return!0}return!1},a=this.values.reduce((o,r,l)=>((r.scopes==null||i&&!r.scopes.length||r.scopes.some(h=>t==null?void 0:t.includes(h)))&&(r.property===n||r.id===n||s(r))&&o.push(l),o),[]);if(a.length===0)throw new Error(`AG Charts - configuration error, unknown property ${JSON.stringify(e)} in scope(s) ${JSON.stringify(t)}`);return a}extractData(t){const{dataDomain:e,processValue:i,allScopesHaveSameDefs:n}=this.initDataDomainProcessor(),{keys:s,values:a}=this,{invalidData:o,invalidKeys:r,allKeyMappings:l}=this.extractKeys(s,t,i),{columns:c,columnScopes:h,partialValidDataCount:p,maxDataLength:f}=this.extractValues(o,a,t,r,i),y=m=>{const b=e.get(m),S=b.getDomain();return zu.is(b)&&S[0]>S[1]?[]:S};return{type:"ungrouped",input:{count:f},scopes:new Set(t.keys()),dataSources:t,aggregation:void 0,keys:[...l.values()],columns:c,columnScopes:h,invalidKeys:r,invalidData:o,domain:{keys:s.map(y),values:a.map(y)},defs:{allScopesHaveSameDefs:n,keys:s,values:a},partialValidDataCount:p,time:0,[aj]:new Map}}extractKeys(t,e,i){const n=new Map,s=new Map,a=new Map;let o,r;const l=(c,h)=>{const p=r.get(c);o.set(h,o.get(p)),n.has(p)&&(n.set(h,n.get(p)),s.set(h,s.get(p)))};for(const c of t){const{invalidValue:h,scopes:p}=c;o=new Map,r=new Map,a.set(c,o);for(const f of p??[]){const y=e.get(f)??[];if(r.has(y)){l(y,f);continue}const m=[];o.set(f,m),r.set(y,f);let b,S;for(let v=0;v<y.length;v++){const D=i(c,y[v],v,f);if(D!==W0){m.push(D);continue}m.push(h),b??(b=S1(y.length,!1)),S??(S=S1(y.length,!1)),b[v]=!0,S[v]=!0}b&&S&&(n.set(f,b),s.set(f,S))}}return{invalidData:s,invalidKeys:n,allKeyMappings:a}}extractValues(t,e,i,n,s){let a=0;const o=[],r=[];let l=0;for(const c of e){const{invalidValue:h}=c;if(new Set(c.scopes.map(S=>i.get(S))).size>1)throw new Error(`AG Charts - more than one data source for: ${JSON.stringify(c)}`);const f=new Set(c.scopes),y=Sm(c.scopes),m=i.get(y),b=m.map((S,v)=>{var T;const D=(T=n.get(y))==null?void 0:T[v];let I=s(c,S,v,c.scopes);return(D||I===W0)&&this.markScopeDatumInvalid(c.scopes,m,v,t),D?I=h:I===W0&&(a+=1,I=h),I});o.push(b),r.push(f),l=Math.max(l,b.length)}return{columns:o,columnScopes:r,partialValidDataCount:a,maxDataLength:l}}groupData(t,e){var i;const n=new Map,{keys:s,columns:a,columnScopes:o,invalidKeys:r,invalidData:l}=t,c=t.scopes,h=new Set;for(const y of c){const m=a.map((T,k)=>k).filter(T=>!h.has(T)&&o[T].has(y));if(m.length===0)continue;for(const T of m)h.add(T);const b=new Set;for(const T of m)for(const k of o[T])b.add(k);const S=s.map(T=>T.get(y)).filter(T=>T!=null),v=a[Sm(m)],D=l==null?void 0:l.get(y),I=r==null?void 0:r.get(y);for(let T=0;T<v.length;T++){if((I==null?void 0:I[T])===!0)continue;const k=S.map(O=>O[T]);if(k==null||k.length===0)throw new Error("AG Charts - no keys found for scope: "+y);const E=(e==null?void 0:e(k))??k,w=wlt(E),R=n.get(w)??{keys:E,datumIndices:[],validScopes:c};if(n.has(w)||n.set(w,R),(D==null?void 0:D[T])===!0){R.validScopes===c&&(R.validScopes=new Set(c.values()));for(const O of b)R.validScopes.delete(O)}if(R.validScopes.size!==0)for(const O of m)(i=R.datumIndices)[O]??(i[O]=[]),R.datumIndices[O].push(T)}}const p=[],f=[];for(const{keys:y,datumIndices:m,validScopes:b}of n.values())(b==null?void 0:b.size)!==0&&(p.push(y),f.push({datumIndices:m,keys:y,aggregation:[],validScopes:b}));return{...t,type:"grouped",domain:{...t.domain,groups:p},groups:f}}aggregateUngroupedData(t){const e=this.aggregates.map(()=>[1/0,-1/0]);t.domain.aggValues=e;const{keys:i,columns:n,dataSources:s}=t,a=Sm(s.keys()),o=s.get(a);t.aggregation=o==null?void 0:o.map((r,l)=>{var h,p,f;const c=[];for(const[y,m]of this.aggregates.entries()){const b=this.valueGroupIdxLookup(m);let S=((h=m.groupAggregateFunction)==null?void 0:h.call(m))??[1/0,-1/0];const v=b.map(k=>n[k][l]),D=OM(i,a,l),I=D!=null?m.aggregateFunction(v,D):void 0;I&&(S=((p=m.groupAggregateFunction)==null?void 0:p.call(m,I,S))??zu.extendDomain(I,S));const T=((f=m.finalFunction)==null?void 0:f.call(m,S))??S;if(m.round===!0)for(const k in T)T[k]=oj(T[k]);c[y]=T,zu.extendDomain(T,e[y])}return c})}aggregateGroupedData(t){var n,s,a,o;const e=this.aggregates.map(()=>[1/0,-1/0]);t.domain.aggValues=e;const{columns:i}=t;for(const[r,l]of this.aggregates.entries()){const c=this.valueGroupIdxLookup(l);for(const h of t.groups){if(h.aggregation??(h.aggregation=[]),((n=h.validScopes)==null?void 0:n.size)===0)continue;const p=h.keys;let f=((s=l.groupAggregateFunction)==null?void 0:s.call(l))??[1/0,-1/0];const y=Math.max(...c.map(b=>{var S;return((S=h.datumIndices[b])==null?void 0:S.length)??0}));for(let b=0;b<y;b++){const S=c.map(D=>{var I;return i[D][(I=h.datumIndices[D])==null?void 0:I[b]]}),v=l.aggregateFunction(S,p);v&&(f=((a=l.groupAggregateFunction)==null?void 0:a.call(l,v,f))??zu.extendDomain(v,f))}const m=((o=l.finalFunction)==null?void 0:o.call(l,f))??f;if(l.round===!0)for(const b in m)m[b]=oj(m[b]);h.aggregation[r]=m,zu.extendDomain(m,e[r])}}}postProcessGroups(t){const{groupProcessors:e}=this,{columnScopes:i,columns:n,invalidData:s,scopes:a}=t;for(const o of e){const r=this.valueGroupIdxLookup(o),l=o.adjust()();for(const c of t.groups)c.validScopes===a&&l(n,r,c);for(const c of r){const p=this.values[c].valueType==="category",f=n[c],y=Sm(i[c]),m=s==null?void 0:s.get(y),b=p?new sj:new zu;for(let S=0;S<f.length;S+=1)(m==null?void 0:m[S])!==!0&&b.extend(f[S]);t.domain.values[c]=b.getDomain()}}}postProcessProperties(t){for(const{adjust:e,property:i,scopes:n}of this.propertyProcessors)for(const s of this.valueIdxLookup(n,i))e()(t,s)}reduceData(t){var n;t.reduced??(t.reduced={});const{dataSources:e,keys:i}=t;for(const s of this.reducers){const a=s.reducer();let o=s.initialValue;if(t.type==="grouped")for(const r of t.groups)o=a(o,r.keys);else{const r=Sm(e.keys()),l=i.map(p=>p.get(r)).filter(p=>p!=null),c=l.map(()=>{}),h=e.get(r);for(let p=0;p<h.length;p+=1){for(let f=0;f<c.length;f++)c[f]=(n=l[f])==null?void 0:n[p];o=a(o,c)}}t.reduced[s.property]=o}}postProcessData(t){t.reduced??(t.reduced={});for(const e of this.processors)t.reduced[e.property]=e.calculate(t,t.reduced[e.property])}initDataDomainProcessor(){const{keys:t,values:e}=this,i=new Set;for(const c of e)if(c.scopes)for(const h of c.scopes)i.add(h);const n=new Map,s=new Map;let a=!0;const o=()=>{for(const c of Bd(t,e))c.valueType==="category"?n.set(c,new sj):(n.set(c,new zu),a&&(a=(c.scopes??[]).length===i.size))};o();const r=this.buildAccessors(Bd(t,e));return{dataDomain:n,processValue:(c,h,p,f)=>{var S,v,D;let y,m;if(r.has(c.property)){try{m=r.get(c.property)(h)}catch{}y=m!=null}else y=c.property in h,m=y?h[c.property]:c.missingValue;c.forceValue!=null&&(m=y&&DA(m)?-1*c.forceValue:c.forceValue,y=!0);const b="missingValue"in c;if(!y&&!b)if(typeof f=="string"){const I=c.missing.get(f)??0;c.missing.set(f,I+1)}else for(const I of f){const T=c.missing.get(I)??0;c.missing.set(I,T+1)}if(n.has(c)||o(),y&&((S=c.validation)==null?void 0:S.call(c,m,h,p))===!1)if("invalidValue"in c)m=c.invalidValue;else return this.mode!=="integrated"&&It.warnOnce(`invalid value of type [${typeof m}] for [${c.scopes} / ${c.id}] ignored:`,`[${m}]`),W0;return c.processor&&(s.has(c)||s.set(c,c.processor()),m=(v=s.get(c))==null?void 0:v(m)),(D=n.get(c))==null||D.extend(m),m},initDataDomain:o,scopes:i,allScopesHaveSameDefs:a}}buildAccessors(t){const e=new Map;if(this.suppressFieldDotNotation)return e;for(const i of t){if(!(i.property.includes(".")||i.property.includes("[")))continue;const s=hW(i.property);if(s==null){It.warnOnce("Invalid property path [%s]",i.property);continue}const a=Rlt(s);e.set(i.property,a)}return e}};function Plt(t){const e=(i,n)=>{n.length>0&&(It.log(`DataModel.processData() - ${i}`),It.table(n))};It.log("DataModel.processData() - processedData",t),e("Key Domains",t.domain.keys),e("Group Domains",t.domain.groups??[]),e("Value Domains",t.domain.values),e("Aggregate Domains",t.domain.aggValues??[])}var pW=class oc{constructor(e,i){this.mode=e,this.suppressFieldDotNotation=i,this.debug=Qe.create(!0,"data-model"),this.requested=[],this.status="setup"}async request(e,i,n){if(this.status!=="setup")throw new Error("AG Charts - data request after data setup phase.");return new Promise((s,a)=>{this.requested.push({id:e,opts:n,data:i,resolve:s,reject:a})})}execute(e){if(this.status!=="setup")throw new Error("AG Charts - data request after data setup phase.");this.status="executed",this.debug("DataController.execute() - requested",this.requested);const i=this.validateRequests(this.requested);this.debug("DataController.execute() - validated",i);const n=this.mergeRequested(i);this.debug("DataController.execute() - merged",n),this.debug.check()&&(ai().processedData=[]);const s=[];for(const{data:a,ids:o,opts:r,resolves:l,rejects:c}of n){const h=e==null?void 0:e.find(y=>Nlt(y,a,o,r));let p,f;if(h==null)try{p=new dW(r,this.mode,this.suppressFieldDotNotation);const y=new Map(i.map(m=>[m.id,m.data]));f=p.processData(y)}catch(y){c.forEach(m=>m(y));continue}else({dataModel:p,processedData:f}=h);s.push({opts:r,data:a,ids:o,dataModel:p,processedData:f}),this.debug.check()&&ai("processedData").push(f),(f==null?void 0:f.partialValidDataCount)===0?l.forEach(y=>y({dataModel:p,processedData:f})):f?this.splitResult(p,f,o,l):c.forEach(y=>y(new Error("AG Charts - no processed data generated")))}return s}validateRequests(e){const i=[];for(const[n,s]of e.entries())n>0&&s.data.length!==e[0].data.length&&s.opts.groupByData===!1&&s.opts.groupByKeys===!1?s.reject(new Error("all series[].data arrays must be of the same length and have matching keys.")):i.push(s);return i}mergeRequested(e){const i=[];for(const n of e){const s=i.find(oc.groupMatch(n));s?s.push(n):i.push([n])}return i.map(oc.mergeRequests)}splitResult(e,i,n,s){for(let a=0;a<n.length;a++){const o=s[a];o({dataModel:e,processedData:i})}}static groupMatch({data:e,opts:i}){function n(c){return c.filter(h=>h.type==="key").map(h=>h.property).join(";")}const{groupByData:s,groupByKeys:a=!1,groupByFn:o,props:r}=i,l=n(r);return([c])=>(s===!1||c.data===e)&&(c.opts.groupByKeys??!1)===a&&c.opts.groupByFn===o&&n(c.opts.props)===l}static mergeRequests(e){const i=new Set(["key","group-value-processor"]);return e.reduce((n,{id:s,data:a,resolve:o,reject:r,opts:{props:l,...c}})=>{var h;n.ids.push(s),n.rejects.push(r),n.resolves.push(o),n.data??(n.data=a),n.opts??(n.opts={...c,props:[]});for(const p of l){const f={...p,scopes:[s],data:a};oc.createIdsMap(s,f);const y=n.opts.props.find(m=>m.type===f.type&&(i.has(m.type)||m.data===f.data)&&oc.deepEqual(m,f));if(!y){n.opts.props.push(f);continue}y.scopes??(y.scopes=[]),y.scopes.push(...f.scopes??[]),(y.type==="key"||y.type==="value")&&((h=f.idsMap)!=null&&h.size)&&oc.mergeIdsMap(f.idsMap,y.idsMap)}return n},{ids:[],rejects:[],resolves:[],data:null,opts:null})}static mergeIdsMap(e,i){for(const[n,s]of e){const a=i.get(n);if(a==null)i.set(n,new Set(s));else for(const o of s)a.add(o)}}static createIdsMap(e,i){i.id!=null&&(i.idsMap??(i.idsMap=new Map),i.idsMap.has(e)?i.idsMap.get(e).add(i.id):i.idsMap.set(e,new Set([i.id])))}static deepEqual(e,i){if(e===i)return!0;if(e&&i&&typeof e=="object"&&typeof i=="object"){if(e.constructor!==i.constructor)return!1;let n,s;if(Array.isArray(e)){if(s=e.length,s!==i.length)return!1;for(n=s-1;n>=0;n--)if(!oc.deepEqual(e[n],i[n]))return!1;return!0}const a=Object.keys(e);if(s=a.length,s!==Object.keys(i).length)return!1;for(n=s-1;n>=0;n--){const o=a[n];if(!oc.skipKeys.has(o)&&(!Object.hasOwn(i,o)||!oc.deepEqual(e[o],i[o])))return!1}return!0}return!1}};pW.skipKeys=new Set(["id","idsMap","type","scopes","data"]);var fW=pW,Blt=class{constructor(){this.axesMap=new Map,this.themeTemplates=new Map}register(t,e){this.axesMap.set(t,e.moduleFactory),e.themeTemplate&&this.setThemeTemplate(t,e.themeTemplate)}create(t,e){const i=this.axesMap.get(t);if(i)return i(e);throw new Error(`AG Charts - unknown axis type: ${t}`)}has(t){return this.axesMap.has(t)}keys(){return this.axesMap.keys()}setThemeTemplate(t,e){return this.themeTemplates.set(t,e),this}getThemeTemplate(t){return this.themeTemplates.get(t)}},Sc=new Blt,Cg=[{type:"root",optionsKey:"animation",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"]},{type:"root",optionsKey:"annotations",chartTypes:["cartesian"]},{type:"root",optionsKey:"background",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],optionsInnerKey:"image"},{type:"root",optionsKey:"foreground",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],optionsInnerKey:"image"},{type:"root",optionsKey:"chartToolbar",chartTypes:["cartesian"]},{type:"root",optionsKey:"contextMenu",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"]},{type:"root",optionsKey:"statusBar",chartTypes:["cartesian"],identifier:"status-bar"},{type:"root",optionsKey:"dataSource",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"]},{type:"root",optionsKey:"sync",chartTypes:["cartesian"]},{type:"root",optionsKey:"zoom",chartTypes:["cartesian","topology"]},{type:"root",optionsKey:"ranges",chartTypes:["cartesian"]},{type:"legend",optionsKey:"gradientLegend",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],identifier:"gradient"},{type:"root",optionsKey:"navigator",chartTypes:["cartesian"]},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-number"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-number"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"bar",community:!0},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"line",community:!0},{type:"axis",optionsKey:"axes[]",chartTypes:["cartesian"],identifier:"ordinal-time"},{type:"axis-option",optionsKey:"crosshair",chartTypes:["cartesian"]},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"box-plot"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"candlestick"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"cone-funnel"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"funnel"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"ohlc"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"heatmap"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-area"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-bar"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"waterfall"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"nightingale"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-area"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-line"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-bar"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-column"},{type:"series",optionsKey:"series[]",chartTypes:["hierarchy"],identifier:"sunburst"},{type:"series",optionsKey:"series[]",chartTypes:["hierarchy"],identifier:"treemap"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-shape"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-line"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-marker"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-shape-background"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-line-background"},{type:"series",optionsKey:"series[]",chartTypes:["flow-proportion"],identifier:"chord"},{type:"series",optionsKey:"series[]",chartTypes:["flow-proportion"],identifier:"sankey"},{type:"series",optionsKey:"series[]",chartTypes:["standalone"],identifier:"pyramid"},{type:"series",optionsKey:"series[]",chartTypes:["gauge"],identifier:"linear-gauge"},{type:"series",optionsKey:"series[]",chartTypes:["gauge"],identifier:"radial-gauge"},{type:"series-option",optionsKey:"errorBar",chartTypes:["cartesian"],identifier:"error-bars"},{type:"context",contextKey:"sharedToolbar",chartTypes:["cartesian"]}];function zlt(t){return Cg.some(e=>e.type==="series"&&e.identifier===t)}function np(t){var e;return(e=Cg.find(i=>i.type==="series"&&i.identifier===t))==null?void 0:e.chartTypes}function _lt(t){var i;return((i=np(t))==null?void 0:i.find(n=>n==="cartesian"))==="cartesian"}function jlt(t){var i;return((i=np(t))==null?void 0:i.find(n=>n==="polar"))==="polar"}function Flt(t){var i;return((i=np(t))==null?void 0:i.find(n=>n==="hierarchy"))==="hierarchy"}function Glt(t){var i;return((i=np(t))==null?void 0:i.find(n=>n==="topology"))==="topology"}function Vlt(t){var i;return((i=np(t))==null?void 0:i.find(n=>n==="flow-proportion"))==="flow-proportion"}function Ult(t){var i;return((i=np(t))==null?void 0:i.find(n=>n==="standalone"))==="standalone"}function Hlt(t){var i;return((i=np(t))==null?void 0:i.find(n=>n==="gauge"))==="gauge"}function Wlt(t){return t.packageType==="enterprise"}function Ylt(t){if(!Wlt(t))throw new Error("AG Charts - internal configuration error, only enterprise modules need verification.");const e=Cg.find(i=>i.type===t.type&&("optionsKey"in i&&"optionsKey"in t?i.optionsKey===t.optionsKey:!0)&&("contextKey"in i&&"contextKey"in t?i.contextKey===t.contextKey:!0)&&i.identifier===t.identifier&&t.chartTypes.every(n=>i.chartTypes.includes(n)));return e&&(e.useCount??(e.useCount=0),e.useCount++),e!=null}function $lt(){return Cg.filter(({useCount:t})=>t==null||t===0)}var Klt=class{constructor(){this.legendMap=new Map,this.themeTemplates=new Map}register(t,{optionsKey:e,moduleFactory:i,themeTemplate:n}){this.legendMap.set(t,{optionsKey:e,moduleFactory:i}),this.themeTemplates.set(e,n)}create(t,e){var n;const i=(n=this.legendMap.get(t))==null?void 0:n.moduleFactory;if(i)return i(e);throw new Error(`AG Charts - unknown legend type: ${t}`)}getThemeTemplates(){return Object.fromEntries(this.themeTemplates)}getKeys(){return Array.from(this.legendMap.entries()).reduce((t,[e,i])=>(t[e]=i.optionsKey,t),{})}},mE=new Klt,gW=class extends Map{get(t){return super.get(t)??"unknown"}isCartesian(t){return this.get(t)==="cartesian"}isPolar(t){return this.get(t)==="polar"}isHierarchy(t){return this.get(t)==="hierarchy"}isTopology(t){return this.get(t)==="topology"}isFlowProportion(t){return this.get(t)==="flow-proportion"}isStandalone(t){return this.get(t)==="standalone"}isGauge(t){return this.get(t)==="gauge"}get seriesTypes(){return Array.from(this.keys())}get cartesianTypes(){return this.seriesTypes.filter(t=>this.isCartesian(t))}get polarTypes(){return this.seriesTypes.filter(t=>this.isPolar(t))}get hierarchyTypes(){return this.seriesTypes.filter(t=>this.isHierarchy(t))}get topologyTypes(){return this.seriesTypes.filter(t=>this.isTopology(t))}get flowProportionTypes(){return this.seriesTypes.filter(t=>this.isFlowProportion(t))}get standaloneTypes(){return this.seriesTypes.filter(t=>this.isStandalone(t))}get gaugeTypes(){return this.seriesTypes.filter(t=>this.isGauge(t))}},Xlt=class extends Map{set(t,e){return super.set(t,ne(e,this.get(t)))}},di=new gW,yW=new gW,bL=new Xlt,Zlt=class{constructor(){this.seriesMap=new Map,this.themeTemplates=new Map}register(t,{chartTypes:[e],moduleFactory:i,tooltipDefaults:n,defaultAxes:s,themeTemplate:a,paletteFactory:o,solo:r,stackable:l,groupable:c,stackedByDefault:h,hidden:p}){this.setThemeTemplate(t,a),this.seriesMap.set(t,{moduleFactory:i,tooltipDefaults:n,defaultAxes:s,paletteFactory:o,solo:r,stackable:l,groupable:c,stackedByDefault:h}),di.set(t,e),p||yW.set(t,e)}create(t,e){var n;const i=(n=this.seriesMap.get(t))==null?void 0:n.moduleFactory;if(i)return i(e);throw new Error(`AG Charts - unknown series type: ${t}`)}cloneDefaultAxes(t,e){var s;const i=(s=this.seriesMap.get(t))==null?void 0:s.defaultAxes;if(i==null)return null;const n=typeof i=="function"?i(e):i;return{axes:mn(n)}}isDerivedDefaultAxes(t){var e;return typeof((e=this.seriesMap.get(t))==null?void 0:e.defaultAxes)=="function"}setThemeTemplate(t,e){const i=this.themeTemplates.get(t);this.themeTemplates.set(t,ne(e,i))}getThemeTemplate(t){return this.themeTemplates.get(t)}getPaletteFactory(t){var e;return(e=this.seriesMap.get(t))==null?void 0:e.paletteFactory}getTooltipDefauls(t){var e;return(e=this.seriesMap.get(t))==null?void 0:e.tooltipDefaults}isSolo(t){var e;return((e=this.seriesMap.get(t))==null?void 0:e.solo)??!1}isGroupable(t){var e;return((e=this.seriesMap.get(t))==null?void 0:e.groupable)??!1}isStackable(t){var e;return((e=this.seriesMap.get(t))==null?void 0:e.stackable)??!1}isStackedByDefault(t){var e;return((e=this.seriesMap.get(t))==null?void 0:e.stackedByDefault)??!1}},fa=new Zlt,xE=class Ld extends yh{constructor(e){super(),this.chart=e}subscribe(e=Ld.DEFAULT_GROUP){let i=this.get(e);return i||(i=new Set,Ld.chartsGroups.set(e,i)),i.add(this.chart),this}unsubscribe(e=Ld.DEFAULT_GROUP){var i;return(i=this.get(e))==null||i.delete(this.chart),this}getChart(){return this.chart}getGroup(e=Ld.DEFAULT_GROUP){const i=this.get(e);return i?Array.from(i):[]}getGroupSiblings(e=Ld.DEFAULT_GROUP){return this.getGroup(e).filter(i=>i!==this.chart)}get(e){return Ld.chartsGroups.get(e)}};xE.chartsGroups=new Map;xE.DEFAULT_GROUP=Symbol("sync-group-default");var qlt=xE,bE=class extends Qt{constructor(){super(...arguments),this.enabled=!1}};N([P(Gt)],bE.prototype,"enabled",2);N([P(fe)],bE.prototype,"tabIndex",2);var mW=["top","right","bottom","left"];function Qlt(t){return typeof t=="string"&&mW.includes(t)}function Jlt(t){const e=[],i=[],n=[...mW];for(const s of t)s instanceof vb&&(Qlt(s.position)?i.push(s.position):e.push(s));for(const s of e){let a;do a=n.pop();while(a&&i.includes(a));if(a==null)break;s.position=a}}var tct=["direction","xKey","yKey","sizeKey","angleKey","radiusKey","normalizedTo"];function ect(t,e,i){var c,h;const n=(p,f,y)=>{const m=[p];for(const b of tct)b in f&&f[b]!=null&&m.push(`${b}=${f[b]}`);return y!=null&&y.seriesGrouping&&m.push(`seriesGrouping.groupId=${y==null?void 0:y.seriesGrouping.groupId}`),m.join(";")},s=new Map;let a=0;for(const p of t){const f=n(p.type,p.properties,i==null?void 0:i[a]);s.has(f)||s.set(f,[]),(c=s.get(f))==null||c.push([p,a++])}const o=new Map;a=0;for(const p of e){const f=n(p.type,p,p);o.has(f)||o.set(f,[]),(h=o.get(f))==null||h.push([p,a++])}if(![...s.keys()].some(p=>o.has(p)))return{status:"no-overlap",oldKeys:s.keys(),newKeys:o.keys()};const l=[];for(const[p,f]of o.entries())for(const[y,m]of f){const b=s.get(p);if(b==null||b.length<1){l.push({opts:y,targetIdx:m,idx:m,status:"add"}),s.delete(p);continue}const[S,v]=b.shift(),D=(i==null?void 0:i[v])??{},I=Lc(D,y??{}),{groupIndex:T,stackIndex:k}=(I==null?void 0:I.seriesGrouping)??{};T!=null||k!=null?l.push({opts:y,series:S,diff:I,targetIdx:m,idx:v,status:"series-grouping"}):I?l.push({opts:y,series:S,diff:I,targetIdx:m,idx:v,status:"update"}):l.push({opts:y,series:S,targetIdx:m,idx:v,status:"no-op"}),b.length===0&&s.delete(p)}for(const p of s.values())for(const[f,y]of p)l.push({series:f,idx:y,targetIdx:-1,status:"remove"});return{status:"overlap",changes:l}}function _c(t){var i;const{series:e}=t;if(e)return((i=e[0])==null?void 0:i.type)??"line"}function vE(t){const e=_c(t);return e==null?!1:di.isCartesian(e)||_lt(e)}function xW(t){const e=_c(t);return e==null?!1:di.isPolar(e)||jlt(e)}function ict(t){const e=_c(t);return e==null?!1:di.isHierarchy(e)||Flt(e)}function nct(t){const e=_c(t);return e==null?!1:di.isTopology(e)||Glt(e)}function sct(t){const e=_c(t);return e==null?!1:di.isFlowProportion(e)||Vlt(e)}function bW(t){const e=_c(t);return e==null?!1:di.isStandalone(e)||Ult(e)}function vW(t){const e=_c(t);return e==null?!1:di.isGauge(e)||Hlt(e)}function act(t){const e=_c(t);return xW(t)&&e!=="pie"&&e!=="donut"}function oct(t){return t==null?!1:di.has(t)}function rct(t){return t==null?!1:Sc.has(t)}var lct=class extends KN{applyOptions(t){for(const e of this.moduleMap.values())e.module.optionsKey in t&&pl(e.moduleInstance)&&e.moduleInstance.set(t[e.module.optionsKey])}*legends(){for(const{module:t,moduleInstance:e}of this.moduleMap.values())t.type==="legend"&&(yield{legendType:t.identifier,legend:e})}},vL="ag-charts-overlay",rj="ag-charts-dark-overlay",_d=class extends Qt{constructor(t,e){super(),this.className=t,this.defaultMessageId=e,this.enabled=!0}getText(t){return t.t(this.text??this.defaultMessageId)}getElement(t,e,i){var n;if((n=this.content)==null||n.remove(),this.focusBox=i,this.renderer){const s=this.renderer();if(s instanceof HTMLElement)this.content=s;else{const a=le("div");a.innerHTML=s,this.content=a.firstElementChild}}else{const s=le("div",{display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",height:"100%",margin:"8px",fontFamily:"var(--ag-charts-font-family)",fontSize:"var(--ag-charts-font-size)",fontWeight:"var(--ag-charts-font-weight)"});s.innerText=this.getText(e),this.content=s,t==null||t.animate({from:0,to:1,id:"overlay",phase:"add",groupId:"opacity",onUpdate(a){s.style.opacity=String(a)},onStop(){s.style.opacity="1"}})}return this.content}removeElement(t=()=>{var i;return(i=this.content)==null?void 0:i.remove()},e){if(this.content){if(e){const{content:i}=this;e.animate({from:1,to:0,phase:"remove",id:"overlay",groupId:"opacity",onUpdate(n){i.style.opacity=String(n)},onStop(){t==null||t()}})}else t==null||t();this.content=void 0,this.focusBox=void 0}}};N([P(Gt)],_d.prototype,"enabled",2);N([P(Dt,{optional:!0})],_d.prototype,"text",2);N([P(ea,{optional:!0})],_d.prototype,"renderer",2);var kg=class extends Qt{constructor(){super(...arguments),this.darkTheme=!1,this.loading=new _d("ag-charts-loading-overlay","overlayLoadingData"),this.noData=new _d("ag-charts-no-data-overlay","overlayNoData"),this.noVisibleSeries=new _d("ag-charts-no-visible-series","overlayNoVisibleSeries"),this.unsupportedBrowser=new _d("ag-charts-unsupported-browser","overlayUnsupportedBrowser")}getFocusInfo(t){for(const e of[this.loading,this.noData,this.noVisibleSeries,this.unsupportedBrowser])if(e.focusBox!==void 0)return{text:e.getText(t),rect:e.focusBox}}destroy(){this.loading.removeElement(),this.noData.removeElement(),this.noVisibleSeries.removeElement(),this.unsupportedBrowser.removeElement()}};N([P(Gt)],kg.prototype,"darkTheme",2);N([P(Lt)],kg.prototype,"loading",2);N([P(Lt)],kg.prototype,"noData",2);N([P(Lt)],kg.prototype,"noVisibleSeries",2);N([P(Lt)],kg.prototype,"unsupportedBrowser",2);function cct(t,e){const{animationDuration:i}=Dx.add,n=i*e,s=le("div",`${vL}--loading`,{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",height:"100%",boxSizing:"border-box",font:"13px Verdana, sans-serif",userSelect:"none",animation:`ag-charts-loading ${n}ms linear 50ms both`}),a=le("span",{width:"45px",height:"40px",backgroundImage:["linear-gradient(#0000 calc(1 * 100% / 6), #ccc 0 calc(3 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(2 * 100% / 6), #ccc 0 calc(4 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(3 * 100% / 6), #ccc 0 calc(5 * 100% / 6), #0000 0)"].join(""),backgroundSize:"10px 400%",backgroundRepeat:"no-repeat",animation:"ag-charts-loading-matrix 1s infinite linear"}),o=le("p",{marginTop:"1em"});o.innerText=t;const r=le("div",`${vL}__loading-background`,{position:"absolute",inset:"0",opacity:"0.5",zIndex:"-1"}),l=le("style");return l.innerText=["@keyframes ag-charts-loading { from { opacity: 0 } to { opacity: 1 } }","@keyframes ag-charts-loading-matrix {","0% { background-position: 0% 0%, 50% 0%, 100% 0%; }","100% { background-position: 0% 100%, 50% 100%, 100% 100%; }","}"].join(" "),s.replaceChildren(l,a,o,r),s}var SW=(t=>(t[t.BACKGROUND=0]="BACKGROUND",t[t.ANY_CONTENT=1]="ANY_CONTENT",t))(SW||{}),MW=(t=>(t[t.FOREGROUND=0]="FOREGROUND",t[t.HIGHLIGHT=1]="HIGHLIGHT",t[t.LABEL=2]="LABEL",t))(MW||{}),AW=(t=>(t[t.EXACT_SHAPE_MATCH=0]="EXACT_SHAPE_MATCH",t[t.NEAREST_NODE=1]="NEAREST_NODE",t[t.AXIS_ALIGNED=2]="AXIS_ALIGNED",t))(AW||{}),uct=.25,hct=.125,Mb=class{constructor(t,e,{datum:i},n){this.type=t,this.event=e,this.datum=i,this.seriesId=n.id}},SE=class{constructor(t,e,i){this.series=t,this.seriesGrouping=e,this.oldGrouping=i,this.type="groupingChanged"}},ZA=class extends BH{constructor(e){super(),this.destroyFns=[],this.usesPlacedLabels=!1,this.seriesGrouping=void 0,this.NodeEvent=Mb,this.internalId=Wo(this),this.contentGroup=new ta({name:`${this.internalId}-content`,zIndex:1}),this.highlightGroup=new ta({name:`${this.internalId}-highlight`,zIndex:1}),this.annotationGroup=new ta({name:`${this.internalId}-annotation`}),this.labelGroup=new ta({name:`${this.internalId}-series-labels`}),this.axes={x:void 0,y:void 0},this.directions=["x","y"],this.nodeDataRefresh=!0,this.moduleMap=new KN,this.datumCallbackCache=new Map,this.connectsToYAxis=!1,this._declarationOrder=-1,this.seriesListeners=new zc,this._pickNodeCache=new UN;const{moduleCtx:i,pickModes:n,directionKeys:s={},directionNames:a={},canHaveAxes:o=!1,usesPlacedLabels:r=!1}=e;this.ctx=i,this.directionKeys=s,this.directionNames=a,this.canHaveAxes=o,this.usesPlacedLabels=r,this.highlightGroup=new ta({name:`${this.internalId}-highlight`}),this.highlightNode=this.highlightGroup.appendChild(new Kt({name:"highlightNode",zIndex:0})),this.highlightLabel=this.highlightGroup.appendChild(new Kt({name:"highlightLabel",zIndex:10})),this.pickModes=n}get pickModeAxis(){return"main"}get id(){var e;return((e=this.properties)==null?void 0:e.id)??this.internalId}get type(){return this.constructor.type??""}get focusable(){return!0}get data(){return this._data??this._chartData}set visible(e){this.properties.visible=e,this.ctx.legendManager.toggleItem({enabled:e,seriesId:this.id}),this.ctx.legendManager.update(),this.visibleMaybeChanged()}get visible(){return this.ctx.legendManager.getSeriesEnabled(this.id)??this.properties.visible}get hasData(){return this.data!=null&&this.data.length>0}get tooltipEnabled(){var e;return((e=this.properties.tooltip)==null?void 0:e.enabled)??!1}onDataChange(){this.nodeDataRefresh=!0,this._pickNodeCache.clear()}setOptionsData(e){this._data=e,this.onDataChange()}setChartData(e){this._chartData=e,this.data===e&&this.onDataChange()}onSeriesGroupingChange(e,i){const{internalId:n,type:s,visible:a}=this;e&&this.ctx.seriesStateManager.deregisterSeries(this),i&&this.ctx.seriesStateManager.registerSeries({internalId:n,type:s,visible:a,seriesGrouping:i}),this.fireEvent(new SE(this,i,e))}getBandScalePadding(){return{inner:1,outer:0}}attachSeries(e,i,n){e.appendChild(this.contentGroup),i.appendChild(this.highlightGroup),i.appendChild(this.labelGroup),n==null||n.appendChild(this.annotationGroup)}detachSeries(e,i,n){e==null||e.removeChild(this.contentGroup),i.removeChild(this.highlightGroup),i.removeChild(this.labelGroup),n==null||n.removeChild(this.annotationGroup)}setSeriesIndex(e){return e===this._declarationOrder?!1:(this._declarationOrder=e,this.contentGroup.zIndex=[1,e,0],this.highlightGroup.zIndex=[1,e,1],this.labelGroup.zIndex=[1,e,2],this.annotationGroup.zIndex=e,!0)}renderToOffscreenCanvas(){return!1}addEventListener(e,i){return super.addEventListener(e,i)}addListener(e,i){return this.seriesListeners.addListener(e,i)}dispatch(e,i){this.seriesListeners.dispatch(e,i)}addChartEventListeners(){}destroy(){this.destroyFns.forEach(e=>e()),this.destroyFns=[],this.resetDatumCallbackCache(),this.ctx.seriesStateManager.deregisterSeries(this)}getDirectionValues(e,i){const n=this.resolveKeyDirection(e),s=i==null?void 0:i[n],a=[];if(!s)return a;const o=(...r)=>{for(const l of r)Array.isArray(l)?o(...l):typeof l=="object"?o(...Object.values(l)):a.push(l)};return o(...s.map(r=>this.properties[r])),a}getKeys(e){return this.getDirectionValues(e,this.directionKeys)}getKeyProperties(e){return this.directionKeys[this.resolveKeyDirection(e)]??[]}getNames(e){return this.getDirectionValues(e,this.directionNames)}resolveKeyDirection(e){return e}getDomain(e){const i=this.getSeriesDomain(e),n=this.moduleMap.mapModules(s=>s.getDomain(e)).flat();return n.length!==0?i.concat(n):i}getRange(e,i){return this.getSeriesRange(e,i)}getVisibleItems(e,i,n){return 1/0}getGradientFillOptions({bounds:e},i){const{axes:n}=this,s=n.x,a=n.y,o=(s==null?void 0:s.range)??[0,1],r=(a==null?void 0:a.range)??[0,1],[l,c]=Hn(o),[h,p]=Hn(r),f=c-l,y=p-h;let m=[0,1];return e==="series"?m=this.getSeriesDomain("y"):e==="axes"&&(m=(a==null?void 0:a.scale.domain)??[0,1]),{bbox:new Rt(l,h,f,y),domain:m,defaultColorRange:i}}markNodeDataDirty(){this.nodeDataRefresh=!0,this._pickNodeCache.clear(),this.visibleMaybeChanged()}visibleMaybeChanged(){this.ctx.seriesStateManager.updateSeries(this)}getOpacity(){const{dimOpacity:i=1,enabled:n=!0}=this.properties.highlightStyle.series;if(!n||i===1)return 1;switch(this.isItemIdHighlighted()){case 0:case 1:return 1;case 2:default:return i}}getStrokeWidth(e){const{strokeWidth:i,enabled:n=!0}=this.properties.highlightStyle.series;if(!n||i===void 0)return e;switch(this.isItemIdHighlighted()){case 1:return i;case 0:case 2:return e}}isItemIdHighlighted(){var i,n;const e=(n=(i=this.ctx.highlightManager)==null?void 0:i.getActiveHighlight())==null?void 0:n.series;return e==null?0:e!==this?2:1}getModuleTooltipParams(){return this.moduleMap.mapModules(e=>e.getTooltipParams()).reduce((e,i)=>Object.assign(e,i),{})}pickNode(e,i,n=!1){const{pickModes:s,pickModeAxis:a,visible:o,contentGroup:r}=this;if(!o||!r.visible||i==="highlight"&&!this.properties.highlight.enabled||i==="highlight-tooltip"&&!this.properties.highlight.enabled)return;let l=1/0;if(i==="tooltip"||i==="highlight-tooltip"){const{tooltip:y}=this.properties;l=typeof y.range=="number"?y.range:1/0,n||(n=y.range==="exact")}else if(i==="event"||i==="context-menu"){const{nodeClickRange:y}=this.properties;l=typeof y=="number"?y:1/0,n||(n=y==="exact")}const c=s.filter(y=>!n||y===0),{x:h,y:p}=e,f=JSON.stringify({x:h,y:p,maxDistance:l,selectedPickModes:c});if(this._pickNodeCache.has(f))return this._pickNodeCache.get(f);for(const y of c){let m;switch(y){case 0:m=this.pickNodeExactShape(e);break;case 1:m=this.pickNodeClosestDatum(e);break;case 2:m=a!=null?this.pickNodeMainAxisFirst(e,a==="main-category"):void 0;break}if(m&&m.distance<=l)return this._pickNodeCache.set(f,{pickMode:y,match:m.datum,distance:m.distance})}return this._pickNodeCache.set(f,void 0)}pickNodeExactShape(e){const i=this.contentGroup.pickNode(e.x,e.y);if(i&&i.datum.missing!==!0)return{datum:i.datum,distance:0}}pickNodeClosestDatum(e){throw new Error("AG Charts - Series.pickNodeClosestDatum() not implemented")}pickNodeNearestDistantObject(e,i){const n=AA(e.x,e.y,i);if(n.nearest!==void 0&&n.nearest.datum.missing!==!0)return{datum:n.nearest.datum,distance:Math.sqrt(n.distanceSquared)}}pickNodeMainAxisFirst(e,i){throw new Error("AG Charts - Series.pickNodeMainAxisFirst() not implemented")}getLabelData(){return[]}updatePlacedLabelData(e){}fireNodeClickEvent(e,i){this.fireEvent(new this.NodeEvent("nodeClick",e,i,this))}fireNodeDoubleClickEvent(e,i){this.fireEvent(new this.NodeEvent("nodeDoubleClick",e,i,this))}createNodeContextMenuActionEvent(e,i){return new this.NodeEvent("nodeContextMenuAction",e,i,this)}onLegendInitialState(e,i){const{visible:n=!0,itemId:s,legendItemName:a}=i??{};this.toggleSeriesItem(n,e,s,a)}onLegendItemClick(e){const{enabled:i,itemId:n,series:s,legendType:a}=e,o="legendItemName"in this.properties?this.properties.legendItemName:void 0,r="legendItemKey"in this.properties?this.properties.legendItemKey:void 0,l=o!=null&&o===e.legendItemName;(s.id===this.id||l||r!=null)&&this.toggleSeriesItem(i,a,n,o,e)}onLegendItemDoubleClick(e){const{enabled:i,itemId:n,series:s,numVisibleItems:a,legendType:o}=e,r="legendItemName"in this.properties?this.properties.legendItemName:void 0,l="legendItemKey"in this.properties?this.properties.legendItemKey:void 0,c=r!=null&&r===e.legendItemName;s.id===this.id||c||l!=null?this.toggleSeriesItem(!0,o,n,r,e):i&&a===1?this.toggleSeriesItem(!0,o,void 0,r):this.toggleSeriesItem(!1,o,void 0,r)}toggleSeriesItem(e,i,n,s,a){const o=this.id;(e||i!=="category")&&(this.visible=e),this.nodeDataRefresh=!0,this._pickNodeCache.clear();const r={type:"seriesVisibilityChange",seriesId:o,itemId:n,legendItemName:(a==null?void 0:a.legendItemName)??s,visible:e};this.fireEvent(r),this.ctx.legendManager.toggleItem({enabled:e,seriesId:o,itemId:n,legendItemName:s})}isEnabled(){return this.visible}getModuleMap(){return this.moduleMap}createModuleContext(){return{...this.ctx,series:this}}getLabelText(e,i,n=kc){return e.formatter?this.ctx.callbackCache.call(e.formatter,{seriesId:this.id,...i})??n(i.value):n(i.value)}getMarkerStyle(e,i,n=e.getStyle()){var o;const s={size:((o=i.datum.point)==null?void 0:o.size)??0},a=ne(s,n);if(e.itemStyler){const r=this.ctx.callbackCache.call(e.itemStyler,{seriesId:this.id,...a,...i,datum:i.datum.datum});return ne(r,a)}return a}updateMarkerStyle(e,i,n,s=i.getStyle(),{applyTranslation:a=!0,selected:o=!0}={}){const{point:r}=n.datum,l=this.getMarkerStyle(i,n,s),c=this.visible&&l.size>0&&r&&!isNaN(r.x)&&!isNaN(r.y);if(a?e.setProperties({visible:c,...l,translationX:r==null?void 0:r.x,translationY:r==null?void 0:r.y}):e.setProperties({visible:c,...l}),o||(e.fillOpacity*=uct,e.strokeOpacity*=hct),typeof i.shape=="function"&&!e.dirtyPath){e.path.clear(!0),e.updatePath(),e.checkPathDirty();const h=e.getBBox();if(r!==void 0&&h.isFinite()){const p=h.computeCenter(),[f,y]=["x","y"].map(m=>(l.strokeWidth??0)+Math.abs(p[m]-r[m]));r.focusSize=Math.max(h.width+f,h.height+y)}}}get nodeDataDependencies(){return this._nodeDataDependencies??{seriesRectWidth:NaN,seriesRectHeight:NaN}}checkResize(e){const{width:i,height:n}=e??{width:NaN,height:NaN},s=e?{seriesRectWidth:i,seriesRectHeight:n}:void 0,a=Lc(this.nodeDataDependencies,s)!=null;return a&&(this._nodeDataDependencies=s,this.markNodeDataDirty()),a}pickFocus(e){}resetDatumCallbackCache(){this.datumCallbackCache.clear()}cachedDatumCallback(e,i){const{datumCallbackCache:n}=this,s=n.get(e);if(s!=null)return s;const a=i();return n.set(e,a),a}};N([Ma({changeValue:function(t,e){this.onSeriesGroupingChange(e,t)}})],ZA.prototype,"seriesGrouping",2);function dct(t,e){const i=-e/t;return t!==0&&i>=0&&i<=1?[i]:[]}function pct(t,e,i){if(t===0)return dct(e,i);const n=e*e-4*t*i,s=[];if(n===0){const a=-e/(2*t);a>=0&&a<=1&&s.push(a)}else if(n>0){const a=Math.sqrt(n),o=(-e-a)/(2*t),r=(-e+a)/(2*t);o>=0&&o<=1&&s.push(o),r>=0&&r<=1&&s.push(r)}return s}function fct(t,e,i,n){if(t===0)return pct(e,i,n);const s=e/t,a=i/t,o=n/t,r=(3*a-s*s)/9,l=(9*s*a-27*o-2*s*s*s)/54,c=r*r*r+l*l,h=1/3,p=[];if(c>=0){const f=Math.sqrt(c),y=Math.sign(l+f)*Math.pow(Math.abs(l+f),h),m=Math.sign(l-f)*Math.pow(Math.abs(l-f),h),b=Math.abs(Math.sqrt(3)*(y-m)/2),S=-.3333333333333333*s+(y+m);if(S>=0&&S<=1&&p.push(S),b===0){const v=-.3333333333333333*s-(y+m)/2;v>=0&&v<=1&&p.push(v)}}else{const f=Math.acos(l/Math.sqrt(-r*r*r)),y=h*s,m=2*Math.sqrt(-r),b=m*Math.cos(h*f)-y,S=m*Math.cos(h*(f+2*Math.PI))-y,v=m*Math.cos(h*(f+4*Math.PI))-y;b>=0&&b<=1&&p.push(b),S>=0&&S<=1&&p.push(S),v>=0&&v<=1&&p.push(v)}return p}function Zf(t,e,i,n,s,a,o,r){const l=(i-t)*(r-a)-(n-e)*(o-s);if(l===0)return 0;const c=((o-s)*(e-a)-(t-s)*(r-a))/l,h=((i-t)*(e-a)-(n-e)*(t-s))/l;return c>=0&&c<=1&&h>=0&&h<=1?1:0}function gct(t,e,i,n,s,a,o,r,l,c,h,p){let f=0;const y=c-p,m=h-l,b=l*(p-c)-c*(h-l),S=lj(t,i,s,o),v=lj(e,n,a,r),D=y*S[0]+m*v[0],I=y*S[1]+m*v[1],T=y*S[2]+m*v[2],k=y*S[3]+m*v[3]+b,E=fct(D,I,T,k);for(const w of E){const R=w*w,O=w*R,L=S[0]*O+S[1]*R+S[2]*w+S[3],F=v[0]*O+v[1]*R+v[2]*w+v[3];let z;l===h?z=(F-c)/(p-c):z=(L-l)/(h-l),z>=0&&z<=1&&f++}return f}function lj(t,e,i,n){return[-t+3*e-3*i+n,3*t-6*e+3*i,-3*t+3*e,t]}function DW(t,e,i,n,s,a,o,r,l,c){if(isNaN(t)||isNaN(e))return 0;a&&([s,n]=[n,s]);const h=(c-r)/(l-o),p=r-h*o,f=Math.pow(h,2)+1,y=2*(h*(p-e)-t),m=Math.pow(t,2)+Math.pow(p-e,2)-Math.pow(i,2),b=Math.pow(y,2)-4*f*m;if(b<0)return 0;const S=(-y+Math.sqrt(b))/2/f,v=(-y-Math.sqrt(b))/2/f;let D=0;return[S,v].forEach(I=>{if(!(I>=Math.min(o,l)&&I<=Math.max(o,l)))return;const k=h*I+p,E=I-t,w=k-e,R=Math.atan2(w,E);Hu(R,n,s)&&D++}),D}function RM(t,e,i,n,s){return(1-s)**3*t+3*(1-s)**2*s*e+3*(1-s)*s**2*i+s**3*n}function PM(t,e,i,n,s){if(s<=Math.min(t,n))return t<n?0:1;if(s>=Math.max(t,n))return t<n?1:0;let a=0,o=1,r=NaN;for(let l=0;l<12;l+=1)r=(a+o)/2,RM(t,e,i,n,r)<s?a=r:o=r;return r}function BM(t,e,i,n,s,a,o,r,l){const c=(1-l)*t+l*i,h=(1-l)*e+l*n,p=(1-l)*i+l*s,f=(1-l)*n+l*a,y=(1-l)*s+l*o,m=(1-l)*a+l*r,b=(1-l)*c+l*p,S=(1-l)*h+l*f,v=(1-l)*p+l*y,D=(1-l)*f+l*m,I=(1-l)*b+l*v,T=(1-l)*S+l*D;return[[{x:t,y:e},{x:c,y:h},{x:b,y:S},{x:I,y:T}],[{x:I,y:T},{x:v,y:D},{x:y,y:m},{x:o,y:r}]]}function SL(t,e,i,n){const s=-t+3*e-3*i+n,a=3*t-6*e+3*i,o=-3*t+3*e;if(s===0){if(a!==0){const l=-o/a;if(l>0&&l<1)return[l]}return[]}const r=a*a-4*s*o;if(r>=0){const l=Math.sqrt(r),c=(-a+l)/(2*s),h=(-a-l)/(2*s);return[c,h].filter(p=>p>0&&p<1)}return[]}function IW(t,e,i,n,s,a,o,r){const l=SL(t,i,s,o),c=SL(e,n,a,r);return[...l,...c]}var Lx=class{constructor(){this.path2d=new Path2D,this.previousCommands=[],this.previousParams=[],this.previousClosedPath=!1,this.commands=[],this.params=[],this.openedPath=!1,this.closedPath=!1}isEmpty(){return this.commands.length===0}isDirty(){return this.closedPath!==this.previousClosedPath||this.previousCommands.length!==this.commands.length||this.previousParams.length!==this.params.length||this.previousCommands.toString()!==this.commands.toString()||this.previousParams.toString()!==this.params.toString()}getPath2D(){return this.path2d}moveTo(e,i){this.openedPath=!0,this.path2d.moveTo(e,i),this.commands.push(0),this.params.push(e,i)}lineTo(e,i){this.openedPath?(this.path2d.lineTo(e,i),this.commands.push(1),this.params.push(e,i)):this.moveTo(e,i)}rect(e,i,n,s){this.moveTo(e,i),this.lineTo(e+n,i),this.lineTo(e+n,i+s),this.lineTo(e,i+s),this.closePath()}roundRect(e,i,n,s,a){a=Math.min(a,n/2,s/2),this.moveTo(e,i+a),this.arc(e+a,i+a,a,Math.PI,1.5*Math.PI),this.lineTo(e+a,i),this.lineTo(e+n-a,i),this.arc(e+n-a,i+a,a,1.5*Math.PI,2*Math.PI),this.lineTo(e+n,i+a),this.lineTo(e+n,i+s-a),this.arc(e+n-a,i+s-a,a,0,Math.PI/2),this.lineTo(e+n-a,i+s),this.lineTo(e+a,i+s),this.arc(e+ +a,i+s-a,a,Math.PI/2,Math.PI),this.lineTo(e,i+s-a),this.closePath()}arc(e,i,n,s,a,o){this.openedPath=!0,this.path2d.arc(e,i,n,s,a,o),this.commands.push(2),this.params.push(e,i,n,s,a,o?1:0)}cubicCurveTo(e,i,n,s,a,o){this.openedPath||this.moveTo(e,i),this.path2d.bezierCurveTo(e,i,n,s,a,o),this.commands.push(3),this.params.push(e,i,n,s,a,o)}closePath(){this.openedPath&&(this.path2d.closePath(),this.commands.push(4),this.openedPath=!1,this.closedPath=!0)}clear(e){e&&(this.previousCommands=this.commands,this.previousParams=this.params,this.previousClosedPath=this.closedPath),this.path2d=new Path2D,this.openedPath=!1,this.closedPath=!1,this.commands=[],this.params=[]}isPointInPath(e,i){const n=this.commands,s=this.params,a=n.length,o=-1e4,r=-1e4;let l=NaN,c=NaN,h=0,p=0,f=0;for(let y=0,m=0;y<a;y++)switch(n[y]){case 0:f+=Zf(l,c,h,p,o,r,e,i),h=s[m++],l=h,p=s[m++],c=p;break;case 1:f+=Zf(h,p,s[m++],s[m++],o,r,e,i),h=s[m-2],p=s[m-1];break;case 3:f+=gct(h,p,s[m++],s[m++],s[m++],s[m++],s[m++],s[m++],o,r,e,i),h=s[m-2],p=s[m-1];break;case 2:{const b=s[m++],S=s[m++],v=s[m++],D=s[m++],I=s[m++],T=!!s[m++];if(f+=DW(b,S,v,D,I,T,o,r,e,i),!isNaN(l)){const k=b+Math.cos(D)*v,E=S+Math.sin(D)*v;f+=Zf(h,p,k,E,o,r,e,i)}h=b+Math.cos(I)*v,p=S+Math.sin(I)*v;break}case 4:f+=Zf(l,c,h,p,o,r,e,i);break}return f%2===1}distanceSquared(e,i){let n=1/0;const s=this.commands,a=this.params,o=s.length;let r=NaN,l=NaN,c=0,h=0;for(let p=0,f=0;p<o;p++)switch(s[p]){case 0:c=r=a[f++],h=l=a[f++];break;case 1:{const y=a[f++],m=a[f++];n=rx(e,i,c,h,y,m,n);break}case 3:It.error("Command.Curve distanceSquare not implemented");break;case 2:{const y=a[f++],m=a[f++],b=a[f++],S=a[f++],v=a[f++],D=y+Math.cos(S)*b,I=m+Math.sin(S)*b,T=!!a[f++];n=rx(e,i,c,h,D,I,n),n=Mot(e,i,y,m,b,S,v,T,n),c=y+Math.cos(v)*b,h=m+Math.sin(v)*b;break}case 4:n=rx(e,i,c,h,r,l,n);break}return n}toSVG(e=(i,n)=>({x:i,y:n})){const i=[],{commands:n,params:s}=this,a=(r,...l)=>{i.push(r);for(let c=0;c<l.length;c+=2){const{x:h,y:p}=e(l[c],l[c+1]);i.push(h,p)}};let o=0;for(const r of n)switch(r){case 0:a("M",s[o++],s[o++]);break;case 1:a("L",s[o++],s[o++]);break;case 3:a("C",s[o++],s[o++],s[o++],s[o++],s[o++],s[o++]);break;case 2:{const l=s[o++],c=s[o++],h=s[o++],p=s[o++],f=s[o++],y=s[o++];let m=y?p-f:f-p;m<0&&(m+=Math.ceil(-m/(2*Math.PI))*2*Math.PI),y&&(m=-m);const b=Math.max(Math.ceil(Math.abs(m)/(Math.PI/2)),1),S=m/b,v=4/3*Math.tan(S/4),D=i.length===0?"M":"L";a(D,l+Math.cos(p)*h,c+Math.sin(p)*h);for(let I=0;I<b;I+=1){const T=p+S*(I+0),k=p+S*(I+1),E=h*Math.sin(T),w=h*Math.cos(T),R=h*Math.sin(k),O=h*Math.cos(k);a("C",l+w-v*E,c+E+v*w,l+O+v*R,c+R-v*O,l+O,c+R)}break}case 4:i.push("Z");break}return i.join(" ")}computeBBox(){const{commands:e,params:i}=this;let[n,s,a,o]=[1/0,1/0,-1/0,-1/0],[r,l]=[NaN,NaN],[c,h]=[NaN,NaN];const p=(y,m,b)=>{n=Math.min(m,n),s=Math.min(y,s),a=Math.max(y,a),o=Math.max(m,o),b&&([r,l]=[y,m])};let f=0;for(const y of e)switch(y){case 0:p(i[f++],i[f++],!0),[c,h]=[r,l];break;case 1:p(i[f++],i[f++],!0);break;case 3:{const m=i[f++],b=i[f++],S=i[f++],v=i[f++],D=i[f++],I=i[f++];p(D,I,!0),IW(r,l,m,b,S,v,D,I).forEach(k=>{const E=RM(r,m,S,D,k),w=RM(l,b,v,I,k);p(E,w)});break}case 2:{const m=i[f++],b=i[f++],S=i[f++];let v=si(i[f++]),D=si(i[f++]);i[f++]&&([v,D]=[D,v]);const T=(E,w)=>{const R=m+S*Math.cos(E),O=b+S*Math.sin(E);p(R,O,w)};T(v),T(D,!0);const k=[0,Math.PI/2,Math.PI,3*Math.PI/2];for(const E of k)(v<D&&v<=E&&E<=D||v>D&&(v<=E||E<=D))&&T(E);break}case 4:[r,l]=[c,h];break}return new Rt(s,n,a-s,o-n)}};function Zt(t){const{changeCb:e,convertor:i}=t??{};return Et({type:"path",convertor:i,changeCb:e})}var na=class extends Go{constructor(){super(...arguments),this.path=new Lx,this._clipX=NaN,this._clipY=NaN,this.clip=!1,this._dirtyPath=!0,this.lastPixelRatio=NaN}set clipX(e){this._clipX=e,this.dirtyPath=!0}set clipY(e){this._clipY=e,this.dirtyPath=!0}set dirtyPath(e){this._dirtyPath!==e&&(this._dirtyPath=e,e&&this.markDirty())}get dirtyPath(){return this._dirtyPath}checkPathDirty(){var e,i;this._dirtyPath||(this.dirtyPath=this.path.isDirty()||(((e=this.fillShadow)==null?void 0:e.isDirty())??!1)||(((i=this._clipPath)==null?void 0:i.isDirty())??!1))}isPointInPath(e,i){return this.updatePathIfDirty(),this.path.closedPath&&this.path.isPointInPath(e,i)}distanceSquared(e,i){return this.distanceSquaredTransformedPoint(e,i)}svgPathData(e){return this.updatePathIfDirty(),this.path.toSVG(e)}distanceSquaredTransformedPoint(e,i){return this.updatePathIfDirty(),this.path.closedPath&&this.path.isPointInPath(e,i)?0:this.path.distanceSquared(e,i)}isDirtyPath(){return!1}updatePath(){}updatePathIfDirty(){(this.dirtyPath||this.isDirtyPath())&&(this.updatePath(),this.dirtyPath=!1)}preRender(e){return e.devicePixelRatio!==this.lastPixelRatio&&(this.dirtyPath=!0),this.lastPixelRatio=e.devicePixelRatio,this.updatePathIfDirty(),super.preRender(e,this.path.commands.length)}render(e){var n,s;const{ctx:i}=e;if(this.clip&&!isNaN(this._clipX)&&!isNaN(this._clipY)){i.save();const a=this.strokeWidth/2;this._clipPath??(this._clipPath=new Lx),this._clipPath.clear(),this._clipPath.rect(-a,-a,this._clipX+a,this._clipY+a+a),i.clip((n=this._clipPath)==null?void 0:n.getPath2D()),this._clipX>0&&this._clipY>0&&this.drawPath(i),i.restore()}else this._clipPath=void 0,this.drawPath(i);(s=this.fillShadow)==null||s.markClean(),super.render(e)}drawPath(e){this.fillStroke(e,this.path.getPath2D())}toSVG(){if(!this.visible)return;const e=zo("path");return e.setAttribute("d",this.svgPathData()),this.applySvgFillAttributes(e),this.applySvgStrokeAttributes(e),{elements:[e]}}};na.className="Path";N([Zt()],na.prototype,"clip",2);N([Zt()],na.prototype,"clipX",1);N([Zt()],na.prototype,"clipY",1);var yct=class{constructor(t){this.swapChain=t,this.div=le("div"),this.svg=zo("svg"),this.outerPath=zo("path"),this.innerPath=zo("path"),this.svg.append(this.outerPath),this.svg.append(this.innerPath),this.outerPath.classList.add("ag-charts-focus-svg-outer-path"),this.innerPath.classList.add("ag-charts-focus-svg-inner-path"),this.element=le("div","ag-charts-focus-indicator"),this.element.ariaHidden="true",this.element.append(this.svg),this.swapChain.addListener("swap",e=>this.onSwap(e))}clear(){}update(t,e,i){if(e!=null)if(t instanceof na){const n=(a,o)=>{let{x:r,y:l}=Ni.toCanvasPoint(t,a,o);return r-=e.x??0,l-=e.y??0,{x:r,y:l}},s=t.svgPathData(n);this.outerPath.setAttribute("d",s),this.innerPath.setAttribute("d",s),this.show(this.svg)}else{let n;if(i){const s=Math.max(t.x-e.x,0),a=Math.max(t.y-e.y,0),o=Math.min(t.x+t.width-e.x,e.width),r=Math.min(t.y+t.height-e.y,e.height);n=new Rt(s,a,o-s,r-a)}else n=new Rt(t.x-e.x,t.y-e.y,t.width,t.height);NM(this.div,n),this.show(this.div)}}onSwap(t){t!==this.element.parentElement&&(this.element.remove(),t.appendChild(this.element),this.overrideFocusVisible(this.focusVisible))}show(t){this.element.innerHTML="",this.element.append(t)}overrideFocusVisible(t){this.focusVisible=t;const e={true:"1",false:"0",undefined:""},i=this.element.parentElement;i==null||i.style.setProperty("opacity",e[`${t}`])}isFocusVisible(){const t=this.element.parentElement;return t!=null&&ai().getComputedStyle(t).opacity==="1"}},mct=class{constructor(t,e,i,n){this.label1=t,this.label2=e,this.hasFocus=!1,this.skipDispatch=!1,this.listeners={blur:[],focus:[],swap:[]},this.onBlur=s=>(gr(s.target,"pointer-events",void 0),!this.skipDispatch&&this.dispatch("blur",s)),this.onFocus=s=>(gr(s.target,"pointer-events","auto"),!this.skipDispatch&&this.dispatch("focus",s)),We(this.label1,"id",`${i}-label1`),We(this.label2,"id",`${i}-label2`),gr(this.label1,"display","none"),gr(this.label2,"display","none"),this.activeAnnouncer=this.createAnnouncer(n),this.inactiveAnnouncer=this.createAnnouncer(n),We(this.activeAnnouncer,"tabindex",0),this.label2.insertAdjacentElement("afterend",this.activeAnnouncer),this.label2.insertAdjacentElement("afterend",this.inactiveAnnouncer),this.swap("")}createAnnouncer(t){const e=le("div");return e.role=t,e.className="ag-charts-swapchain",e.addEventListener("blur",this.onBlur),e.addEventListener("focus",this.onFocus),e}destroy(){for(const t of[this.activeAnnouncer,this.inactiveAnnouncer])t.removeEventListener("blur",this.onBlur),t.removeEventListener("focus",this.onFocus),t.remove()}focus(t){this.focusOptions=t,this.activeAnnouncer.focus(t),this.focusOptions=void 0}update(t){this.skipDispatch=!0,this.swap(t),this.hasFocus&&this.activeAnnouncer.focus(this.focusOptions),this.skipDispatch=!1}addListener(t,e){this.listeners[t].push(e),t==="swap"&&e(this.activeAnnouncer)}dispatch(t,e){t==="focus"?this.hasFocus=!0:t==="blur"&&(this.hasFocus=!1),this.listeners[t].forEach(i=>i(e))}swap(t){const e=this.activeAnnouncer.tabIndex;this.label2.textContent=t,[this.inactiveAnnouncer,this.activeAnnouncer]=[this.activeAnnouncer,this.inactiveAnnouncer],[this.label1,this.label2]=[this.label2,this.label1],$d(this.inactiveAnnouncer,{"aria-labelledby":this.label1.id,"aria-hidden":!0,tabindex:void 0}),$d(this.activeAnnouncer,{"aria-labelledby":this.label1.id,"aria-hidden":!1,tabindex:e}),this.dispatch("swap",this.activeAnnouncer)}},xct={arrowdown:{bindings:[{code:"ArrowDown"}]},arrowleft:{bindings:[{code:"ArrowLeft"}]},arrowright:{bindings:[{code:"ArrowRight"}]},arrowup:{bindings:[{code:"ArrowUp"}]},delete:{bindings:[{key:"Backspace"},{key:"Delete"}],activatesFocusIndicator:!1},redo:{bindings:[{key:"y",ctrlOrMeta:!0},{key:"z",ctrlOrMeta:!0,shift:!0}],activatesFocusIndicator:!1},undo:{bindings:[{key:"z",ctrlOrMeta:!0}],activatesFocusIndicator:!1},submit:{bindings:[{key:"Enter"},{code:"Enter"},{code:"Space"}]},zoomin:{bindings:[{key:"+"},{code:"ZoomIn"},{code:"Add"}],activatesFocusIndicator:!1},zoomout:{bindings:[{key:"-"},{code:"ZoomOut"},{code:"Substract"}],activatesFocusIndicator:!1}};function bct(t,e){for(const i of e)if("code"in i){if(i.code===t.code)return!0}else if(i.key===t.key&&(i.shift===void 0||i.shift===t.shiftKey)&&(i.ctrlOrMeta===void 0||i.ctrlOrMeta===t.ctrlKey||i.ctrlOrMeta===t.metaKey))return!0;return!1}function vct(t){for(const[e,{activatesFocusIndicator:i=!0,bindings:n}]of Object.entries(xct))if(bct(t,n))return{name:e,activatesFocusIndicator:i}}function Sct(t,e,i){const n=gE(t,i.datum);if(n!=null)return{x:n.canvasX,y:n.canvasY};const s=i.bounds;if(s!=null){if(s instanceof Rt){const{x:a,y:o}=s.computeCenter();return{x:e.x+a,y:e.y+o}}return Ni.toCanvas(s).computeCenter()}}function Mct({bounds:t}){return t instanceof Rt?t:t!=null?Ni.toCanvas(t):Rt.NaN}function Act(t,e,i){const{x:n,y:s}=Sct(t,e,i)??{};if(n!==void 0&&s!==void 0)return{type:"keyboard",canvasX:n,canvasY:s}}function ML(t,e,i,n){let{top:s,right:a,bottom:o,left:r,width:l,height:c}=n;return r!=null?l!=null?a=i.width-r+l:a!=null&&(l=i.width-r-a):a!=null&&l!=null&&(r=i.width-a-l),s!=null?c!=null?o=i.height-s-c:o!=null&&(c=i.height-o-s):o!=null&&c!=null&&(s=i.height-o-c),l==null?c==null?(l=t,c=e):l=Math.ceil(t*c/e):c==null&&(c=Math.ceil(e*l/t)),r==null&&(a==null?r=Math.floor((i.width-l)/2):r=i.width-a-l),s==null&&(o==null?s=Math.floor((i.height-c)/2):s=i.height-c-o),{x:r,y:s,width:l,height:c}}var Y0=null;function ng(t){if(t!=null)return t===""?"":(Y0??(Y0=le("div")),Y0.textContent=String(t),Y0.innerHTML)}function Km(t,e){const{path:i,size:n}=t,{x:s,y:a}=t;i.clear();let o=!1;for(const[r,l]of e){const c=s+(r-.5)*n,h=a+(l-.5)*n;o?i.lineTo(c,h):i.moveTo(c,h),o=!0}i.closePath()}var Dct={circle({path:t,x:e,y:i,size:n}){const s=n/2;t.clear(),t.arc(e,i,s,0,Math.PI*2),t.closePath()},cross(t){Km(t,[[.25,0],[.5,.25],[.75,0],[1,.25],[.75,.5],[1,.75],[.75,1],[.5,.75],[.25,1],[0,.75],[.25,.5],[0,.25]])},diamond(t){Km(t,[[.5,0],[1,.5],[.5,1],[0,.5]])},heart({path:t,x:e,y:i,size:n}){const s=n/4;i=i+s/2,t.clear(),t.arc(e-s,i-s,s,bn(130),bn(330)),t.arc(e+s,i-s,s,bn(220),bn(50)),t.lineTo(e,i+s),t.closePath()},pin({path:t,x:e,y:i,size:n}){t.moveTo(e+(.15625-.5)*n,i+(.34375-.5)*n),t.cubicCurveTo(e+(.15625-.5)*n,i+(.151491-.5)*n,e+(.307741-.5)*n,i+(0-.5)*n,e+(.5-.5)*n,i+(0-.5)*n),t.cubicCurveTo(e+(.692259-.5)*n,i+(0-.5)*n,e+(.84375-.5)*n,i+(.151491-.5)*n,e+(.84375-.5)*n,i+(.34375-.5)*n),t.cubicCurveTo(e+(.84375-.5)*n,i+(.493824-.5)*n,e+(.784625-.5)*n,i+(.600181-.5)*n,e+(.716461-.5)*n,i+(.695393-.5)*n),t.cubicCurveTo(e+(.699009-.5)*n,i+(.719769-.5)*n,e+(.681271-.5)*n,i+(.743104-.5)*n,e+(.663785-.5)*n,i+(.766105-.5)*n),t.cubicCurveTo(e+(.611893-.5)*n,i+(.834367-.5)*n,e+(.562228-.5)*n,i+(.899699-.5)*n,e+(.528896-.5)*n,i+(.980648-.5)*n),t.cubicCurveTo(e+(.524075-.5)*n,i+(.992358-.5)*n,e+(.512663-.5)*n,i+(1-.5)*n,e+(.5-.5)*n,i+(1-.5)*n),t.cubicCurveTo(e+(.487337-.5)*n,i+(1-.5)*n,e+(.475925-.5)*n,i+(.992358-.5)*n,e+(.471104-.5)*n,i+(.980648-.5)*n),t.cubicCurveTo(e+(.487337-.5)*n,i+(1-.5)*n,e+(.475925-.5)*n,i+(.992358-.5)*n,e+(.471104-.5)*n,i+(.980648-.5)*n),t.cubicCurveTo(e+(.437772-.5)*n,i+(.899699-.5)*n,e+(.388107-.5)*n,i+(.834367-.5)*n,e+(.336215-.5)*n,i+(.766105-.5)*n),t.cubicCurveTo(e+(.318729-.5)*n,i+(.743104-.5)*n,e+(.300991-.5)*n,i+(.719769-.5)*n,e+(.283539-.5)*n,i+(.695393-.5)*n),t.cubicCurveTo(e+(.215375-.5)*n,i+(.600181-.5)*n,e+(.15625-.5)*n,i+(.493824-.5)*n,e+(.15625-.5)*n,i+(.34375-.5)*n),t.closePath()},plus(t){Km(t,[[1/3,0],[2/3,0],[2/3,1/3],[1,1/3],[1,2/3],[2/3,2/3],[2/3,1],[1/3,1],[1/3,2/3],[0,2/3],[0,1/3],[1/3,1/3]])},square({path:t,x:e,y:i,size:n,pixelRatio:s}){const a=n/2;t.clear(),t.moveTo(ac(s,e-a),ac(s,i-a)),t.lineTo(ac(s,e+a),ac(s,i-a)),t.lineTo(ac(s,e+a),ac(s,i+a)),t.lineTo(ac(s,e-a),ac(s,i+a)),t.closePath()},star({path:t,x:e,y:i,size:n}){const a=n/2,o=a/2,r=Math.PI/2;for(let l=0;l<5*2;l++){const c=l%2===0?a:o,h=l*Math.PI/5-r,p=e+Math.cos(h)*c,f=i+Math.sin(h)*c;t.lineTo(p,f)}t.closePath()},triangle(t){Km(t,[[.5,0],[1,.87],[0,.87]])}},Ab=class extends na{constructor(){super(...arguments),this.shape="square",this.x=0,this.y=0,this.size=12}updatePath(){var l,c;const{path:t,shape:e,x:i,y:n,size:s}=this,a=((c=(l=this.layerManager)==null?void 0:l.canvas)==null?void 0:c.pixelRatio)??1,o=En.anchor(e),r={path:t,x:i-(o.x-.5)*s,y:n-(o.y-.5)*s,size:s,pixelRatio:a};t.clear(),typeof e=="string"?Dct[e](r):typeof e=="function"&&e(r)}computeBBox(){const{x:t,y:e,size:i}=this,n=En.anchor(this.shape);return new Rt(t-i*n.x,e-i*n.y,i,i)}executeFill(t,e){if(e)return super.executeFill(t,e)}executeStroke(t,e){if(e)return super.executeStroke(t,e)}};N([Zt()],Ab.prototype,"shape",2);N([Zt()],Ab.prototype,"x",2);N([Zt()],Ab.prototype,"y",2);N([Zt({convertor:Math.abs})],Ab.prototype,"size",2);var En=class extends Ag(GN(ep(Ab))){static anchor(e){return e==="pin"?{x:.5,y:1}:typeof e=="function"&&"anchor"in e?e.anchor:{x:.5,y:.5}}constructor(e){super(e),(e==null?void 0:e.shape)!=null&&(this.shape=e.shape)}};function TW(t,e,i=e*(5/3)){var l;const n=new Kt,s=Math.min(t.marker.strokeWidth,2),a=Math.min(((l=t.line)==null?void 0:l.strokeWidth)??0,2),o=Math.max(t.marker.enabled===!1?0:e,t.line==null?0:i),r=Math.max(t.marker.enabled===!1?0:e,a);if(t.line!=null){const{stroke:c,strokeOpacity:h,lineDash:p}=t.line,f=new Ka;f.x1=0,f.y1=r/2,f.x2=o,f.y2=r/2,f.stroke=c,f.strokeOpacity=h,f.strokeWidth=a,f.lineDash=p,n.append(f)}if(t.marker.enabled!==!1){const{shape:c,fill:h,fillOpacity:p,stroke:f,strokeOpacity:y,lineDash:m,lineDashOffset:b}=t.marker,S=new En;S.shape=c??"square",S.size=e,S.fill=h,S.fillOpacity=p,S.stroke=f,S.strokeOpacity=y,S.strokeWidth=s,S.lineDash=m,S.lineDashOffset=b;const v=En.anchor(c),D=o/2+(v.x-.5)*e,I=r/2+(v.y-.5)*e,T=e/(e+s);S.x=0,S.y=0,S.translationX=D,S.translationY=I,S.scalingX=T,S.scalingY=T,n.append(S)}return Kt.toSVG(n,o,r)}var cj=.1,uj=200,hj=12,Ict=.5,Tct=class extends zc{constructor(){super(...arguments),this.x1=NaN,this.y1=NaN,this.x=NaN,this.y=NaN,this.vx=0,this.vy=0,this.t0=NaN,this.animationFrameHandle=void 0}reset(){this.x=NaN,this.y=NaN,this.animationFrameHandle!=null&&(cancelAnimationFrame(this.animationFrameHandle),this.animationFrameHandle=void 0)}update(t,e){if(Number.isNaN(this.x)||Number.isNaN(this.y)){this.x=t,this.y=e,this.vx=0,this.vy=0,this.emitUpdate(),this.animationFrameHandle!=null&&(cancelAnimationFrame(this.animationFrameHandle),this.animationFrameHandle=void 0);return}this.x1=t,this.y1=e,this.t0=Date.now(),this.animationFrameHandle==null&&(this.animationFrameHandle=requestAnimationFrame(this.onFrame.bind(this)))}onFrame(){this.animationFrameHandle=void 0;const{x1:t,y1:e,t0:i}=this,n=Date.now(),s=n-i;this.t0=n;const a=.001,o=Math.ceil(s/(a*1e3))|0;let{x:r,y:l,vx:c,vy:h}=this;for(let p=0;p<o;p+=1){const f=r-t,y=l-e,m=-(uj*f+hj*c)/cj,b=-(uj*y+hj*h)/cj;c+=m*a,h+=b*a,r+=c*a,l+=h*a}Math.hypot(r-t,l-e)<Ict?(this.x=this.x1,this.y=this.y1,this.vx=0,this.vy=0):(this.x=r,this.y=l,this.vx=c,this.vy=h,this.animationFrameHandle=requestAnimationFrame(this.onFrame.bind(this))),this.emitUpdate()}emitUpdate(){this.dispatch("update",{type:"update",x:this.x,y:this.y})}},Ts="ag-charts-tooltip",CW="ag-charts-tooltip--dark";function kW(t){var i;const e=[];return t.type==="raw"?"":(t.heading!=null&&e.push(t.heading),t.title!=null&&e.push(t.title),(i=t.data)==null||i.forEach(n=>{e.push(n.label??n.fallbackLabel,n.value)}),e.join("; "))}function dj(t,e,i){let n="";t==null?n+=`<span class="${Ts}-label">${ng(e)}</span>`:(n+=`<span class="${Ts}-label">${ng(t)}</span>`,n+=" ",n+=`<span class="${Ts}-value">${ng(e)}</span>`);const s=[`${Ts}-row`];return i&&s.push(`${Ts}-row--inline`),n=`<div class="${s.join(" ")}">${n}</div>`,n}function Cct(t){var i,n,s,a;if(t.type==="raw")return t.rawHtmlString;let e="";if((t.heading==null||t.title==null)&&((i=t.data)==null?void 0:i.length)===1&&t.data[0].label==null&&t.data[0].value!=null){const o=t.data[0];e+=dj(t.heading??t.title,o.value,!1)}else{const o=t.title==null&&((n=t.data)==null?void 0:n.length)===1;t.heading!=null&&(e+=`<span class="${Ts}-heading">${ng(t.heading)}</span>`,e+=" ");const r=t.symbol==null?void 0:TW(t.symbol,12);r!=null&&(t.title!=null||(s=t.data)!=null&&s.length)&&(e+=`<span class="${Ts}-symbol">${r}</span>`),t.title!=null&&(e+=`<span class="${Ts}-title">${ng(t.title)}</span>`,e+=" "),(a=t.data)==null||a.forEach(l=>{e+=dj(l.label??l.fallbackLabel,l.value,o),e+=" "})}return e=`<div class="${Ts}-content">${e.trimEnd()}</div>`,e}var Lg=class extends Qt{constructor(){super(...arguments),this.type="pointer",this.xOffset=0,this.yOffset=0}};N([P(Je(["pointer","node","top","right","bottom","left","top-left","top-right","bottom-right","bottom-left",{value:"sparkline",undocumented:!0},{value:"sparkline-",undocumented:!0}],"a position type"))],Lg.prototype,"type",2);N([P(fe)],Lg.prototype,"xOffset",2);N([P(fe)],Lg.prototype,"yOffset",2);var Sl=class extends Qt{constructor(){super(),this.enabled=!0,this.delay=0,this.range=void 0,this.wrapping="hyphenate",this.position=new Lg,this.darkTheme=!1,this.bounds="extended",this.destroyFns=[],this.springAnimation=new Tct,this.enableInteraction=!1,this.wrapTypes=["always","hyphenate","on-space","never"],this.showTimeout=0,this._showArrow=!0,this._compact=!1,this._visible=!1,this.positionParams=void 0,this.destroyFns.push(this.springAnimation.addListener("update",this.updateTooltipPosition.bind(this)))}get interactive(){return this.enableInteraction}setup(t){"togglePopover"in ai().HTMLElement.prototype&&(this.element=t.addChild("canvas-overlay",Ts),this.element.setAttribute("popover","manual"),this.element.className=Ts)}destroy(t){t.removeChild("canvas-overlay",Ts),this.destroyFns.forEach(e=>e())}isVisible(){return this._visible}contains(t){var e;return((e=this.element)==null?void 0:e.contains(t))??!1}updateTooltipPosition(){var k,E,w;const{element:t,positionParams:e}=this;if(t==null||e==null)return;const{canvasRect:i,relativeRect:n,meta:s}=e,{x:a,y:o}=this.springAnimation,r=((k=s.position)==null?void 0:k.type)??this.position.type,l=((E=s.position)==null?void 0:E.xOffset)??0,c=((w=s.position)==null?void 0:w.yOffset)??0,h=n.x,p=n.y,f=n.width-t.clientWidth-1+h,y=n.height-t.clientHeight+p;let m=this.getTooltipBounds({positionType:r,canvasX:a,canvasY:o,yOffset:c,xOffset:l,canvasRect:i}),b=ML(t.clientWidth,t.clientHeight,n,m);r==="sparkline"&&(b.x<=h||b.x>=f)&&(m=this.getTooltipBounds({positionType:"sparkline-constrained",canvasX:a,canvasY:o,yOffset:c,xOffset:l,canvasRect:i}),b=ML(t.clientWidth,t.clientHeight,n,m));const S=Jt(h,b.x,f),v=Jt(p,b.y,y),D=S!==b.x||v!==b.y,I=(r==="node"||r==="pointer")&&!D&&!l&&!c,T=s.showArrow??this.showArrow??I;this.updateShowArrow(T),this.updateCompact(r==="sparkline"||r==="sparkline-constrained"),t.style.transform=`translate(${S}px, ${v}px)`}show(t,e,i,n,s=!1){const{element:a}=this;if(a!=null&&n!=null)a.innerHTML=Cct(n);else if(a==null||a.innerHTML===""){this.toggle(!1);return}const o={x:t.x-e.x,y:t.y-e.y,width:t.width,height:t.height};this.positionParams={canvasRect:e,relativeRect:o,meta:i},this.springAnimation.update(i.canvasX,i.canvasY),a.style.top=`${e.top}px`,a.style.left=`${e.left}px`,i.enableInteraction?(this.enableInteraction=!0,a.style.pointerEvents="auto",a.removeAttribute("aria-hidden")):(this.enableInteraction=!1,a.style.pointerEvents="none",a.setAttribute("aria-hidden","true")),this.delay>0&&!s?(this.toggle(!1),this.showTimeout=setTimeout(()=>{this.toggle(!0)},this.delay)):this.toggle(!0)}hide(){this.springAnimation.reset(),this.toggle(!1)}toggle(t){var n;if(!((n=this.element)!=null&&n.isConnected))return;this._visible=t;const{classList:e}=this.element,i=(s,a)=>e.toggle(`${Ts}--${s}`,a);t||clearTimeout(this.showTimeout),i("no-interaction",!this.enableInteraction),i("arrow",this._showArrow),i("compact",this._compact),e.toggle(CW,this.darkTheme),this.element.togglePopover(t),t&&this.updateTooltipPosition();for(const s of this.wrapTypes)e.toggle(`${Ts}--wrap-${s}`,s===this.wrapping)}updateShowArrow(t){this._showArrow=t}updateCompact(t){this._compact=t}getTooltipBounds(t){if(!this.element)return{};const{positionType:e,canvasX:i,canvasY:n,yOffset:s,xOffset:a,canvasRect:o}=t,{clientWidth:r,clientHeight:l}=this.element,c={width:r,height:l};switch(e){case"node":case"pointer":return c.top=n+s-l-8,c.left=i+a-r/2,c;case"top":return c.top=s,c.left=o.width/2-r/2+a,c;case"right":return c.top=o.height/2-l/2+s,c.left=o.width-r/2+a,c;case"left":return c.top=o.height/2-l/2+s,c.left=a,c;case"bottom":return c.top=o.height-l+s,c.left=o.width/2-r/2+a,c;case"top-left":return c.top=s,c.left=a,c;case"top-right":return c.top=s,c.left=o.width-r+a,c;case"bottom-right":return c.top=o.height-l+s,c.left=o.width-r+a,c;case"bottom-left":return c.top=o.height-l+s,c.left=a,c;case"sparkline":return c.top=n+s-l/2,c.left=i+a+8,c;case"sparkline-constrained":return c.top=n+s-l/2,c.left=i+a-8-r,c}}};N([P(Gt)],Sl.prototype,"enabled",2);N([P(Gt,{optional:!0})],Sl.prototype,"showArrow",2);N([P(Ct)],Sl.prototype,"delay",2);N([P(BA,{optional:!0})],Sl.prototype,"range",2);N([P(PA)],Sl.prototype,"wrapping",2);N([P(Lt)],Sl.prototype,"position",2);N([P(Gt)],Sl.prototype,"darkTheme",2);N([P(Je(["extended","canvas"]))],Sl.prototype,"bounds",2);var kct=class extends yh{constructor(t){super(),this.chart=t,this.id=Wo(this),this.series=[],this.highlight={pendingHoverEvent:void 0,appliedHoverEvent:void 0,stashedHoverEvent:void 0},this.tooltip={lastHover:void 0},this.hoverDevice="pointer",this.previousInputDevice="keyboard",this.focus={sortedSeries:[],series:void 0,seriesIndex:0,datumIndex:0,datum:void 0},this.hoverScheduler=nrt(()=>{if(!(!this.tooltip.lastHover&&!this.highlight.pendingHoverEvent)){if(this.chart.getUpdateType()<=4){this.hoverScheduler.schedule();return}this.highlight.pendingHoverEvent&&this.handleHoverHighlight(!1),this.tooltip.lastHover&&this.handleHoverTooltip(this.tooltip.lastHover,!1)}});const e=t.ctx.domManager.addChild("series-area","series-area-aria-label1"),i=t.ctx.domManager.addChild("series-area","series-area-aria-label2");this.swapChain=new mct(e,i,this.id,"img"),this.swapChain.addListener("blur",()=>this.onBlur()),this.swapChain.addListener("focus",()=>this.onFocus()),this.focusIndicator=new yct(this.swapChain),this.focusIndicator.overrideFocusVisible(t.mode==="integrated"?!1:void 0);const{seriesDragInterpreter:n,seriesWidget:s,containerWidget:a}=t.ctx.widgets;s.setTabIndex(-1),this.destroyFns.push(()=>t.ctx.domManager.removeChild("series-area","series-area-aria-label1"),()=>t.ctx.domManager.removeChild("series-area","series-area-aria-label2"),s.addListener("focus",()=>this.swapChain.focus()),s.addListener("mousemove",o=>this.onHover(o)),s.addListener("wheel",o=>this.onWheel(o)),s.addListener("mouseleave",o=>this.onLeave(o)),s.addListener("keydown",o=>this.onKeyDown(o)),s.addListener("contextmenu",(o,r)=>this.onContextMenu(o,r)),n.addListener("drag-move",o=>this.onDragMove(o)),n.addListener("click",o=>this.onClick(o,s)),n.addListener("dblclick",o=>this.onClick(o,s)),a.addListener("contextmenu",(o,r)=>this.onContextMenu(o,r)),a.addListener("click",(o,r)=>this.onClick(o,r)),a.addListener("dblclick",(o,r)=>this.onClick(o,r)),t.ctx.animationManager.addListener("animation-start",()=>this.clearAll()),t.ctx.domManager.addListener("resize",()=>this.clearAll()),t.ctx.highlightManager.addListener("highlight-change",o=>this.changeHighlightDatum(o)),t.ctx.layoutManager.addListener("layout:complete",o=>this.layoutComplete(o)),t.ctx.updateService.addListener("pre-scene-render",()=>this.preSceneRender()),t.ctx.updateService.addListener("update-complete",()=>this.updateComplete()),t.ctx.zoomManager.addListener("zoom-change",()=>this.clearAll()),t.ctx.zoomManager.addListener("zoom-pan-start",()=>this.clearAll()))}isState(t){return this.chart.ctx.interactionManager.isState(t)}isIgnoredTouch(t){return!(t.device!=="touch"||t.type==="click"||this.chart.ctx.chartService.touch.dragAction==="hover"||this.chart.ctx.chartService.touch.dragAction==="drag"&&this.isState(9))}dataChanged(){var t;(t=this.highlight).stashedHoverEvent??(t.stashedHoverEvent=this.highlight.appliedHoverEvent),this.chart.ctx.tooltipManager.removeTooltip(this.id),this.focusIndicator.clear(),this.clearHighlight()}preSceneRender(){this.highlight.stashedHoverEvent!=null&&(this.highlight.pendingHoverEvent=this.highlight.stashedHoverEvent,this.highlight.stashedHoverEvent=void 0,this.handleHoverHighlight(!0)),this.tooltip.lastHover!=null&&this.handleHoverTooltip(this.tooltip.lastHover,!0)}updateComplete(){this.focusIndicator.isFocusVisible()&&this.isState(34)&&this.handleSeriesFocus(0,0,!0)}update(t,e){this.chart.ctx.updateService.update(t,e)}seriesChanged(t){this.focus.sortedSeries=[...t].sort((e,i)=>{let n=e.properties.focusPriority??1/0,s=i.properties.focusPriority??1/0;return n===s&&([n,s]=[e._declarationOrder,i._declarationOrder]),n<s?-1:n>s?1:0}),this.series=t}layoutComplete(t){this.seriesRect=t.series.rect,this.hoverRect=t.series.paddedRect,this.chart.ctx.widgets.seriesWidget.setBounds(t.series.paddedRect),this.chart.ctx.widgets.chartWidget.setBounds(t.chart)}onContextMenu(t,e){const{sourceEvent:i}=t;if(i.currentTarget!=e.getElement())return;if(i.target==this.chart.ctx.widgets.containerWidget.getElement()){if(this.isState(36)){const{currentX:l,currentY:c}=t;this.chart.ctx.contextMenuRegistry.dispatchContext("all",{sourceEvent:i,canvasX:l,canvasY:c},{})}return}let n,s;if(this.focusIndicator.isFocusVisible())n=this.chart.ctx.highlightManager.getActiveHighlight(),n&&this.seriesRect&&n.midPoint&&(s=Ni.toCanvasPoint(n.series.contentGroup,n.midPoint.x,n.midPoint.y));else if(this.isState(36)){const l=this.pickNode({x:t.currentX,y:t.currentY},"context-menu");l&&(this.chart.ctx.highlightManager.updateHighlight(this.id),n=l.datum)}const a=n==null?void 0:n.series;this.clearAll();const o=t.currentX+e.cssLeft(),r=t.currentY+e.cssTop();this.chart.ctx.contextMenuRegistry.dispatchContext("series-area",{sourceEvent:i,canvasX:o,canvasY:r},{pickedSeries:a,pickedNode:n},s)}onLeave(t){if(!this.isState(41))return;const e=t.sourceEvent.relatedTarget;(e==null?void 0:e.className)!=="ag-charts-text-input__textarea"&&(this.chart.ctx.tooltipManager.isEnteringInteractiveTooltip(t)||(this.chart.ctx.domManager.updateCursor(this.id),this.focusIndicator.isFocusVisible()||this.clearAll()))}onWheel(t){var e;this.isState(41)&&((e=this.focusIndicator)==null||e.overrideFocusVisible(!1),this.previousInputDevice="pointer")}onDragMove(t){var e;this.isState(41)&&((e=this.focusIndicator)==null||e.overrideFocusVisible(!1),this.onHoverLikeEvent(t))}onHover(t){this.isState(41)&&this.onHoverLikeEvent(t)}onHoverLikeEvent(t){if(!this.isIgnoredTouch(t)&&((t.device==="touch"||Lct(t,"drag-move"))&&(this.tooltip.lastHover=t),t.device==="touch"&&this.chart.ctx.chartService.touch.dragAction==="hover"&&t.sourceEvent.preventDefault(),this.hoverDevice="pointer",this.previousInputDevice="pointer",this.highlight.pendingHoverEvent=t,this.hoverScheduler.schedule(),this.isState(32))){const{currentX:e,currentY:i}=t,n=this.pickNode({x:e,y:i},"event");n!=null&&n.series.hasEventListener("nodeClick")||n!=null&&n.series.hasEventListener("nodeDoubleClick")?this.chart.ctx.domManager.updateCursor(this.id,"pointer"):this.chart.ctx.domManager.updateCursor(this.id)}}onClick(t,e){if(t.device==="touch"&&e===this.chart.ctx.widgets.seriesWidget&&this.swapChain.focus({preventScroll:!0}),!this.isState(41))return;if(e===this.chart.ctx.widgets.seriesWidget){if(!e.getElement().contains(t.sourceEvent.target))return}else if(t.sourceEvent.target!=e.getElement())return;if(this.focusIndicator.overrideFocusVisible(!1),this.onHoverLikeEvent(t),!this.isState(32))return;if(e==this.chart.ctx.widgets.seriesWidget&&this.checkSeriesNodeClick(t)){this.update(4),t.sourceEvent.preventDefault();return}const i={type:t.type==="click"?"click":"doubleClick",event:t.sourceEvent};this.chart.fireEvent(i)}onFocus(){this.isState(34)&&(this.hoverDevice=this.focusIndicator.isFocusVisible()?"keyboard":"pointer",this.handleFocus(0,0))}onBlur(){this.isState(34)&&(this.hoverDevice="pointer",this.clearAll(),this.focusIndicator.overrideFocusVisible(void 0))}onKeyDown(t){if(!this.isState(43))return;const e=vct(t.sourceEvent);switch((e==null?void 0:e.activatesFocusIndicator)===!1&&this.focusIndicator.overrideFocusVisible(this.previousInputDevice==="keyboard"),e==null?void 0:e.name){case"redo":return this.chart.ctx.chartEventManager.seriesEvent("series-redo");case"undo":return this.chart.ctx.chartEventManager.seriesEvent("series-undo");case"zoomin":return this.chart.ctx.chartEventManager.seriesKeyNavZoom(1,t);case"zoomout":return this.chart.ctx.chartEventManager.seriesKeyNavZoom(-1,t);case"arrowup":return this.onArrow(-1,0,t);case"arrowdown":return this.onArrow(1,0,t);case"arrowleft":return this.onArrow(0,-1,t);case"arrowright":return this.onArrow(0,1,t);case"submit":return this.onSubmit(t)}}onArrow(t,e,i){this.isState(34)&&(this.hoverDevice="keyboard",this.previousInputDevice="keyboard",this.focusIndicator.overrideFocusVisible(!0),this.focus.seriesIndex+=t,this.focus.datumIndex+=e,this.handleFocus(t,e),i.sourceEvent.preventDefault(),this.chart.ctx.chartEventManager.seriesEvent("series-focus-change"))}onSubmit(t){if(!this.isState(34))return;const{series:e,datum:i}=this.focus,n=t.sourceEvent;e!==void 0&&i!==void 0?e.fireNodeClickEvent(n,i):this.chart.fireEvent({type:"click",event:n}),n.preventDefault()}checkSeriesNodeClick(t){const e=this.pickNode({x:t.currentX,y:t.currentY},"event");return e==null?!1:t.type==="click"?(e.series.fireNodeClickEvent(t.sourceEvent,e.datum),!0):t.type==="dblclick"?(t.preventZoomDblClick=e.distance===0,e.series.fireNodeDoubleClickEvent(t.sourceEvent,e.datum),!0):!1}handleFocus(t,e){const i=this.chart.overlays.getFocusInfo(this.chart.ctx.localeManager);i==null?this.handleSeriesFocus(t,e):this.focusIndicator.update(i.rect,this.seriesRect,!1)}handleSeriesFocus(t,e,i=!1){if(this.chart.chartType==="hierarchy"||this.chart.chartType==="gauge"){this.handleSoloSeriesFocus(t,e,i);return}const{focus:n,seriesRect:s}=this,a=n.sortedSeries.filter(h=>h.visible&&h.focusable);if(a.length===0)return;const o={datumIndex:n.datumIndex-e,otherIndex:n.seriesIndex-t};n.seriesIndex=Jt(0,n.seriesIndex,a.length-1),n.series=a[n.seriesIndex];const{datumIndex:r,seriesIndex:l}=n,c=n.series.pickFocus({datumIndex:r,datumIndexDelta:e,otherIndex:l,otherIndexDelta:t,seriesRect:s});this.updatePickedFocus(t,e,o,c,i)}handleSoloSeriesFocus(t,e,i){this.focus.series=this.focus.sortedSeries[0];const{focus:{series:n,seriesIndex:s,datumIndex:a},seriesRect:o}=this;if(n==null)return;const r={datumIndex:this.focus.datumIndex-e,otherIndex:this.focus.seriesIndex-t},l=n.pickFocus({datumIndex:a,datumIndexDelta:e,otherIndex:s,otherIndexDelta:t,seriesRect:o});this.updatePickedFocus(t,e,r,l,i)}updatePickedFocus(t,e,i,n,s){const{focus:a,hoverRect:o}=this;if(n===void 0||a.series===void 0||o===void 0)return;const{datum:r,datumIndex:l,otherIndex:c}=n;if(c!==void 0&&(a.seriesIndex=c),a.datumIndex=l,a.datum=r,this.focusIndicator.isFocusVisible()&&this.chart.ctx.animationManager.reset(),this.focusIndicator.isFocusVisible()){const p=Mct(n),{x:f,y}=p.computeCenter();if(!o.containsPoint(f,y)&&this.chart.ctx.zoomManager.panToBBox(this.id,o,p))return}this.focusIndicator.update(n.bounds,this.seriesRect,n.clipFocusBox);const h=Act(a.series,o,n);if(h!==void 0&&this.hoverDevice==="keyboard"){this.tooltip.lastHover=void 0,this.highlight.appliedHoverEvent=void 0,this.highlight.pendingHoverEvent=void 0,this.highlight.stashedHoverEvent=void 0;const p=a.series.getTooltipContent(r),f=wM.makeTooltipMeta(h,a.series,r);this.chart.ctx.highlightManager.updateHighlight(this.id,r),this.chart.tooltip.enabled&&a.series.tooltipEnabled?this.chart.ctx.tooltipManager.updateTooltip(this.id,f,p):this.chart.ctx.tooltipManager.removeTooltip(this.id),s||(e===0&&t===0||i.datumIndex!==n.datumIndex||i.otherIndex!==(n.otherIndex??a.seriesIndex))&&this.swapChain.update(this.getDatumAriaText(r,p))}}getDatumAriaText(t,e){var n,s;const i=e==null?"":kW(e);return this.chart.ctx.localeManager.t("ariaAnnounceHoverDatum",{datum:((s=(n=t.series).getDatumAriaText)==null?void 0:s.call(n,t,i))??i})}clearHighlight(){this.highlight.pendingHoverEvent=void 0,this.highlight.appliedHoverEvent=void 0,this.chart.ctx.highlightManager.updateHighlight(this.id)}clearTooltip(){this.chart.ctx.tooltipManager.removeTooltip(this.id),this.tooltip.lastHover=void 0}clearAll(){this.clearHighlight(),this.clearTooltip(),this.focusIndicator.clear()}handleHoverHighlight(t){var c,h,p;this.highlight.appliedHoverEvent=this.highlight.pendingHoverEvent,this.highlight.pendingHoverEvent=void 0;const e=this.highlight.appliedHoverEvent;if(!e||!this.isState(41))return;const{currentX:i,currentY:n}=e,s=e.currentX+(((c=this.hoverRect)==null?void 0:c.x)??0),a=e.currentY+(((h=this.hoverRect)==null?void 0:h.y)??0);if(t?this.chart.ctx.animationManager.isActive():!((p=this.hoverRect)!=null&&p.containsPoint(s,a))){this.clearHighlight();return}const{range:o}=this.chart.highlight,r=o==="tooltip"?"highlight-tooltip":"highlight",l=this.pickNode({x:i,y:n},r);if(l){this.chart.ctx.highlightManager.updateHighlight(this.id,l.datum),this.hoverDevice="pointer";return}this.chart.ctx.highlightManager.updateHighlight(this.id)}handleHoverTooltip(t,e){var p,f,y;if(!this.isState(41))return;const{currentX:i,currentY:n}=t,s=i+(((p=this.hoverRect)==null?void 0:p.x)??0),a=n+(((f=this.hoverRect)==null?void 0:f.y)??0),o=t.sourceEvent.target;if(e?this.chart.ctx.animationManager.isActive():!((y=this.hoverRect)!=null&&y.containsPoint(s,a))){this.hoverDevice=="pointer"&&this.clearTooltip();return}if(o&&this.chart.tooltip.interactive&&this.chart.ctx.domManager.isManagedChildDOMElement(o,"canvas-overlay",Ts))return;const r=this.pickNode({x:t.currentX,y:t.currentY},"tooltip");if(!r){this.hoverDevice=="pointer"&&this.clearTooltip();return}this.hoverDevice="pointer";const l=r.series.getTooltipContent(r.datum);if(this.chart.tooltip.enabled&&r.series.tooltipEnabled&&l!=null){const m=wM.makeTooltipMeta({type:"pointermove",canvasX:s,canvasY:a},r.series,r.datum);this.chart.ctx.tooltipManager.updateTooltip(this.id,m,l)}else this.chart.ctx.tooltipManager.removeTooltip(this.id)}changeHighlightDatum(t){const e=new Set,{series:i=void 0,datum:n}=t.currentHighlight??{},{series:s=void 0,datum:a}=t.previousHighlight??{};s&&e.add(s),i&&e.add(i),s!=null&&s.properties.cursor&&a&&this.chart.ctx.domManager.updateCursor(s.id),i!=null&&i.properties.cursor&&(i==null?void 0:i.properties.cursor)!=="default"&&n&&this.chart.ctx.domManager.updateCursor(i.id,i.properties.cursor),i==null||s==null?this.update(4):this.update(4,{seriesToUpdate:e})}pickNode(t,e,i){const n=[...this.series].reverse();let s;for(const a of n){if(!a.visible||!a.contentGroup.visible)continue;const{match:o,distance:r}=a.pickNode(t,e,i)??{};if(!(!o||r==null)&&((!s||s.distance>r)&&(s={series:a,distance:r,datum:o}),r===0))break}return s}};function Lct(t,e){return t.type!==e}var pj=30,Nct=class{constructor(t){this.seriesRoot=t,this.groups=new Map,this.series=new Map,this.expectedSeriesCount=1,this.mode="normal"}setSeriesCount(t){this.expectedSeriesCount=t}requestGroup(t){const{internalId:e,type:i,contentGroup:n,seriesGrouping:s}=t,{groupIndex:a=e}=s??{},o=this.series.get(e);if(o!=null)throw new Error(`AG Charts - series already has an allocated layer: ${JSON.stringify(o)}`);this.series.size===0&&(this.mode=this.expectedSeriesCount>=pj?"aggressive-grouping":"normal");let r=this.groups.get(i);r==null&&(r=new Map,this.groups.set(i,r));const l=this.lookupIdx(a);let c=r.get(l);return c==null&&(c={type:i,id:l,seriesIds:[],group:this.seriesRoot.appendChild(new Kt({name:`${t.contentGroup.name??i}-managed-layer`,zIndex:t.contentGroup.zIndex,renderToOffscreenCanvas:!1}))},r.set(l,c)),this.series.set(e,{layerState:c,seriesConfig:t}),c.seriesIds.push(e),c.group.appendChild(n),c.group}changeGroup(t){var r,l;const{internalId:e,seriesGrouping:i,type:n,contentGroup:s,oldGrouping:a}=t,{groupIndex:o=e}=i??{};(l=(r=this.groups.get(n))==null?void 0:r.get(o))!=null&&l.seriesIds.includes(e)||(this.series.has(e)&&this.releaseGroup({internalId:e,seriesGrouping:a,type:n,contentGroup:s}),this.requestGroup(t))}releaseGroup(t){var a,o,r;const{internalId:e,contentGroup:i,type:n}=t;if(!this.series.has(e))throw new Error(`AG Charts - series doesn't have an allocated layer: ${e}`);const s=(a=this.series.get(e))==null?void 0:a.layerState;s&&(s.seriesIds=s.seriesIds.filter(l=>l!==e),s.group.removeChild(i)),(s==null?void 0:s.seriesIds.length)===0?(this.seriesRoot.removeChild(s.group),(o=this.groups.get(s.type))==null||o.delete(s.id),(r=this.groups.get(n))==null||r.delete(e)):s!=null&&s.seriesIds.length>0&&(s.group.zIndex=this.getLowestSeriesZIndex(s.seriesIds)),this.series.delete(e)}updateLayerCompositing(){this.groups.forEach(t=>{t.forEach(e=>{const{group:i,seriesIds:n}=e;let s;if(n.length===0)s=!1;else if(n.length>1)s=!0;else{const a=this.series.get(n[0]);s=(a==null?void 0:a.seriesConfig.renderToOffscreenCanvas())===!0}i.renderToOffscreenCanvas=s,i.zIndex=this.getLowestSeriesZIndex(n)})})}lookupIdx(t){return this.mode==="normal"?t:typeof t=="string"&&(t=Number(t.split("-").at(-1)),!t)?0:Math.floor(Jt(0,t/this.expectedSeriesCount,1)*pj)}destroy(){this.groups.forEach(t=>{t.forEach(e=>{this.seriesRoot.removeChild(e.group)})}),this.groups.clear(),this.series.clear()}getLowestSeriesZIndex(t){return t.reduce((i,n)=>{const s=this.series.get(n),a=s==null?void 0:s.seriesConfig.contentGroup.zIndex;return i==null||a==null?a:qU(i,a)<=0?i:a},void 0)??1}},LW=class extends Qt{constructor(){super(...arguments),this.dragAction="drag"}};N([P(Je(["none","drag","hover"]))],LW.prototype,"dragAction",2);var Ect=class{constructor(t,e,i,n,s){this.chart=t,this.dataService=e,this.updateService=i,this.zoomManager=n,this.animationManager=s,this.dirtyZoom=!1,this.dirtyDataSource=!1,this.lastAxisZooms=new Map,this.destroyFns=[],this.destroyFns.push(this.dataService.addListener("data-source-change",()=>this.onDataSourceChange()),this.dataService.addListener("data-load",()=>this.onDataLoad()),this.dataService.addListener("data-error",()=>this.onDataError()),this.updateService.addListener("update-complete",()=>this.onUpdateComplete()),this.zoomManager.addListener("zoom-change",()=>this.onZoomChange()))}destroy(){this.destroyFns.forEach(t=>t())}onDataLoad(){this.animationManager.skip(),this.updateService.update(1)}onDataError(){this.updateService.update(3)}onDataSourceChange(){this.dirtyDataSource=!0}onUpdateComplete(){!this.dirtyZoom&&!this.dirtyDataSource||this.updateWindow()}onZoomChange(){this.dirtyZoom=!0}updateWindow(){if(!this.dataService.isLazy())return;const t=this.getValidAxis();let e,i=!0;if(t){const n=this.zoomManager.getAxisZoom(t.id);e=this.getAxisWindow(t,n),i=this.shouldRefresh(t,n)}this.dirtyZoom=!1,this.dirtyDataSource=!1,i&&this.dataService.load({windowStart:e==null?void 0:e.min,windowEnd:e==null?void 0:e.max})}getValidAxis(){return this.chart.axes.find(t=>t.type==="time")}shouldRefresh(t,e){if(this.dirtyDataSource)return!0;if(!this.dirtyZoom)return!1;const i=this.lastAxisZooms.get(t.id);return i&&e.min===i.min&&e.max===i.max?!1:(this.lastAxisZooms.set(t.id,e),!0)}getAxisWindow(t,e){const{domain:i}=t.scale;if(!e||i.length===0||isNaN(Number(i[0])))return;const n=Number(i[1])-Number(i[0]),s=new Date(Number(i[0])+n*e.min),a=new Date(Number(i[0])+n*e.max);return{min:s,max:a}}},wct=/^((?!chrome|android).)*safari/i,Oct=/Version\/(\d+(\.\d+)?)/,Rct=/Chrome/,Pct=/Chrome\/(\d+)/,Bct=/Edg/,zct=/OPR/;function _ct(){var e,i;const{userAgent:t}=ai("navigator");if(wct.test(t)){const n=parseFloat(((e=Oct.exec(t))==null?void 0:e[1])??"0"),s=Math.floor(n)>16;return s||It.warnOnce(`Unsupported Safari version: ${n}; ${t}`),!s}else if(Rct.test(t)&&!Bct.test(t)&&!zct.test(t)){const n=parseInt(((i=Pct.exec(t))==null?void 0:i[1])??"0",10),s=n>126;return s||It.warnOnce(`Unsupported Chrome version: ${n}; ${t}`),!s}return!1}var jct=new Set(["map-shape-background","map-line-background"]),Fct=class{constructor(t,e,i,n,s,a,o){this.chartLike=t,this.overlays=e,this.dataService=i,this.layoutManager=n,this.localeManager=s,this.animationManager=a,this.domManager=o,this.destroyFns=[],this.overlayElem=this.domManager.addChild("canvas-overlay","overlay"),this.overlayElem.role="status",this.overlayElem.ariaAtomic="false",this.overlayElem.ariaLive="polite",this.overlayElem.classList.toggle(vL),this.destroyFns.push(this.layoutManager.addListener("layout:complete",r=>this.onLayoutComplete(r)))}destroy(){this.destroyFns.forEach(t=>t()),this.domManager.removeStyles("overlays"),this.domManager.removeChild("canvas-overlay","overlay")}onLayoutComplete({series:{rect:t}}){const e=this.dataService.isLoading(),i=this.chartLike.series.some(c=>c.hasData),n=this.chartLike.series.some(c=>c.visible&&!jct.has(c.type));this.overlays.darkTheme?this.overlayElem.classList.add(rj):this.overlayElem.classList.remove(rj),this.overlayElem.style.left=`${t.x}px`,this.overlayElem.style.top=`${t.y}px`,this.overlayElem.style.width=`${t.width}px`,this.overlayElem.style.height=`${t.height}px`;const s=e,a=!e&&!i,o=i&&!n,r=this.overlays.unsupportedBrowser.enabled&&_ct();s?this.showOverlay(this.overlays.loading,t):this.hideOverlay(this.overlays.loading),a?this.showOverlay(this.overlays.noData,t):this.hideOverlay(this.overlays.noData),o?this.showOverlay(this.overlays.noVisibleSeries,t):this.hideOverlay(this.overlays.noVisibleSeries),r?this.showOverlay(this.overlays.unsupportedBrowser,t):this.hideOverlay(this.overlays.unsupportedBrowser);const l=s||a||o||r;We(this.overlayElem,"aria-hidden",!l)}showOverlay(t,e){if(!t.enabled)return;const i=t.getElement(this.animationManager,this.localeManager,e);this.overlayElem.appendChild(i)}hideOverlay(t){t.removeElement(()=>{this.overlayElem.innerText=""},this.animationManager)}},ar=Qe.create(!0,"opts"),ME=class extends Qt{constructor(){super(...arguments),this.padding=new gh(0)}};N([P(Gt,{optional:!0})],ME.prototype,"clip",2);N([P(Lt)],ME.prototype,"padding",2);var Zi=class NW extends BH{constructor(e,i){var n;super(),this.id=Wo(this),this.seriesRoot=new ta({name:`${this.id}-series-root`,zIndex:5}),this.annotationRoot=new ta({name:`${this.id}-annotation-root`,zIndex:9}),this.titleGroup=new Kt({name:"titles",zIndex:13}),this.debug=Qe.create(),this.extraDebugStats={},this.data=[],this._firstAutoSize=!0,this._autoSizeNotify=new B_,this.padding=new gh(20),this.seriesArea=new ME,this.keyboard=new bE,this.touch=new LW,this.mode="standalone",this.chartCaptions=new WA,this.suppressFieldDotNotation=!1,this.destroyed=!1,this._destroyFns=[],this.skipSync=!1,this.chartAnimationPhase="initial",this.modulesManager=new lct,this.processors=[],this.queuedUserOptions=[],this.queuedChartOptions=[],this.firstApply=!0,this._pendingFactoryUpdatesCount=0,this._performUpdateSkipAnimations=!1,this._performUpdateNotify=new B_,this.performUpdateType=7,this.runningUpdateType=7,this.updateShortcutCount=0,this.seriesToUpdate=new Set,this.updateMutex=new irt,this.updateRequestors={},this.performUpdateTrigger=srt(({count:h})=>{this.destroyed||this.updateMutex.acquire(async()=>{try{await this.performUpdate(h)}catch(p){It.error("update error",p)}}).catch(p=>It.errorOnce(p))}),this._performUpdateSplits={},this.axes=[],this.series=[],this._cachedData=void 0,this.onSeriesNodeClick=h=>{this.fireEvent({...h,type:"seriesNodeClick"})},this.onSeriesNodeDoubleClick=h=>{this.fireEvent({...h,type:"seriesNodeDoubleClick"})},this.onSeriesVisibilityChange=h=>{this.fireEvent(h)},this.seriesGroupingChanged=h=>{if(!(h instanceof SE))return;const{series:p,seriesGrouping:f,oldGrouping:y}=h;p.contentGroup.isRoot()||this.seriesLayerManager.changeGroup({internalId:p.internalId,type:p.type,contentGroup:p.contentGroup,renderToOffscreenCanvas:()=>p.renderToOffscreenCanvas(),seriesGrouping:f,oldGrouping:y})},this.chartOptions=e;const s=i==null?void 0:i.scene,a=(i==null?void 0:i.container)??e.processedOptions.container??void 0,o=(i==null?void 0:i.styleContainer)??e.specialOverrides.styleContainer,r=new Kt({name:"root"});r.visible=!1,r.append(this.seriesRoot),r.append(this.annotationRoot),r.append(this.titleGroup),this.titleGroup.append(this.title.node),this.titleGroup.append(this.subtitle.node),this.titleGroup.append(this.footnote.node),this.tooltip=new Sl,this.seriesLayerManager=new Nct(this.seriesRoot),this.mode=e.userOptions.mode??this.mode;const l=this.ctx=new Ilt(this,{chartType:this.getChartType(),scene:s,root:r,container:a,styleContainer:o,syncManager:new qlt(this),fireEvent:h=>this.fireEvent(h),updateCallback:(h,p)=>this.update(h,p),updateMutex:this.updateMutex});this._destroyFns.push(l.domManager.addListener("resize",()=>this.parentResize(l.domManager.containerSize))),this.overlays=new kg,(n=this.overlays.loading).renderer??(n.renderer=()=>cct(this.overlays.loading.getText(l.localeManager),l.animationManager.defaultDuration)),this.processors=[new Ect(this,l.dataService,l.updateService,l.zoomManager,l.animationManager),new Fct(this,this.overlays,l.dataService,l.layoutManager,l.localeManager,l.animationManager,l.domManager)],this.highlight=new lW,this.container=a;const c=this.getModuleContext();l.domManager.setDataBoolean("animating",!1),this.seriesAreaManager=new kct(this.initSeriesAreaDependencies()),this._destroyFns.push(l.layoutManager.registerElement(0,h=>{h.layoutBox.shrink(this.padding.toJson()),this.chartCaptions.positionCaptions(h)}),l.layoutManager.addListener("layout:complete",h=>this.chartCaptions.positionAbsoluteCaptions(h)),l.dataService.addListener("data-load",h=>{this.data=h.data}),this.title.registerInteraction(c,"beforebegin"),this.subtitle.registerInteraction(c,"beforebegin"),this.footnote.registerInteraction(c,"afterend"),vl.addWindowEvent("page-left",()=>this.destroy()),l.animationManager.addListener("animation-frame",()=>{this.update(6)}),l.animationManager.addListener("animation-start",()=>l.domManager.setDataBoolean("animating",!0)),l.animationManager.addListener("animation-stop",()=>l.domManager.setDataBoolean("animating",!1)),l.zoomManager.addListener("zoom-change",()=>{this.series.forEach(p=>{var f;return(f=p.animationState)==null?void 0:f.transition("updateData")});const h=this.chartAnimationPhase!=="initial";this.update(3,{forceNodeDataRefresh:!0,skipAnimations:h})})),this.parentResize(l.domManager.containerSize)}static getInstance(e){return NW.chartsInstances.get(e)}get canvasElement(){return this.ctx.scene.canvas.element}download(e,i){this.ctx.scene.download(e,i)}getCanvasDataURL(e){return this.ctx.scene.getDataURL(e)}toSVG(){return this.ctx.scene.toSVG()}getOptions(){return this.queuedUserOptions.at(-1)??this.chartOptions.userOptions}getChartOptions(){return this.queuedChartOptions.at(-1)??this.chartOptions}overrideFocusVisible(e){this.seriesAreaManager.focusIndicator.overrideFocusVisible(e)}initSeriesAreaDependencies(){const{ctx:e,tooltip:i,highlight:n,overlays:s,seriesRoot:a,mode:o}=this,r=this.getChartType();return{fireEvent:this.fireEvent.bind(this),getUpdateType:()=>this.performUpdateType,chartType:r,ctx:e,tooltip:i,highlight:n,overlays:s,seriesRoot:a,mode:o}}getModuleContext(){return this.ctx}getCaptionText(){return[this.title,this.subtitle,this.footnote].filter(e=>e.enabled&&e.text).map(e=>e.text).join(". ")}getAriaLabel(){return this.ctx.localeManager.t("ariaAnnounceChart",{seriesCount:this.series.length})}resetAnimations(){this.chartAnimationPhase="initial";for(const e of this.series)e.resetAnimation(this.chartAnimationPhase);for(const e of this.axes)e.resetAnimation(this.chartAnimationPhase);this.animationRect=void 0,this.ctx.animationManager.reset()}skipAnimations(){this.ctx.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0}detachAndClear(){this.container=void 0,this.ctx.scene.clear()}destroy(e){if(this.destroyed)return;const i=e==null?void 0:e.keepTransferableResources;let n;return this.performUpdateType=7,this._destroyFns.forEach(s=>s()),this.processors.forEach(s=>s.destroy()),this.tooltip.destroy(this.ctx.domManager),this.overlays.destroy(),this.modulesManager.destroy(),i?(this.ctx.scene.strip(),n={container:this.container,scene:this.ctx.scene}):(this.ctx.scene.destroy(),this.container=void 0),this.destroySeries(this.series),this.seriesLayerManager.destroy(),this.axes.forEach(s=>s.destroy()),this.axes=[],this.animationRect=void 0,this.ctx.destroy(),this.destroyed=!0,Object.freeze(this),n}requestFactoryUpdate(e){this.destroyed||(this._pendingFactoryUpdatesCount++,this.updateMutex.acquire(async()=>{if(!this.destroyed)try{await e(this)}finally{this.destroyed||this._pendingFactoryUpdatesCount--}}).catch(i=>It.errorOnce(i)))}update(e=0,i){if(this.destroyed)return;const{forceNodeDataRefresh:n=!1,skipAnimations:s,seriesToUpdate:a=this.series,newAnimationBatch:o}=i??{};this.ctx.widgets.seriesWidget.setDragTouchEnabled(this.touch.dragAction!=="none"),n&&this.series.forEach(r=>r.markNodeDataDirty());for(const r of a)this.seriesToUpdate.add(r);if(s&&(this.ctx.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0),o&&this.ctx.animationManager.isActive()&&(this._performUpdateSkipAnimations=!0),this.skipSync=(i==null?void 0:i.skipSync)??!1,this.debug.check()){let r=new Error().stack??"<unknown>";r=r.replace(/\([^)]*/g,""),this.updateRequestors[r]=e}e<this.performUpdateType&&(this.performUpdateType=e,this.ctx.domManager.setDataBoolean("updatePending",!0),this.performUpdateTrigger.schedule(i==null?void 0:i.backOffMs))}async performUpdate(e){const{performUpdateType:i,extraDebugStats:n,_performUpdateSplits:s,ctx:a}=this,o=[...this.seriesToUpdate];this.performUpdateType=7,this.seriesToUpdate.clear(),this.runningUpdateType=i,this.updateShortcutCount===0&&i<6&&(a.animationManager.startBatch(this._performUpdateSkipAnimations),a.animationManager.onBatchStop(()=>this.chartAnimationPhase="ready")),this.debug("Chart.performUpdate() - start",cx[i]);let r=performance.now();s.start??(s.start=r);const l=h=>{s[h]??(s[h]=0),s[h]+=performance.now()-r,r=performance.now()};switch(i){case 0:if(this.checkUpdateShortcut(0))break;this.ctx.updateService.dispatchPreDomUpdate(),this.updateDOM();case 1:if(this.checkUpdateShortcut(1))break;await this.updateData(),l("");case 2:if(this.checkUpdateShortcut(2))break;await this.processData(),this.seriesAreaManager.dataChanged(),l("");case 3:if(await this.checkFirstAutoSize(),this.checkUpdateShortcut(3))break;await this.processLayout(),l("");case 4:{if(this.checkUpdateShortcut(4))break;await this.updateSeries(o),l(""),this.updateAriaLabels(),this.seriesLayerManager.updateLayerCompositing()}case 5:if(this.checkUpdateShortcut(5))break;a.updateService.dispatchPreSceneRender(),l("");case 6:if(this.checkUpdateShortcut(6))break;a.animationManager.endBatch(),n.updateShortcutCount=this.updateShortcutCount,a.scene.render({debugSplitTimes:s,extraDebugStats:n,seriesRect:this.seriesRect}),this.extraDebugStats={};for(const h of Object.keys(s))delete s[h];this.ctx.domManager.incrementDataCounter("sceneRenders");case 7:this.updateShortcutCount=0,this.updateRequestors={},this._performUpdateSkipAnimations=!1,a.animationManager.endBatch()}this.destroyed||(a.updateService.dispatchUpdateComplete(),this.ctx.domManager.setDataBoolean("updatePending",!1),this.runningUpdateType=7),this._performUpdateNotify.notify();const c=performance.now();this.debug("Chart.performUpdate() - end",{chart:this,durationMs:Math.round((c-s.start)*100)/100,count:e,performUpdateType:cx[i]})}updateThemeClassName(){const e="ag-charts-theme-",i=[`${e}default`,`${e}default-dark`];let n=i[0],s=!1,{theme:a}=this.chartOptions.processedOptions;for(;typeof a!="string"&&a!=null;)a=a.baseTheme;typeof a=="string"&&(n=a.replace("ag-",e),s=a.includes("-dark")),i.includes(n)||(n=s?i[1]:i[0]),this.ctx.domManager.setThemeClass(n)}updateDOM(){this.updateThemeClassName();const{enabled:e,tabIndex:i}=this.keyboard;this.ctx.domManager.setTabGuardIndex(e?i??0:-1),this.ctx.domManager.setThemeParameters(this.chartOptions.themeParameters)}updateAriaLabels(){this.ctx.domManager.updateCanvasLabel(this.getAriaLabel())}checkUpdateShortcut(e){return this.destroyed?!0:this.updateShortcutCount>3?(It.warn("exceeded the maximum number of simultaneous updates (4), discarding changes and rendering",this.updateRequestors),!1):this.performUpdateType<=e?(this.updateShortcutCount++,!0):!1}async checkFirstAutoSize(){this.width!=null&&this.height!=null||this._lastAutoSize||await this._autoSizeNotify.await(500)||this.debug("Chart.checkFirstAutoSize() - timeout for first size update.")}onAxisChange(e,i){i==null&&e.length===0||this.ctx.axisManager.updateAxes(i??[],e)}onSeriesChange(e,i){var s,a;const n=(i==null?void 0:i.filter(o=>!e.includes(o)))??[];this.destroySeries(n),(s=this.seriesLayerManager)==null||s.setSeriesCount(e.length);for(const o of e){if(i!=null&&i.includes(o))continue;const r=this.seriesLayerManager.requestGroup(o);o.attachSeries(r,this.seriesRoot,this.annotationRoot);const l=this;o.chart={get mode(){return l.mode},get isMiniChart(){return!1},get seriesRect(){return l.seriesRect}},o.resetAnimation(this.chartAnimationPhase),this.addSeriesListeners(o),o.addChartEventListeners()}(a=this.seriesAreaManager)==null||a.seriesChanged(e)}destroySeries(e){e==null||e.forEach(i=>{i.removeEventListener("nodeClick",this.onSeriesNodeClick),i.removeEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),i.removeEventListener("groupingChanged",this.seriesGroupingChanged),i.destroy(),this.seriesLayerManager.releaseGroup(i),i.detachSeries(void 0,this.seriesRoot,this.annotationRoot),i.chart=void 0})}addSeriesListeners(e){this.hasEventListener("seriesNodeClick")&&e.addEventListener("nodeClick",this.onSeriesNodeClick),this.hasEventListener("seriesNodeDoubleClick")&&e.addEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),this.hasEventListener("seriesVisibilityChange")&&e.addEventListener("seriesVisibilityChange",this.onSeriesVisibilityChange),e.addEventListener("groupingChanged",this.seriesGroupingChanged)}assignSeriesToAxes(){for(const e of this.axes)e.boundSeries=this.series.filter(i=>i.axes[e.direction]===e)}assignAxesToSeries(){const e=IN(this.axes,i=>i.direction);for(const i of this.series)for(const n of i.directions){const s=e[n];if(!s){It.warnOnce(`no available axis for direction [${n}]; check series and axes configuration.`);return}const a=i.getKeys(n),o=s.find(r=>!r.keys.length||a.some(l=>r.keys.includes(l)));if(!o){It.warnOnce(`no matching axis for direction [${n}] and keys [${a}]; check series and axes configuration.`);return}i.axes[n]=o}}parentResize(e){if(e==null||this.width!=null&&this.height!=null)return;let{width:i,height:n}=e;const{pixelRatio:s}=e;if(i=Math.floor(i),n=Math.floor(n),i===0&&n===0)return;const[a=0,o=0,r=1]=this._lastAutoSize??[];a===i&&o===n&&r===s||(this._lastAutoSize=[i,n,s],this.resize("SizeMonitor",{}))}resize(e,i){var y,m,b;const{scene:n,animationManager:s}=this.ctx,{inWidth:a,inHeight:o,inMinWidth:r,inMinHeight:l,inOverrideDevicePixelRatio:c}=i;this.ctx.domManager.setSizeOptions(r??this.minWidth,l??this.minHeight,a??this.width,o??this.height);const h=a??this.width??((y=this._lastAutoSize)==null?void 0:y[0]),p=o??this.height??((m=this._lastAutoSize)==null?void 0:m[1]),f=c??this.overrideDevicePixelRatio??((b=this._lastAutoSize)==null?void 0:b[2]);if(this.debug(`Chart.resize() from ${e}`,{width:h,height:p,pixelRatio:f,stack:new Error().stack}),!(h==null||p==null||!xe(h)||!xe(p))&&n.resize(h,p,f)){s.reset();let S=!0;(this.width==null||this.height==null)&&this._firstAutoSize&&(S=!1,this._firstAutoSize=!1),this.update(3,{forceNodeDataRefresh:!0,skipAnimations:S}),this._autoSizeNotify.notify()}}async updateData(){this.series.forEach(i=>i.setChartData(this.data));const e=this.modulesManager.mapModules(i=>{var n;return(n=i.updateData)==null?void 0:n.call(i,this.data)});await Promise.all(e)}async processData(){this.series.some(s=>s.canHaveAxes)&&(this.assignAxesToSeries(),this.assignSeriesToAxes());const e=new fW(this.mode,this.suppressFieldDotNotation),i=this.series.map(s=>(s.resetDatumCallbackCache(),s.processData(e))),n=this.modulesManager.mapModules(s=>{var a;return(a=s.processData)==null?void 0:a.call(s,e)});this._cachedData=e.execute(this._cachedData),await Promise.all([...i,...n]);for(const s of this.axes)s.processData();this.updateLegends()}updateLegends(e){for(const{legend:i,legendType:n}of this.modulesManager.legends())n==="category"?this.setCategoryLegendData(e):this.setLegendData(n,i)}setCategoryLegendData(e){var i;const{ctx:{legendManager:n,stateManager:s}}=this;e&&this.series.forEach(o=>{const r=e.find(l=>l.seriesId===o.id);o.onLegendInitialState("category",r)});const a=this.series.flatMap(o=>{const r=o.getLegendData("category");return n.updateData(o.id,r),r});if(e){s.setStateAndRestore(n,e);return}if(this.mode!=="integrated"){const o={},r=new Map(this.series.map(l=>[l.id,l.type]));for(const{seriesId:l,symbol:{marker:c},label:h}of a.filter(p=>!p.hideInLegend)){if(c.fill==null)continue;const p=r.get(l),f=o[p]??(o[p]={});f[i=h.text]??(f[i]=c.fill),f[h.text]!==c.fill&&It.warnOnce(`legend item '${h.text}' has multiple fill colors, this may cause unexpected behaviour.`)}}n.update()}setLegendData(e,i){i.data=this.series.filter(n=>n.properties.showInLegend).flatMap(n=>n.getLegendData(e))}async processLayout(){var a;const e=this.animationRect,{width:i,height:n}=this.ctx.scene,s=this.ctx.layoutManager.createContext(i,n);await this.performLayout(s),e&&!((a=this.animationRect)!=null&&a.equals(e))&&this.ctx.animationManager.skipCurrentBatch(),this.debug("Chart.performUpdate() - seriesRect",this.seriesRect)}async updateSeries(e){const{seriesRect:i}=this;await Promise.all(e.map(n=>n.update({seriesRect:i}))),this.ctx.seriesLabelLayoutManager.updateLabels(this.series.filter(n=>n.visible&&n.usesPlacedLabels),this.padding,this.seriesRect)}async waitForUpdate(e=1e4,i=!1){const n=performance.now();for(;(this._pendingFactoryUpdatesCount>0||this.performUpdateType!==7||this.runningUpdateType!==7)&&!this.destroyed;){if(this._pendingFactoryUpdatesCount>0&&await this.updateMutex.waitForClearAcquireQueue(),(this.performUpdateType!==7||this.runningUpdateType!==7)&&await this._performUpdateNotify.await(),performance.now()-n>e){const s=`Chart.waitForUpdate() timeout of ${e} reached - first chart update taking too long.`;if(i)throw new Error(s);It.warnOnce(s)}NH()&&await Zot()}}filterMiniChartSeries(e){return e==null?void 0:e.filter(i=>i.showInMiniChart!==!1)}applyOptions(e){var b,S,v,D,I;const i=this.firstApply?e.processedOptions:e.diffOptions(this.chartOptions);if(i==null||Object.keys(i).length===0)return;const n=this.firstApply?{}:this.chartOptions.processedOptions,s=e.processedOptions;ar("Chart.applyOptions() - applying delta",i);const a=this.applyModules(s),o=["type","data","series","listeners","preset","theme","legend.listeners","navigator.miniChart.series","navigator.miniChart.label","locale.localeText","axes","topology","nodes","initialState","styleContainer"];i.listeners&&this.registerListeners(this,i.listeners),lx(this,i,{skip:o});let r=!1,l="no-op";i.series!=null&&(l=this.applySeries(this,i.series,n==null?void 0:n.series),r=!0),l==="replaced"&&this.resetAnimations(),this.applyAxes(this,s,n,l,[])&&(r=!0),i.data&&(this.data=i.data),(b=i.legend)!=null&&b.listeners&&this.modulesManager.isEnabled("legend")&&Object.assign(this.legend.listeners,i.legend.listeners),(S=i.locale)!=null&&S.localeText&&(this.modulesManager.getModule("locale").localeText=(v=i.locale)==null?void 0:v.localeText),this.chartOptions=e;const c=this.modulesManager.getModule("navigator"),h=this.modulesManager.getModule("zoom");!(c!=null&&c.enabled)&&!(h!=null&&h.enabled)&&this.ctx.zoomManager.updateZoom("chart");const p=c==null?void 0:c.miniChart,f=((I=(D=s.navigator)==null?void 0:D.miniChart)==null?void 0:I.series)??s.series;(p==null?void 0:p.enabled)===!0&&f!=null?this.applyMiniChartOptions(p,f,s,n):(p==null?void 0:p.enabled)===!1&&(p.series=[],p.axes=[]),this.ctx.annotationManager.setAnnotationStyles(e.annotationThemes),r||(r=this.shouldForceNodeDataRefresh(i,l));const m=r||a?0:3;this.maybeResetAnimations(l),this.shouldClearLegendData(s,n,l)&&this.ctx.legendManager.clearData(),this.applyInitialState(s),ar("Chart.applyOptions() - update type",cx[m],{seriesStatus:l,forceNodeDataRefresh:r}),this.update(m,{forceNodeDataRefresh:r,newAnimationBatch:!0}),this.firstApply=!1}applyInitialState(e){var l,c,h;const{annotationManager:i,chartTypeOriginator:n,historyManager:s,stateManager:a,zoomManager:o}=this.ctx,{initialState:r}=e;if("annotations"in e&&((l=e.annotations)!=null&&l.enabled)&&(r==null?void 0:r.annotations)!=null){const p=r.annotations.map(f=>{const y=i.getAnnotationTypeStyles(f.type);return ne(f,y)});a.setState(i,p)}(r==null?void 0:r.chartType)!=null&&a.setState(n,r.chartType),((c=e.navigator)!=null&&c.enabled||(h=e.zoom)!=null&&h.enabled)&&(r==null?void 0:r.zoom)!=null&&a.setState(o,r.zoom),(r==null?void 0:r.legend)!=null&&this.updateLegends(r.legend),r!=null&&s.clear()}maybeResetAnimations(e){if(this.mode==="standalone")switch(e){case"series-grouping-change":case"replaced":this.resetAnimations();break}}shouldForceNodeDataRefresh(e,i){const n=!!e.data||i==="data-change"||i==="replaced",s=mE.getKeys(),a=Object.values(s).some(r=>e[r]!=null),o=e.title!=null&&e.subtitle!=null;return n||a||o}shouldClearLegendData(e,i,n){const s=n==="replaced"||n==="series-grouping-change"||n==="updated",a=i.legend!=null&&e.legend==null;return s||a}applyMiniChartOptions(e,i,n,s){var h,p,f,y;const a=((p=(h=s==null?void 0:s.navigator)==null?void 0:h.miniChart)==null?void 0:p.series)??(s==null?void 0:s.series),o=this.applySeries(e,this.filterMiniChartSeries(i),this.filterMiniChartSeries(a));this.applyAxes(e,n,s,o,["axes[].tick","axes[].thickness","axes[].title","axes[].crosshair","axes[].gridLine","axes[].label"]);const r=e.series;for(const m of r)m.properties.id=void 0;const l=e.axes,c=l.find(m=>m.direction==="x");for(const m of l)m.nice=!1,m.gridLine.enabled=!1,m.label.enabled=m===c,m.tick.enabled=!1,m.interactionEnabled=!1;if(c!=null){const m=(f=n.navigator)==null?void 0:f.miniChart,b=m==null?void 0:m.label,S=(y=m==null?void 0:m.label)==null?void 0:y.interval;if(c.line.enabled=!1,c.label.set(sL(b,["interval","rotation","minSpacing","autoRotate","autoRotateAngle"])),c.tick.set(sL(S,["enabled","width","size","color","interval","step"])),c.type==="grouped-category"){c.label.enabled=!1,c.label.rotation=0;const{depthOptions:D}=c;if(D.length===0)D.set([{label:{enabled:!0}}]);else for(let I=1;I<D.length;I++)D[I].label.enabled=!1}const v=S==null?void 0:S.step;v!=null&&(c.interval.step=v)}}applyModules(e){var s;const{type:i}=this.constructor;let n=!1;for(const a of ul.byType("root","legend")){const r=e[a.optionsKey]!=null&&a.chartTypes.includes(i);r!==this.modulesManager.isEnabled(a)&&(r?(this.modulesManager.addModule(a,l=>l.moduleFactory(this.getModuleContext())),a.type==="legend"&&((s=this.modulesManager.getModule(a))==null||s.attachLegend(this.ctx.scene)),this[a.optionsKey]=this.modulesManager.getModule(a)):(this.modulesManager.removeModule(a),delete this[a.optionsKey]),n=!0)}return n}initSeriesDeclarationOrder(e){for(let i=0;i<e.length;i++)e[i].setSeriesIndex(i)}applySeries(e,i,n){var h;if(!i)return"no-change";const s=ect(e.series,i,n);if(s.status==="no-overlap"){ar(`Chart.applySeries() - creating new series instances, status: ${s.status}`,s);const p=i.map(f=>this.createSeries(f));return this.initSeriesDeclarationOrder(p),e.series=p,"replaced"}ar("Chart.applySeries() - matchResult",s);const a=[];let o=!1,r=!1,l=!1;const c=s.changes.toSorted((p,f)=>p.targetIdx-f.targetIdx);for(const p of c)switch(r||(r=p.status==="series-grouping"),o||(o=((h=p.diff)==null?void 0:h.data)!=null),l||(l=p.status!=="no-op"),p.status){case"add":{const f=this.createSeries(p.opts);a.push(f),ar("Chart.applySeries() - created new series",f);break}case"remove":ar(`Chart.applySeries() - removing series at previous idx ${p.idx}`,p.series);break;case"no-op":a.push(p.series),ar(`Chart.applySeries() - no change to series at previous idx ${p.idx}`,p.series);break;case"series-grouping":case"update":default:{const{series:f,diff:y,idx:m}=p;ar(`Chart.applySeries() - applying series diff previous idx ${m}`,y,f),this.applySeriesValues(f,y),f.markNodeDataDirty(),a.push(f)}}return this.initSeriesDeclarationOrder(a),ar("Chart.applySeries() - final series instances",a),e.series=a,r?"series-grouping-change":o?"data-change":l?"updated":"no-op"}applyAxes(e,i,n,s,a=[]){if(!("axes"in i)||!i.axes)return!1;a=["axes[].type",...a];const{axes:o}=i;return!(s==="replaced")&&e.axes.length===o.length&&e.axes.every((c,h)=>c.type===o[h].type)&&vE(n)?(e.axes.forEach((c,h)=>{var m;const p=((m=n.axes)==null?void 0:m[h])??{},f=Lc(p,o[h]);ar(`Chart.applyAxes() - applying axis diff idx ${h}`,f);const y=`axes[${h}]`;lx(c,f,{path:y,skip:a})}),!0):(ar(`Chart.applyAxes() - creating new axes instances; seriesStatus: ${s}`),e.axes=this.createAxis(o,a),!0)}createSeries(e){const i=fa.create(e.type,this.getModuleContext());return this.applySeriesOptionModules(i,e),this.applySeriesValues(i,e),i}applySeriesOptionModules(e,i){const n=e.createModuleContext(),s=e.getModuleMap();for(const a of ul.byType("series-option"))a.optionsKey in i&&a.seriesTypes.includes(e.type)&&s.addModule(a,o=>o.moduleFactory(n))}applySeriesValues(e,i){const n=e.getModuleMap(),{type:s,data:a,listeners:o,seriesGrouping:r,showInMiniChart:l,...c}=i;for(const h of Cg)if(h.type==="series-option"&&h.optionsKey in c){const p=n.getModule(h.optionsKey);if(p){const f=c[h.optionsKey];delete c[h.optionsKey],p.properties.set(f)}}e.properties.set(c),"data"in i&&e.setOptionsData(a),o&&this.registerListeners(e,o),"seriesGrouping"in i&&(r==null?e.seriesGrouping=void 0:e.seriesGrouping={...e.seriesGrouping,...r})}createAxis(e,i){const n=[],s=this.getModuleContext();for(let a=0;a<e.length;a++){const o=e[a],r=Sc.create(o.type,s);this.applyAxisModules(r,o),lx(r,o,{path:`axes[${a}]`,skip:i}),n.push(r)}return Jlt(n),n}applyAxisModules(e,i){const n=e.createModuleContext(),s=e.getModuleMap();for(const a of ul.byType("axis-option")){const o=i[a.optionsKey]!=null;o!==s.isEnabled(a)&&(o?(s.addModule(a,r=>r.moduleFactory(n)),e[a.optionsKey]=s.getModule(a)):(s.removeModule(a),delete e[a.optionsKey]))}}registerListeners(e,i){e.clearEventListeners();for(const[n,s]of Object.entries(i))Jd(s)&&e.addEventListener(n,s)}};Zi.chartsInstances=new WeakMap;N([Ma({newValue(t){this.destroyed||(this.ctx.domManager.setContainer(t),Zi.chartsInstances.set(t,this))},oldValue(t){Zi.chartsInstances.delete(t)}})],Zi.prototype,"container",2);N([Ma({newValue(t){this.resize("width option",{inWidth:t})}})],Zi.prototype,"width",2);N([Ma({newValue(t){this.resize("height option",{inHeight:t})}})],Zi.prototype,"height",2);N([Ma({newValue(t){this.resize("minWidth option",{inMinWidth:t})}})],Zi.prototype,"minWidth",2);N([Ma({newValue(t){this.resize("minHeight option",{inMinHeight:t})}})],Zi.prototype,"minHeight",2);N([Ma({newValue(t){this.resize("overrideDevicePixelRatio option",{inOverrideDevicePixelRatio:t})}})],Zi.prototype,"overrideDevicePixelRatio",2);N([P(Lt)],Zi.prototype,"padding",2);N([P(Lt)],Zi.prototype,"seriesArea",2);N([P(Lt)],Zi.prototype,"keyboard",2);N([P(Lt)],Zi.prototype,"touch",2);N([P(Je(["standalone","integrated"],"a chart mode"))],Zi.prototype,"mode",2);N([ui("chartCaptions.title")],Zi.prototype,"title",2);N([ui("chartCaptions.subtitle")],Zi.prototype,"subtitle",2);N([ui("chartCaptions.footnote")],Zi.prototype,"footnote",2);N([P(Gt)],Zi.prototype,"suppressFieldDotNotation",2);N([Ma({changeValue(t,e){this.onAxisChange(t,e)}})],Zi.prototype,"axes",2);N([Ma({changeValue(t,e){this.onSeriesChange(t,e)}})],Zi.prototype,"series",2);var qA=Zi,Gct={2:(t,e)=>Math.log2(e),[Math.E]:(t,e)=>Math.log(e),10:(t,e)=>Math.log10(e)},Vct=(t,e)=>Math.log(e)/Math.log(t);function M1(t,e,i){const n=Math.min(...e),s=Gct[t]??Vct;return n>=0?s(t,i):-s(t,-i)}var Uct={[Math.E]:(t,e)=>Math.exp(e),10:(t,e)=>e>=0?10**e:1/10**-e},Hct=(t,e)=>t**e;function A1(t,e,i){const n=Math.min(...e),s=Uct[t]??Hct;return n>=0?s(t,i):-s(t,-i)}var AE=class extends Oe{constructor(t=[1,10],e=[0,1]){super(t,e),this.type="log",this.defaultClamp=!0,this.base=10,this.log=i=>M1(this.base,this.domain,i),this.pow=i=>A1(this.base,this.domain,i)}toDomain(t){return t}transform(t){const[e,i]=Hn(this.domain);return e>=0!=i>=0?NaN:e>=0?Math.log(t):-Math.log(-t)}transformInvert(t){const[e,i]=Hn(this.domain);return e>=0!=i>=0?NaN:e>=0?Math.exp(t):-Math.exp(-t)}niceDomain(t,e=this.domain){if(e.length<2)return[];const{base:i}=this,[n,s]=e,a=n>s?Math.ceil:Math.floor,o=n>s?Math.floor:Math.ceil,r=A1(i,e,a(M1(i,e,n))),l=A1(i,e,o(M1(i,e,s)));return[r,l]}ticks({interval:t,tickCount:e=Oe.defaultTickCount},i=this.domain,n){if(!i||i.length<2||e<1)return[];const s=this.base,[a,o]=i,r=Math.min(a,o),l=Math.max(a,o);let c=this.log(r),h=this.log(l);if(t){const b=D=>D>=r&&D<=l,S=Math.min(Math.abs(t),Math.abs(h-c)),v=Cx(c,h,S).map(this.pow).filter(b);if(!kx(v.length,this.getPixelRange()))return v}if(!rU(s)||h-c>=e)return ZN(c,h,Math.min(h-c,e)).map(this.pow);let p=[];const f=r>0;c=Math.floor(c)-1,h=Math.round(h)+1;const y=ug(this.range)/e;let m=1/0;for(let b=c;b<=h;b++){const S=this.convert(this.pow(b+1));for(let v=1;v<s;v++){const D=f?v:s-v+1,I=this.pow(b)*D,T=this.convert(I),k=Math.abs(m-T),E=Math.abs(T-S),w=k>=y&&E>=y;I>=r&&I<=l&&(v===1||w||p.length===0)&&(p.push(I),m=T)}}return p=kU(p,f,n),p}tickFormatter({specifier:t}){return t!=null?nH(t):String}datumFormatter(t){return this.tickFormatter(t)}},Wct=class{constructor(t,e,i){this.root=new Kct(t,e,i)}clear(t){this.root.clear(t)}addValue(t,e){const i={hitTester:t,value:e,distanceSquared:(n,s)=>t.distanceSquared(n,s)};this.root.addElem(i)}find(t,e){const i={best:{nearest:void 0,distanceSquared:1/0}};return this.root.find(t,e,i),i.best}},Yct=class{constructor(t,e,i,n){this.nw=t,this.ne=e,this.sw=i,this.se=n}addElem(t){this.nw.addElem(t),this.ne.addElem(t),this.sw.addElem(t),this.se.addElem(t)}find(t,e,i){this.nw.find(t,e,i),this.ne.find(t,e,i),this.sw.find(t,e,i),this.se.find(t,e,i)}},$ct=class{constructor(t,e,i){this.capacity=t,this.maxdepth=e,this.boundary=i??Rt.NaN,this.elems=[],this.subdivisions=void 0}clear(t){this.elems.length=0,this.boundary=t,this.subdivisions=void 0}addElem(t){this.addCondition(t)&&(this.subdivisions===void 0?this.maxdepth===0||this.elems.length<this.capacity?this.elems.push(t):this.subdivide(t):this.subdivisions.addElem(t))}find(t,e,i){this.findCondition(t,e,i)&&(this.subdivisions===void 0?this.findAction(t,e,i):this.subdivisions.find(t,e,i))}subdivide(t){this.subdivisions=this.makeSubdivisions();for(const e of this.elems)this.subdivisions.addElem(e);this.subdivisions.addElem(t),this.elems.length=0}makeSubdivisions(){const{x:t,y:e,width:i,height:n}=this.boundary,{capacity:s}=this,a=this.maxdepth-1,o=i/2,r=n/2,l=new Rt(t,e,o,r),c=new Rt(t+o,e,o,r),h=new Rt(t,e+r,o,r),p=new Rt(t+o,e+r,o,r);return new Yct(this.child(s,a,l),this.child(s,a,c),this.child(s,a,h),this.child(s,a,p))}},Kct=class EW extends $ct{addCondition(e){const{x:i,y:n}=e.hitTester.midPoint;return this.boundary.containsPoint(i,n)}findCondition(e,i,n){const{best:s}=n;return s.distanceSquared!==0&&this.boundary.distanceSquared(e,i)<s.distanceSquared}findAction(e,i,n){const s=AA(e,i,this.elems,n.best.distanceSquared);s.nearest!==void 0&&s.distanceSquared<n.best.distanceSquared&&(n.best=s)}child(e,i,n){return new EW(e,i,n)}},mr=class wW extends Oe{constructor(){super([0,1],[0,1]),this.type="number"}static getTickStep(e,i,n){const{interval:s,tickCount:a=Oe.defaultTickCount,minTickCount:o,maxTickCount:r}=n;return s??Tx(e,i,a,o,r)}toDomain(e){return e}ticks({interval:e,tickCount:i=Oe.defaultTickCount,minTickCount:n,maxTickCount:s},a=this.domain,o){if(!a||a.length<2||i<1||!a.every(isFinite))return[];const[r,l]=a;if(e){const c=Math.abs(e);if(!kx((l-r)/c,this.getPixelRange()))return Cx(r,l,c)}return ZN(r,l,i,n,s,o)}niceDomain(e,i=this.domain){if(i.length<2)return[];const{tickCount:n=Oe.defaultTickCount}=e;let[s,a]=i;if(n===1)[s,a]=bot(s,a);else if(n>1){const o=s>a?Math.ceil:Math.floor,r=s>a?Math.floor:Math.ceil,l=4;for(let c=0;c<l;c++){const h=s,p=a,f=wW.getTickStep(s,a,e),[y,m]=i;if(s=o(y/f)*f,a=r(m/f)*f,s===h&&a===p)break}}return[s,a]}tickFormatter({ticks:e,fractionDigits:i,specifier:n}){return n!=null?I_(e,n):s=>kc(s,i)}datumFormatter({ticks:e,fractionDigits:i,specifier:n}){return n!=null?I_(e,n):s=>kc(s,i+1)}};function jc(t){if(t.length===0)return null;let e=1/0,i=-1/0;for(const s of t){const a=s instanceof Date?s.getTime():s;typeof a=="number"&&(a<e&&(e=a),a>i&&(i=a))}const n=[e,i];return n.every(isFinite)?n:null}function DE(t,e,i){let n=!1;return t.length>2&&(t=jc(t)??[NaN,NaN]),isNaN(e)||(n||(n=e>t[0]),t=[e,t[1]]),isNaN(i)||(n||(n=i<t[1]),t=[t[0],i]),t[0]>t[1]&&(t=[]),{extent:t,clipped:n}}var mh=class extends vb{constructor(e,i=new mr){super(e,i),this.min=NaN,this.max=NaN}normaliseDataDomain(e){const{min:i,max:n}=this,{extent:s,clipped:a}=DE(e,i,n);return{domain:s,clipped:a}}};mh.className="NumberAxis";mh.type="number";N([P(xl(Mg,yb("max"))),fh(NaN)],mh.prototype,"min",2);N([P(xl(Mg,mb("min"))),fh(NaN)],mh.prototype,"max",2);var sp=class extends vb{constructor(t){super(t,new uH),this.min=void 0,this.max=void 0}normaliseDataDomain(t){var s;let{min:e,max:i}=this,n=!1;return typeof e=="number"&&(e=new Date(e)),typeof i=="number"&&(i=new Date(i)),t.length>2&&(t=((s=jc(t))==null?void 0:s.map(a=>new Date(a)))??[]),e instanceof Date&&(n||(n=e>t[0]),t=[e,t[1]]),i instanceof Date&&(n||(n=i<t[1]),t=[t[0],i]),t[0]>t[1]&&(t=[]),{domain:t,clipped:n}}};sp.className="TimeAxis";sp.type="time";N([P(xl(RN,yb("max")),{optional:!0})],sp.prototype,"min",2);N([P(xl(RN,mb("min")),{optional:!0})],sp.prototype,"max",2);var IE=class extends ZA{constructor(){super(...arguments),this.clipFocusBox=!0}getScaleInformation({xScale:t,yScale:e}){const i=Oe.is(t),n=Oe.is(e);return{isContinuousX:i,isContinuousY:n,xScaleType:t==null?void 0:t.type,yScaleType:e==null?void 0:e.type}}getModulePropertyDefinitions(){var i,n;const t=(i=this.axes.x)==null?void 0:i.scale,e=(n=this.axes.y)==null?void 0:n.scale;return this.moduleMap.mapModules(s=>s.getPropertyDefinitions(this.getScaleInformation({xScale:t,yScale:e}))).flat()}async requestDataModel(t,e,i){i.props.push(...this.getModulePropertyDefinitions());const{dataModel:n,processedData:s}=await t.request(this.id,e??[],i);return this.dataModel=n,this.processedData=s,this.dispatch("data-processed",{dataModel:n,processedData:s}),{dataModel:n,processedData:s}}isProcessedDataAnimatable(){var n,s;const t=(s=(n=this.processedData)==null?void 0:n.reduced)==null?void 0:s.animationValidation;if(!t)return!0;const{orderedKeys:e,uniqueKeys:i}=t;return e&&i}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}pickFocus(t){const e=this.getNodeData();if(e===void 0||e.length===0)return;const i=this.computeFocusDatumIndex(t,e);if(i===void 0)return;const{clipFocusBox:n}=this,s=e[i],a={...t,datumIndex:i},o=this.computeFocusBounds(a);if(o!==void 0)return{bounds:o,clipFocusBox:n,datum:s,datumIndex:i}}computeFocusDatumIndex(t,e){const i=r=>{const{missing:l=!1,enabled:c=!0,focusable:h=!0}=e[r];return!l&&c&&h},n=(r,l)=>{for(;r>=0&&!i(r);)r+=l;return r===-1?void 0:r},s=(r,l)=>{for(;r<e.length&&!i(r);)r+=l;return r===e.length?void 0:r};let a;const o=Jt(0,t.datumIndex,e.length-1);return t.datumIndexDelta<0?a=n(o,t.datumIndexDelta):t.datumIndexDelta>0?a=s(o,t.datumIndexDelta):a=s(o,1)??n(o,-1),a===void 0?t.datumIndexDelta===0?void 0:t.datumIndex-t.datumIndexDelta:a}},Fc=class extends Qt{constructor(){super(...arguments),this.fill="rgba(255,255,255, 0.33)",this.stroke="rgba(0, 0, 0, 0.4)",this.strokeWidth=2}};N([P(ke,{optional:!0})],Fc.prototype,"fill",2);N([P(Re,{optional:!0})],Fc.prototype,"fillOpacity",2);N([P(ke,{optional:!0})],Fc.prototype,"stroke",2);N([P(Ct,{optional:!0})],Fc.prototype,"strokeWidth",2);N([P(Re,{optional:!0})],Fc.prototype,"strokeOpacity",2);N([P(bl,{optional:!0})],Fc.prototype,"lineDash",2);N([P(Ct,{optional:!0})],Fc.prototype,"lineDashOffset",2);var QA=class extends Qt{};N([P(Ct,{optional:!0})],QA.prototype,"strokeWidth",2);N([P(Re,{optional:!0})],QA.prototype,"dimOpacity",2);N([P(Gt,{optional:!0})],QA.prototype,"enabled",2);var OW=class extends Qt{constructor(){super(...arguments),this.color="black"}};N([P(ke,{optional:!0})],OW.prototype,"color",2);var TE=class extends Qt{constructor(){super(...arguments),this.enabled=!0}};N([P(Gt,{optional:!0})],TE.prototype,"enabled",2);var Db=class extends Qt{constructor(){super(...arguments),this.item=new Fc,this.series=new QA,this.text=new OW}};N([P(Lt)],Db.prototype,"item",2);N([P(Lt)],Db.prototype,"series",2);N([P(Lt)],Db.prototype,"text",2);var Xa=class extends Qt{constructor(){super(...arguments),this.visible=!0,this.focusPriority=1/0,this.showInLegend=!0,this.cursor="default",this.nodeClickRange="exact",this.highlight=new TE,this.highlightStyle=new Db}};N([P(Dt,{optional:!0})],Xa.prototype,"id",2);N([P(Gt)],Xa.prototype,"visible",2);N([P(wU,{optional:!0})],Xa.prototype,"focusPriority",2);N([P(Gt)],Xa.prototype,"showInLegend",2);N([P(Dt)],Xa.prototype,"cursor",2);N([P(BA)],Xa.prototype,"nodeClickRange",2);N([P(Lt)],Xa.prototype,"highlight",2);N([P(Lt)],Xa.prototype,"highlightStyle",2);var ap={x:["xKey"],y:["yKey"]},op={x:["xName"],y:["yName"]},CE=class extends Mb{constructor(t,e,i,n){super(t,e,i,n),this.xKey=n.properties.xKey,this.yKey=n.properties.yKey}},Gc=class extends Xa{constructor(){super(...arguments),this.pickOutsideVisibleMinorAxis=!1}};N([P(Dt,{optional:!0})],Gc.prototype,"legendItemName",2);N([P(Gt,{optional:!0})],Gc.prototype,"pickOutsideVisibleMinorAxis",2);var zM=100,xh=class extends IE{constructor({pathsPerSeries:t=["path"],hasMarkers:e=!1,hasHighlightedLabels:i=!1,pathsZIndexSubOrderOffset:n=[],datumSelectionGarbageCollection:s=!0,markerSelectionGarbageCollection:a=!0,animationAlwaysUpdateSelections:o=!1,animationResetFns:r,directionKeys:l,directionNames:c,...h}){if(super({directionKeys:l,directionNames:c,canHaveAxes:!0,...h}),this.NodeEvent=CE,this.dataNodeGroup=this.contentGroup.appendChild(new Kt({name:`${this.id}-series-dataNodes`,zIndex:0})),this.markerGroup=this.contentGroup.appendChild(new Kt({name:`${this.id}-series-markers`,zIndex:1})),this.labelGroup=this.contentGroup.appendChild(new ta({name:`${this.id}-series-labels`})),this.labelSelection=Xi.select(this.labelGroup,Nn),this.highlightSelection=Xi.select(this.highlightNode,()=>this.opts.hasMarkers?new En:this.nodeFactory()),this.highlightLabelSelection=Xi.select(this.highlightLabel,Nn),this.annotationSelections=new Set,this.debug=Qe.create(),!l||!c)throw new Error(`Unable to initialise series type ${this.type}`);this.opts={pathsPerSeries:t,hasMarkers:e,hasHighlightedLabels:i,pathsZIndexSubOrderOffset:n,directionKeys:l,directionNames:c,animationResetFns:r,animationAlwaysUpdateSelections:o,datumSelectionGarbageCollection:s,markerSelectionGarbageCollection:a},this.paths=t.map(p=>new na({name:`${this.id}-${p}`})),this.datumSelection=Xi.select(this.dataNodeGroup,()=>this.nodeFactory(),s),this.markerSelection=Xi.select(this.markerGroup,En,a),this.animationState=new bb("empty",{empty:{update:{target:"ready",action:p=>this.animateEmptyUpdateReady(p)},reset:"empty",skip:"ready",disable:"disabled"},ready:{updateData:"waiting",clear:"clearing",highlight:p=>this.animateReadyHighlight(p),highlightMarkers:p=>this.animateReadyHighlightMarkers(p),resize:p=>this.animateReadyResize(p),reset:"empty",skip:"ready",disable:"disabled"},waiting:{update:{target:"ready",action:p=>{this.ctx.animationManager.isSkipped()?this.resetAllAnimation(p):this.animateWaitingUpdateReady(p)}},reset:"empty",skip:"ready",disable:"disabled"},disabled:{update:p=>this.resetAllAnimation(p),reset:"empty"},clearing:{update:{target:"empty",action:p=>this.animateClearingUpdateEmpty(p)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}get contextNodeData(){return this._contextNodeData}getNodeData(){var t;return(t=this.contextNodeData)==null?void 0:t.nodeData}attachSeries(t,e,i){super.attachSeries(t,e,i),this.attachPaths(this.paths,e,i)}detachSeries(t,e,i){super.detachSeries(t,e,i),this.detachPaths(this.paths,e,i)}attachPaths(t,e,i){for(const n of t)this.contentGroup.appendChild(n)}detachPaths(t,e,i){for(const n of t)this.contentGroup.removeChild(n)}renderToOffscreenCanvas(){const t=this.getNodeData();return t!=null&&t.length>zM}resetAnimation(t){t==="initial"?this.animationState.transition("reset"):t==="ready"?this.animationState.transition("skip"):t==="disabled"&&this.animationState.transition("disable")}addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager.addListener("legend-item-click",t=>this.onLegendItemClick(t)),this.ctx.chartEventManager.addListener("legend-item-double-click",t=>this.onLegendItemDoubleClick(t)))}destroy(){super.destroy(),this._contextNodeData=void 0}update({seriesRect:t}){var l,c;const{visible:e,_contextNodeData:i}=this,s=((c=(l=this.ctx.highlightManager)==null?void 0:l.getActiveHighlight())==null?void 0:c.series)===this,a=this.checkResize(t),o=this.updateHighlightSelection(s);this.updateSelections(e),this.updateNodes(o,s,e);const r=this.getAnimationData(t,i);r&&(a&&this.animationState.transition("resize",r),this.animationState.transition("update",r))}updateSelections(t){var e;const i=!this.opts.animationAlwaysUpdateSelections&&this.ctx.animationManager.isSkipped();if(!(!t&&i)&&!(!this.nodeDataRefresh&&!this.isPathOrSelectionDirty())){if(this.nodeDataRefresh){this.nodeDataRefresh=!1,this.debug("CartesianSeries.updateSelections() - calling createNodeData() for",this.id),this.markQuadtreeDirty(),this._contextNodeData=this.createNodeData();const n=this.isProcessedDataAnimatable();this._contextNodeData&&((e=this._contextNodeData).animationValid??(e.animationValid=n));const{dataModel:s,processedData:a}=this;s!==void 0&&a!==void 0&&this.dispatch("data-update",{dataModel:s,processedData:a})}this.updateSeriesSelections()}}updateSeriesSelections(t){const{datumSelection:e,labelSelection:i,markerSelection:n,paths:s}=this,a=this._contextNodeData;if(!a)return;const{nodeData:o,labelData:r,itemId:l}=a;this.updatePaths({seriesHighlighted:t,itemId:l,contextData:a,paths:s}),this.datumSelection=this.updateDatumSelection({nodeData:o,datumSelection:e}),this.labelSelection=this.updateLabelSelection({labelData:r,labelSelection:i})??i,this.opts.hasMarkers&&(this.markerSelection=this.updateMarkerSelection({nodeData:o,markerSelection:n}))}updateNodes(t,e,i){const{highlightSelection:n,highlightLabelSelection:s,opts:{hasMarkers:a,hasHighlightedLabels:o}}=this,r=!this.ctx.animationManager.isSkipped(),l=this.visible&&this._contextNodeData!=null&&i;this.contentGroup.visible=r||l,this.highlightGroup.visible=(r||l)&&e;const c=this.getOpacity();a?(this.updateMarkerNodes({markerSelection:n,isHighlight:!0}),this.animationState.transition("highlightMarkers",n)):(this.updateDatumNodes({datumSelection:n,isHighlight:!0}),this.animationState.transition("highlight",n)),o&&this.updateLabelNodes({labelSelection:s});const{dataNodeGroup:h,markerGroup:p,datumSelection:f,labelSelection:y,markerSelection:m,paths:b,labelGroup:S}=this,{itemId:v}=this.contextNodeData??{};h.opacity=c,h.visible=r||l,S.visible=l,a&&(p.opacity=c,p.visible=l),S&&(S.opacity=c),this.updatePathNodes({seriesHighlighted:e,itemId:v,paths:b,opacity:c,visible:l,animationEnabled:r}),h.visible&&(this.updateDatumNodes({datumSelection:f,highlightedItems:t,isHighlight:!1}),this.usesPlacedLabels||this.updateLabelNodes({labelSelection:y}),a&&this.updateMarkerNodes({markerSelection:m,isHighlight:!1}))}getHighlightLabelData(t,e){const i=t.filter(n=>n.datum===e.datum&&n.itemId===e.itemId);return i.length===0?void 0:i}getHighlightData(t,e){return e?[e]:void 0}updateHighlightSelection(t){var l;const{highlightSelection:e,highlightLabelSelection:i,_contextNodeData:n}=this;if(!n)return;const s=(l=this.ctx.highlightManager)==null?void 0:l.getActiveHighlight(),a=t&&(s!=null&&s.datum)?s:void 0;let o,r;if(a!=null){const c=this.isLabelEnabled(),{labelData:h,nodeData:p}=n;r=this.getHighlightData(p,a),o=c?this.getHighlightLabelData(h,a):void 0}return this.highlightSelection=this.updateHighlightSelectionItem({items:r,highlightSelection:e}),this.highlightLabelSelection=this.updateHighlightSelectionLabel({items:o,highlightLabelSelection:i}),r}markQuadtreeDirty(){this.quadtree=void 0}*datumNodesIter(){for(const{node:t}of this.datumSelection)t.datum.missing!==!0&&(yield t)}getQuadTree(){if(this.quadtree===void 0){const{width:t,height:e}=this.ctx.scene.canvas,i=new Rt(0,0,t,e);this.quadtree=new Wct(100,10,i),this.initQuadTree(this.quadtree)}return this.quadtree}initQuadTree(t){}pickNodeExactShape(t){const e=super.pickNodeExactShape(t);if(e)return e;const{x:i,y:n}=t,{opts:{hasMarkers:s}}=this;let a;const{dataNodeGroup:o,markerGroup:r}=this;if(a=o.pickNode(i,n),!a&&s&&(a=r==null?void 0:r.pickNode(i,n)),a&&a.datum.missing!==!0)return{datum:a.datum,distance:0};for(const l of this.moduleMap.modules()){const{datum:c}=l.pickNodeExact(t)??{};if(c!=null&&(c==null?void 0:c.missing)!==!0)return{datum:c,distance:0}}}pickNodeClosestDatum(t){var h;const{x:e,y:i}=t,{axes:n,_contextNodeData:s}=this;if(!s)return;const a=n.x,o=n.y,r={x:e,y:i};let l=1/0,c;for(const p of s.nodeData){const{point:{x:f=NaN,y=NaN}={}}=p;if(isNaN(f)||isNaN(y)||!((a==null?void 0:a.inRange(f))&&(o==null?void 0:o.inRange(y))))continue;const b=Math.max((r.x-f)**2+(r.y-y)**2,0);b<l&&(l=b,c=p)}for(const p of this.moduleMap.modules()){const f=p.pickNodeNearest(t);if(f!==void 0&&f.distanceSquared<l){l=f.distanceSquared,c=f.datum;break}}if(c){const p=Math.max(Math.sqrt(l)-(((h=c.point)==null?void 0:h.size)??0),0);return{datum:c,distance:p}}}pickNodeMainAxisFirst(t,e){var m;const{x:i,y:n}=t,{axes:s,_contextNodeData:a}=this,{pickOutsideVisibleMinorAxis:o}=this.properties;if(!a)return;const r=s.x,l=s.y,c=[r,l].filter(Tg.is).map(b=>b.direction);if(e&&c.length===0)return;const[h="x"]=c,p=[i,n];h!=="x"&&p.reverse();const f=[1/0,1/0];let y;for(const b of a.nodeData){const{x:S=NaN,y:v=NaN}=b.point??b.midPoint??{};if(isNaN(S)||isNaN(v)||b.missing===!0)continue;const D=[r==null?void 0:r.inRange(S),l==null?void 0:l.inRange(v)];if(h!=="x"&&D.reverse(),!D[0]||!o&&!D[1])continue;const I=[S,v];h!=="x"&&I.reverse();let T=!0;for(let k=0;k<I.length;k++){const E=Math.abs(I[k]-p[k]);if(E>f[k]){T=!1;break}else E<f[k]&&(f[k]=E,f.fill(1/0,k+1,f.length))}T&&(y=b)}if(y){let b=Math.max(f[0]**2+f[1]**2-(((m=y.point)==null?void 0:m.size)??0),0);for(const S of this.moduleMap.modules()){const v=S.pickNodeMainAxisFirst(t);if(v!==void 0&&v.distanceSquared<b){y=v.datum,b=v.distanceSquared;break}}return{datum:y,distance:Math.sqrt(b)}}}isPathOrSelectionDirty(){return!1}shouldFlipXY(){return!1}keysOrValues(t){var i,n,s;const e=this.dataModel.resolveProcessedDataIndexById(this,t);return((n=(i=this.processedData)==null?void 0:i.keys[e])==null?void 0:n.get(this.id))??((s=this.processedData)==null?void 0:s.columns[e])??[]}visibleRange(t,e,i){const n=this.keysOrValues(t),s=0;return nW((i==null?void 0:i.length)??n.length,e,a=>{const o=(i==null?void 0:i[a])??a;return this.xCoordinateRange(n[o],s,o)})}domainForVisibleRange(t,e,i,n,s,a){const{processedData:o,dataModel:r}=this,[l,c]=n,h=this.keysOrValues(i);if(s){const m=this.visibleRange(i,n,a);return r.getDomainBetweenRange(this,e,m,o)}const p=e.map(m=>this.keysOrValues(m));let f=1/0,y=-1/0;return h.forEach((m,b)=>{const[S,v]=this.xCoordinateRange(m,0,b);if(!(v<l||S>c))for(let D=0;D<e.length;D++){const I=p[D][b];f=Math.min(f,I),y=Math.max(y,I)}}),f>y?[NaN,NaN]:[f,y]}domainForClippedRange(t,e,i,n){const{processedData:s,dataModel:a,axes:o}=this,l=Xct(o[t==="x"?"y":"x"]);if(!l)return e.flatMap(m=>a.getDomain(this,m,"value",s));const c=this.keysOrValues(i);if(n){const m=Zct(c.length,l,b=>c[b]);return a.getDomainBetweenRange(this,e,m,s)}const h=e.map(m=>this.keysOrValues(m)),p=l[0].valueOf(),f=l[1].valueOf(),y=[];return c.forEach((m,b)=>{const S=m.valueOf();if(S<p||S>f)return;const v=h.map(D=>D[b]);S>=p&&y.push(...v),S<=f&&y.push(...v)}),y}countVisibleItems(t,e,i,n,s){const{dataModel:a,processedData:o}=this;if(!a||!o)return 1/0;const r=this.keysOrValues(t),l=e.map(k=>a.resolveColumnById(this,k,o)),c=this.axes.x,h=this.axes.y,p=this.shouldFlipXY(),f=c.range,y=h.range,m=(k,E,w)=>k[0]+(w-E[0])/(E[1]-E[0])*(k[1]-k[0]),b=m(f,c.visibleRange,i[0]),S=m(f,c.visibleRange,i[1]),v=m(y,h.visibleRange,p?n[0]:n[1]),D=m(y,h.visibleRange,p?n[1]:n[0]),I=Math.round((i[0]+(i[1]-i[0])/2)*r.length),T=0;return sW(0,r.length-1,I,s,k=>{let[E,w]=this.xCoordinateRange(r[k],T,k),[R,O]=this.yCoordinateRange(l.map(L=>L[k]),T,k);return!xe(E)||!xe(w)||!xe(R)||!xe(O)?!1:(p&&([E,w,R,O]=[R,O,E,w]),E>=b&&w<=S&&R>=v&&O<=D)})}updateHighlightSelectionItem(t){const{opts:{hasMarkers:e}}=this,{items:i,highlightSelection:n}=t,s=i??[];if(e){const a=n;return this.updateMarkerSelection({nodeData:s,markerSelection:a})}else return this.updateDatumSelection({nodeData:s,datumSelection:n})}updateHighlightSelectionLabel(t){return this.updateLabelSelection({labelData:t.items??[],labelSelection:t.highlightLabelSelection})}updateDatumSelection(t){return t.datumSelection}updateDatumNodes(t){}updateMarkerSelection(t){return t.markerSelection}updateMarkerNodes(t){}updatePaths(t){t.paths.forEach(e=>e.visible=!1)}updatePathNodes(t){const{paths:e,opacity:i,visible:n}=t;for(const s of e)s.opacity=i,s.visible=n}resetPathAnimation(t){var i;const{path:e}=((i=this.opts)==null?void 0:i.animationResetFns)??{};e&&t.paths.forEach(n=>{Vn([n],e)})}resetDatumAnimation(t){var i;const{datum:e}=((i=this.opts)==null?void 0:i.animationResetFns)??{};e&&Vn([t.datumSelection],e)}resetLabelAnimation(t){var i;const{label:e}=((i=this.opts)==null?void 0:i.animationResetFns)??{};e&&Vn([t.labelSelection],e)}resetMarkerAnimation(t){var i;const{marker:e}=((i=this.opts)==null?void 0:i.animationResetFns)??{};e&&this.opts.hasMarkers&&Vn([t.markerSelection],e)}resetAllAnimation(t){var e;this.ctx.animationManager.stopByAnimationGroupId(this.id),this.resetPathAnimation(t),this.resetDatumAnimation(t),this.resetLabelAnimation(t),this.resetMarkerAnimation(t),((e=t.contextData)==null?void 0:e.animationValid)===!1&&this.ctx.animationManager.skipCurrentBatch()}animateEmptyUpdateReady(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(t)}animateWaitingUpdateReady(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(t)}animateReadyHighlight(t){var i;const{datum:e}=((i=this.opts)==null?void 0:i.animationResetFns)??{};e&&Vn([t],e)}animateReadyHighlightMarkers(t){var i;const{marker:e}=((i=this.opts)==null?void 0:i.animationResetFns)??{};e&&Vn([t],e)}animateReadyResize(t){this.resetAllAnimation(t)}animateClearingUpdateEmpty(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(t)}getAnimationData(t,e){const{_contextNodeData:i}=this;return i?{datumSelection:this.datumSelection,markerSelection:this.markerSelection,labelSelection:this.labelSelection,annotationSelections:[...this.annotationSelections],contextData:i,previousContextData:e,paths:this.paths,seriesRect:t}:void 0}updateLabelSelection(t){return t.labelSelection}getScaling(t){if(t instanceof AE){const{range:e,domain:i}=t;return{type:"log",convert:n=>t.convert(n),domain:[i[0],i[1]],range:[e[0],e[1]]}}else if(t instanceof Oe){const{range:e,domain:i}=t;return{type:"continuous",domain:[i[0],i[1]],range:[e[0],e[1]]}}else if(t instanceof db){const{domain:e}=t;return{type:"category",domain:e,inset:t.inset,step:t.step}}}calculateScaling(){const t={};for(const e of Object.values($N)){const i=this.axes[e];if(!i)continue;const n=this.getScaling(i.scale);n!=null&&(t[e]=n)}return t}};function Xct(t){let e,i;if(t instanceof mh&&(Number.isFinite(t.min)||Number.isFinite(t.max))?(e=Number.isFinite(t.min)?t.min:void 0,i=Number.isFinite(t.max)?t.max:void 0):t instanceof sp&&(t.min!=null||t.max!=null)&&({min:e,max:i}=t),!(e==null&&i==null))return e??(e=-1/0),i??(i=1/0),[e,i]}function Zct(t,e,i){const n=e[0].valueOf(),s=e[1].valueOf(),a=tU(0,t-1,r=>{var c;const l=(c=i(r))==null?void 0:c.valueOf();return!Number.isFinite(l)||l>=n});let o=JV(0,t-1,r=>{var c;const l=(c=i(r))==null?void 0:c.valueOf();return!Number.isFinite(l)||l<=s});return a==null||o==null?[0,0]:(o=Math.min(o+1,t),[a,o])}var qct=["top","right","bottom","left"],JA=class RW extends qA{constructor(e,i){super(e,i),this.paired=!0,this.lastUpdateClipRect=void 0,this.lastLayoutWidth=NaN,this.lastLayoutHeight=NaN}onAxisChange(e,i){super.onAxisChange(e,i),this.ctx!=null&&this.ctx.zoomManager.updateAxes(e)}destroySeries(e){super.destroySeries(e),this.lastLayoutWidth=NaN,this.lastLayoutHeight=NaN}getChartType(){return"cartesian"}setRootClipRects(e){const{seriesRoot:i,annotationRoot:n}=this;i.setClipRect(e),n.setClipRect(e)}async processData(){await super.processData();for(const e of this.axes){const i=this.getSyncedDomain(e);i!=null&&e.setDomains(i)}this.ctx.updateService.dispatchProcessData({series:{shouldFlipXY:this.shouldFlipXY()}})}performLayout(e){const{seriesRoot:i,annotationRoot:n}=this,{clipSeries:s,seriesRect:a,visible:o}=this.updateAxes(e.layoutBox);this.seriesRoot.visible=o,this.seriesRect=a,this.animationRect=e.layoutBox;const{x:r,y:l}=a;if(e.width!==this.lastLayoutWidth||e.height!==this.lastLayoutHeight)for(const f of[i,n])f.translationX=Math.floor(r),f.translationY=Math.floor(l);else{const{translationX:f,translationY:y}=i;Ec(this.id,"seriesRect",this.ctx.animationManager,[i,n],{translationX:f,translationY:y},{translationX:Math.floor(r),translationY:Math.floor(l)},{phase:"update"})}this.lastLayoutWidth=e.width,this.lastLayoutHeight=e.height;const c=a.clone().grow(this.seriesArea.padding),h=this.seriesArea.clip||s?c:void 0,{lastUpdateClipRect:p}=this;this.lastUpdateClipRect=h,this.ctx.animationManager.isActive()&&p!=null?this.ctx.animationManager.animate({id:this.id,groupId:"clip-rect",phase:"update",from:p,to:c,onUpdate:f=>this.setRootClipRects(f),onComplete:()=>this.setRootClipRects(h)}):this.setRootClipRects(h),this.ctx.layoutManager.emitLayoutComplete(e,{axes:this.axes.map(f=>f.getLayoutState()),series:{visible:o,rect:a,paddedRect:c},clipSeries:s})}updateAxes(e){const{clipSeries:i,seriesRect:n,overflows:s}=this.resolveAxesLayout(e);for(const a of this.axes)a.update(),a.setCrossLinesVisible(!s),this.clipAxis(a,n,e);return{clipSeries:i,seriesRect:n,visible:!s}}resolveAxesLayout(e){let i,n,s=0;const a=10;do if(n=i??this.getDefaultState(),i=this.updateAxesPass(new Map(n.axisAreaWidths),e.clone()),s++>a){It.warn("Max iterations reached. Unable to stabilize axes layout.");break}while(!this.isLayoutStable(i,n));return this.lastAreaWidths=i.axisAreaWidths,i}updateAxesPass(e,i){const n=new Map,s={};let a=!1,o=!1;for(const v of qct){const D=this.seriesArea.padding[v],I=this.axes.findLast(T=>T.position===v);I?I.seriesAreaPadding=D:i.shrink(D,v)}const r=(e.get("left")??0)+(e.get("right")??0),l=(e.get("top")??0)+(e.get("bottom")??0),c=this.buildCrossLinePadding(e);i.width<=r+c.hPadding||i.height<=l+c.vPadding?a=!0:i.shrink(c);const h=i.clone().shrink(Object.fromEntries(e));for(const v of this.axes){const{position:D="left",direction:I}=v;this.sizeAxis(v,h,D);const T=I==="y",{primaryTickCount:k,bbox:E}=v.calculateLayout(v.nice?s[I]:void 0);s[I]??(s[I]=k),o||(o=v.dataDomain.clipped||v.visibleRange[0]>0||v.visibleRange[1]<1),n.set(v.id,Math.ceil(v.thickness??(T?E==null?void 0:E.width:E==null?void 0:E.height)??0))}const p=Object.entries(IN(this.axes,v=>v.position??"left")),{width:f,height:y,pixelRatio:m}=this.ctx.scene,b=new Map,S=new Map;for(const[v,D]of p){let T=v==="left"||v==="right"?y%m:f%m,k=0;for(const E of D){S.set(E.id,T);const w=n.get(E.id)??0;k=Math.max(k,T+w),E.layoutConstraints.stacked&&(T+=w+RW.AxesPadding)}b.set(v,Math.ceil(k))}for(const[v,D]of p)this.positionAxes({axes:D,position:v,axisWidths:n,axisOffsets:S,axisAreaWidths:b,axisBound:i,seriesRect:h});return{clipSeries:o,seriesRect:h,axisAreaWidths:b,overflows:a}}buildCrossLinePadding(e){const i={top:0,right:0,bottom:0,left:0,hPadding:0,vPadding:0};this.axes.forEach(n=>{var s;(s=n.crossLines)==null||s.forEach(a=>{var o;(o=a.calculatePadding)==null||o.call(a,i)})});for(const[n,s=0]of Object.entries(i))i[n]=Math.max(s-(e.get(n)??0),0);return i.hPadding=i.left+i.right,i.vPadding=i.top+i.bottom,i}clampToOutsideSeriesRect(e,i,n,s){const a=n==="x"?e.x:e.y,o=n==="x"?e.width:e.height;return s===1?Math.min(i,a+o):Math.max(i,a)}getSyncedDomain(e){const i=this.modulesManager.getModule("sync");if(!(i!=null&&i.enabled))return;const n=i.getSyncedDomain(e);if(n&&e.dataDomain.domain.length){let s;const{domain:a}=e.scale;if(Oe.is(e.scale)){const[o,r]=Hn(n);s=o!==a[0]||r!==a[1]}else s=!ll(n,a);s&&!this.skipSync&&i.updateSiblings()}return n}sizeAxis(e,i,n){const s=e instanceof Tg,a=n==="left"||n==="right",{width:o,height:r}=i,l=a?r:o;let c=0,h=l,{min:p,max:f}=this.ctx.zoomManager.getAxisZoom(e.id);const{width:y,unit:m,align:b}=e.layoutConstraints;m==="px"?h=c+y:h=h*y/100,b==="end"&&(c=l-(h-c),h=l),a&&(s?[p,f]=[1-f,1-p]:[c,h]=[h,c]),e.range=[c,h],e.visibleRange=[p,f],e.gridLength=a?o:r}positionAxes(e){const{axes:i,axisBound:n,axisWidths:s,axisOffsets:a,axisAreaWidths:o,seriesRect:r,position:l}=e,c=o.get(l)??0;let h="x",p="y",f=1;(l==="top"||l==="bottom")&&(h="y",p="x");let y=n[h];(l==="right"||l==="bottom")&&(f=-1,y+=h==="x"?n.width:n.height);for(const m of i){const b=o.get(p==="x"?"left":"top")??0,S=s.get(m.id)??0,v=a.get(m.id)??0;m.gridPadding=c-v-S,m.translation[p]=n[p]+b,m.translation[h]=this.clampToOutsideSeriesRect(r,y+f*(v+S),h,f)}}shouldFlipXY(){return this.series.every(e=>e instanceof xh&&e.shouldFlipXY())}getDefaultState(){const e=new Map;if(this.lastAreaWidths)for(const{position:i="left"}of this.axes){const n=this.lastAreaWidths.get(i);n!=null&&e.set(i,n)}return{axisAreaWidths:e,clipSeries:!1,overflows:!1}}isLayoutStable(e,i){if(i.overflows!==e.overflows||i.clipSeries!==e.clipSeries)return!1;for(const n of e.axisAreaWidths.keys())if(!i.axisAreaWidths.has(n))return!1;for(const[n,s]of i.axisAreaWidths.entries()){const a=e.axisAreaWidths.get(n);if((s!=null||a!=null)&&s!==a)return!1}return!0}clipAxis(e,i,n){var l,c;const s=Math.ceil(((l=e.gridLine)==null?void 0:l.width)??0),a=Math.ceil(((c=e.line)==null?void 0:c.width)??0);let{width:o,height:r}=i;switch(o+=e.direction==="x"?s:a,r+=e.direction==="y"?s:a,e.clipGrid(i.x,i.y,o,r),e.position){case"left":case"right":e.clipTickLines(n.x,i.y-s,n.width+s,i.height+s*2);break;case"top":case"bottom":e.clipTickLines(i.x-s,n.y,i.width+s*2,n.height+s);const{label:h,labelNodes:p,scale:f}=e;if(Oe.is(f)&&h.enabled&&h.avoidCollisions&&p.length>1){const y=p.toSorted((v,D)=>v.translationY-D.translationY),m=y.at(-1),b=m.getBBox(),S=i.x+b.y+b.height<=n.x+n.width+this.padding.right;if(m.visible=S,S||e.visibleRange[0]>0||e.visibleRange[1]<1)y[0].visible=!0;else{const v=y[0].getBBox();y[0].visible=v.y>=0}}break}}};JA.className="CartesianChart";JA.type="cartesian";JA.AxesPadding=15;var Qct=JA,Jct={type:"chart",name:"cartesian",detect:vE,create(t,e){return new Qct(t,e)}},fj=Qe.create(!0,"opts"),ux=class{constructor(e,i,n){this.factoryApi=i,this.licenseManager=n,this.chart=e}async update(e){return fj.group("AgChartInstance.update()",async()=>{this.factoryApi.update(e,this),await this.chart.waitForUpdate()})}async updateDelta(e){return fj.group("AgChartInstance.updateDelta()",async()=>{this.factoryApi.updateUserDelta(this,e),await this.chart.waitForUpdate()})}getOptions(){const e=mn(this.chart.getOptions());for(const i of Object.keys(e))i.startsWith("_")&&delete e[i];return e}waitForUpdate(){return this.chart.waitForUpdate()}async download(e){const i=await this.prepareResizedChart(this,e);try{i.chart.download(e==null?void 0:e.fileName,e==null?void 0:e.fileFormat)}finally{i.destroy()}}async __toSVG(e){const i=await this.prepareResizedChart(this,{width:600,height:300,...e});try{return i.chart.toSVG()}finally{i.destroy()}}async getImageDataURL(e){const i=await this.prepareResizedChart(this,e);try{return i.chart.getCanvasDataURL(e==null?void 0:e.fileFormat)}finally{i.destroy()}}getState(){return this.factoryApi.caretaker.save(...this.getEnabledOriginators())}async setState(e){const i=this.getEnabledOriginators();if(!i.includes(this.chart.ctx.legendManager)){await this.setStateOriginators(e,i);return}await this.setStateOriginators(e,i.filter(n=>n!==this.chart.ctx.zoomManager)),await this.setStateOriginators(e,[this.chart.ctx.zoomManager])}resetAnimations(){this.chart.resetAnimations()}skipAnimations(){this.chart.skipAnimations()}destroy(){this.releaseChart?(this.releaseChart(),this.releaseChart=void 0):this.chart&&(this.chart.publicApi=void 0,this.chart.destroy()),this.chart=null}async prepareResizedChart(e,i={}){var m,b;const{chart:n}=e,s=i.width??n.width??n.ctx.scene.canvas.width,a=i.height??n.height??n.ctx.scene.canvas.height,o=e.getState(),r=ul.hasEnterpriseModules(),l={...n.chartOptions.processedOverrides,container:document.createElement("div"),width:s,height:a};i.width!=null&&i.height!=null&&(l.overrideDevicePixelRatio=1);const c=n.getOptions();r&&(l.animation={enabled:!1},(m=this.licenseManager)!=null&&m.isDisplayWatermark()&&(l.foreground={text:this.licenseManager.getWatermarkMessage(),image:{url:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjU4IiBoZWlnaHQ9IjQwIiB2aWV3Qm94PSIwIDAgMjU4IDQwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNMjUuNzc5IDI4LjY1N0gxMy4zNTlMMTEuMTczIDM0LjAxMkg1LjY3Mjk3TDE3LjE4MiA3LjA1OTk5SDIxLjk1M0wzMy40NjIgMzQuMDEySDI3Ljk2MkwyNS43NzYgMjguNjU3SDI1Ljc3OVpNMjQuMDY4IDI0LjM5N0wxOS41ODggMTMuNDM0TDE1LjEwNyAyNC4zOTdIMjQuMDY4Wk02Mi4wOTIgMTguODIzSDQ5LjgxN1YyMy4wODZINTYuNzc1QzU2LjU1NSAyNS4yMjIgNTUuNzU1IDI2LjkyNyA1NC4zNzIgMjguMjAyQzUyLjk4OSAyOS40NzYgNTEuMTY2IDMwLjExNSA0OC45MDkgMzAuMTE1QzQ3LjYyMiAzMC4xMTUgNDYuNDUgMjkuODg1IDQ1LjM5MyAyOS40MjNDNDQuMzU4MyAyOC45NzgxIDQzLjQzMjYgMjguMzEzOCA0Mi42OCAyNy40NzZDNDEuOTI3IDI2LjYzOSA0MS4zNDQgMjUuNjMxIDQwLjkzMSAyNC40NTNDNDAuNTE5IDIzLjI3NSA0MC4zMTEgMjEuOTcgNDAuMzExIDIwLjUzN0M0MC4zMTEgMTkuMTA1IDQwLjUxNiAxNy44IDQwLjkzMSAxNi42MjFDNDEuMzQ0IDE1LjQ0MyA0MS45MjcgMTQuNDM2IDQyLjY4IDEzLjU5OEM0My40Mzc2IDEyLjc1NzcgNDQuMzY5NiAxMi4wOTMyIDQ1LjQxMSAxMS42NTFDNDYuNDc4IDExLjE4OSA0Ny42NTYgMTAuOTYgNDguOTQ2IDEwLjk2QzUxLjYxMiAxMC45NiA1My42MzcgMTEuNjAyIDU1LjAyIDEyLjg4NUw1OC4zIDkuNjA0OTlDNTUuODE3IDcuNjY5OTkgNTIuNjc2IDYuNjk5OTkgNDguODcyIDYuNjk5OTlDNDYuNzYgNi42OTk5OSA0NC44NTMgNy4wMzQ5OSA0My4xNTQgNy43MDA5OUM0MS40NTUgOC4zNjc5OSAzOS45OTggOS4zMDM5OSAzOC43ODMgMTAuNTA0QzM3LjU2NyAxMS43MDcgMzYuNjM0IDEzLjE1OCAzNS45NzcgMTQuODU3QzM1LjMxOSAxNi41NTYgMzQuOTk0IDE4LjQ1MSAzNC45OTQgMjAuNTRDMzQuOTk0IDIyLjYzIDM1LjMyOSAyNC40OTQgMzUuOTk1IDI2LjIwNUMzNi42NjIgMjcuOTE2IDM3LjYwNSAyOS4zNzQgMzguODE3IDMwLjU3N0M0MC4wMzIgMzEuNzggNDEuNDg2IDMyLjcxMyA0My4xODggMzMuMzgzQzQ0Ljg4OCAzNC4wNDkgNDYuNzgyIDM0LjM4NCA0OC44NzIgMzQuMzg0QzUwLjk2MSAzNC4zODQgNTIuNzUgMzQuMDQ5IDU0LjM5IDMzLjM4M0M1Ni4wMzEgMzIuNzE2IDU3LjQyNiAzMS43OCA1OC41NzkgMzAuNTc3QzU5LjczMyAyOS4zNzQgNjAuNjE5IDI3LjkxNiA2MS4yMzkgMjYuMjA1QzYxLjg2IDI0LjQ5NCA2Mi4xNyAyMi42MDUgNjIuMTcgMjAuNTRDNjIuMTY5NiAxOS45Njg4IDYyLjE0NDUgMTkuMzk4IDYyLjA5NSAxOC44MjlMNjIuMDkyIDE4LjgyM1pNMTUxLjgxIDE2Ljk4MUMxNTMuNDEgMTQuNjA5IDE1Ny40MTkgMTQuMzU4IDE1OS4wMjIgMTQuMzU4VjE4LjkxQzE1Ni45NTcgMTguOTEgMTU0Ljk4NSAxOC45OTYgMTUzLjc1NyAxOS44OTJDMTUyLjUyOSAyMC43OTIgMTUxLjkxOSAyMS45ODIgMTUxLjkxOSAyMy40NjRWMzMuOTlIMTQ2Ljk2NFYxNC4zNThIMTUxLjczNkwxNTEuODEgMTYuOTgxWk0xNDMuMDExIDE0LjM2MVYzNC4wMzFIMTM4LjI0TDEzOC4xMzEgMzEuMDQ1QzEzNy40NjYgMzIuMDc2IDEzNi41NTEgMzIuOTIxOSAxMzUuNDcxIDMzLjUwNEMxMzQuMzc2IDM0LjA5OSAxMzMuMDY4IDM0LjM5NiAxMzEuNTM2IDM0LjM5NkMxMzAuMiAzNC4zOTYgMTI4Ljk2MyAzNC4xNTIgMTI3LjgyMiAzMy42NjhDMTI2LjcgMzMuMTk2NCAxMjUuNjg5IDMyLjQ5NSAxMjQuODU1IDMxLjYwOUMxMjQuMDE4IDMwLjcyMiAxMjMuMzU0IDI5LjY2MiAxMjIuODcxIDI4LjQyMkMxMjIuMzg0IDI3LjE4NSAxMjIuMTQyIDI1LjgxMSAxMjIuMTQyIDI0LjMwNEMxMjIuMTQyIDIyLjc5OCAxMjIuMzg0IDIxLjM3OCAxMjIuODcxIDIwLjExNkMxMjMuMzU3IDE4Ljg1NCAxMjQuMDE4IDE3Ljc3MiAxMjQuODU1IDE2Ljg3M0MxMjUuNjg4IDE1Ljk3NjQgMTI2LjY5OCAxNS4yNjM2IDEyNy44MjIgMTQuNzhDMTI4Ljk2MyAxNC4yODEgMTMwLjIwMyAxNC4wMzMgMTMxLjUzNiAxNC4wMzNDMTMzLjA0MyAxNC4wMzMgMTM0LjMzIDE0LjMxOCAxMzUuMzk3IDE0Ljg4OEMxMzYuNDYyIDE1LjQ1ODkgMTM3LjM3NSAxNi4yNzggMTM4LjA1NyAxNy4yNzZWMTQuMzYxSDE0My4wMTFaTTEzMi42MzEgMzAuMTMzQzEzNC4yNTYgMzAuMTMzIDEzNS41NjcgMjkuNTk0IDEzNi41NjUgMjguNTEyQzEzNy41NjEgMjcuNDMgMTM4LjA2IDI1Ljk5MSAxMzguMDYgMjQuMTk2QzEzOC4wNiAyMi40MDEgMTM3LjU2MSAyMC45OSAxMzYuNTY1IDE5Ljg5OUMxMzUuNTcgMTguODA3IDEzNC4yNTkgMTguMjU4IDEzMi42MzEgMTguMjU4QzEzMS4wMDMgMTguMjU4IDEyOS43MjkgMTguODA0IDEyOC43MzQgMTkuODk5QzEyNy43MzggMjAuOTkzIDEyNy4yMzkgMjIuNDM4IDEyNy4yMzkgMjQuMjMzQzEyNy4yMzkgMjYuMDI4IDEyNy43MzUgMjcuNDMzIDEyOC43MzQgMjguNTE1QzEyOS43MjkgMjkuNTk0IDEzMS4wMjggMzAuMTM2IDEzMi42MzEgMzAuMTM2VjMwLjEzM1pNOTMuNjk4IDI3Ljg3NkM5My41Nzk1IDI4LjAwMjUgOTMuNDU2NCAyOC4xMjQ2IDkzLjMyOSAyOC4yNDJDOTEuOTQ3IDI5LjUxNiA5MC4xMjMgMzAuMTU1IDg3Ljg2NiAzMC4xNTVDODYuNTggMzAuMTU1IDg1LjQwOCAyOS45MjYgODQuMzUgMjkuNDY0QzgzLjMxNTUgMjkuMDE4OSA4Mi4zODk4IDI4LjM1NDYgODEuNjM3IDI3LjUxN0M4MC44ODQgMjYuNjc5IDgwLjMwMSAyNS42NzIgNzkuODg5IDI0LjQ5NEM3OS40NzYgMjMuMzE1IDc5LjI2OSAyMi4wMSA3OS4yNjkgMjAuNTc4Qzc5LjI2OSAxOS4xNDUgNzkuNDczIDE3Ljg0IDc5Ljg4OSAxNi42NjJDODAuMzAxIDE1LjQ4NCA4MC44ODQgMTQuNDc2IDgxLjYzNyAxMy42MzlDODIuMzk0OSAxMi43OTg3IDgzLjMyNzMgMTIuMTM0MiA4NC4zNjkgMTEuNjkyQzg1LjQzNiAxMS4yMyA4Ni42MTQgMTEgODcuOTAzIDExQzkwLjU3IDExIDkyLjU5NSAxMS42NDIgOTMuOTc3IDEyLjkyNkw5Ny4yNTggOS42NDQ5OUM5NC43NzQgNy43MTA5OSA5MS42MzMgNi43Mzk5OSA4Ny44MjkgNi43Mzk5OUM4NS43MTggNi43Mzk5OSA4My44MTEgNy4wNzQ5OSA4Mi4xMTIgNy43NDE5OUM4MC40MTMgOC40MDc5OSA3OC45NTYgOS4zNDQ5OSA3Ny43NCAxMC41NDVDNzYuNTI1IDExLjc0NyA3NS41OTIgMTMuMTk5IDc0LjkzNCAxNC44OThDNzQuMjc3IDE2LjU5NyA3My45NTEgMTguNDkxIDczLjk1MSAyMC41ODFDNzMuOTUxIDIyLjY3IDc0LjI4NiAyNC41MzQgNzQuOTUzIDI2LjI0NUM3NS42MTkgMjcuOTU3IDc2LjU2MiAyOS40MTQgNzcuNzc0IDMwLjYxN0M3OC45OSAzMS44MiA4MC40NDQgMzIuNzUzIDgyLjE0NiAzMy40MjNDODMuODQ1IDM0LjA5IDg1LjczOSAzNC40MjQgODcuODI5IDM0LjQyNEM4OS45MTkgMzQuNDI0IDkxLjcwOCAzNC4wOSA5My4zNDggMzMuNDIzQzk0LjcxOCAzMi44NjUgOTUuOTE4IDMyLjEyMSA5Ni45NDggMzEuMTkxQzk3LjE0OSAzMS4wMDggOTcuMzQ4IDMwLjgxNSA5Ny41MzcgMzAuNjJMOTMuNzAxIDI3Ljg4NUw5My42OTggMjcuODc2Wk0xMTAuODAyIDE0LjAxNUMxMDkuMTk5IDE0LjAxNSAxMDYuODM2IDE0LjQ3MSAxMDUuNjExIDE2LjE1OEwxMDUuNTM3IDYuMDE1OTlIMTAwLjc2NVYzMy45MzlIMTA1LjcyVjIyLjY0MUMxMDUuNzcxIDIxLjQ2MDcgMTA2LjI4OCAyMC4zNDg4IDEwNy4xNTcgMTkuNTQ4OUMxMDguMDI3IDE4Ljc0OTEgMTA5LjE3OCAxOC4zMjY2IDExMC4zNTggMTguMzc0QzExMy4zOTcgMTguMzc0IDExNC4yNjggMjEuMTU5IDExNC4yNjggMjIuNjQxVjMzLjkzOUgxMTkuMjIzVjIxLjA1OUMxMTkuMjIzIDIxLjA1OSAxMTkuMTQyIDE0LjAxNSAxMTAuODAyIDE0LjAxNVpNMTczLjc2MyAxNC4zNThIMTY5Ljk5OVY4LjcxNDk5SDE2NS4wNDhWMTQuMzU4SDE2MS4yODRWMTguOTE2SDE2NS4wNDhWMzQuMDAzSDE2OS45OTlWMTguOTE2SDE3My43NjNWMTQuMzU4Wk0xOTAuNzg3IDI1LjI2MkMxOTAuMTI5IDI0LjUwMTQgMTg5LjMwNyAyMy44OTk0IDE4OC4zODQgMjMuNTAxQzE4Ny40ODggMjMuMTE3IDE4Ni4zMzEgMjIuNzMyIDE4NC45NDggMjIuMzY0QzE4NC4xNjUgMjIuMTQzOSAxODMuMzkgMjEuODk3OCAxODIuNjIzIDIxLjYyNkMxODIuMTYzIDIxLjQ2MjEgMTgxLjc0MSAyMS4yMDY2IDE4MS4zODMgMjAuODc1QzE4MS4yMzUgMjAuNzQyMSAxODEuMTE4IDIwLjU3ODkgMTgxLjAzOSAyMC4zOTY0QzE4MC45NjEgMjAuMjE0IDE4MC45MjIgMjAuMDE2NiAxODAuOTI3IDE5LjgxOEMxODAuOTI3IDE5LjI3MiAxODEuMTU2IDE4Ljg0NCAxODEuNjI1IDE4LjUxQzE4Mi4xMjEgMTguMTU2IDE4Mi44NjIgMTcuOTc2IDE4My44MjYgMTcuOTc2QzE4NC43OSAxNy45NzYgMTg1LjU4NyAxOC4yMDkgMTg2LjE0OCAxOC42NjhDMTg2LjcwNiAxOS4xMjQgMTg3LjAwNyAxOS43MjUgMTg3LjA3MiAyMC41TDE4Ny4wOTQgMjAuNzgySDE5MS42MzNMMTkxLjYxNyAyMC40NkMxOTEuNTIxIDE4LjQ4NSAxOTAuNzcxIDE2LjkgMTg5LjM4NSAxNS43NUMxODguMDEyIDE0LjYxMiAxODYuMTg1IDE0LjAzMyAxODMuOTYyIDE0LjAzM0MxODIuNDc3IDE0LjAzMyAxODEuMTQxIDE0LjI4NyAxNzkuOTk0IDE0Ljc4NkMxNzguODMxIDE1LjI5MSAxNzcuOTI2IDE1Ljk5NSAxNzcuMjk2IDE2Ljg4MkMxNzYuNjczIDE3Ljc0NTUgMTc2LjMzOCAxOC43ODQgMTc2LjM0MSAxOS44NDlDMTc2LjM0MSAyMS4xNjcgMTc2LjY5OCAyMi4yNDkgMTc3LjM5OSAyMy4wNjRDMTc4LjA2IDIzLjg0MzIgMTc4Ljg5OCAyNC40NTM0IDE3OS44NDIgMjQuODQ0QzE4MC43NDQgMjUuMjE2IDE4MS45MjggMjUuNjA3IDE4My4zNjEgMjZDMTg0LjgwNiAyNi40MSAxODUuODcyIDI2Ljc4NSAxODYuNTMgMjcuMTIzQzE4Ny4xIDI3LjQxNCAxODcuMzc5IDI3Ljg0NSAxODcuMzc5IDI4LjQ0NEMxODcuMzc5IDI5LjA0MiAxODcuMTIyIDI5LjQ2NyAxODYuNTk1IDI5LjgzOUMxODYuMDQzIDMwLjIyNiAxODUuMjM3IDMwLjQyNSAxODQuMjAxIDMwLjQyNUMxODMuMTY2IDMwLjQyNSAxODIuMzk0IDMwLjE3NCAxODEuNzQ5IDI5LjY3NEMxODEuMTEzIDI5LjE4MSAxODAuNzcyIDI4LjU4OSAxODAuNzEgMjcuODY0TDE4MC42ODUgMjcuNTgySDE3Ni4wMTNMMTc2LjAyNSAyNy45MDFDMTc2LjA2NyAyOS4wOTU1IDE3Ni40NzIgMzAuMjQ4NyAxNzcuMTg4IDMxLjIwNkMxNzcuOTA3IDMyLjE4IDE3OC44OTMgMzIuOTU4IDE4MC4xMTggMzMuNTE5QzE4MS4zMzYgMzQuMDc3IDE4Mi43MzIgMzQuMzYyIDE4NC4yNjYgMzQuMzYyQzE4NS44MDEgMzQuMzYyIDE4Ny4xMDkgMzQuMTA4IDE4OC4yMzggMzMuNjA5QzE4OS4zNzYgMzMuMTA0IDE5MC4yNzIgMzIuMzk0IDE5MC45MDEgMzEuNDk0QzE5MS41MzQgMzAuNTkyIDE5MS44NTMgMjkuNTU0IDE5MS44NTMgMjguNDAzQzE5MS44MjggMjcuMTEgMTkxLjQ2NiAyNi4wNTMgMTkwLjc3NyAyNS4yNjJIMTkwLjc4N1oiIGZpbGw9IiM5QjlCOUIiLz4KPHBhdGggZD0iTTI0MS45ODIgMjUuNjU4MlYxNy43MTE3SDIyOC40NDFMMjIwLjQ5NCAyNS42NTgySDI0MS45ODJaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yNTcuMjM5IDUuOTUwODFIMjQwLjI2NUwyMzIuMjU1IDEzLjg5NzNIMjU3LjIzOVY1Ljk1MDgxWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMjEyLjYxMSAzMy42MDQ4TDIxNi42OCAyOS41MzYxSDIzMC40MTJWMzcuNDgyN0gyMTIuNjExVjMzLjYwNDhaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yMTUuNTk5IDIxLjc4MDNIMjI0LjM3MkwyMzIuMzgyIDEzLjgzMzdIMjE1LjU5OVYyMS43ODAzWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMjA2IDMzLjYwNDdIMjEyLjYxMUwyMjAuNDk0IDI1LjY1ODJIMjA2VjMzLjYwNDdaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yNDAuMjY1IDUuOTUwODFMMjM2LjE5NyAxMC4wMTk0SDIxMC4yNTlWMi4wNzI4OEgyNDAuMjY1VjUuOTUwODFaIiBmaWxsPSIjOUI5QjlCIi8+Cjwvc3ZnPgo=",width:170,height:25,right:25,bottom:50,opacity:.7}}));const h={...n.chartOptions.specialOverrides},p={...n.chartOptions.optionMetadata},f=this.factoryApi.create(c,l,h,p);await f.setState(o),f.chart.ctx.zoomManager.updateZoom("chartProxy",n.ctx.zoomManager.getZoom()),f.chart.ctx.legendManager.clearData(),f.chart.ctx.legendManager.update(n.ctx.legendManager.getData()),n.series.forEach((S,v)=>{S.visible||(f.chart.series[v].visible=!1)});const y=[];for(const S of n.modulesManager.legends())y.push(((b=S.legend.pagination)==null?void 0:b.currentPage)??0);for(const S of f.chart.modulesManager.legends()){const v=y.shift()??0;S.legend.pagination&&S.legend.pagination.setPage(v)}return f.chart.update(0,{forceNodeDataRefresh:!0}),await f.waitForUpdate(),f}getEnabledOriginators(){var c,h,p;const{chartOptions:{processedOptions:e,optionMetadata:i},ctx:{annotationManager:n,chartTypeOriginator:s,zoomManager:a,legendManager:o}}=this.chart,r=[];return"annotations"in e&&((c=e.annotations)!=null&&c.enabled)&&r.push(n),i.presetType==="price-volume"&&r.push(s),((h=e.navigator)!=null&&h.enabled||(p=e.zoom)!=null&&p.enabled)&&r.push(a),"legend"in this.chart&&r.push(o),r}async setStateOriginators(e,i){this.factoryApi.caretaker.restore(e,...i),this.chart.ctx.updateService.update(2,{forceNodeDataRefresh:!0}),await this.chart.waitForUpdate()}};ux.chartInstances=new WeakMap;N([Ma({oldValue(t){t.destroyed||(t.publicApi=void 0),ux.chartInstances.delete(t)},newValue(t){t&&(t.publicApi=this,ux.chartInstances.set(t,this))}})],ux.prototype,"chart",2);var gj=ux,kE=class extends VA{constructor(t){super(),this.ctx=t,this.localeText=void 0}};N([ph(t=>{t.ctx.localeManager.setLocaleText(t.localeText)}),P(EU,{optional:!0})],kE.prototype,"localeText",2);N([ph(t=>{t.ctx.localeManager.setLocaleTextFormatter(t.getLocaleText)}),P(ea,{optional:!0})],kE.prototype,"getLocaleText",2);var tut={type:"root",optionsKey:"locale",packageType:"community",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],moduleFactory:t=>new kE(t)},yj=class extends pb{getIndex(t){return super.getIndex(t)??this.getMatchIndex(t)}getMatchIndex(t){const e=JSON.stringify(t),i=this._domain.find(n=>JSON.stringify(n)===e);if(i!=null)return super.getIndex(i)}},Tm=new WeakMap;function _M(t,e){var n,s,a;const i=JSON.stringify(t,null,0);return Tm.has(e)||Tm.set(e,new Map),(n=Tm.get(e))!=null&&n.has(i)||(s=Tm.get(e))==null||s.set(i,e(t)),(a=Tm.get(e))==null?void 0:a.get(i)}function Zs(t){const e=new Map,i=(...a)=>a.map(o=>typeof o=="object"||typeof o=="symbol"?o:(e.has(o)||e.set(o,{v:o}),e.get(o))),n={},s=new WeakMap;return(...a)=>{const o=a.length===0?[n]:i(...a);let r=s;for(const h of o.slice(0,-1))r.has(h)||r.set(h,new WeakMap),r=r.get(h);const l=o.at(-1);let c=r.get(l);return c||(c=t(...a),r.set(l,c)),c}}function tD(t,e=[0,0]){for(const i of t)typeof i=="number"&&(i<0&&(e[0]+=i),i>0&&(e[1]+=i));return e}function eut(t,e){return{id:t,matchGroupIds:[e],type:"aggregate",aggregateFunction:n=>tD(n)}}function PW(t,e){return{id:t,type:"aggregate",matchGroupIds:e?[e]:void 0,aggregateFunction:i=>tD(i),groupAggregateFunction:(i,n=[0,0])=>(n[0]+=(i==null?void 0:i[0])??0,n[1]+=(i==null?void 0:i[1])??0,n),round:!0}}function iut(t,e){return{id:t,matchGroupIds:[e],type:"aggregate",aggregateFunction:n=>zu.extendDomain(n)}}function AL(t){return{id:t,type:"aggregate",aggregateFunction:()=>[0,1],groupAggregateFunction:(e,i=[0,0])=>(i[0]+=(e==null?void 0:e[0])??0,i[1]+=(e==null?void 0:e[1])??0,i)}}function BW(t,e){return{id:t,matchGroupIds:e?[e]:void 0,type:"aggregate",aggregateFunction:n=>tD(n),groupAggregateFunction:(n,s=[0,0,-1])=>(s[0]+=(n==null?void 0:n[0])??0,s[1]+=(n==null?void 0:n[1])??0,s[2]++,s),finalFunction:(n=[0,0,0])=>{const s=n[0]+n[1];return s>=0?[0,s/n[2]]:[s/n[2],0]},round:!0}}function DL(t,e,i){const n={id:t,matchGroupIds:i?[i]:void 0,type:"aggregate",aggregateFunction:(s,a=[])=>{const o=a[1]-a[0];return e.aggregateFunction(s).map(r=>r/o)},round:!0};return e.groupAggregateFunction&&(n.groupAggregateFunction=e.groupAggregateFunction),n}function zW(t){return()=>{let e=0;return i=>xe(i)?(e+=t?Math.max(0,i):i,e):i}}function _W(){return()=>{let t=0;return e=>{if(!xe(e))return e;const i=t;return t+=e,i}}}function jW(t){return t!=null&&jA(t)}function nut(t){return t!=null}function FW(t){switch(t){case"number":case"log":case"ordinal-time":case"time":case"color":return jW;default:return nut}}function GW(t){switch(t){case"number":case"log":case"time":case"color":return"range";default:return"category"}}function xr(t,e,i={}){return{property:t,type:"key",valueType:GW(e),validation:FW(e),...i}}function se(t,e,i={}){return{property:t,type:"value",valueType:GW(e),validation:FW(e),...i}}function VW(t,e={}){return{property:t,type:"value",valueType:"range",missingValue:1,processor:()=>()=>1,...e}}function LE(t,e={}){const{min:i=-1/0,max:n=1/0,...s}=e;return{type:"value",property:t,valueType:"range",validation:jW,processor:()=>a=>xe(a)?Jt(i,a,n):a,...s}}function Nx(t,e,i={}){const{onlyPositive:n,...s}=i;return{...se(t,e,s),processor:zW(n)}}function sut(t,e,i={}){return{...se(t,e,i),processor:_W()}}function th(t,e,i,n,s){return[se(t,s,n),$W(n.groupId,e,i,n.separateNegative),...n.rangeId!=null?[iut(n.rangeId,n.groupId)]:[]]}function UW(t,e,i){return[se(t,e,i),KW(i.groupId)]}var HW={type:"reducer",property:"smallestKeyInterval",initialValue:1/0,reducer:()=>{let t=NaN;return(e=1/0,i)=>{const n=typeof i[0]=="number"?i[0]:Number(i[0]),s=Math.abs(n-t);return t=n,!isNaN(s)&&s>0&&s<e?s:e}}},WW={type:"reducer",property:"largestKeyInterval",initialValue:-1/0,reducer:()=>{let t=NaN;return(e=-1/0,i)=>{const n=typeof i[0]=="number"?i[0]:Number(i[0]),s=Math.abs(n-t);return t=n,!isNaN(s)&&s>0&&s>e?s:e}}},YW={type:"processor",property:"sortedGroupDomain",calculate:({domain:{groups:t}})=>t==null?void 0:t.slice().sort((e,i)=>{for(let n=0;n<e.length;n++){const s=e[n]-i[n];if(s!==0)return s}return 0})};function aut({normaliseTo:t}){const e=(i,n)=>{if(n===0)return null;const s=(i??0)*t/n;return s>=0?Math.min(t,s):Math.max(-t,s)};return()=>()=>(i,n,s)=>{const a=out(i,n,s);for(const o of n)for(const r of s.datumIndices[o]){const l=i[o],c=l[r];if(c==null){l[r]=void 0;continue}l[r]=typeof c=="number"?e(c,a):c.map(h=>e(h,a))}}}function out(t,e,i){const n=[0,0];for(const s of e){const a=t[s];for(const o of i.datumIndices[s]){const r=a[o];if(r==null)continue;const l=typeof r=="number"?r:Math.max(...r.map(h=>h??0)),c=l<0?0:1;c===0?n[c]=Math.min(n[c],l):n[c]=Math.max(n[c],l)}}return Math.max(Math.abs(n[0]),n[1])}function eD(t,e){return{type:"group-value-processor",matchGroupIds:t,adjust:_M({normaliseTo:e},aut)}}function rut({normaliseTo:t,zeroDomain:e,rangeMin:i,rangeMax:n}){const s=t[1]-t[0],a=(o,r,l)=>{const c=t[0]+(o-r)/l*s;return l===0?e:c>=t[1]?t[1]:c<t[0]?t[0]:c};return()=>(o,r)=>{let[l,c]=o.domain.values[r];i!=null&&(l=i),n!=null&&(c=n);const h=c-l;o.domain.values[r]=[t[0],t[1]];const p=o.columns[r];for(let f=0;f<p.length;f+=1)p[f]=a(p[f],l,h)}}function Ud(t,e,i,n,s){return{type:"property-value-processor",property:t,adjust:_M({normaliseTo:e,rangeMin:n,rangeMax:s,zeroDomain:i},rut)}}var IL=1,TL=2,mj=(t,e,i,n)=>{var o,r;let s=IL|TL;if(e.valueType==="category")return i.length!==t&&(s&=-2),s;let a=(o=n[0])==null?void 0:o.valueOf();for(let l=1;s!==0&&l<n.length;l++){const c=(r=n[l])==null?void 0:r.valueOf();(!Number.isFinite(c)||a>c)&&(s&=-3),Number.isFinite(c)&&a===c&&(s&=-2),a=c}return s};function Ng(t){return{type:"processor",property:"animationValidation",calculate(e){const{keys:i,values:n}=e.defs,{input:{count:s},domain:{keys:a,values:o},keys:r,columns:l}=e;let c=IL|TL;if(s!==0){for(let h=0;c!==0&&h<i.length;h++)for(const p of i[h].scopes)c&=mj(s,i[h],a[h],r[h].get(p));for(let h=0;c!==0&&h<n.length;h++){const p=n[h];t!=null&&t.includes(p.id)&&(c&=mj(s,p,o[h],l[h]))}}return{uniqueKeys:(c&IL)!==0,orderedKeys:(c&TL)!==0}}}}function lut({mode:t,separateNegative:e}){return()=>()=>(i,n,s)=>{const a=[0,0];for(const o of n)for(const r of s.datumIndices[o]??[]){const l=i[o],c=l[r],h=DA(c)&&e?0:1;xe(c)&&(t==="normal"&&(a[h]+=c),l[r]=a[h],t==="trailing"&&(a[h]+=c))}}}function cut({mode:t,sum:e}){return()=>{const i=[];let n=!0;return()=>(s,a,o)=>{let r=0;for(const l of a){const c=s[l];for(const h of o.datumIndices[l]??[]){const p=c[h],f=n&&e==="current"?0:i[l];i[l]=p;const y=e==="current"?p:f;if(!xe(p)||!xe(f)){c[h]=r;continue}t==="normal"&&(r+=y),c[h]=r,t==="trailing"&&(r+=y)}}n=!1}}}function $W(t,e,i,n=!1){let s;if(e.startsWith("window")){const a=e.endsWith("-trailing")?"trailing":"normal";s=_M({mode:a,sum:i},cut)}else s=_M({mode:e,separateNegative:n},lut);return{type:"group-value-processor",matchGroupIds:[t],adjust:s}}function uut(){return()=>(t,e,i)=>{const n=new Float64Array(e.length);let s=0;for(const a of e){const o=t[a];for(const r of i.datumIndices[a]??[]){const l=o[r];n[s]=Number.isFinite(l)?l:NaN,s+=1,o[r]=n.subarray(0,s)}}}}function KW(t){return{type:"group-value-processor",matchGroupIds:[t],adjust:uut}}function xj(t){return t.id??t.property}function hut(t,e,i){var r,l;const n=new Map,s=e.defs.values;for(let c=0;c<s.length;c+=1){const h=s[c];if(((r=h.scopes)==null?void 0:r.includes(t))===!1)continue;const p=xj(h);if(n.has(p))return;n.set(p,c)}const a=[],o=i.defs.values;for(let c=0;c<o.length;c+=1){const h=o[c];if(((l=h.scopes)==null?void 0:l.includes(t))===!1)continue;const p=xj(h),f=n.get(p);if(f==null)return;n.delete(p),a.push({previousIndex:f,nextIndex:c})}if(n.size===0)return a}function D1(t,e,i,n,s){for(const{previousIndex:a,nextIndex:o}of i){const r=t[a],l=e[o],c=r[n],h=l[s];if(c!==h)return!1}return!0}function Eg(t,e,i=!0){return{type:"processor",property:"diff",calculate(n,s){const a=new Map,o=new Map,r=new Map,l=new Map,c=e.keys,h=n.keys,p=e.columns,f=n.columns,y=hut(t,e,n);if(y==null)return s;const m=Math.max(e.input.count,n.input.count);for(let v=0;v<m;v++){const D=v<e.input.count,I=v<n.input.count,T=D?OM(c,t,v):void 0,k=T!=null?qi(T):"",E=I?OM(h,t,v):void 0,w=E!=null?qi(E):"";if(I&&D&&k===w){D1(p,f,y,v,v)||r.set(w,v);continue}const R=l.get(w);R!=null?((i||!D1(p,f,y,R,v))&&(r.set(w,v),a.set(w,v)),l.delete(w)):I&&o.set(w,v);const O=o.get(k);O!=null?((i||!D1(p,f,y,O,v))&&(r.set(k,v),a.set(k,v)),o.delete(k)):D&&(r.delete(k),l.set(k,v))}const S={changed:o.size>0||r.size>0||l.size>0,added:new Set(o.keys()),updated:new Set(r.keys()),removed:new Set(l.keys()),moved:new Set(a.keys())};return{...s,[t]:S}}}}function qi(t,...e){let i;return oi(t)?i=t.map(s=>hL(s)).join("___"):i=hL(t),(typeof i=="string"||typeof i=="number"||typeof i=="boolean"||i instanceof Date)&&e.length>0&&(i+=`___${e.join("___")}`),i}var dut=class{constructor(){this.top=1/0,this.right=-1/0,this.bottom=-1/0,this.left=1/0}update(t,e){t>this.right&&(this.right=t),t<this.left&&(this.left=t),e>this.bottom&&(this.bottom=e),e<this.top&&(this.top=e)}},put=class XW{constructor(e="",i,n){this.label=e,this.parent=i,this.refId=n,this.x=0,this.y=0,this.subtreeLeft=NaN,this.subtreeRight=NaN,this.children=[],this.leafCount=0,this.prelim=0,this.mod=0,this.ancestor=this,this.change=0,this.shift=0,this.index=0,this.screenX=0,this.depth=i?i.depth+1:0}insertTick(e,i){let n=this;for(let s=0;s<e.length;s++){const a=e[s],o=s!==e.length-1,{children:r}=n,l=r.find(c=>c.label===a);if(l&&o)n=l;else{const c=new XW(a,n,i);c.index=r.length,r.push(c),o&&(n=c)}}}getLeftSibling(){var e;return this.index>0?(e=this.parent)==null?void 0:e.children[this.index-1]:void 0}getLeftmostSibling(){var e;return this.index>0?(e=this.parent)==null?void 0:e.children[0]:void 0}nextLeft(){return this.children[0]}nextRight(){return this.children.at(-1)}getSiblings(){var e;return((e=this.parent)==null?void 0:e.children.filter((i,n)=>n!==this.index))??[]}};function fut(t){const e=t.reduce((n,s)=>n<s.length?s.length:n,0),i=new put;for(let n=0;n<t.length;n++){const s=t[n];for(;s.length<e;)s.push("");i.insertTick(s,n)}return i}function gut(t,e,i){const n=e.index-t.index,s=i/n;e.change-=s,e.shift+=i,t.change+=s,e.prelim+=i,e.mod+=i}function yut(t,e,i){return e.getSiblings().indexOf(t.ancestor)>=0?t.ancestor:i}function mut({children:t}){let e=0,i=0;for(let n=t.length-1;n>=0;n--){const s=t[n];s.prelim+=e,s.mod+=e,i+=s.change,e+=s.shift+i}}function xut(t,e){const i=t.getLeftSibling();if(i){let n=t,s=t,a=i,o=s.getLeftmostSibling(),r=s.mod,l=n.mod,c=a.mod,h=o.mod;for(;a.nextRight()&&s.nextLeft();){a=a.nextRight(),s=s.nextLeft(),o=o.nextLeft(),n=n.nextRight(),n.ancestor=t;const p=a.prelim+c-(s.prelim+r)+1;p>0&&(gut(yut(a,t,e),t,p),r+=p,l+=p),c+=a.mod,r+=s.mod,h+=o.mod,l+=n.mod}a.nextRight()&&!n.nextRight()?n.mod+=c-l:(s.nextLeft()&&!o.nextLeft()&&(o.mod+=r-h),e=t)}return e}function ZW(t){const{children:e}=t;if(e.length){let[i]=e;for(const a of e)ZW(a),i=xut(a,i);mut(t);const n=(e[0].prelim+e.at(-1).prelim)/2,s=t.getLeftSibling();s?(t.prelim=s.prelim+1,t.mod=t.prelim-n):t.prelim=n}else{const i=t.getLeftSibling();t.prelim=i?i.prelim+1:0}}function qW(t,e,i){t.x=t.prelim+e,t.y=t.depth,i.insertNode(t);for(const n of t.children)qW(n,e+t.mod,i)}function QW(t){const{children:e}=t;let i=0;for(const n of e)QW(n),n.children.length?i+=n.leafCount:i++;t.leafCount=i,e.length?(t.subtreeLeft=e[0].subtreeLeft,t.subtreeRight=e[e.length-1].subtreeRight,t.x=(t.subtreeLeft+t.subtreeRight)/2):(t.subtreeLeft=t.x,t.subtreeRight=t.x)}function but(t){const e=new vut,i=fut(t);return ZW(i),qW(i,-i.prelim,e),QW(i),e}var vut=class{constructor(){this.dimensions=new dut,this.nodes=[],this.depth=0}insertNode(t){this.depth<t.depth&&(this.depth=t.depth),this.dimensions.update(t.x,t.y),this.nodes.push(t)}scalingX(t,e){let i=1;if(t>0){const{left:n,right:s}=this.dimensions;i=t/(s-n)}return e&&(i*=-1),i}},Vc=class extends Qt{constructor(){super(...arguments),this.enabled=!0}};N([P(Gt)],Vc.prototype,"enabled",2);N([P(Gt,{optional:!0})],Vc.prototype,"avoidCollisions",2);N([P(ke,{optional:!0})],Vc.prototype,"color",2);N([P(Ct,{optional:!0})],Vc.prototype,"spacing",2);N([P(Oc,{optional:!0})],Vc.prototype,"fontStyle",2);N([P(Rc,{optional:!0})],Vc.prototype,"fontWeight",2);N([P(fe.restrict({min:1}),{optional:!0})],Vc.prototype,"fontSize",2);N([P(Dt,{optional:!0})],Vc.prototype,"fontFamily",2);var iD=class extends Qt{constructor(){super(...arguments),this.enabled=!0}};N([P(Gt)],iD.prototype,"enabled",2);N([P(Ct,{optional:!0})],iD.prototype,"width",2);N([P(ke,{optional:!0})],iD.prototype,"stroke",2);var NE=class extends Qt{constructor(){super(...arguments),this.label=new Vc,this.tick=new iD}};N([P(Lt)],NE.prototype,"label",2);N([P(Lt)],NE.prototype,"tick",2);var wg=class extends Tg{constructor(t){super(t,new yj),this.tickScale=new yj,this.depthOptions=new fb(NE),this.includeInvisibleDomains=!0,this.tickScale.paddingInner=1,this.tickScale.paddingOuter=0}resizeTickTree(){if(!this.tickTreeLayout)return;const{nodes:t}=this.tickTreeLayout,{range:e,step:i,inset:n,bandwidth:s}=this.scale,a=Math.abs(e[1]-e[0])-i,o=this.tickTreeLayout.scalingX(a,e[0]>e[1]),r=n+s/2;let l=0;for(const c of t){const h=c.x*o;l>h&&(l=h),c.screenX=h+r}for(const c of t)c.screenX-=l}getDepthOptionsMap(t){var s,a,o,r;const e=[],{depthOptions:i,label:n}=this;for(let l=0;l<t;l++)e.push(((s=i[l])==null?void 0:s.label.enabled)??n.enabled?{enabled:!0,spacing:((a=i[l])==null?void 0:a.label.spacing)??n.spacing,lineHeight:xi.getLineHeight(((o=i[l])==null?void 0:o.label.fontSize)??n.fontSize??10),avoidCollisions:((r=i[l])==null?void 0:r.label.avoidCollisions)??n.avoidCollisions}:{enabled:!1,spacing:0,lineHeight:0,avoidCollisions:!1});return e}updateCategoryLabels(){this.computedLayout&&this.tickLabelGroupSelection.update(this.computedLayout.tickLabelLayout).each((t,e)=>t.setProperties(e))}updateAxisLine(){this.computedLayout&&(this.lineNode.visible=this.line.enabled,this.lineNode.stroke=this.line.stroke,this.lineNode.strokeWidth=this.line.width)}computeLayout(){var W;if(this.updateDirection(),this.updateScale(),this.resizeTickTree(),!((W=this.tickTreeLayout)!=null&&W.depth))return{bbox:Rt.zero,separatorLayout:[],tickLabelLayout:[]};const{step:t}=this.scale,{title:e,label:i,range:n,depthOptions:s}=this,{depth:a,nodes:o}=this.tickTreeLayout,r=Math.ceil(i.fontSize/t),l=bn(this.rotation),c=this.position==="top"||this.position==="bottom",h=i.getSideFlag(),p=[],f=new Map,y=new pg,{defaultRotation:m,configuredRotation:b}=TM({rotation:i.rotation,parallel:i.parallel,regularFlipRotation:si(l-Math.PI/2),parallelFlipRotation:si(l)}),S=m+b,v=this.getDepthOptionsMap(a),D=(G,$)=>{var U,Z;const K=a-G.depth;if(!((U=v[K])!=null&&U.enabled)||$%r!==0||!oU(G.screenX,n))return!1;const X=this.formatTick(G.label,$-1),j=this.getLabelStyles({value:X,depth:K},(Z=s[K])==null?void 0:Z.label);return y.setProperties({...j,text:X,textAlign:"center",textBaseline:i.parallel?"hanging":"bottom",rotation:0,translationX:0,translationY:G.screenX}),!0};let I=0;const T={};o.forEach((G,$)=>{const K=a-G.depth,X=dst(G.label);if(T[K]??(T[K]=1),T[K]<X&&(T[K]=X),!(!D(G,$)||!y.getBBox())&&(f.set($,y.getBBox()),!G.leafCount)){y.rotation=S;const{width:U}=y.getBBox();I<U&&(I=U)}});const k=iE(),E=h*v[0].spacing,w=new Map,R=G=>{let $=I;for(let K=1;K<=G;K++)$+=v[K].spacing,(i.mirrored||K!==G)&&($+=T[K]*v[K].lineHeight);return $};o.forEach((G,$)=>{var Z;if($===0)return;const K=D(G,$),X=!G.children.length,j=a-G.depth;if(G.parent){const tt=X?G.x:G.x-(G.leafCount-1)/2;if(!w.has(tt)){const J=(Z=this.depthOptions[j])==null?void 0:Z.tick;let nt=I;for(let at=0;at<=j;at++)nt+=v[at].spacing,at!==0&&(nt+=T[at]*v[at].lineHeight);w.set(tt,{tickSize:nt,tickStroke:J==null?void 0:J.stroke,tickWidth:(J==null?void 0:J.enabled)!==!1?J==null?void 0:J.width:0})}}if(!K)return;if(y.x=E,y.y=0,X){const{width:tt}=f.get($),J=HU(S);y.rotation=S,y.textAlign="end",y.textBaseline="middle",y.rotationCenterX=E-tt/2,y.translationX=(v[j].spacing-tt)/2*J*h,i.mirrored&&(y.translationX+=tt)}else y.rotation=c?m:-Math.PI/2,y.rotationCenterX=E,y.translationX=h*R(j);if(v[j].avoidCollisions){const tt=X?t:G.leafCount*t;if(y.getBBox().height>tt){f.delete($);return}}const{text:U=""}=y;p.push({text:U,visible:!0,range:this.scale.range,tickId:k(U),fill:y.fill,fontFamily:y.fontFamily,fontSize:y.fontSize,fontStyle:y.fontStyle,fontWeight:y.fontWeight,rotation:y.rotation,rotationCenterX:y.rotationCenterX,textAlign:y.textAlign,textBaseline:y.textBaseline,translationX:y.translationX,translationY:y.translationY,x:y.x,y:y.y}),f.set($,Ni.toCanvas(y))});const{enabled:O,stroke:L,width:F}=this.line;this.lineNode.datum={x:0,y1:n[0],y2:n[1]},this.lineNode.setProperties({stroke:L,strokeWidth:O?F:0});const z=[...w.values()];z.push(z[0]);const V=[this.lineNode.getBBox(),new Rt(0,0,z[0].tickSize*h,0)];e.enabled&&(this.updateTitle(!1,z[0].tickSize),V.push(e.caption.node.getBBox()));const H=Rt.merge(Bd(f.values(),V));return{bbox:this.getTransformBox(H),separatorLayout:z,tickLabelLayout:p}}update(){if(!this.computedLayout)return;const{tickScale:t,gridLine:e,gridLength:i}=this,{separatorLayout:n}=this.computedLayout,s=t.ticks({nice:!1,interval:void 0,tickCount:void 0,minTickCount:0,maxTickCount:1/0}).map((a,o)=>({...n[o],tick:a,tickId:qi(a,o),tickLabel:a.filter(Boolean).join(" - "),translationY:Math.round(t.convert(a))}));this.gridLineGroupSelection.update(e.enabled&&i?s:[]),this.tickLineGroupSelection.update(this.tick.enabled?s:[]),this.updatePosition(),this.updateCategoryLabels(),this.updateAxisLine(),this.updateGridLines(),this.updateTickLines(),this.updateTitle(),this.resetSelectionNodes()}calculateLayout(){const{separatorLayout:t,tickLabelLayout:e,bbox:i}=this.computeLayout();return this.computedLayout={separatorLayout:t,tickLabelLayout:e},{bbox:i,primaryTickCount:void 0,niceDomain:this.scale.domain}}onGridVisibilityChange(){this.gridLineGroupSelection.clear(),this.tickLabelGroupSelection.clear()}updateScale(){super.updateScale(),this.tickScale.range=this.scale.range,this.scale.paddingOuter=this.scale.paddingInner/2}processData(){const{direction:t}=this,e=this.boundSeries.filter(s=>s.visible).flatMap(s=>s.getDomain(t));this.dataDomain={domain:jc(e)??this.filterDuplicateArrays(e),clipped:!1},this.isReversed()&&this.dataDomain.domain.reverse();const i=this.dataDomain.domain.map(s=>bM(Un(s)&&"value"in s?s.value:s));this.tickTreeLayout=but(i);const n=[];for(const s of this.tickTreeLayout.nodes)s.leafCount||s.refId==null||n.push(this.dataDomain.domain[s.refId]);return this.scale.domain=rst(this.dataDomain.domain,n),this.tickScale.domain=i.concat([[""]]),{animatable:!0}}updateGridLines(){if(!this.gridLength)return;const{width:t,style:e}=this.gridLine,i=this.gridLength*-this.label.getSideFlag();this.gridLineGroupSelection.each((n,s,a)=>{const{stroke:o,lineDash:r}=e[a%e.length],l=s.translationY;n.visible=this.inRange(l),n.x1=0,n.x2=i,n.y=l,n.stroke=o,n.strokeWidth=t,n.lineDash=r})}filterDuplicateArrays(t){const e=new Set;return t.filter(i=>{const n=oi(i)?JSON.stringify(i):i;return e.has(n)?!1:(e.add(n),!0)})}};wg.className="GroupedCategoryAxis";wg.type="grouped-category";N([P(PN)],wg.prototype,"depthOptions",2);var JW=Ge(t=>Oo(t)&&t!==0,"a non-zero number"),rp=class extends mh{constructor(t){super(t,new AE),this.min=NaN,this.max=NaN}normaliseDataDomain(t){const{min:e,max:i}=this,{extent:n,clipped:s}=DE(t,e,i);return n[0]<0&&n[1]>0||t[0]<0&&t[1]>0?(It.warn("The log axis domain crosses zero, the chart data cannot be rendered. See log axis documentation for more information."),{domain:[],clipped:s}):n[0]===0||n[1]===0||t[0]===0||t[1]===0?(It.warn("The log axis domain contains a value of 0, the chart data cannot be rendered. See log axis documentation for more information."),{domain:[],clipped:s}):{domain:n,clipped:s}}set base(t){this.scale.base=t}get base(){return this.scale.base}defaultDatumFormatter(t,e){return String(t)}defaultLabelFormatter(t,e){return String(t)}};rp.className="LogAxis";rp.type="log";N([P(xl(Mg,JW,yb("max"))),fh(NaN)],rp.prototype,"min",2);N([P(xl(Mg,JW,mb("min"))),fh(NaN)],rp.prototype,"max",2);var Xm=(t,{x0:e,y0:i,x1:n,y1:s,cx:a,cy:o},r,l)=>{if(l&&t.moveTo(e,i),e!==n||i!==s){const c=Math.atan2(i-o,e-a),h=Math.atan2(s-o,n-a);t.arc(a,o,r,c,h)}else t.lineTo(e,i)},bj=1e-6,$0=(t,e,i,n,s)=>{let a=!1,o=!1,r=n-Math.sqrt(Math.max(s**2-i**2,0)),l=0,c=0,h=i-Math.sqrt(Math.max(s**2-n**2,0));return r>t?(a=!0,r=t,l=i-Math.sqrt(Math.max(s**2-(n-t)**2))):r<bj&&(r=0),h>e?(o=!0,c=n-Math.sqrt(Math.max(s**2-(i-e)**2)),h=e):h<bj&&(h=0),{leading0:r,leading1:l,trailing0:c,trailing1:h,leadingClipped:a,trailingClipped:o}},iM=(t,e,i,n,s,a,o)=>{let{topLeft:r,topRight:l,bottomRight:c,bottomLeft:h}=a;const p=Math.max(r+h,l+c),f=Math.max(r+l,h+c);if(p<=0&&f<=0){o==null?t.rect(e,i,n,s):t.rect(o.x,o.y,o.width,o.height);return}else if(o==null&&r===l&&r===c&&r===h){t.roundRect(e,i,n,s,r);return}if(n<0&&(e+=n,n=Math.abs(n)),s<0&&(i+=s,s=Math.abs(s)),n<=0||s<=0)return;if(o==null)o=new Rt(e,i,n,s);else{const w=Math.max(e,o.x),R=Math.min(e+n,o.x+o.width),O=Math.max(i,o.y),L=Math.min(i+s,o.y+o.height);o=new Rt(w,O,R-w,L-O)}const y=Math.max(p/s,f/n,1);y>1&&(r/=y,l/=y,c/=y,h/=y);let m=!0,b=!0,S=!0,v=!0,D,I,T,k;if(m){const w=$0(o.height,o.width,Math.max(e+r-o.x,0),Math.max(i+r-o.y,0),r);w.leadingClipped&&(v=!1),w.trailingClipped&&(b=!1);const R=Math.max(o.x+w.leading1,o.x),O=Math.max(o.y+w.leading0,o.y),L=Math.max(o.x+w.trailing1,o.x),F=Math.max(o.y+w.trailing0,o.y),z=e+r,V=i+r;D={x0:R,y0:O,x1:L,y1:F,cx:z,cy:V}}if(b){const w=$0(o.width,o.height,Math.max(i+l-o.y,0),Math.max(o.x+o.width-(e+n-l),0),l);w.leadingClipped&&(m=!1),w.trailingClipped&&(S=!1);const R=Math.min(o.x+o.width-w.leading0,o.x+o.width),O=Math.max(o.y+w.leading1,o.y),L=Math.min(o.x+o.width-w.trailing0,o.x+o.width),F=Math.max(o.y+w.trailing1,o.y),z=e+n-l,V=i+l;I={x0:R,y0:O,x1:L,y1:F,cx:z,cy:V}}if(S){const w=$0(o.height,o.width,Math.max(o.x+o.width-(e+n-c),0),Math.max(o.y+o.height-(i+s-c),0),c);w.leadingClipped&&(b=!1),w.trailingClipped&&(v=!1);const R=Math.min(o.x+o.width-w.leading1,o.x+o.width),O=Math.min(o.y+o.height-w.leading0,o.y+o.height),L=Math.min(o.x+o.width-w.trailing1,o.x+o.width),F=Math.min(o.y+o.height-w.trailing0,o.y+o.height),z=e+n-c,V=i+s-c;T={x0:R,y0:O,x1:L,y1:F,cx:z,cy:V}}if(v){const w=$0(o.width,o.height,Math.max(o.y+o.height-(i+s-h),0),Math.max(e+h-o.x,0),h);w.leadingClipped&&(S=!1),w.trailingClipped&&(m=!1);const R=Math.max(o.x+w.leading0,o.x),O=Math.min(o.y+o.height-w.leading1,o.y+o.height),L=Math.max(o.x+w.trailing0,o.x),F=Math.min(o.y+o.height-w.trailing1,o.y+o.height),z=e+h,V=i+s-h;k={x0:R,y0:O,x1:L,y1:F,cx:z,cy:V}}let E=!1;m&&D!=null&&(Xm(t,D,r,!E),E||(E=!0)),b&&I!=null&&(Xm(t,I,l,!E),E||(E=!0)),S&&T!=null&&(Xm(t,T,c,!E),E||(E=!0)),v&&k!=null&&Xm(t,k,h,!E),t.closePath()},ws=class extends na{constructor(){super(...arguments),this.borderPath=new Lx,this.x=0,this.y=0,this.width=10,this.height=10,this.topLeftCornerRadius=0,this.topRightCornerRadius=0,this.bottomRightCornerRadius=0,this.bottomLeftCornerRadius=0,this.clipBBox=void 0,this.crisp=!1,this.lastUpdatePathStrokeWidth=Go.defaultStyles.strokeWidth,this.effectiveStrokeWidth=Go.defaultStyles.strokeWidth,this.hittester=super.isPointInPath.bind(this),this.distanceCalculator=super.distanceSquaredTransformedPoint.bind(this),this.microPixelEffectOpacity=1}set cornerRadius(e){this.topLeftCornerRadius=e,this.topRightCornerRadius=e,this.bottomRightCornerRadius=e,this.bottomLeftCornerRadius=e}isDirtyPath(){return this.lastUpdatePathStrokeWidth!==this.strokeWidth||!!(this.path.isDirty()||this.borderPath.isDirty())}updatePath(){var v;const{path:e,borderPath:i,crisp:n,topLeftCornerRadius:s,topRightCornerRadius:a,bottomRightCornerRadius:o,bottomLeftCornerRadius:r}=this;let{x:l,y:c,width:h,height:p,strokeWidth:f,clipBBox:y}=this;const b=1/(((v=this.layerManager)==null?void 0:v.canvas.pixelRatio)??1);let S=1;if(e.clear(!0),i.clear(!0),n&&(h<=b&&(S*=h/b),p<=b&&(S*=p/b),h=this.align(l,h),p=this.align(c,p),l=this.align(l),c=this.align(c),y=y!=null?new Rt(this.align(y.x),this.align(y.y),this.align(y.x,y.width),this.align(y.y,y.height)):void 0),f)if(h<b){const D=l+b/2;i.moveTo(D,c),i.lineTo(D,c+p),f=b,this.borderClipPath=void 0}else if(p<b){const D=c+b/2;i.moveTo(l,D),i.lineTo(l+h,D),f=b,this.borderClipPath=void 0}else if(f<h&&f<p){const D=f/2;l+=D,c+=D,h-=f,p-=f;const I=y==null?void 0:y.clone().shrink(D),T={topLeft:s>0?s-f:0,topRight:a>0?a-f:0,bottomRight:o>0?o-f:0,bottomLeft:r>0?r-f:0};this.borderClipPath=void 0,h>0&&p>0&&(I==null||(I==null?void 0:I.width)>0&&(I==null?void 0:I.height)>0)&&(iM(e,l,c,h,p,T,I),iM(i,l,c,h,p,T,I))}else this.borderClipPath=this.borderClipPath??new Lx,this.borderClipPath.clear(!0),this.borderClipPath.rect(l,c,h,p),i.rect(l,c,h,p);else{const D={topLeft:s,topRight:a,bottomRight:o,bottomLeft:r};this.borderClipPath=void 0,iM(e,l,c,h,p,D,y)}if([s,a,o,r].every(D=>D===0)){const D=this.getBBox();this.hittester=D.containsPoint.bind(D),this.distanceSquared=(I,T)=>this.getBBox().distanceSquared(I,T)}else this.hittester=super.isPointInPath,this.distanceCalculator=super.distanceSquaredTransformedPoint;this.effectiveStrokeWidth=f,this.lastUpdatePathStrokeWidth=f,this.microPixelEffectOpacity=S}computeBBox(){const{x:e,y:i,width:n,height:s,clipBBox:a}=this;return(a==null?void 0:a.clone())??new Rt(e,i,n,s)}isPointInPath(e,i){return this.hittester(e,i)}get midPoint(){return{x:this.x+this.width/2,y:this.y+this.height/2}}distanceSquared(e,i){return this.distanceCalculator(e,i)}applyFillAlpha(e){const{fillOpacity:i,microPixelEffectOpacity:n,opacity:s}=this;e.globalAlpha*=s*i*n}renderStroke(e){const{stroke:i,effectiveStrokeWidth:n}=this;if(i&&n){const{globalAlpha:s}=e,{strokeOpacity:a,lineDash:o,lineDashOffset:r,lineCap:l,lineJoin:c,borderPath:h,borderClipPath:p,opacity:f,microPixelEffectOpacity:y}=this;p&&e.clip(p.getPath2D()),this.applyStroke(e),e.globalAlpha*=f*a*y,e.lineWidth=n,o&&e.setLineDash(o),r&&(e.lineDashOffset=r),l&&(e.lineCap=l),c&&(e.lineJoin=c),e.stroke(h.getPath2D()),e.globalAlpha=s}}};ws.className="Rect";N([Zt()],ws.prototype,"x",2);N([Zt()],ws.prototype,"y",2);N([Zt()],ws.prototype,"width",2);N([Zt()],ws.prototype,"height",2);N([Zt()],ws.prototype,"topLeftCornerRadius",2);N([Zt()],ws.prototype,"topRightCornerRadius",2);N([Zt()],ws.prototype,"bottomRightCornerRadius",2);N([Zt()],ws.prototype,"bottomLeftCornerRadius",2);N([Zt()],ws.prototype,"clipBBox",2);N([Zt()],ws.prototype,"crisp",2);var Og=class extends VA{constructor(e){super(),this.ctx=e,this.rectNode=new ws,this.textNode=new Nn,this.fill="white",this.node=this.createNode(),this.node.append([this.rectNode,this.textNode]),this.visible=!0,this.destroyFns.push(e.scene.attachNode(this.node),e.layoutManager.addListener("layout:complete",i=>this.onLayoutComplete(i)))}createNode(){return new Kt({name:"background",zIndex:0})}onLayoutComplete(e){const{width:i,height:n}=e.chart;this.rectNode.width=i,this.rectNode.height=n}};N([P(Gt),Yn("node","visible")],Og.prototype,"visible",2);N([P(ke,{optional:!0}),Yn("rectNode","fill")],Og.prototype,"fill",2);N([P(Lt,{optional:!0})],Og.prototype,"image",2);N([P(Dt,{optional:!0}),Yn("textNode")],Og.prototype,"text",2);var tY={type:"root",optionsKey:"background",packageType:"community",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],moduleFactory:t=>new Og(t)};function Sut({orientation:t,bboxes:e,maxHeight:i,maxWidth:n,itemPaddingY:s=0,itemPaddingX:a=0,forceResult:o=!1}){const r=t==="horizontal",l={max:r?n:i,fn:r?f=>f.width:f=>f.height,padding:r?a:s},c={max:r?i:n,fn:r?f=>f.height:f=>f.width,padding:r?s:a};let h=0;const p=[];for(;h<e.length;){const f=e.slice(h),y=Mut(f,h,l,c,o);if(!y)return;h+=y.processedBBoxCount,p.push(y.pageIndices)}return Dut(p,t,e,s,a)}function Mut(t,e,i,n,s){let o=Tut(t,i);if(o<1){if(!s)return;o=1}let r=o;for(;r>=1;){const l=Aut(t,e,r,i,n,s);if(l==null&&r<=1)return;if(l==null){r--;continue}if(typeof l=="number"){if(l<=1)return;r=l<r&&l>1?l:r,r--;continue}return{processedBBoxCount:l.length*l[0].length,pageIndices:l}}}function Aut(t,e,i,n,s,a){const o=[];let r=0,l=0,c=[];const h=[];for(let p=0;p<t.length;p++){const f=(p+i)%i;f===0&&(r+=l,l=0,c.length>0&&o.push(c),c=[]);const y=n.fn(t[p])+n.padding;h[f]=Math.max(h[f]??0,y),l=Math.max(l,s.fn(t[p])+s.padding);const m=r+l,b=!a||o.length>0;if(m>s.max&&b){c=[];break}if(h.reduce((v,D)=>v+D,0)>n.max&&!a)return h.length<i?h.length:void 0;c.push(p+e)}return c.length>0&&o.push(c),o.length>0?o:void 0}function Dut(t,e,i,n,s){let a=0,o=0;return{pages:t.map(l=>{e==="horizontal"&&(l=Iut(l));let c=0;const h=l.map(y=>{const m=y.map(v=>(c=Math.max(v,c),i[v]));let b=0,S=0;return m.forEach(v=>{b+=v.height+n,S=Math.max(S,v.width+s)}),{indices:y,bboxes:m,columnHeight:Math.ceil(b),columnWidth:Math.ceil(S)}});let p=0,f=0;return h.forEach(y=>{p+=y.columnWidth,f=Math.max(f,y.columnHeight)}),a=Math.max(p,a),o=Math.max(f,o),{columns:h,startIndex:l[0][0],endIndex:c,pageWidth:p,pageHeight:f}}),maxPageWidth:a,maxPageHeight:o}}function Iut(t){const e=[];for(const i of t[0])e.push([]);return t.forEach((i,n)=>{i.forEach((s,a)=>{e[a][n]=s})}),e}function Tut(t,e){const i=t.length;let n=0;for(let s=0;s<i;s++)if(n+=e.fn(t[s])+e.padding,n>e.max)return i/s<2?Math.ceil(i/2):s;return i}var Rg=class extends Qt{constructor(){super(...arguments),this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}};N([P(ke)],Rg.prototype,"color",2);N([P(Oc,{optional:!0})],Rg.prototype,"fontStyle",2);N([P(Rc,{optional:!0})],Rg.prototype,"fontWeight",2);N([P(Ct)],Rg.prototype,"fontSize",2);N([P(Dt)],Rg.prototype,"fontFamily",2);var Mc=class extends Qt{constructor(){super(...arguments),this.size=15,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=1,this.strokeOpacity=1}};N([P(Ct)],Mc.prototype,"size",2);N([P(ke,{optional:!0})],Mc.prototype,"fill",2);N([P(Re,{optional:!0})],Mc.prototype,"fillOpacity",2);N([P(ke,{optional:!0})],Mc.prototype,"stroke",2);N([P(Ct)],Mc.prototype,"strokeWidth",2);N([P(Re)],Mc.prototype,"strokeOpacity",2);var nD=class extends Qt{constructor(t){super(),this.parent=t,this.shape="triangle",this.size=15,this.padding=8}};N([Ma({changeValue(){this.parent.marker===this&&this.parent.onMarkerShapeChange()}})],nD.prototype,"shape",2);N([P(Ct)],nD.prototype,"size",2);N([P(Ct)],nD.prototype,"padding",2);var lp=class extends Qt{constructor(t,e){super(),this.chartUpdateCallback=t,this.pageUpdateCallback=e,this.id=Wo(this),this.marker=new nD(this),this.activeStyle=new Mc,this.inactiveStyle=new Mc,this.highlightStyle=new Mc,this.label=new Rg,this.group=new ta({name:"pagination"}),this.labelNode=new Nn,this.totalPages=0,this.currentPage=0,this.translationX=0,this.translationY=0,this.nextButtonDisabled=!1,this.previousButtonDisabled=!1,this._visible=!0,this._enabled=!0,this._orientation="vertical",this.nextButton=new En,this.previousButton=new En,this.labelNode.setProperties({textBaseline:"middle",fontSize:12,fontFamily:"Verdana, sans-serif",fill:"black",y:1}),this.group.append([this.nextButton,this.previousButton,this.labelNode]),this.update(),this.updateMarkers()}set visible(t){this._visible=t,this.updateGroupVisibility()}get visible(){return this._visible}set enabled(t){this._enabled=t,this.updateGroupVisibility()}get enabled(){return this._enabled}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible}set orientation(t){switch(this._orientation=t,t){case"horizontal":{this.previousButton.rotation=-Math.PI/2,this.nextButton.rotation=Math.PI/2;break}case"vertical":default:this.previousButton.rotation=0,this.nextButton.rotation=Math.PI}}get orientation(){return this._orientation}update(){this.updateLabel(),this.updatePositions(),this.enableOrDisableButtons()}updatePositions(){this.group.translationX=this.translationX,this.group.translationY=this.translationY,this.updateLabelPosition(),this.updateNextButtonPosition()}updateLabelPosition(){const{size:t,padding:e}=this.marker;this.nextButton.size=t,this.previousButton.size=t,this.labelNode.x=t/2+e}updateNextButtonPosition(){const t=this.labelNode.getBBox();this.nextButton.translationX=t.width+(this.marker.size/2+this.marker.padding)*2}updateLabel(){const{currentPage:t,totalPages:e,labelNode:i,label:{color:n,fontStyle:s,fontWeight:a,fontSize:o,fontFamily:r}}=this;i.text=`${t+1} / ${e}`,i.fill=n,i.fontStyle=s,i.fontWeight=a,i.fontSize=o,i.fontFamily=r}updateMarkers(){const{nextButton:t,previousButton:e,nextButtonDisabled:i,previousButtonDisabled:n,activeStyle:s,inactiveStyle:a,highlightStyle:o,highlightActive:r}=this,l=(c,h)=>h?a:c===r?o:s;this.updateMarker(t,l("next",i)),this.updateMarker(e,l("previous",n))}updateMarker(t,e){const{shape:i,size:n}=this.marker;t.shape=i,t.size=n,t.fill=e.fill,t.fillOpacity=e.fillOpacity??1,t.stroke=e.stroke,t.strokeWidth=e.strokeWidth,t.strokeOpacity=e.strokeOpacity}enableOrDisableButtons(){const{currentPage:t,totalPages:e}=this,i=e===0,n=t===e-1,s=t===0;this.nextButtonDisabled=n||i,this.previousButtonDisabled=s||i}setPage(t){t=Jt(0,t,Math.max(0,this.totalPages-1)),this.currentPage!==t&&(this.currentPage=t,this.onPaginationChanged())}getCursor(t){return{previous:this.previousButtonDisabled,next:this.nextButtonDisabled}[t]?void 0:"pointer"}onClick(t,e){t.preventDefault(),e==="next"&&!this.nextButtonDisabled?(this.incrementPage(),this.onPaginationChanged()):e==="previous"&&!this.previousButtonDisabled&&(this.decrementPage(),this.onPaginationChanged())}onMouseHover(t){this.highlightActive=t,this.updateMarkers(),this.chartUpdateCallback(6)}onPaginationChanged(){this.pageUpdateCallback(this.currentPage)}incrementPage(){this.currentPage=Math.min(this.currentPage+1,this.totalPages-1)}decrementPage(){this.currentPage=Math.max(this.currentPage-1,0)}onMarkerShapeChange(){this.updatePositions(),this.updateMarkers(),this.chartUpdateCallback(6)}attachPagination(t){t.append(this.group)}getBBox(){return this.group.getBBox()}computeCSSBounds(){const t=Ni.toCanvas(this.previousButton),e=Ni.toCanvas(this.nextButton);return{prev:t,next:e}}};lp.className="Pagination";N([P(Lt)],lp.prototype,"marker",2);N([P(Lt)],lp.prototype,"activeStyle",2);N([P(Lt)],lp.prototype,"inactiveStyle",2);N([P(Lt)],lp.prototype,"highlightStyle",2);N([P(Lt)],lp.prototype,"label",2);var EE=class extends Qt{constructor(){super(...arguments),this._dirty=!0}markDirty(){this._dirty=!0}markClean(t){this._dirty=!1}isDirty(){return this._dirty}},Cut=new Set(["circle","cross","diamond","heart","pin","plus","square","star","triangle"]);function kut(t){return typeof t=="string"&&Cut.has(t)}var wE=Ge(t=>kut(t)||typeof t=="function","a marker shape keyword such as 'circle', 'diamond' or 'square' or an object extending the Marker class"),Os=class extends EE{constructor(){super(...arguments),this.enabled=!0,this.shape="circle",this.size=6,this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0}getStyle(){const{size:e,shape:i,fill:n,fillOpacity:s,stroke:a,strokeWidth:o,strokeOpacity:r,lineDash:l,lineDashOffset:c}=this;return{size:e,shape:i,fill:n,fillOpacity:s,stroke:a,strokeWidth:o,strokeOpacity:r,lineDash:l,lineDashOffset:c}}getDiameter(){return this.size+this.strokeWidth}};N([P(Gt),Et()],Os.prototype,"enabled",2);N([P(wE),Et()],Os.prototype,"shape",2);N([P(Ct),Et()],Os.prototype,"size",2);N([P(ke,{optional:!0}),Et()],Os.prototype,"fill",2);N([P(Re),Et()],Os.prototype,"fillOpacity",2);N([P(ke,{optional:!0}),Et()],Os.prototype,"stroke",2);N([P(Ct),Et()],Os.prototype,"strokeWidth",2);N([P(Re),Et()],Os.prototype,"strokeOpacity",2);N([P(bl)],Os.prototype,"lineDash",2);N([P(Ct)],Os.prototype,"lineDashOffset",2);N([P(ea,{optional:!0}),Et()],Os.prototype,"itemStyler",2);function Ex(t,e,i){t.fill=(i==null?void 0:i.fill)??e.fill,t.fillOpacity=(i==null?void 0:i.fillOpacity)??e.fillOpacity??1,t.stroke=(i==null?void 0:i.stroke)??e.stroke,t.strokeOpacity=(i==null?void 0:i.strokeOpacity)??e.strokeOpacity??1,t.strokeWidth=(i==null?void 0:i.strokeWidth)??e.strokeWidth??0,t.lineDash=(i==null?void 0:i.lineDash)??e.lineDash,t.lineDashOffset=(i==null?void 0:i.lineDashOffset)??e.lineDashOffset??0}var Lut=class{constructor(t,e){this.idPrefix=e,this.dirty=!0,this.destroyFns=new jH,this.itemList=t.proxyInteractionService.createProxyContainer({type:"list",domManagerId:`${e}-toolbar`,classList:["ag-charts-proxy-legend-toolbar"],ariaLabel:{id:"ariaLabelLegend"}}),this.paginationGroup=t.proxyInteractionService.createProxyContainer({type:"group",domManagerId:`${e}-pagination`,classList:["ag-charts-proxy-legend-pagination"],ariaLabel:{id:"ariaLabelLegendPagination"},ariaOrientation:"horizontal"}),this.itemDescription=le("p"),this.itemDescription.style.display="none",this.itemDescription.id=`${e}-ariaDescription`,this.itemDescription.textContent=this.getItemAriaDescription(t.localeManager),this.itemList.getElement().append(this.itemDescription)}destroy(){this.destroyFns.destroy()}initLegendList(t){if(!this.dirty)return;const{ctx:e,itemSelection:i,datumReader:n,itemListener:s}=t,a=e.localeManager,o=i.length;i.each((r,l,c)=>{var p;(p=r.proxyButton)==null||p.destroy(),r.proxyButton=e.proxyInteractionService.createProxyElement({type:"listswitch",textContent:this.getItemAriaText(a,n.getItemLabel(l),c,o),ariaChecked:!!r.datum.enabled,ariaDescribedBy:this.itemDescription.id,parent:this.itemList});const h=r.proxyButton;h.addListener("click",f=>s.onClick(f.sourceEvent,r.datum,h)),h.addListener("dblclick",f=>s.onDoubleClick(f.sourceEvent,r.datum)),h.addListener("mouseenter",f=>s.onHover(f.sourceEvent,r)),h.addListener("mouseleave",()=>s.onLeave()),h.addListener("contextmenu",f=>s.onContextClick(f.sourceEvent,r)),h.addListener("blur",()=>s.onLeave()),h.addListener("focus",f=>s.onHover(f.sourceEvent,r)),h.addListener("drag-start",()=>{})}),this.dirty=!1}update(t){t.visible&&(this.initLegendList(t),this.updateItemProxyButtons(t),this.updatePaginationProxyButtons(t,!0)),this.updateVisibility(t.visible)}updateVisibility(t){this.itemList.setHidden(!t),this.paginationGroup.setHidden(!t)}updateItemProxyButtons({itemSelection:t,group:e,pagination:i,interactive:n}){const s=Ni.toCanvas(e);this.itemList.setBounds(s);const a=Math.max(...t.nodes().map(o=>o.getBBox().height));t.each((o,r)=>{if(o.proxyButton){const l=o.pageIndex===i.currentPage,{x:c,y:h,height:p,width:f}=Ni.toCanvas(o),y=(a-p)/2,m={x:c-s.x,y:h-y-s.y,height:a,width:f};o.proxyButton.setCursor("pointer"),o.proxyButton.setEnabled(n&&l),o.proxyButton.setBounds(m)}})}updatePaginationProxyButtons(t,e){var a,o,r,l,c,h,p,f;const{pagination:i}=t;if(this.paginationGroup.setHidden(!i.visible),e&&"ctx"in t){const{ctx:y,oldPages:m,newPages:b}=t,S=((m==null?void 0:m.length)??b.length)>1,v=b.length>1;S!==v&&(v?(this.prevButton=y.proxyInteractionService.createProxyElement({type:"button",id:`${this.idPrefix}-prev-page`,textContent:{id:"ariaLabelLegendPagePrevious"},tabIndex:0,parent:this.paginationGroup}),this.prevButton.addListener("click",D=>this.onPageButton(t,D,"previous")),this.prevButton.addListener("mouseenter",()=>i.onMouseHover("previous")),this.prevButton.addListener("mouseleave",()=>i.onMouseHover(void 0)),this.nextButton??(this.nextButton=y.proxyInteractionService.createProxyElement({type:"button",id:`${this.idPrefix}-next-page`,textContent:{id:"ariaLabelLegendPageNext"},tabIndex:0,parent:this.paginationGroup})),this.nextButton.addListener("click",D=>this.onPageButton(t,D,"next")),this.nextButton.addListener("mouseenter",()=>i.onMouseHover("next")),this.nextButton.addListener("mouseleave",()=>i.onMouseHover(void 0))):((a=this.nextButton)==null||a.destroy(),(o=this.prevButton)==null||o.destroy(),this.nextButton=void 0,this.prevButton=void 0))}const{prev:n,next:s}=i.computeCSSBounds();(r=this.prevButton)==null||r.setBounds(n),(l=this.nextButton)==null||l.setBounds(s),(c=this.prevButton)==null||c.setEnabled(i.currentPage!==0),(h=this.nextButton)==null||h.setEnabled(i.currentPage!==i.totalPages-1),(p=this.nextButton)==null||p.setCursor(i.getCursor("next")),(f=this.prevButton)==null||f.setCursor(i.getCursor("previous"))}onPageButton(t,e,i){t.pagination.onClick(e.sourceEvent,i),this.updatePaginationProxyButtons(t,!1)}onDataUpdate(t,e){this.dirty=t.length!==e.length||t.some((i,n,s)=>{const[a,o]=[e[n],t[n]];return a.id!==o.id})}onLocaleChanged(t,e,i){const n=e.length;e.each(({proxyButton:s},a,o)=>{const r=s==null?void 0:s.getElement();if(r!=null){const l=i.getItemLabel(a);r.textContent=this.getItemAriaText(t,l,o,n)}}),this.itemDescription.textContent=this.getItemAriaDescription(t)}onPageChange(t){this.updateItemProxyButtons(t),this.updatePaginationProxyButtons(t,!1)}getItemAriaText(t,e,i,n){return i>=0&&e?(i++,t.t("ariaLabelLegendItem",{label:e,index:i,count:n})):t.t("ariaLabelLegendItemUnknown")}getItemAriaDescription(t){return t.t("ariaDescriptionLegendItem")}};function vj(t,e,i,n){const s={defaultPrevented:!1,apiEvent:{type:t,itemId:e,seriesId:i,event:n,preventDefault:()=>s.defaultPrevented=!0}};return s}var $o=class extends ep(Kt){constructor(){super({name:"markerLabelGroup"}),this.symbolsGroup=this.appendChild(new Kt({name:"legend-markerLabel-symbols"})),this.label=this.appendChild(new Nn),this.enabled=!0,this.pageIndex=NaN,this.spacing=0,this.length=0,this.isCustomMarker=!1,this.marker=this.symbolsGroup.appendChild(new En({zIndex:1})),this.line=this.symbolsGroup.appendChild(new Ka({zIndex:0}));const{label:t,line:e,symbolsGroup:i}=this;e.visible=!1,i.renderToOffscreenCanvas=!0,i.optimizeForInfrequentRedraws=!0,t.textBaseline="middle",t.fontSize=12,t.fontFamily="Verdana, sans-serif",t.fill="black",t.y=1}destroy(){var t;super.destroy(),(t=this.proxyButton)==null||t.destroy()}setEnabled(t){this.enabled=t,this.refreshVisibilities()}refreshVisibilities(){const t=this.enabled?1:.5;this.label.opacity=t,this.opacity=t}layout(){const{marker:t,line:e,length:i,isCustomMarker:n}=this;let s=0,a=0;if(t.visible){const{size:o}=t,r=En.anchor(t.shape);s=(r.x-.5)*o+i/2,a=(r.y-.5)*o,n?(t.x=0,t.y=0,t.translationX=s,t.translationY=a):(t.x=s,t.y=a,t.translationX=0,t.translationY=0)}e.visible&&(e.x1=0,e.x2=i,e.y1=0,e.y2=0)}preRender(t){const e=super.preRender(t);return this.layout(),e}layoutLabel(){const{length:t,spacing:e}=this;this.label.x=t+e}computeBBox(){return this.layout(),super.computeBBox()}};$o.className="MarkerLabel";N([Yn("label")],$o.prototype,"text",2);N([Yn("label")],$o.prototype,"fontStyle",2);N([Yn("label")],$o.prototype,"fontWeight",2);N([Yn("label")],$o.prototype,"fontSize",2);N([Yn("label")],$o.prototype,"fontFamily",2);N([Yn("label","fill")],$o.prototype,"color",2);N([ph(t=>t.layoutLabel())],$o.prototype,"spacing",2);N([ph(t=>t.layoutLabel())],$o.prototype,"length",2);N([Et()],$o.prototype,"isCustomMarker",2);var bh=class extends Qt{constructor(){super(...arguments),this.maxLength=void 0,this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}};N([P(Ct,{optional:!0})],bh.prototype,"maxLength",2);N([P(ke)],bh.prototype,"color",2);N([P(Oc,{optional:!0})],bh.prototype,"fontStyle",2);N([P(Rc,{optional:!0})],bh.prototype,"fontWeight",2);N([P(Ct)],bh.prototype,"fontSize",2);N([P(Dt)],bh.prototype,"fontFamily",2);N([P(ea,{optional:!0})],bh.prototype,"formatter",2);var Pg=class extends Qt{constructor(){super(...arguments),this.shape=void 0,this.size=15,this.padding=8}};N([P(wE,{optional:!0})],Pg.prototype,"shape",2);N([P(Ct)],Pg.prototype,"size",2);N([P(Ct)],Pg.prototype,"padding",2);N([P(Ct,{optional:!0})],Pg.prototype,"strokeWidth",2);N([P(Gt)],Pg.prototype,"enabled",2);var OE=class extends Qt{};N([P(Ct,{optional:!0})],OE.prototype,"strokeWidth",2);N([P(Ct,{optional:!0})],OE.prototype,"length",2);var vh=class extends Qt{constructor(){super(...arguments),this.paddingX=16,this.paddingY=8,this.showSeriesStroke=!1,this.marker=new Pg,this.label=new bh,this.line=new OE}};N([P(Ct,{optional:!0})],vh.prototype,"maxWidth",2);N([P(Ct)],vh.prototype,"paddingX",2);N([P(Ct)],vh.prototype,"paddingY",2);N([P(Gt)],vh.prototype,"showSeriesStroke",2);N([P(Lt)],vh.prototype,"marker",2);N([P(Lt)],vh.prototype,"label",2);N([P(Lt)],vh.prototype,"line",2);var RE=class extends Qt{};N([P(ea,{optional:!0})],RE.prototype,"legendItemClick",2);N([P(ea,{optional:!0})],RE.prototype,"legendItemDoubleClick",2);var Cm="legend-visibility",I1="legend-other-series",Da=class extends Qt{constructor(t){super(),this.ctx=t,this.id=Wo(this),this.group=new ta({name:"legend",zIndex:14}),this.itemSelection=Xi.select(this.group,$o),this.oldSize=[0,0],this.pages=[],this.maxPageSize=[0,0],this.paginationTrackingIndex=0,this.truncatedItems=new Set,this._data=[],this.toggleSeries=!0,this.item=new vh,this.listeners=new RE,this.enabled=!0,this.position="bottom",this.spacing=20,this.destroyFns=[],this.size=[0,0],this._visible=!0,this.pagination=new lp(e=>t.updateService.update(e),e=>this.updatePageNumber(e)),this.pagination.attachPagination(this.group),this.destroyFns.push(t.contextMenuRegistry.registerDefaultAction({id:Cm,type:"legend",label:"contextMenuToggleSeriesVisibility",action:e=>this.contextToggleVisibility(e)}),t.contextMenuRegistry.registerDefaultAction({id:I1,type:"legend",label:"contextMenuToggleOtherSeries",action:e=>this.contextToggleOtherSeries(e)}),t.legendManager.addListener("legend-change",this.onLegendDataChange.bind(this))),this.destroyFns.push(t.layoutManager.registerElement(1,e=>this.positionLegend(e)),t.localeManager.addListener("locale-changed",()=>this.onLocaleChanged()),()=>this.group.remove()),this.domProxy=new Lut(this.ctx,this.id),this.ctx.historyManager.addMementoOriginator(t.legendManager)}set data(t){Yd(t,this._data)||(this.domProxy.onDataUpdate(this._data,t),this._data=t,this.updateGroupVisibility())}get data(){return this._data}onLegendDataChange({legendData:t=[]}){this.enabled&&(this.data=t.filter(e=>!e.hideInLegend))}destroy(){this.ctx.domManager.removeChild("canvas-overlay",`${this.id}-toolbar`),this.ctx.domManager.removeChild("canvas-overlay",`${this.id}-pagination`),this.destroyFns.forEach(t=>t()),this.itemSelection.clear(),this.domProxy.destroy()}getOrientation(){if(this.orientation!==void 0)return this.orientation;switch(this.position){case"right":case"left":return"vertical";case"bottom":case"top":return"horizontal"}}set visible(t){this._visible=t,this.updateGroupVisibility()}get visible(){return this._visible}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible&&this.data.length>0}attachLegend(t){t.appendChild(this.group)}getItemLabel(t){const{ctx:{callbackCache:e}}=this,{formatter:i}=this.item.label;if(i){const n=t.datum;return e.call(i,{itemId:t.itemId,value:t.label.text,seriesId:t.seriesId,...n&&{datum:n}})}return t.label.text}calcLayout(t,e){const{paddingX:i,paddingY:n,label:s,maxWidth:a,label:{maxLength:o=1/0,fontStyle:r,fontWeight:l,fontSize:c,fontFamily:h}}=this.item,p=[...this.data];this.reverseOrder&&p.reverse(),this.itemSelection.update(p);const f=[],y=xi.toFontString(s),b=a??t*.8,S=this.calculateMarkerWidth();if(this.itemSelection.each((O,L)=>{O.fontStyle=r,O.fontWeight=l,O.fontSize=c,O.fontFamily=h;const F=this.updateMarkerLabel(O,L,S),z=L.itemId??L.id,H=(this.getItemLabel(L)??"<unknown>").replace(/\r?\n/g," ");O.text=this.truncate(H,o,b,F,y,z),f.push(O.getBBox())}),t=Math.max(1,t),e=Math.max(1,e),!isFinite(t))return{};const v=this.size,D=this.oldSize;v[0]=t,v[1]=e,(v[0]!==D[0]||v[1]!==D[1])&&(D[0]=v[0],D[1]=v[1]);const{pages:I,maxPageHeight:T,maxPageWidth:k}=this.updatePagination(f,t,e),E=this.pages;this.pages=I,this.maxPageSize=[k-i,T-n];const w=this.pagination.currentPage,R=this.pages[w];return this.pages.length<1||!R?(this.visible=!1,{oldPages:E}):(this.visible=!0,this.updatePositions(w),this.update(),{oldPages:E})}isCustomMarker(t,e){return t&&e!==void 0&&typeof e!="string"}calcSymbolsEnabled(t){const{showSeriesStroke:e,marker:i}=this.item,n=!!i.enabled||!e||(t.marker.enabled??!0),s=!!(t.line&&e),a=this.isCustomMarker(n,t.marker.shape);return{markerEnabled:n,lineEnabled:s,isCustomMarker:a}}calcSymbolsLengths(t){const{marker:e,line:i}=this.item,{markerEnabled:n,lineEnabled:s}=this.calcSymbolsEnabled(t),{strokeWidth:a}=this.getMarkerStyles(t),{strokeWidth:o}=s?this.getLineStyles(t):{strokeWidth:0};let r;const{shape:l}=t.marker;if(this.isCustomMarker(n,l)){const p=new En;p.shape=l,p.updatePath();const f=p.getBBox();r=Math.max(f.width,f.height)}const c=n?e.size:0,h=s?i.length??25:0;return{markerLength:c,markerStrokeWidth:a,lineLength:h,lineStrokeWidth:o,customMarkerSize:r}}calculateMarkerWidth(){let t=0;return this.itemSelection.each((e,i)=>{const{symbol:n}=i,{markerLength:s,lineLength:a,customMarkerSize:o=-1/0}=this.calcSymbolsLengths(n);t=Math.max(t,a,o,s)}),t}updateMarkerLabel(t,e,i){const{marker:n,paddingX:s}=this.item,{symbol:a}=e;let o=s;const{markerEnabled:r,lineEnabled:l,isCustomMarker:c}=this.calcSymbolsEnabled(a),h=n.padding;(r||l)&&(o+=h+i);const{marker:p,line:f}=t;return p.visible=r,p.visible&&(p.shape=n.shape??a.marker.shape??"square",p.size=n.size,Ex(p,this.getMarkerStyles(a))),f.visible=l,f.visible&&Ex(f,this.getLineStyles(a)),t.length=i,t.spacing=h,t.isCustomMarker=c,o}truncate(t,e,i,n,s,a){let o=!1;t.length>e&&(t=t.substring(0,e),o=!0);const r=Pc.getMeasurer({font:s}),l=YN.truncateLine(t,r,i-n,o);return l.endsWith(xi.EllipsisChar)?this.truncatedItems.add(a):this.truncatedItems.delete(a),l}updatePagination(t,e,i){const n=this.getOrientation(),s=Math.min(this.paginationTrackingIndex,t.length);this.pagination.orientation=n,this.pagination.translationX=0,this.pagination.translationY=0;const{pages:a,maxPageHeight:o,maxPageWidth:r,paginationBBox:l,paginationVertical:c}=this.calculatePagination(t,e,i),h=a.findIndex(I=>I.endIndex>=s);this.pagination.currentPage=Jt(0,h,a.length-1);const{paddingX:p,paddingY:f}=this.item,y=8,m=r-p,b=o-f;let S=0,v=-l.y-this.item.marker.size/2;c?v+=b+y:(S+=-l.x+m+y,v+=(b-l.height)/2),this.pagination.translationX=S,this.pagination.translationY=v,this.pagination.update(),this.pagination.updateMarkers();let D=0;return this.itemSelection.each((I,T,k)=>{var E;k>(((E=a[D])==null?void 0:E.endIndex)??1/0)&&D++,I.pageIndex=D}),{maxPageHeight:o,maxPageWidth:r,pages:a}}calculatePagination(t,e,i){const{paddingX:n,paddingY:s}=this.item,a=this.getOrientation(),o=["left","right"].includes(this.position);let r=this.pagination.getBBox(),l=new Rt(0,0,0,0),c=[],h=0,p=0,f=0;const y=b=>b.width===r.width&&b.height===r.height,m=this.maxWidth!==void 0&&this.maxHeight!==void 0;do{if(f++>10){It.warn("unable to find stable legend layout.");break}r=l;const b=e-(o?0:r.width),S=i-(o?r.height:0),v=Sut({orientation:a,bboxes:t,maxHeight:S,maxWidth:b,itemPaddingY:s,itemPaddingX:n,forceResult:m});c=(v==null?void 0:v.pages)??[],h=(v==null?void 0:v.maxPageWidth)??0,p=(v==null?void 0:v.maxPageHeight)??0;const D=c.length;if(this.pagination.visible=D>1,this.pagination.totalPages=D,this.pagination.update(),this.pagination.updateMarkers(),l=this.pagination.getBBox(),!this.pagination.visible)break}while(!y(l));return{maxPageWidth:h,maxPageHeight:p,pages:c,paginationBBox:l,paginationVertical:o}}updatePositions(t=0){const{item:{paddingY:e},itemSelection:i,pages:n}=this;if(n.length<1||!n[t])return;const{columns:s,startIndex:a,endIndex:o}=n[t];let r=0,l=0;const c=s.length,h=s[0].indices.length,p=this.getOrientation()==="horizontal",f=s[0].bboxes[0].height+e,y=[];i.each((m,b,S)=>{if(S<a||S>o){m.visible=!1;return}const v=S-a;let D,I;p?(D=v%c,I=Math.floor(v/c)):(D=Math.floor(v/h),I=v%h),m.visible=!0;const T=s[D];T&&(l=Math.floor(f*I),r=Math.floor(y[I]??0),y[I]=(y[I]??0)+T.columnWidth,m.translationX=r,m.translationY=l)})}updatePageNumber(t){const{itemSelection:e,group:i,pagination:n,pages:s,toggleSeries:a}=this,{startIndex:o,endIndex:r}=s[t];o===0?this.paginationTrackingIndex=0:t===s.length-1?this.paginationTrackingIndex=r:this.paginationTrackingIndex=Math.floor((o+r)/2),this.pagination.update(),this.pagination.updateMarkers(),this.updatePositions(t),this.domProxy.onPageChange({itemSelection:e,group:i,pagination:n,interactive:a}),this.ctx.updateService.update(6)}update(){const{label:{color:t}}=this.item;this.itemSelection.each((e,i)=>{e.setEnabled(i.enabled),e.color=t}),this.updateContextMenu()}updateContextMenu(){const{toggleSeries:t,ctx:{contextMenuRegistry:e}}=this;t?(e.hideAction(Cm),e.hideAction(I1)):(e.showAction(Cm),e.showAction(I1))}getLineStyles(t){const{stroke:e,strokeOpacity:i=1,strokeWidth:n,lineDash:s}=t.line??{},a=Math.min(2,n??1);return{stroke:e,strokeOpacity:i,strokeWidth:this.item.line.strokeWidth??a,lineDash:s}}getMarkerStyles(t){const{fill:e,stroke:i,strokeOpacity:n=1,fillOpacity:s=1,strokeWidth:a,lineDash:o,lineDashOffset:r}=t.marker,l=Math.min(2,a??1);return{fill:e,stroke:i,strokeOpacity:n,fillOpacity:s,strokeWidth:this.item.marker.strokeWidth??l,lineDash:o,lineDashOffset:r}}computePagedBBox(){const t=Kt.computeChildrenBBox(this.group.children());if(this.pages.length>1){const[e,i]=this.maxPageSize;t.height=Math.max(i,t.height),t.width=Math.max(e,t.width)}return t}findNode(t){const{datum:e,proxyButton:i}=this.itemSelection.select(n=>{var s;return((s=n.datum)==null?void 0:s.itemId)===t.itemId})[0]??{};if(e===void 0||i===void 0)throw new Error(`AG Charts - Missing required properties { datum: ${e}, proxyButton: ${JSON.stringify(i)} }`);return{datum:e,proxyButton:i}}contextToggleVisibility(t){const{datum:e,proxyButton:i}=this.findNode(t);this.doClick(t.event,e,i)}contextToggleOtherSeries(t){this.doDoubleClick(t.event,this.findNode(t).datum)}onContextClick(t,e){var r;const i=e.datum;this.preventHidingAll&&((r=this.contextMenuDatum)!=null&&r.enabled)&&this.getVisibleItemCount()<=1?this.ctx.contextMenuRegistry.disableAction(Cm):this.ctx.contextMenuRegistry.enableAction(Cm);const{offsetX:n,offsetY:s}=t,{x:a,y:o}=Ni.toCanvasPoint(e,n,s);this.ctx.contextMenuRegistry.dispatchContext("legend",{sourceEvent:t,canvasX:a,canvasY:o},{legendItem:i})}onClick(t,e,i){this.doClick(t,e,i)&&t.preventDefault()}getVisibleItemCount(){return this.ctx.chartService.series.flatMap(t=>t.getLegendData("category")).filter(t=>t.enabled).length}doClick(t,e,i){const{listeners:{legendItemClick:n},ctx:{chartService:s,highlightManager:a},preventHidingAll:o,toggleSeries:r}=this;if(!e)return!1;const{legendType:l,seriesId:c,itemId:h,enabled:p}=e,f=s.series.find(b=>b.id===c);if(!f)return!1;let y=p;const m=vj("click",h,f.id,t);return n==null||n(m.apiEvent),m.defaultPrevented||(r&&(y=!p,o&&!y&&this.getVisibleItemCount()<2&&(y=!0),i.setChecked(y),this.ctx.chartEventManager.legendItemClick(l,f,h,y,e.legendItemName)),y?a.updateHighlight(this.id,{series:f,itemId:h,datum:void 0,datumIndex:void 0}):a.updateHighlight(this.id),this.ctx.legendManager.update(),this.ctx.updateService.update(2,{forceNodeDataRefresh:!0,skipAnimations:e.skipAnimations??!1})),!0}onDoubleClick(t,e){this.doDoubleClick(t,e)&&t.preventDefault()}doDoubleClick(t,e){const{listeners:{legendItemDoubleClick:i},ctx:{chartService:n},toggleSeries:s}=this;if(n.mode==="integrated"||!e)return!1;const{legendType:a,id:o,itemId:r,seriesId:l}=e,c=n.series.find(p=>p.id===o);if(!c)return!1;const h=vj("dblclick",r,c.id,t);if(i==null||i(h.apiEvent),h.defaultPrevented)return!0;if(s){const p=n.series.flatMap(m=>m.getLegendData("category")),f=p.filter(m=>m.enabled).length,y=p.find(m=>m.itemId===r&&m.seriesId===l);this.ctx.chartEventManager.legendItemDoubleClick(a,c,r,(y==null?void 0:y.enabled)??!1,f,y==null?void 0:y.legendItemName)}return this.ctx.legendManager.update(),this.ctx.updateService.update(2,{forceNodeDataRefresh:!0}),!0}toTooltipMeta(t,e){let i;if(t instanceof FocusEvent){const{x:a,y:o}=Ni.toCanvas(e).computeCenter();i={type:"keyboard",canvasX:a,canvasY:o}}else{t.preventDefault();const{x:a,y:o}=Ni.toCanvasPoint(e,t.offsetX,t.offsetY);i={type:"pointermove",canvasX:a,canvasY:o}}const{canvasX:n,canvasY:s}=i;return{canvasX:n,canvasY:s,lastPointerEvent:i,showArrow:!1}}onHover(t,e){if(!this.enabled)throw new Error("AG Charts - onHover handler called on disabled legend");this.pagination.setPage(e.pageIndex);const i=e.datum,n=i?this.ctx.chartService.series.find(s=>s.id===(i==null?void 0:i.id)):void 0;if(i&&this.truncatedItems.has(i.itemId??i.id)){const s=this.toTooltipMeta(t,e);this.ctx.tooltipManager.updateTooltip(this.id,s,{type:"structured",title:this.getItemLabel(i)})}else this.ctx.tooltipManager.removeTooltip(this.id);i!=null&&i.enabled&&n?this.updateHighlight({series:n,itemId:i==null?void 0:i.itemId,datum:void 0,datumIndex:void 0}):this.updateHighlight()}onLeave(){this.ctx.tooltipManager.removeTooltip(this.id),this.updateHighlight()}updateHighlight(t){this.ctx.interactionManager.isState(32)?this.ctx.highlightManager.updateHighlight(this.id,t):this.ctx.interactionManager.isState(2)&&(this.pendingHighlightDatum=t,this.ctx.animationManager.onBatchStop(()=>{this.ctx.highlightManager.updateHighlight(this.id,this.pendingHighlightDatum)}))}onLocaleChanged(){this.domProxy.onLocaleChanged(this.ctx.localeManager,this.itemSelection,this)}positionLegend(t){const e=this.positionLegendScene(t);this.positionLegendDOM(e)}positionLegendScene(t){if(!this.enabled||!this.data.length)return;const{layoutBox:e}=t,{x:i,y:n,width:s,height:a}=e,[o,r]=this.calculateLegendDimensions(e),{oldPages:l}=this.calcLayout(o,r),c=this.computePagedBBox(),h=()=>{switch(this.position){case"top":case"left":return 0;case"bottom":return a-c.height;case"right":default:return s-c.width}};if(this.visible){const p=this.spacing;let f,y;switch(this.position){case"top":case"bottom":f=(s-c.width)/2,y=h(),e.shrink(c.height+p,this.position);break;case"left":case"right":default:f=h(),y=(a-c.height)/2,e.shrink(c.width+p,this.position)}this.group.translationX=Math.floor(i+f-c.x),this.group.translationY=Math.floor(n+y-c.y)}return l}positionLegendDOM(t){const{ctx:e,itemSelection:i,pagination:n,pages:s,toggleSeries:a,group:o,listeners:{legendItemClick:r,legendItemDoubleClick:l}}=this,c=this.visible&&this.enabled,h=a||l!=null||r!=null;this.domProxy.update({visible:c,interactive:h,ctx:e,itemSelection:i,group:o,pagination:n,oldPages:t,newPages:s,datumReader:this,itemListener:this})}calculateLegendDimensions(t){const{width:e,height:i}=t,n=e/i,s=.5,a=.2,o=.25;let r,l;switch(this.position){case"top":case"bottom":{const c=n<1?Math.min(s,a*(1/n)):a;r=this.maxWidth?Math.min(this.maxWidth,e):e,l=this.maxHeight?Math.min(this.maxHeight,i):Math.round(i*c);break}case"left":case"right":default:{const c=n>1?Math.min(s,o*n):o;r=this.maxWidth?Math.min(this.maxWidth,e):Math.round(e*c),l=this.maxHeight?Math.min(this.maxHeight,i):i}}return[r,l]}};Da.className="Legend";N([P(Gt)],Da.prototype,"toggleSeries",2);N([P(Lt)],Da.prototype,"pagination",2);N([P(Lt)],Da.prototype,"item",2);N([P(Lt)],Da.prototype,"listeners",2);N([ph((t,e,i)=>{if(t.updateGroupVisibility(),e===i)return;const{ctx:{legendManager:n,stateManager:s}}=t;i===!1&&e===!0&&s.restoreState(n)}),P(Gt)],Da.prototype,"enabled",2);N([P(BN)],Da.prototype,"position",2);N([P(Ct,{optional:!0})],Da.prototype,"maxWidth",2);N([P(Ct,{optional:!0})],Da.prototype,"maxHeight",2);N([P(Gt,{optional:!0})],Da.prototype,"reverseOrder",2);N([P(Je(["horizontal","vertical"],"an orientation"),{optional:!0})],Da.prototype,"orientation",2);N([P(Gt,{optional:!0})],Da.prototype,"preventHidingAll",2);N([P(Ct)],Da.prototype,"spacing",2);var Nut={type:"legend",optionsKey:"legend",identifier:"category",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],moduleFactory:t=>new Da(t),packageType:"community",removable:"standalone-only"},eY={};Ho(eY,{CARTESIAN_AXIS_TYPE:()=>sY,CARTESIAN_POSITION:()=>nY,FONT_SIZE:()=>iY,FONT_SIZE_RATIO:()=>PE,POLAR_AXIS_SHAPE:()=>oY,POLAR_AXIS_TYPE:()=>aY});var iY=(t=>(t[t.SMALLEST=8]="SMALLEST",t[t.SMALLER=10]="SMALLER",t[t.SMALL=12]="SMALL",t[t.MEDIUM=13]="MEDIUM",t[t.LARGE=14]="LARGE",t[t.LARGEST=17]="LARGEST",t))(iY||{}),PE=(t=>(t[t.SMALLEST=.6666666666666666]="SMALLEST",t[t.SMALLER=.8333333333333334]="SMALLER",t[t.SMALL=1]="SMALL",t[t.MEDIUM=1.0833333333333333]="MEDIUM",t[t.LARGE=1.1666666666666667]="LARGE",t[t.LARGEST=1.4166666666666667]="LARGEST",t))(PE||{}),nY=(t=>(t.TOP="top",t.RIGHT="right",t.BOTTOM="bottom",t.LEFT="left",t))(nY||{}),sY=(t=>(t.CATEGORY="category",t.GROUPED_CATEGORY="grouped-category",t.ORDINAL_TIME="ordinal-time",t.NUMBER="number",t.TIME="time",t.LOG="log",t))(sY||{}),aY=(t=>(t.ANGLE_CATEGORY="angle-category",t.ANGLE_NUMBER="angle-number",t.RADIUS_CATEGORY="radius-category",t.RADIUS_NUMBER="radius-number",t))(aY||{}),oY=(t=>(t.CIRCLE="circle",t.POLYGON="polygon",t))(oY||{}),BE={};Ho(BE,{DEFAULT_ANNOTATION_HANDLE_FILL:()=>Lb,DEFAULT_ANNOTATION_STATISTICS_COLOR:()=>wb,DEFAULT_ANNOTATION_STATISTICS_DIVIDER_STROKE:()=>Ob,DEFAULT_ANNOTATION_STATISTICS_DOWN_FILL:()=>Ox,DEFAULT_ANNOTATION_STATISTICS_DOWN_STROKE:()=>Rx,DEFAULT_ANNOTATION_STATISTICS_FILL:()=>Nb,DEFAULT_ANNOTATION_STATISTICS_STROKE:()=>Eb,DEFAULT_BACKGROUND_COLOUR:()=>sD,DEFAULT_CAPTION_ALIGNMENT:()=>Yu,DEFAULT_CAPTION_LAYOUT_STYLE:()=>Wu,DEFAULT_COLOR_RANGE:()=>uD,DEFAULT_DIVERGING_SERIES_COLOR_RANGE:()=>Ia,DEFAULT_FIBONACCI_STROKES:()=>wx,DEFAULT_FINANCIAL_CHARTS_ANNOTATION_BACKGROUND_FILL:()=>xn,DEFAULT_FINANCIAL_CHARTS_ANNOTATION_COLOR:()=>Ci,DEFAULT_FUNNEL_SERIES_COLOR_RANGE:()=>Ml,DEFAULT_GAUGE_SERIES_COLOR_RANGE:()=>Ko,DEFAULT_GRIDLINE_ENABLED:()=>al,DEFAULT_HIERARCHY_FILLS:()=>dD,DEFAULT_HIERARCHY_STROKES:()=>pD,DEFAULT_POLAR_SERIES_STROKE:()=>cD,DEFAULT_SEPARATION_LINES_COLOUR:()=>Ib,DEFAULT_SHADOW_COLOUR:()=>Sh,DEFAULT_SPARKLINE_CROSSHAIR_STROKE:()=>hD,DEFAULT_TEXTBOX_COLOR:()=>Bb,DEFAULT_TEXTBOX_FILL:()=>Rb,DEFAULT_TEXTBOX_STROKE:()=>Pb,DEFAULT_TEXT_ANNOTATION_COLOR:()=>kb,DEFAULT_TOOLBAR_POSITION:()=>zb,IS_COMMUNITY:()=>zE,IS_DARK_THEME:()=>sg,IS_ENTERPRISE:()=>_E,PALETTE_ALT_DOWN_FILL:()=>VE,PALETTE_ALT_DOWN_STROKE:()=>FE,PALETTE_ALT_NEUTRAL_FILL:()=>UE,PALETTE_ALT_NEUTRAL_STROKE:()=>lD,PALETTE_ALT_UP_FILL:()=>GE,PALETTE_ALT_UP_STROKE:()=>jE,PALETTE_DOWN_FILL:()=>Cb,PALETTE_DOWN_STROKE:()=>oD,PALETTE_NEUTRAL_FILL:()=>rD,PALETTE_NEUTRAL_STROKE:()=>Bg,PALETTE_UP_FILL:()=>Tb,PALETTE_UP_STROKE:()=>aD});var sg=Symbol("is-dark-theme"),zE=Symbol("is-community"),_E=Symbol("is-enterprise"),Ib=Symbol("default-separation-lines-colour"),sD=Symbol("default-background-colour"),Sh=Symbol("default-shadow-colour"),Wu=Symbol("default-caption-layout-style"),Yu=Symbol("default-caption-alignment"),aD=Symbol("palette-up-stroke"),oD=Symbol("palette-down-stroke"),Tb=Symbol("palette-up-fill"),Cb=Symbol("palette-down-fill"),Bg=Symbol("palette-neutral-stroke"),rD=Symbol("palette-neutral-fill"),jE=Symbol("palette-alt-up-stroke"),FE=Symbol("palette-alt-down-stroke"),GE=Symbol("palette-alt-up-fill"),VE=Symbol("palette-alt-down-fill"),UE=Symbol("palette-gray-fill"),lD=Symbol("palette-gray-stroke"),cD=Symbol("default-polar-series-stroke"),Ia=Symbol("default-diverging-series-colour-range"),uD=Symbol("default-colour-range"),hD=Symbol("default-sparkline-crosshair-stroke"),Ko=Symbol("default-gauge-series-colour-range"),Ml=Symbol("default-funnel-series-colour-range"),dD=Symbol("default-hierarchy-fills"),pD=Symbol("default-hierarchy-strokes"),Ci=Symbol("default-financial-charts-annotation-stroke"),wx=Symbol("default-hierarchy-strokes"),kb=Symbol("default-text-annotation-color"),xn=Symbol("default-financial-charts-annotation-background-fill"),Lb=Symbol("default-annotation-handle-fill"),Nb=Symbol("default-annotation-statistics-fill"),Eb=Symbol("default-annotation-statistics-stroke"),wb=Symbol("default-annotation-statistics-color"),Ob=Symbol("default-annotation-statistics-divider-stroke"),Ox=Symbol("default-annotation-statistics-fill"),Rx=Symbol("default-annotation-statistics-stroke"),Rb=Symbol("default-textbox-fill"),Pb=Symbol("default-textbox-stroke"),Bb=Symbol("default-textbox-color"),zb=Symbol("default-toolbar-position"),al=Symbol("default-gridline-enabled");function rY(t,e){return i=>e(i)?[{...t[0],position:t[1].position},{...t[1],position:t[0].position}]:t}function _b({takeColors:t}){const{fills:[e],strokes:[i]}=t(1);return{fill:e,stroke:i}}function HE(t){return{marker:_b(t)}}function jM(t,e,i,n,s){const{addPhaseFn:a,updatePhaseFn:o,removePhaseFn:r}=s,l=(c,h,p)=>{i.animate({id:`${t}_${e}_${h.id}_${c}`,groupId:t,from:0,to:1,ease:Ax,collapsable:!1,onUpdate(f,y){y&&c!=="removed"||(h.path.clear(!0),p(f,h),h.checkPathDirty())},onStop(){c==="added"&&(h.path.clear(!0),p(1,h),h.checkPathDirty())},phase:fr[c]})};for(const c of n)i.isSkipped()||(l("removed",c,r),l("updated",c,o)),l("added",c,a)}function Ie({id:t},e,i,...n){Ec(t,e,i,n,{opacity:0},{opacity:1},{phase:"trailing"})}function $u({id:t},e,i,...n){Ec(t,e,i,n,{opacity:1},{opacity:0},{phase:"remove"})}function Uc(t){return{opacity:1}}var Cr=class extends EE{constructor(){super(...arguments),this.enabled=!0,this.color="rgba(0, 0, 0, 0.5)",this.xOffset=0,this.yOffset=0,this.blur=5}};N([P(Gt),Et()],Cr.prototype,"enabled",2);N([P(ke),Et()],Cr.prototype,"color",2);N([P(fe),Et()],Cr.prototype,"xOffset",2);N([P(fe),Et()],Cr.prototype,"yOffset",2);N([P(Ct),Et()],Cr.prototype,"blur",2);var lY=class extends Qt{constructor(){super(...arguments),this.enabled=!1}};N([P(Gt)],lY.prototype,"enabled",2);var Rs=class extends Qt{constructor(){super(...arguments),this.enabled=!0,this.interaction=new lY,this.position=new Lg,this.range=void 0,this.class=void 0}formatTooltip(e,i){var s;const n=(s=this.renderer)==null?void 0:s.call(this,i);return typeof n=="string"?{type:"raw",rawHtmlString:n}:n!=null?{type:"structured",...e,...n}:{type:"structured",...e}}};N([P(Gt)],Rs.prototype,"enabled",2);N([P(Gt,{optional:!0})],Rs.prototype,"showArrow",2);N([P(ea,{optional:!0})],Rs.prototype,"renderer",2);N([P(Lt)],Rs.prototype,"interaction",2);N([P(Lt)],Rs.prototype,"position",2);N([P(BA,{optional:!0})],Rs.prototype,"range",2);N([P(Dt,{optional:!0})],Rs.prototype,"class",2);var cY=Je(["linear","smooth","step"],"a line style"),uY=Je(["start","middle","end"]),zg=class extends Qt{constructor(){super(...arguments),this.type="linear",this.tension=1,this.position="end"}};N([P(cY)],zg.prototype,"type",2);N([P(Re)],zg.prototype,"tension",2);N([P(uY)],zg.prototype,"position",2);var Ji=class extends Gc{constructor(){super(...arguments),this.xName=void 0,this.defaultColorRange=[],this.fill="#c16068",this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.interpolation=new zg,this.shadow=new Cr,this.marker=new Os,this.label=new wn,this.tooltip=new Rs,this.connectMissingData=!1}};N([P(Dt)],Ji.prototype,"xKey",2);N([P(Dt,{optional:!0})],Ji.prototype,"xName",2);N([P(Dt)],Ji.prototype,"yKey",2);N([P(Dt,{optional:!0})],Ji.prototype,"yName",2);N([P(Dt,{optional:!0})],Ji.prototype,"yFilterKey",2);N([P(Ct,{optional:!0})],Ji.prototype,"normalizedTo",2);N([P(Ya)],Ji.prototype,"defaultColorRange",2);N([P(hh(RU,ke))],Ji.prototype,"fill",2);N([P(Re)],Ji.prototype,"fillOpacity",2);N([P(ke)],Ji.prototype,"stroke",2);N([P(Ct)],Ji.prototype,"strokeWidth",2);N([P(Re)],Ji.prototype,"strokeOpacity",2);N([P(bl)],Ji.prototype,"lineDash",2);N([P(Ct)],Ji.prototype,"lineDashOffset",2);N([P(Lt)],Ji.prototype,"interpolation",2);N([P(Lt)],Ji.prototype,"shadow",2);N([P(Lt)],Ji.prototype,"marker",2);N([P(Lt)],Ji.prototype,"label",2);N([P(Lt)],Ji.prototype,"tooltip",2);N([P(Gt)],Ji.prototype,"connectMissingData",2);function fl(t){switch(t.type){case"linear":case"step":return[{x:t.x0,y:t.y0},{x:t.x1,y:t.y1}];case"cubic":return[{x:t.cp0x,y:t.cp0y},{x:t.cp3x,y:t.cp3y}]}}function Eut(t){const e=fl(t);return e[0].x>e[1].x&&e.reverse(),e}function wut(t,e){const{x:i,y:n}=e;switch(t.type){case"linear":return{type:"linear",moveTo:t.moveTo,x0:i,y0:n,x1:i,y1:n};case"step":return{type:"step",moveTo:t.moveTo,x0:i,y0:n,x1:i,y1:n,stepX:i};case"cubic":return{type:"cubic",moveTo:t.moveTo,cp0x:i,cp0y:n,cp1x:i,cp1y:n,cp2x:i,cp2y:n,cp3x:i,cp3y:n}}}function Px(t,e,i){const[n,s]=fl(t),a=s.x!==n.x?(i.x-e.x)/(s.x-n.x):0,o=s.y!==n.y?(i.y-e.y)/(s.y-n.y):0;switch(t.type){case"linear":return{type:"linear",moveTo:t.moveTo,x0:e.x,y0:e.y,x1:i.x,y1:i.y};case"cubic":return{type:"cubic",moveTo:t.moveTo,cp0x:e.x,cp0y:e.y,cp1x:i.x-(t.cp2x-n.x)*a,cp1y:i.y-(t.cp2y-n.y)*o,cp2x:i.x-(t.cp1x-n.x)*a,cp2y:i.y-(t.cp1y-n.y)*o,cp3x:i.x,cp3y:i.y};case"step":return{type:"step",moveTo:t.moveTo,x0:e.x,y0:e.y,x1:i.x,y1:i.y,stepX:i.x-(t.stepX-n.x)*a}}}function hY(t,e,i){const{moveTo:n}=t,[s,a]=Eut(t),{x:o,y:r}=s,{x:l,y:c}=a;if(i<o)return Px(t,s,s);if(e>l)return Px(t,a,a);switch(t.type){case"linear":{const h=r===c?void 0:(c-r)/(l-o),p=h==null?r:h*(e-o)+r,f=h==null?r:h*(i-o)+r;return{type:"linear",moveTo:n,x0:e,y0:p,x1:i,y1:f}}case"step":if(i<=t.stepX){const h=t.y0;return{type:"step",moveTo:n,x0:e,y0:h,x1:i,y1:h,stepX:i}}else if(e>=t.stepX){const h=t.y1;return{type:"step",moveTo:n,x0:e,y0:h,x1:i,y1:h,stepX:e}}else{const{y0:h,y1:p,stepX:f}=t;return{type:"step",moveTo:n,x0:e,y0:h,x1:i,y1:p,stepX:f}}case"cubic":{const h=PM(t.cp0x,t.cp1x,t.cp2x,t.cp3x,e);let[p,f]=BM(t.cp0x,t.cp0y,t.cp1x,t.cp1y,t.cp2x,t.cp2y,t.cp3x,t.cp3y,h);const y=PM(f[0].x,f[1].x,f[2].x,f[3].x,i);return[f,p]=BM(f[0].x,f[0].y,f[1].x,f[1].y,f[2].x,f[2].y,f[3].x,f[3].y,y),{type:"cubic",moveTo:n,cp0x:f[0].x,cp0y:f[0].y,cp1x:f[1].x,cp1y:f[1].y,cp2x:f[2].x,cp2y:f[2].y,cp3x:f[3].x,cp3y:f[3].y}}}}function Out(t){const e=[];let i=0,n=NaN,s=NaN;for(const{x:a,y:o}of t){if(i>0){const r=i===1;e.push({type:"linear",moveTo:r,x0:n,y0:s,x1:a,y1:o})}i+=1,n=a,s=o}return e}var Rut={start:0,middle:.5,end:1};function Put(t,e){const i=[];let n=0,s=NaN,a=NaN;const o=typeof e=="number"?e:Rut[e];for(const{x:r,y:l}of t){if(n>0){const c=n===1,h=s+(r-s)*o;i.push({type:"step",moveTo:c,x0:s,y0:a,x1:r,y1:l,stepX:h})}n+=1,s=r,a=l}return i}var K0=.05;function But(t,e){const i=Array.isArray(t)?t:Array.from(t);if(i.length<=1)return[];const n=i.map((a,o)=>{const r=o===0?a:i[o-1],l=o===i.length-1?a:i[o+1],c=o===0||o===i.length-1;if(Math.sign(r.y-a.y)===Math.sign(l.y-a.y))return 0;if(!c){const h=Math.abs(r.y-l.y),p=Math.abs(a.y-r.y)/h,f=Math.abs(a.y-l.y)/h;if(p<=K0||1-p<=K0||f<=K0||1-f<=K0)return 0}return(l.y-r.y)/(l.x-r.x)});n[1]===0&&(n[0]*=2),n[n.length-2]===0&&(n[n.length-1]*=2);const s=[];for(let a=1;a<i.length;a+=1){const o=i[a-1],r=n[a-1],l=i[a],c=n[a],h=l.x-o.x,p=l.y-o.y;let f=h*e/3,y=h*r*e/3,m=h*e/3,b=h*c*e/3;c===0&&Math.abs(y)>Math.abs(p)&&(f*=Math.abs(p/y),y=Math.sign(y)*Math.abs(p)),r===0&&Math.abs(b)>Math.abs(p)&&(m*=Math.abs(p/b),b=Math.sign(b)*Math.abs(p)),s.push({type:"cubic",moveTo:a===1,cp0x:o.x,cp0y:o.y,cp1x:o.x+f,cp1y:o.y+y,cp2x:l.x-m,cp2y:l.y-b,cp3x:l.x,cp3y:l.y})}return s}function gn(t,e,i){return(e-t)*i+t}function zut(t,e){const{x0:i,y0:n,x1:s,y1:a}=t,r=(a-n)/(s-i)*(e-i)+n;return{leftCp1x:i,leftCp1y:n,leftCp2x:e,leftCp2y:r,stepX:e,stepY0:r,stepY1:r,rightCp1x:e,rightCp1y:r,rightCp2x:s,rightCp2y:a}}function _ut(t,e){const{cp0x:i,cp0y:n,cp1x:s,cp1y:a,cp2x:o,cp2y:r,cp3x:l,cp3y:c}=t,h=PM(i,s,o,l,e),[p,f]=BM(i,n,s,a,o,r,l,c,h),y=p[3].y;return{leftCp1x:p[1].x,leftCp1y:p[1].y,leftCp2x:p[2].x,leftCp2y:p[2].y,stepX:e,stepY0:y,stepY1:y,rightCp1x:f[1].x,rightCp1y:f[1].y,rightCp2x:f[2].x,rightCp2y:f[2].y}}function jut(t){const{x0:e,y0:i,x1:n,y1:s,stepX:a}=t;return{leftCp1x:(e+a)/2,leftCp1y:i,leftCp2x:(e+a)/2,leftCp2y:i,stepX:a,stepY0:i,stepY1:s,rightCp1x:(a+n)/2,rightCp1y:s,rightCp2x:(a+n)/2,rightCp2y:s}}function Sj(t,e){return t.type==="linear"?zut(t,e):t.type==="cubic"?_ut(t,e):jut(t)}function dY(t,e,i,n,s,a,o){switch(e){case 0:o?t.moveTo(s,a):t.moveTo(i,n);break;case 1:o?t.lineTo(s,a):t.lineTo(i,n);break}}function pY(t,e,i,n,s,a){a?t.lineTo(e,i):t.lineTo(n,s)}function fY(t,e,i,n,s,a,o,r,l,c){c?t.cubicCurveTo(a,o,n,s,e,i):t.cubicCurveTo(n,s,a,o,r,l)}function gY(t,e,i,n,s,a,o){o?(t.lineTo(a,s),t.lineTo(a,i),t.lineTo(e,i)):(t.lineTo(a,i),t.lineTo(a,s),t.lineTo(n,s))}function CL(t,e,i,n){const[s,a]=fl(e);switch(dY(t,i,s.x,s.y,a.x,a.y,n),e.type){case"linear":pY(t,e.x0,e.y0,e.x1,e.y1,n);break;case"cubic":fY(t,e.cp0x,e.cp0y,e.cp1x,e.cp1y,e.cp2x,e.cp2y,e.cp3x,e.cp3y,n);break;case"step":gY(t,e.x0,e.y0,e.x1,e.y1,e.stepX,n);break}}function yY(t,e,i){const[n,s]=fl(t),[a,o]=fl(e),r=gn(n.x,a.x,i),l=gn(n.y,a.y,i),c=gn(s.x,o.x,i),h=gn(s.y,o.y,i);return[{x:r,y:l},{x:c,y:h}]}function kL(t,e,i,n,s,a){const[{x:o,y:r},{x:l,y:c}]=yY(e,i,n);if(dY(t,s,o,r,l,c,a),e.type==="cubic"&&i.type==="cubic"){const h=gn(e.cp1x,i.cp1x,n),p=gn(e.cp1y,i.cp1y,n),f=gn(e.cp2x,i.cp2x,n),y=gn(e.cp2y,i.cp2y,n);fY(t,o,r,h,p,f,y,l,c,a)}else if(e.type==="step"&&i.type==="step"){const h=gn(e.stepX,i.stepX,n);gY(t,o,r,l,c,h,a)}else if(e.type==="linear"&&i.type==="linear")pY(t,o,r,l,c,a);else{let h;e.type==="step"?h=e.stepX:i.type==="step"?h=i.stepX:h=(o+l)/2;const p=Sj(e,h),f=Sj(i,h),y=gn(p.leftCp1x,f.leftCp1x,n),m=gn(p.leftCp1y,f.leftCp1y,n),b=gn(p.leftCp2x,f.leftCp2x,n),S=gn(p.leftCp2y,f.leftCp2y,n),v=gn(p.stepX,f.stepX,n),D=gn(p.stepY0,f.stepY0,n),I=gn(p.stepY1,f.stepY1,n),T=gn(p.rightCp1x,f.rightCp1x,n),k=gn(p.rightCp1y,f.rightCp1y,n),E=gn(p.rightCp2x,f.rightCp2x,n),w=gn(p.rightCp2y,f.rightCp2y,n);a?(t.cubicCurveTo(E,w,T,k,v,I),t.lineTo(v,D),t.cubicCurveTo(b,S,y,m,o,r)):(t.cubicCurveTo(y,m,b,S,v,D),t.lineTo(v,I),t.cubicCurveTo(T,k,E,w,l,c))}}var mY=(t=>(t[t.Zero=0]="Zero",t[t.Split=1]="Split",t))(mY||{});function Fut(t,e){return t==null||e==null||typeof t!="object"||typeof e!="object"?!1:"id"in t&&"id"in e?t.id===e.id:t.toString()===e.toString()}function As(t,e){if(!e)return NaN;if(t instanceof Date&&(t=t.getTime()),e.type==="continuous"&&typeof t=="number")return(t-e.domain[0])/(e.domain[1]-e.domain[0])*(e.range[1]-e.range[0])+e.range[0];if(e.type==="log"&&typeof t=="number")return e.convert(t);if(e.type!=="category")return NaN;const i=e.domain.findIndex(s=>s===t);return i>=0||e.domain.findIndex(s=>Fut(t,s))>=0?e.inset+e.step*i:NaN}function Po(t){return hL(t).valueOf()}function Mj({data:t},e){return t.map((i,n)=>({xValue0Index:e.indexOf(Po(i.xValue0)),xValue1Index:e.indexOf(Po(i.xValue1)),datumIndex:n}))}function Gut(t,e){const i=e.scales.x,n=t.scales.x;if((i==null?void 0:i.type)!=="category"||(n==null?void 0:n.type)!=="category")return!0;let s=-1/0;for(const a of i.domain){const o=As(a,n);if(Number.isFinite(o)){if(o<s)return!1;s=o}}return!0}function Vut(t,e){let i=-1/0;for(const n of t){const s=As(n.value,e.scales.x);if(Number.isFinite(s)){if(s<i)return!1;i=s}}return!0}function Uut(t,e){const i=new Map;for(const{xValue0:h,xValue1:p}of t.data){const f=Po(h),y=Po(p);i.set(f,h).set(y,p)}const n=Array.from(i,([h,p])=>({axisValue:h,value:p}));n.sort((h,p)=>As(h.value,t.scales.x)-As(p.value,t.scales.x));const s=[];for(const{xValue0:h,xValue1:p}of e.data){const f=Po(h),y=Po(p);i.has(f)||(i.set(f,h),s.push({axisValue:f,value:h})),i.has(y)||(i.set(y,p),s.push({axisValue:y,value:p}))}s.sort((h,p)=>As(h.value,e.scales.x)-As(p.value,e.scales.x));const a=n;let o=0;for(const h of s){for(let p=a.length-1;p>o;p-=1){const f=As(h.value,e.scales.x),y=As(a[p].value,e.scales.x);if(f>y){o=p+1;break}}a.splice(o,0,h),o+=1}if(!Vut(a,e))return;const r=a.map(h=>h.axisValue),l=Mj(e,r),c=Mj(t,r);return{axisValues:r,oldDataAxisIndices:l,newDataAxisIndices:c}}function Aj(t,e,i){if(i.xValue1Index===i.xValue0Index+1)return t;const n=fl(t),s=(n[1].x-n[0].x)/(i.xValue1Index-i.xValue0Index),a=n[0].x+(e-i.xValue0Index)*s,o=a+s;return hY(t,a,o)}function xY(t,e){const[i,n]=fl(t),s=As(0,e.scales.y);return Px(t,{x:i.x,y:s},{x:n.x,y:s})}function bY(t){const[e,i]=fl(t);return wut(t,{x:(e.x+i.x)/2,y:(e.y+i.y)/2})}function vY(t,e,i,n,s,a){var p,f;let o,r;if(s.xValue0Index>=a.xValue1Index){const y=(p=n.findLast(b=>b.xValue1Index<=a.xValue1Index))==null?void 0:p.datumIndex,m=y!=null?i.data[y]:void 0;o=m==null?void 0:m.xValue1,r=m==null?void 0:m.yValue1}else if(s.xValue0Index<=a.xValue0Index){const y=(f=n.find(b=>b.xValue0Index>=a.xValue0Index))==null?void 0:f.datumIndex,m=y!=null?i.data[y]:void 0;o=m==null?void 0:m.xValue0,r=m==null?void 0:m.yValue0}if(o==null||r==null)switch(e){case 0:return xY(t,i);case 1:return bY(t)}const l=As(o,i.scales.x),c=As(r,i.scales.y),h={x:l,y:c};return Px(t,h,h)}function WE(t,e){var s;if(e==null)return;const i=Po(t.xValue0),n=Po(t.xValue1);return(s=e.find(a=>Po(a.xValue0)===i&&Po(a.xValue1)===n))==null?void 0:s.span}function Dj(t,e,i,n,s,a,o){const r=t.data[n.datumIndex],l=r.span,c=WE(r,s);if(c!=null)o.removed.push({from:c,to:c}),o.moved.push({from:c,to:l}),o.added.push({from:l,to:l});else{const h=vY(l,e,t,i,n,a);o.added.push({from:h,to:l})}}function Ij(t,e,i,n,s,a,o){const r=t.data[n.datumIndex],l=r.span,c=WE(r,s);if(c!=null)o.removed.push({from:l,to:l}),o.moved.push({from:l,to:c}),o.added.push({from:c,to:c});else{const h=vY(l,e,t,i,n,a);o.removed.push({from:l,to:h})}}function Tj(t,e,i,n,s){const a=e[s.xValue0Index],o=i.data.find(S=>Po(S.xValue0)===a),r=e[s.xValue1Index],l=i.data.find(S=>Po(S.xValue1)===r);if(o==null||l==null)return;const[{x:c},{x:h}]=fl(t),p=As(o.xValue0,i.scales.x),f=As(o.yValue0,i.scales.y),y=As(l.xValue1,i.scales.x),m=As(l.yValue1,i.scales.y);let b=n.data[s.datumIndex].span;return b=Px(b,{x:p,y:f},{x:y,y:m}),b=hY(b,c,h),b}function Hut(t,e,i,n,s,a,o,r,l){const c=s+1,h=o.find(I=>I.xValue0Index<=s&&I.xValue1Index>=c),p=a.find(I=>I.xValue0Index<=s&&I.xValue1Index>=c),f=e.zeroData,y=t.zeroData;if(h==null&&p!=null){Dj(t,i,a,p,f,r,l);return}else if(h!=null&&p==null){Ij(e,i,o,h,y,r,l);return}else if(h==null||p==null)return;let m;h.xValue0Index===p.xValue0Index&&h.xValue1Index===p.xValue1Index?m=0:h.xValue0Index<=p.xValue0Index&&h.xValue1Index>=p.xValue1Index?m=-1:h.xValue0Index>=p.xValue0Index&&h.xValue1Index<=p.xValue1Index?m=1:m=0;const b=e.data[h.datumIndex],S=Aj(b.span,s,h),v=t.data[p.datumIndex],D=Aj(v.span,s,p);if(m===1){const I=Tj(S,n,e,t,p);I!=null?(l.removed.push({from:S,to:I}),l.moved.push({from:I,to:D}),l.added.push({from:D,to:D})):Ij(e,i,o,h,y,r,l)}else if(m===-1){const I=Tj(D,n,t,e,h);I!=null?(l.removed.push({from:S,to:S}),l.moved.push({from:S,to:I}),l.added.push({from:I,to:D})):Dj(t,i,a,p,f,r,l)}else l.removed.push({from:S,to:S}),l.moved.push({from:S,to:D}),l.added.push({from:D,to:D})}function Wut(t,e,i,n){var c,h,p,f;const s={removed:[],moved:[],added:[]},{axisValues:a,oldDataAxisIndices:o,newDataAxisIndices:r}=t,l={xValue0Index:Math.max(((c=o.at(0))==null?void 0:c.xValue0Index)??-1/0,((h=r.at(0))==null?void 0:h.xValue0Index)??-1/0),xValue1Index:Math.min(((p=o.at(-1))==null?void 0:p.xValue1Index)??1/0,((f=r.at(-1))==null?void 0:f.xValue1Index)??1/0)};for(let y=0;y<a.length-1;y+=1)Hut(e,i,n,a,y,r,o,l,s);return s}function Cj(t,e,i){const{span:n}=e;switch(i){case 0:return WE(e,t.zeroData)??xY(n,t);case 1:return bY(n)}}function Yut(t,e,i){const n=[],s=[];for(const a of e.data){const o=a.span,r=Cj(e,a,i);s.push({from:o,to:r})}for(const a of t.data){const o=a.span,r=Cj(t,a,i);n.push({from:r,to:o})}return{removed:s,moved:[],added:n}}function hx(t,e,i){if(!Gut(t,e))return;const n=Uut(t,e);return n==null?Yut(t,e,i):Wut(n,t,e,i)}function kj(t){return t.type==="continuous"||t.type==="log"}function Lj(t){return t.type==="category"}function ag(t,e){return t===void 0||e===void 0?t!==void 0||e!==void 0:kj(t)&&kj(e)?t.type===e.type&&ll(t.domain,e.domain)&&ll(t.range,e.range):Lj(t)&&Lj(e)?t.inset===e.inset&&t.step===e.step&&ll(t.domain,e.domain):!1}function Bx(t){return t==null?!1:t.type==="category"?t.domain.every(e=>e!=null):t.domain.every(e=>Number.isFinite(e)||e instanceof Date)&&t.range.every(e=>Number.isFinite(e))}function FM(t,e){let i;const n=t.map(s=>s.point);switch(e.type){case"linear":i=Out(n);break;case"smooth":i=But(n,e.tension);break;case"step":i=Put(n,e.position);break}return i.map((s,a)=>({span:s,xValue0:t[a].xDatum,yValue0:t[a].yDatum,xValue1:t[a+1].xDatum,yValue1:t[a+1].yDatum}))}function SY(t,e,i=.001){return Math.abs(t.x-e.x)<i&&Math.abs(t.y-e.y)<i}function YE({path:t},e){let i;for(const{span:n}of e){const[s,a]=fl(n),o=i!=null&&SY(i,s)?1:0;CL(t,n,o,!1),i=a}}function nM(t,e,i){let n;for(const s of i){const[a,o]=yY(s.from,s.to,t),r=n!=null&&SY(n,a)?1:0;kL(e.path,s.from,s.to,t,r,!1),n=o}}function $E(t,e,i){const n=(r,l)=>nM(r,l,e.removed),s=(r,l)=>nM(r,l,e.moved),a=(r,l)=>nM(r,l,e.added),o=KE(t,i);return{status:t,path:{addPhaseFn:a,updatePhaseFn:s,removePhaseFn:n},pathProperties:o}}function KE(t,e){const i=e==="none"?"updated":t,n={fromFn:s=>{let a;return t==="removed"?a={finish:{visible:!1}}:t==="added"?a={start:{visible:!0}}:a={},{phase:fr[i],...a}},toFn:s=>({phase:fr[i]})};return e==="fade"?{fromFn:s=>({opacity:t==="added"?0:s.opacity,...n.fromFn(s)}),toFn:s=>({opacity:t==="removed"?0:1,...n.toFn(s)})}:n}function MY(t,e,i){var c,h;const n=((c=t.scales.x)==null?void 0:c.type)==="category",s=((h=e.scales.x)==null?void 0:h.type)==="category";if(n!==s||!Bx(t.scales.x)||!Bx(e.scales.x)||t.strokeData==null||e.strokeData==null)return;let a="updated";e.visible&&!t.visible?a="removed":!e.visible&&t.visible&&(a="added");const o=hx({scales:t.scales,data:t.strokeData.spans},{scales:e.scales,data:e.strokeData.spans},1);if(o==null)return;const r=$E(a,o,"fade"),l=((i==null?void 0:i.changed)??!0)||!ag(t.scales.x,e.scales.x)||!ag(t.scales.y,e.scales.y)||a!=="updated";return{status:a,stroke:r,hasMotion:l}}function AY({path:t},{spans:e,phantomSpans:i}){for(let n=0;n<e.length;n+=1){const{span:s}=e[n],a=i[n].span;CL(t,s,0,!1),CL(t,a,1,!0),t.closePath()}}function sM(t,{path:e},i,n){for(let s=0;s<i.length;s+=1){const a=i[s],o=n[s];kL(e,a.from,a.to,t,0,!1),kL(e,o.from,o.to,t,1,!0),e.closePath()}}function DY(t,e,i,n){const s=(l,c)=>sM(l,c,e.removed,i.removed),a=(l,c)=>sM(l,c,e.moved,i.moved),o=(l,c)=>sM(l,c,e.added,i.added),r=KE(t,n);return{status:t,path:{addPhaseFn:o,updatePhaseFn:a,removePhaseFn:s},pathProperties:r}}function IY(t,e){var p,f;const i=((p=t.scales.x)==null?void 0:p.type)==="category",n=((f=e.scales.x)==null?void 0:f.type)==="category";if(i!==n||!Bx(t.scales.x)||!Bx(e.scales.x))return;let s="updated";e.visible&&!t.visible?s="removed":!e.visible&&t.visible&&(s="added");const a=hx({scales:t.scales,data:t.fillData.spans},{scales:e.scales,data:e.fillData.spans},0);if(a==null)return;const o=hx({scales:t.scales,data:t.fillData.phantomSpans},{scales:e.scales,data:e.fillData.phantomSpans},0);if(o==null)return;const r=hx({scales:t.scales,data:t.strokeData.spans,zeroData:t.fillData.phantomSpans},{scales:e.scales,data:e.strokeData.spans,zeroData:e.fillData.phantomSpans},0);if(r==null)return;const l="none",c=DY(s,a,o,l),h=$E(s,r,l);return{status:s,fill:c,stroke:h}}function zx({id:t},e,i,...n){const s={phase:i?fr[i]:"trailing"};Ec(t,"markers",e,n,{opacity:0},{opacity:1},s),n.forEach(a=>a.cleanup())}function XE({id:t},e,...i){Ec(t,"markers",e,i,{scalingX:0,scalingY:0},{scalingX:1,scalingY:1},{phase:"initial"}),i.forEach(n=>n.cleanup())}function ZE({id:t,nodeDataDependencies:e},i,...n){const s=e.seriesRectWidth;Ti(t,"markers",i,n,{fromFn:(r,l)=>{var p;const c=((p=l.midPoint)==null?void 0:p.x)??s;let h=Jt(0,yU(c/s),1);return isNaN(h)&&(h=0),{scalingX:0,scalingY:0,delay:h,duration:AM,phase:"initial"}},toFn:()=>({scalingX:1,scalingY:1})})}function jb(t){return{opacity:1,scalingX:1,scalingY:1}}function _x(t,e){var i,n;return{translationX:((i=e.point)==null?void 0:i.x)??NaN,translationY:((n=e.point)==null?void 0:n.y)??NaN}}function Fb(t,{datumIndex:e}){const i=t.getNodeData();if(i===void 0)return;const n=i[e],{point:s}=n;if(n==null||s==null)return;const a=4+(s.focusSize??t.getFormattedMarkerStyle(n).size),o=a/2,r=n.point.x-o,l=n.point.y-o;return Ni.toCanvas(t.contentGroup,new Rt(r,l,a,a))}function qE({id:t,visible:e,nodeDataDependencies:i},n,...s){const{seriesRectWidth:a,seriesRectHeight:o}=i;Ec(t,"path_properties",n,s,{clipX:0},{clipX:a},{phase:"initial",start:{clip:!0,clipY:o,visible:e},finish:{clip:!1,visible:e}})}function GM({id:t},e,i,n="add",...s){Ec(t,e,i,s,{opacity:0},{opacity:1},{phase:n})}function QE(t){return e=>({visible:t.getVisible(),opacity:t.getOpacity(),clipScalingX:1,clip:!1})}function VM({nodeDataDependencies:t},e){const i=n=>isFinite(n)?n:0;e.clipX=i(t.seriesRectWidth),e.clipY=i(t.seriesRectHeight)}var $ut=.125,Kut=.25,JE=class extends xh{constructor(t){super({moduleCtx:t,directionKeys:ap,directionNames:op,pathsPerSeries:["fill","stroke"],pathsZIndexSubOrderOffset:[0,1e3],hasMarkers:!0,markerSelectionGarbageCollection:!1,pickModes:[2,0],animationResetFns:{path:QE({getVisible:()=>this.visible,getOpacity:()=>this.getOpacity()}),label:Uc,marker:(e,i)=>({...jb(),..._x(e,i)})}}),this.properties=new Ji,this.connectsToYAxis=!0,this.backgroundGroup=new Kt({name:`${this.id}-background`,zIndex:0}),this._isStacked=void 0}get pickModeAxis(){return"main"}renderToOffscreenCanvas(){return super.renderToOffscreenCanvas()||this.contextNodeData!=null&&(this.contextNodeData.fillData.spans.length>zM||this.contextNodeData.strokeData.spans.length>zM)}attachSeries(t,e,i){super.attachSeries(t,e,i),t.appendChild(this.backgroundGroup)}detachSeries(t,e,i){super.detachSeries(t,e,i),t==null||t.removeChild(this.backgroundGroup)}attachPaths([t,e]){this.backgroundGroup.appendChild(t),this.contentGroup.appendChild(e),e.zIndex=-1}detachPaths([t,e]){this.backgroundGroup.removeChild(t),this.contentGroup.removeChild(e)}isStacked(){var e;return(((e=this.seriesGrouping)==null?void 0:e.stackCount)??1)>1}setSeriesIndex(t){const e=this.isStacked();return!super.setSeriesIndex(t)&&this._isStacked===e?!1:(this._isStacked=e,e?(this.backgroundGroup.zIndex=[0,t],this.contentGroup.zIndex=[1,t,0]):(this.backgroundGroup.zIndex=[1,t,0,0],this.contentGroup.zIndex=[1,t,0,1]),!0)}async processData(t){var D,I;if(this.data==null||!this.properties.isValid())return;const{data:e,visible:i,seriesGrouping:{groupIndex:n=this.id,stackCount:s=1}={}}=this,{xKey:a,yKey:o,yFilterKey:r,connectMissingData:l,normalizedTo:c}=this.properties,h=!this.ctx.animationManager.isSkipped(),p=(D=this.axes.x)==null?void 0:D.scale,f=(I=this.axes.y)==null?void 0:I.scale,{xScaleType:y,yScaleType:m}=this.getScaleInformation({xScale:p,yScale:f}),b={value:`area-stack-${n}-yValue`,values:`area-stack-${n}-yValues`,stack:`area-stack-${n}-yValue-stack`,marker:`area-stack-${n}-yValues-marker`},S=[];qS(c)&&S.push(eD(Object.values(b),c)),h&&S.push(Ng());const v={invalidValue:null};(qS(c)||l)&&s>1&&(v.invalidValue=0),i||(v.forceValue=0),await this.requestDataModel(t,e,{props:[xr(a,y,{id:"xValue"}),se(o,m,{id:"yValueRaw",...v}),...r!=null?[se(r,m,{id:"yFilterRaw"})]:[],...UW(o,m,{id:"yValueStack",...v,groupId:b.stack}),se(o,m,{id:"yValue",...v,groupId:b.value}),...th(o,"window","current",{id:"yValueEnd",...v,groupId:b.values},m),...th(o,"normal","current",{id:"yValueCumulative",...v,groupId:b.marker},m),...S],groupByKeys:!0,groupByData:!1}),this.animationState.transition("updateData")}xCoordinateRange(t,e){const{marker:i}=this.properties,n=this.axes.x.scale.convert(t),s=i.enabled?.5*i.size*e:0;return[n-s,n+s]}yCoordinateRange(t,e){const{marker:i}=this.properties,n=this.axes.y.scale.convert(t[0]),s=i.enabled?.5*i.size*e:0;return[n-s,n+s]}getSeriesDomain(t){const{processedData:e,dataModel:i,axes:n}=this;if(!e||!i)return[];const s=n.y;if(t==="x"){const o=i.resolveProcessedDataDefById(this,"xValue"),r=i.getDomain(this,"xValue","key",e);return(o==null?void 0:o.def.type)==="key"&&o.def.valueType==="category"?r:va(jc(r))}const a=this.domainForClippedRange("y",["yValueEnd"],"xValue",!0);if(s instanceof rp||s instanceof sp)return va(a);{const o=Number.isFinite(a[1]-a[0])?[a[0]>0?0:a[0],a[1]<0?0:a[1]]:[];return va(o)}}getSeriesRange(t,e){const[i,n]=this.domainForVisibleRange("y",["yValueEnd"],"xValue",e,!0);return[Math.min(i,0),Math.max(n,0)]}getVisibleItems(t,e,i){return this.countVisibleItems("xValue",["yValueEnd"],t,e,i)}createNodeData(){var at;const{axes:t,data:e,processedData:i,dataModel:n}=this,s=t.x,a=t.y;if(!s||!a||!e||!n||(i==null?void 0:i.type)!=="grouped"||!this.properties.isValid())return;const{yKey:o,xKey:r,yFilterKey:l,marker:c,label:h,fill:p,stroke:f,connectMissingData:y,interpolation:m}=this.properties,{scale:b}=s,{scale:S}=a,{isContinuousY:v}=this.getScaleInformation({xScale:b,yScale:S}),D=(b.bandwidth??0)/2,I=n.resolveKeysById(this,"xValue",i),T=n.resolveColumnById(this,"yValueEnd",i),k=n.resolveColumnById(this,"yValueRaw",i),E=n.resolveColumnById(this,"yValueCumulative",i),w=l!=null?n.resolveColumnById(this,"yFilterRaw",i):void 0,R=n.resolveColumnById(this,"yValueStack",i),O=(lt,ut,pt)=>{let ot;return(qS(this.properties.normalizedTo)?v&&jA(pt):!isNaN(pt))&&(ot=ut),{x:b.convert(lt)+D,y:S.convert(ot),size:c.size}},L=[],F=[],{visibleSameStackCount:z}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this);let V=!1;const{dataSources:H}=i,W=H.get(this.id)??[];for(const{datumIndex:lt}of n.forEachGroupDatum(this,i)){const ut=I[lt];if(ut==null)return;const pt=W[lt],ot=k[lt],ft=E[lt],ct=T[lt],bt=Number.isFinite(ot),St=O(ut,+ft,ot),xt=w!=null?w[lt]===ot:void 0;if(xt===!1&&(V=!0),bt&&c&&F.push({series:this,itemId:o,datum:pt,datumIndex:lt,midPoint:{x:St.x,y:St.y},cumulativeValue:ct,yValue:ot,xValue:ut,yKey:o,xKey:r,point:St,fill:c.fill??p,stroke:c.stroke??f,strokeWidth:c.strokeWidth??this.getStrokeWidth(this.properties.strokeWidth),selected:xt}),bt&&h){const wt=this.getLabelText(h,{value:ot,datum:pt,xKey:r,yKey:o,xName:this.properties.xName,yName:this.properties.yName});L.push({series:this,itemId:o,datum:pt,datumIndex:lt,x:St.x,y:St.y,labelText:wt})}}const G=lt=>lt.flatMap(ut=>Array.isArray(ut)?FM(ut,m):new Array(ut.skip).fill(null)),$=(lt,ut)=>({point:{x:b.convert(lt)+D,y:S.convert(ut)},xDatum:lt,yDatum:ut}),K=lt=>{const ut=[];for(const{datumIndexes:[pt,ot,ft]}of n.forEachGroupDatumTuple(this,i)){const ct=I[ot],bt=R[ot],St=bt[lt],xt=Number.isFinite(St);if(y&&!xt)continue;const wt=pt!=null?R[pt]:void 0,kt=ft!=null?R[ft]:void 0;let Nt=0,$t=0;for(let Ot=0;Ot<=lt;Ot+=1){const Mt=bt[Ot];if(Number.isFinite(Mt)){const Ne=wt==null||Number.isFinite(wt[Ot]),Yt=kt==null||Number.isFinite(kt[Ot]);Ne&&(Nt+=Mt),Yt&&($t+=Mt)}}const zt=ut[ut.length-1];if(!y&&(Nt!==$t||!xt))if(!xt&&Array.isArray(zt)&&zt.length===1)ut[ut.length-1]={skip:1};else{const Ot=$(ct,Nt),Mt=$(ct,$t);Array.isArray(zt)?zt.push(Ot):zt!=null&&(zt.skip+=1),ut.push(xt?[Mt]:{skip:0})}else{const Ot=Math.max(Nt,$t),Mt=$(ct,Ot);Array.isArray(zt)?zt.push(Mt):zt!=null?(zt.skip+=1,ut.push([Mt])):ut.push([Mt])}}return G(ut)},X=((at=this.seriesGrouping)==null?void 0:at.stackIndex)??0,j=()=>{const lt=Array.from(n.forEachGroupDatum(this,i),({datumIndex:ut})=>{const pt=I[ut],ft=R[ut][X];if(!(y&&!Number.isFinite(ft)))return $(pt,0)}).filter(ut=>ut!=null);return FM(lt,m)},U=K(X),Z=U.map(()=>null);for(let lt=X-1;lt>=-1;lt-=1){let ut;for(let pt=0;pt<Z.length;pt+=1)Z[pt]==null&&(ut??(ut=lt!==-1?K(lt):j()),Z[pt]=ut[pt])}const tt=U.map((lt,ut)=>lt??Z[ut]),J=U.filter(lt=>lt!=null);return{itemId:o,fillData:{itemId:o,spans:tt,phantomSpans:Z},strokeData:{itemId:o,spans:J},labelData:L,nodeData:F,scales:this.calculateScaling(),visible:this.visible,stackVisible:z>0,crossFiltering:V}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}updatePathNodes(t){var c;const{opacity:e,visible:i,animationEnabled:n}=t,[s,a]=t.paths,o=((c=this.contextNodeData)==null?void 0:c.crossFiltering)===!0,r=this.getStrokeWidth(this.properties.strokeWidth);a.setProperties({fill:void 0,lineCap:"round",lineJoin:"round",pointerEvents:1,stroke:this.properties.stroke,strokeWidth:r,strokeOpacity:this.properties.strokeOpacity*(o?Kut:1),lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset,opacity:e,visible:i||n});const{fill:l}=this.properties;if($U(l)){const h=this.getGradientFillOptions(l,this.properties.defaultColorRange);s.gradientFillOptions=h}s.setProperties({stroke:void 0,lineJoin:"round",pointerEvents:1,fill:this.properties.fill,fillOpacity:this.properties.fillOpacity*(o?$ut:1),fillShadow:this.properties.shadow,opacity:e,visible:i||n}),VM(this,a),VM(this,s)}updatePaths(t){this.updateAreaPaths(t.paths,t.contextData)}updateAreaPaths(t,e){for(const i of t)i.visible=e.visible;if(e.visible)this.updateFillPath(t,e),this.updateStrokePath(t,e);else for(const i of t)i.path.clear(),i.markDirty()}updateFillPath(t,e){const[i]=t;i.path.clear(),AY(i,e.fillData),i.markDirty()}updateStrokePath(t,e){const{spans:i}=e.strokeData,[,n]=t;n.path.clear(),YE(n,i),n.markDirty()}updateMarkerSelection(t){var s;const{nodeData:e,markerSelection:i}=t,n=this.properties.marker.enabled||((s=this.contextNodeData)==null?void 0:s.crossFiltering)===!0;return this.properties.marker.isDirty()&&(i.clear(),i.cleanup()),i.update(n?e:[])}getMarkerItemBaseStyle(t){const{marker:e}=this.properties,i=t?this.properties.highlightStyle.item:void 0;return{fill:(i==null?void 0:i.fill)??e.fill,fillOpacity:(i==null?void 0:i.fillOpacity)??e.fillOpacity,stroke:(i==null?void 0:i.stroke)??e.stroke,strokeWidth:(i==null?void 0:i.strokeWidth)??e.strokeWidth,strokeOpacity:(i==null?void 0:i.strokeOpacity)??e.strokeOpacity}}getMarkerItemStyleOverrides(t,e,i,n,s,a){const{marker:o}=this.properties,{itemStyler:r}=o;if(r==null)return;const{id:l,properties:c}=this,{xKey:h,yKey:p}=c,{xDomain:f,yDomain:y}=this.cachedDatumCallback("domain",()=>({xDomain:this.getSeriesDomain("x"),yDomain:this.getSeriesDomain("y")}));return this.cachedDatumCallback(qi(t,a?"highlight":"node"),()=>r({seriesId:l,...Ju(e,h,p,f,y),xValue:i,yValue:n,highlighted:a,...s}))}updateMarkerNodes(t){const{markerSelection:e,isHighlight:i}=t,{xKey:n,yKey:s,marker:a,fill:o,stroke:r,strokeWidth:l,fillOpacity:c,strokeOpacity:h,highlightStyle:p}=this.properties,f=this.getSeriesDomain("x"),y=this.getSeriesDomain("y"),m=ne(i&&p.item,a.getStyle(),{fill:o,stroke:r,strokeWidth:l,fillOpacity:c,strokeOpacity:h});e.each((b,S)=>{this.updateMarkerStyle(b,a,{...Ju(S,n,s,f,y),highlighted:i},m,{selected:S.selected})}),i||this.properties.marker.markClean()}updateLabelSelection(t){const{labelData:e,labelSelection:i}=t;return i.update(e)}updateLabelNodes(t){const{labelSelection:e}=t,{enabled:i,fontStyle:n,fontWeight:s,fontSize:a,fontFamily:o,color:r}=this.properties.label;e.each((l,c)=>{const{x:h,y:p,labelText:f}=c;f&&i&&this.visible?(l.fontStyle=n,l.fontWeight=s,l.fontSize=a,l.fontFamily=o,l.textAlign="center",l.textBaseline="bottom",l.text=f,l.x=h,l.y=p-10,l.fill=r,l.visible=!0):l.visible=!1})}getTooltipContent(t){var D;const{id:e,dataModel:i,processedData:n,axes:s,properties:a}=this,{xKey:o,xName:r,yKey:l,yName:c,tooltip:h}=a,p=s.x,f=s.y;if(!i||!n||!p||!f)return;const{datumIndex:y}=t,m=(D=n.dataSources.get(this.id))==null?void 0:D[y],b=i.resolveKeysById(this,"xValue",n)[y],S=i.resolveColumnById(this,"yValueRaw",n)[y];if(b==null)return;const v=this.getMarkerItemBaseStyle(!1);return Object.assign(v,this.getMarkerItemStyleOverrides(String(y),m,b,S,v,!1)),h.formatTooltip({heading:p.formatDatum(b),symbol:this.legendItemSymbol(),data:[{label:c,fallbackLabel:l,value:f.formatDatum(S)}]},{seriesId:e,datum:m,title:c,xKey:o,xName:r,yKey:l,yName:c,...v,...this.getModuleTooltipParams()})}legendItemSymbol(){const{fill:t,stroke:e,fillOpacity:i,strokeOpacity:n,strokeWidth:s,lineDash:a,marker:o}=this.properties,r=!o.enabled||o.fill===void 0;return{marker:{shape:o.shape,fill:r?t:o.fill,fillOpacity:r?i:o.fillOpacity,stroke:o.stroke??e,strokeOpacity:o.strokeOpacity,strokeWidth:o.strokeWidth,lineDash:o.lineDash,lineDashOffset:o.lineDashOffset,enabled:o.enabled||s<=0},line:{stroke:e,strokeOpacity:n,strokeWidth:s,lineDash:a}}}getLegendData(t){if(!this.properties.isValid()||t!=="category")return[];const{id:e,ctx:{legendManager:i},visible:n}=this,{yKey:s,yName:a,legendItemName:o,showInLegend:r}=this.properties;return[{legendType:t,id:e,itemId:s,seriesId:e,enabled:n&&i.getItemEnabled({seriesId:e,itemId:s}),label:{text:o??a??s},symbol:this.legendItemSymbol(),legendItemName:o,hideInLegend:!r}]}animateEmptyUpdateReady(t){const{markerSelection:e,labelSelection:i,contextData:n,paths:s}=t,{animationManager:a}=this.ctx;this.updateAreaPaths(s,n),qE(this,a,...s),Vn([e],_x),ZE(this,a,e),Ie(this,"labels",a,i)}animateReadyResize(t){const{contextData:e,paths:i}=t;this.updateAreaPaths(i,e),super.animateReadyResize(t)}animateWaitingUpdateReady(t){const{animationManager:e}=this.ctx,{markerSelection:i,labelSelection:n,contextData:s,paths:a,previousContextData:o}=t,[r,l]=a;if(r==null&&l==null)return;this.resetMarkerAnimation(t),this.resetLabelAnimation(t);const c=()=>{this.resetPathAnimation(t),this.updateAreaPaths(a,s)},h=()=>{e.skipCurrentBatch(),c()};if(s==null||o==null){c(),zx(this,e,"added",i),GM(this,"fill_path_properties",e,"add",r),GM(this,"stroke_path_properties",e,"add",l),Ie(this,"labels",e,n);return}if(s.crossFiltering!==o.crossFiltering){h();return}const p=IY(s,o);if(p===void 0){h();return}else if(p.status==="no-op")return;zx(this,e,void 0,i),Ti(this.id,"fill_path_properties",e,[r],p.fill.pathProperties),jM(this.id,"fill_path_update",e,[r],p.fill.path),Ti(this.id,"stroke_path_properties",e,[l],p.stroke.pathProperties),jM(this.id,"stroke_path_update",e,[l],p.stroke.path),Ie(this,"labels",e,n),this.ctx.animationManager.animate({id:this.id,groupId:"reset_after_animation",phase:"trailing",from:{},to:{},onComplete:()=>this.updateAreaPaths(a,s)})}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new Kt}getFormattedMarkerStyle(t){const{xKey:e,yKey:i}=t,n=this.getSeriesDomain("x"),s=this.getSeriesDomain("y");return this.getMarkerStyle(this.properties.marker,{...Ju(t,e,i,n,s),highlighted:!0})}computeFocusBounds(t){return Fb(this,t)}};JE.className="AreaSeries";JE.type="area";var Xut={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"area",moduleFactory:t=>new JE(t),stackable:!0,tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"left"},{type:"category",position:"bottom"}],themeTemplate:{series:{nodeClickRange:"nearest",tooltip:{position:{type:"node"}},fillOpacity:.8,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,shadow:{enabled:!1,color:Sh,xOffset:3,yOffset:3,blur:5},interpolation:{type:"linear",tension:1,position:"end"},marker:{enabled:!1,shape:"circle",size:7,strokeWidth:0},label:{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}}}},paletteFactory:t=>{const{marker:e}=HE(t),i=t.themeTemplateParameters.get(uD);return{fill:e.fill,stroke:e.stroke,marker:e,defaultColorRange:i}}};function tw(t,e){for(const i of e){const n=i.datum;n===void 0?It.error("undefined datum"):t.addValue(i,n)}}function ew(t,e){const{x:i,y:n}=e,{nearest:s,distanceSquared:a}=t.getQuadTree().find(i,n);if(s!==void 0)return{datum:s.value,distance:Math.sqrt(a)}}var iw=class extends Gc{constructor(){super(...arguments),this.direction="vertical"}};N([P(zU)],iw.prototype,"direction",2);var TY=class extends xh{constructor(){super(...arguments),this.groupScale=new pb,this.smallestDataInterval=void 0,this.largestDataInterval=void 0}padBandExtent(t,e){const i=typeof e=="boolean"?1:.5,n=xe(this.smallestDataInterval)?this.smallestDataInterval*i:0,s=jc(t)??[NaN,NaN];return typeof e=="boolean"?s[e?0:1]-=(e?1:-1)*n:(s[0]-=n,s[1]+=n),va(s)}getBandScalePadding(){return{inner:.3,outer:.15}}shouldFlipXY(){return!this.isVertical()}isVertical(){return this.properties.direction==="vertical"}getBarDirection(){return this.shouldFlipXY()?"x":"y"}getCategoryDirection(){return this.shouldFlipXY()?"y":"x"}getValueAxis(){const t=this.getBarDirection();return this.axes[t]}getCategoryAxis(){const t=this.getCategoryDirection();return this.axes[t]}getBandwidth(t){return Oe.is(t.scale)?t.scale.calcBandwidth(this.smallestDataInterval):t.scale.bandwidth}xCoordinateRange(t){const e=this.axes[this.getCategoryDirection()],i=e.scale,n=this.getBandwidth(e)??0,s=Oe.is(i)?n*-.5:0,a=i.convert(t)+s;return[a,a+n]}yCoordinateRange(t){const i=this.axes[this.getBarDirection()].scale,n=t.map(s=>i.convert(s));if(n.length===1){const s=i.convert(0);return[Math.min(n[0],s),Math.max(n[0],s)]}return[Math.min(...n),Math.max(...n)]}updateGroupScale(t){const e=[],{groupScale:i}=this,n=this.getBandwidth(t),{index:s,visibleGroupCount:a}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this);for(let r=0;r<a;r++)e.push(String(r));return i.domain=e,i.range=[0,n??0],t instanceof wg?i.paddingInner=t.groupPaddingInner:t instanceof Tg?(i.paddingInner=t.groupPaddingInner,i.round=i.padding!==0):i.padding=0,{barWidth:i.bandwidth>=1?i.bandwidth:i.rawBandwidth,groupIndex:s}}resolveKeyDirection(t){return this.getBarDirection()==="x"?t==="x"?"y":"x":t}initQuadTree(t){tw(t,this.datumNodesIter())}pickNodeClosestDatum(t){return ew(this,t)}},nw=class extends wn{constructor(){super(...arguments),this.placement="inside-center",this.padding=0}};N([P(Je(["inside-center","inside-start","inside-end","outside-start","outside-end"],"a placement"))],nw.prototype,"placement",2);N([P(fe)],nw.prototype,"padding",2);var Ei=class extends iw{constructor(){super(...arguments),this.fill="#c16068",this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.crisp=void 0,this.shadow=new Cr,this.label=new nw,this.tooltip=new Rs,this.sparklineMode=!1,this.fastDataProcessing=!1}};N([P(Dt)],Ei.prototype,"xKey",2);N([P(Dt,{optional:!0})],Ei.prototype,"xName",2);N([P(Dt)],Ei.prototype,"yKey",2);N([P(Dt,{optional:!0})],Ei.prototype,"yName",2);N([P(Dt,{optional:!0})],Ei.prototype,"yFilterKey",2);N([P(Dt,{optional:!0})],Ei.prototype,"stackGroup",2);N([P(fe,{optional:!0})],Ei.prototype,"normalizedTo",2);N([P(ke)],Ei.prototype,"fill",2);N([P(Re)],Ei.prototype,"fillOpacity",2);N([P(ke)],Ei.prototype,"stroke",2);N([P(Ct)],Ei.prototype,"strokeWidth",2);N([P(Re)],Ei.prototype,"strokeOpacity",2);N([P(bl)],Ei.prototype,"lineDash",2);N([P(Ct)],Ei.prototype,"lineDashOffset",2);N([P(Ct)],Ei.prototype,"cornerRadius",2);N([P(Gt,{optional:!0})],Ei.prototype,"crisp",2);N([P(ea,{optional:!0})],Ei.prototype,"itemStyler",2);N([P(Lt,{optional:!0})],Ei.prototype,"shadow",2);N([P(Lt)],Ei.prototype,"label",2);N([P(Lt)],Ei.prototype,"tooltip",2);N([P(Gt)],Ei.prototype,"sparklineMode",2);N([P(Gt)],Ei.prototype,"fastDataProcessing",2);function CY(t,e,i,n){if(e!=null){const[s,a]=e;if(s!==0||a!==1)return!1}if(Oe.is(t)){const s=t.calcBandwidth(n)-t.calcBandwidth(i);if(s>0&&s<1)return!1}return!0}var T1=t=>DA(t.yValue??0);function jx(t,e,i){const{startingX:n,startingY:s}=qut(t,e);return{isVertical:t,calculate:(o,r)=>{let l=t?o.x:n,c=t?s:o.y,h=t?o.width:0,p=t?0:o.height;const{opacity:f=1}=o;r&&(isNaN(l)||isNaN(c))&&({x:l,y:c}=r,h=t?r.width:0,p=t?0:r.height,t&&!T1(r)?c+=r.height:!t&&T1(r)&&(l+=r.width));let y;return o.clipBBox==null?y=void 0:T1(o)?y=t?new Rt(l,c-p,h,p):new Rt(l-h,c,h,p):y=new Rt(l,c,h,p),{x:l,y:c,width:h,height:p,clipBBox:y,opacity:f}},mode:i}}function Zut(t,e){return{isVertical:t,calculate:i=>({x:t?i.x:i.x+i.width/2,y:t?i.y+i.height/2:i.y,width:t?i.width:0,height:t?0:i.height,clipBBox:i.clipBBox,opacity:i.opacity??1}),mode:e}}function Fx(t){const e=a=>a==null||isNaN(a.x)||isNaN(a.y);return{toFn:(a,o,r)=>r==="removed"&&a.datum==null&&t.mode==="fade"?{...Gx(a,o),opacity:0}:r==="removed"||e(o)?t.calculate(o,a.previousDatum):{x:o.x,y:o.y,width:o.width,height:o.height,clipBBox:o.clipBBox,opacity:o.opacity??1},fromFn:(a,o,r)=>{r==="updated"&&e(o)?r="removed":r==="updated"&&e(a.previousDatum)&&(r="added");let l;r==="added"&&a.previousDatum==null&&t.mode==="fade"?l={...Gx(a,o),opacity:0}:r==="unknown"||r==="added"?l=t.calculate(o,a.previousDatum):l={x:a.x,y:a.y,width:a.width,height:a.height,clipBBox:a.clipBBox,opacity:a.opacity??1};const c=fr[r];return{...l,phase:c}},applyFn:(a,o,r)=>{var l;a.setProperties(o),a.crisp=r==="end"&&(((l=a.datum)==null?void 0:l.crisp)??!1)}}}function qut(t,e){const i=e[t?"y":"x"];let n=1/0,s=0;return i?(t?s=i.scale.convert(Oe.is(i.scale)?0:Math.max(...i.range)):n=i.scale.convert(Oe.is(i.scale)?0:Math.min(...i.range)),{startingX:n,startingY:s}):{startingX:n,startingY:s}}function Gx(t,{x:e,y:i,width:n,height:s,clipBBox:a,opacity:o=1}){var r;return{x:e,y:i,width:n,height:s,clipBBox:a,opacity:o,crisp:((r=t.datum)==null?void 0:r.crisp)??!1}}function sw(t,e){if(e===void 0)return;const{x:i,y:n,width:s,height:a}=e;return Ni.toCanvas(t.contentGroup,new Rt(i,n,s,a))}function kY(t,e,i){if(e.enabled&&i){const{x:n,y:s,text:a,textAlign:o,textBaseline:r}=i,{color:l,fontStyle:c,fontWeight:h,fontSize:p,fontFamily:f}=e;t.setProperties({visible:!0,x:n,y:s,text:a,fill:l,fontStyle:c,fontWeight:h,fontSize:p,fontFamily:f,textAlign:o,textBaseline:r})}else t.visible=!1}var Qut={"inside-start":{inside:!0,direction:-1,textAlignment:1},"inside-end":{inside:!0,direction:1,textAlignment:-1},"outside-start":{inside:!1,direction:-1,textAlignment:-1},"outside-end":{inside:!1,direction:1,textAlignment:1}};function LY({isUpward:t,isVertical:e,placement:i,padding:n=0,rect:s}){let a=s.x+s.width/2,o=s.y+s.height/2,r="center",l="middle";if(i!=="inside-center"){const c=(t?1:-1)*(e?-1:1),{direction:h,textAlignment:p}=Qut[i],f=(h+1)*.5;if(e){const y=t?s.y+s.height:s.y,m=s.height*c;o=y+m*f+n*p*c,l=p===c?"top":"bottom"}else{const y=t?s.x:s.x+s.width,m=s.width*c;a=y+m*f+n*p*c,r=p===c?"left":"right"}}return{x:a,y:o,textAlign:r,textBaseline:l}}var Jut=0,tht=1,eht=2,iht=3,nht=4,fD=class extends TY{constructor(e){super({moduleCtx:e,directionKeys:ap,directionNames:op,pickModes:[2,1,0],pathsPerSeries:[],hasHighlightedLabels:!0,datumSelectionGarbageCollection:!1,animationAlwaysUpdateSelections:!0,animationResetFns:{datum:Gx,label:Uc}}),this.properties=new Ei,this.connectsToYAxis=!0,this.dataAggregationFilters=void 0}get pickModeAxis(){return this.properties.sparklineMode?"main":void 0}crossFilteringEnabled(){return this.properties.yFilterKey!=null&&(this.seriesGrouping==null||this.seriesGrouping.stackIndex===0)}async processData(e){var O,L,F,z,V,H;if(!this.properties.isValid()||!this.data)return;const{xKey:i,yKey:n,yFilterKey:s,normalizedTo:a,fastDataProcessing:o}=this.properties,{seriesGrouping:{groupIndex:r=this.id}={},data:l}=this,c=((O=this.seriesGrouping)==null?void 0:O.groupCount)??0,p=(((L=this.seriesGrouping)==null?void 0:L.stackCount)??0)>=1||a!=null,f=!o||c>1||p,y=!this.ctx.animationManager.isSkipped(),m=(F=this.getCategoryAxis())==null?void 0:F.scale,b=(z=this.getValueAxis())==null?void 0:z.scale,{isContinuousX:S,xScaleType:v,yScaleType:D}=this.getScaleInformation({xScale:m,yScale:b}),I=`bar-stack-${r}-yValues`,T=`${I}-trailing`,k=this.visible?{}:{forceValue:0},E=[xr(i,v,{id:"xValue"}),se(n,D,{id:"yValue-raw",invalidValue:null,...k})];this.crossFilteringEnabled()&&E.push(se(s,D,{id:"yFilterValue",invalidValue:null,...k})),p&&E.push(...th(n,"normal","current",{id:"yValue-end",rangeId:"yValue-range",invalidValue:null,missingValue:0,groupId:I,separateNegative:!0,...k},D),...th(n,"trailing","current",{id:"yValue-start",invalidValue:null,missingValue:0,groupId:T,separateNegative:!0,...k},D)),S&&E.push(HW,WW),xe(a)&&E.push(eD([I,T],Math.abs(a))),y&&this.processedData&&E.push(Eg(this.id,this.processedData)),(y||!f)&&E.push(Ng());const{dataModel:w,processedData:R}=await this.requestDataModel(e,l,{props:E,groupByKeys:f,groupByData:!f});this.dataAggregationFilters=this.aggregateData(w,R),this.smallestDataInterval=(V=R.reduced)==null?void 0:V.smallestKeyInterval,this.largestDataInterval=(H=R.reduced)==null?void 0:H.largestKeyInterval,this.animationState.transition("updateData")}getSeriesDomain(e){var r;const{processedData:i,dataModel:n}=this;if(n==null||i==null)return[];if(e===this.getCategoryDirection()){const l=n.resolveProcessedDataDefById(this,"xValue"),c=n.getDomain(this,"xValue","key",i);return(l==null?void 0:l.def.type)==="key"&&l.def.valueType==="category"?c:this.padBandExtent(c)}const s=(r=this.dataModel)!=null&&r.hasColumnById(this,"yValue-end")?"yValue-end":"yValue-raw";let a=this.domainForClippedRange("y",[s],"xValue",!0);const o=this.crossFilteringEnabled()?n.getDomain(this,"yFilterValue","value",i):void 0;if(o!=null&&(a=[Math.min(a[0],o[0]),Math.max(a[1],o[1])]),this.getValueAxis()instanceof rp)return va(a);{const l=Number.isFinite(a[1]-a[0])?[Math.min(0,a[0]),Math.max(0,a[1])]:[];return va(l)}}getSeriesRange(e,i){var o;const n=(o=this.dataModel)!=null&&o.hasColumnById(this,"yValue-end")?"yValue-end":"yValue-raw",[s,a]=this.domainForVisibleRange("y",[n],"xValue",i,!0);return[Math.min(s,0),Math.max(a,0)]}getVisibleItems(e,i,n){var a;const s=(a=this.dataModel)!=null&&a.hasColumnById(this,"yValue-end")?"yValue-end":"yValue-raw";return this.countVisibleItems("xValue",[s],e,i,n)}aggregateData(e,i){}createNodeData(){var U;const{dataModel:e,processedData:i,groupScale:n,dataAggregationFilters:s}=this,a=this.getCategoryAxis(),o=this.getValueAxis();if(!e||!i||!a||!o||!this.properties.isValid())return;const r=(U=i.dataSources)==null?void 0:U.get(this.id);if(r==null)return;const l=a.scale,c=o.scale,{xKey:h,yKey:p,xName:f,yName:y,legendItemName:m,label:b}=this.properties,S=o.isReversed(),{barWidth:v,groupIndex:D}=this.updateGroupScale(a),I=n.convert(String(D)),T=Oe.is(l)?v*-.5:0,k=e.resolveKeysById(this,"xValue",i),E=e.resolveColumnById(this,"yValue-raw",i),w=this.crossFilteringEnabled()?e.resolveColumnById(this,"yFilterValue",i):void 0,R=!this.ctx.animationManager.isSkipped(),O=Z=>l.convert(k[Z])+I+T,L=this.properties.crisp??CY(a==null?void 0:a.scale,a==null?void 0:a.visibleRange,this.smallestDataInterval,this.largestDataInterval),F=c.convert(0),z=({datum:Z,datumIndex:tt,valueIndex:J,xValue:nt,yValue:at,cumulativeValue:lt,phantom:ut,currY:pt,prevY:ot,x:ft,width:ct,isPositive:bt,yRange:St,labelText:xt,opacity:wt,crossScale:kt=1})=>{const Nt=bt!==S,$t=c.convert(pt),zt=c.convert(ot),Ot=c.convert(St),Mt=this.getBarDirection()==="x",Ne=ct*.5*(1-kt),Yt={x:Mt?Math.min($t,zt):ft+Ne,y:Mt?ft+Ne:Math.min($t,zt),width:Mt?Math.abs(zt-$t):ct*kt,height:Mt?ct*kt:Math.abs(zt-$t)},cn=new Rt(Yt.x,Yt.y,Yt.width,Yt.height),Ui={x:Mt?Math.min(F,Ot):ft+Ne,y:Mt?ft+Ne:Math.min(F,Ot),width:Mt?Math.abs(F-Ot):ct*kt,height:Mt?ct*kt:Math.abs(F-Ot)},gs=this.shouldFlipXY()?Yt.height:Yt.width;return{series:this,itemId:ut?qi(p,ut):p,datum:Z,datumIndex:tt,valueIndex:J,cumulativeValue:lt,phantom:ut,xValue:nt,yValue:at,yKey:p,xKey:h,capDefaults:{lengthRatioMultiplier:gs,lengthMax:gs},x:Ui.x,y:Ui.y,width:Ui.width,height:Ui.height,midPoint:{x:Yt.x+Yt.width/2,y:Yt.y+Yt.height/2},opacity:wt,topLeftCornerRadius:Mt!==Nt,topRightCornerRadius:Nt,bottomRightCornerRadius:Mt===Nt,bottomLeftCornerRadius:!Nt,clipBBox:cn,crisp:L,label:xt!=null?{text:xt,...LY({isUpward:Nt,isVertical:!Mt,placement:b.placement,padding:b.padding,rect:Yt})}:void 0,missing:at==null,focusable:!ut}},V=[],H=[],W=[],G=(Z,tt,J,nt,at,lt,ut,pt)=>{const ot=k[Z];if(ot==null)return;const ft=E[Z],ct=w!=null?Number(w[Z]):void 0,bt=ft>=0&&!Object.is(ft,-0);if(!Number.isFinite(lt)||ct!=null&&!Number.isFinite(ct))return;const St=ft!=null?this.getLabelText(this.properties.label,{datum:r[Z],value:ct??ft,xKey:h,yKey:p,xName:f,yName:y,legendItemName:m}):void 0,xt=ct!=null&&ct>ft,wt=z({datum:r[Z],datumIndex:Z,valueIndex:tt,xValue:ot,yValue:ct??ft,cumulativeValue:ct??lt,phantom:!1,currY:ct!=null?at+ct:lt,prevY:at,x:J,width:nt,isPositive:bt,yRange:Math.max(at+(ct??-1/0),ut),labelText:St,opacity:pt,crossScale:xt?.6:void 0});if(H.push(wt),W.push(wt),ct!=null){const kt=z({datum:r[Z],datumIndex:Z,valueIndex:tt,xValue:ot,yValue:ct,cumulativeValue:ct,phantom:!0,currY:lt,prevY:at,x:J,width:nt,isPositive:bt,yRange:ut,labelText:void 0,opacity:pt,crossScale:void 0});V.push(kt)}},[$,K]=l.range,X=K-$,j=s==null?void 0:s.find(Z=>Z.maxRange>X);if(i.type==="grouped"){const Z=v,tt=e.hasColumnById(this,"yValue-start"),J=tt?e.resolveColumnById(this,"yValue-start",i):void 0,nt=tt?e.resolveColumnById(this,"yValue-end",i):void 0,at=tt?e.resolveProcessedDataIndexById(this,"yValue-range"):-1;for(const{datumIndex:lt,valueIndex:ut,group:{aggregation:pt}}of e.forEachGroupDatum(this,i)){const ot=O(lt),ft=E[lt],ct=ft>=0&&!Object.is(ft,-0),bt=tt?Number(J==null?void 0:J[lt]):0,St=tt?Number(nt==null?void 0:nt[lt]):ft;let xt=St;tt&&(xt=pt[at][ct?1:0]),G(lt,ut,ot,Z,bt,St,xt,1)}}else if(j==null){const Z=v;let[tt,J]=this.visibleRange("xValue",a.range);i.input.count<1e3&&(tt=0,J=i.input.count);for(let nt=tt;nt<J;nt+=1){const at=O(nt),lt=Number(E[nt]);G(nt,0,at,Z,0,lt,lt,1)}}else{const{indexData:Z,indices:tt}=j,[J,nt]=this.visibleRange("xValue",a.range,tt);for(let at=J;at<nt;at+=1){const lt=at*nht,ut=Z[lt+Jut],pt=Z[lt+tht],ot=Z[lt+eht],ft=Z[lt+iht];if(ut===-1)continue;const ct=O((ut+pt)/2|0),bt=Math.abs(O(pt)-O(ut))+v,St=k[ft]!=null?Number(E[ft]):NaN,xt=k[ot]!=null?Number(E[ot]):NaN;if(St>0){const wt=xt>=0?xt/St:1;G(ft,0,ct,bt,0,St,St,wt)}if(xt<0){const wt=St<=0?St/xt:1;G(ot,1,ct,bt,0,xt,xt,wt)}}}return{itemId:p,nodeData:V.length>0?[...V,...H]:H,labelData:W,scales:this.calculateScaling(),visible:this.visible||R,groupScale:this.getScaling(this.groupScale)}}nodeFactory(){return new ws}getHighlightData(e,i){const n=e.find(s=>s.datum===i.datum&&!s.phantom);return n!=null?[n]:void 0}updateDatumSelection(e){return e.datumSelection.update(e.nodeData,void 0,i=>this.getDatumId(i))}getItemBaseStyle(e){const{properties:i}=this,{cornerRadius:n}=i,s=e?i.highlightStyle.item:void 0;return{fill:(s==null?void 0:s.fill)??i.fill,fillOpacity:(s==null?void 0:s.fillOpacity)??i.fillOpacity,stroke:(s==null?void 0:s.stroke)??i.stroke,strokeWidth:(s==null?void 0:s.strokeWidth)??this.getStrokeWidth(i.strokeWidth),strokeOpacity:(s==null?void 0:s.strokeOpacity)??i.strokeOpacity,lineDash:(s==null?void 0:s.lineDash)??i.lineDash??[],lineDashOffset:(s==null?void 0:s.lineDashOffset)??i.lineDashOffset,cornerRadius:n}}getItemStyleOverrides(e,i,n,s,a,o){const{id:r,properties:l}=this,{xKey:c,yKey:h,itemStyler:p}=l;if(p==null)return;const{xDomain:f,yDomain:y}=this.cachedDatumCallback("domain",()=>({xDomain:this.getSeriesDomain("x"),yDomain:this.getSeriesDomain("y")}));return this.cachedDatumCallback(qi(e,o?"highlight":"node"),()=>p({seriesId:r,...Ju(i,c,h,f,y),xValue:n,yValue:s,highlighted:o,...a}))}updateDatumNodes(e){if(!this.properties.isValid())return;const{shadow:i}=this.properties,n=this.getCategoryDirection()==="x",s=this.getItemBaseStyle(e.isHighlight);e.datumSelection.each((a,o)=>{var c,h;const r=this.getItemStyleOverrides(String(o.datumIndex),o.datum,o.xValue,o.yValue,s,e.isHighlight);a.opacity=o.opacity??0,Ex(a,s,r);const l=(r==null?void 0:r.cornerRadius)??s.cornerRadius;a.topLeftCornerRadius=o.topLeftCornerRadius?l:0,a.topRightCornerRadius=o.topRightCornerRadius?l:0,a.bottomRightCornerRadius=o.bottomRightCornerRadius?l:0,a.bottomLeftCornerRadius=o.bottomLeftCornerRadius?l:0,a.visible=n?(((c=o.clipBBox)==null?void 0:c.width)??o.width)>0:(((h=o.clipBBox)==null?void 0:h.height)??o.height)>0,a.crisp=o.crisp,a.fillShadow=i})}updateLabelSelection(e){const i=this.isLabelEnabled()?e.labelData:[];return e.labelSelection.update(i,n=>{n.pointerEvents=1})}updateLabelNodes(e){e.labelSelection.each((i,n)=>{kY(i,this.properties.label,n.label)})}getTooltipContent(e){var T;const{id:i,dataModel:n,processedData:s,properties:a}=this,{xKey:o,xName:r,yKey:l,yName:c,legendItemName:h,stackGroup:p,tooltip:f}=a,y=this.getCategoryAxis(),m=this.getValueAxis();if(!n||!s||!y||!m)return;const{datumIndex:b}=e,S=(T=s.dataSources.get(this.id))==null?void 0:T[b],v=n.resolveKeysById(this,"xValue",s)[b],D=n.resolveColumnById(this,"yValue-raw",s)[b];if(v==null)return;const I=this.getItemBaseStyle(!1);return Object.assign(I,this.getItemStyleOverrides(String(b),S,v,D,I,!1)),f.formatTooltip({heading:y.formatDatum(v),symbol:this.legendItemSymbol(),data:[{label:c,fallbackLabel:l,value:m.formatDatum(D)}]},{seriesId:i,datum:S,title:c,xKey:o,xName:r,yKey:l,yName:c,legendItemName:h,stackGroup:p,...I,...this.getModuleTooltipParams()})}legendItemSymbol(){const{fill:e,stroke:i,strokeWidth:n,fillOpacity:s,strokeOpacity:a,lineDash:o,lineDashOffset:r}=this.properties;return{marker:{fill:e,fillOpacity:s,stroke:i,strokeWidth:n,strokeOpacity:a,lineDash:o,lineDashOffset:r}}}getLegendData(e){const{showInLegend:i}=this.properties;if(e!=="category"||!this.properties.isValid())return[];const{id:n,ctx:{legendManager:s},visible:a}=this,{yKey:o,yName:r,legendItemName:l}=this.properties;return[{legendType:"category",id:n,itemId:o,seriesId:n,enabled:a&&s.getItemEnabled({seriesId:n,itemId:o}),label:{text:l??r??o},symbol:this.legendItemSymbol(),legendItemName:l,hideInLegend:!i}]}animateEmptyUpdateReady({datumSelection:e,labelSelection:i,annotationSelections:n}){const s=Fx(jx(this.isVertical(),this.axes,"normal"));Ti(this.id,"nodes",this.ctx.animationManager,[e],s),Ie(this,"labels",this.ctx.animationManager,i),Ie(this,"annotations",this.ctx.animationManager,...n)}animateWaitingUpdateReady(e){var p,f,y,m,b;const{datumSelection:i,labelSelection:n,annotationSelections:s,previousContextData:a}=e;this.ctx.animationManager.stopByAnimationGroupId(this.id);let o=(y=(f=(p=this.processedData)==null?void 0:p.reduced)==null?void 0:f.diff)==null?void 0:y[this.id];o==null&&((b=(m=this.processedData)==null?void 0:m.reduced)==null?void 0:b.diff)!=null&&(o={changed:!0,added:new Set(Array.from(i,({datum:S})=>this.getDatumId(S))),updated:new Set,removed:new Set,moved:new Set});const r=a==null?"fade":"normal",l=Fx(jx(this.isVertical(),this.axes,r));Ti(this.id,"nodes",this.ctx.animationManager,[i],l,(S,v)=>this.getDatumId(v),o);const c=a!=null&&(!ag(e.contextData.scales.x,a.scales.x)||!ag(e.contextData.scales.y,a.scales.y)||!ag(e.contextData.groupScale,e.previousContextData.groupScale));(((o==null?void 0:o.changed)??!1)||c)&&(Ie(this,"labels",this.ctx.animationManager,n),Ie(this,"annotations",this.ctx.animationManager,...s))}getDatumId(e){return qi(e.xValue,e.valueIndex,e.phantom)}isLabelEnabled(){return this.properties.label.enabled}computeFocusBounds({datumIndex:e}){var n;const i=(n=this.contextNodeData)==null?void 0:n.nodeData[e].clipBBox;return sw(this,i)}};fD.className="BarSeries";fD.type="bar";var NY={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bar",moduleFactory:t=>new fD(t),stackable:!0,groupable:!0,tooltipDefaults:{range:"exact"},defaultAxes:rY([{type:"number",position:"left"},{type:"category",position:"bottom"}],t=>(t==null?void 0:t.direction)==="horizontal"),themeTemplate:{series:{direction:"vertical",fillOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$if:[{$or:[{$eq:[{$path:"./placement"},"outside-start"]},{$eq:[{$path:"./placement"},"outside-end"]}]},{$ref:"textColor"},{$ref:"backgroundColor"}]},placement:"inside-center"},shadow:{enabled:!1,color:Sh,xOffset:3,yOffset:3,blur:5},errorBar:{cap:{lengthRatio:.3}}}},paletteFactory:_b},aw=class extends Os{constructor(){super(...arguments),this.maxSize=30}};N([P(Ct),Et()],aw.prototype,"maxSize",2);N([P(RA,{optional:!0}),Et()],aw.prototype,"domain",2);var EY=class extends wn{constructor(){super(...arguments),this.placement="top"}};N([P(zN)],EY.prototype,"placement",2);var Ve=class extends Gc{constructor(){super(...arguments),this.colorRange=["#ffff00","#00ff00","#0000ff"],this.label=new EY,this.tooltip=new Rs,this.marker=new aw}};N([P(Dt)],Ve.prototype,"xKey",2);N([P(Dt)],Ve.prototype,"yKey",2);N([P(Dt)],Ve.prototype,"sizeKey",2);N([P(Dt,{optional:!0})],Ve.prototype,"labelKey",2);N([P(Dt,{optional:!0})],Ve.prototype,"colorKey",2);N([P(Dt,{optional:!0})],Ve.prototype,"xFilterKey",2);N([P(Dt,{optional:!0})],Ve.prototype,"yFilterKey",2);N([P(Dt,{optional:!0})],Ve.prototype,"sizeFilterKey",2);N([P(Dt,{optional:!0})],Ve.prototype,"xName",2);N([P(Dt,{optional:!0})],Ve.prototype,"yName",2);N([P(Dt,{optional:!0})],Ve.prototype,"sizeName",2);N([P(Dt,{optional:!0})],Ve.prototype,"labelName",2);N([P(Dt,{optional:!0})],Ve.prototype,"colorName",2);N([P(RA,{optional:!0})],Ve.prototype,"colorDomain",2);N([P(Ya)],Ve.prototype,"colorRange",2);N([P(Dt,{optional:!0})],Ve.prototype,"title",2);N([ui("marker.shape")],Ve.prototype,"shape",2);N([ui("marker.size")],Ve.prototype,"size",2);N([ui("marker.maxSize")],Ve.prototype,"maxSize",2);N([ui("marker.domain",{optional:!0})],Ve.prototype,"domain",2);N([ui("marker.fill",{optional:!0})],Ve.prototype,"fill",2);N([ui("marker.fillOpacity")],Ve.prototype,"fillOpacity",2);N([ui("marker.stroke",{optional:!0})],Ve.prototype,"stroke",2);N([ui("marker.strokeWidth")],Ve.prototype,"strokeWidth",2);N([ui("marker.strokeOpacity")],Ve.prototype,"strokeOpacity",2);N([ui("marker.lineDash")],Ve.prototype,"lineDash",2);N([ui("marker.lineDashOffset")],Ve.prototype,"lineDashOffset",2);N([ui("marker.itemStyler",{optional:!0})],Ve.prototype,"itemStyler",2);N([P(Lt)],Ve.prototype,"label",2);N([P(Lt)],Ve.prototype,"tooltip",2);var sht=class extends CE{constructor(t,e,i,n){super(t,e,i,n),this.sizeKey=n.properties.sizeKey}},ow=class extends xh{constructor(t){super({moduleCtx:t,directionKeys:ap,directionNames:op,pickModes:[2,1,0],pathsPerSeries:[],hasMarkers:!0,markerSelectionGarbageCollection:!1,animationResetFns:{label:Uc,marker:jb},usesPlacedLabels:!0}),this.NodeEvent=sht,this.clipFocusBox=!1,this.properties=new Ve,this.sizeScale=new mr,this.colorScale=new dh}get pickModeAxis(){return"main-category"}async processData(t){var E,w;if(!this.properties.isValid()||this.data==null||!this.visible)return;const e=(E=this.axes.x)==null?void 0:E.scale,i=(w=this.axes.y)==null?void 0:w.scale,{xScaleType:n,yScaleType:s}=this.getScaleInformation({xScale:e,yScale:i}),a=this.colorScale.type,o=this.sizeScale.type,{xKey:r,yKey:l,sizeKey:c,xFilterKey:h,yFilterKey:p,sizeFilterKey:f,labelKey:y,colorDomain:m,colorRange:b,colorKey:S,marker:v}=this.properties,{dataModel:D,processedData:I}=await this.requestDataModel(t,this.data,{props:[se(r,n,{id:"xValue"}),se(l,s,{id:"yValue"}),...h!=null?[se(h,n,{id:"xFilterValue"})]:[],...p!=null?[se(p,s,{id:"yFilterValue"})]:[],...f!=null?[se(f,o,{id:"sizeFilterValue"})]:[],se(c,o,{id:"sizeValue"}),...S?[se(S,a,{id:"colorValue"})]:[],...y?[se(y,"band",{id:"labelValue"})]:[]]}),T=D.resolveProcessedDataIndexById(this,"sizeValue"),k=I.domain.values[T]??[];if(this.sizeScale.domain=v.domain?v.domain:k,S){const R=D.resolveProcessedDataIndexById(this,"colorValue");this.colorScale.domain=m??I.domain.values[R]??[],this.colorScale.range=b,this.colorScale.update()}this.animationState.transition("updateData")}xCoordinateRange(t,e,i){const{properties:n,sizeScale:s}=this,{size:a,sizeKey:o}=n,r=this.axes.x.scale.convert(t),l=o!=null?this.dataModel.resolveColumnById(this,"sizeValue",this.processedData):void 0,h=.5*(l!=null?s.convert(l[i]):a)*e;return[r-h,r+h]}yCoordinateRange(t,e,i){const{properties:n,sizeScale:s}=this,{size:a,sizeKey:o}=n,r=this.axes.y.scale.convert(t[0]),l=o!=null?this.dataModel.resolveColumnById(this,"sizeValue",this.processedData):void 0,h=.5*(l!=null?s.convert(l[i]):a)*e;return[r-h,r+h]}getSeriesDomain(t){const{dataModel:e,processedData:i}=this;if(!i||!e)return[];const n={x:"xValue",y:"yValue"},s=n[t],a=e.resolveProcessedDataDefById(this,s),o=e.getDomain(this,s,"value",i);if((a==null?void 0:a.def.type)==="value"&&(a==null?void 0:a.def.valueType)==="category")return o;const l=n[t==="x"?"y":"x"],c=this.domainForClippedRange(t,[s],l,!1);return va(jc(c))}getSeriesRange(t,e){return this.domainForVisibleRange("y",["yValue"],"xValue",e,!1)}getVisibleItems(t,e,i){return this.countVisibleItems("xValue",["yValue"],t,e,i)}createNodeData(){var tt;const{axes:t,dataModel:e,processedData:i,colorScale:n,sizeScale:s,visible:a}=this,{xKey:o,yKey:r,sizeKey:l,xFilterKey:c,yFilterKey:h,sizeFilterKey:p,labelKey:f,xName:y,yName:m,sizeName:b,labelName:S,label:v,colorKey:D,marker:I}=this.properties,{placement:T}=v,k=En.anchor(I.shape),E=t.x,w=t.y;if(!(e&&i&&a&&E&&w))return;const R=e.resolveColumnById(this,"xValue",i),O=e.resolveColumnById(this,"yValue",i),L=l!=null?e.resolveColumnById(this,"sizeValue",i):void 0,F=D!=null?e.resolveColumnById(this,"colorValue",i):void 0,z=f!=null?e.resolveColumnById(this,"labelValue",i):void 0,V=c!=null?e.resolveColumnById(this,"xFilterValue",i):void 0,H=h!=null?e.resolveColumnById(this,"yFilterValue",i):void 0,W=p!=null?e.resolveColumnById(this,"sizeFilterValue",i):void 0,G=E.scale,$=w.scale,K=(G.bandwidth??0)/2,X=($.bandwidth??0)/2,j=[];s.range=[I.size,I.maxSize];const U=v.getFont(),Z=Pc.getMeasurer({font:U});return(tt=i.dataSources.get(this.id))==null||tt.forEach((J,nt)=>{const at=R[nt],lt=O[nt],ut=L==null?void 0:L[nt],pt=G.convert(at)+K,ot=$.convert(lt)+X;let ft;V!=null&&H!=null&&(ft=V[nt]===at&&H[nt]===lt,W!=null&&ft&&(ft=W[nt]===ut));const ct=this.getLabelText(v,{value:z!=null?z[nt]:lt,datum:J,xKey:o,yKey:r,sizeKey:l,labelKey:f,xName:y,yName:m,sizeName:b,labelName:S}),bt=Z.measureText(String(ct)),St=ut!=null?s.convert(ut):I.size,xt=F!=null?n.convert(F[nt]):void 0;j.push({series:this,itemId:r,yKey:r,xKey:o,datum:J,datumIndex:nt,xValue:at,yValue:lt,sizeValue:ut,point:{x:pt,y:ot,size:St},midPoint:{x:pt,y:ot},fill:xt,label:{text:ct,...bt},anchor:k,placement:T,selected:ft})}),{itemId:r,nodeData:j,labelData:j,scales:this.calculateScaling(),visible:this.visible}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}getLabelData(){var t;return this.isLabelEnabled()?((t=this.contextNodeData)==null?void 0:t.labelData)??[]:[]}updateMarkerSelection(t){const{nodeData:e,markerSelection:i}=t;this.properties.marker.isDirty()&&(i.clear(),i.cleanup());const n=this.properties.marker.enabled?e:[];return i.update(n,void 0,s=>qi([s.xValue,s.yValue,s.label.text]))}getMarkerItemBaseStyle(t){const{properties:e}=this,{marker:i}=e,n=t?e.highlightStyle.item:void 0;return{fill:(n==null?void 0:n.fill)??i.fill,fillOpacity:(n==null?void 0:n.fillOpacity)??i.fillOpacity,stroke:(n==null?void 0:n.stroke)??i.stroke,strokeWidth:(n==null?void 0:n.strokeWidth)??i.strokeWidth,strokeOpacity:(n==null?void 0:n.strokeOpacity)??i.strokeOpacity,lineDash:(n==null?void 0:n.lineDash)??i.lineDash,lineDashOffset:(n==null?void 0:n.lineDashOffset)??i.lineDashOffset}}getMarkerItemStyleOverrides(t,e,i,n){const{id:s,properties:a}=this,{xKey:o,yKey:r,sizeKey:l,labelKey:c,marker:h}=a,{itemStyler:p}=h;if(p!=null)return this.cachedDatumCallback(qi(t,n?"highlight":"node"),()=>p({seriesId:s,datum:e,xKey:o,yKey:r,sizeKey:l,labelKey:c,highlighted:n,...i}))}updateMarkerNodes(t){const{markerSelection:e,isHighlight:i}=t,{xKey:n,yKey:s,sizeKey:a,labelKey:o,marker:r}=this.properties,{size:l,shape:c,fill:h,fillOpacity:p,stroke:f,strokeWidth:y,strokeOpacity:m,lineDash:b,lineDashOffset:S}=ne(i&&this.properties.highlightStyle.item,r.getStyle()),v={size:l,shape:c,fill:h,fillOpacity:p,stroke:f,strokeWidth:y,strokeOpacity:m,lineDash:b,lineDashOffset:S};this.sizeScale.range=[r.size,r.maxSize],e.each((D,I)=>{this.updateMarkerStyle(D,r,{datum:I,highlighted:i,xKey:n,yKey:s,sizeKey:a,labelKey:o},v,{selected:I.selected})}),i||this.properties.marker.markClean()}updatePlacedLabelData(t){this.labelSelection.update(t.map(e=>({...e.datum,point:{x:e.x,y:e.y,size:e.datum.point.size}})),e=>{e.pointerEvents=1}),this.updateLabelNodes({labelSelection:this.labelSelection})}updateLabelNodes(t){const{label:e}=this.properties;t.labelSelection.each((i,n)=>{var s,a;i.text=n.label.text,i.fill=e.color,i.x=((s=n.point)==null?void 0:s.x)??0,i.y=((a=n.point)==null?void 0:a.y)??0,i.fontStyle=e.fontStyle,i.fontWeight=e.fontWeight,i.fontSize=e.fontSize,i.fontFamily=e.fontFamily,i.textAlign="left",i.textBaseline="top"})}getTooltipContent(t){var R;const{id:e,dataModel:i,processedData:n,axes:s,properties:a}=this,{xKey:o,xName:r,yKey:l,yName:c,sizeKey:h,sizeName:p,labelKey:f,labelName:y,title:m,tooltip:b}=a,S=s.x,v=s.y;if(!i||!n||!S||!v)return;const{datumIndex:D}=t,I=(R=n.dataSources.get(this.id))==null?void 0:R[D],T=i.resolveColumnById(this,"xValue",n)[D],k=i.resolveColumnById(this,"yValue",n)[D];if(T==null)return;const E=[{label:r,fallbackLabel:o,value:S.formatDatum(T)},{label:c,fallbackLabel:l,value:v.formatDatum(k)}];if(h!=null){const O=i.resolveColumnById(this,"sizeValue",n)[D];E.push({label:p,fallbackLabel:h,value:String(O)})}const w=this.getMarkerItemBaseStyle(!1);return Object.assign(w,this.getMarkerItemStyleOverrides(String(D),I,w,!1)),b.formatTooltip({title:m,symbol:this.legendItemSymbol(),data:E},{seriesId:e,datum:I,title:l,xKey:o,xName:r,yKey:l,yName:c,sizeKey:h,sizeName:p,labelKey:f,labelName:y,...w,...this.getModuleTooltipParams()})}legendItemSymbol(){const{marker:t}=this.properties,{shape:e,fill:i,stroke:n,fillOpacity:s,strokeOpacity:a,strokeWidth:o,lineDash:r,lineDashOffset:l}=t;return{marker:{shape:e,fill:i??"rgba(0, 0, 0, 0)",stroke:n??"rgba(0, 0, 0, 0)",fillOpacity:s,strokeOpacity:a,strokeWidth:o,lineDash:r,lineDashOffset:l}}}getLegendData(){if(!this.properties.isValid())return[];const{id:t,ctx:{legendManager:e},visible:i}=this,{yKey:n,yName:s,title:a}=this.properties;return[{legendType:"category",id:t,itemId:n,seriesId:t,enabled:i&&e.getItemEnabled({seriesId:t,itemId:n}),label:{text:a??s??n},symbol:this.legendItemSymbol()}]}animateEmptyUpdateReady({markerSelection:t,labelSelection:e}){XE(this,this.ctx.animationManager,t),Ie(this,"labels",this.ctx.animationManager,e)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new Kt}getFormattedMarkerStyle(t){const{xKey:e,yKey:i,sizeKey:n,labelKey:s}=this.properties;return this.getMarkerStyle(this.properties.marker,{datum:t,xKey:e,yKey:i,sizeKey:n,labelKey:s,highlighted:!1})}computeFocusBounds(t){return Fb(this,t)}};ow.className="BubbleSeries";ow.type="bubble";var aht={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bubble",moduleFactory:t=>new ow(t),tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{shape:"circle",size:7,maxSize:30,fillOpacity:.8,tooltip:{position:{type:"node"}},label:{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}}}},paletteFactory:_b},Sn=class extends Gc{constructor(){super(...arguments),this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.areaPlot=!1,this.aggregation="sum",this.shadow=new Cr,this.label=new wn,this.tooltip=new Rs}};N([P(Dt)],Sn.prototype,"xKey",2);N([P(Dt,{optional:!0})],Sn.prototype,"yKey",2);N([P(Dt,{optional:!0})],Sn.prototype,"xName",2);N([P(Dt,{optional:!0})],Sn.prototype,"yName",2);N([P(ke,{optional:!0})],Sn.prototype,"fill",2);N([P(Re)],Sn.prototype,"fillOpacity",2);N([P(ke,{optional:!0})],Sn.prototype,"stroke",2);N([P(Ct)],Sn.prototype,"strokeWidth",2);N([P(Re)],Sn.prototype,"strokeOpacity",2);N([P(bl)],Sn.prototype,"lineDash",2);N([P(Ct)],Sn.prototype,"lineDashOffset",2);N([P(Ct)],Sn.prototype,"cornerRadius",2);N([P(Gt)],Sn.prototype,"areaPlot",2);N([P(gb,{optional:!0})],Sn.prototype,"bins",2);N([P(Je(["count","sum","mean"],"a histogram aggregation"))],Sn.prototype,"aggregation",2);N([P(Ct,{optional:!0})],Sn.prototype,"binCount",2);N([P(Lt)],Sn.prototype,"shadow",2);N([P(Lt)],Sn.prototype,"label",2);N([P(Lt)],Sn.prototype,"tooltip",2);var Nj=10,rw=class extends xh{constructor(t){super({moduleCtx:t,directionKeys:ap,directionNames:op,pickModes:[1,0],datumSelectionGarbageCollection:!1,animationResetFns:{datum:Gx,label:Uc}}),this.properties=new Sn,this.calculatedBins=[]}deriveBins(t){const e=ZN(t[0],t[1],Nj),i=Tx(t[0],t[1],Nj),[n]=e,s=a=>[a,a+i];return[[n-i,n],...e.map(s)]}calculateNiceBins(t,e){const i=Math.floor(t[0]),n=t[1],s=e||1,{start:a,binSize:o}=this.calculateNiceStart(i,n,s);return this.getBins(a,n,o,s)}getBins(t,e,i,n){const s=[],a=this.calculatePrecision(i);for(let o=0;o<n;o++){const r=Math.round((t+o*i)*a)/a;let l=Math.round((t+(o+1)*i)*a)/a;o===n-1&&(l=Math.max(l,e)),s[o]=[r,l]}return s}calculatePrecision(t){let e=10;if(isFinite(t)&&t>0)for(;t<1;)e*=10,t*=10;return e}calculateNiceStart(t,e,i){const n=Math.abs(e-t)/i,s=Math.floor(Math.log10(n)),a=Math.pow(10,s);return{start:Math.floor(t/a)*a,binSize:n}}async processData(t){var p,f;this.visible||(this.processedData=void 0,this.animationState.transition("updateData"));const{xKey:e,yKey:i,areaPlot:n,aggregation:s}=this.properties,a=(p=this.axes.x)==null?void 0:p.scale,o=(f=this.axes.y)==null?void 0:f.scale,{xScaleType:r,yScaleType:l}=this.getScaleInformation({yScale:o,xScale:a}),c=[xr(e,r),YW];if(i){let y=AL("groupAgg");s==="count"||(s==="sum"?y=PW("groupAgg"):s==="mean"&&(y=BW("groupAgg"))),n&&(y=DL("groupAgg",y)),c.push(se(i,l,{invalidValue:void 0}),y)}else{c.push(VW("count"));let y=AL("groupAgg");n&&(y=DL("groupAgg",y)),c.push(y)}const h=y=>{const m=va(y.domain.keys[0]);if(m.length===0)return y.domain.groups=[],()=>[];const b=Oo(this.properties.binCount)?this.calculateNiceBins(m,this.properties.binCount):this.properties.bins??this.deriveBins(m),S=b.length;return this.calculatedBins=[...b],v=>{let D=v[0];if(vg(D)&&(D=D.getTime()),!Oo(D))return[];for(let I=0;I<S;I++){const T=b[I];if(D>=T[0]&&D<T[1]||I===S-1&&D<=T[1])return T}return[]}};!this.ctx.animationManager.isSkipped()&&this.processedData&&c.push(Eg(this.id,this.processedData,!1)),await this.requestDataModel(t,this.data,{props:c,groupByFn:h}),this.animationState.transition("updateData")}xCoordinateRange(){return[NaN,NaN]}yCoordinateRange(){return[NaN,NaN]}getSeriesDomain(t){var o,r,l;const{processedData:e,dataModel:i}=this;if(!e||!i||!this.calculatedBins.length)return[];const n=i.getDomain(this,"groupAgg","aggregate",e),s=(o=this.calculatedBins)==null?void 0:o[0][0],a=(l=this.calculatedBins)==null?void 0:l[(((r=this.calculatedBins)==null?void 0:r.length)??0)-1][1];return va(t==="x"?[s,a]:n)}getSeriesRange(t,[e,i]){const{dataModel:n,processedData:s}=this;if(!n||(s==null?void 0:s.type)!=="grouped")return[NaN,NaN];const a=this.axes.x.scale,o=0;let r=-1/0;return s.groups.forEach(({keys:l,aggregation:c})=>{const[[h,p]=[0,0]]=c,[f,y]=l,[m,b]=Hn([a.convert(f),a.convert(y)]);if(b>=e&&m<=i){const S=h+p;r=Math.max(r,S)}}),o>r?[NaN,NaN]:[o,r]}createNodeData(){const{id:t,axes:e,processedData:i,dataModel:n}=this,s=e.x,a=e.y;if(!s||!a||!n)return;const{scale:o}=s,{scale:r}=a,{xKey:l,yKey:c,xName:h,yName:p}=this.properties,f=this.properties.label.formatter??(b=>String(b.value)),y=[],m={itemId:this.properties.yKey??this.id,nodeData:y,labelData:y,scales:this.calculateScaling(),animationValid:!0,visible:this.visible};return!this.visible||i==null||i.type!=="grouped"||(i.groups.forEach((b,S)=>{const{keys:v,datumIndices:D,aggregation:I}=b,[[T,k]=[0,0]]=I,E=D.length,w=v,[R,O]=w,L=[...n.forEachDatum(this,i,b)],F=o.convert(R),z=o.convert(O),V=T+k,H=r.convert(0),W=r.convert(V),G=Math.abs(z-F),$=Math.abs(W-H),K=Math.min(F,z),X=Math.min(H,W);let j;V!==0&&(j={x:K+G/2,y:X+$/2,text:this.cachedDatumCallback(qi(S,"label"),()=>f({value:V,datum:L,seriesId:t,xKey:l,yKey:c,xName:h,yName:p}))??String(V)});const U={x:K+G/2,y:X+$/2},Z=a.isReversed();y.push({series:this,datumIndex:S,datum:L,aggregatedValue:V,frequency:E,domain:w,yKey:c,xKey:l,x:K,y:X,xValue:F,yValue:W,width:G,height:$,midPoint:U,topLeftCornerRadius:!Z,topRightCornerRadius:!Z,bottomRightCornerRadius:Z,bottomLeftCornerRadius:Z,label:j,crisp:!0})}),y.sort((b,S)=>b.x-S.x)),m}nodeFactory(){return new ws}updateDatumSelection(t){const{nodeData:e,datumSelection:i}=t;return i.update(e,void 0,n=>n.domain.join("_"))}getItemBaseStyle(t){const{properties:e}=this,i=t?e.highlightStyle.item:void 0;return{fill:(i==null?void 0:i.fill)??e.fill,fillOpacity:(i==null?void 0:i.fillOpacity)??e.fillOpacity,stroke:(i==null?void 0:i.stroke)??e.stroke,strokeWidth:(i==null?void 0:i.strokeWidth)??this.getStrokeWidth(e.strokeWidth),strokeOpacity:(i==null?void 0:i.strokeOpacity)??e.strokeOpacity,lineDash:(i==null?void 0:i.lineDash)??e.lineDash,lineDashOffset:(i==null?void 0:i.lineDashOffset)??e.lineDashOffset,cornerRadius:e.cornerRadius}}updateDatumNodes(t){const{isHighlight:e}=t,{shadow:i}=this.properties,n=this.getItemBaseStyle(e);t.datumSelection.each((s,a)=>{const{cornerRadius:o}=n,{topLeftCornerRadius:r,topRightCornerRadius:l,bottomRightCornerRadius:c,bottomLeftCornerRadius:h}=a;Ex(s,n),s.topLeftCornerRadius=r?o:0,s.topRightCornerRadius=l?o:0,s.bottomRightCornerRadius=c?o:0,s.bottomLeftCornerRadius=h?o:0,s.crisp=a.crisp,s.fillShadow=i,s.visible=a.height>0})}updateLabelSelection(t){const{labelData:e,labelSelection:i}=t;return i.update(e,n=>{n.pointerEvents=1,n.textAlign="center",n.textBaseline="middle"})}updateLabelNodes(t){const{fontStyle:e,fontWeight:i,fontFamily:n,fontSize:s,color:a}=this.properties.label,o=this.isLabelEnabled();t.labelSelection.each((r,l)=>{o&&(l!=null&&l.label)?(r.text=l.label.text,r.x=l.label.x,r.y=l.label.y,r.fontStyle=e,r.fontWeight=i,r.fontFamily=n,r.fontSize=s,r.fill=a,r.visible=!0):r.visible=!1})}initQuadTree(t){const{value:e}=this.contentGroup.children().next();e&&tw(t,e.children())}pickNodeClosestDatum(t){return ew(this,t)}getTooltipContent(t){const{id:e,dataModel:i,processedData:n,axes:s,properties:a,ctx:{localeManager:o}}=this,{xKey:r,xName:l,yKey:c,yName:h,tooltip:p}=a,f=s.x,y=s.y;if(!i||(n==null?void 0:n.type)!=="grouped"||!f||!y)return;const m=t.datumIndex,b=n.groups[m],{aggregation:S,datumIndices:v,keys:D}=b,[[I,T]=[0,0]]=S,k=v.length,E=D,[w,R]=E,O=I+T,L={data:[...i.forEachDatum(this,n,b)],aggregatedValue:O,frequency:k,domain:E},F=[{label:l,fallbackLabel:r,value:`${f.formatDatum(w)} - ${f.formatDatum(R)}`},{label:o.t("seriesHistogramTooltipFrequency"),value:y.formatDatum(k)}];if(c!=null){let z;switch(a.aggregation){case"sum":z=o.t("seriesHistogramTooltipSum",{yName:h});break;case"mean":z=o.t("seriesHistogramTooltipMean",{yName:h});break;case"count":z=o.t("seriesHistogramTooltipCount",{yName:h});break}F.push({label:z,value:y.formatDatum(O)})}return p.formatTooltip({symbol:this.legendItemSymbol(),data:F},{seriesId:e,datum:L,title:h,xKey:r,xName:l,yKey:c,yName:h,xRange:[w,R],frequency:k,...this.getItemBaseStyle(!1)})}legendItemSymbol(){const{fill:t,fillOpacity:e,stroke:i,strokeWidth:n,strokeOpacity:s,lineDash:a,lineDashOffset:o}=this.properties;return{marker:{fill:t??"rgba(0, 0, 0, 0)",stroke:i??"rgba(0, 0, 0, 0)",fillOpacity:e,strokeOpacity:s,strokeWidth:n,lineDash:a,lineDashOffset:o}}}getLegendData(t){if(t!=="category")return[];const{id:e,ctx:{legendManager:i},visible:n}=this,{xKey:s,yName:a,showInLegend:o}=this.properties;return[{legendType:"category",id:e,itemId:s,seriesId:e,enabled:n&&i.getItemEnabled({seriesId:e,itemId:s}),label:{text:a??s??"Frequency"},symbol:this.legendItemSymbol(),hideInLegend:!o}]}animateEmptyUpdateReady({datumSelection:t,labelSelection:e}){const i=Fx(jx(!0,this.axes,"normal"));Ti(this.id,"datums",this.ctx.animationManager,[t],i),Ie(this,"labels",this.ctx.animationManager,e)}animateWaitingUpdateReady(t){var n,s,a;const e=(a=(s=(n=this.processedData)==null?void 0:n.reduced)==null?void 0:s.diff)==null?void 0:a[this.id],i=Fx(jx(!0,this.axes,"normal"));Ti(this.id,"datums",this.ctx.animationManager,[t.datumSelection],i,(o,r)=>qi(r.domain),e),Ie(this,"labels",this.ctx.animationManager,t.labelSelection)}isLabelEnabled(){return this.properties.label.enabled}computeFocusBounds({datumIndex:t}){var e;return sw(this,(e=this.contextNodeData)==null?void 0:e.nodeData[t])}};rw.className="HistogramSeries";rw.type="histogram";var oht={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"histogram",moduleFactory:t=>new rw(t),tooltipDefaults:{range:"exact"},defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{strokeWidth:1,fillOpacity:1,strokeOpacity:1,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"backgroundColor"}},shadow:{enabled:!1,color:Sh,xOffset:3,yOffset:3,blur:5}}},paletteFactory:({takeColors:t})=>{const{fills:[e],strokes:[i]}=t(1);return{fill:e,stroke:i}}},Mn=class extends Gc{constructor(){super(...arguments),this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.interpolation=new zg,this.marker=new Os,this.label=new wn,this.tooltip=new Rs,this.connectMissingData=!1,this.sparklineMode=!1}};N([P(Dt)],Mn.prototype,"xKey",2);N([P(Dt)],Mn.prototype,"yKey",2);N([P(Dt,{optional:!0})],Mn.prototype,"xName",2);N([P(Dt,{optional:!0})],Mn.prototype,"yName",2);N([P(Dt,{optional:!0})],Mn.prototype,"yFilterKey",2);N([P(Dt,{optional:!0})],Mn.prototype,"stackGroup",2);N([P(Ct,{optional:!0})],Mn.prototype,"normalizedTo",2);N([P(Dt,{optional:!0})],Mn.prototype,"title",2);N([P(ke)],Mn.prototype,"stroke",2);N([P(Ct)],Mn.prototype,"strokeWidth",2);N([P(Re)],Mn.prototype,"strokeOpacity",2);N([P(bl)],Mn.prototype,"lineDash",2);N([P(Ct)],Mn.prototype,"lineDashOffset",2);N([P(Lt)],Mn.prototype,"interpolation",2);N([P(Lt)],Mn.prototype,"marker",2);N([P(Lt)],Mn.prototype,"label",2);N([P(Lt)],Mn.prototype,"tooltip",2);N([P(Gt)],Mn.prototype,"connectMissingData",2);N([P(Gt)],Mn.prototype,"sparklineMode",2);var rht=.25,gD=class extends xh{constructor(e){super({moduleCtx:e,directionKeys:ap,directionNames:op,hasMarkers:!0,pickModes:[2,1,0],markerSelectionGarbageCollection:!1,animationResetFns:{path:QE({getVisible:()=>this.visible,getOpacity:()=>this.getOpacity()}),label:Uc,marker:(i,n)=>({...jb(),..._x(i,n)})}}),this.clipFocusBox=!1,this.properties=new Mn,this.dataAggregationFilters=void 0}get pickModeAxis(){return this.properties.sparklineMode?"main":"main-category"}async processData(e){var E,w;if(this.data==null||!this.properties.isValid())return;const{data:i,visible:n,seriesGrouping:{groupIndex:s=this.id,stackCount:a=0}={}}=this,{xKey:o,yKey:r,yFilterKey:l,connectMissingData:c,normalizedTo:h}=this.properties,p=!this.ctx.animationManager.isSkipped(),f=(E=this.axes.x)==null?void 0:E.scale,y=(w=this.axes.y)==null?void 0:w.scale,{isContinuousX:m,xScaleType:b,yScaleType:S}=this.getScaleInformation({xScale:f,yScale:y}),v=a>=1||h!=null,D={invalidValue:null};c&&v&&(D.invalidValue=0,n||(D.forceValue=0));const I=[];if((!m||v)&&I.push(xr(o,b,{id:"xKey"})),I.push(se(o,b,{id:"xValue"}),se(r,S,{id:"yValueRaw",...D,invalidValue:void 0})),l!=null&&I.push(se(l,S,{id:"yFilterRaw"})),v){const R=[`line-stack-${s}-yValues`,`line-stack-${s}-yValues-trailing`,`line-stack-${s}-yValues-marker`];I.push(...th(r,"window","current",{id:"yValueEnd",...D,groupId:R[0]},S),...th(r,"window-trailing","current",{id:"yValueStart",...D,groupId:R[1]},S),...th(r,"normal","current",{id:"yValueCumulative",...D,groupId:R[2]},S)),qS(h)&&I.push(eD([R[0],R[1],R[2]],h))}p&&(I.push(Ng(m?["xValue"]:void 0)),this.processedData&&I.push(Eg(this.id,this.processedData)));const{dataModel:T,processedData:k}=await this.requestDataModel(e,i,{props:I,groupByKeys:v,groupByData:!v});this.dataAggregationFilters=this.aggregateData(T,k),this.animationState.transition("updateData")}xCoordinateRange(e,i){const{marker:n}=this.properties,s=this.axes.x.scale.convert(e),a=n.enabled?.5*n.size*i:0;return[s-a,s+a]}yCoordinateRange(e,i){const{marker:n}=this.properties,s=this.axes.y.scale.convert(e[0]),a=n.enabled?.5*n.size*i:0;return[s-a,s+a]}getSeriesDomain(e){var o;const{dataModel:i,processedData:n}=this;if(!i||!n)return[];if(e==="x"){const r=i.resolveProcessedDataDefById(this,"xValue"),l=i.getDomain(this,"xValue","value",n);return(r==null?void 0:r.def.type)==="value"&&r.def.valueType==="category"?l:va(jc(l))}const s=(o=this.dataModel)!=null&&o.hasColumnById(this,"yValueEnd")?"yValueEnd":"yValueRaw",a=this.domainForClippedRange("y",[s],"xValue",!0);return va(a)}getSeriesRange(e,i){var s;const n=(s=this.dataModel)!=null&&s.hasColumnById(this,"yValueEnd")?"yValueEnd":"yValueRaw";return this.domainForVisibleRange("y",[n],"xValue",i,!0)}getVisibleItems(e,i,n){var a;const s=(a=this.dataModel)!=null&&a.hasColumnById(this,"yValueEnd")?"yValueEnd":"yValueRaw";return this.countVisibleItems("xValue",[s],e,i,n)}aggregateData(e,i){}createNodeData(){var pt;const{dataModel:e,processedData:i,axes:n,dataAggregationFilters:s}=this,a=n.x,o=n.y;if(!e||!i||!a||!o)return;const{xKey:r,yKey:l,yFilterKey:c,xName:h,yName:p,marker:f,label:y,connectMissingData:m,interpolation:b,legendItemName:S}=this.properties,v=(pt=this.dataModel)==null?void 0:pt.hasColumnById(this,"yValueEnd"),D=a.scale,I=o.scale,T=(D.bandwidth??0)/2,k=(I.bandwidth??0)/2,E=f.enabled?f.size:0,w=i.dataSources.get(this.id)??[],R=e.resolveColumnById(this,"xValue",i),O=e.resolveColumnById(this,"yValueRaw",i),L=v?e.resolveColumnById(this,"yValueEnd",i):void 0,F=v?e.resolveColumnById(this,"yValueCumulative",i):O,z=c!=null?e.resolveColumnById(this,"yFilterRaw",i):void 0,V=ot=>D.convert(R[ot])+T,H=ot=>I.convert(F[ot])+k,W={lengthRatioMultiplier:this.properties.marker.getDiameter(),lengthMax:1/0},G=[];let $;const K=ot=>{const ft=w[ot],ct=R[ot],bt=O[ot],St=L==null?void 0:L[ot],xt=z==null?void 0:z[ot],wt=V(ot),kt=H(ot);if(!Number.isFinite(wt))return;if(bt!=null){const $t=y.enabled?this.getLabelText(y,{value:bt,datum:ft,xKey:r,yKey:l,xName:h,yName:p,legendItemName:S}):void 0;G.push({series:this,datum:ft,datumIndex:ot,yKey:l,xKey:r,point:{x:wt,y:kt,size:E},midPoint:{x:wt,y:kt},cumulativeValue:St,yValue:bt,xValue:ct,capDefaults:W,labelText:$t,selected:xt})}if($==null)return;const Nt=$[$.length-1];if(bt!=null){const $t={point:{x:wt,y:kt},xDatum:ct,yDatum:bt};Array.isArray(Nt)?Nt.push($t):Nt!=null?(Nt.skip+=1,$.push([$t])):$.push([$t])}else m||(Array.isArray(Nt)||Nt==null?$.push({skip:0}):Nt.skip+=1)},[X,j]=D.range,U=j-X,Z=s==null?void 0:s.find(ot=>ot.maxRange>U),tt=Z==null?void 0:Z.indices;let[J,nt]=this.visibleRange("xValue",a.range,tt);J=Math.max(J-1,0),nt=Math.min(nt+1,(tt==null?void 0:tt.length)??R.length),i.input.count<1e3&&(J=0,nt=i.input.count),tt==null&&($=[]);for(let ot=J;ot<nt;ot+=1)K((tt==null?void 0:tt[ot])??ot);const at=$==null?void 0:$.flatMap(ot=>Array.isArray(ot)?FM(ot,b):[]),lt=at!=null?{itemId:l,spans:at}:void 0,ut=(z==null?void 0:z.some((ot,ft)=>ot===O[ft]))??!1;return{itemId:l,nodeData:G,labelData:G,strokeData:lt,scales:this.calculateScaling(),visible:this.visible,crossFiltering:ut}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}updatePathNodes(e){var r;const{paths:[i],opacity:n,visible:s,animationEnabled:a}=e,o=((r=this.contextNodeData)==null?void 0:r.crossFiltering)===!0;i.setProperties({fill:void 0,lineJoin:"round",pointerEvents:1,opacity:n,stroke:this.properties.stroke,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.properties.strokeOpacity*(o?rht:1),lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset}),a||(i.visible=s),VM(this,i)}getMarkerItemBaseStyle(e){const{properties:i}=this,{marker:n}=i,s=e?i.highlightStyle.item:void 0;return{size:n.size,shape:n.shape,fill:(s==null?void 0:s.fill)??n.fill,fillOpacity:(s==null?void 0:s.fillOpacity)??n.fillOpacity,stroke:(s==null?void 0:s.stroke)??n.stroke,strokeWidth:(s==null?void 0:s.strokeWidth)??n.strokeWidth,strokeOpacity:(s==null?void 0:s.strokeOpacity)??n.strokeOpacity,lineDash:(s==null?void 0:s.lineDash)??n.lineDash,lineDashOffset:(s==null?void 0:s.lineDashOffset)??n.lineDashOffset}}getMarkerItemStyleOverrides(e,i,n,s){const{id:a,properties:o}=this,{xKey:r,yKey:l,marker:c}=o,{itemStyler:h}=c;if(h!=null)return this.cachedDatumCallback(qi(e,s?"highlight":"node"),()=>{const p=this.getSeriesDomain("x"),f=this.getSeriesDomain("y");return h({seriesId:a,...Ju(i,r,l,p,f),highlighted:s,...n})})}updateMarkerSelection(e){var a;let{nodeData:i}=e;const{markerSelection:n}=e;return i=this.properties.marker.enabled||((a=this.contextNodeData)==null?void 0:a.crossFiltering)===!0?i:[],this.properties.marker.isDirty()&&(n.clear(),n.cleanup()),n.update(i,void 0,o=>qi(o.xValue))}updateMarkerNodes(e){const{markerSelection:i,isHighlight:n}=e,{xKey:s,yKey:a,stroke:o,strokeWidth:r,strokeOpacity:l,marker:c,highlightStyle:h}=this.properties,p=this.getSeriesDomain("x"),f=this.getSeriesDomain("y"),y=ne(n&&h.item,c.getStyle(),{stroke:o,strokeWidth:r,strokeOpacity:l}),m=this.ctx.animationManager.isSkipped();i.each((b,S)=>{this.updateMarkerStyle(b,c,{...Ju(S,s,a,p,f),highlighted:n},y,{applyTranslation:m,selected:S.selected})}),n||c.markClean()}updateLabelSelection(e){return e.labelSelection.update(this.isLabelEnabled()?e.labelData:[])}updateLabelNodes(e){const{enabled:i,fontStyle:n,fontWeight:s,fontSize:a,fontFamily:o,color:r}=this.properties.label;e.labelSelection.each((l,c)=>{i&&(c!=null&&c.labelText)?(l.fontStyle=n,l.fontWeight=s,l.fontSize=a,l.fontFamily=o,l.textAlign="center",l.textBaseline="bottom",l.text=c.labelText,l.x=c.point.x,l.y=c.point.y-10,l.fill=r,l.visible=!0):l.visible=!1})}getTooltipContent(e){var I;const{id:i,dataModel:n,processedData:s,axes:a,properties:o}=this,{xKey:r,xName:l,yKey:c,yName:h,tooltip:p}=o,f=a.x,y=a.y;if(!n||!s||!f||!y)return;const{datumIndex:m}=e,b=(I=s.dataSources.get(this.id))==null?void 0:I[m],S=n.resolveColumnById(this,"xValue",s)[m],v=n.resolveColumnById(this,"yValueRaw",s)[m];if(S==null)return;const D=this.getMarkerItemBaseStyle(!1);return Object.assign(D,this.getMarkerItemStyleOverrides(String(m),b,D,!1)),p.formatTooltip({heading:f.formatDatum(S),symbol:this.legendItemSymbol(),data:[{label:h,fallbackLabel:c,value:y.formatDatum(v)}]},{seriesId:i,datum:b,title:h,xKey:r,xName:l,yKey:c,yName:h,...D,...this.getModuleTooltipParams()})}legendItemSymbol(){const e="rgba(0, 0, 0, 0)",{stroke:i,strokeOpacity:n,strokeWidth:s,lineDash:a,marker:o}=this.properties;return{marker:{shape:o.shape,fill:o.fill??e,stroke:o.stroke??i??e,fillOpacity:o.fillOpacity,strokeOpacity:o.strokeOpacity,strokeWidth:o.strokeWidth,lineDash:o.lineDash,lineDashOffset:o.lineDashOffset,enabled:o.enabled},line:{stroke:i??e,strokeOpacity:n,strokeWidth:s,lineDash:a}}}getLegendData(e){if(!(this.properties.isValid()&&e==="category"))return[];const{id:i,ctx:{legendManager:n},visible:s}=this,{yKey:a,yName:o,title:r,legendItemName:l,showInLegend:c}=this.properties;return[{legendType:"category",id:i,itemId:a,legendItemName:l,seriesId:i,enabled:s&&n.getItemEnabled({seriesId:i,itemId:a}),label:{text:l??r??o??a},symbol:this.legendItemSymbol(),hideInLegend:!c}]}updatePaths(e){this.updateLinePaths(e.paths,e.contextData)}plotNodeDataPoints(e,i){if(i.length===0)return;const n=i[0].point;e.moveTo(n.x,n.y);for(let s=1;s<i.length;s+=1){const{x:a,y:o}=i[s].point;e.lineTo(a,o)}}updateLinePaths(e,i){var a;const n=(a=i.strokeData)==null?void 0:a.spans,[s]=e;s.path.clear(),n!=null?YE(s,n):this.plotNodeDataPoints(s.path,i.nodeData),s.markDirty()}animateEmptyUpdateReady(e){const{markerSelection:i,labelSelection:n,annotationSelections:s,contextData:a,paths:o}=e,{animationManager:r}=this.ctx;this.updateLinePaths(o,a),qE(this,r,...o),Vn([i],_x),ZE(this,r,i),Ie(this,"labels",r,n),Ie(this,"annotations",r,...s)}animateReadyResize(e){const{contextData:i,paths:n}=e;this.updateLinePaths(n,i),super.animateReadyResize(e)}animateWaitingUpdateReady(e){var y,m,b;const{animationManager:i}=this.ctx,{markerSelection:n,labelSelection:s,annotationSelections:a,contextData:o,paths:r,previousContextData:l}=e,[c]=r;this.resetMarkerAnimation(e),this.resetLabelAnimation(e);const h=()=>{this.resetPathAnimation(e),this.updateLinePaths(r,o)},p=()=>{i.skipCurrentBatch(),h()};if(o==null||l==null){h(),zx(this,i,"added",n),GM(this,"path_properties",i,"add",c),Ie(this,"labels",i,s),Ie(this,"annotations",i,...a);return}if(o.crossFiltering!==l.crossFiltering){p();return}const f=MY(o,l,(b=(m=(y=this.processedData)==null?void 0:y.reduced)==null?void 0:m.diff)==null?void 0:b[this.id]);if(f===void 0){p();return}else if(f.status==="no-op")return;Ti(this.id,"path_properties",i,[c],f.stroke.pathProperties),f.status==="added"?this.updateLinePaths(r,o):f.status==="removed"?this.updateLinePaths(r,l):jM(this.id,"path_update",i,[c],f.stroke.path),f.hasMotion&&(zx(this,i,void 0,n),Ie(this,"labels",i,s),Ie(this,"annotations",i,...a))}isLabelEnabled(){return this.properties.label.enabled}getBandScalePadding(){return{inner:1,outer:.1}}nodeFactory(){return new Kt}getFormattedMarkerStyle(e){const{xKey:i,yKey:n}=this.properties,s=this.getSeriesDomain("x"),a=this.getSeriesDomain("y");return this.getMarkerStyle(this.properties.marker,{...Ju(e,i,n,s,a),highlighted:!0})}computeFocusBounds(e){return Fb(this,e)}};gD.className="LineSeries";gD.type="line";var wY={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"line",moduleFactory:t=>new gD(t),stackable:!0,tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"left"},{type:"category",position:"bottom"}],themeTemplate:{series:{tooltip:{position:{type:"node"}},strokeWidth:2,strokeOpacity:1,lineDash:[0],lineDashOffset:0,interpolation:{type:"linear",tension:1,position:"end"},marker:{shape:"circle",size:7,strokeWidth:0},label:{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}},errorBar:{cap:{lengthRatio:1}}}},paletteFactory:t=>{const{marker:e}=HE(t);return{stroke:e.fill,marker:e}}},OY=class extends wn{constructor(){super(...arguments),this.placement="top"}};N([P(zN)],OY.prototype,"placement",2);var hi=class extends Gc{constructor(){super(...arguments),this.colorRange=["#ffff00","#00ff00","#0000ff"],this.label=new OY,this.tooltip=new Rs,this.marker=new Os}};N([P(Dt)],hi.prototype,"xKey",2);N([P(Dt)],hi.prototype,"yKey",2);N([P(Dt,{optional:!0})],hi.prototype,"labelKey",2);N([P(Dt,{optional:!0})],hi.prototype,"colorKey",2);N([P(Dt,{optional:!0})],hi.prototype,"xFilterKey",2);N([P(Dt,{optional:!0})],hi.prototype,"yFilterKey",2);N([P(Dt,{optional:!0})],hi.prototype,"xName",2);N([P(Dt,{optional:!0})],hi.prototype,"yName",2);N([P(Dt,{optional:!0})],hi.prototype,"labelName",2);N([P(Dt,{optional:!0})],hi.prototype,"colorName",2);N([P(RA,{optional:!0})],hi.prototype,"colorDomain",2);N([P(Ya)],hi.prototype,"colorRange",2);N([P(Dt,{optional:!0})],hi.prototype,"title",2);N([ui("marker.shape")],hi.prototype,"shape",2);N([ui("marker.size")],hi.prototype,"size",2);N([ui("marker.fill")],hi.prototype,"fill",2);N([ui("marker.fillOpacity")],hi.prototype,"fillOpacity",2);N([ui("marker.stroke")],hi.prototype,"stroke",2);N([ui("marker.strokeWidth")],hi.prototype,"strokeWidth",2);N([ui("marker.strokeOpacity")],hi.prototype,"strokeOpacity",2);N([ui("marker.lineDash")],hi.prototype,"lineDash",2);N([ui("marker.lineDashOffset")],hi.prototype,"lineDashOffset",2);N([ui("marker.itemStyler",{optional:!0})],hi.prototype,"itemStyler",2);N([P(Lt)],hi.prototype,"label",2);N([P(Lt)],hi.prototype,"tooltip",2);var lw=class extends xh{constructor(t){super({moduleCtx:t,directionKeys:ap,directionNames:op,pickModes:[2,1,0],pathsPerSeries:[],hasMarkers:!0,markerSelectionGarbageCollection:!1,animationResetFns:{marker:jb,label:Uc},usesPlacedLabels:!0}),this.clipFocusBox=!1,this.properties=new hi,this.colorScale=new dh}get pickModeAxis(){return"main-category"}async processData(t){var S,v;if(!this.properties.isValid()||this.data==null||!this.visible)return;const e=(S=this.axes.x)==null?void 0:S.scale,i=(v=this.axes.y)==null?void 0:v.scale,{xScaleType:n,yScaleType:s}=this.getScaleInformation({xScale:e,yScale:i}),a=this.colorScale.type,{xKey:o,yKey:r,xFilterKey:l,yFilterKey:c,labelKey:h,colorKey:p,colorDomain:f,colorRange:y}=this.properties,{dataModel:m,processedData:b}=await this.requestDataModel(t,this.data,{props:[se(o,n,{id:"xValue"}),se(r,s,{id:"yValue"}),...l!=null?[se(l,n,{id:"xFilterValue"})]:[],...c!=null?[se(c,s,{id:"yFilterValue"})]:[],...p?[se(p,a,{id:"colorValue"})]:[],...h?[se(h,"band",{id:"labelValue"})]:[]]});if(p){const D=m.resolveProcessedDataIndexById(this,"colorValue");this.colorScale.domain=f??b.domain.values[D]??[],this.colorScale.range=y,this.colorScale.update()}this.animationState.transition("updateData")}xCoordinateRange(t,e){const i=this.axes.x.scale.convert(t),n=.5*this.properties.size*e;return[i-n,i+n]}yCoordinateRange(t,e){const i=this.axes.y.scale.convert(t[0]),n=.5*this.properties.size*e;return[i-n,i+n]}getSeriesDomain(t){const{dataModel:e,processedData:i}=this;if(!i||!e)return[];const n={x:"xValue",y:"yValue"},s=n[t],a=e.resolveProcessedDataDefById(this,s),o=e.getDomain(this,s,"value",i);if((a==null?void 0:a.def.type)==="value"&&(a==null?void 0:a.def.valueType)==="category")return o;const l=n[t==="x"?"y":"x"],c=this.domainForClippedRange(t,[s],l,!1);return va(jc(c))}getSeriesRange(t,e){return this.domainForVisibleRange("y",["yValue"],"xValue",e,!1)}getVisibleItems(t,e,i){return this.countVisibleItems("xValue",["yValue"],t,e,i)}createNodeData(){const{axes:t,dataModel:e,processedData:i,colorScale:n,visible:s}=this,{xKey:a,yKey:o,xFilterKey:r,yFilterKey:l,labelKey:c,colorKey:h,xName:p,yName:f,labelName:y,marker:m,label:b}=this.properties,{placement:S}=b,v=En.anchor(m.shape),D=t.x,I=t.y;if(!(e&&i&&s&&D&&I))return;const T=e.resolveColumnById(this,"xValue",i),k=e.resolveColumnById(this,"yValue",i),E=h!=null?e.resolveColumnById(this,"colorValue",i):void 0,w=c!=null?e.resolveColumnById(this,"labelValue",i):void 0,R=r!=null?e.resolveColumnById(this,"xFilterValue",i):void 0,O=l!=null?e.resolveColumnById(this,"yFilterValue",i):void 0,L=D.scale,F=I.scale,z=(L.bandwidth??0)/2,V=(F.bandwidth??0)/2,H=[],W=b.getFont(),G=Pc.getMeasurer({font:W});return(i.dataSources.get(this.id)??[]).forEach((K,X)=>{const j=T[X],U=k[X],Z=L.convert(j)+z,tt=F.convert(U)+V,J=R!=null&&O!=null?R[X]===j&&O[X]===U:void 0,nt=this.getLabelText(b,{value:w!=null?w==null?void 0:w[X]:U,datum:K,xKey:a,yKey:o,labelKey:c,xName:p,yName:f,labelName:y}),at=G.measureText(nt),lt=E!=null?n.convert(E[X]):void 0;H.push({series:this,itemId:o,yKey:o,xKey:a,datum:K,datumIndex:X,xValue:j,yValue:U,capDefaults:{lengthRatioMultiplier:m.getDiameter(),lengthMax:1/0},point:{x:Z,y:tt,size:m.size},midPoint:{x:Z,y:tt},fill:lt,label:{text:nt,...at},anchor:v,placement:S,selected:J})}),{itemId:o,nodeData:H,labelData:H,scales:this.calculateScaling(),visible:this.visible}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}getLabelData(){var t;return this.isLabelEnabled()?((t=this.contextNodeData)==null?void 0:t.labelData)??[]:[]}updateMarkerSelection(t){const{nodeData:e,markerSelection:i}=t;return this.properties.marker.isDirty()&&(i.clear(),i.cleanup()),i.update(this.properties.marker.enabled?e:[])}getMarkerItemBaseStyle(t){const{properties:e}=this,{marker:i}=e,n=t?e.highlightStyle.item:void 0;return{fill:(n==null?void 0:n.fill)??i.fill,fillOpacity:(n==null?void 0:n.fillOpacity)??i.fillOpacity,stroke:(n==null?void 0:n.stroke)??i.stroke,strokeWidth:(n==null?void 0:n.strokeWidth)??i.strokeWidth,strokeOpacity:(n==null?void 0:n.strokeOpacity)??i.strokeOpacity,lineDash:(n==null?void 0:n.lineDash)??i.lineDash,lineDashOffset:(n==null?void 0:n.lineDashOffset)??i.lineDashOffset}}getMarkerItemStyleOverrides(t,e,i,n){const{id:s,properties:a}=this,{xKey:o,yKey:r,labelKey:l,marker:c}=a,{itemStyler:h}=c;if(h!=null)return this.cachedDatumCallback(qi(t,n?"highlight":"node"),()=>h({seriesId:s,datum:e,xKey:o,yKey:r,labelKey:l,highlighted:n,...i}))}updateMarkerNodes(t){const{markerSelection:e,isHighlight:i}=t,{xKey:n,yKey:s,labelKey:a,marker:o,highlightStyle:r}=this.properties,l=ne(i&&r.item,o.getStyle());e.each((c,h)=>{this.updateMarkerStyle(c,o,{datum:h,highlighted:i,xKey:n,yKey:s,labelKey:a},l,{selected:h.selected})}),i||o.markClean()}updatePlacedLabelData(t){this.labelSelection.update(t.map(e=>({...e.datum,point:{x:e.x,y:e.y,size:e.datum.point.size}})),e=>{e.pointerEvents=1}),this.updateLabelNodes({labelSelection:this.labelSelection})}updateLabelNodes(t){const{label:e}=this.properties;t.labelSelection.each((i,n)=>{var s,a;i.text=n.label.text,i.fill=e.color,i.x=((s=n.point)==null?void 0:s.x)??0,i.y=((a=n.point)==null?void 0:a.y)??0,i.fontStyle=e.fontStyle,i.fontWeight=e.fontWeight,i.fontSize=e.fontSize,i.fontFamily=e.fontFamily,i.textAlign="left",i.textBaseline="top"})}getTooltipContent(t){var k;const{id:e,dataModel:i,processedData:n,axes:s,properties:a}=this,{xKey:o,xName:r,yKey:l,yName:c,labelKey:h,labelName:p,title:f,tooltip:y}=a,m=s.x,b=s.y;if(!i||!n||!m||!b)return;const{datumIndex:S}=t,v=(k=n.dataSources.get(this.id))==null?void 0:k[S],D=i.resolveColumnById(this,"xValue",n)[S],I=i.resolveColumnById(this,"yValue",n)[S];if(D==null)return;const T=this.getMarkerItemBaseStyle(!1);return Object.assign(T,this.getMarkerItemStyleOverrides(String(S),v,T,!1)),y.formatTooltip({symbol:this.legendItemSymbol(),title:f,data:[{label:r,fallbackLabel:o,value:m.formatDatum(D)},{label:c,fallbackLabel:l,value:b.formatDatum(I)}]},{seriesId:e,datum:v,title:c,xKey:o,xName:r,yKey:l,yName:c,labelKey:h,labelName:p,...T,...this.getModuleTooltipParams()})}legendItemSymbol(){const{shape:t,fill:e,stroke:i,fillOpacity:n,strokeOpacity:s,strokeWidth:a,lineDash:o,lineDashOffset:r}=this.properties.marker;return{marker:{shape:t,fill:e??"rgba(0, 0, 0, 0)",stroke:i??"rgba(0, 0, 0, 0)",fillOpacity:n,strokeOpacity:s,strokeWidth:a,lineDash:o,lineDashOffset:r}}}getLegendData(t){if(!this.properties.isValid()||t!=="category")return[];const{yKey:e,yName:i,title:n,showInLegend:s}=this.properties,{id:a,ctx:{legendManager:o},visible:r}=this;return[{legendType:"category",id:a,itemId:e,seriesId:a,enabled:r&&o.getItemEnabled({seriesId:a,itemId:e}),label:{text:n??i??e},symbol:this.legendItemSymbol(),hideInLegend:!s}]}animateEmptyUpdateReady(t){const{markerSelection:e,labelSelection:i,annotationSelections:n}=t;XE(this,this.ctx.animationManager,e),Ie(this,"labels",this.ctx.animationManager,i),Ie(this,"annotations",this.ctx.animationManager,...n)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new Kt}getFormattedMarkerStyle(t){const{xKey:e,yKey:i,labelKey:n}=this.properties;return this.getMarkerStyle(this.properties.marker,{datum:t,xKey:e,yKey:i,labelKey:n,highlighted:!0})}computeFocusBounds(t){return Fb(this,t)}};lw.className="ScatterSeries";lw.type="scatter";var lht={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"scatter",moduleFactory:t=>new lw(t),tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{shape:"circle",size:7,fillOpacity:.8,tooltip:{position:{type:"node"}},label:{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}},errorBar:{cap:{lengthRatio:1}}}},paletteFactory:_b},RY=class LL{constructor(e,i,n,s){this.startAngle=e,this.endAngle=i,this.innerRadius=n,this.outerRadius=s}clone(){const{startAngle:e,endAngle:i,innerRadius:n,outerRadius:s}=this;return new LL(e,i,n,s)}equals(e){return this.startAngle===e.startAngle&&this.endAngle===e.endAngle&&this.innerRadius===e.innerRadius&&this.outerRadius===e.outerRadius}[MA](e,i){return new LL(this.startAngle*(1-i)+e.startAngle*i,this.endAngle*(1-i)+e.endAngle*i,this.innerRadius*(1-i)+e.innerRadius*i,this.outerRadius*(1-i)+e.outerRadius*i)}};function PY({startAngle:t,endAngle:e,innerRadius:i,outerRadius:n}){let s=1/0,a=1/0,o=-1/0,r=-1/0;const l=(c,h)=>{s=Math.min(c,s),a=Math.min(h,a),o=Math.max(c,o),r=Math.max(h,r)};return l(i*Math.cos(t),i*Math.sin(t)),l(i*Math.cos(e),i*Math.sin(e)),l(n*Math.cos(t),n*Math.sin(t)),l(n*Math.cos(e),n*Math.sin(e)),Hu(0,t,e)&&l(n,0),Hu(Math.PI*.5,t,e)&&l(0,n),Hu(Math.PI,t,e)&&l(-n,0),Hu(Math.PI*1.5,t,e)&&l(0,-n),new Rt(s,a,o-s,r-a)}function UM(t,e,i){const n=Math.sqrt(Math.pow(t,2)+Math.pow(e,2)),{innerRadius:s,outerRadius:a}=i;if(i.startAngle===i.endAngle||n<Math.min(s,a)||n>Math.max(s,a))return!1;const o=Ix(i.startAngle),r=Ix(i.endAngle),l=Math.atan2(e,t);return o<r?l<=r&&l>=o:l<=r&&l>=-Math.PI||l>=o&&l<=Math.PI}function Ej(t,e){const{startAngle:i,endAngle:n,innerRadius:s,outerRadius:a}=e,o={x:a*Math.cos(i),y:a*Math.sin(i)},r={x:a*Math.cos(n),y:a*Math.sin(n)},l=s===0?{x:0,y:0}:{x:s*Math.cos(i),y:s*Math.sin(i)},c=s===0?{x:0,y:0}:{x:s*Math.cos(n),y:s*Math.sin(n)};return Zf(t.start.x,t.start.y,t.end.x,t.end.y,o.x,o.y,l.x,l.y)||Zf(t.start.x,t.start.y,t.end.x,t.end.y,r.x,r.y,c.x,c.y)||DW(0,0,a,i,n,!0,t.start.x,t.start.y,t.end.x,t.end.y)}function BY(t,e){const i={x:t.x,y:t.y},n={x:t.x+t.width,y:t.y},s={x:t.x,y:t.y+t.height},a={x:t.x+t.width,y:t.y+t.height};return Ej({start:i,end:n},e)||Ej({start:s,end:a},e)}function wj(t,e,i,n){if(i===0&&n===0)return 0;if(Math.asin(Math.abs(1*i)/(t+1*i))+Math.asin(Math.abs(1*n)/(t+1*n))-e<0)return 1;let a=0,o=1;for(let r=0;r<8;r+=1){const l=(a+o)/2;Math.asin(Math.abs(l*i)/(t+l*i))+Math.asin(Math.abs(l*n)/(t+l*n))-e<0?a=l:o=l}return a}var cht=1e-6;function eh(t,e){return _A(t,e)<cht?e:si(t-e)+e}function X0(t,e,i=0){const s=Math.abs(e-t)>=2*Math.PI?2*Math.PI:si(e-t);return t=eh(t,i),e=t+s,{startAngle:t,endAngle:e}}function Z0(t,e,i,n,s,a){const o=Math.sin(a),r=Math.cos(a),l=t**2+e**2-i**2;let c,h,p,f;if(r>.5){const I=o/r,T=1+I**2,k=-2*(t+e*I),E=k**2-4*T*l;if(E<0)return;const w=(-k+Math.sqrt(E))/(2*T),R=(-k-Math.sqrt(E))/(2*T);c=w,h=w*I,p=R,f=R*I}else{const I=r/o,T=1+I**2,k=-2*(e+t*I),E=k**2-4*T*l;if(E<0)return;const w=(-k+Math.sqrt(E))/(2*T),R=(-k-Math.sqrt(E))/(2*T);c=w*I,h=w,p=R*I,f=R}const y=r,m=o,b=c*y+h*m,S=p*y+f*m,v=b>0?eh(Math.atan2(h-e,c-t),n):NaN,D=S>0?eh(Math.atan2(f-e,p-t),n):NaN;if(v>=n&&v<=s)return v;if(D>=n&&D<=s)return D}function q0(t,e,i,n,s,a){const o=Math.hypot(t,e),r=(o**2-i**2+a**2)/(2*o),l=o-r,c=Math.atan2(e,t),h=Math.acos(-l/i),p=eh(c+h,n),f=eh(c-h,n);if(p>=n&&p<=s)return p;if(f>=n&&f<=s)return f}var C1=class{constructor(t,e,i,n,s){this.cx=t,this.cy=e,this.r=i,this.a0=n,this.a1=s,this.a0>=this.a1&&(this.a0=NaN,this.a1=NaN)}isValid(){return Number.isFinite(this.a0)&&Number.isFinite(this.a1)}pointAt(t){return{x:this.cx+this.r*Math.cos(t),y:this.cy+this.r*Math.sin(t)}}clipStart(t){t==null||!this.isValid()||t<this.a0||(this.a0=t,(Number.isNaN(t)||this.a0>=this.a1)&&(this.a0=NaN,this.a1=NaN))}clipEnd(t){t==null||!this.isValid()||t>this.a1||(this.a1=t,(Number.isNaN(t)||this.a0>=this.a1)&&(this.a0=NaN,this.a1=NaN))}},$n=class extends na{constructor(){super(...arguments),this.centerX=0,this.centerY=0,this.innerRadius=10,this.outerRadius=20,this.startAngle=0,this.endAngle=Math.PI*2,this.clipSector=void 0,this.concentricEdgeInset=0,this.radialEdgeInset=0,this.startOuterCornerRadius=0,this.endOuterCornerRadius=0,this.startInnerCornerRadius=0,this.endInnerCornerRadius=0}set inset(e){this.concentricEdgeInset=e,this.radialEdgeInset=e}set cornerRadius(e){this.startOuterCornerRadius=e,this.endOuterCornerRadius=e,this.startInnerCornerRadius=e,this.endInnerCornerRadius=e}computeBBox(){return PY(this).translate(this.centerX,this.centerY)}normalizedRadii(){const{concentricEdgeInset:e}=this;let{innerRadius:i,outerRadius:n}=this;return i=i>0?i+e:0,n=Math.max(n-e,0),{innerRadius:i,outerRadius:n}}normalizedClipSector(){const{clipSector:e}=this;if(e==null)return;const{startAngle:i,endAngle:n}=X0(this.startAngle,this.endAngle),{innerRadius:s,outerRadius:a}=this.normalizedRadii(),o=X0(e.startAngle,e.endAngle,i);return new RY(Math.max(i,o.startAngle),Math.min(n,o.endAngle),Math.max(s,e.innerRadius),Math.min(a,e.outerRadius))}getAngleOffset(e){return e>0?this.radialEdgeInset/e:0}arc(e,i,n,s,a,o,r,l){if(e<=0)return;const{startAngle:c,endAngle:h}=X0(this.startAngle,this.endAngle),{innerRadius:p,outerRadius:f}=this.normalizedRadii(),y=this.normalizedClipSector();if(l&&p<=0)return;const m=l?this.getAngleOffset(p+e):this.getAngleOffset(f-e),b=r?c+m+i:h-m-i,S=l?p+e:f-e,v=S*Math.cos(b),D=S*Math.sin(b);if(y!=null&&(!r&&!(b>=c-1e-6&&b<=y.endAngle-1e-6)||r&&!(b>=y.startAngle+1e-6&&b<=h-1e-6)||l&&S<y.innerRadius-1e-6||!l&&S>y.outerRadius+1e-6))return;const I=new C1(v,D,e,n,s);if(y!=null){l?(I.clipStart(Z0(v,D,e,n,s,y.endAngle)),I.clipEnd(Z0(v,D,e,n,s,y.startAngle))):(I.clipStart(Z0(v,D,e,n,s,y.startAngle)),I.clipEnd(Z0(v,D,e,n,s,y.endAngle)));let R,O;if(r?(R=q0(v,D,e,n,s,y.innerRadius),O=q0(v,D,e,n,s,y.outerRadius)):(R=q0(v,D,e,n,s,y.outerRadius),O=q0(v,D,e,n,s,y.innerRadius)),I.clipStart(R),I.clipEnd(O),R!=null){const{x:L,y:F}=I.pointAt(R),z=eh(Math.atan2(F,L),c);r?o==null||o.clipStart(z):a.clipEnd(z)}if(O!=null){const{x:L,y:F}=I.pointAt(O),z=eh(Math.atan2(F,L),c);r?a.clipStart(z):o==null||o.clipEnd(z)}}if(y!=null){const{x:R,y:O}=I.pointAt((I.a0+I.a1)/2);if(!UM(R,O,y))return}const{x:T,y:k}=I.pointAt(r===l?I.a0:I.a1),E=eh(Math.atan2(k,T),c),w=l?o:a;return r?w==null||w.clipStart(E):w==null||w.clipEnd(E),I}updatePath(){const{path:i,centerX:n,centerY:s,concentricEdgeInset:a,radialEdgeInset:o}=this;let{startOuterCornerRadius:r,endOuterCornerRadius:l,startInnerCornerRadius:c,endInnerCornerRadius:h}=this;const{startAngle:p,endAngle:f}=X0(this.startAngle,this.endAngle),{innerRadius:y,outerRadius:m}=this.normalizedRadii(),b=this.normalizedClipSector(),S=f-p,v=S>=2*Math.PI-1e-6;if(i.clear(),y===0&&m===0||y>m)return;if(((b==null?void 0:b.startAngle)??p)===((b==null?void 0:b.endAngle)??f))return;if(v&&this.clipSector==null&&r===0&&l===0&&c===0&&h===0){i.moveTo(n+m*Math.cos(p),s+m*Math.sin(p)),i.arc(n,s,m,p,f),y>a&&(i.moveTo(n+y*Math.cos(f),s+y*Math.sin(f)),i.arc(n,s,y,f,p,!0)),i.closePath();return}else if(this.clipSector==null&&Math.abs(y-m)<1e-6){i.arc(n,s,m,p,f,!1),i.arc(n,s,m,f,p,!0),i.closePath();return}const D=this.getAngleOffset(y),I=this.getAngleOffset(m);if(S<2*I)return;const k=((b==null?void 0:b.innerRadius)??y)>a,E=y<a||S<2*D,w=m-y,R=Math.max(r,c,l,h),O=R>0?Math.min(w/R,1):1;r*=O,l*=O,c*=O,h*=O;const L=wj(m,S-2*I,-r,-l);if(r*=L,l*=L,!E&&k){const pt=wj(y,S-2*D,c,h);c*=pt,h*=pt}else c=0,h=0;const F=Math.max(r+c,l+h),z=F>0?Math.min(w/F,1):1;r*=z,l*=z,c*=z,h*=z;let V=0,H=0;const W=r/(m-r),G=l/(m-l);if(W>=0&&W<1-1e-6)V=Math.asin(W);else{V=S/2;const pt=m/(1/Math.sin(V)+1);r=Math.min(pt,r)}if(G>=0&&G<1-1e-6)H=Math.asin(G);else{H=S/2;const pt=m/(1/Math.sin(H)+1);l=Math.min(pt,l)}const $=Math.asin(c/(y+c)),K=Math.asin(h/(y+h)),X=(b==null?void 0:b.outerRadius)??m,j=this.getAngleOffset(X),U=new C1(0,0,X,p+j,f-j),Z=(b==null?void 0:b.innerRadius)??y,tt=this.getAngleOffset(Z),J=k?new C1(0,0,Z,p+tt,f-tt):void 0;b!=null&&(U.clipStart(b.startAngle),U.clipEnd(b.endAngle),J==null||J.clipStart(b.startAngle),J==null||J.clipEnd(b.endAngle));const nt=this.arc(r,V,p-Math.PI*.5,p+V,U,J,!0,!1),at=this.arc(l,H,f-H,f+Math.PI*.5,U,J,!1,!1),lt=this.arc(h,K,f+Math.PI*.5,f+Math.PI-K,U,J,!1,!0),ut=this.arc(c,$,p+Math.PI+$,p+Math.PI*1.5,U,J,!0,!0);if(E){const pt=S<Math.PI*.5?o*(1+Math.cos(S))/Math.sin(S):NaN;let ot;pt>0&&pt<m?ot=Math.max(Math.hypot(o,pt),y):ot=o,ot=Math.max(ot,y);const ft=p+S*.5;i.moveTo(n+ot*Math.cos(ft),s+ot*Math.sin(ft))}else if(!((ut==null?void 0:ut.isValid())===!0||(J==null?void 0:J.isValid())===!0)){const pt=p+S/2,ot=y*Math.cos(pt),ft=y*Math.sin(pt);i.moveTo(n+ot,s+ft)}if((nt==null?void 0:nt.isValid())===!0){const{cx:pt,cy:ot,r:ft,a0:ct,a1:bt}=nt;i.arc(n+pt,s+ot,ft,ct,bt)}if(U.isValid()){const{r:pt,a0:ot,a1:ft}=U;i.arc(n,s,pt,ot,ft)}if((at==null?void 0:at.isValid())===!0){const{cx:pt,cy:ot,r:ft,a0:ct,a1:bt}=at;i.arc(n+pt,s+ot,ft,ct,bt)}if(!E){if((lt==null?void 0:lt.isValid())===!0){const{cx:pt,cy:ot,r:ft,a0:ct,a1:bt}=lt;i.arc(n+pt,s+ot,ft,ct,bt)}if((J==null?void 0:J.isValid())===!0){const{r:pt,a0:ot,a1:ft}=J;i.arc(n,s,pt,ft,ot,!0)}if((ut==null?void 0:ut.isValid())===!0){const{cx:pt,cy:ot,r:ft,a0:ct,a1:bt}=ut;i.arc(n+pt,s+ot,ft,ct,bt)}}i.closePath()}isPointInPath(e,i){const{startAngle:n,endAngle:s,innerRadius:a,outerRadius:o}=this.clipSector??this;return UM(e-this.centerX,i-this.centerY,{startAngle:n,endAngle:s,innerRadius:Math.min(a,o),outerRadius:Math.max(a,o)})}};$n.className="Sector";N([Zt()],$n.prototype,"centerX",2);N([Zt()],$n.prototype,"centerY",2);N([Zt()],$n.prototype,"innerRadius",2);N([Zt()],$n.prototype,"outerRadius",2);N([Zt()],$n.prototype,"startAngle",2);N([Zt()],$n.prototype,"endAngle",2);N([Zt()],$n.prototype,"clipSector",2);N([Zt()],$n.prototype,"concentricEdgeInset",2);N([Zt()],$n.prototype,"radialEdgeInset",2);N([Zt()],$n.prototype,"startOuterCornerRadius",2);N([Zt()],$n.prototype,"endOuterCornerRadius",2);N([Zt()],$n.prototype,"startInnerCornerRadius",2);N([Zt()],$n.prototype,"endInnerCornerRadius",2);var $i={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},Qr={BLUE:"#2b5c95",ORANGE:"#cc6f10",GREEN:"#1e652e",CYAN:"#18859e",YELLOW:"#a69400",VIOLET:"#603c88",GRAY:"#575757",MAGENTA:"#7d2f6d",BROWN:"#4f3508",RED:"#a82529"},zY=class extends qe{constructor(){super(...arguments),this.showInLegend=!1}};N([P(Gt)],zY.prototype,"showInLegend",2);var cw=class extends wn{constructor(){super(...arguments),this.spacing=2}set(t,e){return super.set(t)}};N([P(Dt)],cw.prototype,"text",2);N([P(fe)],cw.prototype,"spacing",2);var uw=class extends Qt{constructor(){super(...arguments),this.fill="transparent",this.fillOpacity=1}};N([P(ke)],uw.prototype,"fill",2);N([P(Re)],uw.prototype,"fillOpacity",2);var _g=class extends wn{constructor(){super(...arguments),this.offset=3,this.minAngle=0,this.minSpacing=4,this.maxCollisionOffset=50,this.avoidCollisions=!0}};N([P(Ct)],_g.prototype,"offset",2);N([P(fe.restrict({min:0,max:360}))],_g.prototype,"minAngle",2);N([P(Ct)],_g.prototype,"minSpacing",2);N([P(Ct)],_g.prototype,"maxCollisionOffset",2);N([P(Gt)],_g.prototype,"avoidCollisions",2);var hw=class extends wn{constructor(){super(...arguments),this.positionOffset=0,this.positionRatio=.5}};N([P(fe)],hw.prototype,"positionOffset",2);N([P(Re)],hw.prototype,"positionRatio",2);var yD=class extends Qt{constructor(){super(...arguments),this.length=10,this.strokeWidth=1}};N([P(Ya,{optional:!0})],yD.prototype,"colors",2);N([P(Ct)],yD.prototype,"length",2);N([P(Ct)],yD.prototype,"strokeWidth",2);var pe=class extends Xa{constructor(){super(...arguments),this.fills=Object.values($i),this.strokes=Object.values(Qr),this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.rotation=0,this.outerRadiusOffset=0,this.outerRadiusRatio=1,this.strokeWidth=1,this.sectorSpacing=0,this.hideZeroValueSectorsInLegend=!1,this.innerLabels=new fb(cw),this.title=new zY,this.innerCircle=new uw,this.shadow=new Cr,this.calloutLabel=new _g,this.sectorLabel=new hw,this.calloutLine=new yD,this.tooltip=new Rs}isValid(){const t=super.isValid();return this.innerRadiusRatio==null&&this.innerRadiusOffset==null?(It.warnOnce("Either an [innerRadiusRatio] or an [innerRadiusOffset] must be set to render a donut series."),!1):t}};N([P(Dt)],pe.prototype,"angleKey",2);N([P(Dt,{optional:!0})],pe.prototype,"angleName",2);N([P(Dt,{optional:!0})],pe.prototype,"angleFilterKey",2);N([P(Dt,{optional:!0})],pe.prototype,"radiusKey",2);N([P(Dt,{optional:!0})],pe.prototype,"radiusName",2);N([P(Ct,{optional:!0})],pe.prototype,"radiusMin",2);N([P(Ct,{optional:!0})],pe.prototype,"radiusMax",2);N([P(Dt,{optional:!0})],pe.prototype,"calloutLabelKey",2);N([P(Dt,{optional:!0})],pe.prototype,"calloutLabelName",2);N([P(Dt,{optional:!0})],pe.prototype,"sectorLabelKey",2);N([P(Dt,{optional:!0})],pe.prototype,"sectorLabelName",2);N([P(Dt,{optional:!0})],pe.prototype,"legendItemKey",2);N([P(Ya)],pe.prototype,"fills",2);N([P(Ya)],pe.prototype,"strokes",2);N([P(Re)],pe.prototype,"fillOpacity",2);N([P(Re)],pe.prototype,"strokeOpacity",2);N([P(bl)],pe.prototype,"lineDash",2);N([P(Ct)],pe.prototype,"lineDashOffset",2);N([P(Ct)],pe.prototype,"cornerRadius",2);N([P(ea,{optional:!0})],pe.prototype,"itemStyler",2);N([P(fe)],pe.prototype,"rotation",2);N([P(fe)],pe.prototype,"outerRadiusOffset",2);N([P(Re)],pe.prototype,"outerRadiusRatio",2);N([P(fe,{optional:!0})],pe.prototype,"innerRadiusOffset",2);N([P(Re,{optional:!0})],pe.prototype,"innerRadiusRatio",2);N([P(Ct)],pe.prototype,"strokeWidth",2);N([P(fe)],pe.prototype,"sectorSpacing",2);N([P(Gt)],pe.prototype,"hideZeroValueSectorsInLegend",2);N([P(PN)],pe.prototype,"innerLabels",2);N([P(Lt)],pe.prototype,"title",2);N([P(Lt)],pe.prototype,"innerCircle",2);N([P(Lt)],pe.prototype,"shadow",2);N([P(Lt)],pe.prototype,"calloutLabel",2);N([P(Lt)],pe.prototype,"sectorLabel",2);N([P(Lt)],pe.prototype,"calloutLine",2);N([P(Lt)],pe.prototype,"tooltip",2);function Hd(t,e,i,n){const s=[i.convert(0),i.convert(1)],a=[n.convert(0),n.convert(1)],o=Math.PI/-2+bn(e),r=t?"initial":"update",l=({radius:m})=>({innerRadius:s[0],outerRadius:s[0]+(s[1]-s[0])*m}),c=({radius:m})=>({innerRadius:a[0],outerRadius:a[0]+(a[1]-a[0])*m});return{nodes:{toFn:(m,b,S,{prevLive:v})=>{var R,O;let{startAngle:D,endAngle:I,innerRadius:T,outerRadius:k}=b;const{stroke:E,fill:w}=b.sectorFormat;if(S==="removed"&&v?(D=(R=v.datum)==null?void 0:R.endAngle,I=(O=v.datum)==null?void 0:O.endAngle):S==="removed"&&!v&&(D=o,I=o),S==="removed"){const L=l(b);T=L.innerRadius,k=L.outerRadius}return{startAngle:D,endAngle:I,outerRadius:k,innerRadius:T,stroke:E,fill:w}},fromFn:(m,b,S,{prevFromProps:v})=>{let{startAngle:D,endAngle:I,innerRadius:T,outerRadius:k}=m,{fill:E,stroke:w}=b.sectorFormat;if(S==="unknown"||S==="added"&&!v?(D=o,I=o,T=b.innerRadius,k=b.outerRadius):S==="added"&&v&&(D=v.endAngle??o,I=v.endAngle??o,T=v.innerRadius??b.innerRadius,k=v.outerRadius??b.outerRadius),S==="added"&&!t){const R=c(b);T=R.innerRadius,k=R.outerRadius}return S==="updated"&&(E=m.fill??E,w=(typeof m.stroke=="string"?m.stroke:void 0)??w),{startAngle:D,endAngle:I,innerRadius:T,outerRadius:k,fill:E,stroke:w,phase:r}}},innerCircle:{fromFn:(m,b)=>{var S;return{size:((S=m.previousDatum)==null?void 0:S.radius)??m.size??0,phase:r}},toFn:(m,b)=>({size:b.radius??0})}}}function dw(t,e){return{startAngle:e.startAngle,endAngle:e.endAngle,innerRadius:e.innerRadius,outerRadius:e.outerRadius,fill:e.sectorFormat.fill,stroke:e.sectorFormat.stroke}}function pw(t,e){const i=e.y-t.centerY,n=e.x-t.centerX,s=Math.atan2(i,n),a=t.getItemNodes();for(const o of a)if(o.datum.missing!==!0&&Hu(s,o.startAngle,o.endAngle)){const r=Math.sqrt(n*n+i*i);let l=0;return r<o.innerRadius?l=o.innerRadius-r:r>o.outerRadius&&(l=r-o.outerRadius),{datum:o.datum,distance:l}}}var _Y=(t=>(t[t.BACKGROUND=0]="BACKGROUND",t[t.FOREGROUND=1]="FOREGROUND",t[t.HIGHLIGHT=2]="HIGHLIGHT",t[t.LABEL=3]="LABEL",t))(_Y||{}),mD=class extends IE{constructor({useLabelLayer:t=!1,pickModes:e=[1,0],canHaveAxes:i=!1,animationResetFns:n,...s}){super({...s,useLabelLayer:t,pickModes:e,directionKeys:{x:["angleKey"],y:["radiusKey"]},directionNames:{x:["angleName"],y:["radiusName"]},canHaveAxes:i}),this.itemGroup=this.contentGroup.appendChild(new Kt),this.nodeData=[],this.itemSelection=Xi.select(this.itemGroup,()=>this.nodeFactory(),!1),this.labelSelection=Xi.select(this.labelGroup,()=>this.labelFactory(),!1),this.highlightSelection=Xi.select(this.highlightGroup,()=>this.nodeFactory()),this.highlightLabelSelection=Xi.select(this.highlightLabel,()=>this.labelFactory()),this.centerX=0,this.centerY=0,this.radius=0,this.animationResetFns=n,this.animationState=new bb("empty",{empty:{update:{target:"ready",action:a=>this.animateEmptyUpdateReady(a)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:a=>this.animateReadyHighlight(a),highlightMarkers:a=>this.animateReadyHighlightMarkers(a),resize:a=>this.animateReadyResize(a),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:a=>this.animateWaitingUpdateReady(a)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:a=>this.animateClearingUpdateEmpty(a)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}getItemNodes(){return[...this.itemGroup.children()]}getNodeData(){return this.nodeData}setSeriesIndex(t){return super.setSeriesIndex(t)?(this.contentGroup.zIndex=[t,1],this.highlightGroup.zIndex=[t,2],this.labelGroup.zIndex=[t,3],!0):!1}resetAnimation(t){t==="initial"?this.animationState.transition("reset"):t==="ready"&&this.animationState.transition("skip")}labelFactory(){const t=new Nn;return t.pointerEvents=1,t}addChartEventListeners(){var t;this.destroyFns.push((t=this.ctx.chartEventManager)==null?void 0:t.addListener("legend-item-click",e=>this.onLegendItemClick(e)))}getInnerRadius(){return 0}computeLabelsBBox(t,e){return null}resetAllAnimation(){const{item:t,label:e}=this.animationResetFns??{};this.ctx.animationManager.stopByAnimationGroupId(this.id),t&&Vn([this.itemSelection,this.highlightSelection],t),e&&Vn([this.labelSelection,this.highlightLabelSelection],e),this.itemSelection.cleanup(),this.labelSelection.cleanup(),this.highlightSelection.cleanup(),this.highlightLabelSelection.cleanup()}animateEmptyUpdateReady(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateWaitingUpdateReady(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateReadyHighlight(t){const{item:e,label:i}=this.animationResetFns??{};e&&Vn([this.highlightSelection],e),i&&Vn([this.highlightLabelSelection],i)}animateReadyHighlightMarkers(t){}animateReadyResize(t){this.resetAllAnimation()}animateClearingUpdateEmpty(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}computeFocusBounds(t){var i;const e=(i=this.getNodeData())==null?void 0:i[t.datumIndex];if(e!==void 0)return this.itemSelection.select(n=>n instanceof na&&n.datum===e)[0]}getSeriesRange(t,e){return[NaN,NaN]}},uht=class extends Mb{constructor(t,e,i,n){super(t,e,i,n),this.angleKey=n.properties.angleKey,this.radiusKey=n.properties.radiusKey,this.calloutLabelKey=n.properties.calloutLabelKey,this.sectorLabelKey=n.properties.sectorLabelKey}},fw=class extends mD{constructor(t){super({moduleCtx:t,pickModes:[1,0],useLabelLayer:!0,animationResetFns:{item:dw,label:Uc}}),this.properties=new pe,this.phantomNodeData=void 0,this.backgroundGroup=new ta({name:`${this.id}-background`,zIndex:0}),this.noVisibleData=!1,this.previousRadiusScale=new mr,this.radiusScale=new mr,this.phantomGroup=this.backgroundGroup.appendChild(new Kt({name:"phantom"})),this.phantomSelection=Xi.select(this.phantomGroup,()=>this.nodeFactory(),!1),this.calloutLabelGroup=this.contentGroup.appendChild(new Kt({name:"pieCalloutLabels"})),this.calloutLabelSelection=new Xi(this.calloutLabelGroup,Kt),this.zerosumRingsGroup=this.backgroundGroup.appendChild(new Kt({name:`${this.id}-zerosumRings`})),this.zerosumOuterRing=this.zerosumRingsGroup.appendChild(new En({shape:"circle"})),this.zerosumInnerRing=this.zerosumRingsGroup.appendChild(new En({shape:"circle"})),this.innerLabelsGroup=this.contentGroup.appendChild(new Kt({name:"innerLabels"})),this.innerCircleGroup=this.backgroundGroup.appendChild(new Kt({name:`${this.id}-innerCircle`})),this.innerLabelsSelection=Xi.select(this.innerLabelsGroup,Nn),this.innerCircleSelection=Xi.select(this.innerCircleGroup,()=>new En({shape:"circle"})),this.surroundingRadius=void 0,this.NodeEvent=uht,this.angleScale=new mr,this.angleScale.domain=[0,1],this.angleScale.range=[-Math.PI,Math.PI].map(e=>e+Math.PI/2),this.phantomGroup.opacity=.2}get calloutNodeData(){return this.phantomNodeData??this.nodeData}attachSeries(t,e,i){super.attachSeries(t,e,i),t==null||t.appendChild(this.backgroundGroup)}detachSeries(t,e,i){super.detachSeries(t,e,i),t==null||t.removeChild(this.backgroundGroup)}setSeriesIndex(t){return super.setSeriesIndex(t)?(this.backgroundGroup.zIndex=[0,t],!0):!1}nodeFactory(){return new $n}getSeriesDomain(t){return t==="x"?this.angleScale.domain:this.radiusScale.domain}async processData(t){var b,S;if(this.data==null||!this.properties.isValid())return;const{visible:e,id:i}=this,{angleKey:n,angleFilterKey:s,radiusKey:a,calloutLabelKey:o,sectorLabelKey:r,legendItemKey:l}=this.properties,c=(v,D,I)=>e&&this.ctx.legendManager.getItemEnabled({seriesId:i,itemId:I}),h=!this.ctx.animationManager.isSkipped(),p=[],f=[];l?p.push(xr(l,"band",{id:"legendItemKey"})):o?p.push(xr(o,"band",{id:"calloutLabelKey"})):r&&p.push(xr(r,"band",{id:"sectorLabelKey"}));const y=this.radiusScale.type,m=this.angleScale.type;a&&f.push(LE(a,{id:"radiusValue",min:this.properties.radiusMin??0,max:this.properties.radiusMax}),se(a,y,{id:"radiusRaw"}),Ud("radiusValue",[0,1],1,this.properties.radiusMin??0,this.properties.radiusMax)),o&&f.push(se(o,"band",{id:"calloutLabelValue"})),r&&f.push(se(r,"band",{id:"sectorLabelValue"})),l&&f.push(se(l,"band",{id:"legendItemValue"})),s&&f.push(Nx(s,m,{id:"angleFilterValue",onlyPositive:!0,validation:c,invalidValue:0}),se(s,m,{id:"angleFilterRaw"}),Ud("angleFilterValue",[0,1],0,0)),h&&this.processedData&&p.length>0&&f.push(Eg(this.id,this.processedData)),f.push(Ng()),await this.requestDataModel(t,this.data,{props:[...p,Nx(n,m,{id:"angleValue",onlyPositive:!0,validation:c,invalidValue:0}),se(n,m,{id:"angleRaw"}),Ud("angleValue",[0,1],0,0),...f]});for(const v of((S=(b=this.processedData)==null?void 0:b.defs)==null?void 0:S.values)??[]){const{id:D,missing:I,property:T}=v,k=yE(this,I);D!=="angleRaw"&&k>0&&It.warnOnce(`no value was found for the key '${String(T)}' on ${k} data element${k>1?"s":""}`)}this.animationState.transition("updateData")}maybeRefreshNodeData(){if(!this.nodeDataRefresh)return;const{nodeData:t=[],phantomNodeData:e}=this.createNodeData()??{};this.nodeData=t,this.phantomNodeData=e,this.nodeDataRefresh=!1}getProcessedDataValues(t,e){const i=t.resolveColumnById(this,"angleValue",e),n=t.resolveColumnById(this,"angleRaw",e),s=this.properties.angleFilterKey!=null?t.resolveColumnById(this,"angleFilterValue",e):void 0,a=this.properties.angleFilterKey!=null?t.resolveColumnById(this,"angleFilterRaw",e):void 0,o=this.properties.radiusKey?t.resolveColumnById(this,"radiusValue",e):void 0,r=this.properties.radiusKey?t.resolveColumnById(this,"radiusRaw",e):void 0,l=this.properties.calloutLabelKey?t.resolveColumnById(this,"calloutLabelValue",e):void 0,c=this.properties.sectorLabelKey?t.resolveColumnById(this,"sectorLabelValue",e):void 0,h=this.properties.legendItemKey?t.resolveColumnById(this,"legendItemValue",e):void 0;return{angleValues:i,angleRawValues:n,angleFilterValues:s,angleFilterRawValues:a,radiusValues:o,radiusRawValues:r,calloutLabelValues:l,sectorLabelValues:c,legendItemValues:h}}createNodeData(){var R;const{id:t,processedData:e,dataModel:i,angleScale:n,ctx:{legendManager:s},visible:a}=this,{rotation:o,innerRadiusRatio:r}=this.properties;if(!this.properties.isValid())return this.zerosumOuterRing.visible=!0,this.zerosumInnerRing.visible=!0,{itemId:t,nodeData:[],labelData:[]};if(!i||(e==null?void 0:e.type)!=="ungrouped")return;const{angleValues:l,angleRawValues:c,angleFilterValues:h,angleFilterRawValues:p,radiusValues:f,radiusRawValues:y,calloutLabelValues:m,sectorLabelValues:b,legendItemValues:S}=this.getProcessedDataValues(i,e),v=(p==null?void 0:p.some((O,L)=>O>c[L]))??!1;let D=0,I=0;const T=[],k=p!=null?[]:void 0,E=e.dataSources.get(this.id)??[],w=(R=e.invalidData)==null?void 0:R.get(this.id);return E.forEach((O,L)=>{if((w==null?void 0:w[L])===!0)return;const F=v?h[L]:l[L],z=p!=null&&!v?Math.sqrt(p[L]/c[L]):1,V=n.convert(D)+bn(o);D=F,I+=F;const H=n.convert(D)+bn(o),W=Math.abs(H-V),G=V+W/2,$=c[L],X=((f==null?void 0:f[L])??1)*z,j=y==null?void 0:y[L],U=S==null?void 0:S[L],Z=this.getLabels(O,G,W,!0,m==null?void 0:m[L],b==null?void 0:b[L],U),tt=this.getSectorFormat(O,L,!1),J={itemId:L,series:this,datum:O,datumIndex:L,angleValue:$,midAngle:G,midCos:Math.cos(G),midSin:Math.sin(G),startAngle:V,endAngle:H,radius:X,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(X),0),sectorFormat:tt,radiusValue:j,legendItemValue:U,enabled:a&&s.getItemEnabled({seriesId:t,itemId:L}),focusable:!0,...Z};T.push(J),k!=null&&k.push({...J,radius:1,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(1),0),focusable:!1})}),this.zerosumOuterRing.visible=I===0,this.zerosumInnerRing.visible=I===0&&r!=null&&r!==1&&r>0,{itemId:t,nodeData:T,labelData:T,phantomNodeData:k}}getLabels(t,e,i,n,s,a,o){const{calloutLabel:r,sectorLabel:l,legendItemKey:c}=this.properties,h=!n||r.enabled?this.properties.calloutLabelKey:void 0,p=!n||l.enabled?this.properties.sectorLabelKey:void 0;if(!h&&!p&&!c)return{};const f={datum:t,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey},y={};return h&&i>=bn(r.minAngle)&&(y.calloutLabel={...this.getTextAlignment(e),text:this.getLabelText(r,{...f,value:s}),hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0}),p&&(y.sectorLabel={text:this.getLabelText(l,{...f,value:a})}),c!=null&&o!=null&&(y.legendItem={key:c,text:o}),y}getTextAlignment(t){const e=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],i=Ix(t),n=-.75*Math.PI,s=i-n,a=Math.floor(s/(Math.PI/2)),o=TN(a,e.length);return e[o]}getSectorFormat(t,e,i){const{angleKey:n,radiusKey:s,calloutLabelKey:a,sectorLabelKey:o,legendItemKey:r,fills:l,strokes:c,itemStyler:h}=this.properties,p=c[e%c.length],{fill:f,fillOpacity:y,stroke:m,strokeWidth:b,strokeOpacity:S,lineDash:v,lineDashOffset:D,cornerRadius:I}=ne(i&&this.properties.highlightStyle.item,{fill:l.length>0?l[e%l.length]:void 0,stroke:p,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.getOpacity()},this.properties);let T;return h&&(T=this.cachedDatumCallback(this.getDatumId(t,e)+(i?"-highlight":"-hide"),()=>h({datum:t,angleKey:n,radiusKey:s,calloutLabelKey:a,sectorLabelKey:o,legendItemKey:r,fill:f,fillOpacity:y,stroke:m,strokeWidth:b,strokeOpacity:S,lineDash:v,lineDashOffset:D,cornerRadius:I,highlighted:i,seriesId:this.id}))),{fill:(T==null?void 0:T.fill)??f,fillOpacity:(T==null?void 0:T.fillOpacity)??y,stroke:(T==null?void 0:T.stroke)??m,strokeWidth:(T==null?void 0:T.strokeWidth)??b,strokeOpacity:(T==null?void 0:T.strokeOpacity)??S,lineDash:(T==null?void 0:T.lineDash)??v,lineDashOffset:(T==null?void 0:T.lineDashOffset)??D,cornerRadius:(T==null?void 0:T.cornerRadius)??I}}getInnerRadius(){const{radius:t}=this,{innerRadiusRatio:e=1,innerRadiusOffset:i=0}=this.properties,n=t*e+i;return n===t||n<0?0:n}getOuterRadius(){const{outerRadiusRatio:t,outerRadiusOffset:e}=this.properties;return Math.max(this.radius*t+e,0)}updateRadiusScale(t){var n;const e=[this.getInnerRadius(),this.getOuterRadius()];this.radiusScale.range=e,t&&(this.previousRadiusScale.range=e);const i=s=>({...s,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(s.radius),0)});this.nodeData=this.nodeData.map(i),this.phantomNodeData=(n=this.phantomNodeData)==null?void 0:n.map(i)}getTitleTranslationY(){var s;const t=Math.max(0,this.radiusScale.range[1]);if(t===0)return NaN;const i=2+(((s=this.properties.title)==null?void 0:s.spacing)??0),n=Math.max(0,-t);return-t-i-n}update({seriesRect:t}){const{title:e}=this.properties,i={seriesRectWidth:t==null?void 0:t.width,seriesRectHeight:t==null?void 0:t.height},n=Lc(this.nodeDataDependencies,i)!=null;if(n&&(this._nodeDataDependencies=i),this.maybeRefreshNodeData(),this.updateTitleNodes(),this.updateRadiusScale(n),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.backgroundGroup.translationX=this.centerX,this.backgroundGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),e){const s=this.getTitleTranslationY();e.node.y=isFinite(s)?s:0;const a=e.node.getBBox();e.node.visible=e.enabled&&isFinite(s)&&!this.bboxIntersectsSurroundingSeries(a)}for(const s of[this.zerosumInnerRing,this.zerosumOuterRing])s.fillOpacity=0,s.stroke=this.properties.calloutLabel.color,s.strokeWidth=1,s.strokeOpacity=1;this.updateNodeMidPoint(),this.updateSelections(),this.updateNodes(t)}updateTitleNodes(){var i,n;const{oldTitle:t}=this,{title:e}=this.properties;t!==e&&(t&&((i=this.labelGroup)==null||i.removeChild(t.node)),e&&(e.node.textBaseline="bottom",(n=this.labelGroup)==null||n.appendChild(e.node)),this.oldTitle=e)}updateNodeMidPoint(){var e;const t=i=>{const n=i.innerRadius+(i.outerRadius-i.innerRadius)/2;i.midPoint={x:i.midCos*Math.max(0,n),y:i.midSin*Math.max(0,n)}};this.nodeData.forEach(t),(e=this.phantomNodeData)==null||e.forEach(t)}updateSelections(){this.updateGroupSelection(),this.updateInnerCircleSelection()}updateGroupSelection(){const{itemSelection:t,highlightSelection:e,phantomSelection:i,highlightLabelSelection:n,calloutLabelSelection:s,labelSelection:a,innerLabelsSelection:o}=this,r=this.nodeData.map(c=>({...c,sectorFormat:{...c.sectorFormat}})),l=(c,h)=>{c.update(h,void 0,p=>this.getDatumId(p.datum,p.datumIndex)),this.ctx.animationManager.isSkipped()&&c.cleanup()};l(t,this.nodeData),l(e,r),l(i,this.phantomNodeData??[]),s.update(this.calloutNodeData,c=>{const h=new Ka;h.tag=0,h.pointerEvents=1,c.appendChild(h);const p=new Nn;p.tag=1,p.pointerEvents=1,c.appendChild(p)}),a.update(this.nodeData),n.update(r),o.update(this.properties.innerLabels,c=>{c.pointerEvents=1})}updateInnerCircleSelection(){const{innerCircle:t}=this.properties;let e=0;const i=this.getInnerRadius();if(i>0){const s=Math.min(i,this.getOuterRadius());e=Math.ceil(s*2+1)}const n=t?[{radius:e}]:[];this.innerCircleSelection.update(n)}updateNodes(t){const e=this.ctx.highlightManager.getActiveHighlight(),{visible:i}=this;this.backgroundGroup.visible=i,this.contentGroup.visible=i,this.highlightGroup.visible=i&&(e==null?void 0:e.series)===this,this.highlightLabel.visible=i&&(e==null?void 0:e.series)===this,this.labelGroup.visible=i,this.contentGroup.opacity=this.getOpacity(),this.innerCircleSelection.each((a,{radius:o})=>{var r,l;a.setProperties({fill:(r=this.properties.innerCircle)==null?void 0:r.fill,opacity:(l=this.properties.innerCircle)==null?void 0:l.fillOpacity,size:o})});const n=this.ctx.animationManager.isSkipped(),s=(a,o,r,l)=>{const c=this.getSectorFormat(o.datum,o.itemId,l);o.sectorFormat.fill=c.fill,o.sectorFormat.stroke=c.stroke,n&&(a.startAngle=o.startAngle,a.endAngle=o.endAngle,a.innerRadius=o.innerRadius,a.outerRadius=o.outerRadius),(l||n)&&(a.fill=c.fill,a.stroke=c.stroke),a.strokeWidth=c.strokeWidth,a.fillOpacity=c.fillOpacity,a.strokeOpacity=c.strokeOpacity,a.lineDash=c.lineDash,a.lineDashOffset=c.lineDashOffset,a.cornerRadius=c.cornerRadius,a.fillShadow=this.properties.shadow;const h=Math.max((this.properties.sectorSpacing+(c.stroke!=null?c.strokeWidth:0))/2,0);a.inset=h,a.lineJoin=this.properties.sectorSpacing>=0||h>0?"miter":"round"};this.itemSelection.each((a,o,r)=>s(a,o,r,!1)),this.highlightSelection.each((a,o,r)=>{s(a,o,r,!0),a.visible=o.itemId===(e==null?void 0:e.itemId)}),this.phantomSelection.each((a,o,r)=>s(a,o,r,!1)),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(t),this.updateSectorLabelNodes(),this.updateInnerLabelNodes(),this.updateZerosumRings(),this.animationState.transition("update")}updateCalloutLineNodes(){const{calloutLine:t}=this.properties,e=t.length,i=t.strokeWidth,n=t.colors??this.properties.strokes,{offset:s}=this.properties.calloutLabel;this.calloutLabelSelection.selectByTag(0).forEach((a,o)=>{const r=a.datum,{calloutLabel:l,outerRadius:c}=r;if(l!=null&&l.text&&!l.hidden&&c!==0){a.visible=!0,a.strokeWidth=i,a.stroke=n[o%n.length],a.fill=void 0;const h=r.midCos*c,p=r.midSin*c;let f=r.midCos*(c+e),y=r.midSin*(c+e);if((l.collisionTextAlign??l.collisionOffsetY!==0)&&l.box!=null){const b=l.box;let S=f,v=y;f<b.x?S=b.x:f>b.x+b.width&&(S=b.x+b.width),y<b.y?v=b.y:y>b.y+b.height&&(v=b.y+b.height);const D=S-f,I=v-y,T=Math.sqrt(Math.pow(D,2)+Math.pow(I,2)),k=T-s;k>0&&(f=f+D*k/T,y=y+I*k/T)}a.x1=h,a.y1=p,a.x2=f,a.y2=y}else a.visible=!1})}getLabelOverflow(t,e,i){const n=-this.centerX,s=n+i.width,a=-this.centerY,o=a+i.height,r=1;let l=1;e.x+r<n?l=(e.x+e.width-n)/e.width:e.x+e.width-r>s&&(l=(s-e.x)/e.width);const c=e.y+r<a||e.y+e.height-r>o,h=l===1?t.length:Math.floor(t.length*l)-1,p=this.bboxIntersectsSurroundingSeries(e);return{textLength:h,hasVerticalOverflow:c,hasSurroundingSeriesOverflow:p}}bboxIntersectsSurroundingSeries(t){const{surroundingRadius:e}=this;if(e==null)return!1;const i=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}],n=e**2;return i.some(s=>s.x**2+s.y**2>n)}computeCalloutLabelCollisionOffsets(){const{radiusScale:t}=this,{calloutLabel:e,calloutLine:i}=this.properties,{offset:n,minSpacing:s}=e,a=t.convert(0),o=v=>!v.calloutLabel||v.outerRadius===0,r=this.calloutNodeData,l=r.filter(v=>!o(v));if(l.forEach(v=>{const D=v.calloutLabel;D!=null&&(D.hidden=!1,D.collisionTextAlign=void 0,D.collisionOffsetY=0)}),l.length<=1)return;const c=l.filter(v=>v.midCos<0).sort((v,D)=>v.midSin-D.midSin),h=l.filter(v=>v.midCos>=0).sort((v,D)=>v.midSin-D.midSin),p=l.filter(v=>{var D;return v.midSin<0&&((D=v.calloutLabel)==null?void 0:D.textAlign)==="center"}).sort((v,D)=>v.midCos-D.midCos),f=l.filter(v=>{var D;return v.midSin>=0&&((D=v.calloutLabel)==null?void 0:D.textAlign)==="center"}).sort((v,D)=>v.midCos-D.midCos),y=v=>{const D=v.calloutLabel;if(D==null)return Rt.zero.clone();const I=v.outerRadius+i.length+n,T=v.midCos*I,k=v.midSin*I+D.collisionOffsetY,E=D.collisionTextAlign??D.textAlign,w=D.textBaseline;return Nn.computeBBox(D.text,T,k,{font:this.properties.calloutLabel,textAlign:E,textBaseline:w})},m=(v,D,I)=>{const T=y(v).grow(s/2),k=y(D).grow(s/2);T.x<k.x+k.width&&T.x+T.width>k.x&&(I==="to-top"?T.y<k.y+k.height:T.y+T.height>k.y)&&(D.calloutLabel.collisionOffsetY=I==="to-top"?T.y-k.y-k.height:T.y+T.height-k.y)},b=v=>{const D=v.slice().sort((T,k)=>Math.abs(T.midSin)-Math.abs(k.midSin))[0],I=v.indexOf(D);for(let T=I-1;T>=0;T--){const k=v[T+1],E=v[T];m(k,E,"to-top")}for(let T=I+1;T<v.length;T++){const k=v[T-1],E=v[T];m(k,E,"to-bottom")}},S=v=>{const D=l.some(R=>R.calloutLabel.collisionOffsetY!==0),I=v.map(R=>y(R)),T=I.map(R=>R.clone().grow(s/2));let k=!1;for(let R=0;R<T.length&&!k;R++){const O=T[R];for(let L=R+1;L<v.length;L++){const F=T[L];if(O.collidesBBox(F)){k=!0;break}}}const E=r.map(R=>{const{startAngle:O,endAngle:L,outerRadius:F}=R;return{startAngle:O,endAngle:L,innerRadius:a,outerRadius:F}}),w=I.some(R=>E.some(O=>BY(R,O)));!k&&!D&&!w||v.filter(R=>R.calloutLabel.textAlign==="center").forEach(R=>{const O=R.calloutLabel;R.midCos<0?O.collisionTextAlign="right":R.midCos>0?O.collisionTextAlign="left":O.collisionTextAlign="center"})};b(c),b(h),S(p),S(f)}updateCalloutLabelNodes(t){const{radiusScale:e}=this,{calloutLabel:i,calloutLine:n}=this.properties,s=n.length,{offset:a,color:o}=i,r=new Nn;this.calloutLabelSelection.selectByTag(1).forEach(l=>{const{datum:c}=l,h=c.calloutLabel,p=e.convert(c.radius),f=Math.max(0,p);if(!(h!=null&&h.text)||f===0||h.hidden){l.visible=!1;return}const y=f+s+a,m=c.midCos*y,b=c.midSin*y+h.collisionOffsetY,S={textAlign:h.collisionTextAlign??h.textAlign,textBaseline:h.textBaseline};r.text=h.text,r.x=m,r.y=b,r.setFont(this.properties.calloutLabel),r.setAlign(S);const v=r.getBBox();let D=h.text,I=!0;if(i.avoidCollisions){const{textLength:T,hasVerticalOverflow:k}=this.getLabelOverflow(h.text,v,t);D=h.text.length===T?h.text:`${h.text.substring(0,T)}`,I=!k}l.text=D,l.x=m,l.y=b,l.setFont(this.properties.calloutLabel),l.setAlign(S),l.fill=o,l.visible=I})}computeLabelsBBox(t,e){const{calloutLabel:i,calloutLine:n}=this.properties,s=n.length,{offset:a,maxCollisionOffset:o,minSpacing:r}=i;if(!i.avoidCollisions)return null;this.maybeRefreshNodeData(),this.updateRadiusScale(!1),this.computeCalloutLabelCollisionOffsets();const l=[],c=new Nn;let h;const{title:p}=this.properties;if(p!=null&&p.text&&p.enabled){const f=this.getTitleTranslationY();isFinite(f)&&(c.text=p.text,c.x=0,c.y=f,c.setFont(p),c.setAlign({textBaseline:"bottom",textAlign:"center"}),h=c.getBBox(),l.push(h))}return this.calloutNodeData.forEach(f=>{const y=f.calloutLabel;if(!y||f.outerRadius===0)return null;const m=f.outerRadius+s+a,b=f.midCos*m,S=f.midSin*m+y.collisionOffsetY;c.text=y.text,c.x=b,c.y=S,c.setFont(this.properties.calloutLabel),c.setAlign({textAlign:y.collisionTextAlign??y.textAlign,textBaseline:y.textBaseline});const v=c.getBBox();if(y.box=v,Math.abs(y.collisionOffsetY)>o){y.hidden=!0;return}if(h){const D=-this.centerY,I=new Rt(h.x-r,D,h.width+2*r,h.y+h.height+r-D);if(v.collidesBBox(I)){y.hidden=!0;return}}if(t.hideWhenNecessary){const{textLength:D,hasVerticalOverflow:I,hasSurroundingSeriesOverflow:T}=this.getLabelOverflow(y.text,v,e),k=y.text.length>2&&D<2;if(I||k||T){y.hidden=!0;return}}y.hidden=!1,l.push(v)}),l.length===0?null:Rt.merge(l)}updateSectorLabelNodes(){const{radiusScale:t}=this,e=t.convert(0),{fontSize:i,fontStyle:n,fontWeight:s,fontFamily:a,positionOffset:o,positionRatio:r,color:l}=this.properties.sectorLabel,c=(h,p)=>{const{sectorLabel:f,outerRadius:y}=p;let m=!1;if(f&&y!==0){const b=e*(1-r)+y*r+o;h.fill=l,h.fontStyle=n,h.fontWeight=s,h.fontSize=i,h.fontFamily=a,h.text=f.text,h.x=p.midCos*b,h.y=p.midSin*b,h.textAlign="center",h.textBaseline="middle";const S=h.getBBox(),v=[[S.x,S.y],[S.x+S.width,S.y],[S.x+S.width,S.y+S.height],[S.x,S.y+S.height]],{startAngle:D,endAngle:I}=p,T={startAngle:D,endAngle:I,innerRadius:e,outerRadius:y};v.every(([k,E])=>UM(k,E,T))&&(m=!0)}h.visible=m};this.labelSelection.each(c),this.highlightLabelSelection.each(c)}updateInnerLabelNodes(){const t=[],e=[];this.innerLabelsSelection.each((h,p)=>{const{fontStyle:f,fontWeight:y,fontSize:m,fontFamily:b,color:S}=p;h.fontStyle=f,h.fontWeight=y,h.fontSize=m,h.fontFamily=b,h.text=p.text,h.x=0,h.y=0,h.fill=S,h.textAlign="center",h.textBaseline="alphabetic",t.push(h.getBBox()),e.push(p.spacing)});const i=h=>h===0?0:e[h],n=h=>h===e.length-1?0:e[h],s=t.reduce((h,p,f)=>h+p.height+i(f)+n(f),0),a=Math.max(...t.map(h=>h.width)),o=this.getInnerRadius(),l=Math.sqrt(Math.pow(a/2,2)+Math.pow(s/2,2))<=(o>0?o:this.getOuterRadius()),c=[];for(let h=0,p=-s/2;h<t.length;h++){const y=t[h].height+p+i(h);c.push(y),p=y+n(h)}this.innerLabelsSelection.each((h,p,f)=>{h.y=c[f],h.visible=l})}updateZerosumRings(){this.zerosumOuterRing.size=this.getOuterRadius()*2,this.zerosumInnerRing.size=this.getInnerRadius()*2}pickNodeClosestDatum(t){return pw(this,t)}getTooltipContent(t){var R;const{id:e,dataModel:i,processedData:n,properties:s}=this,{legendItemKey:a,calloutLabelKey:o,calloutLabelName:r,sectorLabelKey:l,sectorLabelName:c,angleKey:h,angleName:p,radiusKey:f,radiusName:y,tooltip:m}=s,b=this.properties.title.text;if(!i||!n)return;const{datumIndex:S}=t,v=(R=n.dataSources.get(this.id))==null?void 0:R[S],{angleRawValues:D,legendItemValues:I,calloutLabelValues:T,sectorLabelValues:k}=this.getProcessedDataValues(i,n),E=D[S],w=(I==null?void 0:I[S])??(o===h||T==null?void 0:T[S])??(l===h||k==null?void 0:k[S])??p;return m.formatTooltip({title:b,symbol:this.legendItemSymbol(S),data:[{label:w,fallbackLabel:h,value:kc(E,3)}]},{seriesId:e,datum:v,title:p,legendItemKey:a,calloutLabelKey:o,calloutLabelName:r,sectorLabelKey:l,sectorLabelName:c,angleKey:h,angleName:p,radiusKey:f,radiusName:y,...this.getSectorFormat(v,S,!1)})}legendItemSymbol(t){var n,s;const e=(s=(n=this.processedData)==null?void 0:n.dataSources.get(this.id))==null?void 0:s[t],i=this.getSectorFormat(e,t,!1);return{marker:{fill:i.fill,stroke:i.stroke,fillOpacity:this.properties.fillOpacity,strokeOpacity:this.properties.strokeOpacity,strokeWidth:this.properties.strokeWidth,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset}}}getLegendData(t){var T,k,E,w,R,O;const{visible:e,processedData:i,dataModel:n,id:s,ctx:{legendManager:a}}=this;if(!n||!i||!this.properties.isValid()||t!=="category")return[];const{angleKey:o,calloutLabelKey:r,sectorLabelKey:l,legendItemKey:c,showInLegend:h}=this.properties;if(!c&&(!r||r===o)&&(!l||l===o))return[];const{angleRawValues:p,calloutLabelValues:f,sectorLabelValues:y,legendItemValues:m}=this.getProcessedDataValues(n,i),b=((T=this.properties.title)==null?void 0:T.showInLegend)&&this.properties.title.text,S=[],v=this.properties.hideZeroValueSectorsInLegend,D=i.dataSources.get(this.id),I=(k=i.invalidData)==null?void 0:k.get(this.id);for(let L=0;L<i.input.count;L++){const F=D==null?void 0:D[L],z=p[L];if((I==null?void 0:I[L])===!0||v&&z===0)continue;const V=[];b&&V.push(b);const H=this.getLabels(F,2*Math.PI,2*Math.PI,!1,f==null?void 0:f[L],y==null?void 0:y[L],m==null?void 0:m[L]);c&&H.legendItem!==void 0?V.push(H.legendItem.text):r&&r!==o&&((E=H.calloutLabel)==null?void 0:E.text)!==void 0?V.push((w=H.calloutLabel)==null?void 0:w.text):l&&l!==o&&((R=H.sectorLabel)==null?void 0:R.text)!==void 0&&V.push((O=H.sectorLabel)==null?void 0:O.text),V.length!==0&&S.push({legendType:"category",id:s,datum:F,itemId:L,seriesId:s,enabled:e&&a.getItemEnabled({seriesId:s,itemId:L}),label:{text:V.join(" - ")},symbol:this.legendItemSymbol(L),legendItemName:c!=null?F[c]:void 0,hideInLegend:!h})}return S}setLegendState(t){const{id:e,ctx:{legendManager:i,updateService:n}}=this;t.forEach((s,a)=>i.toggleItem({enabled:s,seriesId:e,itemId:a})),i.update(),n.update(4)}animateEmptyUpdateReady(t){const{animationManager:e}=this.ctx,i=Hd(!0,this.properties.rotation,this.radiusScale,this.previousRadiusScale);Ti(this.id,"nodes",e,[this.itemSelection,this.highlightSelection,this.phantomSelection],i.nodes,(n,s)=>this.getDatumId(s.datum,s.datumIndex)),Ti(this.id,"innerCircle",e,[this.innerCircleSelection],i.innerCircle),Ie(this,"callout",e,this.calloutLabelSelection),Ie(this,"sector",e,this.labelSelection),Ie(this,"highlight",e,this.highlightLabelSelection),Ie(this,"inner",e,this.innerLabelsSelection),this.previousRadiusScale.range=this.radiusScale.range}animateWaitingUpdateReady(){var y,m,b,S;const{itemSelection:t,highlightSelection:e,phantomSelection:i,processedData:n,radiusScale:s,previousRadiusScale:a}=this,{animationManager:o}=this.ctx,r=(m=(y=n==null?void 0:n.reduced)==null?void 0:y.diff)==null?void 0:m[this.id];this.ctx.animationManager.stopByAnimationGroupId(this.id);const l=((r==null?void 0:r.moved.size)??0)===0,c=((n==null?void 0:n.defs.keys.length)??0)>0,h=((S=(b=n==null?void 0:n.reduced)==null?void 0:b.animationValidation)==null?void 0:S.uniqueKeys)??!0;(!l||!c||!h)&&this.ctx.animationManager.skipCurrentBatch();const p=!this.nodeData.some(v=>v.enabled),f=Hd(!1,this.properties.rotation,s,a);Ti(this.id,"nodes",o,[t,e,i],f.nodes,(v,D)=>this.getDatumId(D.datum,D.datumIndex),r),Ti(this.id,"innerCircle",o,[this.innerCircleSelection],f.innerCircle),Ie(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),Ie(this,"sector",this.ctx.animationManager,this.labelSelection),Ie(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),this.noVisibleData!==p&&(this.noVisibleData=p,Ie(this,"inner",this.ctx.animationManager,this.innerLabelsSelection)),this.previousRadiusScale.range=this.radiusScale.range}animateClearingUpdateEmpty(){const{itemSelection:t,highlightSelection:e,phantomSelection:i,radiusScale:n,previousRadiusScale:s}=this,{animationManager:a}=this.ctx,o=Hd(!1,this.properties.rotation,n,s);Ti(this.id,"nodes",a,[t,e,i],o.nodes,(r,l)=>this.getDatumId(l.datum,l.datumIndex)),Ti(this.id,"innerCircle",a,[this.innerCircleSelection],o.innerCircle),$u(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),$u(this,"sector",this.ctx.animationManager,this.labelSelection),$u(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),$u(this,"inner",this.ctx.animationManager,this.innerLabelsSelection),this.previousRadiusScale.range=this.radiusScale.range}getDatumId(t,e){var a,o,r;const{calloutLabelKey:i,sectorLabelKey:n,legendItemKey:s}=this.properties;return(r=(o=(a=this.processedData)==null?void 0:a.reduced)==null?void 0:o.animationValidation)!=null&&r.uniqueKeys?s?qi(t[s]):i?qi(t[i]):n?qi(t[n]):`${e}`:`${e}`}};fw.className="DonutSeries";fw.type="donut";var hht={series:{title:{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:[1.1666666666666667]},fontFamily:{$ref:"fontFamily"},color:{$ref:"subtleTextColor"},spacing:5},calloutLabel:{enabled:!0,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"},offset:3,minAngle:.001},sectorLabel:{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$ref:"backgroundColor"},positionOffset:0,positionRatio:.5},calloutLine:{length:10,strokeWidth:2},fillOpacity:1,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,rotation:0,sectorSpacing:1,shadow:{enabled:!1,color:Sh,xOffset:3,yOffset:3,blur:5},innerLabels:{fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"},spacing:2}},legend:{enabled:!0}},dht={series:{title:{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:[1.1666666666666667]},fontFamily:{$ref:"fontFamily"},color:{$ref:"subtleTextColor"},spacing:5},calloutLabel:{enabled:!0,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"},offset:3,minAngle:.001},sectorLabel:{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$ref:"backgroundColor"},positionOffset:0,positionRatio:.5},calloutLine:{length:10,strokeWidth:2},fillOpacity:1,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,rotation:0,sectorSpacing:1,shadow:{enabled:!1,color:Sh,xOffset:3,yOffset:3,blur:5}},legend:{enabled:!0}},jY=({takeColors:t,colorsCount:e})=>{const{fills:i,strokes:n}=t(e);return{fills:i,strokes:n,calloutLine:{colors:n}}},pht={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"donut",moduleFactory:t=>new fw(t),tooltipDefaults:{range:"exact"},themeTemplate:hht,paletteFactory:jY},FY=class extends qe{constructor(){super(...arguments),this.showInLegend=!1}};N([P(Gt)],FY.prototype,"showInLegend",2);var jg=class extends wn{constructor(){super(...arguments),this.offset=3,this.minAngle=0,this.minSpacing=4,this.maxCollisionOffset=50,this.avoidCollisions=!0}};N([P(Ct)],jg.prototype,"offset",2);N([P(fe.restrict({min:0,max:360}))],jg.prototype,"minAngle",2);N([P(Ct)],jg.prototype,"minSpacing",2);N([P(Ct)],jg.prototype,"maxCollisionOffset",2);N([P(Gt)],jg.prototype,"avoidCollisions",2);var gw=class extends wn{constructor(){super(...arguments),this.positionOffset=0,this.positionRatio=.5}};N([P(fe)],gw.prototype,"positionOffset",2);N([P(Re)],gw.prototype,"positionRatio",2);var xD=class extends Qt{constructor(){super(...arguments),this.length=10,this.strokeWidth=1}};N([P(Ya,{optional:!0})],xD.prototype,"colors",2);N([P(Ct)],xD.prototype,"length",2);N([P(Ct)],xD.prototype,"strokeWidth",2);var Le=class extends Xa{constructor(){super(...arguments),this.fills=Object.values($i),this.strokes=Object.values(Qr),this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.rotation=0,this.outerRadiusOffset=0,this.outerRadiusRatio=1,this.strokeWidth=1,this.sectorSpacing=0,this.hideZeroValueSectorsInLegend=!1,this.title=new FY,this.shadow=new Cr,this.calloutLabel=new jg,this.sectorLabel=new gw,this.calloutLine=new xD,this.tooltip=new Rs}};N([P(Dt)],Le.prototype,"angleKey",2);N([P(Dt,{optional:!0})],Le.prototype,"angleName",2);N([P(Dt,{optional:!0})],Le.prototype,"angleFilterKey",2);N([P(Dt,{optional:!0})],Le.prototype,"radiusKey",2);N([P(Dt,{optional:!0})],Le.prototype,"radiusName",2);N([P(Ct,{optional:!0})],Le.prototype,"radiusMin",2);N([P(Ct,{optional:!0})],Le.prototype,"radiusMax",2);N([P(Dt,{optional:!0})],Le.prototype,"calloutLabelKey",2);N([P(Dt,{optional:!0})],Le.prototype,"calloutLabelName",2);N([P(Dt,{optional:!0})],Le.prototype,"sectorLabelKey",2);N([P(Dt,{optional:!0})],Le.prototype,"sectorLabelName",2);N([P(Dt,{optional:!0})],Le.prototype,"legendItemKey",2);N([P(Ya)],Le.prototype,"fills",2);N([P(Ya)],Le.prototype,"strokes",2);N([P(Re)],Le.prototype,"fillOpacity",2);N([P(Re)],Le.prototype,"strokeOpacity",2);N([P(bl)],Le.prototype,"lineDash",2);N([P(Ct)],Le.prototype,"lineDashOffset",2);N([P(Ct)],Le.prototype,"cornerRadius",2);N([P(ea,{optional:!0})],Le.prototype,"itemStyler",2);N([P(fe)],Le.prototype,"rotation",2);N([P(fe)],Le.prototype,"outerRadiusOffset",2);N([P(Re)],Le.prototype,"outerRadiusRatio",2);N([P(Ct)],Le.prototype,"strokeWidth",2);N([P(fe)],Le.prototype,"sectorSpacing",2);N([P(Gt)],Le.prototype,"hideZeroValueSectorsInLegend",2);N([P(Lt)],Le.prototype,"title",2);N([P(Lt)],Le.prototype,"shadow",2);N([P(Lt)],Le.prototype,"calloutLabel",2);N([P(Lt)],Le.prototype,"sectorLabel",2);N([P(Lt)],Le.prototype,"calloutLine",2);N([P(Lt)],Le.prototype,"tooltip",2);var fht=class extends Mb{constructor(t,e,i,n){super(t,e,i,n),this.angleKey=n.properties.angleKey,this.radiusKey=n.properties.radiusKey,this.calloutLabelKey=n.properties.calloutLabelKey,this.sectorLabelKey=n.properties.sectorLabelKey}},yw=class extends mD{constructor(t){super({moduleCtx:t,pickModes:[1,0],useLabelLayer:!0,animationResetFns:{item:dw,label:Uc}}),this.properties=new Le,this.phantomNodeData=void 0,this.backgroundGroup=new ta({name:`${this.id}-background`,zIndex:0}),this.previousRadiusScale=new mr,this.radiusScale=new mr,this.phantomGroup=this.backgroundGroup.appendChild(new Kt({name:"phantom"})),this.phantomSelection=Xi.select(this.phantomGroup,()=>this.nodeFactory(),!1),this.calloutLabelGroup=this.contentGroup.appendChild(new Kt({name:"pieCalloutLabels"})),this.calloutLabelSelection=new Xi(this.calloutLabelGroup,Kt),this.zerosumRingsGroup=this.backgroundGroup.appendChild(new Kt({name:`${this.id}-zerosumRings`})),this.zerosumOuterRing=this.zerosumRingsGroup.appendChild(new En({shape:"circle"})),this.surroundingRadius=void 0,this.NodeEvent=fht,this.angleScale=new mr,this.angleScale.domain=[0,1],this.angleScale.range=[-Math.PI,Math.PI].map(e=>e+Math.PI/2),this.phantomGroup.opacity=.2}get calloutNodeData(){return this.phantomNodeData??this.nodeData}attachSeries(t,e,i){super.attachSeries(t,e,i),t.appendChild(this.backgroundGroup)}detachSeries(t,e,i){super.detachSeries(t,e,i),t==null||t.removeChild(this.backgroundGroup)}setSeriesIndex(t){return super.setSeriesIndex(t)?(this.backgroundGroup.zIndex=[0,t],!0):!1}nodeFactory(){const t=new $n;return t.miterLimit=1e9,t}getSeriesDomain(t){return t==="x"?this.angleScale.domain:this.radiusScale.domain}async processData(t){var S,v,D,I,T;if(this.data==null||!this.properties.isValid())return;const{visible:e,id:i,ctx:{legendManager:n}}=this,{angleKey:s,angleFilterKey:a,radiusKey:o,calloutLabelKey:r,sectorLabelKey:l,legendItemKey:c}=this.properties,h=(k,E,w)=>e&&n.getItemEnabled({seriesId:i,itemId:w}),p=!this.ctx.animationManager.isSkipped(),f=[],y=[];c?f.push(xr(c,"band",{id:"legendItemKey"})):r?f.push(xr(r,"band",{id:"calloutLabelKey"})):l&&f.push(xr(l,"band",{id:"sectorLabelKey"}));const m=this.radiusScale.type,b=this.angleScale.type;o&&y.push(LE(o,{id:"radiusValue",min:this.properties.radiusMin??0,max:this.properties.radiusMax}),se(o,m,{id:"radiusRaw"}),Ud("radiusValue",[0,1],1,this.properties.radiusMin??0,this.properties.radiusMax)),r&&y.push(se(r,"band",{id:"calloutLabelValue"})),l&&y.push(se(l,"band",{id:"sectorLabelValue"})),c&&y.push(se(c,"band",{id:"legendItemValue"})),a&&y.push(Nx(a,b,{id:"angleFilterValue",onlyPositive:!0,validation:h,invalidValue:0}),se(a,b,{id:"angleFilterRaw"}),Ud("angleFilterValue",[0,1],0,0)),p&&((D=(v=(S=this.processedData)==null?void 0:S.reduced)==null?void 0:v.animationValidation)!=null&&D.uniqueKeys)&&f.length>0&&y.push(Eg(this.id,this.processedData)),y.push(Ng()),await this.requestDataModel(t,this.data,{props:[...f,Nx(s,b,{id:"angleValue",onlyPositive:!0,validation:h,invalidValue:0}),se(s,b,{id:"angleRaw"}),Ud("angleValue",[0,1],0,0),...y]});for(const k of((T=(I=this.processedData)==null?void 0:I.defs)==null?void 0:T.values)??[]){const{id:E,missing:w,property:R}=k,O=yE(this,w);E!=="angleRaw"&&O>0&&It.warnOnce(`no value was found for the key '${String(R)}' on ${O} data element${O>1?"s":""}`)}this.animationState.transition("updateData")}maybeRefreshNodeData(){if(!this.nodeDataRefresh)return;const{nodeData:t=[],phantomNodeData:e}=this.createNodeData()??{};this.nodeData=t,this.phantomNodeData=e,this.nodeDataRefresh=!1}getProcessedDataValues(t,e){const i=t.resolveColumnById(this,"angleValue",e),n=t.resolveColumnById(this,"angleRaw",e),s=this.properties.angleFilterKey!=null?t.resolveColumnById(this,"angleFilterValue",e):void 0,a=this.properties.angleFilterKey!=null?t.resolveColumnById(this,"angleFilterRaw",e):void 0,o=this.properties.radiusKey?t.resolveColumnById(this,"radiusValue",e):void 0,r=this.properties.radiusKey?t.resolveColumnById(this,"radiusRaw",e):void 0,l=this.properties.calloutLabelKey?t.resolveColumnById(this,"calloutLabelValue",e):void 0,c=this.properties.sectorLabelKey?t.resolveColumnById(this,"sectorLabelValue",e):void 0,h=this.properties.legendItemKey?t.resolveColumnById(this,"legendItemValue",e):void 0;return{angleValues:i,angleRawValues:n,angleFilterValues:s,angleFilterRawValues:a,radiusValues:o,radiusRawValues:r,calloutLabelValues:l,sectorLabelValues:c,legendItemValues:h}}createNodeData(){var w;const{id:t,processedData:e,dataModel:i,angleScale:n,ctx:{legendManager:s},visible:a}=this,{rotation:o}=this.properties;if(!i||(e==null?void 0:e.type)!=="ungrouped")return;const{angleValues:r,angleRawValues:l,angleFilterValues:c,angleFilterRawValues:h,radiusValues:p,radiusRawValues:f,calloutLabelValues:y,sectorLabelValues:m,legendItemValues:b}=this.getProcessedDataValues(i,e),S=(h==null?void 0:h.some((R,O)=>R>l[O]))??!1;let v=0,D=0;const I=[],T=h!=null?[]:void 0,k=e.dataSources.get(this.id)??[],E=(w=e.invalidData)==null?void 0:w.get(this.id);return k.forEach((R,O)=>{if((E==null?void 0:E[O])===!0)return;const L=S?c[O]:r[O],F=h!=null&&!S?Math.sqrt(h[O]/l[O]):1,z=n.convert(v)+bn(o);v=L,D+=L;const V=n.convert(v)+bn(o),H=Math.abs(V-z),W=z+H/2,G=l[O],K=((p==null?void 0:p[O])??1)*F,X=f==null?void 0:f[O],j=b==null?void 0:b[O],U=this.getLabels(R,W,H,!0,y==null?void 0:y[O],m==null?void 0:m[O],j),Z=this.getSectorFormat(R,O,!1),tt={itemId:O,series:this,datum:R,datumIndex:O,angleValue:G,midAngle:W,midCos:Math.cos(W),midSin:Math.sin(W),startAngle:z,endAngle:V,radius:K,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(K),0),sectorFormat:Z,radiusValue:X,legendItemValue:j,enabled:a&&s.getItemEnabled({seriesId:t,itemId:O}),...U};I.push(tt),T!=null&&T.push({...tt,radius:1,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(1),0)})}),this.zerosumOuterRing.visible=D===0,{itemId:t,nodeData:I,labelData:I,phantomNodeData:T}}getLabels(t,e,i,n,s,a,o){const{calloutLabel:r,sectorLabel:l,legendItemKey:c}=this.properties,h=!n||r.enabled?this.properties.calloutLabelKey:void 0,p=!n||l.enabled?this.properties.sectorLabelKey:void 0;if(!h&&!p&&!c)return{};const f={datum:t,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey},y={};return h&&i>=bn(r.minAngle)&&(y.calloutLabel={...this.getTextAlignment(e),text:this.getLabelText(r,{...f,value:s}),hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0}),p&&(y.sectorLabel={text:this.getLabelText(l,{...f,value:a})}),c!=null&&o!=null&&(y.legendItem={key:c,text:o}),y}getTextAlignment(t){const e=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],i=Ix(t),n=-.75*Math.PI,s=i-n,a=Math.floor(s/(Math.PI/2)),o=TN(a,e.length);return e[o]}getSectorFormat(t,e,i){const{angleKey:n,radiusKey:s,calloutLabelKey:a,sectorLabelKey:o,legendItemKey:r,fills:l,strokes:c,itemStyler:h}=this.properties,p=c[e%c.length],{fill:f,fillOpacity:y,stroke:m,strokeWidth:b,strokeOpacity:S,lineDash:v,lineDashOffset:D,cornerRadius:I}=ne(i&&this.properties.highlightStyle.item,{fill:l.length>0?l[e%l.length]:void 0,stroke:p,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.getOpacity()},this.properties);let T;return h&&(T=this.cachedDatumCallback(this.getDatumId(t,e)+(i?"-highlight":"-hide"),()=>h({datum:t,angleKey:n,radiusKey:s,calloutLabelKey:a,sectorLabelKey:o,legendItemKey:r,fill:f,strokeOpacity:S,stroke:m,strokeWidth:b,fillOpacity:y,lineDash:v,lineDashOffset:D,cornerRadius:I,highlighted:i,seriesId:this.id}))),{fill:(T==null?void 0:T.fill)??f,fillOpacity:(T==null?void 0:T.fillOpacity)??y,stroke:(T==null?void 0:T.stroke)??m,strokeWidth:(T==null?void 0:T.strokeWidth)??b,strokeOpacity:(T==null?void 0:T.strokeOpacity)??S,lineDash:(T==null?void 0:T.lineDash)??v,lineDashOffset:(T==null?void 0:T.lineDashOffset)??D,cornerRadius:(T==null?void 0:T.cornerRadius)??I}}getOuterRadius(){return Math.max(this.radius*this.properties.outerRadiusRatio+this.properties.outerRadiusOffset,0)}updateRadiusScale(t){var n;const e=[0,this.getOuterRadius()];this.radiusScale.range=e,t&&(this.previousRadiusScale.range=e);const i=s=>({...s,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(s.radius),0)});this.nodeData=this.nodeData.map(i),this.phantomNodeData=(n=this.phantomNodeData)==null?void 0:n.map(i)}getTitleTranslationY(){var s;const t=Math.max(0,this.radiusScale.range[1]);if(t===0)return NaN;const i=2+(((s=this.properties.title)==null?void 0:s.spacing)??0),n=Math.max(0,-t);return-t-i-n}update({seriesRect:t}){const{title:e}=this.properties,i={seriesRectWidth:t==null?void 0:t.width,seriesRectHeight:t==null?void 0:t.height},n=Lc(this.nodeDataDependencies,i)!=null;if(n&&(this._nodeDataDependencies=i),this.maybeRefreshNodeData(),this.updateTitleNodes(),this.updateRadiusScale(n),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.backgroundGroup.translationX=this.centerX,this.backgroundGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),e){const s=this.getTitleTranslationY();e.node.y=isFinite(s)?s:0;const a=e.node.getBBox();e.node.visible=e.enabled&&isFinite(s)&&!this.bboxIntersectsSurroundingSeries(a)}this.zerosumOuterRing.fillOpacity=0,this.zerosumOuterRing.stroke=this.properties.calloutLabel.color,this.zerosumOuterRing.strokeWidth=1,this.zerosumOuterRing.strokeOpacity=1,this.updateNodeMidPoint(),this.updateSelections(),this.updateNodes(t)}updateTitleNodes(){var i,n;const{oldTitle:t}=this,{title:e}=this.properties;t!==e&&(t&&((i=this.labelGroup)==null||i.removeChild(t.node)),e&&(e.node.textBaseline="bottom",(n=this.labelGroup)==null||n.appendChild(e.node)),this.oldTitle=e)}updateNodeMidPoint(){var e;const t=i=>{const n=i.innerRadius+(i.outerRadius-i.innerRadius)/2;i.midPoint={x:i.midCos*Math.max(0,n),y:i.midSin*Math.max(0,n)}};this.nodeData.forEach(t),(e=this.phantomNodeData)==null||e.forEach(t)}updateSelections(){const{itemSelection:t,highlightSelection:e,phantomSelection:i,highlightLabelSelection:n,calloutLabelSelection:s,labelSelection:a}=this,o=this.nodeData.map(l=>({...l,sectorFormat:{...l.sectorFormat}})),r=(l,c)=>{l.update(c,void 0,h=>this.getDatumId(h.datum,h.datumIndex)),this.ctx.animationManager.isSkipped()&&l.cleanup()};r(t,this.nodeData),r(e,o),r(i,this.phantomNodeData??[]),s.update(this.calloutNodeData,l=>{const c=new Ka;c.tag=0,c.pointerEvents=1,l.appendChild(c);const h=new Nn;h.tag=1,h.pointerEvents=1,l.appendChild(h)}),a.update(this.nodeData),n.update(o)}updateNodes(t){const e=this.ctx.highlightManager.getActiveHighlight(),{visible:i}=this;this.backgroundGroup.visible=i,this.contentGroup.visible=i,this.highlightGroup.visible=i&&(e==null?void 0:e.series)===this,this.highlightLabel.visible=i&&(e==null?void 0:e.series)===this,this.labelGroup&&(this.labelGroup.visible=i),this.contentGroup.opacity=this.getOpacity();const n=this.ctx.animationManager.isSkipped(),s=(a,o,r,l)=>{const c=this.getSectorFormat(o.datum,o.itemId,l);o.sectorFormat.fill=c.fill,o.sectorFormat.stroke=c.stroke,n&&(a.startAngle=o.startAngle,a.endAngle=o.endAngle,a.innerRadius=o.innerRadius,a.outerRadius=o.outerRadius),(l||n)&&(a.fill=c.fill,a.stroke=c.stroke),a.strokeWidth=c.strokeWidth,a.fillOpacity=c.fillOpacity,a.strokeOpacity=c.strokeOpacity,a.lineDash=c.lineDash,a.lineDashOffset=c.lineDashOffset,a.cornerRadius=c.cornerRadius,a.fillShadow=this.properties.shadow;const h=Math.max((this.properties.sectorSpacing+(c.stroke!=null?c.strokeWidth:0))/2,0);a.inset=h,a.lineJoin=this.properties.sectorSpacing>=0||h>0?"miter":"round"};this.itemSelection.each((a,o,r)=>s(a,o,r,!1)),this.highlightSelection.each((a,o,r)=>{s(a,o,r,!0),a.visible=o.itemId===(e==null?void 0:e.itemId)}),this.phantomSelection.each((a,o,r)=>s(a,o,r,!1)),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(t),this.updateSectorLabelNodes(),this.updateZerosumRings(),this.animationState.transition("update")}updateCalloutLineNodes(){const{calloutLine:t}=this.properties,e=t.length,i=t.strokeWidth,n=t.colors??this.properties.strokes,{offset:s}=this.properties.calloutLabel;this.calloutLabelSelection.selectByTag(0).forEach((a,o)=>{const r=a.datum,{calloutLabel:l,outerRadius:c}=r;if(l!=null&&l.text&&!l.hidden&&c!==0){a.visible=!0,a.strokeWidth=i,a.stroke=n[o%n.length],a.fill=void 0;const h=r.midCos*c,p=r.midSin*c;let f=r.midCos*(c+e),y=r.midSin*(c+e);if((l.collisionTextAlign??l.collisionOffsetY!==0)&&l.box!=null){const b=l.box;let S=f,v=y;f<b.x?S=b.x:f>b.x+b.width&&(S=b.x+b.width),y<b.y?v=b.y:y>b.y+b.height&&(v=b.y+b.height);const D=S-f,I=v-y,T=Math.sqrt(Math.pow(D,2)+Math.pow(I,2)),k=T-s;k>0&&(f=f+D*k/T,y=y+I*k/T)}a.x1=h,a.y1=p,a.x2=f,a.y2=y}else a.visible=!1})}getLabelOverflow(t,e,i){const n=-this.centerX,s=n+i.width,a=-this.centerY,o=a+i.height,r=1;let l=1;e.x+r<n?l=(e.x+e.width-n)/e.width:e.x+e.width-r>s&&(l=(s-e.x)/e.width);const c=e.y+r<a||e.y+e.height-r>o,h=l===1?t.length:Math.floor(t.length*l)-1,p=this.bboxIntersectsSurroundingSeries(e);return{textLength:h,hasVerticalOverflow:c,hasSurroundingSeriesOverflow:p}}bboxIntersectsSurroundingSeries(t){const{surroundingRadius:e}=this;if(e==null)return!1;const i=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}],n=e**2;return i.some(s=>s.x**2+s.y**2>n)}computeCalloutLabelCollisionOffsets(){const{radiusScale:t}=this,{calloutLabel:e,calloutLine:i}=this.properties,{offset:n,minSpacing:s}=e,a=t.convert(0),o=v=>!v.calloutLabel||v.outerRadius===0,r=this.calloutNodeData,l=r.filter(v=>!o(v));if(l.forEach(v=>{const D=v.calloutLabel;D!=null&&(D.hidden=!1,D.collisionTextAlign=void 0,D.collisionOffsetY=0)}),l.length<=1)return;const c=l.filter(v=>v.midCos<0).sort((v,D)=>v.midSin-D.midSin),h=l.filter(v=>v.midCos>=0).sort((v,D)=>v.midSin-D.midSin),p=l.filter(v=>{var D;return v.midSin<0&&((D=v.calloutLabel)==null?void 0:D.textAlign)==="center"}).sort((v,D)=>v.midCos-D.midCos),f=l.filter(v=>{var D;return v.midSin>=0&&((D=v.calloutLabel)==null?void 0:D.textAlign)==="center"}).sort((v,D)=>v.midCos-D.midCos),y=v=>{const D=v.calloutLabel;if(D==null)return Rt.zero.clone();const I=v.outerRadius+i.length+n,T=v.midCos*I,k=v.midSin*I+D.collisionOffsetY,E=D.collisionTextAlign??D.textAlign,w=D.textBaseline;return Nn.computeBBox(D.text,T,k,{font:this.properties.calloutLabel,textAlign:E,textBaseline:w})},m=(v,D,I)=>{const T=y(v).grow(s/2),k=y(D).grow(s/2);T.x<k.x+k.width&&T.x+T.width>k.x&&(I==="to-top"?T.y<k.y+k.height:T.y+T.height>k.y)&&(D.calloutLabel.collisionOffsetY=I==="to-top"?T.y-k.y-k.height:T.y+T.height-k.y)},b=v=>{const D=v.slice().sort((T,k)=>Math.abs(T.midSin)-Math.abs(k.midSin))[0],I=v.indexOf(D);for(let T=I-1;T>=0;T--){const k=v[T+1],E=v[T];m(k,E,"to-top")}for(let T=I+1;T<v.length;T++){const k=v[T-1],E=v[T];m(k,E,"to-bottom")}},S=v=>{const D=l.some(R=>R.calloutLabel.collisionOffsetY!==0),I=v.map(R=>y(R)),T=I.map(R=>R.clone().grow(s/2));let k=!1;for(let R=0;R<T.length&&!k;R++){const O=T[R];for(let L=R+1;L<v.length;L++){const F=T[L];if(O.collidesBBox(F)){k=!0;break}}}const E=r.map(R=>{const{startAngle:O,endAngle:L,outerRadius:F}=R;return{startAngle:O,endAngle:L,innerRadius:a,outerRadius:F}}),w=I.some(R=>E.some(O=>BY(R,O)));!k&&!D&&!w||v.filter(R=>R.calloutLabel.textAlign==="center").forEach(R=>{const O=R.calloutLabel;R.midCos<0?O.collisionTextAlign="right":R.midCos>0?O.collisionTextAlign="left":O.collisionTextAlign="center"})};b(c),b(h),S(p),S(f)}updateCalloutLabelNodes(t){const{radiusScale:e}=this,{calloutLabel:i,calloutLine:n}=this.properties,s=n.length,{offset:a,color:o}=i,r=new Nn;this.calloutLabelSelection.selectByTag(1).forEach(l=>{const{datum:c}=l,h=c.calloutLabel,p=e.convert(c.radius),f=Math.max(0,p);if(!(h!=null&&h.text)||f===0||h.hidden){l.visible=!1;return}const y=f+s+a,m=c.midCos*y,b=c.midSin*y+h.collisionOffsetY,S={textAlign:h.collisionTextAlign??h.textAlign,textBaseline:h.textBaseline};r.text=h.text,r.x=m,r.y=b,r.setFont(this.properties.calloutLabel),r.setAlign(S);const v=r.getBBox();let D=h.text,I=!0;if(i.avoidCollisions){const{textLength:T,hasVerticalOverflow:k}=this.getLabelOverflow(h.text,v,t);D=h.text.length===T?h.text:`${h.text.substring(0,T)}`,I=!k}l.text=D,l.x=m,l.y=b,l.setFont(this.properties.calloutLabel),l.setAlign(S),l.fill=o,l.visible=I})}computeLabelsBBox(t,e){const{calloutLabel:i,calloutLine:n}=this.properties,s=n.length,{offset:a,maxCollisionOffset:o,minSpacing:r}=i;if(!i.avoidCollisions)return null;this.maybeRefreshNodeData(),this.updateRadiusScale(!1),this.computeCalloutLabelCollisionOffsets();const l=[],c=new Nn;let h;const{title:p}=this.properties;if(p!=null&&p.text&&p.enabled){const f=this.getTitleTranslationY();isFinite(f)&&(c.text=p.text,c.x=0,c.y=f,c.setFont(p),c.setAlign({textBaseline:"bottom",textAlign:"center"}),h=c.getBBox(),l.push(h))}return this.calloutNodeData.forEach(f=>{const y=f.calloutLabel;if(!y||f.outerRadius===0)return null;const m=f.outerRadius+s+a,b=f.midCos*m,S=f.midSin*m+y.collisionOffsetY;c.text=y.text,c.x=b,c.y=S,c.setFont(this.properties.calloutLabel),c.setAlign({textAlign:y.collisionTextAlign??y.textAlign,textBaseline:y.textBaseline});const v=c.getBBox();if(y.box=v,Math.abs(y.collisionOffsetY)>o){y.hidden=!0;return}if(h){const D=-this.centerY,I=new Rt(h.x-r,D,h.width+2*r,h.y+h.height+r-D);if(v.collidesBBox(I)){y.hidden=!0;return}}if(t.hideWhenNecessary){const{textLength:D,hasVerticalOverflow:I,hasSurroundingSeriesOverflow:T}=this.getLabelOverflow(y.text,v,e),k=y.text.length>2&&D<2;if(I||k||T){y.hidden=!0;return}}y.hidden=!1,l.push(v)}),l.length===0?null:Rt.merge(l)}updateSectorLabelNodes(){var f;const{radiusScale:t}=this,e=t.convert(0),{fontSize:i,fontStyle:n,fontWeight:s,fontFamily:a,positionOffset:o,positionRatio:r,color:l}=this.properties.sectorLabel,c=e>0,h=((f=this.ctx.legendManager.getData(this.id))==null?void 0:f.filter(y=>y.enabled).length)===1,p=(y,m)=>{const{sectorLabel:b,outerRadius:S,startAngle:v,endAngle:D}=m;let I=!1;if(b&&S!==0){const T=e*(1-r)+S*r+o;y.fill=l,y.fontStyle=n,y.fontWeight=s,y.fontSize=i,y.fontFamily=a,y.text=b.text,!c&&h?(y.x=0,y.y=0):(y.x=m.midCos*T,y.y=m.midSin*T),y.textAlign="center",y.textBaseline="middle";const E=y.getBBox(),w=[[E.x,E.y],[E.x+E.width,E.y],[E.x+E.width,E.y+E.height],[E.x,E.y+E.height]],R={startAngle:v,endAngle:D,innerRadius:e,outerRadius:S};w.every(([O,L])=>UM(O,L,R))&&(I=!0)}y.visible=I};this.labelSelection.each(p),this.highlightLabelSelection.each(p)}updateZerosumRings(){this.zerosumOuterRing.size=this.getOuterRadius()*2}pickNodeClosestDatum(t){return pw(this,t)}getTooltipContent(t){var R;const{id:e,dataModel:i,processedData:n,properties:s}=this,{legendItemKey:a,calloutLabelKey:o,calloutLabelName:r,sectorLabelKey:l,sectorLabelName:c,angleKey:h,angleName:p,radiusKey:f,radiusName:y,tooltip:m}=s,b=this.properties.title.text;if(!i||!n)return;const{datumIndex:S}=t,v=(R=n.dataSources.get(this.id))==null?void 0:R[S],{angleRawValues:D,legendItemValues:I,calloutLabelValues:T,sectorLabelValues:k}=this.getProcessedDataValues(i,n),E=D[S],w=(I==null?void 0:I[S])??(o===h||T==null?void 0:T[S])??(l===h||k==null?void 0:k[S])??p;return m.formatTooltip({title:b,symbol:this.legendItemSymbol(S),data:[{label:w,fallbackLabel:h,value:kc(E,3)}]},{seriesId:e,datum:v,title:p,legendItemKey:a,calloutLabelKey:o,calloutLabelName:r,sectorLabelKey:l,sectorLabelName:c,angleKey:h,angleName:p,radiusKey:f,radiusName:y,...this.getSectorFormat(v,S,!1)})}legendItemSymbol(t){var n,s;const e=(s=(n=this.processedData)==null?void 0:n.dataSources.get(this.id))==null?void 0:s[t],i=this.getSectorFormat(e,t,!1);return{marker:{fill:i.fill,stroke:i.stroke,fillOpacity:this.properties.fillOpacity,strokeOpacity:this.properties.strokeOpacity,strokeWidth:this.properties.strokeWidth,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset}}}getLegendData(t){var T,k,E,w,R,O;const{id:e,visible:i,processedData:n,dataModel:s,ctx:{legendManager:a}}=this;if(!s||!n||t!=="category")return[];const{angleKey:o,calloutLabelKey:r,sectorLabelKey:l,legendItemKey:c,showInLegend:h}=this.properties;if(!c&&(!r||r===o)&&(!l||l===o))return[];const{calloutLabelValues:p,sectorLabelValues:f,legendItemValues:y,angleRawValues:m}=this.getProcessedDataValues(s,n),b=((T=this.properties.title)==null?void 0:T.showInLegend)&&this.properties.title.text,S=[],v=this.properties.hideZeroValueSectorsInLegend,D=n.dataSources.get(this.id),I=(k=n.invalidData)==null?void 0:k.get(this.id);for(let L=0;L<n.input.count;L++){const F=D==null?void 0:D[L],z=m[L];if((I==null?void 0:I[L])===!0||v&&z===0)continue;const V=[];b&&V.push(b);const H=this.getLabels(F,2*Math.PI,2*Math.PI,!1,p==null?void 0:p[L],f==null?void 0:f[L],y==null?void 0:y[L]);c&&H.legendItem!==void 0?V.push(H.legendItem.text):r&&r!==o&&((E=H.calloutLabel)==null?void 0:E.text)!==void 0?V.push((w=H.calloutLabel)==null?void 0:w.text):l&&l!==o&&((R=H.sectorLabel)==null?void 0:R.text)!==void 0&&V.push((O=H.sectorLabel)==null?void 0:O.text),V.length!==0&&S.push({legendType:"category",id:e,datum:F,itemId:L,seriesId:e,enabled:i&&a.getItemEnabled({seriesId:e,itemId:L}),label:{text:V.join(" - ")},symbol:this.legendItemSymbol(L),legendItemName:c!=null?F[c]:void 0,hideInLegend:!h})}return S}setLegendState(t){const{id:e,ctx:{legendManager:i,updateService:n}}=this;t.forEach((s,a)=>i.toggleItem({enabled:s,seriesId:e,itemId:a})),i.update(),n.update(4)}animateEmptyUpdateReady(t){const{animationManager:e}=this.ctx,i=Hd(!0,this.properties.rotation,this.radiusScale,this.previousRadiusScale);Ti(this.id,"nodes",e,[this.itemSelection,this.highlightSelection,this.phantomSelection],i.nodes,(n,s)=>this.getDatumId(s.datum,s.datumIndex)),Ie(this,"callout",e,this.calloutLabelSelection),Ie(this,"sector",e,this.labelSelection),Ie(this,"highlight",e,this.highlightLabelSelection),this.previousRadiusScale.range=this.radiusScale.range}animateWaitingUpdateReady(){var f,y,m,b;const{itemSelection:t,highlightSelection:e,phantomSelection:i,processedData:n,radiusScale:s,previousRadiusScale:a}=this,{animationManager:o}=this.ctx,r=(y=(f=n==null?void 0:n.reduced)==null?void 0:f.diff)==null?void 0:y[this.id];this.ctx.animationManager.stopByAnimationGroupId(this.id);const l=((r==null?void 0:r.moved.size)??0)===0,c=((n==null?void 0:n.defs.keys.length)??0)>0,h=((b=(m=n==null?void 0:n.reduced)==null?void 0:m.animationValidation)==null?void 0:b.uniqueKeys)??!0;(!l||!c||!h)&&this.ctx.animationManager.skipCurrentBatch();const p=Hd(!1,this.properties.rotation,s,a);Ti(this.id,"nodes",o,[t,e,i],p.nodes,(S,v)=>this.getDatumId(v.datum,v.datumIndex),r),Ie(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),Ie(this,"sector",this.ctx.animationManager,this.labelSelection),Ie(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),this.previousRadiusScale.range=this.radiusScale.range}animateClearingUpdateEmpty(){const{itemSelection:t,highlightSelection:e,phantomSelection:i,radiusScale:n,previousRadiusScale:s}=this,{animationManager:a}=this.ctx,o=Hd(!1,this.properties.rotation,n,s);Ti(this.id,"nodes",a,[t,e,i],o.nodes,(r,l)=>this.getDatumId(l.datum,l.datumIndex)),$u(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),$u(this,"sector",this.ctx.animationManager,this.labelSelection),$u(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),this.previousRadiusScale.range=this.radiusScale.range}getDatumId(t,e){var a,o,r;const{calloutLabelKey:i,sectorLabelKey:n,legendItemKey:s}=this.properties;return(r=(o=(a=this.processedData)==null?void 0:a.reduced)==null?void 0:o.animationValidation)!=null&&r.uniqueKeys?s?qi(t[s]):i?qi(t[i]):n?qi(t[n]):`${e}`:`${e}`}};yw.className="PieSeries";yw.type="pie";var ght={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"pie",moduleFactory:t=>new yw(t),tooltipDefaults:{range:"exact"},themeTemplate:dht,paletteFactory:jY};function yht(){ul.register(tY,Nut,tut,Xut,NY,aht,wY,lht,pht,ght,oht);for(const t of[mh,Tg,sp,wg,rp])Sc.register(t.type,{moduleFactory:e=>new t(e)})}function mht(){for(const t of ul.modules){if(t.packageType==="enterprise"&&!Ylt(t)&&It.errorOnce("Unexpected enterprise module registered: "+t.identifier),t.type==="root"&&t.themeTemplate)for(const e of t.chartTypes)bL.set(e,t.themeTemplate);if(t.type==="series"){if(t.chartTypes.length>1)throw new Error(`AG Charts - Module definition error: ${t.identifier}`);fa.register(t.identifier,t)}if(t.type==="series-option"&&t.themeTemplate)for(const e of t.seriesTypes)fa.setThemeTemplate(e,t.themeTemplate);if(t.type==="axis-option"&&t.themeTemplate)for(const e of t.axisTypes){const i=Sc.getThemeTemplate(e),n=ne(t.themeTemplate,i);Sc.setThemeTemplate(e,n)}t.type==="axis"&&Sc.register(t.identifier,t),t.type==="legend"&&mE.register(t.identifier,t)}if(ul.hasEnterpriseModules()){const t=$lt();t.length>0&&It.errorOnce("Enterprise modules expected but not registered: ",t)}}var yg=class extends eE{constructor(){super(...arguments),this.shape="polygon",this.innerRadiusRatio=0,this.defaultTickMinSpacing=20}updatePosition(){super.updatePosition();const e=kM(this),i=JN(e);this.axisGroup.setProperties(this.getAxisTransform()),this.gridLineGroupSelection.each(i),this.tickLineGroupSelection.each(i),this.tickLabelGroupSelection.each(tE())}computeLabelsBBox(e,i){return null}computeRange(){}getAxisLinePoints(){}};N([P(Je(["polygon","circle"],"a polar axis shape"))],yg.prototype,"shape",2);N([P(Re)],yg.prototype,"innerRadiusRatio",2);var mw=class extends qA{constructor(t,e){super(t,e),this.padding=new gh(40),this.ctx.axisManager.axisGroup.zIndex=6}getChartType(){return"polar"}async performLayout(t){const{layoutBox:e}=t;e.shrink(this.seriesArea.padding.toJson());const i=e.clone();this.seriesRect=i,this.animationRect=i,this.seriesRoot.translationX=i.x,this.seriesRoot.translationY=i.y,await this.computeCircle(i),this.axes.forEach(n=>n.update()),this.ctx.layoutManager.emitLayoutComplete(t,{series:{visible:!0,rect:i,paddedRect:i}})}updateAxes(t,e,i,n){var l;const s=this.axes.find(c=>c.direction==="x"),a=this.axes.find(c=>c.direction==="y");if(!(s instanceof yg)||!(a instanceof yg))return;const o=s.scale,r=a.innerRadiusRatio;s.innerRadiusRatio=r,s.computeRange(),s.gridLength=n,a.gridAngles=(l=o.ticks({nice:s.nice,interval:void 0,tickCount:void 0,minTickCount:0,maxTickCount:1/0}))==null?void 0:l.map(c=>o.convert(c)),a.gridRange=s.range,a.range=[n,n*r],[s,a].forEach(c=>{c.translation.x=t.x+e,c.translation.y=t.y+i,c.calculateLayout()})}async computeCircle(t){const e=this.series.filter(xht),i=this.axes.filter(bht),n=(c,h,p)=>{this.updateAxes(t,c,h,p),e.forEach(y=>{y.centerX=c,y.centerY=h,y.radius=p});const f=e.filter(y=>y.type==="donut"||y.type==="pie");if(f.length>1){const y=f.map(m=>{const b=m.getInnerRadius();return{series:m,innerRadius:b}}).sort((m,b)=>m.innerRadius-b.innerRadius);y.at(-1).series.surroundingRadius=void 0;for(let m=0;m<y.length-1;m++)y[m].series.surroundingRadius=y[m+1].innerRadius}},s=t.width/2,a=t.height/2,o=Math.max(0,Math.min(t.width,t.height)/2);let r=o;n(s,a,r);const l=async({hideWhenNecessary:c=!1}={})=>{const h=[];for(const y of Bd(i,e)){const m=await y.computeLabelsBBox({hideWhenNecessary:c},t);m&&h.push(m)}if(h.length===0){n(s,a,o);return}const p=Rt.merge(h),f=this.refineCircle(p,r,t);n(f.centerX,f.centerY,f.radius),r=f.radius};await l(),await l(),await l(),await l({hideWhenNecessary:!0}),await l({hideWhenNecessary:!0});for(const c of Bd(i,e))await c.computeLabelsBBox({hideWhenNecessary:!0},t);return{radius:r,centerX:s,centerY:a}}refineCircle(t,e,i){const s=-e,a=-e,o=e,r=e;let l=Math.max(0,s-t.x),c=Math.max(0,a-t.y),h=Math.max(0,t.x+t.width-o),p=Math.max(0,t.y+t.height-r);l=h=Math.max(l,h),c=p=Math.max(c,p);const f=i.width-l-h,y=i.height-c-p;let m=Math.min(f,y)/2;const b=.5*i.width/2,S=.5*i.height/2,v=Math.min(b,S);if(m<v){m=v;const T=l+h,k=c+p;if(2*m+k>i.height){const E=i.height-2*m;Math.min(c,p)*2>E?(c=E/2,p=E/2):c>p?c=E-p:p=E-c}if(2*m+T>i.width){const E=i.width-2*m;Math.min(l,h)*2>E?(l=E/2,h=E/2):l>h?l=E-h:h=E-l}}const D=l+2*m+h,I=c+2*m+p;return{centerX:(i.width-D)/2+l+m,centerY:(i.height-I)/2+c+m,radius:m}}};mw.className="PolarChart";mw.type="polar";function xht(t){return t instanceof mD}function bht(t){return t instanceof yg}var vht={type:"chart",name:"polar",detect:xW,create(t,e){return new mw(t,e)}},qs={isEnterprise:!1},NL=["bar","line","scatter"],GY=(t=>(t.POINTER="pointer",t.NODE="node",t.TOP="top",t.RIGHT="right",t.BOTTOM="bottom",t.LEFT="left",t.TOP_LEFT="top-left",t.TOP_RIGHT="top-right",t.BOTTOM_RIGHT="bottom-right",t.BOTTOM_LEFT="bottom-left",t))(GY||{}),Do=Symbol("IGNORED_PROP");function Ha(t,e){const i={};for(const[n,s]of Object.entries(e))s!==Do&&Object.hasOwn(t,n)&&(i[n]=s);return i}function VY(t){if(t===void 0)return;const{enabled:e,showArrow:i,range:n,position:s,delay:a,wrapping:o}=t;return Object.fromEntries(Object.entries({enabled:e,showArrow:i,range:n,position:s,delay:a,wrapping:o}).filter(([l,c])=>c!==void 0))}function Sht(t){return t.type==="radial-gauge"}function Mht(t){return t.type==="linear-gauge"}function Aht(t){const{animation:e,background:i,container:n,contextMenu:s,footnote:a,height:o,listeners:r,locale:l,minHeight:c,minWidth:h,overrideDevicePixelRatio:p,padding:f,subtitle:y,theme:m,title:b,width:S,type:v,cursor:D,nodeClickRange:I,tooltip:T,value:k,scale:E={},startAngle:w,endAngle:R,highlightStyle:O,segmentation:L,bar:F,needle:z,targets:V,outerRadius:H,innerRadius:W,outerRadiusRatio:G,innerRadiusRatio:$,cornerRadius:K,cornerMode:X,label:j,secondaryLabel:U,spacing:Z,...tt}=t,{fills:J,fillMode:nt,fill:at,fillOpacity:lt,stroke:ut,strokeWidth:pt,strokeOpacity:ot,lineDash:ft,lineDashOffset:ct,min:bt=0,max:St=1,interval:xt={},label:wt={}}=E,kt=Ha(t,{animation:e,background:i,container:n,contextMenu:s,footnote:a,height:o,listeners:r,locale:l,minHeight:c,minWidth:h,overrideDevicePixelRatio:p,padding:f,subtitle:y,theme:m,title:b,tooltip:VY(T),width:S}),Nt=Ha(E,{fills:J,fillMode:nt,fill:at,fillOpacity:lt,stroke:ut,strokeWidth:pt,strokeOpacity:ot,lineDash:ft,lineDashOffset:ct}),$t=Ha(t,{startAngle:Do,endAngle:Do,needle:z!=null?{enabled:!0,...z}:Do,scale:Nt,type:v,cursor:D,nodeClickRange:I,listeners:r,tooltip:T,value:k,highlightStyle:O,segmentation:L,bar:F,targets:V,outerRadius:H,innerRadius:W,outerRadiusRatio:G,innerRadiusRatio:$,cornerRadius:K,cornerMode:X,label:j,secondaryLabel:U,spacing:Z,...tt});return{...kt,series:[$t],axes:[{type:"angle-number",min:bt,max:St,startAngle:w,endAngle:R,interval:xt??{},label:wt??{}},{type:"radius-number"}]}}function Dht(t){const{animation:e,background:i,container:n,contextMenu:s,footnote:a,height:o,listeners:r,locale:l,minHeight:c,minWidth:h,overrideDevicePixelRatio:p,padding:f,subtitle:y,theme:m,title:b,width:S,type:v,cursor:D,nodeClickRange:I,tooltip:T,value:k,scale:E={},direction:w="vertical",thickness:R,highlightStyle:O,segmentation:L,bar:F,targets:z,cornerRadius:V,cornerMode:H,label:W,...G}=t,{fills:$,fillMode:K,fill:X,fillOpacity:j,stroke:U,strokeWidth:Z,strokeOpacity:tt,lineDash:J,lineDashOffset:nt,min:at=0,max:lt=1,interval:ut={},label:pt={}}=E,ot=Ha(t,{animation:e,background:i,container:n,contextMenu:s,footnote:a,height:o,listeners:r,locale:l,minHeight:c,minWidth:h,overrideDevicePixelRatio:p,padding:f,subtitle:y,theme:m,title:b,tooltip:VY(T),width:S}),ft=Ha(E,{fills:$,fillMode:K,fill:X,fillOpacity:j,stroke:U,strokeWidth:Z,strokeOpacity:tt,lineDash:J,lineDashOffset:nt}),ct=Ha(t,{scale:ft,type:v,cursor:D,nodeClickRange:I,listeners:r,tooltip:T,value:k,direction:w,thickness:R,highlightStyle:O,segmentation:L,bar:F,targets:z,cornerRadius:V,cornerMode:H,label:W,...G}),{placement:bt,...St}=pt;let xt,wt;const kt=w==="horizontal";kt?(xt=bt==="before"?"top":"bottom",wt="left"):(xt=bt==="after"?"right":"left",wt="bottom");const Nt={type:"number",position:xt,min:at,max:lt,reverse:!kt,interval:ut,label:St,nice:!1},$t={type:"number",position:wt,min:0,max:1,label:{enabled:!1}};return{...ot,series:[ct],axes:kt?[Nt,$t]:[$t,Nt]}}function Oj(t,e){if(e==null)return t;const{targets:i,...n}=e;return t=ne(t,n),t.targets!=null&&i!=null&&(t.targets=MM(t.targets,i)),t}function Iht(t,e){if(Sht(t)){const D=Oj(t,e);return Aht(D)}else if(Mht(t)){const D=Oj(t,e);return Dht(D)}const{animation:i,background:n,container:s,contextMenu:a,footnote:o,height:r,listeners:l,locale:c,minHeight:h,minWidth:p,padding:f,subtitle:y,theme:m,title:b,tooltip:S,width:v}=t;return Ha(t,{animation:i,background:n,container:s,contextMenu:a,footnote:o,height:r,listeners:l,locale:c,minHeight:h,minWidth:p,padding:f,subtitle:y,theme:m,title:b,tooltip:S,width:v})}var So={stroke:Ci},is={fill:Lb},Rj={color:"white",fill:Ci},rc={color:Ci},HM={color:kb,fontSize:{$rem:[1.1666666666666667]},fontFamily:{$ref:"fontFamily"}},Q0={...HM,textAlign:"left"},EL={...HM,fontSize:{$ref:"fontSize"},color:wb,fill:Nb,stroke:Eb,strokeWidth:1,divider:{stroke:Ob,strokeWidth:1,strokeOpacity:.5}},k1={...So,background:{fill:xn,fillOpacity:.2},handle:{...is},text:{...rc},statistics:{...EL}},Tht={line:{...So,handle:{...is},text:{...rc}},"horizontal-line":{...So,handle:{...is},axisLabel:{...Rj},text:{...rc}},"vertical-line":{...So,handle:{...is},axisLabel:{...Rj},text:{...rc}},"disjoint-channel":{...So,background:{fill:xn,fillOpacity:.2},handle:{...is},text:{...rc}},"parallel-channel":{...So,background:{fill:xn,fillOpacity:.2},handle:{...is},text:{...rc}},"fibonacci-retracement":{...So,strokes:wx,rangeStroke:Ci,handle:{...is},text:{...rc,position:"center"},label:{...HM,color:void 0,fontSize:{$round:[{$mul:[{$ref:"fontSize"},10/12]}]}}},"fibonacci-retracement-trend-based":{...So,strokes:wx,rangeStroke:Ci,handle:{...is},text:{...rc,position:"center"},label:{...HM,color:void 0,fontSize:{$round:[{$mul:[{$ref:"fontSize"},10/12]}]}}},callout:{...So,...Q0,color:{$ref:"textColor"},handle:{...is},fill:xn,fillOpacity:.2},comment:{...Q0,color:"white",fontWeight:700,handle:{...is},fill:Ci},note:{...Q0,color:Bb,fill:Ci,stroke:{$ref:"backgroundColor"},strokeWidth:1,strokeOpacity:1,handle:{...is},background:{fill:Rb,stroke:Pb,strokeWidth:1}},text:{...Q0,handle:{...is}},arrow:{...So,handle:{...is},text:{...rc}},"arrow-up":{fill:Tb,handle:{...is,stroke:Ci}},"arrow-down":{fill:Cb,handle:{...is,stroke:Ci}},"date-range":{...k1},"price-range":{...k1},"date-price-range":{...k1},"quick-date-price-range":{up:{...So,fill:xn,fillOpacity:.2,handle:{...is},statistics:{...EL,color:"#fff",fill:xn,strokeWidth:0,divider:{stroke:"#fff",strokeWidth:1,strokeOpacity:.5}}},down:{...So,stroke:Rx,fill:Ox,fillOpacity:.2,handle:{...is,stroke:Rx},statistics:{...EL,color:"#fff",fill:Ox,strokeWidth:0,divider:{stroke:"#fff",strokeWidth:1,strokeOpacity:.5}}}}};function Ln(t,e){if(Un(t))return e(t)}var Cht=["ohlc","line","step-line","hlc","high-low","candlestick","hollow-candlestick"],kht=[{icon:"trend-line-drawing",tooltip:"toolbarAnnotationsLineAnnotations",value:"line-menu"},{icon:"fibonacci-retracement-drawing",tooltip:"toolbarAnnotationsFibonacciAnnotations",value:"fibonacci-menu"},{icon:"text-annotation",tooltip:"toolbarAnnotationsTextAnnotations",value:"text-menu"},{icon:"arrow-drawing",tooltip:"toolbarAnnotationsShapeAnnotations",value:"shape-menu"},{icon:"measurer-drawing",tooltip:"toolbarAnnotationsMeasurerAnnotations",value:"measurer-menu"},{icon:"delete",tooltip:"toolbarAnnotationsClearAll",value:"clear"}];function Lht(t,e,i){var V,H,W,G;const{dateKey:n="date",highKey:s="high",openKey:a="open",lowKey:o="low",closeKey:r="close",volumeKey:l="volume",chartType:c="candlestick",navigator:h=!1,volume:p=!0,rangeButtons:f=!0,statusBar:y=!0,toolbar:m=!0,zoom:b=!0,theme:S,data:v,...D}=t,I=Eht(S,c,n,s,o,a,r),T=Nht(S,i,a,r,p,l),E={navigator:{enabled:h,...p?{miniChart:{enabled:h,series:[{type:"line",xKey:n,yKey:l,marker:{enabled:!1}}]},height:40,minHandle:{height:46},maxHandle:{height:46}}:null}},w=typeof S=="string"?!0:((G=(W=(H=(V=S==null?void 0:S.overrides)==null?void 0:V.common)==null?void 0:H.annotations)==null?void 0:W.axesButtons)==null?void 0:G.enabled)??!0,R={annotations:{enabled:m,optionsToolbar:{enabled:m},snap:!0,axesButtons:{enabled:w},toolbar:{enabled:m,buttons:kht,padding:0},data:v,xKey:n,volumeKey:p?l:void 0}},O=y?{statusBar:{enabled:!0,data:v,highKey:s,openKey:a,lowKey:o,closeKey:r,volumeKey:p?l:void 0}}:null,L={zoom:{enabled:b,autoScaling:{enabled:!0},enableIndependentAxes:!0}},F={ranges:{enabled:f}},z=p?[{type:"number",position:"left",keys:[l],label:{enabled:!1},crosshair:{enabled:!1},gridLine:{enabled:!1},nice:!1,layoutConstraints:{stacked:!1,width:20,unit:"percentage",align:"end"}}]:[];return{theme:{baseTheme:typeof S=="string"?S:"ag-financial",...ne(typeof S=="object"?S:null,{overrides:{common:{title:{padding:4},padding:{top:6,right:8,bottom:5},chartToolbar:{enabled:m},annotations:{...Tht}}}})},animation:{enabled:!1},legend:{enabled:!1},series:[...T,...I],axes:[{type:"number",position:"right",keys:[a,r,s,o],interval:{maxSpacing:Ln(S,$=>{var K,X,j,U,Z;return(Z=(U=(j=(X=(K=$.overrides)==null?void 0:K.common)==null?void 0:X.axes)==null?void 0:j.number)==null?void 0:U.interval)==null?void 0:Z.maxSpacing})??45},label:{format:Ln(S,$=>{var K,X,j,U,Z;return(Z=(U=(j=(X=(K=$.overrides)==null?void 0:K.common)==null?void 0:X.axes)==null?void 0:j.number)==null?void 0:U.label)==null?void 0:Z.format})??".2f"},crosshair:{enabled:!0,snap:!1},layoutConstraints:{stacked:!1,width:100,unit:"percentage",align:"start"}},...z,{type:"ordinal-time",position:"bottom",line:{enabled:!1},label:{enabled:!0},crosshair:{enabled:!0}}],tooltip:{enabled:!1},data:v,...R,...E,...O,...L,...F,...D}}function Nht(t,e,i,n,s,a){if(!s)return[];const o=Ln(t,l=>{var c,h,p;return(p=(h=(c=l.overrides)==null?void 0:c.bar)==null?void 0:h.series)==null?void 0:p.fill}),r=o?{fill:o}:{itemStyler({datum:l}){const{up:c,down:h}=e().palette;return{fill:l[i]<l[n]?c==null?void 0:c.fill:h==null?void 0:h.fill}}};return[{type:"bar",xKey:"date",yKey:a,tooltip:{enabled:!1},highlight:{enabled:!1},fillOpacity:Ln(t,l=>{var c,h,p;return(p=(h=(c=l.overrides)==null?void 0:c.bar)==null?void 0:h.series)==null?void 0:p.fillOpacity})??.5,...r,focusPriority:1,fastDataProcessing:!0}]}var L1="range-area";function Eht(t,e,i,n,s,a,o){const r={xKey:i,openKey:a,closeKey:o,highKey:n,lowKey:s},l={xKey:i,yKey:o},c={pickOutsideVisibleMinorAxis:!0};switch(e??"candlestick"){case"ohlc":return wht(c,r);case"line":return Oht(c,t,l);case"step-line":return Rht(c,t,l);case"hlc":return Pht(c,t,l,r);case"high-low":return Bht(c,t,r);case"candlestick":return Pj(c,r);case"hollow-candlestick":return zht(c,t,r);default:return It.warnOnce(`unknown chart type: ${e}; expected one of: ${Cht.join(", ")}`),Pj(c,r)}}function wht(t,e){return[{type:"ohlc",focusPriority:0,...t,...e}]}function Oht(t,e,i){return[{type:"line",focusPriority:0,...t,...i,stroke:Ln(e,n=>{var s,a,o;return(o=(a=(s=n.overrides)==null?void 0:s.line)==null?void 0:a.series)==null?void 0:o.stroke})??Bg,marker:Ln(e,n=>{var s,a,o;return(o=(a=(s=n.overrides)==null?void 0:s.line)==null?void 0:a.series)==null?void 0:o.marker})??{enabled:!1}}]}function Rht(t,e,i){return[{type:"line",focusPriority:0,...t,...i,stroke:Ln(e,n=>{var s,a,o;return(o=(a=(s=n.overrides)==null?void 0:s.line)==null?void 0:a.series)==null?void 0:o.stroke})??Bg,interpolation:Ln(e,n=>{var s,a,o;return(o=(a=(s=n.overrides)==null?void 0:s.line)==null?void 0:a.series)==null?void 0:o.interpolation})??{type:"step"},marker:Ln(e,n=>{var s,a,o;return(o=(a=(s=n.overrides)==null?void 0:s.line)==null?void 0:a.series)==null?void 0:o.marker})??{enabled:!1}}]}function Pht(t,e,i,{xKey:n,highKey:s,closeKey:a,lowKey:o}){const r=UY(L1,e);return[{type:L1,focusPriority:0,...t,xKey:n,yHighKey:s,yLowKey:a,fill:r.fill??Tb,stroke:r.stroke??aD,fillOpacity:Ln(e,l=>{var c,h,p;return(p=(h=(c=l.overrides)==null?void 0:c["range-area"])==null?void 0:h.series)==null?void 0:p.fillOpacity})??.3,strokeWidth:Ln(e,l=>{var c,h,p;return(p=(h=(c=l.overrides)==null?void 0:c["range-area"])==null?void 0:h.series)==null?void 0:p.strokeWidth})??2},{type:L1,focusPriority:0,...t,xKey:n,yHighKey:a,yLowKey:o,fill:r.fill??Cb,stroke:r.stroke??oD,fillOpacity:Ln(e,l=>{var c,h,p;return(p=(h=(c=l.overrides)==null?void 0:c["range-area"])==null?void 0:h.series)==null?void 0:p.fillOpacity})??.3,strokeWidth:Ln(e,l=>{var c,h,p;return(p=(h=(c=l.overrides)==null?void 0:c["range-area"])==null?void 0:h.series)==null?void 0:p.strokeWidth})??2},{type:"line",...t,...i,stroke:Ln(e,l=>{var c,h,p;return(p=(h=(c=l.overrides)==null?void 0:c.line)==null?void 0:h.series)==null?void 0:p.stroke})??lD,strokeWidth:Ln(e,l=>{var c,h,p;return(p=(h=(c=l.overrides)==null?void 0:c.line)==null?void 0:h.series)==null?void 0:p.strokeWidth})??2,marker:Ln(e,l=>{var c,h,p;return(p=(h=(c=l.overrides)==null?void 0:c.line)==null?void 0:h.series)==null?void 0:p.marker})??{enabled:!1}}]}function Bht(t,e,{xKey:i,highKey:n,lowKey:s}){const a=UY("range-bar",e);return[{type:"range-bar",...t,xKey:i,yHighKey:n,yLowKey:s,fill:a.fill??rD,stroke:a.stroke??Bg,tooltip:{range:"nearest"},focusPriority:0,fastDataProcessing:!0}]}function Pj(t,e){return[{type:"candlestick",focusPriority:0,...t,...e}]}function zht(t,e,i){var s;const n=Ln(e,a=>{var o,r,l;return(l=(r=(o=a.overrides)==null?void 0:o.candlestick)==null?void 0:r.series)==null?void 0:l.item});return[{type:"candlestick",focusPriority:0,...t,...i,item:{up:{fill:((s=n==null?void 0:n.up)==null?void 0:s.fill)??"transparent"}}}]}function UY(t,e){const i=Ln(e,s=>{var a,o,r;return(r=(o=(a=s.overrides)==null?void 0:a[t])==null?void 0:o.series)==null?void 0:r.fill}),n=Ln(e,s=>{var a,o,r;return(r=(o=(a=s.overrides)==null?void 0:a[t])==null?void 0:o.series)==null?void 0:r.stroke});return{fill:i,stroke:n}}var HY={title:{enabled:!1},label:{enabled:!1},line:{enabled:!1},gridLine:{enabled:!1},crosshair:{enabled:!1,stroke:hD,lineDash:[0],label:{enabled:!1}}},N1={...HY,nice:!1},E1={position:{type:"sparkline"}},w1={style:[{stroke:{$ref:"gridLineColor"}}],width:2},_ht={number:{gridLine:w1},time:{gridLine:w1},category:{gridLine:w1}},jht={overrides:{common:{animation:{enabled:!1},contextMenu:{enabled:!1},keyboard:{enabled:!1},background:{visible:!1},padding:{top:0,right:0,bottom:0,left:0},axes:{number:{...N1,interval:{values:[0]}},log:{...N1},time:{...N1},category:{...HY}}},bar:{series:{crisp:!1,label:{placement:"inside-end",padding:4},sparklineMode:!0},tooltip:{...E1,range:"nearest"},axes:_ht},line:{seriesArea:{padding:{top:2,right:2,bottom:2,left:2}},series:{sparklineMode:!0,strokeWidth:1,marker:{enabled:!1,size:3},tooltip:E1}},area:{seriesArea:{padding:{top:1,right:0,bottom:1,left:0}},series:{strokeWidth:1,fillOpacity:.4,tooltip:E1}}}},WY=Zs(Fht);function Fht(t,e){return typeof t=="string"?{...e,baseTheme:t}:t!=null?{...t,baseTheme:WY(t.baseTheme,e)}:e}function YY(t){if(Array.isArray(t)&&t.length!==0){const e=t[0];if(typeof e=="number")return{data:t.map((n,s)=>({x:s,y:n})),series:[{xKey:"x",yKey:"y"}],datumKey:"y"};if(Array.isArray(e))return{data:t.map(n=>({x:n[0],y:n[1],datum:n})),series:[{xKey:"x",yKey:"y"}],datumKey:"datum"}}return{data:t}}function Ght(t,e){switch(t==null?void 0:t.type){case"number":{const{type:i,min:n,max:s,reverse:a}=t;return Ha(t,{type:i,reverse:a,min:n,max:s})}case"time":{const{type:i,min:n,max:s,reverse:a}=t;return Ha(t,{type:i,reverse:a,min:n,max:s})}case"category":{const{type:i,paddingInner:n,paddingOuter:s,reverse:a}=t;return Ha(t,{type:i,reverse:a,paddingInner:n,paddingOuter:s})}}return{type:e}}function Vht(t,e,i){const n={};return(t==null?void 0:t.stroke)!=null&&(n.style=[{stroke:t==null?void 0:t.stroke}],n.enabled??(n.enabled=!0)),(t==null?void 0:t.strokeWidth)!=null&&(n.width=t==null?void 0:t.strokeWidth,n.enabled??(n.enabled=!0)),i.type==="bar"&&i.direction!=="horizontal"&&(n.enabled??(n.enabled=!0)),(t==null?void 0:t.visible)!=null&&(n.enabled=t.visible),n.enabled??(n.enabled=e),n}var Uht=Zs((t,e,i)=>n=>{var h;const s=n.datum[n.xKey],a=n.datum[n.yKey],o=i!=null?n.datum[i]:n.datum,r=(h=e==null?void 0:e.renderer)==null?void 0:h.call(e,{context:t,datum:o,xValue:s,yValue:a});if(typeof r=="string")return r;const l=r==null?void 0:r.title,c=r==null?void 0:r.content;return l!=null&&c!=null?{heading:l,title:void 0,data:[{label:void 0,value:c}]}:{heading:l??c??a.toFixed(2),title:void 0,data:[]}});function Hht(t){const{background:e,container:i,height:n,listeners:s,locale:a,minHeight:o,minWidth:r,overrideDevicePixelRatio:l,padding:c,width:h,theme:p,data:f,crosshair:y,axis:m,min:b,max:S,tooltip:v,context:D,...I}=t,T=Ha(t,{background:e,container:i,height:n,listeners:s,locale:a,minHeight:o,minWidth:r,overrideDevicePixelRatio:l,padding:c,width:h,tooltip:Do,context:Do,data:Do,crosshair:Do,axis:Do,min:Do,max:Do,theme:Do}),{data:k,series:[E]=[],datumKey:w}=YY(f),R=I;E!=null&&Object.assign(R,E),R.tooltip={...v,renderer:Uht(D,v,w)},T.theme=WY(p,jht),T.data=k,T.series=[R];const O=R.type!=="bar"||R.direction!=="horizontal",[L,F]=O?["bottom","left"]:["left","bottom"],z={...Ght(m,"category"),position:L,...Ha(t,{crosshair:y})},V={type:"number",gridLine:Vht(m,!1,t),position:F,...Ha(t,{min:b,max:S})};return T.axes=O?[V,z]:[z,V],T}var Wht={"price-volume":Lht,gauge:Iht,sparkline:Hht},Yht={sparkline:YY};function Bj(t,e){var o,r,l,c;let i=[];const n=vW(t),s=_c(t),a=s?di.get(s):"unknown";for(const h of Cg)if(!(a!=="unknown"&&!h.chartTypes.includes(a))){if(h.type==="root"||h.type==="legend"){const p=t[h.optionsKey];if(p==null)continue;h.optionsInnerKey?p[h.optionsInnerKey]&&(i.push(`${h.optionsKey}.${h.optionsInnerKey}`),delete p[h.optionsInnerKey]):(i.push(h.optionsKey),delete t[h.optionsKey])}else if(h.type==="axis"){if(!("axes"in t)||!((o=t.axes)!=null&&o.some(p=>p.type===h.identifier)))continue;i.push(`axis[type=${h.identifier}]`),t.axes=t.axes.filter(p=>p.type!==h.identifier)}else if(h.type==="axis-option"){if(!("axes"in t)||!((r=t.axes)!=null&&r.some(p=>p[h.optionsKey])))continue;i.push(`axis.${h.optionsKey}`),t.axes.forEach(p=>{p[h.optionsKey]&&delete p[h.optionsKey]})}else if(h.type==="series"){if(h.community||!((l=t.series)!=null&&l.some(p=>p.type===h.identifier)))continue;i.push(`series[type=${h.identifier}]`),t.series=t.series.filter(p=>p.type!==h.identifier)}else if(h.type==="series-option"){if(!((c=t.series)!=null&&c.some(p=>p[h.optionsKey])))continue;i.push(`series.${h.optionsKey}`),t.series.forEach(p=>{p[h.optionsKey]&&delete p[h.optionsKey]})}}if(i.length&&!e){n&&(i=["AgCharts.createGauge"]);let h="ag-charts-enterprise",p="https://www.ag-grid.com/charts/javascript/installation/";t.mode==="integrated"&&(h="ag-grid-charts-enterprise' or 'ag-grid-enterprise/charts-enterprise",p="https://www.ag-grid.com/javascript-data-grid/integrated-charts-installation/"),It.warnOnce([`unable to use these enterprise features as '${h}' has not been loaded:`,"",...i,"",`See: ${p}`].join(`
`))}}function $ht(t){const e="mode"in t&&t.mode==="integrated";for(const i of ul.byType("root","legend")){const n=t[i.optionsKey],s=n!=null&&n.enabled===!1,a=!("removable"in i)||i.removable===!0||i.removable==="standalone-only"&&!e;s&&a&&delete t[i.optionsKey]}}function wL(t){return t!=null&&t.up||t!=null&&t.down||t!=null&&t.neutral?"user-full":t!=null&&t.fills||t!=null&&t.strokes?"user-indexed":"inbuilt"}var J0="white",OL={get cartesian(){return{seriesTypes:di.cartesianTypes,commonOptions:["zoom","navigator"]}},get polar(){return{seriesTypes:di.polarTypes,commonOptions:[]}},get hierarchy(){return{seriesTypes:di.hierarchyTypes,commonOptions:[]}},get topology(){return{seriesTypes:di.topologyTypes,commonOptions:[]}},get"flow-proportion"(){return{seriesTypes:di.flowProportionTypes,commonOptions:[]}},get standalone(){return{seriesTypes:di.standaloneTypes,commonOptions:[]}},get gauge(){return{seriesTypes:di.gaugeTypes,commonOptions:[]}}},Kht={"radial-gauge":!0,"linear-gauge":!0};function zj(t){return Kht[t]===!0}var Xht=Object.values(OL).reduce((t,{commonOptions:e})=>t.concat(e),[]),Mo=class RL{static getAxisDefaults(e){return ne(e,{title:{enabled:!1,text:"Axis Title",spacing:25,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:[1.0833333333333333]},fontFamily:{$ref:"fontFamily"},color:{$ref:"textColor"}},label:{fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},spacing:11,color:{$ref:"textColor"},avoidCollisions:!0},line:{enabled:!0,width:1,stroke:{$ref:"axisColor"}},tick:{enabled:!1,width:1,stroke:{$ref:"axisColor"}},gridLine:{enabled:!0,style:[{stroke:{$ref:"gridLineColor"},lineDash:[]}]},crossLines:{enabled:!1,fill:{$ref:"foregroundColor"},stroke:{$ref:"foregroundColor"},fillOpacity:.1,strokeWidth:1,label:{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},padding:5,color:{$ref:"textColor"}}},crosshair:{enabled:!0}})}getChartDefaults(){return{minHeight:300,minWidth:300,background:{visible:!0,fill:{$ref:"backgroundColor"}},padding:{top:{$ref:"padding"},right:{$ref:"padding"},bottom:{$ref:"padding"},left:{$ref:"padding"}},seriesArea:{padding:{top:0,right:0,bottom:0,left:0}},keyboard:{enabled:!0},title:{enabled:!1,text:"Title",fontWeight:{$ref:"fontWeight"},fontSize:{$rem:[1.4166666666666667]},fontFamily:{$ref:"fontFamily"},color:{$ref:"textColor"},wrapping:"hyphenate",layoutStyle:Wu,textAlign:Yu},subtitle:{enabled:!1,text:"Subtitle",spacing:20,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:[1.0833333333333333]},fontFamily:{$ref:"fontFamily"},color:{$ref:"subtleTextColor"},wrapping:"hyphenate",layoutStyle:Wu,textAlign:Yu},footnote:{enabled:!1,text:"Footnote",spacing:20,fontSize:{$rem:[1.0833333333333333]},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"subtleTextColor"},wrapping:"hyphenate",layoutStyle:Wu,textAlign:Yu},legend:{position:"bottom",spacing:30,listeners:{},toggleSeries:!0,item:{paddingX:16,paddingY:8,marker:{size:15,padding:8},showSeriesStroke:!0,label:{color:{$ref:"textColor"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"}}},reverseOrder:!1,pagination:{marker:{size:12},activeStyle:{fill:{$ref:"foregroundColor"}},inactiveStyle:{fill:{$ref:"subtleTextColor"}},highlightStyle:{fill:{$ref:"foregroundColor"}},label:{color:{$ref:"textColor"}}}},tooltip:{enabled:!0,darkTheme:sg,delay:0},overlays:{darkTheme:sg},listeners:{}}}constructor(e={}){const{overrides:i,palette:n}=mn(e),s=this.createChartConfigPerChartType(this.getDefaults()),a={};i&&this.mergeOverrides(s,a,i);const{fills:o,strokes:r,...l}=this.getDefaultColors();this.palette=sx(ne(n,{fills:Object.values(o),strokes:Object.values(r),...l})),this.paletteType=wL(n),this.config=sx(this.templateTheme(s)),this.presets=sx(a)}mergeOverrides(e,i,n){for(const{seriesTypes:s,commonOptions:a}of Object.values(OL)){const o={...n.common};for(const r of Xht)a.includes(r)||delete o[r];if(o)for(const r of s){const l=r;zj(l)||(e[l]=ne(o,e[l]))}}di.seriesTypes.forEach(s=>{const a=s,o=n[a];zj(a)?i[a]=o:e[a]=ne(o,e[a])})}createChartConfigPerChartType(e){for(const[i,{seriesTypes:n}]of Object.entries(OL)){const s=bL.get(i);for(const a of n)e[a]??(e[a]=mn(s))}return e}getDefaults(){const e=(i,n)=>{const s={},a={axes:{},...mE.getThemeTemplates(),...this.getChartDefaults(),...bL.get(i)};for(const o of n){s[o]=ne(fa.getThemeTemplate(o),s[o]??mn(a));const{axes:r}=s[o];for(const l of Sc.keys())r[l]=ne(r[l],Sc.getThemeTemplate(l),RL.cartesianAxisDefault[l])}return s};return ne(e("cartesian",di.cartesianTypes),e("polar",di.polarTypes),e("hierarchy",di.hierarchyTypes),e("topology",di.topologyTypes),e("flow-proportion",di.flowProportionTypes),e("standalone",di.standaloneTypes),e("gauge",di.gaugeTypes))}static applyTemplateTheme(e,i,n){if(oi(e))for(let s=0;s<e.length;s++){const a=e[s];typeof a=="symbol"&&(n!=null&&n.has(a))&&(e[s]=n.get(a))}else for(const[s,a]of Object.entries(e))typeof a=="symbol"&&(n!=null&&n.has(a))&&(e[s]=n.get(a))}templateTheme(e,i=!0){const n=i?mn(e):e,s=this.getTemplateParameters();return xc(n,RL.applyTemplateTheme,void 0,void 0,s),n}getDefaultColors(){return{fills:$i,strokes:Qr,up:{fill:$i.GREEN,stroke:Qr.GREEN},down:{fill:$i.RED,stroke:Qr.RED},neutral:{fill:$i.GRAY,stroke:Qr.GRAY},altUp:{fill:$i.BLUE,stroke:Qr.BLUE},altDown:{fill:$i.ORANGE,stroke:Qr.ORANGE},altNeutral:{fill:$i.GRAY,stroke:Qr.GRAY}}}getPublicParameters(){return{accentColor:"#2196f3",axisColor:{$foregroundBackgroundMix:[.675]},backgroundColor:J0,borderColor:{$foregroundBackgroundMix:[.818]},foregroundColor:"#464646",fontFamily:"Verdana, sans-serif",fontSize:12,fontWeight:400,gridLineColor:{$foregroundBackgroundAccentMix:[.93,.085]},padding:20,subtleTextColor:{$mix:[{$ref:"textColor"},{$ref:"backgroundColor"},.38]},textColor:{$ref:"foregroundColor"},chromeBackgroundColor:{$foregroundBackgroundMix:[.975]},chromeFontFamily:{$ref:"fontFamily"},chromeFontSize:{$ref:"fontSize"},chromeFontWeight:{$ref:"fontWeight"},chromeTextColor:"#181d1f",chromeSubtleTextColor:{$mix:[{$ref:"chromeTextColor"},{$ref:"backgroundColor"},.38]},inputBackgroundColor:{$ref:"backgroundColor"},inputTextColor:{$ref:"textColor"},crosshairLabelBackgroundColor:{$ref:"foregroundColor"},crosshairLabelTextColor:{$ref:"backgroundColor"}}}getTemplateParameters(){var s,a,o,r,l,c,h,p,f,y,m,b;const{isEnterprise:e}=qs,i=new Map;i.set(sg,!1),i.set(_E,e),i.set(zE,!e),i.set(Ib,"#d9d9d9"),i.set(sD,J0),i.set(Sh,"#00000080"),i.set(Ia,[$i.ORANGE,$i.YELLOW,$i.GREEN]),i.set(uD,[$i.BLUE,$i.RED]),i.set(hD,"#aaa"),i.set(Ko,[$i.GREEN,$i.YELLOW,$i.RED]),i.set(Ml,["#5090dc","#629be0","#73a6e3","#85b1e7","#96bcea","#a8c8ee","#b9d3f1","#cbdef5"]),i.set(Wu,"block"),i.set(Yu,"center"),i.set(dD,["#fff","#e0e5ea","#c1ccd5","#a3b4c1","#859cad"]),i.set(pD,["#fff","#c5cbd1","#a4b1bd","#8498a9","#648096"]),i.set(wx,["#797b86","#e24c4a","#f49d2d","#65ab58","#409682","#4db9d2","#5090dc","#3068f9","#e24c4a","#913aac","#d93e64"]),i.set(cD,J0),i.set(Ci,$i.BLUE),i.set(xn,$i.BLUE),i.set(kb,$i.BLUE),i.set(Lb,J0),i.set(Nb,"#fafafa"),i.set(Eb,"#ddd"),i.set(wb,"#000"),i.set(Ob,"#181d1f"),i.set(Ox,"#e35c5c"),i.set(Rx,"#e35c5c"),i.set(Rb,"#fafafa"),i.set(Pb,"#ddd"),i.set(Bb,"#000"),i.set(zb,"top"),i.set(al,!1);const n=this.getDefaultColors();return i.set(aD,((s=this.palette.up)==null?void 0:s.stroke)??n.up.stroke),i.set(Tb,((a=this.palette.up)==null?void 0:a.fill)??n.up.fill),i.set(oD,((o=this.palette.down)==null?void 0:o.stroke)??n.down.stroke),i.set(Cb,((r=this.palette.down)==null?void 0:r.fill)??n.down.fill),i.set(Bg,((l=this.palette.neutral)==null?void 0:l.stroke)??n.neutral.stroke),i.set(rD,((c=this.palette.neutral)==null?void 0:c.fill)??n.neutral.fill),i.set(jE,((h=this.palette.altUp)==null?void 0:h.stroke)??n.up.stroke),i.set(GE,((p=this.palette.altUp)==null?void 0:p.fill)??n.up.fill),i.set(FE,((f=this.palette.altDown)==null?void 0:f.stroke)??n.down.stroke),i.set(VE,((y=this.palette.altDown)==null?void 0:y.fill)??n.down.fill),i.set(UE,((m=this.palette.altNeutral)==null?void 0:m.fill)??n.altNeutral.fill),i.set(lD,((b=this.palette.altNeutral)==null?void 0:b.stroke)??n.altNeutral.stroke),i}};Mo.cartesianAxisDefault={number:Mo.getAxisDefaults({line:{enabled:!1}}),log:Mo.getAxisDefaults({base:10,line:{enabled:!1},interval:{minSpacing:NaN}}),category:Mo.getAxisDefaults({groupPaddingInner:.1,label:{autoRotate:!0},gridLine:{enabled:al},crosshair:{enabled:!1}}),"grouped-category":Mo.getAxisDefaults({tick:{enabled:!0,stroke:Ib},label:{spacing:10,rotation:270},paddingInner:.4,groupPaddingInner:.2,crosshair:{enabled:!1}}),time:Mo.getAxisDefaults({gridLine:{enabled:al}}),"ordinal-time":Mo.getAxisDefaults({groupPaddingInner:0,label:{autoRotate:!1},gridLine:{enabled:al}}),"angle-category":Mo.getAxisDefaults({label:{spacing:5},gridLine:{enabled:al}}),"angle-number":Mo.getAxisDefaults({label:{spacing:5},gridLine:{enabled:al}}),"radius-category":Mo.getAxisDefaults({line:{enabled:!1}}),"radius-number":Mo.getAxisDefaults({line:{enabled:!1}})};var Hc=Mo,tS="#192232",Hs={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},rd={BLUE:"#74a8e6",ORANGE:"#ffbe70",GREEN:"#6cb176",CYAN:"#75d4ef",YELLOW:"#f6e559",VIOLET:"#aa86d8",GRAY:"#a1a1a1",MAGENTA:"#ce7ab9",BROWN:"#997b52",RED:"#ff7872"},Fg=class extends Hc{getDefaultColors(){return{fills:Hs,strokes:rd,up:{fill:Hs.GREEN,stroke:rd.GREEN},down:{fill:Hs.RED,stroke:rd.RED},neutral:{fill:Hs.GRAY,stroke:rd.GRAY},altUp:{fill:Hs.BLUE,stroke:rd.BLUE},altDown:{fill:Hs.ORANGE,stroke:rd.ORANGE},altNeutral:{fill:Hs.GRAY,stroke:rd.GRAY}}}getPublicParameters(){return{...super.getPublicParameters(),axisColor:{$foregroundBackgroundMix:[.263]},backgroundColor:tS,borderColor:{$foregroundBackgroundMix:[.784]},chromeBackgroundColor:{$foregroundBackgroundMix:[.93]},foregroundColor:"#fff",gridLineColor:{$foregroundBackgroundAccentMix:[.743,.01]},subtleTextColor:{$mix:[{$ref:"textColor"},{$ref:"backgroundColor"},.57]},chromeTextColor:{$ref:"textColor"},crosshairLabelBackgroundColor:{$foregroundBackgroundAccentMix:[.35,.1]}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.set(sg,!0),t.set(cD,tS),t.set(Ib,"#7f8389"),t.set(Ia,[Hs.ORANGE,Hs.YELLOW,Hs.GREEN]),t.set(Ko,[Hs.GREEN,Hs.YELLOW,Hs.RED]),t.set(Ml,["#5090dc","#4882c6","#4073b0","#38659a","#305684","#28486e","#203a58","#182b42"]),t.set(dD,["#192834","#253746","#324859","#3f596c","#4d6a80"]),t.set(pD,["#192834","#3b5164","#496275","#577287","#668399"]),t.set(sD,tS),t.set(Ci,Hs.BLUE),t.set(kb,"#fff"),t.set(xn,Hs.BLUE),t.set(Lb,tS),t.set(Nb,"#28313e"),t.set(Eb,"#4b525d"),t.set(wb,"#fff"),t.set(Ob,"#fff"),t.set(Rb,"#28313e"),t.set(Pb,"#4b525d"),t.set(Bb,"#fff"),t}constructor(t){super(t)}},mo={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#A9A9A9"},ld={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#909090"},Zht=class extends Fg{getDefaultColors(){return{fills:{...mo},strokes:{...ld},up:{fill:mo.GREEN,stroke:ld.GREEN},down:{fill:mo.RED,stroke:ld.RED},neutral:{fill:mo.BLUE,stroke:ld.BLUE},altUp:{fill:mo.GREEN,stroke:ld.GREEN},altDown:{fill:mo.RED,stroke:ld.RED},altNeutral:{fill:mo.GRAY,stroke:ld.GRAY}}}getPublicParameters(){return{...super.getPublicParameters(),gridLineColor:{$foregroundBackgroundAccentMix:[.88,.01]},padding:0}}getTemplateParameters(){const t=super.getTemplateParameters();return t.set(Ia,[mo.GREEN,mo.BLUE,mo.RED]),t.set(Ci,mo.BLUE),t.set(xn,mo.BLUE),t.set(Wu,"overlay"),t.set(Yu,"left"),t.set(zb,"bottom"),t.set(al,!0),t}},xo={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#A9A9A9"},cd={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#909090"},qht=class extends Hc{getDefaultColors(){return{fills:{...xo},strokes:{...cd},up:{fill:xo.GREEN,stroke:cd.GREEN},down:{fill:xo.RED,stroke:cd.RED},neutral:{fill:xo.BLUE,stroke:cd.BLUE},altUp:{fill:xo.GREEN,stroke:cd.GREEN},altDown:{fill:xo.RED,stroke:cd.RED},altNeutral:{fill:xo.GRAY,stroke:cd.GRAY}}}getPublicParameters(){return{...super.getPublicParameters(),gridLineColor:{$foregroundBackgroundAccentMix:[.94,.01]},padding:0}}getTemplateParameters(){const t=super.getTemplateParameters();return t.set(Ia,[xo.GREEN,xo.BLUE,xo.RED]),t.set(Ci,xo.BLUE),t.set(xn,xo.BLUE),t.set(Wu,"overlay"),t.set(Yu,"left"),t.set(zb,"bottom"),t.set(al,!0),t}},Ws={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},ud={BLUE:"#90CAF9",ORANGE:"#FFCC80",GREEN:"#A5D6A7",CYAN:"#80DEEA",YELLOW:"#FFF9C4",VIOLET:"#B39DDB",GRAY:"#E0E0E0",MAGENTA:"#F48FB1",BROWN:"#A1887F",RED:"#EF9A9A"},Qht=class extends Fg{getDefaultColors(){return{fills:Ws,strokes:ud,up:{fill:Ws.GREEN,stroke:ud.GREEN},down:{fill:Ws.RED,stroke:ud.RED},neutral:{fill:Ws.GRAY,stroke:ud.GRAY},altUp:{fill:Ws.BLUE,stroke:ud.BLUE},altDown:{fill:Ws.RED,stroke:ud.RED},altNeutral:{fill:Ws.GRAY,stroke:ud.GRAY}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.set(Ia,[Ws.ORANGE,Ws.YELLOW,Ws.GREEN]),t.set(Ml,["#2196f3","#208FEC","#1E88E5","#1C7FDC","#1976d2","#176EC9","#1565c0"]),t.set(Ko,[Ws.GREEN,Ws.YELLOW,Ws.RED]),t.set(Ci,Ws.BLUE),t.set(xn,Ws.BLUE),t}},Ys={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},hd={BLUE:"#1565C0",ORANGE:"#E65100",GREEN:"#2E7D32",CYAN:"#00838F",YELLOW:"#F9A825",VIOLET:"#4527A0",GRAY:"#616161",MAGENTA:"#C2185B",BROWN:"#4E342E",RED:"#B71C1C"},Jht=class extends Hc{getDefaultColors(){return{fills:Ys,strokes:hd,up:{fill:Ys.GREEN,stroke:hd.GREEN},down:{fill:Ys.RED,stroke:hd.RED},neutral:{fill:Ys.GRAY,stroke:hd.GRAY},altUp:{fill:Ys.BLUE,stroke:hd.BLUE},altDown:{fill:Ys.RED,stroke:hd.RED},altNeutral:{fill:Ys.GRAY,stroke:hd.GRAY}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.set(Ia,[Ys.ORANGE,Ys.YELLOW,Ys.GREEN]),t.set(Ml,["#2196f3","#329EF4","#42a5f5","#53ADF6","#64b5f6","#7AC0F8","#90caf9"]),t.set(Ko,[Ys.GREEN,Ys.YELLOW,Ys.RED]),t.set(Ci,Ys.BLUE),t.set(xn,Ys.BLUE),t}},Wi={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4",GRAY:"#bbbbbb"},dd={BLUE:"#6698ff",PURPLE:"#c0a3ff",MAGENTA:"#fc8dfc",PINK:"#ff82b1",RED:"#ff9b70",ORANGE:"#ffcf4e",YELLOW:"#ffff58",GREEN:"#58dd70",CYAN:"#51e2c9",MODERATE_BLUE:"#4fd7ff",GRAY:"#eeeeee"},tdt=class extends Fg{getDefaultColors(){return{fills:Wi,strokes:dd,up:{fill:Wi.GREEN,stroke:dd.GREEN},down:{fill:Wi.RED,stroke:dd.RED},neutral:{fill:Wi.GRAY,stroke:dd.GRAY},altUp:{fill:Wi.BLUE,stroke:dd.BLUE},altDown:{fill:Wi.RED,stroke:dd.RED},altNeutral:{fill:Wi.GRAY,stroke:dd.GRAY}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.set(Ia,[Wi.BLUE,Wi.RED]),t.set(Ml,[Wi.BLUE,Wi.PURPLE,Wi.MAGENTA,Wi.PINK,Wi.RED,Wi.ORANGE,Wi.YELLOW,Wi.GREEN]),t.set(Ko,[Wi.BLUE,Wi.RED]),t.set(Ci,Wi.BLUE),t.set(xn,Wi.BLUE),t}},Yi={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4",GRAY:"#bbbbbb"},pd={BLUE:"#2346c9",PURPLE:"#7653d4",MAGENTA:"#a73da9",PINK:"#c32d66",RED:"#c84b1c",ORANGE:"#c87f00",YELLOW:"#c1b900",GREEN:"#008c1c",CYAN:"#00927c",MODERATE_BLUE:"#0087bb",GRAY:"#888888"},edt=class extends Hc{getDefaultColors(){return{fills:Yi,strokes:pd,up:{fill:Yi.GREEN,stroke:pd.GREEN},down:{fill:Yi.RED,stroke:pd.RED},neutral:{fill:Yi.GRAY,stroke:pd.GRAY},altUp:{fill:Yi.BLUE,stroke:pd.BLUE},altDown:{fill:Yi.RED,stroke:pd.RED},altNeutral:{fill:Yi.GRAY,stroke:pd.GRAY}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.set(Ia,[Yi.BLUE,Yi.RED]),t.set(Ml,[Yi.BLUE,Yi.PURPLE,Yi.MAGENTA,Yi.PINK,Yi.RED,Yi.ORANGE,Yi.YELLOW,Yi.GREEN]),t.set(Ko,[Yi.BLUE,Yi.RED]),t.set(Ci,Yi.BLUE),t.set(xn,Yi.BLUE),t}},bs={BLUE:"#4472C4",ORANGE:"#ED7D31",GRAY:"#A5A5A5",YELLOW:"#FFC000",MODERATE_BLUE:"#5B9BD5",GREEN:"#70AD47",DARK_GRAY:"#7B7B7B",DARK_BLUE:"#264478",VERY_DARK_GRAY:"#636363",DARK_YELLOW:"#997300"},Nu={BLUE:"#6899ee",ORANGE:"#ffa55d",GRAY:"#cdcdcd",YELLOW:"#ffea53",MODERATE_BLUE:"#82c3ff",GREEN:"#96d56f",DARK_GRAY:"#a1a1a1",DARK_BLUE:"#47689f",VERY_DARK_GRAY:"#878787",DARK_YELLOW:"#c0993d"},idt=class extends Fg{getDefaultColors(){return{fills:{...bs,RED:bs.ORANGE},strokes:{...Nu,RED:Nu.ORANGE},up:{fill:bs.GREEN,stroke:Nu.GREEN},down:{fill:bs.ORANGE,stroke:Nu.ORANGE},neutral:{fill:bs.GRAY,stroke:Nu.GRAY},altUp:{fill:bs.BLUE,stroke:Nu.BLUE},altDown:{fill:bs.ORANGE,stroke:Nu.ORANGE},altNeutral:{fill:bs.GRAY,stroke:Nu.GRAY}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.set(Ia,[bs.ORANGE,bs.YELLOW,bs.GREEN]),t.set(Ko,[bs.GREEN,bs.YELLOW,bs.ORANGE]),t.set(Ci,bs.BLUE),t.set(xn,bs.BLUE),t}},$s={BLUE:"#5281d5",ORANGE:"#ff8d44",GRAY:"#b5b5b5",YELLOW:"#ffd02f",MODERATE_BLUE:"#6aabe6",GREEN:"#7fbd57",DARK_GRAY:"#8a8a8a",DARK_BLUE:"#335287",VERY_DARK_GRAY:"#717171",DARK_YELLOW:"#a98220"},ec={BLUE:"#214d9b",ORANGE:"#c25600",GRAY:"#7f7f7f",YELLOW:"#d59800",MODERATE_BLUE:"#3575ac",GREEN:"#4b861a",DARK_GRAY:"#575757",DARK_BLUE:"#062253",VERY_DARK_GRAY:"#414141",DARK_YELLOW:"#734f00"},ndt=class extends Hc{getDefaultColors(){return{fills:{...$s,RED:$s.ORANGE},strokes:{...ec,RED:ec.ORANGE},up:{fill:$s.GREEN,stroke:ec.GREEN},down:{fill:$s.ORANGE,stroke:ec.ORANGE},neutral:{fill:ec.GRAY,stroke:ec.GRAY},altUp:{fill:$s.BLUE,stroke:ec.BLUE},altDown:{fill:$s.ORANGE,stroke:ec.ORANGE},altNeutral:{fill:$s.GRAY,stroke:ec.GRAY}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.set(Ia,[$s.ORANGE,$s.YELLOW,$s.GREEN]),t.set(Ko,[$s.GREEN,$s.YELLOW,$s.ORANGE]),t.set(Ci,$s.BLUE),t.set(xn,$s.BLUE),t}},Ks={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},fd={BLUE:"#67b7ff",ORANGE:"#ffc24d",GREEN:"#5cc86f",CYAN:"#54ebff",VIOLET:"#fff653",YELLOW:"#c18aff",GRAY:"#aeaeae",MAGENTA:"#f078d4",BROWN:"#ba8438",RED:"#ff726e"},sdt=class extends Fg{getDefaultColors(){return{fills:Ks,strokes:fd,up:{fill:Ks.GREEN,stroke:fd.GREEN},down:{fill:Ks.RED,stroke:fd.RED},neutral:{fill:Ks.GRAY,stroke:fd.GRAY},altUp:{fill:Ks.BLUE,stroke:fd.BLUE},altDown:{fill:Ks.ORANGE,stroke:fd.ORANGE},altNeutral:{fill:Ks.GRAY,stroke:fd.GRAY}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.set(Ia,[Ks.ORANGE,Ks.YELLOW,Ks.GREEN]),t.set(Ml,["#0083ff","#0076e6","#0069cc","#005cb3","#004f99","#004280","#003466","#00274c"]),t.set(Ko,[Ks.GREEN,Ks.YELLOW,Ks.RED]),t.set(Ci,Ks.BLUE),t.set(xn,Ks.BLUE),t}},Xs={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},gd={BLUE:"#0f68c0",ORANGE:"#d47100",GREEN:"#007922",CYAN:"#009ac2",VIOLET:"#bca400",YELLOW:"#753cac",GRAY:"#646464",MAGENTA:"#9b2685",BROWN:"#6c3b00",RED:"#cb0021"},adt=class extends Hc{getDefaultColors(){return{fills:Xs,strokes:gd,up:{fill:Xs.GREEN,stroke:gd.GREEN},down:{fill:Xs.RED,stroke:gd.RED},neutral:{fill:Xs.GRAY,stroke:gd.GRAY},altUp:{fill:Xs.BLUE,stroke:gd.BLUE},altDown:{fill:Xs.ORANGE,stroke:gd.ORANGE},altNeutral:{fill:Xs.GRAY,stroke:gd.GRAY}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.set(Ia,[Xs.ORANGE,Xs.YELLOW,Xs.GREEN]),t.set(Ml,["#0083ff","#1a8fff","#339cff","#4da8ff","#66b5ff","#80c1ff","#99cdff","#b3daff"]),t.set(Ko,[Xs.GREEN,Xs.YELLOW,Xs.RED]),t.set(Ci,Xs.BLUE),t.set(xn,Xs.BLUE),t}},og=Zs(()=>new Hc),odt=Zs(()=>new Fg),xw={"ag-default-dark":odt,"ag-sheets-dark":Zs(()=>new idt),"ag-polychroma-dark":Zs(()=>new tdt),"ag-vivid-dark":Zs(()=>new sdt),"ag-material-dark":Zs(()=>new Qht),"ag-financial-dark":Zs(()=>new Zht),null:og,undefined:og,"ag-default":og,"ag-sheets":Zs(()=>new ndt),"ag-polychroma":Zs(()=>new edt),"ag-vivid":Zs(()=>new adt),"ag-material":Zs(()=>new Jht),"ag-financial":Zs(()=>new qht)},WM=Zs(rdt);function rdt(t){if(t instanceof Hc)return t;if(t==null||typeof t=="string"){const i=xw[t];return i?i():(It.warnOnce(`the theme [${t}] is invalid, using [ag-default] instead.`),og())}const{errors:e}=vA(t,cdt,"theme");if(!e.length){const i=ldt(t),n=i.baseTheme?WM(i.baseTheme):og();return new n.constructor(i)}for(const{message:i}of e)It.warnOnce(i);return og()}function ldt(t){let e=t,i,n;const s=[];for(;typeof e=="object";)i??(i=e.palette),n??(n=e.params),e.overrides&&s.push(e.overrides),e=e.baseTheme;return{baseTheme:e,overrides:ne(...s),params:n,palette:i}}var cdt={baseTheme:zd(Pa,o1),overrides:o1,params:o1,palette:{fills:eL(Pa),strokes:eL(Pa),up:{fill:Pa,stroke:Pa},down:{fill:Pa,stroke:Pa},neutral:{fill:Pa,stroke:Pa}}},udt=new Set(["map-shape-background","map-line-background"]),bw=class qr{constructor(e,i,n,s,a,o=!1){this.themeParameters={},this.debug=Qe.create(!0,"opts"),this.optionMetadata=s??{},this.processedOverrides=i??{};let r=null;if(e instanceof qr){if(r=e,this.specialOverrides=r.specialOverrides,!a)throw new Error("AG Charts - internal error: deltaOptions must be supplied.");this.userOptions=ne(a,mn(r.userOptions,qr.OPTIONS_CLONE_OPTS))}else this.userOptions=e,this.specialOverrides=this.specialOverridesDefaults({...n});o&&this.removeLeftoverSymbols(this.userOptions);let l,c,h,p,f;!o&&a!=null&&qr.isFastPathDelta(a)&&r!=null?{activeTheme:l,processedOptions:c,defaultAxes:h,fastDelta:p}=this.fastSetup(a,r):{activeTheme:l,processedOptions:c,defaultAxes:h,themeParameters:f}=this.slowSetup(i,a,o),this.activeTheme=l,this.processedOptions=c,this.defaultAxes=h,this.fastDelta=p,this.themeParameters=f??{}}static isFastPathDelta(e){for(const i of Object.keys(e))if(!this.FAST_PATH_OPTIONS.has(i))return!1;return!0}fastSetup(e,i){const{activeTheme:n,defaultAxes:s,processedOptions:a}=i,{presetType:o}=this.optionMetadata,r=o?Yht[o]:void 0;o!=null&&e.data!=null&&r!=null&&(e=ne(r(e.data),e)),this.fastSeriesSetup(e,a);const l=ne(e,a);return{activeTheme:n,defaultAxes:s,processedOptions:l,fastDelta:e}}fastSeriesSetup(e,i){var n;e.series&&((n=e.series)!=null&&n.every((s,a)=>{var o;return EH(s,((o=i.series)==null?void 0:o[a])??{})})?delete e.series:e.series=e.series.map((s,a)=>{var o;return ne(s,((o=i.series)==null?void 0:o[a])??{})}))}slowSetup(e,i,n=!1){var v;let s=mn(this.userOptions,qr.OPTIONS_CLONE_OPTS);i&&(s=ne(i,s),n&&this.removeLeftoverSymbols(s));const{presetType:a}=this.optionMetadata;if(a!=null){const D=Wht[a],I=this.userOptions,T=this.userOptions.type,k=T!=null?WM(this.userOptions.theme).presets[T]:void 0;this.debug(">>> AgCharts.createOrUpdate() - applying preset",I),s=(D==null?void 0:D(I,k,()=>this.activeTheme))??s}qs.isEnterprise||Bj(s);const o=WM(s.theme);this.sanityCheck(s),this.removeDisabledOptions(s);const r=this.optionsType(s),{axes:l={},annotations:c={},series:h,...p}=this.getSeriesThemeConfig(r,o),[f,y]=this.splitAnnotationsOptions(c);this.annotationThemes=mn(y);const m=this.getDefaultAxes(s,h);let b=ne(e,s,f,p,m);this.processAxesOptions(b,l),this.processSeriesOptions(b,o),this.processMiniChartSeriesOptions(b,o),b=mn(b,qr.OPTIONS_CLONE_OPTS);const S=this.getThemeParameters(o,b);return this.resolveThemeOperations(S,S),this.resolveThemeOperations(S,b),this.resolveThemeOperations(S,this.annotationThemes),(vE(b)||bW(b)||act(b))&&((v=b.legend)==null?void 0:v.enabled)==null&&(b.legend??(b.legend={}),b.legend.enabled=b.series.length>1),this.enableConfiguredOptions(b,this.userOptions),o.templateTheme(b,!1),this.removeDisabledOptions(s),$ht(b),qs.isEnterprise||Bj(b,!0),this.debug("AgCharts.createOrUpdate() - processed options",b),{activeTheme:o,processedOptions:b,defaultAxes:m,themeParameters:S}}diffOptions(e){return this===e?{}:e==null?this.processedOptions:this.fastDelta??Lc(e.processedOptions,this.processedOptions)}getSeriesThemeConfig(e,i){return(i==null?void 0:i.config[e])??{}}getDefaultAxes(e,i){var a;const n=this.optionsType(e);let s=((a=e.series)==null?void 0:a.find(o=>(o.type??"line")===n))??{};return fa.isDerivedDefaultAxes(n)&&(s=ne(s,i)),fa.cloneDefaultAxes(n,s)}optionsType(e){var i,n;return((n=(i=e.series)==null?void 0:i[0])==null?void 0:n.type)??"line"}sanityCheck(e){this.axesTypeIntegrity(e),this.seriesTypeIntegrity(e),this.soloSeriesIntegrity(e)}splitAnnotationsOptions(e){const{axesButtons:i=null,enabled:n=null,optionsToolbar:s=null,toolbar:a=null,...o}=e;return i==null&&n==null&&s==null&&a==null?[{},o]:[{annotations:{axesButtons:i,enabled:n,optionsToolbar:s,toolbar:a}},o]}processAxesOptions(e,i){var n;"axes"in e&&(e.axes=(n=e.axes)==null?void 0:n.map(s=>{var y,m,b;const{crossLines:a,...o}=ne((y=i[s.type])==null?void 0:y[s.position],i[s.type]);s.crossLines&&(s.crossLines=MM(s.crossLines,a));const r=(m=o.gridLine)==null?void 0:m.style;(b=s.gridLine)!=null&&b.style&&(r!=null&&r.length)&&(s.gridLine.style=s.gridLine.style.map((S,v)=>S.stroke!=null||S.lineDash!=null?ne(S,r.at(v%r.length)):S));const{top:l,right:c,bottom:h,left:p,...f}=ne(s,o);return f}))}processSeriesOptions(e,i){var r,l;const n=this.getTooltipPositionDefaults(e),s=Un(e.theme)?wL((r=e.theme)==null?void 0:r.palette):"inbuilt",a={colourIndex:0,userPalette:s},o=(l=e.series)==null?void 0:l.map(c=>{c.type??(c.type=this.getDefaultSeriesType(e));const{innerLabels:h,...p}=this.getSeriesThemeConfig(c.type,i).series??{},f=udt.has(c.type)?{colourIndex:0,userPalette:s}:a,y=this.getSeriesPalette(c.type,f,i),m=this.getTooltipRangeDefaults(e,c.type),b=ne(this.getSeriesGroupingOptions(c),c,n,m,p,y,{visible:!0});return b.innerLabels&&(b.innerLabels=MM(b.innerLabels,h)),b});e.series=this.setSeriesGroupingOptions(o??[])}processMiniChartSeriesOptions(e,i){var a,o;let n=(o=(a=e.navigator)==null?void 0:a.miniChart)==null?void 0:o.series;if(n==null)return;const s={colourIndex:0,userPalette:Un(e.theme)?wL(e.theme.palette):"inbuilt"};n=n.map(r=>{r.type??(r.type="line");const{innerLabels:l,...c}=this.getSeriesThemeConfig(r.type,i).series??{};return ne(this.getSeriesGroupingOptions(r),r,c,this.getSeriesPalette(r.type,s,i))}),e.navigator.miniChart.series=this.setSeriesGroupingOptions(n)}getThemeParameters(e,i){const n=e.getPublicParameters();if(!Ns(i.theme)||!i.theme.params)return n;const s=Es(l=>ba(l)&&Ii.validColorString(l),"a color"),a={accentColor:s,axisColor:s,backgroundColor:s,borderColor:s,foregroundColor:s,fontFamily:Pa,fontSize:gc,fontWeight:zd(Pa,gc),gridLineColor:s,padding:gc,subtleTextColor:s,textColor:s,chromeBackgroundColor:s,chromeFontFamily:Pa,chromeFontSize:gc,chromeFontWeight:zd(Pa,gc),chromeSubtleTextColor:s,chromeTextColor:s,inputBackgroundColor:s,inputTextColor:s,crosshairLabelBackgroundColor:s,crosshairLabelTextColor:s},{valid:o,errors:r}=vA(i.theme.params,a);for(const{message:l}of r)It.warnOnce(l);return ne(o,n)}resolveThemeOperations(e,i){const n=wH(i,e,new Set(["palette","data"]));this.debug("resolveTheme()",n)}getSeriesPalette(e,i,n){const s=fa.getPaletteFactory(e),{colourIndex:a,userPalette:o}=i,{fills:r=[],strokes:l=[]}=n.palette;return s==null?void 0:s({userPalette:o,colorsCount:Math.max(r.length,l.length),themeTemplateParameters:n.getTemplateParameters(),palette:n.palette,takeColors(c){return i.colourIndex+=c,{fills:u_(r,c,a),strokes:u_(l,c,a)}}})}getSeriesGroupingOptions(e){const i=fa.isGroupable(e.type),n=fa.isStackable(e.type),s=fa.isStackedByDefault(e.type);e.grouped&&!i&&It.warnOnce(`unsupported grouping of series type "${e.type}".`),(e.stacked||e.stackGroup)&&!n&&It.warnOnce(`unsupported stacking of series type "${e.type}".`);let{grouped:a,stacked:o}=e;return o??(o=(s||e.stackGroup!=null)&&!(i&&a)),a??(a=!0),{stacked:n&&o,grouped:i&&a&&!(n&&o)}}setSeriesGroupingOptions(e){const i=this.getSeriesGrouping(e);this.debug("setSeriesGroupingOptions() - series grouping: ",i);const n={},s=i.reduce((a,o)=>{var r;return o.groupType==="default"||(a[r=o.seriesType]??(a[r]=0),a[o.seriesType]+=o.groupType==="stack"?1:o.series.length),a},{});return i.flatMap(a=>{var o;switch(n[o=a.seriesType]??(n[o]=0),a.groupType){case"stack":{const r=n[a.seriesType]++;return a.series.map((l,c)=>Object.assign(l,{seriesGrouping:{groupId:a.groupId,groupIndex:r,groupCount:s[a.seriesType],stackIndex:c,stackCount:a.series.length}}))}case"group":return a.series.map(r=>Object.assign(r,{seriesGrouping:{groupId:a.groupId,groupIndex:n[a.seriesType]++,groupCount:s[a.seriesType],stackIndex:0,stackCount:0}}))}return a.series}).map(({stacked:a,grouped:o,...r})=>r)}getSeriesGroupId(e){return[e.type,e.xKey,e.stacked?e.stackGroup??"stacked":"grouped"].filter(Boolean).join("-")}getSeriesGrouping(e){const i=new Map;return e.reduce((n,s)=>{const a=s.type;if(!s.stacked&&!s.grouped)n.push({groupType:"default",seriesType:a,series:[s],groupId:"__default__"});else{const o=this.getSeriesGroupId(s);if(!i.has(o)){const l={groupType:s.stacked?"stack":"group",seriesType:a,series:[],groupId:o};i.set(o,l),n.push(l)}i.get(o).series.push(s)}return n},[])}getDefaultSeriesType(e){switch(Gd.detectChartDefinition(e).name){case"cartesian":return"line";case"polar":return"pie";case"hierarchy":return"treemap";case"topology":return"map-shape";case"flow-proportion":return"sankey";case"standalone":return"pyramid";case"gauge":return"radial-gauge";default:throw new Error("Invalid chart options type detected.")}}getTooltipPositionDefaults(e){var r;const i=(r=e.tooltip)==null?void 0:r.position;if(!Ns(i))return;const{type:n,xOffset:s,yOffset:a}=i,o={};return ba(n)&&gst(GY,n)&&(o.type=n),xe(s)&&(o.xOffset=s),xe(a)&&(o.yOffset=a),{tooltip:{position:o}}}getTooltipRangeDefaults(e,i){var n,s;return{tooltip:{range:((n=e.tooltip)==null?void 0:n.range)??((s=fa.getTooltipDefauls(i))==null?void 0:s.range)}}}axesTypeIntegrity(e){if("axes"in e&&e.axes){const i=e.axes;for(const{type:n}of i)if(!rct(n)){delete e.axes;const s=[...Sc.keys()].join(", ");It.warnOnce(`unknown axis type: ${n}; expected one of: ${s}`)}}}seriesTypeIntegrity(e){var i;e.series=(i=e.series)==null?void 0:i.filter(({type:n})=>{if(n==null||oct(n)||zlt(n))return!0;It.warnOnce(`unknown series type: ${JSON.stringify(n)}; expected one of: ${yW.seriesTypes.join(", ")}`)})}soloSeriesIntegrity(e){const i=e.series;if(i&&i.length>1&&i.some(n=>fa.isSolo(n.type))){const n=this.optionsType(e);if(fa.isSolo(n))It.warn(`series[0] of type '${n}' is incompatible with other series types. Only processing series[0]`),e.series=i.slice(0,1);else{const{solo:s,nonSolo:a}=IN(i,r=>fa.isSolo(r.type)?"solo":"nonSolo"),o=ost(s.map(r=>r.type)).join(", ");It.warn(`Unable to mix these series types with the lead series type: ${o}`),e.series=a}}}static enableConfiguredJsonOptions(e,i){typeof i=="object"&&"enabled"in i&&!i._enabledFromTheme&&e.enabled==null&&(i.enabled=!0)}static cleanupEnabledFromThemeJsonOptions(e){e._enabledFromTheme!=null&&delete e._enabledFromTheme}enableConfiguredOptions(e,i){xc(i,qr.enableConfiguredJsonOptions,new Set(["data","theme"]),e),xc(e,qr.cleanupEnabledFromThemeJsonOptions,new Set(["data","theme"]))}static removeDisabledOptionJson(e){"enabled"in e&&e.enabled===!1&&Object.keys(e).forEach(i=>{i!=="enabled"&&delete e[i]})}removeDisabledOptions(e){xc(e,qr.removeDisabledOptionJson,new Set(["data","theme"]))}static removeLeftoverSymbolsJson(e){if(!(!e||!Un(e)))for(const[i,n]of Object.entries(e))yst(n)&&delete e[i]}removeLeftoverSymbols(e){xc(e,qr.removeLeftoverSymbolsJson,new Set(["data"]))}specialOverridesDefaults(e){if(e.window!=null?sU(e.window):typeof window<"u"?e.window=window:typeof global<"u"&&(e.window=global.window),e.document!=null?nU(e.document):typeof document<"u"?e.document=document:typeof global<"u"&&(e.document=global.document),e.window==null)throw new Error("AG Charts - unable to resolve global window");if(e.document==null)throw new Error("AG Charts - unable to resolve global document");return e}};bw.OPTIONS_CLONE_OPTS=new Set(["data","container"]);bw.FAST_PATH_OPTIONS=new Set(["data","width","height"]);var $Y=bw,hdt=100,vw=class Nd{constructor(e,i,n,s,a,o=hdt){this.name=e,this.buildItem=i,this.releaseItem=n,this.destroyItem=s,this.maxPoolSize=a,this.cleanupTimeMs=o,this.freePool=[],this.busyPool=new Set}static getPool(e,i,n,s,a){return this.pools.has(e)||this.pools.set(e,new Nd(e,i,n,s,a)),this.pools.get(e)}isFull(){return this.freePool.length+this.busyPool.size>=this.maxPoolSize}obtain(e){if(this.freePool.length===0&&this.isFull())throw new Error("AG Charts - pool exhausted");let i=this.freePool.pop();return i==null?(i=this.buildItem(e),Nd.debug(`Pool[name=${this.name}]: Created instance (${this.freePool.length} / ${this.busyPool.size+1} / ${this.maxPoolSize})`,i)):Nd.debug(`Pool[name=${this.name}]: Re-used instance (${this.freePool.length} / ${this.busyPool.size+1} / ${this.maxPoolSize})`,i),this.busyPool.add(i),{item:i,release:()=>this.release(i)}}release(e){if(!this.busyPool.has(e))throw new Error("AG Charts - cannot free item from pool which is not tracked as busy.");Nd.debug(`Pool[name=${this.name}]: Releasing instance (${this.freePool.length} / ${this.busyPool.size} / ${this.maxPoolSize})`,e),this.releaseItem(e),this.busyPool.delete(e),this.freePool.push(e),Nd.debug(`Pool[name=${this.name}]: Returned instance to free pool (${this.freePool.length} / ${this.busyPool.size} / ${this.maxPoolSize})`,e),this.cleanPoolTimer&&clearTimeout(this.cleanPoolTimer),this.cleanPoolTimer=setTimeout(()=>{this.cleanPool()},this.cleanupTimeMs)}cleanPool(){const e=this.freePool.splice(0);for(const i of e)this.destroyItem(i);Nd.debug(`Pool[name=${this.name}]: Cleaned pool of ${e.length} items (${this.freePool.length} / ${this.busyPool.size} / ${this.maxPoolSize})`)}destroy(){this.cleanPool();for(const e of this.busyPool.values())this.destroyItem(e);this.busyPool.clear()}};vw.pools=new Map;vw.debug=Qe.create(!0,"pool");var ddt=vw;Gd.registerMany([Jct,vht]);var yc=Qe.create(!0,"opts"),Bo=class{static licenseCheck(t){var e,i;this.licenseChecked||(this.licenseManager=(e=qs.licenseManager)==null?void 0:e.call(qs,t),(i=this.licenseManager)==null||i.validateLicense(),this.licenseChecked=!0)}static getLicenseDetails(t){var e;return(e=qs.licenseManager)==null?void 0:e.call(qs,{}).getLicenseDetails(t)}static getInstance(t){return _j.getInstance(t)}static create(t,e){return yc.group("AgCharts.create()",()=>{var n,s;this.licenseCheck(t);const i=_j.createOrUpdate({userOptions:t,licenseManager:this.licenseManager,optionsMetadata:e});return(n=this.licenseManager)!=null&&n.isDisplayWatermark()&&this.licenseManager&&((s=qs.injectWatermark)==null||s.call(qs,i.chart.ctx.domManager,this.licenseManager.getWatermarkMessage())),i})}static createFinancialChart(t){return yc.group("AgCharts.createFinancialChart()",()=>this.create(t,{presetType:"price-volume"}))}static createGauge(t){return yc.group("AgCharts.createGauge()",()=>this.create(t,{presetType:"gauge"}))}static __createSparkline(t){return yc.group("AgCharts.__createSparkline()",()=>{const{pool:e,...i}=t;return this.create(i,{presetType:"sparkline",pool:e??!0})})}};Bo.licenseChecked=!1;var ol=class _u{static getInstance(e){const i=qA.getInstance(e);return i?gj.chartInstances.get(i):void 0}static initialiseModules(){_u.initialised||(yht(),mht(),_u.initialised=!0)}static createOrUpdate(e){var E,w;let{proxy:i}=e;const{userOptions:n,licenseManager:s,processedOverrides:a=(i==null?void 0:i.chart.chartOptions.processedOverrides)??{},specialOverrides:o=(i==null?void 0:i.chart.chartOptions.specialOverrides)??{},optionsMetadata:r=(i==null?void 0:i.chart.chartOptions.optionMetadata)??{},deltaOptions:l,stripSymbols:c=!1}=e,h=qs.styles!=null?[["ag-charts-enterprise",qs.styles]]:[],{presetType:p}=r;_u.initialiseModules(),yc(()=>[">>> AgCharts.createOrUpdate() user options",mn(n)]);let f=n;Bo.optionsMutationFn&&f&&(f=Bo.optionsMutationFn(mn(f),p),yc(()=>[">>> AgCharts.createOrUpdate() MUTATED user options",mn(f)]));const{document:y,window:m,styleContainer:b,...S}=f??{},v=(l?i==null?void 0:i.chart.getChartOptions():S)??S,D=new $Y(v,a,{...o,document:y,window:m,styleContainer:b},r,l,c);let I=!1,T=i==null?void 0:i.chart,k;return(T==null||Gd.detectChartDefinition(D.processedOptions)!==Gd.detectChartDefinition(T.chartOptions.processedOptions))&&(k=(E=this.getPool(D))==null?void 0:E.obtain(D),k?T=k.item:(I=!0,T=_u.createChartInstance(D,T)),h.forEach(([R,O])=>{T==null||T.ctx.domManager.addStyles(R,O)})),i==null?(i=new gj(T,_u.callbackApi,s),i.releaseChart=k==null?void 0:k.release):(k||I)&&((w=i.releaseChart)==null||w.call(i),i.chart=T,i.releaseChart=k==null?void 0:k.release),yc.check()&&typeof window<"u"&&(window.agChartInstances??(window.agChartInstances={}),window.agChartInstances[T.id]=T),T.queuedUserOptions.push(D.userOptions),T.queuedChartOptions.push(D),T.requestFactoryUpdate(R=>{yc.group(">>>> Chart.applyOptions()",()=>{R.applyOptions(D);const O=R.queuedUserOptions.indexOf(D.userOptions)+1;R.queuedUserOptions.splice(0,O),R.queuedChartOptions.splice(0,O)})}),i}static markRemovedProperties(e,i,n=!1){if(typeof e!="object")return n;for(const[s,a]of Object.entries(e))typeof a>"u"&&(Object.assign(e,{[s]:Symbol("UNSET")}),n||(n=!0));return n}static updateUserDelta(e,i){i=mn(i,new Set(["data"]));const n=xc(i,_u.markRemovedProperties,new Set(["data"]),void 0,void 0,!1);yc(()=>[">>> AgCharts.updateUserDelta() user delta",mn(i)]),_u.createOrUpdate({proxy:e,deltaOptions:i,stripSymbols:n})}static createChartInstance(e,i){const n=i==null?void 0:i.destroy({keepTransferableResources:!0});return Gd.detectChartDefinition(e.processedOptions).create(e,n)}static getPool(e){if(e.optionMetadata.pool===!0)return ddt.getPool(e.optionMetadata.presetType??"default",this.createChartInstance,this.detachAndClear,this.destroy,1/0)}};ol.caretaker=new FH(EM);ol.initialised=!1;ol.callbackApi={caretaker:ol.caretaker,create(t,e,i,n){return ol.createOrUpdate({userOptions:t,processedOverrides:e,specialOverrides:i,optionsMetadata:n})},update(t,e){return ol.createOrUpdate({userOptions:t,proxy:e})},updateUserDelta(t,e){return ol.updateUserDelta(t,e)}};ol.detachAndClear=t=>t.detachAndClear();ol.destroy=t=>t.destroy();var _j=ol,pdt={};Ho(pdt,{Arc:()=>Al,BBox:()=>Rt,Caption:()=>qe,CategoryScale:()=>pb,Group:()=>Kt,Line:()=>Ka,LinearScale:()=>mr,Marker:()=>En,Path:()=>na,RadialColumnShape:()=>Xo,Rect:()=>ws,Scene:()=>KA,Sector:()=>$n,Shape:()=>Go,TranslatableGroup:()=>ta,getRadialColumnWidth:()=>KY,toRadians:()=>bn});var Al=class extends na{constructor(){super(),this.centerX=0,this.centerY=0,this.radius=10,this.startAngle=0,this.endAngle=Math.PI*2,this.counterClockwise=!1,this.type=0,this.restoreOwnStyles()}get fullPie(){return hr(si(this.startAngle),si(this.endAngle))}updatePath(){const t=this.path;t.clear(),t.arc(this.centerX,this.centerY,this.radius,this.startAngle,this.endAngle,this.counterClockwise),this.type===1?t.closePath():this.type===2&&!this.fullPie&&(t.lineTo(this.centerX,this.centerY),t.closePath())}computeBBox(){return new Rt(this.centerX-this.radius,this.centerY-this.radius,this.radius*2,this.radius*2)}isPointInPath(t,e){const i=this.getBBox();return this.type!==0&&i.containsPoint(t,e)&&this.path.isPointInPath(t,e)}};Al.className="Arc";N([Zt()],Al.prototype,"centerX",2);N([Zt()],Al.prototype,"centerY",2);N([Zt()],Al.prototype,"radius",2);N([Zt()],Al.prototype,"startAngle",2);N([Zt()],Al.prototype,"endAngle",2);N([Zt()],Al.prototype,"counterClockwise",2);N([Zt()],Al.prototype,"type",2);function O1(t,e,i){const n=Math.sqrt(t**2+e**2),a=Math.atan2(e,t)+i;return{x:Math.cos(a)*n,y:Math.sin(a)*n}}var Xo=class extends na{constructor(){super(...arguments),this.isBeveled=!0,this.columnWidth=0,this.startAngle=0,this.endAngle=0,this.outerRadius=0,this.innerRadius=0,this.axisInnerRadius=0,this.axisOuterRadius=0,this.isRadiusAxisReversed=!1}set cornerRadius(e){}computeBBox(){const{innerRadius:e,outerRadius:i,columnWidth:n}=this,s=this.getRotation(),a=-n/2,o=n/2,r=-i,l=-e;let c=1/0,h=1/0,p=-1/0,f=-1/0;for(let y=0;y<4;y+=1){const{x:m,y:b}=O1(y%2===0?a:o,y<2?r:l,s);c=Math.min(m,c),h=Math.min(b,h),p=Math.max(m,p),f=Math.max(b,f)}return new Rt(c,h,p-c,f-h)}getRotation(){const{startAngle:e,endAngle:i}=this,n=_A(e,i);return si(e+n/2+Math.PI/2)}updatePath(){const{isBeveled:e}=this;e?this.updateBeveledPath():this.updateRectangularPath(),this.checkPathDirty()}updateRectangularPath(){const{columnWidth:e,innerRadius:i,outerRadius:n,path:s}=this,a=-e/2,o=e/2,r=-n,l=-i,c=this.getRotation(),h=[[a,l],[a,r],[o,r],[o,l]].map(([p,f])=>O1(p,f,c));s.clear(!0),s.moveTo(h[0].x,h[0].y),s.lineTo(h[1].x,h[1].y),s.lineTo(h[2].x,h[2].y),s.lineTo(h[3].x,h[3].y),s.closePath()}updateBeveledPath(){const{columnWidth:e,path:i,outerRadius:n,innerRadius:s,axisInnerRadius:a,axisOuterRadius:o,isRadiusAxisReversed:r}=this,l=hr(s,a),c=Math.asin(e/2/s),h=this.getRotation(),p=(O,L)=>O1(O,L,h),f=(O,L)=>Math.sqrt(O**2+L**2),y=(O,L)=>L>O?0:Math.sqrt(O**2-L**2),m=(O,L,F)=>F?O<L:O>L,b=l&&!isNaN(c)&&c<Math.PI/6;let S=-e/2,v=e/2;const D=-n,I=-s*(b?Math.cos(c):1),T=m(o,f(s,e/2),!r);if(T){const O=y(o,s);S=-O,v=O}i.clear(!0);const k=p(S,I);i.moveTo(k.x,k.y);const E=hr(s,n),w=m(o,f(n,e/2),!r);if(E&&b)i.arc(0,0,s,si(-c-Math.PI/2)+h,si(c-Math.PI/2)+h,!1);else if(w){const O=-y(o,e/2),L=y(o,n);if(!T){const F=p(S,O);i.lineTo(F.x,F.y)}if(i.arc(0,0,o,Math.atan2(O,S)+h,Math.atan2(D,-L)+h,!1),!hr(L,0)){const F=p(L,D);i.lineTo(F.x,F.y)}i.arc(0,0,o,Math.atan2(D,L)+h,Math.atan2(O,v)+h,!1)}else{const O=p(S,D),L=p(v,D);i.lineTo(O.x,O.y),i.lineTo(L.x,L.y)}const R=p(v,I);if(i.lineTo(R.x,R.y),b)i.arc(0,0,s,si(c-Math.PI/2)+h,si(-c-Math.PI/2)+h,!0);else{const O=p(S,I);i.lineTo(O.x,O.y)}i.closePath()}};Xo.className="RadialColumnShape";N([Zt()],Xo.prototype,"isBeveled",2);N([Zt()],Xo.prototype,"columnWidth",2);N([Zt()],Xo.prototype,"startAngle",2);N([Zt()],Xo.prototype,"endAngle",2);N([Zt()],Xo.prototype,"outerRadius",2);N([Zt()],Xo.prototype,"innerRadius",2);N([Zt()],Xo.prototype,"axisInnerRadius",2);N([Zt()],Xo.prototype,"axisOuterRadius",2);N([Zt()],Xo.prototype,"isRadiusAxisReversed",2);function KY(t,e,i,n,s){const a=_A(t,e),o=a*(1-n)/2;if(t+=o,e-=o,a<.001)return 2*i*s;if(a>=2*Math.PI){const y=t+a/2;t=y-Math.PI,e=y+Math.PI}const r=i*Math.cos(t),l=i*Math.sin(t),c=i*Math.cos(e),h=i*Math.sin(e),p=Math.floor(Math.sqrt((r-c)**2+(l-h)**2)),f=2*i*s;return Math.max(1,Math.min(f,p))}var fdt={};Ho(fdt,{ChartTheme:()=>Hc,DEFAULT_ANNOTATION_HANDLE_FILL:()=>Lb,DEFAULT_ANNOTATION_STATISTICS_COLOR:()=>wb,DEFAULT_ANNOTATION_STATISTICS_DIVIDER_STROKE:()=>Ob,DEFAULT_ANNOTATION_STATISTICS_DOWN_FILL:()=>Ox,DEFAULT_ANNOTATION_STATISTICS_DOWN_STROKE:()=>Rx,DEFAULT_ANNOTATION_STATISTICS_FILL:()=>Nb,DEFAULT_ANNOTATION_STATISTICS_STROKE:()=>Eb,DEFAULT_BACKGROUND_COLOUR:()=>sD,DEFAULT_CAPTION_ALIGNMENT:()=>Yu,DEFAULT_CAPTION_LAYOUT_STYLE:()=>Wu,DEFAULT_COLOR_RANGE:()=>uD,DEFAULT_DIVERGING_SERIES_COLOR_RANGE:()=>Ia,DEFAULT_FIBONACCI_STROKES:()=>wx,DEFAULT_FINANCIAL_CHARTS_ANNOTATION_BACKGROUND_FILL:()=>xn,DEFAULT_FINANCIAL_CHARTS_ANNOTATION_COLOR:()=>Ci,DEFAULT_FUNNEL_SERIES_COLOR_RANGE:()=>Ml,DEFAULT_GAUGE_SERIES_COLOR_RANGE:()=>Ko,DEFAULT_GRIDLINE_ENABLED:()=>al,DEFAULT_HIERARCHY_FILLS:()=>dD,DEFAULT_HIERARCHY_STROKES:()=>pD,DEFAULT_POLAR_SERIES_STROKE:()=>cD,DEFAULT_SEPARATION_LINES_COLOUR:()=>Ib,DEFAULT_SHADOW_COLOUR:()=>Sh,DEFAULT_SPARKLINE_CROSSHAIR_STROKE:()=>hD,DEFAULT_TEXTBOX_COLOR:()=>Bb,DEFAULT_TEXTBOX_FILL:()=>Rb,DEFAULT_TEXTBOX_STROKE:()=>Pb,DEFAULT_TEXT_ANNOTATION_COLOR:()=>kb,DEFAULT_TOOLBAR_POSITION:()=>zb,IS_COMMUNITY:()=>zE,IS_DARK_THEME:()=>sg,IS_ENTERPRISE:()=>_E,PALETTE_ALT_DOWN_FILL:()=>VE,PALETTE_ALT_DOWN_STROKE:()=>FE,PALETTE_ALT_NEUTRAL_FILL:()=>UE,PALETTE_ALT_NEUTRAL_STROKE:()=>lD,PALETTE_ALT_UP_FILL:()=>GE,PALETTE_ALT_UP_STROKE:()=>jE,PALETTE_DOWN_FILL:()=>Cb,PALETTE_DOWN_STROKE:()=>oD,PALETTE_NEUTRAL_FILL:()=>rD,PALETTE_NEUTRAL_STROKE:()=>Bg,PALETTE_UP_FILL:()=>Tb,PALETTE_UP_STROKE:()=>aD,getChartTheme:()=>WM,themeNames:()=>gdt,themeSymbols:()=>BE,themes:()=>xw});var gdt=Object.keys(xw),ydt={};Ho(ydt,{Color:()=>Ii,interpolateColor:()=>hU});var _={};Ho(_,{AND:()=>xl,ARRAY:()=>gb,ARRAY_OF:()=>wc,AbstractBarSeries:()=>TY,AbstractBarSeriesProperties:()=>iw,ActionOnSet:()=>Ma,AnchoredPopover:()=>QY,Animation:()=>xU,AnimationManager:()=>JH,Arc:()=>Al,Axis:()=>eE,AxisGroupZIndexMap:()=>AH,AxisInterval:()=>ip,AxisLabel:()=>On,AxisTick:()=>Dg,AxisTickGenerator:()=>TH,AxisTicks:()=>Fdt,BBox:()=>Rt,BBoxValues:()=>SA,BOOLEAN:()=>Gt,BOOLEAN_ARRAY:()=>zat,Background:()=>Og,BackgroundModule:()=>tY,BandScale:()=>db,BarSeries:()=>fD,BarSeriesModule:()=>NY,BaseModuleInstance:()=>VA,BaseProperties:()=>Qt,BaseToolbar:()=>kw,ButtonWidget:()=>Sb,COLOR_GRADIENT:()=>RU,COLOR_STRING:()=>ke,COLOR_STRING_ARRAY:()=>Ya,CachedTextMeasurer:()=>QU,CachedTextMeasurerPool:()=>Pc,Caption:()=>qe,CartesianAxis:()=>vb,CartesianSeries:()=>xh,CartesianSeriesNodeEvent:()=>CE,CartesianSeriesProperties:()=>Gc,CategoryAxis:()=>Tg,CategoryScale:()=>pb,ChangeDetectableProperties:()=>EE,Chart:()=>qA,ChartAxisDirection:()=>$N,ChartEventManager:()=>tW,ChartOptions:()=>$Y,ChartUpdateType:()=>cx,CollapseMode:()=>mY,Color:()=>Ii,ColorScale:()=>dh,ConicGradient:()=>Wdt,ContextMenuRegistry:()=>eW,ContinuousScale:()=>Oe,DATE:()=>ON,DATE_ARRAY:()=>_at,DATE_OR_DATETIME_MS:()=>RN,DEFAULT_CARTESIAN_DIRECTION_KEYS:()=>ap,DEFAULT_CARTESIAN_DIRECTION_NAMES:()=>op,DEFAULT_TOOLTIP_CLASS:()=>Ts,DEFAULT_TOOLTIP_DARK_CLASS:()=>CW,DIRECTION:()=>zU,DOMManager:()=>$H,DataController:()=>fW,DataModel:()=>dW,DataModelSeries:()=>IE,DataService:()=>XA,Debug:()=>Qe,Default:()=>fh,Deprecated:()=>mdt,DeprecatedAndRenamedTo:()=>xdt,DragInterpreter:()=>aW,DraggablePopover:()=>JY,DropShadow:()=>Cr,ExtendedPath2D:()=>Lx,FONT_SIZE_RATIO:()=>PE,FONT_STYLE:()=>Oc,FONT_WEIGHT:()=>Rc,FUNCTION:()=>ea,FloatingToolbar:()=>Xdt,GREATER_THAN:()=>mb,Gradient:()=>zA,Group:()=>Kt,GroupedCategoryAxis:()=>wg,HdpiCanvas:()=>fE,HierarchyNode:()=>Bdt,HierarchySeries:()=>zdt,HierarchySeriesProperties:()=>Mh,HighlightManager:()=>iW,HighlightProperties:()=>TE,HighlightStyle:()=>Db,INTERACTION_RANGE:()=>BA,INTERPOLATION_STEP_POSITION:()=>uY,INTERPOLATION_TYPE:()=>cY,Image:()=>Gg,InteractionManager:()=>QH,InteractionState:()=>qH,InterpolationProperties:()=>zg,Invalidating:()=>Sg,LABEL_PLACEMENT:()=>zN,LARGEST_KEY_INTERVAL:()=>WW,LESS_THAN:()=>yb,LINE_CAP:()=>jat,LINE_DASH:()=>bl,LINE_JOIN:()=>Fat,LINE_STYLE:()=>Gat,Label:()=>wn,LayoutElement:()=>lE,LayoutManager:()=>_H,LegendMarkerLabel:()=>$o,Line:()=>Ka,LineSeries:()=>gD,LineSeriesModule:()=>wY,LinearGradient:()=>lL,LinearScale:()=>mr,Listeners:()=>zc,LogScale:()=>AE,LonLatBBox:()=>_dt,MARKER_SHAPE:()=>wE,MATCHING_CROSSLINE_TYPE:()=>QN,MAX_SPACING:()=>jU,MIN_SPACING:()=>_U,Marker:()=>En,Menu:()=>Ydt,MercatorScale:()=>jdt,ModuleRegistry:()=>Gd,Motion:()=>oL,NAN:()=>OA,NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>fr,NUMBER:()=>fe,NUMBER_ARRAY:()=>RA,NUMBER_OR_NAN:()=>Mg,NativeWidget:()=>gg,NiceMode:()=>bH,Node:()=>lh,NumberAxis:()=>mh,OBJECT:()=>Lt,OBJECT_ARRAY:()=>PN,OR:()=>hh,OVERFLOW_STRATEGY:()=>Uat,ObserveChanges:()=>ph,OrdinalTimeScale:()=>cl,PHASE_METADATA:()=>Dx,PHASE_ORDER:()=>Hf,PLACEMENT:()=>Hat,PLAIN_OBJECT:()=>EU,POSITION:()=>BN,POSITION_TOP_COORDINATES:()=>CM,POSITIVE_NUMBER:()=>Ct,PREV_NEXT_KEYS:()=>ig,Padding:()=>gh,ParallelStateMachine:()=>rot,Path:()=>na,PointerEvents:()=>lU,PolarAxis:()=>yg,PolarSeries:()=>mD,PolarZIndexMap:()=>_Y,Popover:()=>Cw,PropertiesArray:()=>fb,ProxyInteractionService:()=>XH,ProxyOnWrite:()=>lot,ProxyProperty:()=>ui,ProxyPropertyOnWrite:()=>Yn,QUICK_TRANSITION:()=>AM,RATIO:()=>Re,REAL_NUMBER:()=>wU,RENDER_TO_OFFSCREEN_CANVAS_THRESHOLD:()=>zM,RadialColumnShape:()=>Xo,Range:()=>Ir,Rect:()=>ws,RepeatType:()=>mU,Rotatable:()=>Ag,RotatableGroup:()=>sot,RotatableText:()=>JU,SKIP_JS_BUILTINS:()=>LN,SMALLEST_KEY_INTERVAL:()=>HW,SORT_DOMAIN_GROUPS:()=>YW,STRING:()=>Dt,STRING_ARRAY:()=>PU,Scalable:()=>GN,ScalableGroup:()=>not,Scene:()=>KA,SceneChangeDetection:()=>Et,ScenePathChangeDetection:()=>Zt,Sector:()=>$n,SectorBox:()=>RY,Selection:()=>Xi,Series:()=>ZA,SeriesContentZIndexMap:()=>MW,SeriesGroupingChangedEvent:()=>SE,SeriesItemHighlightStyle:()=>Fc,SeriesMarker:()=>Os,SeriesNodeEvent:()=>Mb,SeriesNodePickMode:()=>AW,SeriesProperties:()=>Xa,SeriesTooltip:()=>Rs,SeriesZIndexMap:()=>SW,Shape:()=>Go,SimpleTextMeasurer:()=>HN,SliderWidget:()=>pE,StateMachine:()=>bb,StateMachineProperty:()=>oot,StopProperties:()=>jN,SvgPath:()=>Tw,TEXT_ALIGN:()=>BU,TEXT_WRAP:()=>PA,TICK_INTERVAL:()=>xH,Text:()=>Nn,TextUtils:()=>xi,TextWrapper:()=>YN,ThemeConstants:()=>eY,ThemeSymbols:()=>BE,TimeScale:()=>uH,Toolbar:()=>$dt,ToolbarButtonProperties:()=>Gb,ToolbarButtonWidget:()=>t$,ToolbarWidget:()=>$A,Tooltip:()=>Sl,TooltipManager:()=>wM,TooltipPosition:()=>Lg,Transformable:()=>Ni,TransformableText:()=>pg,Translatable:()=>ep,TranslatableGroup:()=>ta,TranslatableLine:()=>LM,UNION:()=>Je,UpdateService:()=>rW,VERTICAL_ALIGN:()=>Vat,Validate:()=>P,Vec2:()=>Wf,Vec4:()=>xL,WIDGET_HTML_EVENTS:()=>rE,Widget:()=>vl,WidgetEventUtil:()=>vc,ZIndexMap:()=>mH,ZoomManager:()=>oW,accumulateGroup:()=>$W,accumulateStack:()=>KW,accumulatedValue:()=>zW,accumulativeValueProperty:()=>Nx,addHitTestersToQuadtree:()=>tw,adjustLabelPlacement:()=>LY,angleBetween:()=>_A,animationValidation:()=>Ng,applyShapeStyle:()=>Ex,areScalingEqual:()=>ag,area:()=>DL,buildFormatter:()=>hb,buildResetPathFn:()=>QE,calculateDefaultTimeTickFormat:()=>CU,calculateDerivativeExtrema:()=>SL,calculateDerivativeExtremaXY:()=>IW,calculateLabelChartPadding:()=>gH,calculateLabelTranslation:()=>dL,calculatePlacement:()=>ML,checkCrisp:()=>CY,clamp:()=>Jt,clampArray:()=>nL,clippedRoundRect:()=>iM,collapsedStartingBarPosition:()=>jx,compareDates:()=>eH,computeBarFocusBounds:()=>sw,computeMarkerFocusBounds:()=>Fb,countExpandingSearch:()=>sW,countFractionDigits:()=>IA,createButton:()=>Gdt,createCheckbox:()=>Vdt,createDatumId:()=>qi,createDeprecationWarning:()=>Sw,createElement:()=>le,createElementId:()=>Jot,createIcon:()=>ZY,createId:()=>Wo,createSelect:()=>Udt,createSvgElement:()=>zo,createTextArea:()=>Hdt,dateToNumber:()=>Is,datesSortOrder:()=>XN,datumKeys:()=>OM,datumStylerProperties:()=>Ju,deconstructSelectionsOrNodes:()=>LA,deepClone:()=>mn,deepFreeze:()=>sx,defaultTimeTickFormat:()=>wN,diff:()=>Eg,downloadUrl:()=>aU,drawCorner:()=>Xm,drawMarkerUnitPolygon:()=>Km,easing:()=>oL,enterpriseModule:()=>qs,evaluateBezier:()=>RM,extent:()=>jc,extractDecoratedProperties:()=>fU,findMinMax:()=>Hn,findQuadtreeMatch:()=>ew,findRangeExtent:()=>ug,fixNumericExtent:()=>va,focusCursorAtEnd:()=>qot,formatNumber:()=>pH,formatPercent:()=>dH,formatValue:()=>kc,fromToMotion:()=>Ti,generateUUID:()=>Mst,getAngleRatioRadians:()=>HU,getColorStops:()=>YU,getDateTicksForInterval:()=>qN,getDatumRefPoint:()=>gE,getDocument:()=>Tc,getElementBBox:()=>LH,getIconClassNames:()=>UA,getLastFocus:()=>hE,getMissCount:()=>yE,getPath:()=>kN,getPathComponents:()=>hW,getRadialColumnWidth:()=>KY,getWindow:()=>ai,groupAccumulativeValueProperty:()=>th,groupAverage:()=>BW,groupCount:()=>AL,groupStackValueProperty:()=>UW,groupSum:()=>PW,hasNoModifiers:()=>YA,inRange:()=>oU,initMenuKeyNav:()=>HH,initRovingTabIndex:()=>UH,interpolatePoints:()=>FM,isAgFlowProportionChartOptions:()=>sct,isAgGaugeChartOptions:()=>vW,isAgHierarchyChartOptions:()=>ict,isAgStandaloneChartOptions:()=>bW,isAgTopologyChartOptions:()=>nct,isBetweenAngles:()=>Hu,isButtonClickEvent:()=>uE,isContinuous:()=>jA,isDecoratedObject:()=>kA,isDenseInterval:()=>kx,isInputPending:()=>NH,isInteger:()=>rU,isNegative:()=>DA,isNumberEqual:()=>hr,isProperties:()=>pl,isScaleValid:()=>Bx,jsonApply:()=>lx,jsonDiff:()=>Lc,jsonPropertyCompare:()=>EH,jsonResolveOperations:()=>wH,jsonWalk:()=>xc,keyProperty:()=>xr,labelDirectionHandling:()=>yH,legendSymbolSvg:()=>TW,lineDistanceSquared:()=>rx,listDecoratedProperties:()=>Vd,makeAccessibleClickListener:()=>Lrt,mapValues:()=>_st,markerFadeInAnimation:()=>zx,markerPaletteFactory:()=>HE,markerScaleInAnimation:()=>XE,markerSwipeScaleInAnimation:()=>ZE,mergeArrayDefaults:()=>MM,mergeDefaults:()=>ne,midpointStartingBarPosition:()=>Zut,mod:()=>TN,moduleRegistry:()=>ul,motion:()=>qdt,nearestSquared:()=>AA,nearestSquaredInContainer:()=>Cst,normaliseGroupTo:()=>eD,normalisePropertyTo:()=>Ud,normalisedExtentWithMetadata:()=>DE,normalizeAngle180:()=>Ix,normalizeAngle360:()=>si,normalizeAngle360Inclusive:()=>Qat,objectsEqual:()=>Yd,objectsEqualWith:()=>CN,pairUpSpans:()=>hx,partialAssign:()=>aL,pathFadeInAnimation:()=>GM,pathMotion:()=>jM,pathSwipeInAnimation:()=>qE,pickByMatchingAngle:()=>pw,plotAreaPathFill:()=>AY,plotInterpolatedAreaSeriesFillSpans:()=>sM,plotInterpolatedLinePathStroke:()=>nM,plotLinePathStroke:()=>YE,predicateWithMessage:()=>Ge,prepareAreaFillAnimationFns:()=>DY,prepareAreaPathAnimation:()=>IY,prepareAxisAnimationContext:()=>kM,prepareAxisAnimationFunctions:()=>vH,prepareBarAnimationFunctions:()=>Fx,prepareLinePathAnimation:()=>MY,prepareLinePathPropertyAnimation:()=>KE,prepareLinePathStrokeAnimationFns:()=>$E,preparePieSeriesAnimationFunctions:()=>Hd,range:()=>Cx,rangedValueProperty:()=>LE,resetAxisGroupFn:()=>SH,resetAxisLabelSelectionFn:()=>tE,resetAxisLineSelectionFn:()=>MH,resetAxisSelectionFn:()=>JN,resetBarSelectionsFn:()=>Gx,resetIds:()=>Sst,resetLabelFn:()=>Uc,resetMarkerFn:()=>jb,resetMarkerPositionFn:()=>_x,resetMotion:()=>Vn,resetPieSelectionsFn:()=>dw,round:()=>kst,rowCountProperty:()=>VW,sanitizeHtml:()=>ng,scale:()=>As,sectorBox:()=>PY,seriesLabelFadeInAnimation:()=>Ie,seriesLabelFadeOutAnimation:()=>$u,setAttribute:()=>We,setAttributes:()=>$d,setDocument:()=>nU,setElementBBox:()=>NM,setElementStyle:()=>gr,setPath:()=>NN,setWindow:()=>sU,shallowClone:()=>aE,singleSeriesPaletteFactory:()=>_b,solveBezier:()=>PM,sortAndUniqueDates:()=>uL,splitBezier:()=>BM,staticFromToMotion:()=>Ec,stopPageScrolling:()=>WH,sum:()=>eut,sumValues:()=>tD,swapAxisCondition:()=>rY,toDegrees:()=>Jat,toRadians:()=>bn,tooltipContentAriaLabel:()=>kW,trailingAccumulatedValue:()=>_W,trailingAccumulatedValueProperty:()=>sut,updateClipPath:()=>VM,updateLabelNode:()=>kY,validateCrossLineValues:()=>fH,valueProperty:()=>se,visibleRangeIndices:()=>nW,without:()=>sL});function Sw(){return(t,e)=>{const i=[`Property [${t}] is deprecated.`,e].filter(Boolean).join(" ");It.warnOnce(i)}}function mdt(t,e){const i=Sw(),n=e==null?void 0:e.default;return Cc((s,a,o)=>(o!==n&&i(a.toString(),t),o))}function xdt(t,e){const i=Sw();return Cc((n,s,a)=>(a!==n[t]&&(i(s.toString(),`Use [${t}] instead.`),NN(n,t,e?e(a):a)),SM),(n,s)=>(i(s.toString(),`Use [${t}] instead.`),kN(n,t)))}var Wf={add:bdt,angle:Idt,apply:Rdt,equal:wdt,distance:Mdt,distanceSquared:Adt,from:Odt,gradient:Cdt,intercept:kdt,intersectAtX:Ndt,intersectAtY:Ldt,length:Aw,lengthSquared:Sdt,multiply:vdt,normalized:Ddt,origin:Dw,required:Pdt,rotate:Tdt,round:Edt,sub:Mw};function bdt(t,e){return typeof e=="number"?{x:t.x+e,y:t.y+e}:{x:t.x+e.x,y:t.y+e.y}}function Mw(t,e){return typeof e=="number"?{x:t.x-e,y:t.y-e}:{x:t.x-e.x,y:t.y-e.y}}function vdt(t,e){return typeof e=="number"?{x:t.x*e,y:t.y*e}:{x:t.x*e.x,y:t.y*e.y}}function Aw(t){return Math.sqrt(t.x*t.x+t.y*t.y)}function Sdt(t){return t.x*t.x+t.y*t.y}function Mdt(t,e){const i=Mw(t,e);return Math.sqrt(i.x*i.x+i.y*i.y)}function Adt(t,e){const i=Mw(t,e);return i.x*i.x+i.y*i.y}function Ddt(t){const e=Aw(t);return{x:t.x/e,y:t.y/e}}function Idt(t,e=Dw()){return Math.atan2(t.y,t.x)-Math.atan2(e.y,e.x)}function Tdt(t,e,i=Dw()){const n=Aw(t);return{x:i.x+n*Math.cos(e),y:i.y+n*Math.sin(e)}}function Cdt(t,e,i){const n=e.x-t.x;return(i==null?e.y-t.y:i-e.y-(i-t.y))/n}function kdt(t,e,i){return(i==null?t.y:i-t.y)-e*t.x}function Ldt(t,e,i=0,n){return{x:t===1/0?1/0:(i-e)/t,y:n==null?i:n-i}}function Ndt(t,e,i=0,n){const s=t===1/0?1/0:t*i+e;return{x:i,y:n==null?s:n-s}}function Edt(t){return{x:Math.round(t.x),y:Math.round(t.y)}}function wdt(t,e){return t.x===e.x&&t.y===e.y}function Odt(t,e){if(typeof t=="number")return{x:t,y:e};if("currentX"in t)return{x:t.currentX,y:t.currentY};if("offsetWidth"in t)return{x:t.offsetWidth,y:t.offsetHeight};if("width"in t)return[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y+t.height}];if("x1"in t)return[{x:t.x1,y:t.y1},{x:t.x2,y:t.y2}];throw new Error(`Values can not be converted into a vector: [${JSON.stringify(t)}] [${e}]`)}function Rdt(t,e){return t.x=e.x,t.y=e.y,t}function Pdt(t){return{x:(t==null?void 0:t.x)??0,y:(t==null?void 0:t.y)??0}}function Dw(){return{x:0,y:0}}var XY=class aM{constructor(e,i,n,s,a,o,r,l,c){this.series=e,this.datumIndex=i,this.datum=n,this.sizeValue=s,this.colorValue=a,this.sumSize=o,this.depth=r,this.parent=l,this.children=c,this.midPoint={x:0,y:0}}get hasChildren(){return this.children.length>0}walk(e,i=aM.Walk.PreOrder){i===aM.Walk.PreOrder&&e(this),this.children.forEach(n=>{n.walk(e,i)}),i===aM.Walk.PostOrder&&e(this)}*[Symbol.iterator](){yield this;for(const e of this.children)yield*e}};XY.Walk={PreOrder:0,PostOrder:1};var Bdt=XY,zdt=class extends ZA{constructor(t){super({moduleCtx:t,pickModes:[1,0]}),this.colorDomain=[0,0],this.maxDepth=0,this.colorScale=new dh,this.animationState=new bb("empty",{empty:{update:{target:"ready",action:e=>this.animateEmptyUpdateReady(e)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:e=>this.animateReadyHighlight(e),resize:e=>this.animateReadyResize(e),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:e=>this.animateWaitingUpdateReady(e)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:e=>this.animateClearingUpdateEmpty(e)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}resetAnimation(t){t==="initial"?this.animationState.transition("reset"):t==="ready"&&this.animationState.transition("skip")}processData(){const{NodeClass:t}=this,{childrenKey:e,sizeKey:i,colorKey:n,colorRange:s}=this.properties;let a=0,o=1/0,r=-1/0;const l=(f,y,m)=>{const b=m.depth!=null?m.depth+1:0,S=e!=null?f[e]:void 0,v=S==null||S.length===0;let D=i!=null?f[i]:void 0;Number.isFinite(D)?D=Math.max(D,0):D=v?1:0;const I=D;a=Math.max(a,b);const T=n!=null?f[n]:void 0;return typeof T=="number"&&(o=Math.min(o,T),r=Math.max(r,T)),c(new t(this,y,f,D,T,I,b,m,[]),S)},c=(f,y)=>{const{datumIndex:m}=f;return y==null||y.forEach((b,S)=>{const v=l(b,m.concat(S),f);f.children.push(v),f.sumSize+=v.sumSize}),f},h=c(new t(this,[],void 0,0,void 0,0,void 0,void 0,[]),this.data),p=[o,r];this.colorScale.domain=o<r?[o,r]:[0,1],this.colorScale.range=s??["black"],this.colorScale.update(),this.rootNode=h,this.maxDepth=a,this.colorDomain=p}update({seriesRect:t}){this.updateSelections(),this.updateNodes();const e=this.getAnimationData();this.checkResize(t)&&this.animationState.transition("resize",e),this.animationState.transition("update",e)}resetAllAnimation(t){this.ctx.animationManager.stopByAnimationGroupId(this.id)}animateEmptyUpdateReady(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(t)}animateWaitingUpdateReady(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(t)}animateReadyHighlight(t){}animateReadyResize(t){this.resetAllAnimation(t)}animateClearingUpdateEmpty(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(t)}getAnimationData(){return{}}isProcessedDataAnimatable(){return!0}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}getSeriesDomain(){return[NaN,NaN]}getSeriesRange(t,e){return[NaN,NaN]}getLegendData(t){const{colorKey:e,colorName:i,colorRange:n}=this.properties,{id:s,ctx:{legendManager:a},visible:o}=this;return t==="gradient"&&e!=null&&n!=null?[{legendType:"gradient",enabled:o&&a.getItemEnabled({seriesId:s}),seriesId:s,colorName:i,colorRange:n,colorDomain:this.colorDomain}]:[]}getDatumIdFromData(t){return t.datumIndex.join(":")}getDatumId(t){return this.getDatumIdFromData(t)}removeMeIndexPathForIndex(t){var e;return((e=this.datumSelection.at(t+1))==null?void 0:e.datum.datumIndex)??[]}removeMeIndexForIndexPath(t){for(const{index:e,datum:i}of this.datumSelection)if(ll(i.datumIndex,t))return e-1;return 0}pickFocus(t){var l;if(!((l=this.rootNode)!=null&&l.children.length))return;const e=Jt(0,t.datumIndex-t.datumIndexDelta,this.datumSelection.length-1),{datumIndexDelta:i,otherIndexDelta:n}=t;let s=this.removeMeIndexPathForIndex(e);const a=s.reduce((c,h)=>c.children[h],this.rootNode);if(n>0&&a.hasChildren)s=[...s,0];else if(n<0&&s.length>1)s=s.slice(0,-1);else if(n===0&&i!==0){const c=a.parent.children.length-1;s=s.slice(),s[s.length-1]=Jt(0,s[s.length-1]+i,c)}const o=s.reduce((c,h)=>c.children[h],this.rootNode),r=this.computeFocusBounds(this.datumSelection.at(e+1));if(r!=null)return{datum:o,datumIndex:this.removeMeIndexForIndexPath(s),otherIndex:o.depth,bounds:r,clipFocusBox:!0}}getDatumAriaText(t,e){if(!(t instanceof this.NodeClass)){It.error(`datum is not HierarchyNode: ${JSON.stringify(t)}`);return}return this.ctx.localeManager.t("ariaAnnounceHierarchyDatum",{level:(t.depth??-1)+1,count:t.children.length,description:e})}},Mh=class extends Xa{constructor(){super(...arguments),this.childrenKey="children",this.fills=Object.values($i),this.strokes=Object.values(Qr)}};N([P(Dt)],Mh.prototype,"childrenKey",2);N([P(Dt,{optional:!0})],Mh.prototype,"sizeKey",2);N([P(Dt,{optional:!0})],Mh.prototype,"colorKey",2);N([P(Dt,{optional:!0})],Mh.prototype,"colorName",2);N([P(Ya)],Mh.prototype,"fills",2);N([P(Ya)],Mh.prototype,"strokes",2);N([P(Ya,{optional:!0})],Mh.prototype,"colorRange",2);var _dt=class{constructor(e,i,n,s){this.lon0=e,this.lat0=i,this.lon1=n,this.lat1=s}merge(e){this.lon0=Math.min(this.lon0,e.lon0),this.lat0=Math.min(this.lat0,e.lat0),this.lon1=Math.max(this.lon1,e.lon1),this.lat1=Math.max(this.lat1,e.lat1)}},bD=Math.PI/180,R1=t=>t*bD,P1=t=>-Math.log(Math.tan(Math.PI*.25+t*bD*.5)),B1=t=>t/bD,z1=t=>(Math.atan(Math.exp(-t))-Math.PI*.25)/(bD*.5),jdt=class PL extends NA{constructor(e,i){super(),this.domain=e,this.range=i,this.type="mercator",this.bounds=PL.bounds(e)}static bounds(e){const[[i,n],[s,a]]=e,o=R1(i),r=P1(n),l=R1(s),c=P1(a);return new Rt(Math.min(o,l),Math.min(r,c),Math.abs(l-o),Math.abs(c-r))}static fixedScale(){return new PL([[B1(0),z1(0)],[B1(1),z1(1)]],[[0,0],[1,1]])}toDomain(){}normalizeDomains(...e){let i=-1/0,n=1/0,s=-1/0,a=1/0;for(const o of e)for(const[r,l]of o)i=Math.min(r,i),n=Math.max(r,n),s=Math.min(l,s),a=Math.max(l,a);return{domain:[[i,s],[n,a]],animatable:!0}}convert([e,i]){const[[n,s],[a,o]]=this.range,r=(a-n)/this.bounds.width,l=(o-s)/this.bounds.height;return[(R1(e)-this.bounds.x)*r+n,(P1(i)-this.bounds.y)*l+s]}invert([e,i]){const[[n,s],[a,o]]=this.range,r=(a-n)/this.bounds.width,l=(o-s)/this.bounds.height;return[B1((e-n)/r+this.bounds.x),z1((i-s)/l+this.bounds.y)]}},Iw=class BL{constructor(){this.id=Wo(this),this.axisGroup=new ta({name:`${this.id}-AxisTicks`,zIndex:2}),this.labelSelection=Xi.select(this.axisGroup,Nn),this.interval=new ip,this.label=new On,this.scale=new mr,this.position="bottom",this.translationX=0,this.translationY=0,this.padding=0}attachAxis(e){e.appendChild(this.axisGroup)}calculateLayout(){const e=[],i=this.generateTicks(),{translationX:n,translationY:s}=this;return this.labelSelection.update(i.ticks.map(a=>this.createLabelDatum(a)),void 0,a=>a.tickId),this.labelSelection.each((a,o)=>{a.setProperties(o),o.visible&&e.push(a.getBBox())}),this.axisGroup.setProperties({translationX:n,translationY:s}),Rt.merge(e)}getLabelParams(e){const{padding:i}=this,{translate:n}=e;switch(this.position){case"top":case"bottom":return{x:n,y:i,textAlign:"center",textBaseline:"top"};case"left":case"right":return{x:i,y:n,textAlign:"start",textBaseline:"middle"}}}inRange(e,i=.001){const[n,s]=Hn(this.scale.range);return e>=n-i&&e<=s+i}createLabelDatum(e){const{x:i,y:n,textBaseline:s,textAlign:a}=this.getLabelParams(e);return{visible:!!e.tickLabel,tickId:e.tickId,fill:this.label.color,fontFamily:this.label.fontFamily,fontSize:this.label.fontSize,fontStyle:this.label.fontStyle,fontWeight:this.label.fontWeight,rotation:0,rotationCenterX:0,text:e.tickLabel,textAlign:a,textBaseline:s,x:i,y:n}}generateTicks(){const{minSpacing:e,maxSpacing:i}=this.interval,{maxTickCount:n,minTickCount:s,tickCount:a}=cH(ug(this.scale.range),1,e,i,BL.DefaultTickCount,BL.DefaultMinSpacing),o=this.getTicksData({nice:!0,interval:this.interval.step,tickCount:a,minTickCount:s,maxTickCount:n});if(this.position==="bottom"||this.position==="top"){const r=Pc.getMeasurer({font:this.label}),{domain:l}=this.scale,h=l[0]>l[1]?-1:1;let p=-1/0*h;o.ticks=o.ticks.filter(f=>Math.sign(f.translate-p)!==h?!1:(p=f.translate+r.textWidth(f.tickLabel,!0)*h,!0))}return o}getTicksData(e){var l,c;const i=[],n=e.nice?this.scale.niceDomain(e):this.scale.domain,s=this.scale.ticks(e,n),a=s.reduce((h,p)=>Math.max(h,IA(p)),0),o=iE(),r=this.label.format?this.scale.tickFormatter({domain:n,ticks:s,fractionDigits:a,specifier:this.label.format}):h=>kc(h,a);for(let h=0;h<s.length;h++){const p=s[h],f=this.scale.convert(p);if(!this.inRange(f))continue;const y=((c=(l=this.label).formatter)==null?void 0:c.call(l,{value:p,index:h,fractionDigits:a}))??r(p),m=o(y);i.push({tick:p,tickId:m,tickLabel:y,translate:f})}return{rawTicks:s,fractionDigits:a,ticks:i}}};Iw.DefaultTickCount=5;Iw.DefaultMinSpacing=10;var Fdt=Iw;function Gdt(t,e){const i=le("button",vD("ag-charts-input ag-charts-button",e));return t.label!==void 0?i.append(t.label):(i.append(ZY(t.icon)),i.ariaLabel=t.altText),i.addEventListener("click",t.onPress),$d(i,e),i}function Vdt(t,e){const i=le("input",vD("ag-charts-input ag-charts-checkbox",e));return i.type="checkbox",i.checked=t.checked,i.addEventListener("change",n=>t.onChange(i.checked,n)),i.addEventListener("keydown",n=>{uE(n)&&(n.preventDefault(),i.click())}),$d(i,e),i}function Udt(t,e){const i=le("select",vD("ag-charts-input ag-charts-select",e));return i.append(...t.options.map(n=>{const s=le("option");return s.value=n.value,s.textContent=n.label,s})),We(i,"data-preventdefault",!1),i.value=t.value,i.addEventListener("change",n=>t.onChange(i.value,n)),$d(i,e),i}function Hdt(t,e){const i=le("textarea",vD("ag-charts-input ag-charts-textarea",e));return i.value=t.value,i.addEventListener("input",n=>t.onChange(i.value,n)),$d(i,e),We(i,"data-preventdefault",!1),i}function ZY(t){const e=le("span",`ag-charts-icon ag-charts-icon-${t}`);return We(e,"aria-hidden",!0),e}function vD(t,e){return e==null?t:`${t} ${e.class}`}var Wdt=class extends zA{constructor(e,i,n=0,s){super(e,i,s),this.angle=n}createCanvasGradient(e,i){const{angle:s}=this,a=si(bn(s+90)),o=i.x+i.width*.5,r=i.y+i.height*.5;return e.createConicGradient(a,o,r)}},Tw=class extends na{constructor(e=""){super(),this.x=0,this.y=0,this.commands=[],this._d="",this.d=e}get d(){return this._d}set d(e){if(e!==this._d){this._d=e,this.commands.length=0;for(const[i,n,s]of e.matchAll(/([A-Z])([0-9. ]*)/g)){const a=s.split(/\s+/g).map(Number);this.commands.push([n,a])}this.checkPathDirty()}}updatePath(){const{path:e,x:i,y:n}=this;e.clear();let s=i,a=n;for(const[o,r]of this.commands)switch(o){case"M":e.moveTo(i+r[0],n+r[1]),s=i+r[0];break;case"C":e.cubicCurveTo(i+r[0],n+r[1],i+r[2],n+r[3],i+r[4],n+r[5]),s=i+r[4],a=n+r[5];break;case"H":e.lineTo(i+r[0],a),s=n+r[0];break;case"L":e.lineTo(i+r[0],n+r[1]),s=i+r[0],a=n+r[1];break;case"V":e.lineTo(s,n+r[0]),a=n+r[0];break;case"Z":e.closePath();break;default:throw new Error(`Could not translate command '${o}' with '${r.join(" ")}'`)}e.closePath()}};N([Zt()],Tw.prototype,"x",2);N([Zt()],Tw.prototype,"y",2);var Gg=class extends lh{constructor(e){super(),this.sourceImage=e,this.x=0,this.y=0,this.width=0,this.height=0,this.opacity=1}render(e){const{ctx:i}=e,n=this.sourceImage;n&&(i.globalAlpha=this.opacity,i.drawImage(n,0,0,n.width,n.height,this.x,this.y,this.width,this.height)),super.render(e)}};N([Et()],Gg.prototype,"x",2);N([Et()],Gg.prototype,"y",2);N([Et()],Gg.prototype,"width",2);N([Et()],Gg.prototype,"height",2);N([Et()],Gg.prototype,"opacity",2);var qY={};Ho(qY,{ButtonWidget:()=>Sb,NativeWidget:()=>gg,SliderWidget:()=>pE,ToolbarWidget:()=>$A,WIDGET_HTML_EVENTS:()=>rE,Widget:()=>vl,WidgetEventUtil:()=>vc});var jj="canvas-overlay",Cw=class extends VA{constructor(t,e,i){super(),this.ctx=t,this.hideFns=[],this.moduleId=`popover-${e}`,i!=null&&i.detached?this.element=le("div"):this.element=t.domManager.addChild(jj,this.moduleId),this.element.setAttribute("role","presentation"),this.destroyFns.push(()=>t.domManager.removeChild(jj,this.moduleId))}attachTo(t){this.element.parentElement||t.element.append(this.element)}hide(t){const{lastFocus:e=this.lastFocus}=t??{};this.element.children.length!==0&&(this.hideFns.forEach(i=>i()),e==null||e.focus(),this.lastFocus=void 0)}removeChildren(){this.element.replaceChildren()}showWithChildren(t,e){if(!this.element.parentElement)throw new Error("Can not show popover that has not been attached to a parent.");const i=le("div","ag-charts-popover");if(e.ariaLabel!=null&&i.setAttribute("aria-label",e.ariaLabel),e.class!=null&&i.classList.add(e.class),i.replaceChildren(...t),this.element.replaceChildren(i),this.hideFns.push(()=>this.removeChildren()),e.onHide&&this.hideFns.push(e.onHide),e.initialFocus&&e.sourceEvent){const n=hE(e.sourceEvent);n!==void 0&&(this.lastFocus=n,this.initialFocus=e.initialFocus)}return i}getPopoverElement(){return this.element.firstElementChild}updatePosition(t){var i;const e=this.getPopoverElement();e&&(e.style.setProperty("right","unset"),e.style.setProperty("bottom","unset"),t.x!=null&&e.style.setProperty("left",`${Math.floor(t.x)}px`),t.y!=null&&e.style.setProperty("top",`${Math.floor(t.y)}px`),(i=this.initialFocus)==null||i.focus(),this.initialFocus=void 0)}},QY=class extends Cw{setAnchor(t,e){this.anchor=t,this.fallbackAnchor=e,this.updatePosition(t),this.repositionWithinBounds()}showWithChildren(t,e){const i=e.anchor??this.anchor,n=e.fallbackAnchor??this.fallbackAnchor,s=super.showWithChildren(t,e);return i&&this.setAnchor(i,n),ai().requestAnimationFrame(()=>{this.repositionWithinBounds()}),s}repositionWithinBounds(){const{anchor:t,ctx:e,fallbackAnchor:i}=this,n=this.getPopoverElement();if(!t||!n)return;const s=e.domManager.getBoundingClientRect(),{offsetWidth:a,offsetHeight:o}=n;let r=Jt(0,t.x,s.width-a),l=Jt(0,t.y,s.height-o);r!==t.x&&(i==null?void 0:i.x)!=null&&(r=Jt(0,i.x-a,s.width-a)),l!==t.y&&(i==null?void 0:i.y)!=null&&(l=Jt(0,i.y-o,s.height-o)),this.updatePosition({x:r,y:l})}},Ydt=class extends QY{show(e){const i=e.items.map(s=>this.createRow(e,s)),n=this.showWithChildren(i,e);n.classList.add("ag-charts-menu"),n.setAttribute("role","menu"),this.menuCloser=HH({orientation:"vertical",menu:n,buttons:i,sourceEvent:e.sourceEvent,closeCallback:()=>this.hide()}),this.hideFns.push(()=>{var s;(s=this.menuCloser)==null||s.finishClosing(),this.menuCloser=void 0})}createRow(e,i){const{menuItemRole:n="menuitem"}=e,s=i.value===e.value,a=le("div","ag-charts-menu__row");if(a.setAttribute("role",n),n==="menuitemradio"&&a.setAttribute("aria-checked",(e.value===i.value).toString()),typeof i.value=="string"&&(a.dataset.popoverId=i.value),a.classList.toggle("ag-charts-menu__row--active",s),i.icon!=null){const c=le("span",`ag-charts-menu__icon ${UA(i.icon)}`);a.appendChild(c)}const o=i.strokeWidth!=null;if(o&&(a.classList.toggle("ag-charts-menu__row--stroke-width-visible",o),a.style.setProperty("--strokeWidth",o?`${i.strokeWidth}px`:null)),i.label!=null){const c=le("span","ag-charts-menu__label");c.textContent=this.ctx.localeManager.t(i.label),a.appendChild(c)}"altText"in i&&(a.ariaLabel=this.ctx.localeManager.t(i.altText));const r=()=>{var c;(c=e.onPress)==null||c.call(e,i)},l=c=>{uE(c)&&(r(),c.preventDefault(),c.stopPropagation())};return a.addEventListener("keydown",l),a.addEventListener("click",l),a.addEventListener("mousemove",()=>{a.focus({preventScroll:!0})}),a}},JY=class extends Cw{constructor(){super(...arguments),this.dragged=!1}setDragHandle(e){e.addListener("drag-start",i=>{e.addClass(this.dragHandleDraggingClass),this.onDragStart(i)}),e.addListener("drag-move",this.onDragMove.bind(this)),e.addListener("drag-end",()=>{e.removeClass(this.dragHandleDraggingClass),this.onDragEnd.bind(this)})}onDragStart(e){const i=this.getPopoverElement();i&&(e.sourceEvent.preventDefault(),this.dragged=!0,this.dragStartState={client:Wf.from(e.clientX,e.clientY),position:Wf.from(Number(i.style.getPropertyValue("left").replace("px","")),Number(i.style.getPropertyValue("top").replace("px","")))})}onDragMove(e){const{dragStartState:i}=this,n=this.getPopoverElement();if(!i||!n)return;const s=Wf.sub(Wf.from(e.clientX,e.clientY),i.client),a=Wf.add(i.position,s),o=this.ctx.domManager.getBoundingClientRect(),r={};a.x>=o.x&&a.x+n.offsetWidth<=o.width&&(r.x=a.x),a.y>=o.y&&a.y+n.offsetHeight<=o.height&&(r.y=a.y),this.updatePosition(r)}onDragEnd(){this.dragStartState=void 0}},Gb=class extends Qt{};N([P(Dt,{optional:!0})],Gb.prototype,"icon",2);N([P(Dt,{optional:!0})],Gb.prototype,"label",2);N([P(Dt,{optional:!0})],Gb.prototype,"ariaLabel",2);N([P(Dt,{optional:!0})],Gb.prototype,"tooltip",2);var t$=class extends Sb{constructor(e){super(),this.localeManager=e}update(e){const{localeManager:i}=this;e.tooltip&&(this.elem.title=i.t(e.tooltip));let n="";if(e.icon!=null&&(n=`<span class="${UA(e.icon)} ag-charts-toolbar__icon"></span>`),e.label!=null){const s=i.t(e.label);n=`${n}<span class="ag-charts-toolbar__label">${s}</span>`}this.elem.innerHTML=n}setChecked(e){We(this.elem,"aria-checked",e)}},Fj="ag-charts-toolbar__button--active",kw=class extends $A{constructor(t,e="horizontal"){super(e),this.localeManager=t,this.horizontalSpacing=10,this.verticalSpacing=10,this.events=new zc,this.hasPrefix=!1,this.buttonWidgets=[],this.addClass("ag-charts-toolbar"),this.toggleClass("ag-charts-toolbar--horizontal",e==="horizontal"),this.toggleClass("ag-charts-toolbar--vertical",e==="vertical")}addToolbarListener(t,e){return this.events.addListener(t,e)}clearButtons(){for(const t of this.buttonWidgets)t.destroy();this.buttonWidgets.splice(0)}updateButtons(t){const{buttonWidgets:e}=this;for(const[i,n]of t.entries())(this.buttonWidgets.at(i)??this.createButton(i,n)).update(n);for(let i=t.length;i<e.length;i++){const n=this.buttonWidgets.at(i);n==null||n.destroy()}this.buttonWidgets.splice(t.length),this.refreshButtonClasses()}updateButtonByIndex(t,e){var i;(i=this.buttonWidgets.at(t))==null||i.update(e)}clearActiveButton(){for(const t of this.buttonWidgets)t.toggleClass(Fj,!1)}toggleActiveButtonByIndex(t){if(t!==-1)for(const[e,i]of this.buttonWidgets.entries())i.toggleClass(Fj,t!=null&&t===e)}toggleButtonEnabledByIndex(t,e){var i;t!==-1&&((i=this.buttonWidgets.at(t))==null||i.setEnabled(e))}toggleSwitchCheckedByIndex(t,e){var i;t!==-1&&((i=this.buttonWidgets.at(t))==null||i.setChecked(e))}getButtonBounds(){return this.buttonWidgets.map(t=>this.getButtonWidgetBounds(t))}setButtonHiddenByIndex(t,e){var i;(i=this.buttonWidgets.at(t))==null||i.setHidden(e)}getButtonWidgetBounds(t){const e=this.getBounds(),i=t.getBounds();return new Rt(i.x+e.x,i.y+e.y,i.width,i.height)}refreshButtonClasses(){var a;const{buttonWidgets:t,hasPrefix:e}=this;let i,n,s;for(const[o,r]of t.entries())i=!e&&o===0||s!=r.section,n=o===t.length-1||r.section!=((a=t.at(o+1))==null?void 0:a.section),r.toggleClass("ag-charts-toolbar__button--first",i),r.toggleClass("ag-charts-toolbar__button--last",n),r.toggleClass("ag-charts-toolbar__button--gap",o>0&&i),s=r.section}createButton(t,e){const i=this.createButtonWidget();return i.addClass("ag-charts-toolbar__button"),i.addListener("click",n=>{const s={index:t,...e instanceof Qt?e.toJson():e},a=this.getButtonWidgetBounds(i);this.events.dispatch("button-pressed",{event:n,button:s,buttonBounds:a})}),i.addListener("focus",()=>{this.events.dispatch("button-focused",{button:{index:t}})}),e.section&&(i.section=e.section),this.buttonWidgets.push(i),this.addChild(i),i}},$dt=class extends kw{createButtonWidget(){return new t$(this.localeManager)}},Kdt=class extends JY{constructor(t,e,i){super(t,e),this.onPopoverMoved=i,this.dragHandleDraggingClass="ag-charts-floating-toolbar__drag-handle--dragging"}show(t,e){this.showWithChildren(t,{...e,class:"ag-charts-floating-toolbar"})}hide(){this.dragged=!1,super.hide()}getBounds(){const t=this.getPopoverElement();return new Rt((t==null?void 0:t.offsetLeft)??0,(t==null?void 0:t.offsetTop)??0,(t==null?void 0:t.offsetWidth)??0,(t==null?void 0:t.offsetHeight)??0)}hasBeenDragged(){return this.dragged}setAnchor(t,e,i){const n=this.getPopoverElement();if(!n)return;const s=t.position??"above",{offsetWidth:a,offsetHeight:o}=n;let r=t.y-o-i,l=t.x-a/2;s==="below"?r=t.y+i:s==="right"?(r=t.y-o/2,l=t.x+e):s==="above-left"&&(l=t.x),this.updatePosition({x:l,y:r})}ignorePointerEvents(){const t=this.getPopoverElement();t&&(t.style.pointerEvents="none")}capturePointerEvents(){const t=this.getPopoverElement();t&&(t.style.pointerEvents="unset")}updatePosition(t){const e=this.getBounds(),i=this.ctx.domManager.getBoundingClientRect();t.x=Math.floor(Jt(0,t.x,i.width-e.width)),t.y=Math.floor(Jt(0,t.y,i.height-e.height)),super.updatePosition(t),this.onPopoverMoved()}},Xdt=class extends kw{constructor(e,i){super(e.localeManager),this.hasPrefix=!0,this.popover=new Kdt(e,i,this.onPopoverMoved.bind(this)),this.dragHandle=new Zdt(e.localeManager.t("toolbarAnnotationsDragHandle")),this.popover.setDragHandle(this.dragHandle)}show(e){this.popover.show([this.dragHandle.getElement(),this.getElement()],e)}hide(){this.popover.hide()}setAnchor(e){this.popover.setAnchor(e,this.horizontalSpacing,this.verticalSpacing)}hasBeenDragged(){return this.popover.hasBeenDragged()}ignorePointerEvents(){this.popover.ignorePointerEvents()}capturePointerEvents(){this.popover.capturePointerEvents()}onPopoverMoved(){var n;const e=this.popover.getBounds();if((n=this.popoverBounds)!=null&&n.equals(e))return;this.popoverBounds=e.clone();const i=this.getButtonBounds();this.events.dispatch("toolbar-moved",{popoverBounds:e,buttonBounds:i})}getButtonWidgetBounds(e){const i=this.popover.getBounds(),n=super.getButtonWidgetBounds(e),s=this.dragHandle.getBounds();return new Rt(n.x+i.x-s.width,n.y+i.y,n.width,n.height)}},Zdt=class extends gg{constructor(e){super(le("div","ag-charts-floating-toolbar__drag-handle"));const i=new gg(le("span",`${UA("drag-handle")} ag-charts-toolbar__icon`));i.setAriaHidden(!0),this.addChild(i),this.elem.title=e}},qdt={...iU,...FU};Bo.create.bind(Bo),Bo.__createSparkline.bind(Bo);function Gj(t,e){return{...t,container:e.current}}function Qdt(t,e){const i=Q.forwardRef(function(s,a){const{options:o,style:r,className:l}=s,c=Q.useRef(null),h=Q.useRef();Q.useLayoutEffect(()=>{const f=t(Gj(o,c));return h.current=f,()=>{f.destroy()}},[]);const p=h.current===void 0;return Q.useEffect(()=>{var f;p||(f=h.current)==null||f.update(Gj(o,c)).catch(y=>console.error(y))},[o]),Q.useImperativeHandle(a,()=>h.current,[]),Q.useMemo(()=>Q.createElement("div",{ref:c,style:r,className:l}),[r,l])});return i.displayName=e,i}var Jdt=Qdt(t=>Bo.createGauge(t),"AgGauge"),e$=Object.defineProperty,tpt=(t,e)=>{for(var i in e)e$(t,i,{get:e[i],enumerable:!0})},A=(t,e,i,n)=>{for(var s=void 0,a=t.length-1,o;a>=0;a--)(o=t[a])&&(s=o(e,i,s)||s);return s&&e$(e,i,s),s},ept=class{constructor(){this.ieCompatibility=!1}init(){this.ieCompatibility=this.md5("hello")!="5d41402abc4b2a76b9719d911017c592"}md5cycle(t,e){let i=t[0],n=t[1],s=t[2],a=t[3];i=this.ff(i,n,s,a,e[0],7,-680876936),a=this.ff(a,i,n,s,e[1],12,-389564586),s=this.ff(s,a,i,n,e[2],17,606105819),n=this.ff(n,s,a,i,e[3],22,-1044525330),i=this.ff(i,n,s,a,e[4],7,-176418897),a=this.ff(a,i,n,s,e[5],12,1200080426),s=this.ff(s,a,i,n,e[6],17,-1473231341),n=this.ff(n,s,a,i,e[7],22,-45705983),i=this.ff(i,n,s,a,e[8],7,1770035416),a=this.ff(a,i,n,s,e[9],12,-1958414417),s=this.ff(s,a,i,n,e[10],17,-42063),n=this.ff(n,s,a,i,e[11],22,-1990404162),i=this.ff(i,n,s,a,e[12],7,1804603682),a=this.ff(a,i,n,s,e[13],12,-40341101),s=this.ff(s,a,i,n,e[14],17,-1502002290),n=this.ff(n,s,a,i,e[15],22,1236535329),i=this.gg(i,n,s,a,e[1],5,-165796510),a=this.gg(a,i,n,s,e[6],9,-1069501632),s=this.gg(s,a,i,n,e[11],14,643717713),n=this.gg(n,s,a,i,e[0],20,-373897302),i=this.gg(i,n,s,a,e[5],5,-701558691),a=this.gg(a,i,n,s,e[10],9,38016083),s=this.gg(s,a,i,n,e[15],14,-660478335),n=this.gg(n,s,a,i,e[4],20,-405537848),i=this.gg(i,n,s,a,e[9],5,568446438),a=this.gg(a,i,n,s,e[14],9,-1019803690),s=this.gg(s,a,i,n,e[3],14,-187363961),n=this.gg(n,s,a,i,e[8],20,1163531501),i=this.gg(i,n,s,a,e[13],5,-1444681467),a=this.gg(a,i,n,s,e[2],9,-51403784),s=this.gg(s,a,i,n,e[7],14,1735328473),n=this.gg(n,s,a,i,e[12],20,-1926607734),i=this.hh(i,n,s,a,e[5],4,-378558),a=this.hh(a,i,n,s,e[8],11,-2022574463),s=this.hh(s,a,i,n,e[11],16,1839030562),n=this.hh(n,s,a,i,e[14],23,-35309556),i=this.hh(i,n,s,a,e[1],4,-1530992060),a=this.hh(a,i,n,s,e[4],11,1272893353),s=this.hh(s,a,i,n,e[7],16,-155497632),n=this.hh(n,s,a,i,e[10],23,-1094730640),i=this.hh(i,n,s,a,e[13],4,681279174),a=this.hh(a,i,n,s,e[0],11,-358537222),s=this.hh(s,a,i,n,e[3],16,-722521979),n=this.hh(n,s,a,i,e[6],23,76029189),i=this.hh(i,n,s,a,e[9],4,-640364487),a=this.hh(a,i,n,s,e[12],11,-421815835),s=this.hh(s,a,i,n,e[15],16,530742520),n=this.hh(n,s,a,i,e[2],23,-995338651),i=this.ii(i,n,s,a,e[0],6,-198630844),a=this.ii(a,i,n,s,e[7],10,1126891415),s=this.ii(s,a,i,n,e[14],15,-1416354905),n=this.ii(n,s,a,i,e[5],21,-57434055),i=this.ii(i,n,s,a,e[12],6,1700485571),a=this.ii(a,i,n,s,e[3],10,-1894986606),s=this.ii(s,a,i,n,e[10],15,-1051523),n=this.ii(n,s,a,i,e[1],21,-2054922799),i=this.ii(i,n,s,a,e[8],6,1873313359),a=this.ii(a,i,n,s,e[15],10,-30611744),s=this.ii(s,a,i,n,e[6],15,-1560198380),n=this.ii(n,s,a,i,e[13],21,1309151649),i=this.ii(i,n,s,a,e[4],6,-145523070),a=this.ii(a,i,n,s,e[11],10,-1120210379),s=this.ii(s,a,i,n,e[2],15,718787259),n=this.ii(n,s,a,i,e[9],21,-343485551),t[0]=this.add32(i,t[0]),t[1]=this.add32(n,t[1]),t[2]=this.add32(s,t[2]),t[3]=this.add32(a,t[3])}cmn(t,e,i,n,s,a){return e=this.add32(this.add32(e,t),this.add32(n,a)),this.add32(e<<s|e>>>32-s,i)}ff(t,e,i,n,s,a,o){return this.cmn(e&i|~e&n,t,e,s,a,o)}gg(t,e,i,n,s,a,o){return this.cmn(e&n|i&~n,t,e,s,a,o)}hh(t,e,i,n,s,a,o){return this.cmn(e^i^n,t,e,s,a,o)}ii(t,e,i,n,s,a,o){return this.cmn(i^(e|~n),t,e,s,a,o)}md51(t){const e=t.length,i=[1732584193,-271733879,-1732584194,271733878];let n;for(n=64;n<=t.length;n+=64)this.md5cycle(i,this.md5blk(t.substring(n-64,n)));t=t.substring(n-64);const s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(n=0;n<t.length;n++)s[n>>2]|=t.charCodeAt(n)<<(n%4<<3);if(s[n>>2]|=128<<(n%4<<3),n>55)for(this.md5cycle(i,s),n=0;n<16;n++)s[n]=0;return s[14]=e*8,this.md5cycle(i,s),i}md5blk(t){const e=[];for(let i=0;i<64;i+=4)e[i>>2]=t.charCodeAt(i)+(t.charCodeAt(i+1)<<8)+(t.charCodeAt(i+2)<<16)+(t.charCodeAt(i+3)<<24);return e}rhex(t){const e="0123456789abcdef".split("");let i="",n=0;for(;n<4;n++)i+=e[t>>n*8+4&15]+e[t>>n*8&15];return i}hex(t){for(let e=0;e<t.length;e++)t[e]=this.rhex(t[e]);return t.join("")}md5(t){return this.hex(this.md51(t))}add32(t,e){return this.ieCompatibility?this.add32Compat(t,e):this.add32Std(t,e)}add32Std(t,e){return t+e&4294967295}add32Compat(t,e){const i=(t&65535)+(e&65535);return(t>>16)+(e>>16)+(i>>16)<<16|i&65535}};function _1(t){return t==null||t.length===0}var eS={"01":"GRID","02":"CHARTS","0102":"BOTH"},Vj="https://www.ag-grid.com/charts/licensing/",Lw=class fn{constructor(e){this.watermarkMessage=void 0,this.totalMessageLength=124,this.document=e,this.md5=new ept,this.md5.init()}validateLicense(){const e=this.getLicenseDetails(fn.licenseKey,fn.gridContext),i=`AG ${e.currentLicenseType==="BOTH"?"Grid and ":""}Charts Enterprise`;let n="";if(e.suppliedLicenseType==="BOTH"?n="AG Grid and AG Charts Enterprise":e.suppliedLicenseType==="GRID"?n="AG Grid Enterprise":e.suppliedLicenseType!==void 0&&(n="AG Charts Enterprise"),e.missing)(!this.isWebsiteUrl()||this.isForceWatermark())&&this.outputMissingLicenseKey(i);else if(e.expired){const s=fn.getChartsReleaseDate(),a=fn.formatDate(s);this.outputExpiredKey(e.expiry,a,n)}else e.valid?e.isTrial&&e.trialExpired&&this.outputExpiredTrialKey(e.expiry,i,n):this.outputInvalidLicenseKey(!!e.incorrectLicenseType,i,n)}static extractExpiry(e){const i=e.substring(e.lastIndexOf("_")+1,e.length);return new Date(parseInt(fn.decode(i),10))}static extractLicenseComponents(e){let i=e.replace(/[\u200B-\u200D\uFEFF]/g,"");if(i=i.replace(/\r?\n|\r/g,""),e.length<=32)return{md5:null,license:e,version:null,isTrial:null};const n=i.length-32,s=i.substring(n),a=i.substring(0,n),[o,r,l]=fn.extractBracketedInformation(i);return{md5:s,license:a,version:o,isTrial:r,type:l}}getLicenseDetails(e,i=!1){const n="CHARTS";if(_1(e))return{licenseKey:e,valid:!1,missing:!0,currentLicenseType:n};const s=fn.getChartsReleaseDate(),{md5:a,license:o,version:r,isTrial:l,type:c}=fn.extractLicenseComponents(e);let h=a===this.md5.md5(o)&&e.indexOf("For_Trialing_ag-Grid_Only")===-1,p,f,y=null,m=!1,b;function S(){p=y<new Date,f=void 0}if(h&&(y=fn.extractExpiry(o),h=!isNaN(y.getTime()),h))switch(f=s>y,r){case"legacy":case"2":{h=!1;break}case"3":_1(c)?h=!1:(b=c,c!==eS["02"]&&c!==eS["0102"]?(h=!1,m=!0):l&&S())}return h?{licenseKey:e,valid:h,expiry:fn.formatDate(y),expired:f,version:r,isTrial:l,trialExpired:p,invalidLicenseTypeForCombo:i?b!=="BOTH":void 0,incorrectLicenseType:m,currentLicenseType:n,suppliedLicenseType:b}:{licenseKey:e,valid:h,incorrectLicenseType:m,currentLicenseType:n,suppliedLicenseType:b}}isDisplayWatermark(){return this.isForceWatermark()||!this.isLocalhost()&&!this.isWebsiteUrl()&&!_1(this.watermarkMessage)}getWatermarkMessage(){return this.watermarkMessage??""}getHostname(){if(!this.document)return"localhost";const e=this.document.defaultView??window;if(!e)return"localhost";const i=e.location,{hostname:n=""}=i;return n}isForceWatermark(){var n;if(!this.document)return!1;const e=((n=this.document)==null?void 0:n.defaultView)??typeof window<"u"?window:void 0;if(!e)return!1;const{pathname:i}=e.location;return i?i.indexOf("forceWatermark")!==-1:!1}isWebsiteUrl(){const e=this.getHostname();return/^((?:[\w-]+\.)?ag-grid\.com)$/.exec(e)!==null}isLocalhost(){const e=this.getHostname();return/^(?:127\.0\.0\.1|localhost)$/.exec(e)!==null}static formatDate(e){const i=["January","February","March","April","May","June","July","August","September","October","November","December"],n=e.getDate(),s=e.getMonth(),a=e.getFullYear();return n+" "+i[s]+" "+a}static getChartsReleaseDate(){return new Date(parseInt(fn.decode(fn.RELEASE_INFORMATION),10))}static decode(e){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",s,a,o,r,l,c,h,p=0;const f=e.replace(/[^A-Za-z0-9+/=]/g,"");for(;p<f.length;)r=i.indexOf(f.charAt(p++)),l=i.indexOf(f.charAt(p++)),c=i.indexOf(f.charAt(p++)),h=i.indexOf(f.charAt(p++)),s=r<<2|l>>4,a=(l&15)<<4|c>>2,o=(c&3)<<6|h,n=n+String.fromCharCode(s),c!=64&&(n=n+String.fromCharCode(a)),h!=64&&(n=n+String.fromCharCode(o));return n=fn.utf8_decode(n),n}static utf8_decode(e){e=e.replace(/rn/g,"n");let i="";for(let n=0;n<e.length;n++){const s=e.charCodeAt(n);s<128?i+=String.fromCharCode(s):s>127&&s<2048?(i+=String.fromCharCode(s>>6|192),i+=String.fromCharCode(s&63|128)):(i+=String.fromCharCode(s>>12|224),i+=String.fromCharCode(s>>6&63|128),i+=String.fromCharCode(s&63|128))}return i}static setGridContext(e=!1){fn.gridContext=e}static setLicenseKey(e){fn.licenseKey=e}static extractBracketedInformation(e){if(!e.includes("["))return["legacy",!1,void 0];const i=e.match(/\[(.*?)\]/g).map(r=>r.replace("[","").replace("]",""));if(!i||i.length===0)return["legacy",!1,void 0];const n=i.filter(r=>r==="TRIAL").length===1,s=i.filter(r=>r.startsWith("v"))[0],a=s?s.replace("v",""):"legacy",o=eS[i.filter(r=>eS[r])[0]];return[a,n,o]}centerPadAndOutput(e){const i=this.totalMessageLength-e.length;console.error(e.padStart(i/2+e.length,"*").padEnd(this.totalMessageLength,"*"))}padAndOutput(e,i="*",n=""){console.error(e.padEnd(this.totalMessageLength-n.length,i)+n)}outputInvalidLicenseKey(e,i,n){fn.gridContext||(e?(this.centerPadAndOutput(""),this.centerPadAndOutput(` ${i} License `),this.centerPadAndOutput(" Incompatible License Key "),this.padAndOutput(`* Your license key is for ${n} only and does not cover you for ${i}.`," ","*"),this.padAndOutput(`* To troubleshoot your license key visit ${Vj}.`," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput("")):(this.centerPadAndOutput(""),this.centerPadAndOutput(` ${i} License `),this.centerPadAndOutput(" Invalid License Key "),this.padAndOutput("* Your license key is not valid."," ","*"),this.padAndOutput(`* To troubleshoot your license key visit ${Vj}.`," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput(""))),this.watermarkMessage="Invalid License"}outputExpiredTrialKey(e,i,n){fn.gridContext||(this.centerPadAndOutput(""),this.centerPadAndOutput(` ${i} License `),this.centerPadAndOutput(" Trial Period Expired. "),this.padAndOutput(`* Your trial only license for ${n} expired on ${e}.`," ","*"),this.padAndOutput("* Please email info@ag-grid.com to purchase a license."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput("")),this.watermarkMessage="Trial Period Expired"}outputMissingLicenseKey(e){fn.gridContext||(this.centerPadAndOutput(""),this.centerPadAndOutput(` ${e} License `),this.centerPadAndOutput(" License Key Not Found "),this.padAndOutput(`* All ${e} features are unlocked for trial.`," ","*"),this.padAndOutput("* If you want to hide the watermark please email info@ag-grid.com for a trial license key."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput("")),this.watermarkMessage="For Trial Use Only"}outputExpiredKey(e,i,n){fn.gridContext||(this.centerPadAndOutput(""),this.centerPadAndOutput(` ${n} License `),this.centerPadAndOutput(" Incompatible Software Version "),this.padAndOutput(`* Your license key works with versions of ${n} released before ${e}.`," ","*"),this.padAndOutput(`* The version you are trying to use was released on ${i}.`," ","*"),this.padAndOutput("* Please contact info@ag-grid.com to renew your license key."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput("")),this.watermarkMessage="License Expired"}};Lw.RELEASE_INFORMATION="MTczOTI4MjAzOTc3OA==";Lw.gridContext=!1;var Zm=Lw;function j1(t,e,i){const n=(a,o,r,l)=>{let c=t[0];for(let h=a;r>0?h<=o:h>o;h+=r){const p=t[h];if(l(c,p))return!0;c=p}return!1},s=Math.floor(t.length/2);return n(e,s,e,i)?!0:n(t.length-e,s,-e,i)}var{OR:ipt,POSITIVE_NUMBER:npt,NAN:spt,AxisInterval:apt,Validate:opt}=_,Nw=class extends apt{constructor(){super(...arguments),this.minSpacing=NaN}};A([opt(ipt(npt,spt))],Nw.prototype,"minSpacing");var{BaseProperties:i$,ChartAxisDirection:rpt,ARRAY:lpt,BOOLEAN:Ew,COLOR_STRING:ww,FONT_STYLE:cpt,FONT_WEIGHT:upt,LINE_DASH:hpt,NUMBER:n$,OBJECT:dpt,POSITIVE_NUMBER:ppt,RATIO:s$,STRING:a$,UNION:o$,AND:fpt,Validate:tn,MATCHING_CROSSLINE_TYPE:r$,createId:gpt,Group:F1}=_,kr=class extends i${constructor(){super(...arguments),this.fontSize=14,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)"}};A([tn(Ew,{optional:!0})],kr.prototype,"enabled");A([tn(a$,{optional:!0})],kr.prototype,"text");A([tn(cpt,{optional:!0})],kr.prototype,"fontStyle");A([tn(upt,{optional:!0})],kr.prototype,"fontWeight");A([tn(ppt)],kr.prototype,"fontSize");A([tn(a$)],kr.prototype,"fontFamily");A([tn(n$)],kr.prototype,"padding");A([tn(ww,{optional:!0})],kr.prototype,"color");A([tn(Ew,{optional:!0})],kr.prototype,"parallel");var Ta=class extends i${constructor(){super(...arguments),this.id=gpt(this),this.shape="polygon",this.label=new kr,this.scale=void 0,this.clippedRange=[-1/0,1/0],this.gridLength=0,this.sideFlag=-1,this.parallelFlipRotation=0,this.regularFlipRotation=0,this.direction=rpt.X,this.axisInnerRadius=0,this.axisOuterRadius=0,this.lineGroup=new F1({name:this.id}),this.rangeGroup=new F1({name:this.id}),this.labelGroup=new F1({name:this.id}),this._isRange=void 0}assignCrossLineGroup(t,e){t!==this._isRange&&(t?this.rangeGroup.appendChild(e):this.lineGroup.appendChild(e)),this._isRange=t}setSectorNodeProps(t){t.fill=this.fill,t.fillOpacity=this.fillOpacity??1,t.stroke=this.stroke,t.strokeOpacity=this.strokeOpacity??1,t.strokeWidth=this.strokeWidth??1,t.lineDash=this.lineDash}setLabelNodeProps(t,e,i,n,s){const{label:a}=this;t.x=e,t.y=i,t.text=a.text,t.textAlign="center",t.textBaseline=n,t.rotation=s,t.rotationCenterX=e,t.rotationCenterY=i,t.fill=a.color,t.fontFamily=a.fontFamily,t.fontSize=a.fontSize,t.fontStyle=a.fontStyle,t.visible=!0}};A([tn(Ew,{optional:!0})],Ta.prototype,"enabled");A([tn(o$(["range","line"],"a crossLine type"),{optional:!0})],Ta.prototype,"type");A([tn(fpt(r$("range"),lpt.restrict({length:2})),{optional:!0})],Ta.prototype,"range");A([tn(r$("value"),{optional:!0})],Ta.prototype,"value");A([tn(ww,{optional:!0})],Ta.prototype,"fill");A([tn(s$,{optional:!0})],Ta.prototype,"fillOpacity");A([tn(ww,{optional:!0})],Ta.prototype,"stroke");A([tn(n$,{optional:!0})],Ta.prototype,"strokeWidth");A([tn(s$,{optional:!0})],Ta.prototype,"strokeOpacity");A([tn(hpt,{optional:!0})],Ta.prototype,"lineDash");A([tn(o$(["polygon","circle"],"a shape"))],Ta.prototype,"shape");A([tn(dpt)],Ta.prototype,"label");var{ChartAxisDirection:ypt,validateCrossLineValues:mpt,normalizeAngle360:G1,isNumberEqual:Uj,Group:xpt,Path:Hj,Sector:bpt,RotatableText:vpt,ContinuousScale:Spt,BandScale:Mpt}=_,Ow=class extends Ta{constructor(){super(),this.direction=ypt.X,this.polygonNode=new Hj,this.sectorNode=new bpt,this.lineNode=new Hj,this.crossLineRange=new xpt,this.labelNode=new vpt,this.ticks=[],this.crossLineRange.append(this.polygonNode),this.crossLineRange.append(this.sectorNode),this.crossLineRange.append(this.lineNode),this.labelGroup.append(this.labelNode)}update(t){const{scale:e,shape:i,type:n,value:s,range:a}=this;if(!e||!n||!mpt(n,s,a,e,()=>{if(!Spt.is(e))return!0;const[r,l]=a??[s,void 0],{domain:c}=e;return r>=c[0]&&r<=c[1]&&(n==="line"||l>=r&&l<=c[1])})){this.rangeGroup.visible=!1,this.lineGroup.visible=!1,this.labelGroup.visible=!1;return}this.rangeGroup.visible=t,this.lineGroup.visible=t,this.labelGroup.visible=t,n==="line"&&i==="circle"&&Mpt.is(e)&&(this.type="range",this.range=[s,s]),this.updateLineNode(t),this.updatePolygonNode(t),this.updateSectorNode(t),this.updateLabelNode(t)}updateLineNode(t){const{scale:e,type:i,value:n,lineNode:s}=this;if(!t||i!=="line"||!e){s.visible=!1;return}const a=e.convert(n);if(isNaN(a)){s.visible=!1;return}const{axisInnerRadius:o,axisOuterRadius:r}=this;s.visible=!0,s.stroke=this.stroke,s.strokeOpacity=this.strokeOpacity??1,s.strokeWidth=this.strokeWidth??1,s.fill=void 0,s.lineDash=this.lineDash;const l=r*Math.cos(a),c=r*Math.sin(a),h=o*Math.cos(a),p=o*Math.sin(a);s.path.clear(!0),s.path.moveTo(h,p),s.path.lineTo(l,c),this.assignCrossLineGroup(!1,this.crossLineRange)}updatePolygonNode(t){const{polygonNode:e,range:i,scale:n,shape:s,type:a,ticks:o}=this;if(!t||a!=="range"||s!=="polygon"||!n||!i){e.visible=!1;return}const{axisInnerRadius:r,axisOuterRadius:l}=this,c=o.indexOf(i[0]),h=o.indexOf(i[1]),f=(c<=h?o.slice(c,h+1):o.slice(c).concat(o.slice(0,h+1))).map(m=>n.convert(m));e.visible=!0,this.setSectorNodeProps(e);const{path:y}=e;y.clear(!0),f.forEach((m,b)=>{const S=l*Math.cos(m),v=l*Math.sin(m);b===0?y.moveTo(S,v):y.lineTo(S,v)}),r===0?y.lineTo(0,0):f.slice().reverse().forEach(m=>{const b=r*Math.cos(m),S=r*Math.sin(m);y.lineTo(b,S)}),e.path.closePath(),this.assignCrossLineGroup(!0,this.crossLineRange)}updateSectorNode(t){const{sectorNode:e,range:i,scale:n,shape:s,type:a}=this;if(!t||a!=="range"||s!=="circle"||!n||!i){e.visible=!1;return}const{axisInnerRadius:o,axisOuterRadius:r}=this,l=i.map(p=>n.convert(p)),c=n.step??0,h=n instanceof _.BandScale?c/2:0;e.visible=!0,this.setSectorNodeProps(e),e.centerX=0,e.centerY=0,e.innerRadius=o,e.outerRadius=r,e.startAngle=l[0]-h,e.endAngle=l[1]+h,this.assignCrossLineGroup(!0,this.crossLineRange)}updateLabelNode(t){const{label:e,labelNode:i,range:n,scale:s,type:a,ticks:o}=this;if(!t||e.enabled===!1||!e.text||!s||a==="range"&&!n){i.visible=!1;return}i.visible=!0;const{axisInnerRadius:r,axisOuterRadius:l}=this;let c,h,p,f;if(a==="line"){const y=G1(s.convert(this.value)),m=1.5*Math.PI,b=Uj(y,m)||y>m||y<Math.PI/2,S=(r+l)/2*Math.cos(y),v=(r+l)/2*Math.sin(y);c=S+e.padding*Math.cos(y+Math.PI/2),h=v+e.padding*Math.sin(y+Math.PI/2),f=b?"top":"bottom",p=b?y:y-Math.PI}else{const[y,m]=n.map(D=>G1(s.convert(D)));let b=(y+m)/2;y>m&&(b-=Math.PI),b=G1(b);const S=(Uj(b,0)||b>0)&&b<Math.PI;let v;this.shape==="circle"||o.length<3?v=l-e.padding:v=l*Math.cos(Math.PI/o.length)-e.padding,c=v*Math.cos(b),h=v*Math.sin(b),f=S?"bottom":"top",p=S?b-Math.PI/2:b+Math.PI/2}this.setLabelNodeProps(i,c,h,f,p)}};Ow.className="AngleCrossLine";var{ChartAxisDirection:Apt,NUMBER:l$,UNION:Dpt,ProxyOnWrite:Ipt,TextWrapper:Tpt,TextUtils:Cpt,Validate:Rw,isNumberEqual:kf,toRadians:iS,normalizeAngle360:Lf,normalizeAngle360Inclusive:kpt,Path:Lpt,RotatableText:Npt,Transformable:Ept,BBox:wpt}=_,zL=class extends _.AxisLabel{constructor(){super(...arguments),this.orientation="fixed"}};A([Rw(Dpt(["fixed","parallel","perpendicular"],"a label orientation"))],zL.prototype,"orientation");var Vb=class extends _.PolarAxis{constructor(t,e){super(t,e),this.startAngle=0,this.endAngle=void 0,this.labelData=[],this.tickData=[],this.radiusLine=this.axisGroup.appendChild(new Lpt),this.includeInvisibleDomains=!0}get direction(){return Apt.X}createLabel(){return new zL}calculateTickLayout(t){const{nice:e,scale:i}=this,n={nice:e,interval:void 0,tickCount:void 0,minTickCount:0,maxTickCount:1/0},s=e?i.niceDomain(n,t):t,a=this.generateAngleTicks(s);this.tickData=a;const o=a.map(r=>r.value);return{niceDomain:s,primaryTickCount:void 0,tickDomain:s,ticks:o,fractionDigits:0,bbox:this.getBBox()}}update(){super.update(),this.updateRadiusLine()}normalizedAngles(){const t=Lf(-Math.PI/2+iS(this.startAngle)),e=this.endAngle!=null?kpt(iS(this.endAngle)-iS(this.startAngle)):2*Math.PI,i=t+e;return[t,i]}computeRange(){this.range=this.normalizedAngles()}updateSelections(){const t=this.tickData;this.gridLineGroupSelection.update(this.gridLength&&this.gridLine.enabled?t:[]),this.tickLineGroupSelection.update(this.tick.enabled?t:[]),this.tickLabelGroupSelection.update(this.label.enabled?t:[]),this.gridLineGroupSelection.cleanup(),this.tickLineGroupSelection.cleanup(),this.tickLabelGroupSelection.cleanup()}updatePosition(){const{translation:t,axisGroup:e,gridGroup:i,crossLineRangeGroup:n,crossLineLineGroup:s,crossLineLabelGroup:a}=this,o=Math.floor(t.x),r=Math.floor(t.y);e.translationX=o,e.translationY=r,i.translationX=o,i.translationY=r,n.translationX=o,n.translationY=r,s.translationX=o,s.translationY=r,a.translationX=o,a.translationY=r}updateRadiusLine(){const t=this.radiusLine,{path:e}=t;e.clear(!0);const{points:i,closePath:n}=this.getAxisLinePoints();i.forEach(({x:s,y:a,moveTo:o,arc:r,radius:l=0,startAngle:c=0,endAngle:h=0})=>{r?e.arc(s,a,l,c,h):o?e.moveTo(s,a):e.lineTo(s,a)}),n&&e.closePath(),t.visible=this.line.enabled,t.stroke=this.line.stroke,t.strokeWidth=this.line.width,t.fill=void 0}getAxisLinePoints(){var r;const{scale:t,shape:e,gridLength:i}=this,[n,s]=this.range,a=kf(s-n,2*Math.PI),o=[];if(e==="circle")a?o.push({x:i,y:0,moveTo:!0},{x:0,y:0,radius:i,startAngle:0,endAngle:2*Math.PI,arc:!0,moveTo:!1}):o.push({x:i*Math.cos(n),y:i*Math.sin(n),moveTo:!0},{x:0,y:0,radius:i,startAngle:Lf(n),endAngle:Lf(s),arc:!0,moveTo:!1});else if(e==="polygon"){const l=(r=t.ticks({nice:this.nice,interval:void 0,tickCount:void 0,minTickCount:0,maxTickCount:1/0}))==null?void 0:r.map(c=>t.convert(c));l&&l.length>2&&l.forEach((c,h)=>{const p=i*Math.cos(c),f=i*Math.sin(c),y=h===0;o.push({x:p,y:f,moveTo:y})})}return{points:o,closePath:a}}updateGridLines(){const{scale:t,gridLength:e,gridLine:{style:i,width:n},innerRadiusRatio:s}=this;if(!(i&&e>0))return;const a=e*s,o=i.length;this.gridLineGroupSelection.each((r,l,c)=>{const{value:h}=l,{stroke:p,lineDash:f}=i[c%o],y=t.convert(h);r.x1=a*Math.cos(y),r.y1=a*Math.sin(y),r.x2=e*Math.cos(y),r.y2=e*Math.sin(y),r.stroke=p,r.strokeWidth=n,r.lineDash=f,r.fill=void 0}),this.gridLineGroupSelection.cleanup()}updateLabels(){const{label:t,tickLabelGroupSelection:e}=this;e.each((i,n,s)=>{const a=this.labelData[s];if(!a||a.hidden){i.visible=!1;return}i.text=a.text,i.setFont(t),i.fill=t.color,i.x=a.x,i.y=a.y,i.textAlign=a.textAlign,i.textBaseline=a.textBaseline,i.visible=!0,a.rotation?(i.rotation=a.rotation,i.rotationCenterX=a.x,i.rotationCenterY=a.y):i.rotation=0})}updateTickLines(){const{scale:t,gridLength:e,tick:i,tickLineGroupSelection:n}=this;n.each((s,a)=>{const{value:o}=a,r=t.convert(o),l=Math.cos(r),c=Math.sin(r);s.x1=e*l,s.y1=e*c,s.x2=(e+i.size)*l,s.y2=(e+i.size)*c,s.stroke=i.stroke,s.strokeWidth=i.width})}createLabelNodeData(t,e,i){const{label:n,gridLength:s,scale:a,tick:o}=this;if(!n.enabled)return[];const r=new Npt,l=i.x-this.translation.x,c=i.x+i.width-this.translation.x,h=t.map((p,f)=>{const{value:y}=p,m=s+n.spacing+o.size,b=a.convert(y),S=Math.cos(b),v=Math.sin(b),D=m*S,I=m*v,{textAlign:T,textBaseline:k}=this.getLabelAlign(b),E=f===t.length-1&&y!==t[0]&&kf(Lf(b),Lf(a.convert(t[0]))),w=this.getLabelRotation(b);let R=String(y);if(n.formatter){const{callbackCache:L}=this.moduleCtx;R=L.call(n.formatter,{value:y,index:f})??""}r.text=R,r.x=D,r.y=I,r.setFont(n),r.textAlign=T,r.textBaseline=k,r.rotation=w,w&&(r.rotationCenterX=D,r.rotationCenterY=I);let O=w?Ept.toCanvas(r):r.getBBox();if(O&&e.hideWhenNecessary&&!w){const L=l-O.x,F=O.x+O.width-c,z=1;if(L>z||F>z){const V=O.width-Math.max(L,F);R=Tpt.wrapText(R,{maxWidth:V,font:n,textWrap:"never"}),R===Cpt.EllipsisChar&&(R=""),r.text=R,O=r.getBBox()}}return{text:R,x:D,y:I,textAlign:T,textBaseline:k,hidden:R===""||p.hidden||E,rotation:w,box:O}});return n.avoidCollisions&&this.avoidLabelCollisions(h),h}computeLabelsBBox(t,e){this.labelData=this.createLabelNodeData(this.tickData,t,e);const i=this.labelData.map(({box:n})=>n).filter(n=>n!=null);return!this.label.enabled||i.length===0?null:wpt.merge(i)}getLabelOrientation(){const{label:t}=this;return t instanceof zL?t.orientation:"fixed"}getLabelRotation(t){let e=iS(this.label.rotation??0);t=Lf(t);const i=this.getLabelOrientation();return i==="parallel"?(e+=t,t>=0&&t<Math.PI?e-=Math.PI/2:e+=Math.PI/2):i==="perpendicular"&&(e+=t,t>=Math.PI/2&&t<1.5*Math.PI&&(e+=Math.PI)),e}getLabelAlign(t){const e=Math.cos(t),i=Math.sin(t);let n,s;const a=this.getLabelOrientation(),o=kf(e,0),r=kf(i,0),l=kf(e,1),c=kf(i,-1),h=e>0&&!o,p=i>0&&!r;return a==="parallel"?(n="center",s=l&&r||p?"top":"bottom"):a==="perpendicular"?(n=c||h?"left":"right",s="middle"):(n="right",o?n="center":h&&(n="left"),s="bottom",r?s="middle":p&&(s="top")),{textAlign:n,textBaseline:s}}updateCrossLines(){const{shape:t,gridLength:e,innerRadiusRatio:i}=this;this.crossLines.forEach(n=>{n instanceof Ow&&(n.ticks=this.tickData.map(s=>s.value),n.shape=t,n.axisOuterRadius=e,n.axisInnerRadius=e*i)}),super.updateCrossLines()}};Vb.CrossLineConstructor=Ow;A([Ipt("rotation"),Rw(l$)],Vb.prototype,"startAngle");A([Rw(l$,{optional:!0})],Vb.prototype,"endAngle");var{RATIO:c$,OBJECT:Opt,Validate:Pw,isNumberEqual:Wj,CategoryScale:Rpt}=_,cp=class extends Vb{constructor(t){super(t,new Rpt),this.groupPaddingInner=0,this.paddingInner=0,this.interval=new Nw}generateAngleTicks(){const{scale:t,gridLength:e}=this,{values:i,minSpacing:n}=this.interval,s=i??t.ticks({nice:this.nice,interval:void 0,tickCount:void 0,minTickCount:0,maxTickCount:1/0})??[];if(s.length<2||isNaN(n))return s.map(c=>({value:c,visible:!0}));const a=s[0],o=t.convert(a),r=e*Math.cos(o),l=e*Math.sin(o);for(let c=1;c<s.length-1;c++){const h=s[c],p=t.convert(h);if(p-o>Math.PI)break;const f=e*Math.cos(p),y=e*Math.sin(p);if(Math.sqrt((f-r)**2+(y-l)**2)>n){const b=new Set([a]);return j1(s,c,(S,v)=>{b.add(v)}),s.map(S=>{const v=b.has(S);return{value:S,visible:v}})}}return[{value:a,visible:!0}]}avoidLabelCollisions(t){let{minSpacing:e}=this.label;if(Number.isFinite(e)||(e=0),t.length<3)return;const i=(l,c)=>{if(l.hidden||c.hidden)return!1;const h=l.box.clone().grow(e/2),p=c.box.clone().grow(e/2);return h.collidesBBox(p)},n=t[0],s=t.at(-1),a=new Set([n]),o=Wj(n.x,s.x)&&Wj(n.y,s.y),r=Math.floor(t.length/2);for(let l=1;l<=r;l++){const c=o?t.slice(0,-1):t;if(!j1(c,l,i)){j1(c,l,(p,f)=>{a.add(f)});break}}t.forEach(l=>{a.has(l)||(l.hidden=!0,l.box=void 0)})}};cp.className="AngleCategoryAxis";cp.type="angle-category";A([Pw(c$)],cp.prototype,"groupPaddingInner");A([Pw(c$)],cp.prototype,"paddingInner");A([Pw(Opt)],cp.prototype,"interval");var Ppt={type:"axis",optionsKey:"axes[]",packageType:"enterprise",chartTypes:["polar"],identifier:"angle-category",moduleFactory:t=>new cp(t)},{range:Yj,isDenseInterval:Bpt,isNumberEqual:zpt,LinearScale:V1}=_,_pt=class _L extends V1{constructor(){super(...arguments),this.arcLength=0}static getNiceStepAndTickCount(e,i){const[n,s]=i;let a=V1.getTickStep(n,s,e);const o=isNaN(e.maxTickCount)?1/0:e.maxTickCount,r=Math.abs(s-n)/a;let l=Math.pow(2,Math.ceil(Math.log(r)/Math.log(2)));return l>o&&(l/=2,a*=2),{count:l,step:a}}ticks(e,i=this.domain){const{arcLength:n}=this;if(!i||i.length<2||i.some(c=>!isFinite(c))||n<=0)return[];const{nice:s,interval:a}=e,[o,r]=i;if(a){const c=Math.abs(a),h=this.getPixelRange();if(!Bpt((r-o)/c,h))return Yj(o,r,c)}let l;if(s&&this.hasNiceRange()){const c=super.niceDomain(e,i);l=_L.getNiceStepAndTickCount(e,c).step}else l=V1.getTickStep(o,r,e);return Yj(o,r,l)}hasNiceRange(){const e=this.range.slice().sort((n,s)=>n-s);return[Math.PI,2*Math.PI].some(n=>zpt(n,e[1]-e[0]))}niceDomain(e,i=this.domain){const n=super.niceDomain(e,i);if(!this.hasNiceRange())return n;const s=n[0]>n[1],a=s?n[1]:n[0],{step:o,count:r}=_L.getNiceStepAndTickCount(e,n),l=1/o,c=o>=1?Math.ceil(a/o+r)*o:Math.ceil((a+r*o)*l)/l;return s?[c,a]:[a,c]}getPixelRange(){return this.arcLength}},{AND:u$,Default:h$,GREATER_THAN:jpt,LESS_THAN:Fpt,NUMBER_OR_NAN:d$,OBJECT:Gpt,Validate:Bw,angleBetween:Vpt,isNumberEqual:$j,normalisedExtentWithMetadata:Upt,findMinMax:Hpt}=_,Vg=class extends Vb{constructor(t){super(t,new _pt),this.shape="circle",this.min=NaN,this.max=NaN,this.interval=new Nw}normaliseDataDomain(t){const{min:e,max:i}=this,{extent:n,clipped:s}=Upt(t,e,i);return{domain:n,clipped:s}}updateScale(){super.updateScale(),this.scale.arcLength=this.getRangeArcLength()}getRangeArcLength(){const{range:t}=this,e=Math.min(...t),i=Math.max(...t),n=Vpt(e,i)||2*Math.PI,s=this.gridLength;return n*s}generateAngleTicks(t){const{scale:e,range:i,nice:n}=this,{values:s,step:a,minSpacing:o,maxSpacing:r}=this.interval;let l;if(s==null){const{arcLength:c}=e,h=r?Math.floor(c/r):1,p=o?Math.floor(c/o):1/0,f=Math.floor(4/Math.PI*Math.abs(i[0]-i[1])),y=Math.max(h,Math.min(p,f)),m={nice:n,interval:a,tickCount:y,minTickCount:h,maxTickCount:p};l=e.ticks(m,t)}else{const[c,h]=Hpt(t.map(Number));l=s.filter(p=>p>=c&&p<=h).sort((p,f)=>p-f)}return l.map(c=>({value:c,visible:!0}))}avoidLabelCollisions(t){let{minSpacing:e}=this.label;Number.isFinite(e)||(e=0);const i=(a,o)=>{if(a.hidden||o.hidden)return!1;const r=a.box.clone().grow(e/2),l=o.box.clone().grow(e/2);return r.collidesBBox(l)},n=t[0],s=t.at(-1);n!==s&&$j(n.x,s.x)&&$j(n.y,s.y)&&(s.hidden=!0);for(let a=1;a<t.length;a*=2){let o=!1;for(let r=a;r<t.length;r+=a){const l=t[r],c=t[r-a];if(i(c,l)){o=!0;break}}if(!o){t.forEach((r,l)=>{l%a>0&&(r.hidden=!0,r.box=void 0)});return}}t.forEach((a,o)=>{o>0&&(a.hidden=!0,a.box=void 0)})}};Vg.className="AngleNumberAxis";Vg.type="angle-number";A([Bw(u$(d$,Fpt("max"))),h$(NaN)],Vg.prototype,"min");A([Bw(u$(d$,jpt("min"))),h$(NaN)],Vg.prototype,"max");A([Bw(Gpt)],Vg.prototype,"interval");var Wpt={type:"axis",optionsKey:"axes[]",packageType:"enterprise",chartTypes:["polar"],identifier:"angle-number",moduleFactory:t=>new Vg(t)},{OrdinalTimeScale:Ypt}=_,zw=class extends _.CategoryAxis{constructor(t){super(t,new Ypt)}};zw.className="OrdinalTimeAxis";zw.type="ordinal-time";var $pt={type:"axis",optionsKey:"axes[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"ordinal-time",moduleFactory:t=>new zw(t)},{ChartAxisDirection:Kpt,Validate:Xpt,NUMBER:Zpt,validateCrossLineValues:qpt,clamp:Kj,normalizeAngle360:Qpt,toRadians:Jpt,isNumberEqual:tft,Group:eft,Path:ift,Sector:nft,RotatableText:sft}=_,p$=class extends kr{constructor(){super(...arguments),this.positionAngle=void 0}};A([Xpt(Zpt,{optional:!0})],p$.prototype,"positionAngle");var _w=class extends Ta{constructor(){super(),this.direction=Kpt.Y,this.label=new p$,this.polygonNode=new ift,this.sectorNode=new nft,this.crossLineRange=new eft,this.labelNode=new sft,this.outerRadius=0,this.innerRadius=0,this.crossLineRange.append(this.polygonNode),this.crossLineRange.append(this.sectorNode),this.labelGroup.append(this.labelNode)}update(t){const{scale:e,type:i,value:n,range:s}=this;if(!e||!i||!qpt(i,n,s,e)){this.rangeGroup.visible=!1,this.lineGroup.visible=!1,this.labelGroup.visible=!1;return}i==="line"&&e instanceof _.BandScale&&(this.type="range",this.range=[n,n]),this.updateRadii();const{innerRadius:a,outerRadius:o}=this;t&&(t=a>=this.axisInnerRadius&&o<=this.axisOuterRadius),this.rangeGroup.visible=t,this.lineGroup.visible=t,this.labelGroup.visible=t,this.updatePolygonNode(t),this.updateSectorNode(t),this.updateLabelNode(t),this.assignCrossLineGroup(this.type==="range",this.crossLineRange)}updateRadii(){const{range:t,scale:e,type:i,axisInnerRadius:n,axisOuterRadius:s}=this;if(!e)return{innerRadius:0,outerRadius:0};const a=l=>s+n-l;let o,r;if(i==="line")o=a(e.convert(this.value)),r=o;else{const l=Math.abs((e==null?void 0:e.bandwidth)??0),c=t.map(h=>e.convert(h));o=a(Math.max(...c)),r=a(Math.min(...c))+l}this.outerRadius=o,this.innerRadius=r}drawPolygon(t,e,i){e.forEach((n,s)=>{const a=t*Math.cos(n),o=t*Math.sin(n);s===0?i.path.moveTo(a,o):i.path.lineTo(a,o)}),i.path.closePath()}updatePolygonNode(t){const{gridAngles:e,polygonNode:i,scale:n,shape:s,type:a,innerRadius:o,outerRadius:r}=this;if(!t||s!=="polygon"||!n||!e){i.visible=!1;return}i.visible=!0;const l=this.getPadding();i.path.clear(!0),this.drawPolygon(r-l,e,i);const c=e.slice().reverse(),h=a==="line"?r-l:o+l;this.drawPolygon(h,c,i),this.setSectorNodeProps(i)}updateSectorNode(t){const{axisInnerRadius:e,axisOuterRadius:i,scale:n,sectorNode:s,shape:a,innerRadius:o,outerRadius:r}=this;if(!t||a!=="circle"||!n){s.visible=!1;return}s.visible=!0,s.startAngle=0,s.endAngle=2*Math.PI;const l=this.getPadding(),c=Kj(e,o+l,i),h=Kj(e,r-l,i);s.innerRadius=Math.min(c,h),s.outerRadius=Math.max(c,h),this.setSectorNodeProps(s)}updateLabelNode(t){const{innerRadius:e,label:i,labelNode:n,scale:s,shape:a,type:o}=this;if(!t||i.enabled===!1||!i.text||!s){n.visible=!1;return}const r=Qpt(Jpt((i.positionAngle??0)-90)),l=(tft(r,0)||r>0)&&r<Math.PI,c=l?r-Math.PI/2:r+Math.PI/2;let h;const p=this.gridAngles??[];o==="line"?h=e+i.padding:a==="circle"||p.length<3?h=e-i.padding:h=e*Math.cos(Math.PI/p.length)-i.padding;const f=h*Math.cos(r),y=h*Math.sin(r);let m;o==="line"?m=l?"top":"bottom":m=l?"bottom":"top",this.setLabelNodeProps(n,f,y,m,c)}getPadding(){const{scale:t}=this;if(!t)return 0;const e=Math.abs(t.bandwidth??0),i=Math.abs(t.step??0);return t instanceof _.BandScale?(i-e)/2:0}};_w.className="RadiusCrossLine";var{ChartAxisDirection:aft,Default:oft,ZIndexMap:rft,NUMBER:f$,BOOLEAN:lft,Validate:jw,isNumberEqual:cft,normalizeAngle360:Xj,toRadians:uft,Caption:hft,Group:dft,Path:pft,Line:fft,Selection:gft,AxisTickGenerator:yft,AxisGroupZIndexMap:mft}=_,Fw=class extends _.AxisLabel{constructor(){super(...arguments),this.autoRotateAngle=335}};A([jw(lft,{optional:!0})],Fw.prototype,"autoRotate");A([jw(f$)],Fw.prototype,"autoRotateAngle");var SD=class extends _.PolarAxis{constructor(t,e){super(t,e),this.positionAngle=0,this.tickGenerator=new yft(this),this.generatedTicks=void 0,this.lineNode=this.axisGroup.appendChild(new fft({name:`${this.id}-Axis-line`,zIndex:mft.AxisLine})),this.gridPathGroup=this.gridGroup.appendChild(new dft({name:`${this.id}-gridPaths`,zIndex:rft.AXIS_GRID})),this.gridPathSelection=gft.select(this.gridPathGroup,pft),this.axisGroup.appendChild(this.title.caption.node),this.destroyFns.push(this.title.caption.registerInteraction(this.moduleCtx,"afterend"))}get direction(){return aft.Y}getAxisTransform(){const t=this.scale.range[0],{translation:e,positionAngle:i,innerRadiusRatio:n}=this,s=t*n,a=uft(i);return{translationX:e.x,translationY:e.y-t-s,rotation:a,rotationCenterX:0,rotationCenterY:t+s}}update(){super.update(),this.updateTitle();const{enabled:t,stroke:e,width:i}=this.line;this.lineNode.setProperties({stroke:e,strokeWidth:t?i:0,x1:0,y1:this.range[0],x2:0,y2:this.range[1]})}calculateTickLayout(t,e,i,n){const{parallelFlipRotation:s,regularFlipRotation:a}=this.calculateRotations(),o=[0,1],r=this.label.getSideFlag(),l=r*(this.getTickSize()+this.label.spacing+this.seriesAreaPadding),c=this.tickGenerator.generateTicks({domain:t,niceMode:e,visibleRange:o,primaryTickCount:n,parallelFlipRotation:s,regularFlipRotation:a,labelX:l,sideFlag:r}),{tickData:h,primaryTickCount:p=n}=c,{ticks:f,rawTicks:y,tickDomain:m,fractionDigits:b,niceDomain:S=t}=h,v=f.map(D=>this.getTickLabelProps(D,c));return this.generatedTicks={ticks:f,labels:v},{ticks:y,tickDomain:m,niceDomain:S,primaryTickCount:p,fractionDigits:b,bbox:void 0}}updateSelections(){const{generatedTicks:t}=this;if(!t)return;const{ticks:e,labels:i}=t;this.gridLineGroupSelection.update(this.gridLength?e:[]),this.tickLineGroupSelection.update(e),this.tickLabelGroupSelection.update(i),this.gridPathSelection.update(this.gridLine.enabled?this.prepareGridPathTickData(e):[]),this.gridLineGroupSelection.cleanup(),this.tickLineGroupSelection.cleanup(),this.tickLabelGroupSelection.cleanup(),this.gridPathSelection.cleanup()}updateLabels(){if(!this.label.enabled)return;const t=_.resetAxisLabelSelectionFn();this.tickLabelGroupSelection.each((e,i)=>{e.fill=i.fill,e.fontFamily=i.fontFamily,e.fontSize=i.fontSize,e.fontStyle=i.fontStyle,e.fontWeight=i.fontWeight,e.text=i.text,e.textBaseline=i.textBaseline,e.textAlign=i.textAlign??"center",e.setProperties(t(e,i))})}updateGridLines(){super.updateGridLines();const{gridLine:{style:t,width:e},shape:i,generatedTicks:n}=this;if(!t||!n)return;const s=t.length,a=(f,y)=>{const{stroke:m,lineDash:b}=t[y%s];f.stroke=m,f.strokeWidth=e,f.lineDash=b,f.fill=void 0},[o,r]=this.gridRange??[0,2*Math.PI],l=cft(r-o,2*Math.PI),p=i==="circle"?(f,y)=>{const{path:m}=f;m.clear(!0);const b=this.getTickRadius(y);l?(m.moveTo(b,0),m.arc(0,0,b,0,2*Math.PI)):(m.moveTo(b*Math.cos(o),b*Math.sin(o)),m.arc(0,0,b,Xj(o),Xj(r))),l&&m.closePath()}:(f,y)=>{const{path:m}=f,b=this.gridAngles;if(m.clear(!0),!b||b.length<3)return;const S=this.getTickRadius(y);b.forEach((v,D)=>{const I=S*Math.cos(v),T=S*Math.sin(v);D===0?m.moveTo(I,T):m.lineTo(I,T),b.forEach((k,E)=>{const w=S*Math.cos(k),R=S*Math.sin(k);E===0?m.moveTo(w,R):m.lineTo(w,R)}),m.closePath()}),m.closePath()};this.gridPathSelection.each((f,y,m)=>{a(f,m),p(f,y)})}updateTitle(){const t=r=>r.defaultValue,{title:e,range:i,moduleCtx:{callbackCache:n}}=this,{formatter:s=t}=this.title;e.caption.enabled=e.enabled,e.caption.fontFamily=e.fontFamily,e.caption.fontSize=e.fontSize,e.caption.fontStyle=e.fontStyle,e.caption.fontWeight=e.fontWeight,e.caption.color=e.color,e.caption.wrapping=e.wrapping;let a=!1;const o=e.caption.node;e.enabled&&(a=!0,o.rotation=Math.PI/2,o.x=Math.floor((i[0]+i[1])/2),o.y=-hft.SMALL_PADDING,o.textAlign="center",o.textBaseline="bottom",o.text=n.call(s,this.getTitleFormatterParams())),o.visible=a}updateCrossLines(){this.crossLines.forEach(t=>{if(t instanceof _w){const{shape:e,gridAngles:i,range:n,innerRadiusRatio:s}=this,a=n[0];t.shape=e,t.gridAngles=i,t.axisOuterRadius=a,t.axisInnerRadius=a*s}}),super.updateCrossLines()}createLabel(){return new Fw}getTickLabelProps(t,e){const{label:i}=this,{combinedRotation:n,textBaseline:s,textAlign:a}=e,o=this.scale.range,r=t.tickLabel,c=i.getSideFlag()*(this.getTickSize()+i.spacing+this.seriesAreaPadding),h=r!==""&&r!=null;return{...this.getLabelStyles({value:t.tickLabel}),tickId:t.tickId,rotation:n,rotationCenterX:c,translationY:t.translationY,text:r,textAlign:a,textBaseline:s,visible:h,x:c,y:0,range:o}}};SD.CrossLineConstructor=_w;A([jw(f$),oft(0)],SD.prototype,"positionAngle");var{RATIO:Gw,ProxyPropertyOnWrite:g$,Validate:Vw,CategoryScale:Zj}=_,up=class extends SD{constructor(t){super(t,new Zj),this.shape="circle",this.groupPaddingInner=0,this.paddingInner=0,this.paddingOuter=0}normaliseDataDomain(t){return{domain:t,clipped:!1}}prepareGridPathTickData(t){return t.slice().reverse()}getTickRadius(t){const{scale:e,innerRadiusRatio:i}=this,n=e.range[0],s=n*i;if(Zj.is(e)){const a=e.domain,o=a.length-1-a.indexOf(t.tick);return o===0?s:e.inset+e.step*(o-.5)+e.bandwidth/2}else{const a=(n-s)/e.domain.length;return n-t.translationY+s-a/2}}};up.className="RadiusCategoryAxis";up.type="radius-category";A([Vw(Gw)],up.prototype,"groupPaddingInner");A([g$("scale","paddingInner"),Vw(Gw)],up.prototype,"paddingInner");A([g$("scale","paddingOuter"),Vw(Gw)],up.prototype,"paddingOuter");var xft={type:"axis",optionsKey:"axes[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radius-category",moduleFactory:t=>new up(t)},{AND:y$,Default:m$,GREATER_THAN:bft,LESS_THAN:vft,NUMBER_OR_NAN:x$,Validate:b$,normalisedExtentWithMetadata:Sft,LinearScale:Mft}=_,Ub=class extends SD{constructor(t){super(t,new Mft),this.shape="polygon",this.min=NaN,this.max=NaN}prepareGridPathTickData(t){const{scale:e}=this,i=e.domain[1];return t.filter(({tick:n})=>n!==i).sort((n,s)=>s.tick-n.tick)}getTickRadius(t){const{scale:e}=this,i=e.range[0],n=i*this.innerRadiusRatio;return i-t.translationY+n}normaliseDataDomain(t){const{min:e,max:i}=this,{extent:n,clipped:s}=Sft(t,e,i);return{domain:n,clipped:s}}};Ub.className="RadiusNumberAxis";Ub.type="radius-number";A([b$(y$(x$,vft("max"))),m$(NaN)],Ub.prototype,"min");A([b$(y$(x$,bft("min"))),m$(NaN)],Ub.prototype,"max");var Aft={type:"axis",optionsKey:"axes[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radius-number",moduleFactory:t=>new Ub(t)},{Chart:Dft}=_;function Ift(t){return t.type==="sankey"||t.type==="chord"}var Uw=class extends Dft{getChartType(){return"flow-proportion"}async updateData(){await super.updateData();const{nodes:t}=this.getOptions();this.series.forEach(e=>{Ift(e)&&e.setChartNodes(t)})}performLayout(t){const{seriesRoot:e,annotationRoot:i}=this,{layoutBox:n}=t;n.shrink(this.seriesArea.padding.toJson());const s=n.clone();this.seriesRect=s,this.animationRect=s,e.visible=this.series.some(a=>a.visible);for(const a of[e,i])a.translationX=Math.floor(s.x),a.translationY=Math.floor(s.y);this.ctx.layoutManager.emitLayoutComplete(t,{series:{visible:e.visible,rect:s,paddedRect:s}})}};Uw.className="FlowProportionChart";Uw.type="flow-proportion";var{isAgFlowProportionChartOptions:Tft}=_,Cft={type:"chart",name:"flow-proportion",detect:Tft,create(t,e){return new Uw(t,e)}},Me={};tpt(Me,{error:()=>S$,errorOnce:()=>Eft,log:()=>kft,logGroup:()=>Oft,reset:()=>wft,table:()=>Lft,warn:()=>v$,warnOnce:()=>Nft});var Vx=new Set;function kft(...t){console.log(...t)}function v$(t,...e){console.warn(`AG Charts - ${t}`,...e)}function S$(t,...e){typeof t=="object"?console.error("AG Charts error",t,...e):console.error(`AG Charts - ${t}`,...e)}function Lft(...t){console.table(...t)}function Nft(t,...e){const i=`Logger.warn: ${t}`;Vx.has(i)||(v$(t,...e),Vx.add(i))}function Eft(t,...e){const i=`Logger.error: ${t}`;Vx.has(i)||(S$(t,...e),Vx.add(i))}function wft(){Vx.clear()}function Oft(t,e){console.groupCollapsed(t);try{return e()}finally{console.groupEnd()}}function Rft(t){return Array.from(new Set(t))}function M$(t,e,i){if(t>e)return;let n;for(;e>=t;){const s=Math.floor((e+t)/2),a=i(s);a==null?e=s-1:(n=a,t=s+1)}return n}function Pft(t,e=0,i){const{leading:n=!1,trailing:s=!0,maxWait:a=1/0}={};let o,r;if(a<e)throw new Error("Value of maxWait cannot be lower than waitMs.");function l(...c){if(n&&!r){r=Date.now(),o=setTimeout(()=>r=null,e),t(...c);return}let h=e;if(a!==1/0&&r){const p=Date.now()-r;e>a-p&&(h=a-p)}clearTimeout(o),r??(r=Date.now()),o=setTimeout(()=>{r=null,s&&t(...c)},h)}return Object.assign(l,{cancel(){clearTimeout(o),r=null}})}function*Bft(...t){for(const e of t)yield*e}function as(t){return t!=null}function zft(t){return Array.isArray(t)}function Ux(t){return t instanceof Date}function U1(t){return Ux(t)&&!isNaN(Number(t))}function en(t){return typeof t=="object"&&t!==null&&!zft(t)}function _ft(t){return typeof t=="string"}function Ki(t){return typeof t=="number"}function Ku(t){return Number.isFinite(t)}var{CartesianAxis:qj,Chart:jft,ChartAxisDirection:km,LinearScale:Fft,PolarAxis:Gft,isBetweenAngles:nS,normalizeAngle360Inclusive:Vft,sectorBox:Uft}=_;function Hft(t){return t.type==="radial-gauge"}function Wft(t){return t.type==="linear-gauge"}var Hw=class extends jft{getChartType(){return"gauge"}updateRadialGauge(t,e){const i=this.axes.find(O=>O.direction===km.X);if(!(i instanceof Gft))return;i.computeRange();const n=t.x,s=n+t.width,a=t.y,o=a+t.height,[r,l]=i.range,h=Vft(l-r)>Math.PI,p=h||nS(1.5*Math.PI,r,l),f=h||nS(0*Math.PI,r,l),y=h||nS(.5*Math.PI,r,l),m=h||nS(1*Math.PI,r,l);let b;m&&!f?b="right":!m&&f?b="left":b="center";let S;p&&!y?S="bottom":!p&&y?S="top":S="middle";const v=Uft({startAngle:r,endAngle:l,innerRadius:0,outerRadius:.5}),D=-(v.x+v.width/2)*2,I=-(v.y+v.height/2)*2,{minimumRadius:T=0,maximumRadius:k}=e,E=Math.max(.5*Math.min(t.width/v.width,t.height/v.height),0);let w=Math.min(k??1/0,Math.max(E,T??0));const R=8;for(let O=0;O<R;O+=1){const L=w<=T||O===R-1,F=t.x+t.width/2+D*w,z=t.y+t.height/2+I*w;i.translation.x=F,i.translation.y=z,i.gridLength=w,i.calculateLayout();const V=i.computeLabelsBBox({hideWhenNecessary:L},t);if(L)break;let H=0;if(V!=null){const W=V.x+F,G=W+V.width,$=V.y+z,K=$+V.height;H=Math.max(a-$,n-W,K-o,G-s,0)}if(H>0)w=Math.max(w-H,T);else break}i.translation.x=t.x+t.width/2+D*w,i.translation.y=t.y+t.height/2+I*w,e.centerX=t.width/2+D*w,e.centerY=t.height/2+I*w,e.radius=w,e.textAlign=b,e.verticalAlign=S,(w===0||w>E)&&Me.warnOnce("There was insufficient space to display the Radial Gauge.")}updateLinearGauge(t,e){const i=this.axes.find(v=>v.direction===km.X),n=this.axes.find(v=>v.direction===km.Y);if(!(i instanceof qj)||!(n instanceof qj))return t;const{horizontal:s,thickness:a}=e;let o=0,r=0;const l=new Fft,c=s?i:n;l.domain=[0,100],l.range=c.range;const h=l.ticks({nice:c.nice,interval:void 0,tickCount:void 0,minTickCount:0,maxTickCount:1/0});s?o=e.computeInset(km.X,h):r=e.computeInset(km.Y,h);const p=t.width-Math.abs(o),f=t.height-Math.abs(r),{width:y,height:m}=s?{width:Math.max(p,0),height:Math.max(Math.min(f,a),0)}:{width:Math.max(Math.min(p,a),0),height:Math.max(f,0)},b=t.x+(p-y)/2+Math.max(o,0),S=t.y+(f-m)/2-Math.min(r,0);i.range=[0,y],i.gridLength=y,i.calculateLayout(),i.translation.x=b,i.translation.y=S+(i.position==="bottom"?a:0),n.range=[0,m],n.gridLength=m,n.calculateLayout(),n.translation.x=b+(n.position==="right"?a:0),n.translation.y=S,e.originX=b-t.x,e.originY=S-t.y,(y===0||m===0)&&Me.warnOnce("There was insufficient space to display the Linear Gauge.")}performLayout(t){const{seriesRoot:e,annotationRoot:i,series:n,seriesArea:s}=this,{layoutBox:a}=t,o=a.clone();a.shrink(s.padding.toJson());const r=this.series[0];Hft(r)?this.updateRadialGauge(a,r):Wft(r)&&this.updateLinearGauge(a,r),this.axes.forEach(l=>l.update()),this.seriesRect=o.clone().translate(o.x-a.x,o.y-a.y),this.animationRect=a,e.visible=n.some(l=>l.visible);for(const l of[e,i])l.translationX=Math.floor(a.x),l.translationY=Math.floor(a.y);this.ctx.layoutManager.emitLayoutComplete(t,{series:{visible:e.visible,rect:o,paddedRect:a}})}getAriaLabel(){const t=[],e=this.getCaptionText();e.length!==0&&t.push(e);for(const n of this.series)t.push(n.getCaptionText());const i=t.join(". ");return this.ctx.localeManager.t("ariaAnnounceGaugeChart",{caption:i})}};Hw.className="GaugeChart";Hw.type="gauge";var{isAgGaugeChartOptions:Yft}=_,$ft={type:"chart",name:"gauge",detect:Yft,create(t,e){return new Hw(t,e)}},{Chart:Kft}=_,Ww=class extends Kft{getChartType(){return"hierarchy"}performLayout(t){const{seriesRoot:e,annotationRoot:i}=this,{layoutBox:n}=t;n.shrink(this.seriesArea.padding.toJson());const s=n.clone();this.seriesRect=s,this.animationRect=s;for(const a of[e,i])a.translationX=Math.floor(s.x),a.translationY=Math.floor(s.y);e.visible=this.series[0].visible,e.setClipRect(s.clone()),this.ctx.layoutManager.emitLayoutComplete(t,{series:{visible:!0,rect:s,paddedRect:s}})}getAriaLabel(){const t=this.getCaptionText();return this.ctx.localeManager.t("ariaAnnounceHierarchyChart",{caption:t})}};Ww.className="HierarchyChart";Ww.type="hierarchy";var{isAgHierarchyChartOptions:Xft}=_,Zft={type:"chart",name:"hierarchy",detect:Xft,create(t,e){return new Ww(t,e)}},{Chart:qft}=_,Yw=class extends qft{getChartType(){return"standalone"}performLayout(t){const{seriesRoot:e,annotationRoot:i}=this,{layoutBox:n}=t;n.shrink(this.seriesArea.padding.toJson());const s=n.clone();this.seriesRect=s,this.animationRect=s;for(const a of[e,i])a.translationX=Math.floor(n.x),a.translationY=Math.floor(n.y);e.visible=this.series[0].visible,this.ctx.layoutManager.emitLayoutComplete(t,{series:{visible:!0,rect:s,paddedRect:n}})}getAriaLabel(){const t=this.getCaptionText();return this.ctx.localeManager.t("ariaAnnounceHierarchyChart",{caption:t})}};Yw.className="StandaloneChart";Yw.type="standalone";var{isAgStandaloneChartOptions:Qft}=_,Jft={type:"chart",name:"standalone",detect:Qft,create(t,e){return new Yw(t,e)}},{Chart:tgt,MercatorScale:Qj,NumberAxis:Jj}=_;function tF(t){return t.type==="map-shape"||t.type==="map-line"||t.type==="map-marker"||t.type==="map-shape-background"||t.type==="map-line-background"}var $w=class extends tgt{constructor(t,e){super(t,e),this.xAxis=new Jj(this.getModuleContext()),this.xAxis.position="bottom",this.yAxis=new Jj(this.getModuleContext()),this.yAxis.position="left",this.ctx.zoomManager.updateAxes([this.xAxis,this.yAxis])}getChartType(){return"topology"}async updateData(){await super.updateData();const{topology:t}=this.getOptions();this.series.forEach(e=>{tF(e)&&e.setChartTopology(t)})}performLayout(t){const{seriesRoot:e,annotationRoot:i}=this,{layoutBox:n}=t;n.shrink(this.seriesArea.padding.toJson());const s=n.clone();this.seriesRect=s,this.animationRect=s;const a=this.series.filter(tF),o=a.reduce((c,h)=>{if(!h.visible)return c;const p=h.topologyBounds;return p==null?c:c==null?p:(c.merge(p),c)},void 0);let r;if(o!=null){const{lon0:c,lat0:h,lon1:p,lat1:f}=o,y=[[c,h],[p,f]],m=Qj.bounds(y),{width:b,height:S}=s,v=Math.min(b/m.width,S/m.height),D=m.width*v,I=m.height*v,T=(b-D)/2,k=(S-I)/2,E=T,w=k,R=T+D,O=k+I,L=this.ctx.zoomManager.getAxisZoom(this.xAxis.id),F=this.ctx.zoomManager.getAxisZoom(this.yAxis.id),z=(R-E)/(L.max-L.min),V=E-z*L.min,H=(O-w)/(1-F.min-(1-F.max)),W=w-H*(1-F.max);r=new Qj(y,[[V,W],[V+z,W+H]])}a.forEach(c=>{c.scale=r});const l=this.series.some(c=>c.visible);e.visible=l;for(const c of[e,i])c.translationX=Math.floor(s.x),c.translationY=Math.floor(s.y),c.setClipRect(s.clone());this.ctx.layoutManager.emitLayoutComplete(t,{series:{visible:l,rect:s,paddedRect:s}})}};$w.className="TopologyChart";$w.type="topology";var{isAgTopologyChartOptions:egt}=_,igt={type:"chart",name:"topology",detect:egt,create(t,e){return new $w(t,e)}},{BOOLEAN:ngt,POSITIVE_NUMBER:sgt,ObserveChanges:A$,Validate:D$}=_,Kw=class extends _.BaseModuleInstance{constructor(t){super(),this.ctx=t,this.enabled=!0,t.animationManager.skip(!1)}};A([A$((t,e)=>{t.ctx.animationManager.skip(!e)}),D$(ngt)],Kw.prototype,"enabled");A([A$((t,e)=>{t.ctx.animationManager.defaultDuration=e}),D$(sgt,{optional:!0})],Kw.prototype,"duration");var agt={type:"root",optionsKey:"animation",packageType:"enterprise",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],moduleFactory:t=>new Kw(t),themeTemplate:{animation:{enabled:!0}}},ogt='<div contenteditable="plaintext-only" class="ag-charts-text-input__textarea" tabindex="0"></div>',{focusCursorAtEnd:rgt}=_,eF="text-input",iF="canvas-overlay",lgt=class extends _.BaseModuleInstance{constructor(t){super(),this.ctx=t,this.layout={getTextInputCoords:()=>({x:0,y:0}),getTextPosition:()=>"center",alignment:"center",textAlign:"center"},this.visible=!1,this.element=t.domManager.addChild(iF,eF),this.element.classList.add("ag-charts-text-input"),this.destroyFns.push(()=>t.domManager.removeChild(iF,eF))}setKeyDownHandler(t){this.element.addEventListener("keydown",t),this.destroyFns.push(()=>this.element.removeEventListener("keydown",t))}show(t){var i,n,s,a,o,r,l,c,h;this.element.innerHTML=ogt;const e=this.element.firstElementChild;_.setAttribute(e,"data-preventdefault",!1),e.isContentEditable||(e.contentEditable="true"),e.setAttribute("placeholder",this.ctx.localeManager.t(t.placeholderText??"inputTextareaPlaceholder")),(i=t.styles)!=null&&i.placeholderColor&&e.style.setProperty("--placeholder-text-color",(n=t.styles)==null?void 0:n.placeholderColor),e.innerText=t.text??"",e.style.color=((s=t.styles)==null?void 0:s.color)??"inherit",e.style.fontFamily=((a=t.styles)==null?void 0:a.fontFamily)??"inherit",e.style.fontSize=(o=t.styles)!=null&&o.fontSize?`${t.styles.fontSize}px`:"inherit",e.style.fontStyle=((r=t.styles)==null?void 0:r.fontStyle)??"inherit",e.style.fontWeight=typeof((l=t.styles)==null?void 0:l.fontWeight)=="number"?`${t.styles.fontWeight}`:((c=t.styles)==null?void 0:c.fontWeight)??"inherit",rgt(e),e.addEventListener("input",()=>{var p;this.updatePosition(),(p=t.onChange)==null||p.call(t,this.getValue(),this.getBBox())}),e.addEventListener("click",p=>{p.stopPropagation()}),t.layout&&(this.layout=t.layout,this.updatePosition()),(h=t.onChange)==null||h.call(t,this.getValue(),this.getBBox()),this.visible=!0}hide(){this.element.innerHTML="",this.layout={getTextInputCoords:()=>({x:0,y:0}),getTextPosition:()=>"center",alignment:"center",textAlign:"center"},this.visible=!1}isVisible(){return this.visible}updateColor(t){this.element.firstElementChild&&(this.element.firstElementChild.style.color=t)}updateFontSize(t){if(this.element.firstElementChild)return this.element.firstElementChild.style.fontSize=`${t}px`,this.updatePosition(),this.getBBox()}getValue(){if(this.element.firstElementChild)return this.element.firstElementChild.innerText.trim()}updatePosition(){const{element:t}=this,e=t.firstElementChild;if(!e)return;const i=this.ctx.domManager.getBoundingClientRect(),{width:n,getTextInputCoords:s,getTextPosition:a,alignment:o,textAlign:r}=this.layout;t.style.setProperty("width",n?`${n}px`:"unset");const l=e.getBoundingClientRect(),c=s(l.height);let h=c.x;o==="center"?h-=(n??l.width)/2:o==="right"&&(h-=n??l.width);const p=a();let f=c.y;p==="center"?f-=l.height/2:p==="bottom"&&(f-=l.height),t.style.setProperty("top",`${f}px`),t.style.setProperty("left",`${h}px`),t.style.setProperty("max-width",`${i.width-h}px`),t.style.setProperty("text-align",o),e.style.setProperty("text-align",r)}getBBox(){const{left:t,top:e,width:i,height:n}=this.element.getBoundingClientRect();return new _.BBox(t,e,i,n)}},{BOOLEAN:cgt,BaseProperties:ugt,Validate:I$,UNION:hgt}=_,dgt=hgt(["x","y","xy"],"an axis type"),Xw=class extends ugt{constructor(){super(...arguments),this.enabled=!1,this.axes="y"}};A([I$(cgt)],Xw.prototype,"enabled");A([I$(dgt,{optional:!0})],Xw.prototype,"axes");var Zw=(t=>(t.Line="line",t.HorizontalLine="horizontal-line",t.VerticalLine="vertical-line",t.DisjointChannel="disjoint-channel",t.ParallelChannel="parallel-channel",t.FibonacciRetracement="fibonacci-retracement",t.FibonacciRetracementTrendBased="fibonacci-retracement-trend-based",t.Callout="callout",t.Comment="comment",t.Note="note",t.Text="text",t.Arrow="arrow",t.ArrowUp="arrow-up",t.ArrowDown="arrow-down",t.DateRange="date-range",t.PriceRange="price-range",t.DatePriceRange="date-price-range",t.QuickDatePriceRange="quick-date-price-range",t))(Zw||{}),pgt=Object.values(Zw);function fgt(t){for(const e of pgt)if(e===t)return e}var{BOOLEAN:Hx,COLOR_STRING:qw,DATE:Wx,FONT_STYLE:ggt,FONT_WEIGHT:ygt,FUNCTION:mgt,LINE_DASH:xgt,LINE_STYLE:bgt,NUMBER:Kd,OBJECT:Yx,OR:$x,POSITIVE_NUMBER:Qw,RATIO:T$,STRING:ch,TEXT_ALIGN:vgt,UNION:MD,BaseProperties:Ah,Validate:ue,predicateWithMessage:Sgt,generateUUID:Mgt}=_,Agt=["value","groupPercentage"],Kx=Sgt(t=>en(t)&&Object.keys(t).every(e=>Agt.includes(e)),"objects with grouping value properties such as 'value' or 'groupPercentage'"),Xx=class extends Ah{};A([ue($x(ch,Kd,Wx,Kx))],Xx.prototype,"x");A([ue($x(ch,Kd,Wx,Kx))],Xx.prototype,"y");var Dgt=class extends Ps(Wc(N$(Ah))){},Jw=class extends Ps(Wc(Dl(iO(pp(Ah))))){constructor(){super(...arguments),this.cornerRadius=2}};A([ue(Hx)],Jw.prototype,"enabled");A([ue(Qw)],Jw.prototype,"cornerRadius");var Igt=class extends Dl(Ah){},Tgt=class extends Ps(Wc(Dl(Ah))){},hp=class extends pp(Ah){constructor(){super(...arguments),this.label="",this.position="top",this.alignment="left"}};A([ue(ch)],hp.prototype,"label");A([ue(MD(["top","center","bottom"]),{optional:!0})],hp.prototype,"position");A([ue(MD(["left","center","right"]),{optional:!0})],hp.prototype,"alignment");var Cgt=class extends pp(Ah){},Hb=class extends pp(Ah){constructor(){super(...arguments),this.label=""}};A([ue(ch)],Hb.prototype,"label");A([ue(MD(["top","inside","bottom"]),{optional:!0})],Hb.prototype,"position");A([ue(MD(["left","center","right"]),{optional:!0})],Hb.prototype,"alignment");function dp(t){class e extends Lgt(N$(t)){constructor(){super(...arguments),this.id=Mgt()}isValidWithContext(n,s){return super.isValid(s)}}return e}function tO(t){class e extends t{constructor(){super(...arguments),this.start=new Xx,this.end=new Xx}}return A([ue(Yx)],e.prototype,"start"),A([ue(Yx)],e.prototype,"end"),e}function C$(t){class e extends t{}return A([ue($x(ch,Kd,Wx,Kx))],e.prototype,"x"),A([ue($x(ch,Kd,Wx,Kx))],e.prototype,"y"),e}function k$(t){class e extends t{}return A([ue($x(ch,Kd,Wx,Kx))],e.prototype,"value"),e}function eO(t){class e extends t{constructor(){super(...arguments),this.background=new Igt}}return A([ue(Yx,{optional:!0})],e.prototype,"background"),e}function Dh(t){class e extends t{constructor(){super(...arguments),this.handle=new Tgt}}return A([ue(Yx,{optional:!0})],e.prototype,"handle"),e}function L$(t){class e extends t{constructor(){super(...arguments),this.axisLabel=new Jw}}return A([ue(Yx,{optional:!0})],e.prototype,"axisLabel"),e}function iO(t){class e extends t{constructor(){super(...arguments),this.padding=void 0,this.textAlign="center",this.formatter=void 0}}return A([ue(Qw,{optional:!0})],e.prototype,"padding"),A([ue(vgt,{optional:!0})],e.prototype,"textAlign"),A([ue(mgt,{optional:!0})],e.prototype,"formatter"),e}function kgt(t){class e extends t{}return e}function nO(t){class e extends t{}return A([ue(Hx,{optional:!0})],e.prototype,"extendStart"),A([ue(Hx,{optional:!0})],e.prototype,"extendEnd"),e}function Lgt(t){class e extends t{}return A([ue(Hx,{optional:!0})],e.prototype,"locked"),e}function sO(t){class e extends t{setLocaleManager(n){this.localeManager??(this.localeManager=n)}}return e}function N$(t){class e extends t{}return A([ue(Hx,{optional:!0})],e.prototype,"visible"),e}function Dl(t){class e extends t{}return A([ue(qw,{optional:!0})],e.prototype,"fill"),A([ue(T$,{optional:!0})],e.prototype,"fillOpacity"),e}function Ps(t){class e extends t{}return A([ue(qw,{optional:!0})],e.prototype,"stroke"),A([ue(T$,{optional:!0})],e.prototype,"strokeOpacity"),A([ue(Kd,{optional:!0})],e.prototype,"strokeWidth"),e}function Wc(t){class e extends t{constructor(){super(...arguments),this.lineCap=void 0,this.computedLineDash=void 0}}return A([ue(xgt,{optional:!0})],e.prototype,"lineDash"),A([ue(Kd,{optional:!0})],e.prototype,"lineDashOffset"),A([ue(bgt,{optional:!0})],e.prototype,"lineStyle"),e}function pp(t){class e extends t{constructor(){super(...arguments),this.fontSize=12,this.fontFamily="Verdana, sans-serif"}}return A([ue(ggt,{optional:!0})],e.prototype,"fontStyle"),A([ue(ygt,{optional:!0})],e.prototype,"fontWeight"),A([ue(Qw)],e.prototype,"fontSize"),A([ue(ch)],e.prototype,"fontFamily"),A([ue(qw,{optional:!0})],e.prototype,"color"),e}function pi(t){return Ki(t)||_ft(t)||Ux(t)?{value:t,groupPercentage:0}:t??{value:void 0,groupPercentage:0}}var{clampArray:Ngt}=_;function Mr(t,e){if(t.start==null||t.end==null)return;const i=ki(t.start,e),n=ki(t.end,e);if(!(i==null||n==null))return{x1:i.x,y1:i.y,x2:n.x,y2:n.y}}function ki(t,e){const i=Xu(t.x,e.xAxis),n=Xu(t.y,e.yAxis);return{x:i,y:n}}function Xu(t,e){if(t==null)return 0;const{value:i,groupPercentage:n}=pi(t),{scale:s,snapToGroup:a}=e,o=s.bandwidth===0?s.step??0:s.bandwidth??0,r=a?o/2:o*n;return s.convert(i)+r}function fi(t,e){const i=Zx(t.x,e.xAxis),n=Zx(t.y,e.yAxis);return{x:i,y:n}}function Zx(t,e){const{scale:i}=e;if(e.continuous&&i.step==null)return e.scaleInvert(t);const n=e.scaleInvertNearest(t),s=i.bandwidth===0?i.step:i.bandwidth??0,a=i.convert(n),o=a+s,r=Ngt(t,i.range),l=a===o?0:(r-a)/(o-a);return{value:n,groupPercentage:l}}var{BaseProperties:Egt}=_,aO=class extends dp(tO(Dh(Egt))){constructor(){super(...arguments),this.snapToAngle=45}isValidWithContext(t,e){return super.isValid(e)}getDefaultColor(t){}getDefaultOpacity(t){}},{STRING:wgt,Validate:Ogt}=_,E$=class extends sO(iO(pp(aO))){constructor(){super(...arguments),this.text="",this.position="top",this.alignment="left",this.placement="inside",this.placeholderText="inputTextareaPlaceholder"}isValidWithContext(t,e){return super.isValid(e)}getDefaultColor(t){return this.color}getDefaultOpacity(t){}getPlaceholderColor(){}getPadding(){const{padding:t=0}=this;return{top:t,right:t,bottom:t,left:t}}getText(){const t=this.text.length==0;let e=this.text;return t&&(e=this.placeholderText??"",this.localeManager&&(e=this.localeManager.t(e))),{text:e,isPlaceholder:t}}getTextInputCoords(t,e){return ki(this.end,t)}getTextPosition(){return this.position}};A([Ogt(wgt)],E$.prototype,"text");var{STRING:Rgt,Validate:Pgt,Color:nF}=_,Bgt={top:6,right:12,bottom:9,left:12},dr=class extends Dl(Ps(E$)){constructor(){super(...arguments),this.type="callout",this.position="bottom",this.alignment="left"}static is(t){return en(t)&&t.type==="callout"}getDefaultColor(t){switch(t){case"fill-color":return this.fill;case"line-color":return this.stroke;case"text-color":default:return this.color}}getDefaultOpacity(t){switch(t){case"fill-color":return this.fillOpacity;case"line-color":return this.strokeOpacity;case"text-color":default:return}}getPlaceholderColor(){const{r:t,g:e,b:i}=nF.fromString(this.color??"#888888");return new nF(t,e,i,.66).toString()}getPadding(){const{padding:t}=this;return t==null?{...Bgt}:{top:t,right:t,bottom:t,left:t}}getTextInputCoords(t,e){const i=super.getTextInputCoords(t,e),n=this.getPadding(),s=n.left??0,a=n.bottom??0;return{x:i.x+s,y:i.y-a}}};A([Pgt(Rgt)],dr.prototype,"type");var{STRING:zgt,BaseProperties:_gt,Validate:jgt}=_,AD=class extends dp(C$(Dh(iO(pp(_gt))))){constructor(){super(...arguments),this.text="",this.position="top",this.alignment="left",this.placement="inside",this.placeholderText="inputTextareaPlaceholder"}isValidWithContext(t,e){return super.isValid(e)}getDefaultColor(t){return this.color}getDefaultOpacity(t){}getPlaceholderColor(){}getPadding(){const{padding:t=0}=this;return{top:t,right:t,bottom:t,left:t}}getText(){const t=this.text.length==0;return{text:t?this.placeholderText??"":this.text,isPlaceholder:t}}getTextInputCoords(t,e){return ki(this,t)}getTextPosition(){return this.position}};A([jgt(zgt)],AD.prototype,"text");var{STRING:Fgt,Validate:Ggt,Color:sF}=_,sS={top:8,right:14,bottom:8,left:14},el=class extends Dl(Ps(AD)){constructor(){super(...arguments),this.type="comment",this.position="bottom",this.alignment="left"}static is(t){return en(t)&&t.type==="comment"}getDefaultColor(t){switch(t){case"fill-color":return this.fill;case"line-color":return this.stroke;case"text-color":default:return this.color}}getDefaultOpacity(t){switch(t){case"fill-color":return this.fillOpacity;case"line-color":return this.strokeOpacity;case"text-color":default:return}}getPlaceholderColor(){const{r:t,g:e,b:i}=sF.fromString(this.color??"#888888");return new sF(t,e,i,.66).toString()}getPadding(){const{padding:t,fontSize:e}=this;return t==null?{top:Math.max(e*.4,sS.top),bottom:Math.max(e*.4,sS.bottom),left:Math.max(e*.8,sS.left),right:Math.max(e*.8,sS.right)}:{top:t,right:t,bottom:t,left:t}}getTextInputCoords(t,e){const i=super.getTextInputCoords(t,e),n=this.getPadding();return{x:i.x+n.left,y:i.y-n.bottom}}};A([Ggt(Fgt)],el.prototype,"type");var{Vec2:yd}=_;function qx(t,e){return t?"dashed":e??"solid"}function w$(t,e){switch(e){case"solid":return[];case"dashed":return[t*4,t*2];case"dotted":return[0,t*2]}}function Ug(t,e,i,n){const s=qx(t,i);return e??t??w$(n??1,s)}function Hg(t,e,i){const n=qx(e,i);return t??n==="dotted"?"round":void 0}function Vgt(t,e){const[i,n]=yd.from(t),s=e.height,a=yd.gradient(n,i,s),o=yd.intercept(n,a,s),r=[{x:i.x,y:s??0},{x:i.x,y:s==null?e.height:s-e.height}];if(a===1/0)return r;let l=[yd.intersectAtY(a,o,0,s),yd.intersectAtY(a,o,e.height,s),yd.intersectAtX(a,o,0,s),yd.intersectAtX(a,o,e.width,s)];return l=l.filter(c=>c.x>=e.x&&c.x<=e.width&&c.y>=e.y&&c.y<=e.height).sort((c,h)=>c.x===h.x?0:c.x<h.x?-1:1),l.length!==2?r:l}var{BOOLEAN:DD,OBJECT:Wg,STRING:ID,BaseProperties:oO,Validate:Ca}=_,Ugt=class extends Ps(oO){},rO=class extends pp(Dl(Ps(oO))){constructor(){super(...arguments),this.divider=new Ugt}};A([Ca(Wg,{optional:!0})],rO.prototype,"divider");var jL=class extends Dl(Ps(Dh(oO))){constructor(){super(...arguments),this.statistics=new rO}};A([Ca(Wg,{optional:!0})],jL.prototype,"statistics");var Yg=class extends sO(eO(Ps(Wc(aO)))){constructor(){super(...arguments),this.direction="both",this.hasDateRange=!1,this.hasPriceRange=!1,this.statistics=new rO,this.getVolume=()=>{},this.text=new hp}getDefaultColor(t){switch(t){case"fill-color":return this.background.fill;case"line-color":return this.stroke;case"text-color":return this.text.color}}getDefaultOpacity(t){switch(t){case"fill-color":return this.background.fillOpacity;case"line-color":return this.strokeOpacity}}getLineDash(){return Ug(this.lineDash,this.computedLineDash,this.lineStyle,this.strokeWidth)}getLineCap(){return Hg(this.lineCap,this.lineDash,this.lineStyle)}};A([Ca(Wg,{optional:!0})],Yg.prototype,"statistics");A([Ca(Wg,{optional:!0})],Yg.prototype,"text");function lO(t){class e extends t{constructor(){super(...arguments),this.hasDateRange=!0}}return e}function cO(t){class e extends t{constructor(){super(...arguments),this.hasPriceRange=!0}}return e}var ko=class extends lO(Yg){constructor(){super(...arguments),this.type="date-range",this.direction="horizontal"}static is(t){return en(t)&&t.type==="date-range"}};A([Ca(ID)],ko.prototype,"type");A([Ca(DD,{optional:!0})],ko.prototype,"extendAbove");A([Ca(DD,{optional:!0})],ko.prototype,"extendBelow");var Lo=class extends cO(Yg){constructor(){super(...arguments),this.type="price-range",this.direction="vertical"}static is(t){return en(t)&&t.type==="price-range"}};A([Ca(ID)],Lo.prototype,"type");A([Ca(DD,{optional:!0})],Lo.prototype,"extendLeft");A([Ca(DD,{optional:!0})],Lo.prototype,"extendRight");var uc=class extends lO(cO(Yg)){constructor(){super(...arguments),this.type="date-price-range",this.direction="both"}static is(t){return en(t)&&t.type==="date-price-range"}};A([Ca(ID)],uc.prototype,"type");var za=class extends lO(cO(Yg)){constructor(){super(...arguments),this.type="quick-date-price-range",this.up=new jL,this.down=new jL,this.direction="both"}static is(t){return en(t)&&t.type==="quick-date-price-range"}};A([Ca(ID)],za.prototype,"type");A([Ca(Wg,{optional:!0})],za.prototype,"up");A([Ca(Wg,{optional:!0})],za.prototype,"down");var{TextWrapper:Hgt,CachedTextMeasurerPool:Wgt,BBox:Ygt}=_,TD=1.38;function O$(t){return{font:{fontFamily:t.fontFamily,fontSize:t.fontSize,fontStyle:t.fontStyle,fontWeight:t.fontWeight},textAlign:t.textAlign,textBaseline:t.position=="center"?"middle":t.position,lineHeight:TD,avoidOrphans:!1,textWrap:"always"}}function CD(t,e,i){return i?Hgt.wrapText(e,{...O$(t),maxWidth:i}):e}function $gt(t,e){const i=O$(t),{lineMetrics:n,width:s}=Wgt.measureLines(e,i),a=n.length*(t.fontSize??14)*TD;return{width:s,height:a}}function uO(t,e,i,n){let s=(n==null?void 0:n.width)??0,a=(n==null?void 0:n.height)??0;if(!n){const o=t.width!=null?CD(t,e,t.width):e;({width:s,height:a}=$gt(t,o))}return new Ygt(i.x,i.y,s,a)}function R$(t,e,i,n,{x:s,y:a}){const{visible:o=!0,fontFamily:r,fontSize:l=14,fontStyle:c,fontWeight:h,textAlign:p}=n,f=l*TD,y=n.position=="center"?"middle":n.position,m=i?n.getPlaceholderColor():n.color;t.setProperties({x:s,y:a,visible:o,text:e,fill:m,fontFamily:r,fontSize:l,fontStyle:c,fontWeight:h,textAlign:p,lineHeight:f,textBaseline:y})}var{OBJECT:Kgt,STRING:Xgt,BaseProperties:Zgt,Validate:P$,clamp:qgt}=_,Qgt=10,Jgt=11,B$=20,tyt=22,eyt=10,z$=B$+eyt,_$=34,iyt=class extends Dl(Ps(Zgt)){},ga=class extends Dl(Ps(AD)){constructor(){super(...arguments),this.type="note",this.background=new iyt,this.position="bottom",this.alignment="center",this.width=200}static is(t){return en(t)&&t.type==="note"}getDefaultColor(t){switch(t){case"line-color":return this.fill;case"text-color":return this.color}}getDefaultOpacity(t){switch(t){case"line-color":return this.fillOpacity;case"text-color":return}}getPadding(){const t=this.padding??Qgt;return{top:t,right:t,bottom:t,left:t}}getTextInputCoords(t,e){const{width:i,text:n}=this,s=super.getTextInputCoords(t,e),a=this.getPadding().top,o=uO(this,n,s);o.x=qgt(i/2,o.x,t.seriesRect.width-i/2);const r=o.y-z$-a*2,l=o.y+Jgt+a*2,c=Math.max(o.height,e);return r-c-_$<0?(o.y=l,this.position="top"):(o.y=r+a,this.position="bottom"),{x:o.x,y:o.y}}};A([P$(Xgt)],ga.prototype,"type");A([P$(Kgt,{optional:!0})],ga.prototype,"background");var{BaseProperties:nyt}=_,syt=class extends dp(C$(Dh(nyt))){isValidWithContext(t,e){return super.isValid(e)}getDefaultColor(t){}getDefaultOpacity(t){}},hO=class j$ extends Dl(syt){constructor(){super(...arguments),this.size=32}static is(e){return e instanceof j$}getDefaultColor(e){return e==="fill-color"?this.fill:void 0}getDefaultOpacity(e){return e==="fill-color"?this.fillOpacity:void 0}};function Qx(t,e,i,n){let s=!0;return s&&(s=Ar(t,e.start,i,n&&`${n}[start] `)),s&&(s=Ar(t,e.end,i,n&&`${n}[end] `)),s}function F$(t,e,i){const n=e.direction==="horizontal"?t.yAxis:t.xAxis,s=FL(e.value,n);if(!s&&i){const{value:a}=pi(e.value);Me.warnOnce(`${i}is outside the axis domain, ignoring. - value: [${a}]]`)}return s}function Ar(t,e,i,n){if(e.x==null||e.y==null)return n&&Me.warnOnce(`${n}requires both an [x] and [y] property, ignoring.`),!1;const s=(i==null?void 0:i.x)===!1?!0:FL(e.x,t.xAxis),a=(i==null?void 0:i.y)===!1?!0:FL(e.y,t.yAxis);if(!s||!a){let o="x & y domains";if(s&&(o="y domain"),a&&(o="x domain"),n){const{value:r}=pi(e.x),{value:l}=pi(e.y);Me.warnOnce(`${n}is outside the ${o}, ignoring. - x: [${r}], y: ${l}]`)}return!1}return!0}function FL(t,e){const{domain:i}=e.scale,{value:n}=pi(t);return i&&n!=null&&e.continuous?n>=i[0]&&n<=i.at(-1):!0}function ayt(t){return(t==null?void 0:t.x)!=null&&(t==null?void 0:t.y)!=null}var{OBJECT:G$,STRING:V$,BaseProperties:U$,Validate:kD}=_,Ds=class extends dp(k$(Dh(L$(Ps(Wc(U$)))))){constructor(){super(...arguments),this.direction="horizontal",this.type="horizontal-line",this.text=new hp}static is(t){return en(t)&&t.type==="horizontal-line"}isValidWithContext(t,e){return super.isValid(e)&&F$(t,this,e)}getDefaultColor(){return this.stroke}getDefaultOpacity(){return this.strokeOpacity}getLineDash(){return Ug(this.lineDash,this.computedLineDash,this.lineStyle,this.strokeWidth)}getLineCap(){return Hg(this.lineCap,this.lineDash,this.lineStyle)}};A([kD(V$)],Ds.prototype,"type");A([kD(G$,{optional:!0})],Ds.prototype,"text");var il=class extends dp(k$(Dh(L$(Ps(Wc(U$)))))){constructor(){super(...arguments),this.direction="vertical",this.type="vertical-line",this.text=new hp}static is(t){return en(t)&&t.type==="vertical-line"}isValidWithContext(t,e){return super.isValid(e)&&F$(t,this,e)}getDefaultColor(){return this.stroke}getDefaultOpacity(){return this.strokeOpacity}getLineDash(){return Ug(this.lineDash,this.computedLineDash,this.lineStyle,this.strokeWidth)}getLineCap(){return Hg(this.lineCap,this.lineDash,this.lineStyle)}};A([kD(V$)],il.prototype,"type");A([kD(G$,{optional:!0})],il.prototype,"text");var{NUMBER:H$,OBJECT:oyt,STRING:ryt,BaseProperties:lyt,Validate:LD}=_,No=class extends dp(eO(tO(Dh(nO(Ps(Wc(lyt))))))){constructor(){super(...arguments),this.type="disjoint-channel",this.text=new Hb,this.snapToAngle=45}static is(t){return en(t)&&t.type==="disjoint-channel"}get bottom(){const t={start:{x:this.start.x,y:this.start.y},end:{x:this.end.x,y:this.end.y}};return typeof t.start.y=="number"&&typeof t.end.y=="number"?(t.start.y-=this.startHeight,t.end.y-=this.endHeight):Me.warnOnce(`Annotation [${this.type}] can only be used with a numeric y-axis.`),t}isValidWithContext(t,e){return super.isValid(e)&&Qx(t,this,{y:!1},e)&&Qx(t,this.bottom,{y:!1},e)}getDefaultColor(t){switch(t){case"fill-color":return this.background.fill;case"line-color":return this.stroke;case"text-color":return this.text.color}}getDefaultOpacity(t){switch(t){case"fill-color":return this.background.fillOpacity;case"line-color":return this.strokeOpacity}}getLineDash(){return Ug(this.lineDash,this.computedLineDash,this.lineStyle,this.strokeWidth)}getLineCap(){return Hg(this.lineCap,this.lineDash,this.lineStyle)}};A([LD(ryt)],No.prototype,"type");A([LD(H$)],No.prototype,"startHeight");A([LD(H$)],No.prototype,"endHeight");A([LD(oyt,{optional:!0})],No.prototype,"text");var{OBJECT:cyt,STRING:W$,Validate:dO}=_,ND=class extends sO(kgt(nO(Ps(Wc(aO))))){constructor(){super(...arguments),this.text=new hp}isValidWithContext(t,e){return super.isValid(e)&&Qx(t,this,void 0,e)}getDefaultColor(t){switch(t){case"line-color":return this.stroke;case"text-color":return this.text.color}}getDefaultOpacity(){return this.strokeOpacity}getLineDash(){return Ug(this.lineDash,this.computedLineDash,this.lineStyle,this.strokeWidth)}getLineCap(){return Hg(this.lineCap,this.lineDash,this.lineStyle)}};A([dO(cyt,{optional:!0})],ND.prototype,"text");var hc=class extends ND{constructor(){super(...arguments),this.type="arrow",this.endCap="arrow"}static is(t){return en(t)&&t.type==="arrow"}};A([dO(W$)],hc.prototype,"type");var dc=class extends ND{constructor(){super(...arguments),this.type="line"}static is(t){return en(t)&&t.type==="line"}};A([dO(W$)],dc.prototype,"type");var{OBJECT:uyt,BOOLEAN:pO,COLOR_STRING:hyt,COLOR_STRING_ARRAY:dyt,Validate:fp,predicateWithMessage:pyt}=_,fyt=[10,6,4],gyt=pyt(t=>Ku(t)&&fyt.includes(t),"Number of fibonacci ranges, 10, 6 or 4"),Yc=class extends ND{constructor(){super(...arguments),this.label=new Cgt,this.reverse=!1,this.showFill=!0,this.isMultiColor=!0,this.strokes=[],this.bands=10}getDefaultColor(t){switch(t){case"line-color":return this.rangeStroke??this.stroke;case"text-color":return this.text.color}}};A([fp(uyt,{optional:!0})],Yc.prototype,"label");A([fp(pO,{optional:!0})],Yc.prototype,"reverse");A([fp(pO,{optional:!0})],Yc.prototype,"showFill");A([fp(pO,{optional:!0})],Yc.prototype,"isMultiColor");A([fp(dyt,{optional:!0})],Yc.prototype,"strokes");A([fp(hyt,{optional:!0})],Yc.prototype,"rangeStroke");A([fp(gyt,{optional:!0})],Yc.prototype,"bands");var{STRING:yyt,OBJECT:myt,Validate:Y$}=_,nl=class extends Yc{constructor(){super(...arguments),this.type="fibonacci-retracement-trend-based",this.endRetracement=new Xx}static is(t){return en(t)&&t.type==="fibonacci-retracement-trend-based"}};A([Y$(yyt)],nl.prototype,"type");A([Y$(myt)],nl.prototype,"endRetracement");var{STRING:xyt,Validate:byt}=_,pc=class extends Yc{constructor(){super(...arguments),this.type="fibonacci-retracement"}static is(t){return en(t)&&t.type==="fibonacci-retracement"}};A([byt(xyt)],pc.prototype,"type");var{NUMBER:vyt,STRING:Syt,OBJECT:$$,BaseProperties:Myt,Validate:ED}=_,Eo=class extends dp(eO(tO(Dh(nO(Ps(Wc(Myt))))))){constructor(){super(...arguments),this.type="parallel-channel",this.middle=new Dgt,this.text=new Hb,this.snapToAngle=45}static is(t){return en(t)&&t.type==="parallel-channel"}get bottom(){const t={start:{x:this.start.x,y:this.start.y},end:{x:this.end.x,y:this.end.y}};return typeof t.start.y=="number"&&typeof t.end.y=="number"?(t.start.y-=this.height,t.end.y-=this.height):Me.warnOnce(`Annotation [${this.type}] can only be used with a numeric y-axis.`),t}isValidWithContext(t,e){return super.isValid(e)&&Qx(t,this,{y:!1},e)&&Qx(t,this.bottom,{y:!1},e)}getDefaultColor(t){switch(t){case"fill-color":return this.background.fill;case"line-color":return this.stroke;case"text-color":return this.text.color}}getDefaultOpacity(t){switch(t){case"fill-color":return this.background.fillOpacity;case"line-color":return this.strokeOpacity}}getLineDash(){return Ug(this.lineDash,this.computedLineDash,this.lineStyle,this.strokeWidth)}getLineCap(){return Hg(this.lineCap,this.lineDash,this.lineStyle)}};A([ED(Syt)],Eo.prototype,"type");A([ED(vyt)],Eo.prototype,"height");A([ED($$,{optional:!0})],Eo.prototype,"middle");A([ED($$,{optional:!0})],Eo.prototype,"text");var{STRING:Ayt,Validate:Dyt}=_,fc=class extends AD{constructor(){super(...arguments),this.type="text",this.position="bottom"}static is(t){return en(t)&&t.type==="text"}};A([Dyt(Ayt)],fc.prototype,"type");function Zu(t){return za.is(t)}function wD(t){return dc.is(t)||Ds.is(t)||il.is(t)||hc.is(t)||K$(t)}function Ac(t){return No.is(t)||Eo.is(t)}function K$(t){return pc.is(t)||nl.is(t)}function hl(t){return dr.is(t)||el.is(t)||ga.is(t)||fc.is(t)}function Wb(t){return ko.is(t)||Lo.is(t)||uc.is(t)||za.is(t)}function H1(t){return hl(t)&&!ga.is(t)}function ju(t){return wD(t)||Ac(t)||Wb(t)&&!za.is(t)}function Iyt(t){return wD(t)||Ac(t)||Wb(t)||dr.is(t)||ga.is(t)}function Tyt(t){return ga.is(t)}function Cyt(t){return Ac(t)||Wb(t)||dr.is(t)||el.is(t)||hO.is(t)}function kyt(t){return hl(t)&&!ga.is(t)}function rg(t){return(wD(t)||Ac(t)||Wb(t))&&!Zu(t)&&en(t.text)}function Lyt(t,e){"fontSize"in t&&(t.fontSize=e),rg(t)&&(t.text.fontSize=e)}function X$(t,e){const i=(e==null?void 0:e.strokeWidth)??t.strokeWidth??1,n=(e==null?void 0:e.type)??t.lineStyle,s=n??qx(t.lineDash,n),a=w$(i,s);t.strokeWidth=i,t.computedLineDash=a,t.lineStyle=s,t.lineCap=s==="dotted"?"round":void 0}function OD(t,e,i,n,s,a){switch(e){case"fill-color":{"fill"in t&&(t.fill=n),"fillOpacity"in t&&(t.fillOpacity=s),"background"in t&&(t.background.fill=n,t.background.fillOpacity=s);break}case"line-color":{"axisLabel"in t&&(t.axisLabel.fill=n,t.axisLabel.fillOpacity=s,t.axisLabel.stroke=n,t.axisLabel.strokeOpacity=s),"fill"in t&&"fillOpacity"in t&&Tyt(t)?(t.fill=n,t.fillOpacity=s):("strokeOpacity"in t&&(t.strokeOpacity=s),"isMultiColor"in t&&"rangeStroke"in t?(t.isMultiColor=a,t.rangeStroke=n):"stroke"in t&&(t.stroke=n));break}case"text-color":{"color"in t&&(t.color=i),rg(t)&&(t.text.color=n);break}}}var{deepClone:bo}=_,Nyt=class{constructor(){this.mementoOriginatorKey="annotation-defaults",this.colors=new Map(Object.values(Zw).map(t=>[t,new Map([["line-color",void 0],["fill-color",void 0],["text-color",void 0]])])),this.fontSizes=new Map([["callout",void 0],["comment",void 0],["text",void 0],["arrow",void 0],["line",void 0],["disjoint-channel",void 0],["parallel-channel",void 0],["date-range",void 0],["price-range",void 0],["date-price-range",void 0]]),this.lineStyles=new Map([["line",void 0],["horizontal-line",void 0],["vertical-line",void 0],["disjoint-channel",void 0],["parallel-channel",void 0],["arrow",void 0],["date-range",void 0],["price-range",void 0],["date-price-range",void 0]]),this.lineTextAlignments=new Map([["line",void 0],["horizontal-line",void 0],["vertical-line",void 0],["disjoint-channel",void 0],["parallel-channel",void 0],["arrow",void 0],["date-range",void 0],["price-range",void 0],["date-price-range",void 0]]),this.lineTextPositions=new Map([["line",void 0],["horizontal-line",void 0],["vertical-line",void 0],["disjoint-channel",void 0],["parallel-channel",void 0],["arrow",void 0],["date-range",void 0],["price-range",void 0],["date-price-range",void 0]]),this.fibonacciOptions=new Map([["fibonacci-retracement",{bands:void 0,reverse:void 0,showFill:void 0}],["fibonacci-retracement-trend-based",{bands:void 0,reverse:void 0,showFill:void 0}]])}createMemento(){return{colors:bo(this.colors),fontSizes:bo(this.fontSizes),lineStyles:bo(this.lineStyles),lineTextAlignments:bo(this.lineTextAlignments),lineTextPositions:bo(this.lineTextPositions),fibonacciOptions:bo(this.fibonacciOptions)}}guardMemento(t){return!0}restoreMemento(t,e,i){this.colors=bo(i.colors),this.fontSizes=bo(i.fontSizes),this.lineStyles=bo(i.lineStyles),this.lineTextAlignments=bo(i.lineTextAlignments),this.lineTextPositions=bo(i.lineTextPositions),this.fibonacciOptions=bo(i.fibonacciOptions)}setDefaultColor(t,e,i,n,s,a){var o;(o=this.colors.get(t))==null||o.set(e,[i,n,s,a])}setDefaultFontSize(t,e){this.fontSizes.set(t,e)}setDefaultLineStyleType(t,e){const i=this.lineStyles.get(t);i?i.type=e:this.lineStyles.set(t,{type:e})}setDefaultLineStyleWidth(t,e){const i=this.lineStyles.get(t);i?i.strokeWidth=e:this.lineStyles.set(t,{strokeWidth:e})}setDefaultLineTextAlignment(t,e){this.lineTextAlignments.set(t,e)}setDefaultLineTextPosition(t,e){this.lineTextPositions.set(t,e)}setDefaultFibonacciOptions(t,e,i){if(t!="fibonacci-retracement"&&t!="fibonacci-retracement-trend-based")return;const n=this.fibonacciOptions.get(t);n[e]=i,this.fibonacciOptions.set(t,n)}applyDefaults(t){for(const[e,i]of this.colors)if(t.type===e)for(const[n,[s,a,o,r]=[]]of i)s&&a&&o!=null&&r!=null&&OD(t,n,s,a,o,r);for(const[e,i]of this.fontSizes)t.type!==e||i==null||Lyt(t,i);for(const[e,i]of this.lineStyles)t.type!==e||i==null||X$(t,i);for(const[e,i]of this.lineTextPositions)t.type!==e||i==null||(t.text.position=i);for(const[e,i]of this.lineTextAlignments)t.type!==e||i==null||(t.text.alignment=i);for(const[e,i]of this.fibonacciOptions)t.type!==e||i==null||Object.entries(i).forEach(([n,s])=>{s!=null&&t.set({[n]:s})})}},Eyt='<div class="ag-charts-color-picker__palette" tabindex="0"></div><div class="ag-charts-color-picker__color-row"><button class="ag-charts-color-picker__multi-color-button" tabindex="0" type="button"></button> <input class="ag-charts-color-picker__hue-input" tabindex="0" type="range" min="0" max="360" value="0"></div><input class="ag-charts-color-picker__alpha-input" tabindex="0" type="range" min="0" max="1" value="1" step="0.01"> <label class="ag-charts-color-picker__color-field"><span class="ag-charts-color-picker__color-label">Color</span> <input class="ag-charts-color-picker__color-input" tabindex="0" value="#000"></label>',{Color:GL,clamp:aS,createElement:wyt}=_,aF=t=>{try{const e=GL.fromString(t),[i,n,s]=e.toHSB();return[i,n,s,e.a]}catch{return}},Z$=class extends _.AnchoredPopover{constructor(t,e){super(t,"color-picker",e),this.hasChanged=!1,this.hideFns.push(()=>{var i;this.hasChanged&&((i=this.onChangeHide)==null||i.call(this))})}show(t){this.hasChanged=!1,this.onChangeHide=t.onChangeHide;const{element:e,initialFocus:i}=this.createColorPicker(t),n=this.showWithChildren([e],{initialFocus:i,...t});n.classList.add("ag-charts-color-picker"),n.setAttribute("role","dialog")}createColorPicker(t){let e=t.isMultiColor??!1,[i,n,s,a]=aF(t.color??"#f00")??[0,1,.5,1];a=t.opacity??a;const o=wyt("div","ag-charts-color-picker__content");o.innerHTML=Eyt,o.ariaLabel=this.ctx.localeManager.t("ariaLabelColorPicker");const r=o.querySelector(".ag-charts-color-picker__palette"),l=o.querySelector(".ag-charts-color-picker__hue-input"),c=o.querySelector(".ag-charts-color-picker__multi-color-button"),h=o.querySelector(".ag-charts-color-picker__alpha-input"),p=o.querySelector(".ag-charts-color-picker__color-input"),f=o.querySelector(".ag-charts-color-picker__color-label");c.classList.toggle("ag-charts-color-picker__multi-color-button--hidden",!t.hasMultiColorOption);const y=(v=!0)=>{var T;const I=GL.fromHSB(i,n,s,a).toHexString();if(o.style.setProperty("--h",`${i}`),o.style.setProperty("--s",`${n}`),o.style.setProperty("--v",`${s}`),o.style.setProperty("--a",`${a}`),o.style.setProperty("--color",I.slice(0,7)),o.style.setProperty("--color-a",I),l.value=`${i}`,h.value=`${a}`,h.classList.toggle("ag-charts-color-picker__alpha-input--opaque",a===1),c.classList.toggle("ag-charts-color-picker__multi-color-button--active",e),f.classList.toggle("ag-charts-color-picker__color-label--multi-color",e),document.activeElement!==p&&(p.value=e?"Multi Colour":I.toUpperCase()),v||t.color==null){const k=GL.fromHSB(i,n,s,1).toHexString();(T=t.onChange)==null||T.call(t,I,k,a,e)}v&&(this.hasChanged=!0)};y(!1);const m=v=>v.preventDefault(),b=v=>v.stopPropagation(),S=v=>{v.preventDefault();const D=v.currentTarget;D.focus();const I=D.getBoundingClientRect(),T=({pageX:E,pageY:w})=>{e=!1,n=Math.min(Math.max((E-I.left)/I.width,0),1),s=1-Math.min(Math.max((w-I.top)/I.height,0),1),y()},k=()=>{window.removeEventListener("pointermove",T)};T(v),window.addEventListener("pointermove",T),window.addEventListener("pointerup",k,{once:!0})};return o.addEventListener("mousedown",b),o.addEventListener("touchstart",b),o.addEventListener("touchmove",b),o.addEventListener("keydown",v=>{switch(v.stopPropagation(),v.key){case"Enter":case"Escape":this.hide();break;default:return}v.preventDefault()}),r.addEventListener("pointerdown",S),r.addEventListener("touchstart",m,{passive:!1}),r.addEventListener("touchmove",m,{passive:!1}),r.addEventListener("keydown",v=>{if(v.key==="ArrowLeft")n=aS(0,n-.01,1);else if(v.key==="ArrowRight")n=aS(0,n+.01,1);else if(v.key==="ArrowUp")s=aS(0,s+.01,1);else if(v.key==="ArrowDown")s=aS(0,s-.01,1);else return;v.preventDefault(),y()}),c.addEventListener("click",()=>{e=!e,y()}),l.addEventListener("input",v=>{e=!1,i=v.currentTarget.valueAsNumber??0,y()}),h.addEventListener("input",v=>{e=!1,a=v.currentTarget.valueAsNumber??0,y()}),p.addEventListener("input",v=>{e=!1;const D=aF(v.currentTarget.value);D!=null&&([i,n,s,a]=D,y())}),p.addEventListener("blur",()=>y()),p.addEventListener("keydown",v=>{v.key==="Enter"&&(v.currentTarget.blur(),y())}),{element:o,initialFocus:r}}};function oF(t){return!(t instanceof _.LogScale)&&!(t instanceof _.BandScale)}var Oyt=[{label:"toolbarAnnotationsTrendLine",icon:"trend-line-drawing",value:"line"},{label:"toolbarAnnotationsHorizontalLine",icon:"horizontal-line-drawing",value:"horizontal-line"},{label:"toolbarAnnotationsVerticalLine",icon:"vertical-line-drawing",value:"vertical-line"},{label:"toolbarAnnotationsParallelChannel",icon:"parallel-channel-drawing",value:"parallel-channel",visible:oF},{label:"toolbarAnnotationsDisjointChannel",icon:"disjoint-channel-drawing",value:"disjoint-channel",visible:oF}],Ryt=[{label:"toolbarAnnotationsFibonacciRetracement",icon:"fibonacci-retracement-drawing",value:"fibonacci-retracement"},{label:"toolbarAnnotationsFibonacciRetracementTrendBased",icon:"fibonacci-retracement-trend-based-drawing",value:"fibonacci-retracement-trend-based"}],Pyt=[{label:"Fibonacci - Extended",value:10},{label:"Fibonacci - 6 Band",value:6},{label:"Fibonacci - 4 Band",value:4}],Byt=[{label:"toolbarAnnotationsText",icon:"text-annotation",value:"text"},{label:"toolbarAnnotationsComment",icon:"comment-annotation",value:"comment"},{label:"toolbarAnnotationsCallout",icon:"callout-annotation",value:"callout"},{label:"toolbarAnnotationsNote",icon:"note-annotation",value:"note"}],zyt=[{label:"toolbarAnnotationsArrow",icon:"arrow-drawing",value:"arrow"},{label:"toolbarAnnotationsArrowUp",icon:"arrow-up-drawing",value:"arrow-up"},{label:"toolbarAnnotationsArrowDown",icon:"arrow-down-drawing",value:"arrow-down"}],_yt=[{label:"toolbarAnnotationsQuickDatePriceRange",icon:"measurer-drawing",value:"quick-date-price-range"},{label:"toolbarAnnotationsDateRange",icon:"date-range-drawing",value:"date-range"},{label:"toolbarAnnotationsPriceRange",icon:"price-range-drawing",value:"price-range"},{label:"toolbarAnnotationsDatePriceRange",icon:"date-price-range-drawing",value:"date-price-range"}],q$=[{strokeWidth:1,label:"1",value:1},{strokeWidth:2,label:"2",value:2},{strokeWidth:3,label:"3",value:3},{strokeWidth:4,label:"4",value:4},{strokeWidth:8,label:"8",value:8}],dx=[{icon:"line-style-solid",altText:"iconAltTextLineStyleSolid",value:"solid"},{icon:"line-style-dashed",altText:"iconAltTextLineStyleDashed",value:"dashed"},{icon:"line-style-dotted",altText:"iconAltTextLineStyleDotted",value:"dotted"}],Q$=[{label:"10",value:10},{label:"12",value:12},{label:"14",value:14},{label:"16",value:16},{label:"18",value:18},{label:"22",value:22},{label:"28",value:28},{label:"36",value:36},{label:"46",value:46}],{ARRAY:jyt,BOOLEAN:Fyt,NUMBER:Gyt,OBJECT:Vyt,STRING:Uyt,UNION:Hyt,Color:rF,FloatingToolbar:Wyt,Listeners:Yyt,Menu:W1,PropertiesArray:$yt,ToolbarButtonProperties:lF,ToolbarButtonWidget:Kyt,Validate:gp}=_,$g=class extends lF{constructor(){super(...arguments),this.checkedOverrides=new lF}};A([gp(Hyt(["line-stroke-width","line-style-type","line-color","fill-color","text-color","text-size","delete","settings","lock"]))],$g.prototype,"value");A([gp(Vyt,{optional:!0})],$g.prototype,"checkedOverrides");A([gp(Uyt,{optional:!0})],$g.prototype,"color");A([gp(Gyt,{optional:!0})],$g.prototype,"strokeWidth");A([gp(Boolean,{optional:!0})],$g.prototype,"isMultiColor");var Xyt=class extends Kyt{update(t){super.update(t),t.value==="line-stroke-width"&&this.updateLineStrokeWidth(t),(t.value==="fill-color"||t.value==="line-color"||t.value==="text-color")&&this.updateFillColor(t)}updateFillColor(t){const e=this.getElement();e.classList.add("ag-charts-annotations__color-picker-button"),e.classList.toggle("ag-charts-annotations__color-picker-button--multi-color",t.isMultiColor),e.style.setProperty("--color",t.color??null)}updateLineStrokeWidth(t){const e=this.getElement();e.classList.add("ag-charts-annotations__stroke-width-button"),e.style.setProperty("--stroke-width",`${t.strokeWidth}px`)}},Zyt=class extends Wyt{createButtonWidget(){return new Xyt(this.localeManager)}},fO=class extends _.BaseProperties{constructor(t,e){super(),this.ctx=t,this.getActiveDatum=e,this.enabled=!0,this.buttons=new $yt($g),this.destroyFns=[],this.events=new Yyt,this.visibleButtons=[],this.toolbar=new Zyt(this.ctx,"annotation-options"),this.colorPicker=new Z$(this.ctx),this.textSizeMenu=new W1(this.ctx,"text-size"),this.lineStyleTypeMenu=new W1(this.ctx,"annotations-line-style-type"),this.lineStrokeWidthMenu=new W1(this.ctx,"annotations-line-stroke-width"),this.destroyFns.push(this.toolbar.addToolbarListener("button-pressed",this.onButtonPress.bind(this)),this.toolbar.addToolbarListener("toolbar-moved",this.onToolbarMoved.bind(this)),t.widgets.seriesWidget.addListener("drag-start",this.onDragStart.bind(this)),t.widgets.seriesWidget.addListener("drag-end",this.onDragEnd.bind(this)),()=>this.colorPicker.destroy())}onDragStart(){this.toolbar.ignorePointerEvents()}onDragEnd(){this.toolbar.capturePointerEvents()}destroy(){for(const t of this.destroyFns)t()}addListener(t,e){return this.events.addListener(t,e)}show(){this.toolbar.show({})}hide(){this.toolbar.hide()}updateButtons(t){const e={"line-style-type":ju(t),"line-stroke-width":ju(t),"line-color":Iyt(t),"text-color":kyt(t),"fill-color":Cyt(t),"text-size":H1(t),settings:rg(t),lock:!0,delete:!0};this.visibleButtons=this.buttons.filter(i=>e[i.value]),this.toolbar.clearButtons(),this.toolbar.updateButtons(this.visibleButtons),this.refreshButtons(t)}setAnchorScene(t){this.toolbar.hasBeenDragged()||this.toolbar.setAnchor(t.getAnchor())}hideOverlays(){this.toolbar.clearActiveButton(),this.colorPicker.hide({lastFocus:null}),this.textSizeMenu.hide(),this.lineStyleTypeMenu.hide(),this.lineStrokeWidthMenu.hide(),this.dispatch("hid-overlays")}clearActiveButton(){this.toolbar.clearActiveButton()}updateColors(t){this.updateColorPickerColor("line-color",t.getDefaultColor("line-color"),t.getDefaultOpacity("line-color"),"isMultiColor"in t&&(t==null?void 0:t.isMultiColor)),this.updateColorPickerColor("fill-color",t.getDefaultColor("fill-color"),t.getDefaultOpacity("fill-color"),"isMultiColor"in t&&(t==null?void 0:t.isMultiColor)),this.updateColorPickerColor("text-color",t.getDefaultColor("text-color"),t.getDefaultOpacity("text-color"),"isMultiColor"in t&&(t==null?void 0:t.isMultiColor))}updateColorPickerColor(t,e,i,n){if(e!=null&&i!=null){const{r:s,g:a,b:o}=rF.fromString(e);e=rF.fromArray([s,a,o,i]).toHexString()}this.updateButtonByValue(t,{color:e,isMultiColor:n})}updateFontSize(t){this.updateButtonByValue("text-size",{label:t!=null?String(t):void 0})}updateLineStyleType(t){this.updateButtonByValue("line-style-type",{icon:t.icon})}updateStrokeWidth(t){this.updateButtonByValue("line-stroke-width",{label:t.label,strokeWidth:t.value})}dispatch(t,e){this.events.dispatch(t,e)}onButtonPress({event:t,button:e}){const i=this.getActiveDatum();if(i)switch(this.hideOverlays(),e.value){case"line-style-type":{const n=ju(i)?qx(i.lineDash,i.lineStyle):void 0;this.lineStyleTypeMenu.show({items:dx,ariaLabel:this.ctx.localeManager.t("toolbarAnnotationsLineStyle"),value:n,sourceEvent:t.sourceEvent,onPress:s=>this.onLineStyleTypeMenuPress(s,i),class:"ag-charts-annotations__line-style-type-menu"});break}case"line-stroke-width":{const n=ju(i)?i.strokeWidth:void 0;this.lineStrokeWidthMenu.show({items:q$,ariaLabel:this.ctx.localeManager.t("toolbarAnnotationsLineStrokeWidth"),value:n,sourceEvent:t.sourceEvent,onPress:s=>this.onLineStrokeWidthMenuPress(s,i),class:"ag-charts-annotations__line-stroke-width-menu"});break}case"line-color":case"fill-color":case"text-color":{this.toolbar.toggleActiveButtonByIndex(e.index),this.colorPicker.show({color:i==null?void 0:i.getDefaultColor(e.value),opacity:i==null?void 0:i.getDefaultOpacity(e.value),sourceEvent:t.sourceEvent,hasMultiColorOption:"isMultiColor"in i,isMultiColor:"isMultiColor"in i&&(i==null?void 0:i.isMultiColor),onChange:i!=null?this.onColorPickerChange.bind(this,e.value,i):void 0,onChangeHide:(n=>{this.dispatch("saved-color",{type:i.type,colorPickerType:e.value,color:i.getDefaultColor(n)})}).bind(this,e.value)});break}case"text-size":{const n=hl(i)?i.fontSize:void 0;this.textSizeMenu.show({items:Q$,ariaLabel:this.ctx.localeManager.t("toolbarAnnotationsTextSize"),value:n,sourceEvent:t.sourceEvent,onPress:s=>this.onTextSizeMenuPress(s,i),class:"ag-charts-annotations__text-size-menu"});break}case"delete":{this.dispatch("pressed-delete");break}case"lock":{i.locked=!i.locked,this.refreshButtons(i),this.dispatch("pressed-lock");break}case"settings":{this.toolbar.toggleActiveButtonByIndex(e.index),this.dispatch("pressed-settings",t);break}}}onToolbarMoved(t){const{buttonBounds:e,popoverBounds:i}=t,n={x:i.x,y:i.y+i.height+4},s={y:i.y-4};this.colorPicker.setAnchor(n,s);for(const[a,o]of e.entries()){const r=this.visibleButtons.at(a);if(!r)continue;const l={x:o.x,y:o.y+o.height-1},c={y:o.y};switch(r.value){case"line-stroke-width":this.lineStrokeWidthMenu.setAnchor(l,c);break;case"line-style-type":this.lineStyleTypeMenu.setAnchor(l,c);break;case"text-size":this.textSizeMenu.setAnchor(l,c);break}}}onColorPickerChange(t,e,i,n,s,a){this.dispatch("updated-color",{type:e.type,colorPickerType:t,colorOpacity:i,color:n,opacity:s,isMultiColor:a}),this.updateColorPickerColor(t,i,s,a)}onTextSizeMenuPress(t,e){if(!H1(e))return;const i=t.value;this.dispatch("updated-font-size",{type:e.type,fontSize:i}),this.textSizeMenu.hide(),this.updateFontSize(i)}onLineStyleTypeMenuPress(t,e){if(!ju(e))return;const i=t.value;this.dispatch("updated-line-style",{type:e.type,lineStyleType:i}),this.lineStyleTypeMenu.hide(),this.updateLineStyleType(t)}onLineStrokeWidthMenuPress(t,e){if(!ju(e))return;const i=t.value;this.dispatch("updated-line-width",{type:e.type,strokeWidth:i}),this.lineStrokeWidthMenu.hide(),this.updateStrokeWidth(t)}refreshButtons(t){const e=t.locked??!1;for(const[i,n]of this.visibleButtons.entries())n&&(n.value==="lock"?(this.toolbar.toggleSwitchCheckedByIndex(i,e),this.updateButtonByIndex(i,e?n.checkedOverrides.toJson():n.toJson())):this.toolbar.toggleButtonEnabledByIndex(i,!e));H1(t)&&this.updateFontSize(t.fontSize),this.updateColors(t),this.updateLineStyles(t)}updateLineStyles(t){if(!ju(t))return;const e=t.strokeWidth??1,i=qx(t.lineDash,t.lineStyle);this.updateStrokeWidth({strokeWidth:e,value:e,label:String(e)}),this.updateLineStyleType(dx.find(n=>n.value===i)??dx[0])}updateButtonByValue(t,e){const i=this.visibleButtons.findIndex(n=>n.value===t);i!==-1&&this.updateButtonByIndex(i,e)}updateButtonByIndex(t,e){const i=this.visibleButtons.at(t);i&&this.toolbar.updateButtonByIndex(t,{...i.toJson(),...e,value:e.value??i.value})}};A([gp(Fyt)],fO.prototype,"enabled");A([gp(jyt)],fO.prototype,"buttons");var{StateMachine:cF,StateMachineProperty:gO,Vec2:uF,Debug:qyt}=_,nn=class extends cF{constructor(t){const e=({context:i})=>{var n;(n=this.node)==null||n.drag(this.datum,this.offset,i,this.snapping),t.update()};super("idle",{idle:{dragStart:{target:"dragging",action:({offset:i,context:n})=>{var s;this.hasMoved=!1,this.dragStart=i,this.offset=i,(s=this.node)==null||s.dragStart(this.datum,i,n)}}},dragging:{keyDown:e,keyUp:e,drag:({offset:i,context:n})=>{var s;this.hasMoved=uF.lengthSquared(uF.sub(i,this.dragStart))>0,this.offset=i,(s=this.node)==null||s.drag(this.datum,i,n,this.snapping),t.update()},dragEnd:{target:cF.parent,action:()=>{var i;(i=this.node)==null||i.stopDragging(),this.hasMoved&&t.recordAction("Move annotation"),t.update()}}}}),this.debug=qyt.create(!0,"annotations"),this.hasMoved=!1,this.snapping=!1}};A([gO()],nn.prototype,"snapping");A([gO()],nn.prototype,"datum");A([gO()],nn.prototype,"node");var{STRING:Qyt,Validate:Jyt}=_,Fu=class extends hO{constructor(){super(...arguments),this.type="arrow-down"}static is(t){return en(t)&&t.type==="arrow-down"}};A([Jyt(Qyt)],Fu.prototype,"type");var J$=class t6 extends _.Group{constructor(){super(...arguments),this.active=!1,this.locked=!1,this.visible=!1,this.zIndex=1}drag(e){const{handle:i,locked:n}=this;return n?{point:{x:i.x,y:i.y},offset:{x:0,y:0}}:{point:e,offset:{x:e.x-i.x,y:e.y-i.y}}}toggleActive(e){this.active=e,e||(this.handle.strokeWidth=t6.INACTIVE_STROKE_WIDTH)}toggleHovered(e){this.glow.visible=!this.locked&&e,this.glow.dirtyPath=!0}toggleDragging(e){this.locked||(this.handle.visible=!e,this.glow.visible=this.glow.visible&&!e,this.handle.dirtyPath=!0,this.glow.dirtyPath=!0)}toggleLocked(e){this.locked=e}getCursor(){}containsPoint(e,i){return this.handle.containsPoint(e,i)}};J$.INACTIVE_STROKE_WIDTH=2;var ih=J$,yO=class e6 extends ih{constructor(){super(),this.handle=new _.Marker({shape:"circle"}),this.glow=new _.Marker({shape:"circle"}),this.append([this.handle]),this.handle.size=e6.HANDLE_SIZE,this.handle.strokeWidth=ih.INACTIVE_STROKE_WIDTH,this.handle.zIndex=2}update(e){this.handle.setProperties({...e,strokeWidth:ih.INACTIVE_STROKE_WIDTH})}drag(e){return{point:e,offset:{x:0,y:0}}}};yO.HANDLE_SIZE=7;yO.GLOW_SIZE=9;var Gu=yO,RD=class pa extends ih{constructor(){super(),this.handle=new _.Rect,this.glow=new _.Rect,this.gradient="horizontal",this.append([this.glow,this.handle]),this.handle.cornerRadius=pa.CORNER_RADIUS,this.handle.width=pa.HANDLE_SIZE,this.handle.height=pa.HANDLE_SIZE,this.handle.strokeWidth=ih.INACTIVE_STROKE_WIDTH,this.handle.zIndex=2,this.glow.cornerRadius=pa.CORNER_RADIUS,this.glow.width=pa.GLOW_SIZE,this.glow.height=pa.GLOW_SIZE,this.glow.strokeWidth=0,this.glow.fillOpacity=.2,this.glow.zIndex=1,this.glow.visible=!1}toggleLocked(e){if(super.toggleLocked(e),e){const i=(pa.HANDLE_SIZE-Gu.HANDLE_SIZE)/2;this.handle.cornerRadius=1,this.handle.fill=this.handle.stroke,this.handle.strokeWidth=0,this.handle.x+=i,this.handle.y+=i,this.handle.width=Gu.HANDLE_SIZE,this.handle.height=Gu.HANDLE_SIZE,this.glow.width=Gu.GLOW_SIZE,this.glow.height=Gu.GLOW_SIZE}else this.handle.cornerRadius=pa.CORNER_RADIUS,this.handle.width=pa.HANDLE_SIZE,this.handle.height=pa.HANDLE_SIZE,this.glow.width=pa.GLOW_SIZE,this.glow.height=pa.GLOW_SIZE,this.cachedStyles&&this.handle.setProperties(this.cachedStyles)}update(e){if(this.cachedStyles={...e},this.active||delete e.strokeWidth,this.locked){delete e.fill,delete e.strokeWidth;const i=(pa.HANDLE_SIZE-Gu.HANDLE_SIZE)/2;e.x-=i,e.y-=i,this.cachedStyles.x-=i,this.cachedStyles.y-=i}this.handle.setProperties(e),this.glow.setProperties({...e,x:(e.x??this.glow.x)-2,y:(e.y??this.glow.y)-2,strokeWidth:0,fill:e.stroke})}drag(e){return this.locked?{point:e,offset:{x:0,y:0}}:this.gradient==="vertical"?{point:{x:e.x,y:this.handle.y},offset:{x:e.x-this.handle.x,y:0}}:{point:{x:this.handle.x,y:e.y},offset:{x:0,y:e.y-this.handle.y}}}getCursor(){if(!this.locked)return this.gradient==="vertical"?"col-resize":"row-resize"}};RD.HANDLE_SIZE=12;RD.GLOW_SIZE=16;RD.CORNER_RADIUS=4;var qf=RD,mO=class qm extends ih{constructor(){super(),this.handle=new _.Marker({shape:"circle"}),this.glow=new _.Marker({shape:"circle"}),this.append([this.glow,this.handle]),this.handle.size=qm.HANDLE_SIZE,this.handle.strokeWidth=ih.INACTIVE_STROKE_WIDTH,this.handle.zIndex=2,this.glow.size=qm.GLOW_SIZE,this.glow.strokeWidth=0,this.glow.fillOpacity=.2,this.glow.zIndex=1,this.glow.visible=!1}toggleLocked(e){super.toggleLocked(e),e?(this.handle.fill=this.handle.stroke,this.handle.strokeWidth=0,this.handle.size=Gu.HANDLE_SIZE,this.glow.size=Gu.GLOW_SIZE):(this.handle.size=qm.HANDLE_SIZE,this.glow.size=qm.GLOW_SIZE,this.cachedStyles&&this.handle.setProperties(this.cachedStyles))}update(e){this.cachedStyles={...e},this.active||delete e.strokeWidth,this.locked&&(delete e.fill,delete e.strokeWidth),this.handle.setProperties(e),this.glow.setProperties({...e,strokeWidth:0,fill:e.stroke})}getCursor(){return"pointer"}};mO.HANDLE_SIZE=11;mO.GLOW_SIZE=17;var Li=mO,{ZIndexMap:tmt}=_,Wn=class extends _.Group{constructor(){super(...arguments),this.name="AnnotationScene",this.zIndex=tmt.CHART_ANNOTATION}static isCheck(t,e){return en(t)&&Object.hasOwn(t,"type")&&t.type===e}toggleHovered(t){this.toggleHandles(t)}*nonHandleChildren(){for(const t of this.children())t instanceof ih||(yield t)}computeBBoxWithoutHandles(){return _.Transformable.toCanvas(this,_.Group.computeChildrenBBox(this.nonHandleChildren()))}updateNode(t,e,i){if(!i&&e){this.removeChild(e);return}return i&&e==null&&(e=new t,this.appendChild(e)),e}},{Vec2:i6,toRadians:emt}=_;function Jx(t,e,i=!1,n,s=1){if(!i)return fi(t,e);const a=n?ki(n,e):i6.origin();return fi(Yb(t,a,s),e)}function Yb({x:t,y:e},i,n,s=1){const{x:a,y:o}=i,r=Math.sqrt(Math.pow(t-a,2)+Math.pow(e-o,2)),l=Math.atan2(e-o,t-a),c=emt(n),h=Math.round(l/c)*c;return{x:a+r*Math.cos(h),y:o+r*Math.sin(h)*s}}function PD(t,e){const i={};return Object.entries(t).forEach(([n,s])=>{i[n]=ki(s,e)}),i}function xO(t,e,i){const n=[],s={};Object.entries(t).forEach(([h,p])=>{const f=i6.add(p,e);n.push(f),s[h]=fi(f,i)});const{xAxis:a,yAxis:o}=i,r=(h,p,f)=>p>=h&&p<=f,l=n.every(h=>r(a.bounds.x,h.x,a.bounds.x+a.bounds.width)),c=n.every(h=>r(o.bounds.y,h.y,o.bounds.y+o.bounds.height));return{vectors:s,translateX:l,translateY:c}}var{Vec2:Y1}=_,n6=class extends Wn{constructor(){super(...arguments),this.handle=new Li,this.anchor={x:0,y:0,position:"above"}}update(t,e){const i=ki(t,e);this.updateHandle(t,i),this.anchor=this.updateAnchor(t,i,e)}dragStart(t,e,i){this.dragState={offset:e,...PD({handle:t},i)}}drag(t,e,i){const{dragState:n}=this;if(t.locked||!n)return;const s=Y1.add(n.handle,Y1.sub(e,n.offset)),a=fi(s,i);Ar(i,a)&&(t.x=a.x,t.y=a.y)}translate(t,e,i){const n=Y1.add(ki(t,i),e),s=fi(n,i);Ar(i,s)&&(t.x=s.x,t.y=s.y)}toggleHandles(t){this.handle.visible=!!t,this.handle.toggleHovered(this.activeHandle==="handle")}toggleActive(t){this.toggleHandles(t),this.handle.toggleActive(t)}stopDragging(){this.handle.toggleDragging(!1)}copy(t,e,i){const n=ki(t,i),s=fi({x:n.x-30,y:n.y-30},i);return e.x=s.x,e.y=s.y,e}getAnchor(){return this.anchor}getCursor(){return"pointer"}containsPoint(t,e){const{handle:i}=this;return this.activeHandle=void 0,i.containsPoint(t,e)?(this.activeHandle="handle",!0):!1}getNodeAtCoords(t,e){if(this.handle.containsPoint(t,e))return"handle"}updateHandle(t,e,i){const{x:n,y:s}=this.getHandleCoords(t,e,i),a=this.getHandleStyles(t);this.handle.update({...a,x:n,y:s}),this.handle.toggleLocked(t.locked??!1)}updateAnchor(t,e,i){const n=this.getHandleCoords(t,e);return{x:n.x+i.seriesRect.x,y:n.y+i.seriesRect.y,position:this.anchor.position}}getHandleCoords(t,e,i){return{x:e.x,y:e.y}}getHandleStyles(t){return{fill:t.handle.fill,stroke:t.handle.stroke,strokeOpacity:t.handle.strokeOpacity,strokeWidth:t.handle.strokeWidth}}},s6=class extends n6{constructor(){super(),this.append([this.handle])}update(t,e){super.update(t,e);const i=ki(t,e);this.updateShape(t,i)}updateShape(t,e){this.updateShapeStyles(t),this.updateShapePath(t,e)}updateShapeStyles(t){const{shape:e}=this;e.fill=t.fill,e.fillOpacity=t.fillOpacity??1}updateShapePath(t,e){const{shape:i}=this;i.x=e.x,i.y=e.y,i.size=t.size}containsPoint(t,e){return super.containsPoint(t,e)||this.shape.containsPoint(t,e)}getNodeAtCoords(t,e){return this.shape.containsPoint(t,e)?"shape":super.getNodeAtCoords(t,e)}},a6=[[.5,0],[1,.5],[.75,.5],[.75,1],[.25,1],[.25,.5],[0,.5]];function o6(t){_.drawMarkerUnitPolygon(t,a6)}o6.anchor={x:.5,y:0};var oS=class extends s6{constructor(){super(),this.type="arrow-up",this.shape=new _.Marker({shape:o6}),this.append([this.shape])}static is(t){return Wn.isCheck(t,"arrow-up")}getHandleCoords(t,e){const i=Li.HANDLE_SIZE/2,n=super.getHandleCoords(t,e);return n.y-=i,n}},imt=a6.map(([t,e])=>[t,1-e]);function r6(t){_.drawMarkerUnitPolygon(t,imt)}r6.anchor={x:.5,y:1};var rS=class extends s6{constructor(){super(),this.type="arrow-down",this.shape=new _.Marker({shape:r6}),this.append([this.shape])}static is(t){return Wn.isCheck(t,"arrow-down")}updateAnchor(t,e,i){const n=super.updateAnchor(t,e,i);return n.y-=t.size,n}getHandleCoords(t,e){const i=Li.HANDLE_SIZE/2,n=super.getHandleCoords(t,e);return n.y+=i,n}},{StateMachine:lS,StateMachineProperty:nmt,Debug:smt}=_,bO=class extends lS{constructor(t){const e=({point:n})=>{const s=this.createDatum();s.set({x:n.x,y:n.y}),t.create(s)},i=()=>{var n;(n=this.node)==null||n.toggleActive(!0),t.showAnnotationOptions(),t.update()};super("start",{start:{click:{target:"waiting-first-render",action:e},drag:{target:"waiting-first-render",action:e},cancel:lS.parent,reset:lS.parent},"waiting-first-render":{render:{target:lS.parent,action:i}}}),this.debug=smt.create(!0,"annotations")}};A([nmt()],bO.prototype,"node");var amt=class extends bO{createDatum(){return new Fu}},hF={type:"arrow-down",datum:Fu,scene:rS,isDatum:Fu.is,translate:(t,e,i,n)=>{Fu.is(e)&&rS.is(t)&&t.translate(e,i,n)},copy:(t,e,i,n)=>{if(Fu.is(e)&&Fu.is(i)&&rS.is(t))return t.copy(e,i,n)},update:(t,e,i)=>{Fu.is(e)&&rS.is(t)&&t.update(e,i)},createState:(t,{createDatum:e})=>new amt({...t,create:e("arrow-down")}),dragState:t=>new nn(t)},{STRING:omt,Validate:rmt}=_,Vu=class extends hO{constructor(){super(...arguments),this.type="arrow-up"}static is(t){return en(t)&&t.type==="arrow-up"}};A([rmt(omt)],Vu.prototype,"type");var lmt=class extends bO{createDatum(){return new Vu}},dF={type:"arrow-up",datum:Vu,scene:oS,isDatum:Vu.is,translate:(t,e,i,n)=>{Vu.is(e)&&oS.is(t)&&t.translate(e,i,n)},copy:(t,e,i,n)=>{if(Vu.is(e)&&Vu.is(i)&&oS.is(t))return t.copy(e,i,n)},update:(t,e,i)=>{Vu.is(e)&&oS.is(t)&&t.update(e,i)},createState:(t,{createDatum:e})=>new lmt({...t,create:e("arrow-up")}),dragState:t=>new nn(t)},{Vec2:cmt,Vec4:pF}=_,l6=class extends Wn{extendLine({x1:t,y1:e,x2:i,y2:n},s,a){const o={x1:t,y1:e,x2:i,y2:n};if(!s.extendStart&&!s.extendEnd)return o;const[r,l]=Vgt(o,a.yAxis.bounds),c=o.x2<o.x1,h=o.y1>=o.y2,p=o.x2===o.x1;return s.extendEnd&&(p?o.y2=h?l.y:r.y:(o.x2=c?r.x:l.x,o.y2=c?r.y:l.y)),s.extendStart&&(p?o.y1=h?r.y:l.y:(o.x1=c?l.x:r.x,o.y1=c?l.y:r.y)),o}dragStart(t,e,i){this.dragState={offset:e,...PD({start:t.start,end:t.end},i)}}drag(t,e,i,n){t.locked||(this.activeHandle?this.dragHandle(t,e,i,n):this.dragAll(t,e,i))}dragAll(t,e,i){const{dragState:n}=this;n&&this.translatePoints(t,n.start,n.end,cmt.sub(e,n.offset),i)}translatePoints(t,e,i,n,s){var l,c,h,p;const{vectors:a,translateX:o,translateY:r}=xO({start:e,end:i},n,s);o&&(t.start.x=(l=a.start)==null?void 0:l.x,t.end.x=(c=a.end)==null?void 0:c.x),(this.ignoreYBounds||r)&&(t.start.y=(h=a.start)==null?void 0:h.y,t.end.y=(p=a.end)==null?void 0:p.y)}translate(t,e,i){this.translatePoints(t,ki(t.start,i),ki(t.end,i),e,i)}copy(t,e,i){const n=Mr(t,i);if(!n)return;const s=this.computeBBoxWithoutHandles(),a={x:-s.width/2,y:-s.height/2};return this.translatePoints(e,pF.start(n),pF.end(n),a,i),e}},{Vec4:fF}=_,vO=class extends l6{constructor(){super(...arguments),this.start=new Li,this.end=new Li,this.anchor={x:0,y:0,position:"above"}}update(t,e){const i=Mr(t,e);i!=null&&(this.updateHandles(t,i),this.updateAnchor(t,i,e))}toggleHandles(t){if(typeof t=="boolean")this.start.visible=t,this.end.visible=t;else for(const[e,i]of Object.entries(t))this[e].visible=i;this.start.toggleHovered(this.activeHandle==="start"),this.end.toggleHovered(this.activeHandle==="end")}toggleActive(t){this.toggleHandles(t),this.start.toggleActive(t),this.end.toggleActive(t)}dragHandle(t,e,i,n){const{activeHandle:s,dragState:a}=this;if(!s||!a)return;this[s].toggleDragging(!0);const o=n?this.snapToAngle(t,e,i):fi(this[s].drag(e).point,i);!o||!Ar(i,o)||(t[s].x=o.x,t[s].y=o.y)}snapToAngle(t,e,i){const{activeHandle:n}=this,a=["start","end"].find(r=>r!==n);if(!n||!a)return;this[n].toggleDragging(!0);const o=ki(t[a],i);return fi(Yb(e,o,t.snapToAngle),i)}stopDragging(){this.start.toggleDragging(!1),this.end.toggleDragging(!1)}getAnchor(){return this.anchor}getCursor(){return"pointer"}containsPoint(t,e){const{start:i,end:n}=this;return this.activeHandle=void 0,i.containsPoint(t,e)?(this.activeHandle="start",!0):n.containsPoint(t,e)?(this.activeHandle="end",!0):!1}getNodeAtCoords(t,e){if(this.start.containsPoint(t,e)||this.end.containsPoint(t,e))return"handle"}updateHandles(t,e,i){this.start.update({...this.getHandleStyles(t,"start"),...this.getHandleCoords(t,e,"start")}),this.end.update({...this.getHandleStyles(t,"end"),...this.getHandleCoords(t,e,"end",i)}),this.start.toggleLocked(t.locked??!1),this.end.toggleLocked(t.locked??!1)}updateAnchor(t,e,i,n){this.anchor={x:e.x1+i.seriesRect.x,y:e.y1+i.seriesRect.y,position:this.anchor.position}}getHandleCoords(t,e,i,n){return i==="start"?fF.start(e):fF.end(e)}getHandleStyles(t,e){return{fill:t.handle.fill,stroke:t.handle.stroke,strokeOpacity:t.handle.strokeOpacity,strokeWidth:t.handle.strokeWidth}}},{Vec2:gF,Vec4:yF}=_,umt=class extends vO{constructor(){super(...arguments),this.label=new _.Text({zIndex:1}),this.anchor={x:0,y:0,position:"above-left"}}setTextInputBBox(t){this.textInputBBox=t,this.markDirty()}update(t,e){const i=Mr(t,e);if(i==null)return;const n=this.getTextBBox(t,i);this.updateLabel(t,n,i),this.updateHandles(t,i,n),this.updateShape(t,n,i),this.updateAnchor(t,i,e,n)}dragHandle(t,e,i,n){const{activeHandle:s,dragState:a}=this;if(!s||!a)return;this[s].toggleDragging(!0);const o=gF.add(a.end,gF.sub(e,a.offset)),r=n?this.snapToAngle(t,o,i):fi(o,i);!r||!Ar(i,r)||(t[s].x=r.x,t[s].y=r.y)}containsPoint(t,e){const{label:i}=this;return super.containsPoint(t,e)||i.containsPoint(t,e)}getNodeAtCoords(t,e){return this.label.containsPoint(t,e)?"text":super.getNodeAtCoords(t,e)}getTextBBox(t,e){const{text:i}=t.getText();return uO(t,i,yF.end(e),this.textInputBBox)}updateLabel(t,e,i){const{text:n,isPlaceholder:s}=t.getText();R$(this.label,n,s,t,this.getLabelCoords(t,e,i))}updateShape(t,e,i){}getLabelCoords(t,e,i){return yF.end(i)}getHandleStyles(t,e){return{...super.getHandleStyles(t,e),stroke:t.handle.stroke??t.color}}},{drawCorner:hmt,Path:dmt}=_,cS=class extends umt{constructor(){super(),this.type="callout",this.shape=new dmt,this.append([this.shape,this.label,this.start,this.end])}static is(t){return Wn.isCheck(t,"callout")}drag(t,e,i,n){t.locked||(this.activeHandle==="end"?this.dragHandle(t,e,i,n):this.dragAll(t,e,i))}getLabelCoords(t,e,i){const n=t.getPadding(),{bodyBounds:s={x:0,y:0,width:0,height:0}}=this.getDimensions(t,e,i)??{};return{x:s.x+n.left,y:s.y-n.bottom}}getHandleStyles(t,e){return e==="start"?{fill:t.handle.fill,stroke:t.handle.stroke??t.stroke,strokeOpacity:t.handle.strokeOpacity,strokeWidth:t.handle.strokeWidth}:{fill:void 0,strokeWidth:0}}updateAnchor(t,e,i,n){const{bodyBounds:s}=this.getDimensions(t,n,e)??{},a=s??n;this.anchor={x:a.x+i.seriesRect.x,y:a.y+i.seriesRect.y-a.height,position:this.anchor.position}}updateShape(t,e,i){const{shape:n}=this;n.fill=t.fill,n.fillOpacity=t.fillOpacity??1,n.stroke=t.stroke,n.strokeWidth=t.strokeWidth??1,n.strokeOpacity=t.strokeOpacity??1;const{tailPoint:s,bodyBounds:a}=this.getDimensions(t,e,i)??{};!s||!a||this.updatePath(s,a)}updatePath(t,e){const{x:i,y:n}=t,{x:s,y:a,width:o,height:r}=e,l=a-r,c=s+o,h=this.calculateCalloutPlacement({x:i,y:n},e),p=8,f=[{coordinates:{x0:s,x1:s+p,y0:l+p,y1:l,cx:h==="topLeft"?i:s+p,cy:h==="topLeft"?n:l+p},type:h==="topLeft"?"calloutCorner":"corner"},{coordinates:{x0:s+p,x1:c-p,y0:l,y1:l,cx:i,cy:n},type:h==="top"?"calloutSide":"side"},{coordinates:{x0:c-p,x1:c,y0:l,y1:l+p,cx:h==="topRight"?i:c-p,cy:h==="topRight"?n:l+p},type:h==="topRight"?"calloutCorner":"corner"},{coordinates:{x0:c,x1:c,y0:l+p,y1:a-p,cx:i,cy:n},type:h==="right"?"calloutSide":"side"},{coordinates:{x0:c,x1:c-p,y0:a-p,y1:a,cx:h==="bottomRight"?i:c-p,cy:h==="bottomRight"?n:a-p},type:h==="bottomRight"?"calloutCorner":"corner"},{coordinates:{x0:c-p,x1:s+p,y0:a,y1:a,cx:i,cy:n},type:h==="bottom"?"calloutSide":"side"},{coordinates:{x0:s+p,x1:s,y0:a,y1:a-p,cx:h==="bottomLeft"?i:s+p,cy:h==="bottomLeft"?n:a-p},type:h==="bottomLeft"?"calloutCorner":"corner"},{coordinates:{x0:s,x1:s,y0:a-p,y1:l+p,cx:i,cy:n},type:h==="left"?"calloutSide":"side"}],{path:y}=this.shape;y.clear(),y.moveTo(s,l+p),f.forEach(({coordinates:m,type:b})=>{this.drawPath(y,m,p,b)}),y.closePath()}drawPath(t,{x0:e,y0:i,x1:n,y1:s,cx:a,cy:o},r,l){switch(l){case"calloutCorner":{t.lineTo(a,o),t.lineTo(n,s);break}case"corner":{hmt(t,{x0:e,x1:n,y0:i,y1:s,cx:a,cy:o},r,!1);break}case"calloutSide":{if(e!==n){const h=e>n?-1:1,p=Math.min(e,n)+Math.abs(n-e)/2;t.lineTo(p-6*h,i),t.lineTo(a,o),t.lineTo(p+6*h,i),t.lineTo(n,s)}else{const h=i>s?-1:1,p=Math.min(i,s)+Math.abs(i-s)/2;t.lineTo(e,p-6*h),t.lineTo(a,o),t.lineTo(e,p+6*h),t.lineTo(n,s)}break}case"side":default:{t.lineTo(n,s);break}}}calculateCalloutPlacement(t,e){const i=e.x+e.width,n=e.y-e.height;let s,a;return t.x>i?s="right":t.x<e.x&&(s="left"),t.y>e.y?a="bottom":t.y<n&&(a="top"),s&&a?`${a}${s[0].toUpperCase()}${s.substring(1)}`:a??s}getDimensions(t,e,i){const{fontSize:n}=t,s=t.getPadding(),a=s.left+s.right,o=s.top+s.bottom,r=e.width+a,l=Math.max(e.height+o,n+o);return{tailPoint:{x:i.x1,y:i.y1},bodyBounds:{x:e.x,y:e.y,width:r,height:l}}}containsPoint(t,e){const{start:i,end:n,shape:s}=this;if(this.activeHandle=void 0,i.containsPoint(t,e))return this.activeHandle="start",!0;const a=n.containsPoint(t,e)||s.containsPoint(t,e);return a&&(this.activeHandle="end"),a}};function SO({key:t}){return t==="Escape"}function MO({key:t,shiftKey:e}){return!e&&t==="Enter"}var{StateMachine:or,StateMachineProperty:c6,Debug:pmt}=_,AO=class extends or{constructor(t){const e=({point:f})=>{const y=this.createDatum();y.set({start:f,end:f,visible:!0}),t.create(y)},i=()=>{const{node:f}=this;f==null||f.toggleActive(!0),f==null||f.toggleHandles({start:!0})},n=()=>{t.showTextInput(),this.datum&&(this.datum.visible=!1)},s=()=>{t.hideTextInput(),this.datum&&(this.datum.visible=!0),t.deselect()},a=f=>{var y;(y=this.node)==null||y.setTextInputBBox(f),t.update()},o=({point:f})=>{const{datum:y,node:m}=this;y==null||y.set({end:f}),m==null||m.toggleActive(!0),m==null||m.toggleHandles({end:!1}),t.update()},r=()=>{var f;t.showAnnotationOptions(),(f=this.node)==null||f.toggleHandles({end:!0})},l=({colorPickerType:f,colorOpacity:y,color:m,opacity:b,isMultiColor:S})=>{const{datum:v}=this;v&&(f==="text-color"&&t.updateTextInputColor(m),OD(v,f,y,m,b,S),t.update())},c=f=>{const{datum:y,node:m}=this;!y||!m||!hl(y)||(y.fontSize=f,t.updateTextInputFontSize(f),t.update())},h=()=>{t.delete()},p=({textInputValue:f,bbox:y})=>{const{datum:m}=this;if(y!=null&&f!=null&&f.length>0){if(!hl(m))return;const b=CD(m,f,y.width);m==null||m.set({text:b}),t.update(),t.recordAction(`Create ${m==null?void 0:m.type} annotation`)}else t.delete()};super("start",{start:{click:{target:"waiting-first-render",action:e},dragStart:{target:"waiting-first-render",action:e},cancel:or.parent,reset:or.parent},"waiting-first-render":{render:{target:"end",action:i}},end:{hover:o,drag:o,click:{target:"edit",action:r},dragEnd:{target:"edit",action:r},reset:{target:or.parent,action:h},cancel:{target:or.parent,action:h}},edit:{onEnter:n,updateTextInputBBox:a,color:l,fontSize:c,textInput:[{guard:SO,target:or.parent,action:h},{guard:MO,target:or.parent,action:p}],click:{target:or.parent,action:p},dragStart:{target:or.parent,action:p},resize:{target:or.parent,action:p},onExit:s,cancel:{target:or.parent,action:h}}}),this.debug=pmt.create(!0,"annotations")}};A([c6()],AO.prototype,"datum");A([c6()],AO.prototype,"node");var fmt=class extends AO{createDatum(){return new dr}},mF={type:"callout",datum:dr,scene:cS,isDatum:dr.is,translate:(t,e,i,n)=>{if(dr.is(e)&&cS.is(t))return t.translate(e,i,n)},copy:(t,e,i,n)=>{if(dr.is(e)&&dr.is(i)&&cS.is(t))return t.copy(e,i,n)},update:(t,e,i)=>{dr.is(e)&&cS.is(t)&&t.update(e,i)},createState:(t,{createDatum:e})=>new fmt({...t,create:e("callout")}),dragState:t=>new nn(t)},DO=class extends n6{constructor(){super(...arguments),this.label=new _.Text({zIndex:1}),this.anchor={x:0,y:0,position:"above-left"}}setTextInputBBox(t){this.textInputBBox=t,this.markDirty()}update(t,e){const i=ki(t,e),n=this.getTextBBox(t,i,e);this.updateLabel(t,n),this.updateHandle(t,i,n),this.updateShape(t,n),this.anchor=this.updateAnchor(t,n,e)}copy(t,e,i){const n=ki(t,i),s=this.getTextBBox(t,n,i),a=t.getPadding(),o=a.left+a.right,r=a.top+a.bottom,l=(s.width+o)/2,c=s.height+r,h=fi({x:n.x-l,y:n.y-c},i);return e.x=h.x,e.y=h.y,e}containsPoint(t,e){const{label:i}=this;return super.containsPoint(t,e)||i.visible&&i.containsPoint(t,e)}getNodeAtCoords(t,e){return this.label.visible&&this.label.containsPoint(t,e)?"text":super.getNodeAtCoords(t,e)}getTextBBox(t,e,i){const{text:n}=t.getText();return uO(t,n,{x:e.x,y:e.y},this.textInputBBox)}updateLabel(t,e){const{text:i,isPlaceholder:n}=t.getText();R$(this.label,i,n,t,this.getLabelCoords(t,e))}updateShape(t,e){}updateAnchor(t,e,i){return{x:e.x+i.seriesRect.x,y:e.y+i.seriesRect.y-e.height,position:this.anchor.position}}getLabelCoords(t,e){return e}getHandleCoords(t,e,i){return i}getHandleStyles(t){const e=super.getHandleStyles(t);return e.stroke=t.handle.stroke??t.color,e}},{drawCorner:$1}=_,uS=class extends DO{constructor(){super(),this.type="comment",this.shape=new _.Path,this.append([this.shape,this.label,this.handle])}static is(t){return Wn.isCheck(t,"comment")}updateShape(t,e){const{shape:i}=this;i.fill=t.fill,i.fillOpacity=t.fillOpacity??1,i.stroke=t.stroke??"transparent",i.strokeWidth=t.strokeWidth??1,i.strokeOpacity=t.strokeOpacity??1,this.updatePath(t,e)}getLabelCoords(t,e){const i=t.getPadding();return{x:e.x+i.left,y:e.y-i.bottom}}getHandleStyles(t){return{fill:t.handle.fill,stroke:t.handle.stroke??t.stroke??t.fill,strokeOpacity:t.handle.strokeOpacity,strokeWidth:t.handle.strokeWidth}}updateAnchor(t,e,i){const n=super.updateAnchor(t,e,i),s=t.getPadding();return n.y-=s.bottom+s.top,n}updatePath(t,e){const i=t.getPadding(),{x:n,y:s}=e;let{width:a,height:o}=e;const{fontSize:r}=t,l=i.left+i.right,c=i.top+i.bottom;a=a+l,o=Math.max(o+c,r+c);const h=s-o,p=n+a,f=(r*TD+c)/2,{path:y}=this.shape;y.clear(),y.moveTo(n,s),y.lineTo(n,h+f),$1(y,{x0:n,x1:n+f,y0:h+f,y1:h,cx:n+f,cy:h+f},f,!1),y.lineTo(p-f,h),$1(y,{x0:p-f,x1:p,y0:h,y1:h+f,cx:p-f,cy:h+f},f,!1),y.lineTo(p,s-f),$1(y,{x0:p,x1:p-f,y0:s-f,y1:s,cx:p-f,cy:s-f},f,!1),y.closePath()}containsPoint(t,e){return super.containsPoint(t,e)||this.shape.containsPoint(t,e)}},{StateMachine:ic,StateMachineProperty:u6,Debug:gmt}=_,$b=class extends ic{constructor(t){const e=({point:h})=>{const p=this.createDatum();p.set({x:h.x,y:h.y}),t.create(p)},i=()=>{var h;(h=this.node)==null||h.toggleActive(!0),t.showAnnotationOptions(),t.update()},n=()=>{t.showTextInput(),this.datum&&(this.datum.visible=!1)},s=()=>{t.hideTextInput(),this.datum&&(this.datum.visible=!0),t.deselect()},a=h=>{var p;(p=this.node)==null||p.setTextInputBBox(h),t.update()},o=({colorPickerType:h,colorOpacity:p,color:f,opacity:y,isMultiColor:m})=>{this.datum&&(h==="text-color"&&t.updateTextInputColor(f),OD(this.datum,h,p,f,y,m),t.update())},r=h=>{const{datum:p,node:f}=this;!p||!f||!hl(p)||(p.fontSize=h,t.updateTextInputFontSize(h),t.update())},l=()=>{t.delete()},c=({textInputValue:h,bbox:p})=>{if(p!=null&&h!=null&&h.length>0){const{datum:f}=this;if(!hl(f))return;const y=CD(f,h,p.width);f==null||f.set({text:y}),t.update(),t.recordAction(`Create ${f==null?void 0:f.type} annotation`)}else t.delete()};super("start",{start:{click:{target:"waiting-first-render",action:e},dragStart:{target:"waiting-first-render",action:e},cancel:ic.parent,reset:ic.parent},"waiting-first-render":{render:{target:"edit",action:i}},edit:{onEnter:n,updateTextInputBBox:a,color:o,fontSize:r,textInput:[{guard:SO,target:ic.parent,action:l},{guard:MO,target:ic.parent,action:c}],click:{target:ic.parent,action:c},dragStart:{target:ic.parent,action:c},resize:{target:ic.parent,action:c},onExit:s,cancel:{target:ic.parent,action:l}}}),this.debug=gmt.create(!0,"annotations")}};A([u6()],$b.prototype,"datum");A([u6()],$b.prototype,"node");var ymt=class extends $b{createDatum(){return new el}},xF={type:"comment",datum:el,scene:uS,isDatum:el.is,translate:(t,e,i,n)=>{el.is(e)&&uS.is(t)&&t.translate(e,i,n)},copy:(t,e,i,n)=>{if(el.is(e)&&el.is(i)&&uS.is(t))return t.copy(e,i,n)},update:(t,e,i)=>{el.is(e)&&uS.is(t)&&t.update(e,i)},createState:(t,{createDatum:e})=>new ymt({...t,create:e("comment")}),dragState:t=>new nn(t)},{calculateLabelTranslation:mmt,ChartAxisDirection:xmt}=_,h6=class extends _.Group{constructor(){super({name:"AnnotationAxisLabelGroup"}),this.label=new _.Text({zIndex:1}),this.rect=new _.Rect;const{label:t}=this;t.fontSize=12,t.fontFamily="Verdana, sans-serif",t.fill="black",t.textBaseline="middle",t.textAlign="center",this.append([this.rect,this.label])}update(t){this.updateLabel(t),this.updateRect(t),this.updatePosition(t)}updateLabel({value:t,styles:e,context:i}){const{fontWeight:n,fontSize:s,fontStyle:a,fontFamily:o,textAlign:r,color:l="white",formatter:c}=e,h=c?c({value:t}):i.scaleValueFormatter()(t);this.label.setProperties({fontWeight:n,fontSize:s,fontStyle:a,fontFamily:o,textAlign:r,fill:l,text:h})}updateRect({styles:t}){const{rect:e}=this,{cornerRadius:i,fill:n,fillOpacity:s,stroke:a,strokeOpacity:o}=t;e.setProperties({cornerRadius:i,fill:n,fillOpacity:s,stroke:a,strokeOpacity:o})}updatePosition({x:t,y:e,context:i,styles:{padding:n}}){var m;const{label:s,rect:a}=this,o=(m=s.getBBox())==null?void 0:m.clone(),r=n??8,l=n??5;o.grow(r,"horizontal"),o.grow(l,"vertical");const c=i.direction===xmt.X?Math.round(l/2):r,{xTranslation:h,yTranslation:p}=mmt({yDirection:!0,padding:i.labelPadding-c,position:i.position??"left",bbox:o}),f=t+h,y=e+p;s.x=f,s.y=y,a.y=y-Math.round(o.height/2),a.x=f-Math.round(o.width/2),a.height=o.height,a.width=o.width}};h6.className="AxisLabel";var{Vec2:Kr}=_,ya=class extends _.Line{constructor(){super(...arguments),this.growCollisionBox=9,this.clipMask=new Map}setProperties(t,e){return super.setProperties(t,e),this.updateCollisionBBox(),this}updateCollisionBBox(){const{growCollisionBox:t,strokeWidth:e,x1:i,y1:n,x2:s,y2:a}=this;let o=e+t;o%2===0&&(o+=1);const r=Kr.from(i,n-Math.floor(o/2)),l=Kr.from(s,a),c=Kr.distance(r,l);this.collisionBBox=new _.BBox(r.x,r.y,c,o)}isPointInPath(t,e){const{collisionBBox:i,x1:n,y1:s,x2:a,y2:o}=this;if(!i)return!1;const r=Kr.from(n,s),l=Kr.from(a,o),c=Kr.sub(Kr.from(t,e),r),h=Kr.sub(l,r),p=Kr.rotate(c,Kr.angle(c,h),r);return i.containsPoint(p.x,p.y)??!1}render(t){this.applyClipMask(t.ctx),super.render(t),this.closeClipMask(t.ctx)}setClipMask(t,e){const i=this.clipMask.get(t);_.jsonDiff(i,e)!=null&&this.markDirty(),e?this.clipMask.set(t,e):this.clipMask.delete(t)}applyClipMask(t){const{clipMask:e}=this;e.size!==0&&this.clipMask.forEach(i=>{const{x:n,y:s,radius:a}=i;t.save(),t.beginPath(),t.rect(0,0,t.canvas.width,t.canvas.height),t.ellipse(n,s,a,a,0,Math.PI*2,0,!0),t.clip()})}closeClipMask(t){this.clipMask.size!==0&&t.restore()}},Xd=class extends _.TransformableText{constructor(){super(...arguments),this.growCollisionBox={top:4,right:4,bottom:4,left:4}}isPointInPath(t,e){const i=this.fromParentPoint(t,e),n=this.computeBBoxWithoutTransforms();return n?n.grow(this.growCollisionBox).containsPoint(i.x,i.y):!1}},{Vec2:Ms}=_;function lg(t,e,i,n,s,a,o){if(!a||!s||!n){e.setClipMask(t);return}const{alignment:r,position:l}=n,c=p6(i,n.fontSize,o),{point:h,textBaseline:p}=f6(c,l,r);g6(s,a,n,h,c.angle,p);const{x:f,y,width:m,height:b}=s.getBBox(),S=Ms.length(Ms.from(m,b)),v={x:f+m/2,y:y+b/2,radius:S/2+Ms.length(c.offset)};return l==="center"?e.setClipMask(t,v):e.setClipMask(t),{clipMask:v,numbers:c}}function d6(t,e,i,n,s,a,o){if(!o||!a)return;const{alignment:r,position:l}=n,[c,h]=e.y1<=i.y1?[e,i]:[i,e];let p=c;l==="bottom"?p=h:l==="inside"&&(p={x1:(c.x1+h.x1)/2,y1:(c.y1+h.y1)/2,x2:(c.x2+h.x2)/2,y2:(c.y2+h.y2)/2});const f=p6(p,n.fontSize,s),{point:y,textBaseline:m}=f6(f,l==="inside"?"center":l,r,t);g6(a,o,n,y,f.angle,m)}function p6(t,e,i){let[n,s]=Ms.from(t);n.x>s.x&&([n,s]=[s,n]);const a=Ms.normalized(Ms.sub(s,n)),o=Ms.angle(a),r=Ms.multiply(a,Li.HANDLE_SIZE/2+(e??14)/2),l=Ms.multiply(a,(i??2)/2+(e??14)/3);return{left:n,right:s,normal:a,angle:o,inset:r,offset:l}}function f6({left:t,right:e,normal:i,angle:n,inset:s,offset:a},o,r,l){let c;r==="right"?c=Ms.sub(e,s):r==="center"?c=Ms.add(t,Ms.multiply(i,Ms.distance(t,e)/2)):c=Ms.add(t,s);let h="bottom";return o==="bottom"?(c=Ms.rotate(a,n+Math.PI/2,c),h="top"):o==="center"&&!l?h="middle":c=Ms.rotate(a,n-Math.PI/2,c),{point:c,textBaseline:h}}function g6(t,e,i,n,s,a){t.setProperties({text:e,x:n.x,y:n.y,rotation:s,rotationCenterX:n.x,rotationCenterY:n.y,fill:i.color,fontFamily:i.fontFamily,fontSize:i.fontSize,fontStyle:i.fontStyle,fontWeight:i.fontWeight,textAlign:i.alignment,textBaseline:a})}var{ChartAxisDirection:bmt,Vec2:Nf,Vec4:K1}=_,qu=class extends Wn{constructor(){super(),this.type="cross-line",this.line=new ya,this.middle=new qf,this.isHorizontal=!1,this.append([this.line,this.middle])}static is(t){return Wn.isCheck(t,"cross-line")}update(t,e){const{seriesRect:i}=e;this.seriesRect=i,this.isHorizontal=Ds.is(t);const n=this.isHorizontal?e.yAxis:e.xAxis,s=this.convertCrossLine(t,n);if(s==null){this.visible=!1;return}this.visible=t.visible??!0,this.visible&&(this.updateLine(t,s),this.updateHandle(t,s),this.updateText(t,s),this.updateAxisLabel(t,n,s))}updateLine(t,e){const{line:i}=this,{lineDashOffset:n,stroke:s,strokeWidth:a,strokeOpacity:o}=t,{x1:r,y1:l,x2:c,y2:h}=e;i.setProperties({x1:r,y1:l,x2:c,y2:h,lineCap:t.getLineCap(),lineDash:t.getLineDash(),lineDashOffset:n,stroke:s,strokeWidth:a,strokeOpacity:o,fillOpacity:0})}updateHandle(t,e){const{middle:i}=this,{locked:n,stroke:s,strokeWidth:a,strokeOpacity:o}=t,r={fill:t.handle.fill,stroke:t.handle.stroke??s,strokeOpacity:t.handle.strokeOpacity??o,strokeWidth:t.handle.strokeWidth??a},l=Nf.sub(K1.center(e),Nf.from(i.handle.width/2,i.handle.height/2));i.gradient=this.isHorizontal?"horizontal":"vertical",i.update({...r,...l}),i.toggleLocked(n??!1)}updateText(t,e){this.text=this.updateNode(Xd,this.text,!!t.text.label),lg(this.line.id,this.line,e,t.text,this.text,t.text.label,t.strokeWidth)}createAxisLabel(t){const e=new h6;return t.attachLabel(e),e}updateAxisLabel(t,e,i){this.axisLabel||(this.axisLabel=this.createAxisLabel(e));const{axisLabel:n,seriesRect:s}=this,{direction:a,position:o}=e;if(t.axisLabel.enabled){n.visible=this.visible;const r=o==="left"||o==="top"?K1.start(i):K1.end(i),l=a===bmt.X?r.x:r.y;if(!e.inRange(l)){n.visible=!1;return}const{value:c}=pi(t.value);n.update({...Nf.add(r,Nf.required(s)),value:c,styles:t.axisLabel,context:e})}else n.visible=!1}setAxisLabelOpacity(t){this.axisLabel&&(this.axisLabel.opacity=t)}setAxisLabelVisible(t){this.axisLabel&&(this.axisLabel.visible=t)}toggleHandles(t){this.middle.visible=t,this.middle.toggleHovered(this.activeHandle==="middle")}destroy(){var t;super.destroy(),(t=this.axisLabel)==null||t.destroy()}toggleActive(t){this.toggleHandles(t),this.middle.toggleActive(t)}dragStart(t,e,i){const n=Ds.is(t)?{x:e.x,y:Xu(t.value,i.yAxis)}:{x:Xu(t.value,i.xAxis),y:e.y};this.dragState={offset:e,middle:n}}drag(t,e,i){const{activeHandle:n,dragState:s}=this;if(t.locked)return;let a;if(n)this[n].toggleDragging(!0),a=this[n].drag(e).point;else if(s)a=Nf.add(s.middle,Nf.sub(e,s.offset));else return;const o=fi(a,i),r=Ds.is(t);t.set({value:r?o.y:o.x})}translate(t,{x:e,y:i},n){if(t.locked)return;const{axisContext:s,translation:a}=Ds.is(t)?{axisContext:n.yAxis,translation:i}:{axisContext:n.xAxis,translation:e},o=Xu(t.value,s)+a,r=Zx(o,s);isNaN(r)||t.set({value:r})}stopDragging(){this.middle.toggleDragging(!1)}copy(t,e,i){const n=Ds.is(t),s=this.isHorizontal?i.yAxis:i.xAxis,a=this.convertCrossLine(t,s);if(!a)return;const o=n?-30:0,r=n?0:-30,l=fi({x:a.x1+r,y:a.y1+o},i);return e.set({value:n?l.y:l.x}),e}getCursor(){return this.activeHandle==null?"pointer":this[this.activeHandle].getCursor()}containsPoint(t,e){const{middle:i,line:n,text:s}=this;return this.activeHandle=void 0,i.containsPoint(t,e)?(this.activeHandle="middle",!0):n.isPointInPath(t,e)||!!(s!=null&&s.containsPoint(t,e))}getNodeAtCoords(t,e){var i;if((i=this.text)!=null&&i.containsPoint(t,e))return"text";if(this.line.isPointInPath(t,e))return"line";if(this.middle.containsPoint(t,e))return"handle"}getAnchor(){const t=this.computeBBoxWithoutHandles();return this.isHorizontal?{x:t.x+t.width/2,y:t.y}:{x:t.x+t.width,y:t.y+t.height/2,position:"right"}}convertCrossLine(t,e){if(t.value==null)return;let i=0,n=0,s,a;const{bounds:o}=e,r=Xu(t.value,e);return Ds.is(t)?(s=o.width,n=r,a=r):(i=r,s=r,a=o.height),{x1:i,y1:n,x2:s,y2:a}}},{StateMachine:hS,StateMachineProperty:vmt,Debug:Smt}=_,IO=class extends hS{constructor(t,e){const i=({point:s})=>{const a=t==="horizontal",o=a?new Ds:new il;o.set({value:a?s.y:s.x}),e.create(o),e.recordAction(`Create ${a?"horizontal-line":"vertical-line"} annotation`)},n=()=>{var s;(s=this.node)==null||s.toggleActive(!0),e.showAnnotationOptions(),e.update()};super("start",{start:{click:{target:"waiting-first-render",action:i},drag:{target:"waiting-first-render",action:i},reset:hS.parent,cancel:hS.parent},"waiting-first-render":{render:{target:hS.parent,action:n}}}),this.debug=Smt.create(!0,"annotations")}};A([vmt()],IO.prototype,"node");var bF={type:"horizontal-line",datum:Ds,scene:qu,isDatum:Ds.is,translate:(t,e,i,n)=>{Ds.is(e)&&qu.is(t)&&t.translate(e,i,n)},copy:(t,e,i,n)=>{if(Ds.is(e)&&Ds.is(i)&&qu.is(t))return t.copy(e,i,n)},update:(t,e,i)=>{Ds.is(e)&&qu.is(t)&&t.update(e,i)},createState:(t,{createDatum:e})=>new IO("horizontal",{...t,create:e("horizontal-line")}),dragState:t=>new nn(t)},vF={type:"vertical-line",datum:il,scene:qu,isDatum:il.is,translate:(t,e,i,n)=>{il.is(e)&&qu.is(t)&&t.translate(e,i,n)},copy:(t,e,i,n)=>{if(il.is(e)&&il.is(i)&&qu.is(t))return t.copy(e,i,n)},update:(t,e,i)=>{il.is(e)&&qu.is(t)&&t.update(e,i)},createState:(t,{createDatum:e})=>new IO("vertical",{...t,create:e("vertical-line")}),dragState:t=>new nn(t)},{Vec4:Mmt}=_,y6=class{static updateBackground(t,e,i,n){var c;const{background:s}=this,{seriesRect:a}=n;s.path.clear(!0);const o=Mmt.from(0,0,a.width,a.height),r=this.getBackgroundPoints(t,e,i,o);for(let h=0;h<r.length;h++){const p=r[h];h===0?s.path.moveTo(p.x,p.y):s.path.lineTo(p.x,p.y)}s.path.closePath(),s.checkPathDirty();const l=((c=this.getBackgroundStyles)==null?void 0:c.call(this,t))??t.background;s.setProperties({fill:l.fill,fillOpacity:l.fillOpacity})}},m6=class extends l6{constructor(){super(...arguments),this.handles={},this.topLine=new ya,this.bottomLine=new ya,this.background=new _.Path({zIndex:-1}),this.anchor={x:0,y:0},this.updateBackground=y6.updateBackground.bind(this)}update(t,e){const{locked:i,visible:n}=t,s=Mr(t,e),a=Mr(t.bottom,e);if(s==null||a==null){this.visible=!1;return}else this.visible=n??!0;const o=this.extendLine(s,t,e),r=this.extendLine(a,t,e);this.updateLines(t,o,r,e,s,a),this.updateHandles(t,s,a),this.updateText(t,s,a),this.updateBackground(t,o,r,e),this.updateAnchor(s,a);for(const l of Object.values(this.handles))l.toggleLocked(i??!1)}snapToAngle(t,e,i,n,s,a){const{handles:o}=this,r=o[n].handle,l=o[i].drag(t).point;return fi(Yb(l,r,s,a),e)}toggleHandles(t){const{handles:e}=this;if(typeof t=="boolean"){for(const[i,n]of Object.entries(e))n.visible=t,n.toggleHovered(this.activeHandle===i);return}for(const[i,n]of Object.entries(t)){const s=e[i];s.visible=n??!0,s.toggleHovered(this.activeHandle===i)}}toggleActive(t){this.toggleHandles(t);for(const e of Object.values(this.handles))e.toggleActive(t)}stopDragging(){const{activeHandle:t,handles:e}=this;t!=null&&e[t].toggleDragging(!1)}getAnchor(){return this.anchor}getCursor(){return this.activeHandle==null?"pointer":this.handles[this.activeHandle].getCursor()}containsPoint(t,e){const{handles:i,topLine:n,bottomLine:s,text:a}=this;this.activeHandle=void 0;for(const[o,r]of Object.entries(i))if(r.containsPoint(t,e))return this.activeHandle=o,!0;return n.containsPoint(t,e)||s.containsPoint(t,e)||!!(a!=null&&a.containsPoint(t,e))}getNodeAtCoords(t,e){var i;if((i=this.text)!=null&&i.containsPoint(t,e))return"text";if(this.topLine.containsPoint(t,e)||this.bottomLine.containsPoint(t,e))return"line";for(const[n,s]of Object.entries(this.handles))if(s.containsPoint(t,e))return"handle"}updateAnchor(t,e){const{x:i,y:n}=_.Transformable.toCanvasPoint(this.topLine,(t.x1+t.x2)/2,Math.min(t.y1,t.y2,e.y1,e.y2));this.anchor.x=i,this.anchor.y=n}},{Vec2:Eu,Vec4:dS}=_,pS=class extends m6{constructor(){super(),this.type="disjoint-channel",this.ignoreYBounds=!0,this.handles={topLeft:new Li,topRight:new Li,bottomLeft:new Li,bottomRight:new qf},this.append([this.background,this.topLine,this.bottomLine,...Object.values(this.handles)])}static is(t){return Wn.isCheck(t,"disjoint-channel")}dragHandle(t,e,i,n){const{activeHandle:s,handles:a}=this;if(s==null)return;const{offset:o}=a[s].drag(e);a[s].toggleDragging(!0);const r=f=>fi(f,i),l=t.toJson(),c=t.snapToAngle,{value:h}=pi(t.end.y),{value:p}=pi(t.start.y);switch(s){case"topLeft":case"bottomLeft":{const f=s==="topLeft"?1:-1,y=n?this.snapToAngle(e,i,"topLeft","topRight",c,f):r({x:a.topLeft.handle.x+o.x,y:a.topLeft.handle.y+o.y*f}),m=n?this.snapToAngle(e,i,"bottomLeft","bottomRight",c,-f):r({x:a.bottomLeft.handle.x+o.x,y:a.bottomLeft.handle.y+o.y*-f});if((y==null?void 0:y.y)==null||(m==null?void 0:m.y)==null||p==null||!Ki(p))return;const b=t.startHeight+(y.y-p)*2;t.start.x=y.x,t.start.y=y.y,t.startHeight=b;break}case"topRight":{const f=n?this.snapToAngle(e,i,"topRight","topLeft",c):r({x:a.topRight.handle.x+o.x,y:a.topRight.handle.y+o.y});if((f==null?void 0:f.y)==null||h==null||!Ki(h))return;const y=t.endHeight+(f.y-h)*2;t.end.x=f.x,t.end.y=f.y,t.endHeight=y;break}case"bottomRight":{const f=r({x:a.bottomLeft.handle.x+o.x,y:a.bottomLeft.handle.y+o.y}),y=r({x:a.bottomRight.handle.x+o.x,y:a.bottomRight.handle.y+o.y});if(!f||!y||t.start.y==null||h==null||!Ki(h))return;const m=h-y.y,b=t.startHeight-(t.endHeight-m);t.startHeight=b,t.endHeight=m}}t.isValidWithContext(i)||t.set(l)}updateLines(t,e,i){const{topLine:n,bottomLine:s}=this,{lineDashOffset:a,stroke:o,strokeOpacity:r,strokeWidth:l}=t,c={lineCap:t.getLineCap(),lineDash:t.getLineDash(),lineDashOffset:a,stroke:o,strokeOpacity:r,strokeWidth:l};n.setProperties({...e,...c}),s.setProperties({...i,...c})}updateHandles(t,e,i){const{handles:{topLeft:n,topRight:s,bottomLeft:a,bottomRight:o}}=this,r={fill:t.handle.fill,stroke:t.handle.stroke??t.stroke,strokeOpacity:t.handle.strokeOpacity??t.strokeOpacity,strokeWidth:t.handle.strokeWidth??t.strokeWidth};n.update({...r,...dS.start(e)}),s.update({...r,...dS.end(e)}),a.update({...r,...dS.start(i)}),o.update({...r,...Eu.sub(dS.end(i),Eu.from(o.handle.width/2,o.handle.height/2))})}updateText(t,e,i){this.text=this.updateNode(Xd,this.text,!!t.text.label),d6(!1,e,i,t.text,t.strokeWidth,this.text,t.text.label)}getBackgroundPoints(t,e,i,n){const s=e.x1>e.x2,a=e.y1>e.y2,o=a?n.y2:n.y1,r=a?n.y1:n.y2,l=Eu.from(e);return t.extendEnd&&e.y2===r&&l.push(Eu.from(s?n.x1:n.x2,a?n.y1:n.y2)),t.extendEnd&&i.y2===o&&l.push(Eu.from(s?n.x1:n.x2,a?n.y2:n.y1)),l.push(...Eu.from(i).reverse()),t.extendStart&&i.y1===r&&l.push(Eu.from(s?n.x2:n.x1,a?n.y1:n.y2)),t.extendStart&&e.y1===o&&l.push(Eu.from(s?n.x2:n.x1,a?n.y2:n.y1)),l}},{StateMachine:wu,StateMachineProperty:TO,Debug:Amt}=_,BD=class extends wu{constructor(t){const e=({point:l})=>{const c=new No;c.set({start:l,end:l,startHeight:0,endHeight:0}),t.create(c)},i=()=>{const{node:l}=this;l==null||l.toggleActive(!0),l==null||l.toggleHandles({topLeft:!0,topRight:!1,bottomLeft:!1,bottomRight:!1})},n=({offset:l,context:c})=>{const{datum:h,snapping:p}=this;h&&(h.set({end:Jx(l,c,p,h.start,h.snapToAngle)}),t.update())},s=()=>{var l;(l=this.node)==null||l.toggleHandles({topRight:!0}),t.update()},a=({point:l})=>{const{datum:c,node:h}=this,{value:p}=pi(c==null?void 0:c.end.y),{value:f}=pi(c==null?void 0:c.start.y),{y}=l;if(c==null||!Ki(f)||!Ki(p)||!Ki(y))return;const m=p-(y??0),b=(f-p)*2+m,S={x:c==null?void 0:c.start.x,y:f-b},v={x:c==null?void 0:c.end.x,y:l.y};h==null||h.toggleHandles({bottomLeft:!0,bottomRight:!0}),!(!t.validatePoint(S)||!t.validatePoint(v))&&(c.set({startHeight:b,endHeight:m}),t.update())},o=({point:l})=>{const{datum:c,node:h}=this,{value:p}=pi(c==null?void 0:c.end.y),{value:f}=pi(c==null?void 0:c.start.y),{y}=l;if(c==null||!Ki(f)||!Ki(p)||!Ki(y))return;const m=p-(y??0),b=(f-p)*2+m,S={x:c.start.x,y:f-m},v={x:c.end.x,y:l.y};h==null||h.toggleHandles(!0),!(!t.validatePoint(S)||!t.validatePoint(v))&&(c.set({startHeight:b,endHeight:m}),t.recordAction("Create disjoint-channel annotation"),t.showAnnotationOptions(),t.update())},r=()=>t.delete();super("start",{start:{click:{target:"waiting-first-render",action:e},drag:{target:"waiting-first-render",action:e},reset:wu.parent},"waiting-first-render":{render:{target:"end",action:i}},end:{hover:n,drag:n,click:{target:"height",action:s},dragEnd:{target:"height",action:s},reset:{target:wu.parent,action:r},cancel:{target:wu.parent,action:r}},height:{hover:a,click:{target:wu.parent,action:o},drag:{target:wu.parent,action:o},reset:{target:wu.parent,action:r},cancel:{target:wu.parent,action:r}}}),this.debug=Amt.create(!0,"annotations"),this.snapping=!1}};A([TO()],BD.prototype,"datum");A([TO()],BD.prototype,"node");A([TO()],BD.prototype,"snapping");var SF={type:"disjoint-channel",datum:No,scene:pS,isDatum:No.is,translate:(t,e,i,n)=>{No.is(e)&&pS.is(t)&&t.translate(e,i,n)},copy:(t,e,i,n)=>{if(No.is(e)&&No.is(i)&&pS.is(t))return t.copy(e,i,n)},update:(t,e,i)=>{No.is(e)&&pS.is(t)&&t.update(e,i)},createState:(t,{createDatum:e})=>new BD({...t,create:e("disjoint-channel")}),dragState:t=>new nn(t)},VL=[0,23.6,38.2,50,61.8,78.6,100],Dmt=[161.8,261.8,361.8,423.6],Imt=[...VL,...Dmt],Tmt={10:Imt,6:VL,4:VL.filter(t=>t!==78.6&&t!==23.6)},Cmt=10;function kmt(t,e){const{x2:i,y1:n,y2:s}=t,a=n-s;return e==null?{x1:i,x2:i,y1:s-a,y2:s}:{x1:e.x1,x2:e.x2,y1:e.y2-a,y2:e.y2}}function x6({x1:t,y1:e,x2:i,y2:n},s,a,o,r=10){const l=e-n,c=a?-1:1;let h=o;const p=[];return Tmt[r].forEach((f,y)=>{const m=o+l*(f/100)*c,b=s.yAxis.scaleInvert(m);p.push({id:y,x1:t,x2:i,y1:h,y2:m,tag:f==100?0:1,label:{x1:Math.min(t,i)-Cmt,x2:i,y1:m,y2:m,text:`${(f/100).toFixed(3)} (${b.toFixed(2)})`}}),h=m}),p}var{Vec2:Lmt,Vec4:MF}=_,b6=class extends Wn{constructor(){super(),this.trendLine=new ya,this.rangeFillsGroup=new _.Group({name:`${this.id}-range-fills`}),this.rangeFillsGroupSelection=_.Selection.select(this.rangeFillsGroup,_.Range),this.rangeStrokesGroup=new _.Group({name:`${this.id}-range-strokes`}),this.rangeStrokesGroupSelection=_.Selection.select(this.rangeStrokesGroup,ya),this.labelsGroup=new _.Group({name:`${this.id}-ranges-labels`}),this.labelsGroupSelection=_.Selection.select(this.labelsGroup,Xd),this.anchor={x:0,y:0,position:"above"},this.append([this.trendLine,this.rangeFillsGroup,this.rangeStrokesGroup,this.labelsGroup])}update(t,e){let i=Mr(t,e);if(i==null){this.visible=!1;return}if(i=MF.round(i),this.visible=t.visible??!0,!this.visible)return;this.updateLine(t,i,this.trendLine),this.updateHandles(t,i),this.updateAnchor(t,i,e);const{reverse:n}=t,s=this.extendLine(i,t,e),a=n?s.y1:s.y2,o=n?s.y2:s.y1,r=x6(s,e,t.reverse,a,t.bands);this.updateRanges(t,r,e);const l={...s,y1:o,y2:o};this.updateText(t,l)}extendLine({x1:t,y1:e,x2:i,y2:n},s,a){const o={x1:t,y1:e,x2:i,y2:n};if(!s.extendStart&&!s.extendEnd)return o;const{x:r,width:l}=a.xAxis.bounds;return s.extendEnd&&(o[t>i?"x1":"x2"]=r+l),s.extendStart&&(o[t>i?"x2":"x1"]=r),o}updateLine(t,e,i){if(!e||!i)return;const{lineDashOffset:n,strokeWidth:s,strokeOpacity:a,stroke:o}=t;i.setProperties({...e,lineCap:t.getLineCap(),lineDash:[3,4],lineDashOffset:n,strokeWidth:s,strokeOpacity:a,fillOpacity:0,stroke:o})}updateRangeStrokes(t){const{lineDashOffset:e,strokeWidth:i,strokeOpacity:n,strokes:s,rangeStroke:a,isMultiColor:o}=t;this.rangeStrokesGroupSelection.each((r,{x1:l,x2:c,y2:h,tag:p},f)=>{const y=h,m=o?s[f%s.length]:a;r.setProperties({x1:l,x2:c,y1:y,y2:y,stroke:m,strokeOpacity:n,strokeWidth:i,lineCap:t.getLineCap(),lineDash:t.getLineDash(),lineDashOffset:e,tag:p})})}updateRanges(t,e,i){const n=s=>s.id;this.rangeFillsGroupSelection.update(e,void 0,n),this.rangeStrokesGroupSelection.update(e,void 0,n),this.labelsGroupSelection.update(e,void 0,n),this.updateRangeFills(t),this.updateRangeStrokes(t),this.updateRangeLabels(t,i)}updateRangeFills(t){const{lineDashOffset:e,strokeWidth:i,strokeOpacity:n,strokes:s,rangeStroke:a,showFill:o,isMultiColor:r}=t;this.rangeFillsGroupSelection.each((l,{x1:c,x2:h,y1:p,y2:f},y)=>{const m=r?s[y%s.length]:a;if(!o){l.visible=!1;return}l.setProperties({x1:c,x2:h,y1:p,y2:f,startLine:!1,endLine:!1,isRange:!0,stroke:m,strokeOpacity:n,fill:m,fillOpacity:(n??1)*.15,strokeWidth:i,lineCap:t.getLineCap(),lineDash:t.getLineDash(),lineDashOffset:e,visible:!0})})}updateRangeLabels(t,{xAxis:e}){const{rangeStrokesGroupSelection:i}=this,{strokes:n,strokeWidth:s,rangeStroke:a,isMultiColor:o,label:{fontFamily:r,fontSize:l,fontStyle:c,fontWeight:h,color:p}}=t,f={fontFamily:r,fontSize:l,fontStyle:c,fontWeight:h},y=this.checkWithinBounds(e,f,this.labelsGroupSelection.at(0));this.labelsGroupSelection.each((m,b,S)=>{const v=p??(o?n[S%n.length]:a),D=i.at(S);if(!D)return;const{text:I,...T}=b.label;if(y)m.setProperties({...f,text:I,x:T.x1,y:T.y1,textBaseline:"middle",textAlign:"end",fill:v}),lg(m.id,D,T);else{const k={...f,position:"center",alignment:"left",color:v};lg(m.id,D,T,k,m,I,s)}})}checkWithinBounds(t,e,i){if(!i)return!1;const{text:n,...s}=i.datum.label;i.setProperties({...e,text:n,x:s.x1,y:s.y1,textBaseline:"middle",textAlign:"end"});const{x:a}=i.getBBox();return a>=t.bounds.x&&a<=t.bounds.x+t.bounds.width}updateText(t,e){const i=this.rangeStrokesGroupSelection.selectByTag(0)[0];if(!i)return;const{text:n,strokeWidth:s}=t;this.text=this.updateNode(Xd,this.text,!!n.label),lg(i.id,i,e,n,this.text,n.label,s)}updateAnchor(t,e,i,n){const s=MF.topCenter(e);Lmt.apply(this.anchor,_.Transformable.toCanvasPoint(this.trendLine,s.x,s.y))}containsPoint(t,e){const{trendLine:i,rangeStrokesGroupSelection:n,text:s}=this;let a=!1;return n.each(o=>a||(a=o.isPointInPath(t,e))),a||i.isPointInPath(t,e)||!!(s!=null&&s.containsPoint(t,e))}getNodeAtCoords(t,e){var i;if((i=this.text)!=null&&i.containsPoint(t,e))return"text";if(this.trendLine.isPointInPath(t,e))return"line"}getHandleStyles(t){return{fill:t.handle.fill,stroke:t.handle.stroke??t.stroke,strokeOpacity:t.handle.strokeOpacity??t.strokeOpacity,strokeWidth:t.handle.strokeWidth??t.strokeWidth}}drag(t,e,i,n){t.locked||(this.activeHandle?this.dragHandle(t,e,i,n):this.dragAll(t,e,i))}getAnchor(){return this.anchor}getCursor(){return"pointer"}},{Vec2:Nmt,Vec4:md}=_,fS=class extends b6{constructor(){super(),this.type="fibonacci-retracement-trend-based",this.endRetracementLine=new ya,this.start=new Li,this.end=new Li,this.endRetracement=new Li,this.append([this.endRetracementLine,this.start,this.end,this.endRetracement])}static is(t){return Wn.isCheck(t,"fibonacci-retracement-trend-based")}update(t,e){let{coords1:i,coords2:n}=this.getCoords(t,e);if(i==null||n==null){this.visible=!1;return}if(i=md.round(i),n=md.round(n),this.visible=t.visible??!0,!this.visible)return;(t.endRetracement.x==null||t.endRetracement.y==null)&&(n=void 0),this.updateLine(t,i,this.trendLine),this.updateLine(t,n,this.endRetracementLine),this.updateHandles(t,i,n),this.updateAnchor(t,n??i,e);const{reverse:s,bands:a}=t,o=kmt(i,n),r=this.extendLine(o,t,e),l=r.y2,c=r.y1,h=n?x6(r,e,s,l,a):[];this.updateRanges(t,h,e);const p={...r,y1:c,y2:c};this.updateText(t,p)}containsPoint(t,e){const{start:i,end:n,endRetracement:s,endRetracementLine:a}=this;return this.activeHandle=void 0,i.containsPoint(t,e)?(this.activeHandle="start",!0):n.containsPoint(t,e)?(this.activeHandle="end",!0):s.containsPoint(t,e)?(this.activeHandle="endRetracement",!0):a.isPointInPath(t,e)||super.containsPoint(t,e)}getNodeAtCoords(t,e){return this.start.containsPoint(t,e)||this.end.containsPoint(t,e)||this.endRetracement.containsPoint(t,e)?"handle":this.endRetracementLine.isPointInPath(t,e)?"line":super.getNodeAtCoords(t,e)}dragStart(t,e,i){this.dragState={offset:e,...PD({start:t.start,end:t.end,endRetracement:t.endRetracement},i)}}stopDragging(){this.start.toggleDragging(!1),this.end.toggleDragging(!1),this.endRetracement.toggleDragging(!1)}dragAll(t,e,i){const{dragState:n}=this;n&&this.translatePoints({datum:t,start:n.start,end:n.end,endRetracement:n.endRetracement,translation:Nmt.sub(e,n.offset),context:i})}dragHandle(t,e,i,n){const{activeHandle:s,dragState:a}=this;if(!s||!a)return;this[s].toggleDragging(!0);const o=n?this.snapToAngle(t,e,i):fi(this[s].drag(e).point,i);!o||!Ar(i,o)||(t[s].x=o.x,t[s].y=o.y)}snapToAngle(t,e,i){const{activeHandle:n}=this,s=["start","end","endRetracement"];if(!n)return;const a=(s.indexOf(n)+1)%s.length,o=s[a];this[n].toggleDragging(!0);const r=ki(t[o],i);return fi(Yb(e,r,t.snapToAngle),i)}translatePoints({datum:t,start:e,end:i,endRetracement:n,translation:s,context:a}){var c,h,p,f,y,m;const{vectors:o,translateX:r,translateY:l}=xO({start:e,end:i,endRetracement:n},s,a);r&&(t.start.x=(c=o.start)==null?void 0:c.x,t.end.x=(h=o.end)==null?void 0:h.x,t.endRetracement.x=(p=o.endRetracement)==null?void 0:p.x),(this.ignoreYBounds||l)&&(t.start.y=(f=o.start)==null?void 0:f.y,t.end.y=(y=o.end)==null?void 0:y.y,t.endRetracement.y=(m=o.endRetracement)==null?void 0:m.y)}translate(t,e,i){this.translatePoints({datum:t,start:ki(t.start,i),end:ki(t.end,i),endRetracement:ki(t.endRetracement,i),translation:e,context:i})}copy(t,e,i){const{coords1:n,coords2:s}=this.getCoords(t,i);if(!n||!s)return;const a=this.computeBBoxWithoutHandles();return this.translatePoints({datum:e,start:md.start(n),end:md.end(n),endRetracement:md.end(s),translation:{x:-a.width/2,y:-a.height/2},context:i}),e}getCoords(t,e){return{coords1:Mr(t,e),coords2:Mr({start:t.end,end:t.endRetracement},e)}}toggleHandles(t){if(typeof t=="boolean")this.start.visible=t,this.end.visible=t,this.endRetracement.visible=t;else for(const[e,i]of Object.entries(t))this[e].visible=i;this.start.toggleHovered(this.activeHandle==="start"),this.end.toggleHovered(this.activeHandle==="end"),this.endRetracement.toggleHovered(this.activeHandle==="endRetracement")}toggleActive(t){this.toggleHandles(t),this.start.toggleActive(t),this.end.toggleActive(t),this.endRetracement.toggleActive(t)}updateHandles(t,e,i,n){this.start.update({...this.getHandleStyles(t),...this.getHandleCoords(t,e,"start")}),this.end.update({...this.getHandleStyles(t),...this.getHandleCoords(t,e,"end",n)}),i&&this.endRetracement.update({...this.getHandleStyles(t),...this.getHandleCoords(t,i,"endRetracement",n)}),this.start.toggleLocked(t.locked??!1),this.end.toggleLocked(t.locked??!1),this.endRetracement.toggleLocked(t.locked??!1)}getHandleCoords(t,e,i,n){return i==="start"?md.start(e):md.end(e)}},{StateMachine:Ou,StateMachineProperty:CO,Debug:Emt}=_,zD=class extends Ou{constructor(t){const e=({point:c})=>{const h=this.createDatum();h.set({start:c,end:c}),t.create(h)},i=()=>{const{node:c}=this;c==null||c.toggleActive(!0),c==null||c.toggleHandles({start:!0,end:!1,endRetracement:!1})},n=({offset:c,context:h})=>{const{datum:p,snapping:f}=this;p&&(p.set({end:Jx(c,h,f,p.start,p.snapToAngle)}),t.update())},s=()=>{var h;const{datum:c}=this;c&&(c.endRetracement.x=c.end.x,c.endRetracement.y=c.end.y,(h=this.node)==null||h.toggleHandles({end:!0}),t.update())},a=({offset:c,context:h})=>{const{datum:p,snapping:f}=this;p&&(p.set({endRetracement:Jx(c,h,f,p.end,p.snapToAngle)}),t.update())},o=()=>{var c;(c=this.node)==null||c.toggleHandles({endRetracement:!0}),t.update()},r=()=>t.delete(),l=()=>{var c;t.showAnnotationOptions(),t.recordAction(`Create ${(c=this.datum)==null?void 0:c.type} annotation`)};super("start",{start:{click:{target:"waiting-first-render",action:e},drag:{target:"waiting-first-render",action:e},reset:Ou.parent},"waiting-first-render":{render:{target:"end",action:i}},end:{hover:n,click:{target:"endRetracement",action:s},drag:n,dragEnd:{target:"endRetracement",action:s},reset:{target:Ou.parent,action:r},cancel:{target:Ou.parent,action:r},onExit:l},endRetracement:{hover:a,click:{target:Ou.parent,action:o},drag:{target:Ou.parent,action:o},reset:{target:Ou.parent,action:r},cancel:{target:Ou.parent,action:r}}}),this.debug=Emt.create(!0,"annotations"),this.snapping=!1}createDatum(){return new nl}};A([CO()],zD.prototype,"datum");A([CO()],zD.prototype,"node");A([CO()],zD.prototype,"snapping");var AF={type:"fibonacci-retracement-trend-based",datum:nl,scene:fS,isDatum:nl.is,translate:(t,e,i,n)=>{nl.is(e)&&fS.is(t)&&t.translate(e,i,n)},copy:(t,e,i,n)=>{if(nl.is(e)&&nl.is(i)&&fS.is(t))return t.copy(e,i,n)},update:(t,e,i)=>{nl.is(e)&&fS.is(t)&&t.update(e,i)},createState:(t,{createDatum:e})=>new zD({...t,create:e("fibonacci-retracement-trend-based")}),dragState:t=>new nn(t)},{Vec2:wmt,Vec4:DF}=_,gS=class extends b6{constructor(){super(),this.type="fibonacci-retracement",this.start=new Li,this.end=new Li,this.append([this.start,this.end])}static is(t){return Wn.isCheck(t,"fibonacci-retracement")}containsPoint(t,e){const{start:i,end:n}=this;return this.activeHandle=void 0,i.containsPoint(t,e)?(this.activeHandle="start",!0):n.containsPoint(t,e)?(this.activeHandle="end",!0):super.containsPoint(t,e)}getNodeAtCoords(t,e){return this.start.containsPoint(t,e)||this.end.containsPoint(t,e)?"handle":super.getNodeAtCoords(t,e)}dragStart(t,e,i){this.dragState={offset:e,...PD({start:t.start,end:t.end},i)}}stopDragging(){this.start.toggleDragging(!1),this.end.toggleDragging(!1)}dragAll(t,e,i){const{dragState:n}=this;n&&this.translatePoints({datum:t,start:n.start,end:n.end,translation:wmt.sub(e,n.offset),context:i})}dragHandle(t,e,i,n){const{activeHandle:s,dragState:a}=this;if(!s||!a)return;this[s].toggleDragging(!0);const o=n?this.snapToAngle(t,e,i):fi(this[s].drag(e).point,i);!o||!Ar(i,o)||(t[s].x=o.x,t[s].y=o.y)}snapToAngle(t,e,i){const{activeHandle:n}=this,a=["start","end"].find(r=>r!==n);if(!n||!a)return;this[n].toggleDragging(!0);const o=ki(t[a],i);return fi(Yb(e,o,t.snapToAngle),i)}translatePoints({datum:t,start:e,end:i,translation:n,context:s}){var l,c,h,p;const{vectors:a,translateX:o,translateY:r}=xO({start:e,end:i},n,s);o&&(t.start.x=(l=a.start)==null?void 0:l.x,t.end.x=(c=a.end)==null?void 0:c.x),(this.ignoreYBounds||r)&&(t.start.y=(h=a.start)==null?void 0:h.y,t.end.y=(p=a.end)==null?void 0:p.y)}translate(t,e,i){this.translatePoints({datum:t,start:ki(t.start,i),end:ki(t.end,i),translation:e,context:i})}copy(t,e,i){const n=Mr(t,i);if(!n)return;const s=this.computeBBoxWithoutHandles();return this.translatePoints({datum:e,start:{x:n.x1,y:n.y1},end:{x:n.x2,y:n.y2},translation:{x:-s.width/2,y:-s.height/2},context:i}),e}toggleHandles(t){if(typeof t=="boolean")this.start.visible=t,this.end.visible=t;else for(const[e,i]of Object.entries(t))this[e].visible=i;this.start.toggleHovered(this.activeHandle==="start"),this.end.toggleHovered(this.activeHandle==="end")}toggleActive(t){this.toggleHandles(t),this.start.toggleActive(t),this.end.toggleActive(t)}updateHandles(t,e,i,n){this.start.update({...this.getHandleStyles(t),...this.getHandleCoords(t,e,"start")}),this.end.update({...this.getHandleStyles(t),...this.getHandleCoords(t,e,"end",n)}),this.start.toggleLocked(t.locked??!1),this.end.toggleLocked(t.locked??!1)}getHandleCoords(t,e,i,n){return i==="start"?DF.start(e):DF.end(e)}},{StateMachine:Ef,StateMachineProperty:kO,Debug:Omt}=_,Kg=class extends Ef{constructor(t){const e=({point:r})=>{const l=this.createDatum();l.set({start:r,end:r}),t.create(l)},i=()=>{const{node:r}=this;r==null||r.toggleActive(!0),r==null||r.toggleHandles({start:!0,end:!1})},n=({offset:r,context:l})=>{const{datum:c,snapping:h}=this;c&&(c.set({end:Jx(r,l,h,c.start,c.snapToAngle)}),t.update())},s=()=>{var r;(r=this.node)==null||r.toggleHandles({end:!0}),t.update()},a=()=>t.delete(),o=()=>{var r;t.showAnnotationOptions(),t.recordAction(`Create ${(r=this.datum)==null?void 0:r.type} annotation`)};super("start",{start:{click:{target:"waiting-first-render",action:e},drag:{target:"waiting-first-render",action:e},reset:Ef.parent},"waiting-first-render":{render:{target:"end",action:i}},end:{hover:n,click:{target:Ef.parent,action:s},drag:n,dragEnd:{target:Ef.parent,action:s},reset:{target:Ef.parent,action:a},cancel:{target:Ef.parent,action:a},onExit:o}}),this.debug=Omt.create(!0,"annotations"),this.snapping=!1}};A([kO()],Kg.prototype,"datum");A([kO()],Kg.prototype,"node");A([kO()],Kg.prototype,"snapping");var Rmt=class extends Kg{createDatum(){return new hc}},Pmt=class extends Kg{createDatum(){return new dc}},Bmt=class extends Kg{createDatum(){return new pc}},IF={type:"fibonacci-retracement",datum:pc,scene:gS,isDatum:pc.is,translate:(t,e,i,n)=>{pc.is(e)&&gS.is(t)&&t.translate(e,i,n)},copy:(t,e,i,n)=>{if(pc.is(e)&&pc.is(i)&&gS.is(t))return t.copy(e,i,n)},update:(t,e,i)=>{pc.is(e)&&gS.is(t)&&t.update(e,i)},createState:(t,{createDatum:e})=>new Bmt({...t,create:e("fibonacci-retracement")}),dragState:t=>new nn(t)},{Vec2:Lm}=_,zmt=class extends _.Group{},YM=class extends zmt{constructor(){super(),this.type="arrow",this.path=new _.Path,this.armLength=6,this.append([this.path])}update(t){const{path:e}=this,{x:i,y:n,angle:s,...a}=t,o=Lm.from(i,n),r=3*Math.PI/4,l=this.armLength+(t.strokeWidth??0)*2,c=Lm.rotate(Lm.from(0,l),s+r,o),h=Lm.rotate(Lm.from(l,0),s-r,o);e.setProperties(a),e.fillOpacity=0,e.path.clear(),e.path.moveTo(c.x,c.y),e.path.lineTo(o.x,o.y),e.path.lineTo(h.x,h.y)}},{Vec2:rr,Vec4:TF}=_,Qu=class extends vO{constructor(){super(),this.type="line",this.line=new ya,this.append([this.line,this.start,this.end])}static is(t){return Wn.isCheck(t,"line")}update(t,e){let i=Mr(t,e);if(i==null){this.visible=!1;return}i=TF.round(i),this.visible=t.visible??!0,this.visible&&(this.updateLine(t,i,e),this.updateHandles(t,i),this.updateText(t,i),this.updateCaps(t,i),this.updateAnchor(t,i,e))}updateLine(t,e,i){const{line:n}=this,{lineDashOffset:s,stroke:a,strokeWidth:o,strokeOpacity:r}=t,l=this.extendLine(e,t,i);n.setProperties({...l,lineCap:t.getLineCap(),lineDash:t.getLineDash(),lineDashOffset:s,stroke:a,strokeWidth:o,strokeOpacity:r,fillOpacity:0})}updateText(t,e){this.text=this.updateNode(Xd,this.text,!!t.text.label),lg(this.line.id,this.line,e,t.text,this.text,t.text.label,t.strokeWidth)}updateCaps(t,e){if(!t.startCap&&this.startCap&&(this.removeChild(this.startCap),this.startCap=void 0),!t.endCap&&this.endCap&&(this.removeChild(this.endCap),this.endCap=void 0),!t.startCap&&!t.endCap)return;const{stroke:i,strokeWidth:n,strokeOpacity:s}=t,[a,o]=rr.from(e),r=rr.angle(rr.sub(o,a));t.startCap&&(this.startCap&&this.startCap.type!==t.startCap&&(this.removeChild(this.startCap),this.startCap=void 0),this.startCap==null&&(this.startCap=new YM,this.append([this.startCap])),this.startCap.update({x:a.x,y:a.y,angle:r-Math.PI,stroke:i,strokeWidth:n,strokeOpacity:s})),t.endCap&&(this.endCap&&this.endCap.type!==t.endCap&&(this.removeChild(this.endCap),this.endCap=void 0),this.endCap==null&&(this.endCap=new YM,this.append([this.endCap])),this.endCap.update({x:o.x,y:o.y,angle:r,stroke:i,strokeWidth:n,strokeOpacity:s}))}updateAnchor(t,e,i,n){const s=TF.topCenter(e);rr.apply(this.anchor,_.Transformable.toCanvasPoint(this.line,s.x,s.y))}containsPoint(t,e){const{line:i,text:n}=this;return super.containsPoint(t,e)||i.isPointInPath(t,e)||!!(n!=null&&n.containsPoint(t,e))}getNodeAtCoords(t,e){var i;return(i=this.text)!=null&&i.containsPoint(t,e)?"text":this.line.isPointInPath(t,e)?"line":super.getNodeAtCoords(t,e)}getHandleCoords(t,e,i,n){const{startCap:s,endCap:a}=this;let[o,r]=rr.from(e);const l=rr.angle(rr.sub(r,o));return s&&(o=rr.rotate(rr.from(0,-Li.HANDLE_SIZE/2),l,o)),a&&(r=rr.rotate(rr.from(0,Li.HANDLE_SIZE/2),l,r)),i==="start"?o:r}getHandleStyles(t){return{fill:t.handle.fill,stroke:t.handle.stroke??t.stroke,strokeOpacity:t.handle.strokeOpacity??t.strokeOpacity,strokeWidth:t.handle.strokeWidth??t.strokeWidth}}},CF={type:"line",datum:dc,scene:Qu,isDatum:dc.is,translate:(t,e,i,n)=>{dc.is(e)&&Qu.is(t)&&t.translate(e,i,n)},copy:(t,e,i,n)=>{if(dc.is(e)&&dc.is(i)&&Qu.is(t))return t.copy(e,i,n)},update:(t,e,i)=>{dc.is(e)&&Qu.is(t)&&t.update(e,i)},createState:(t,{createDatum:e})=>new Pmt({...t,create:e("line")}),dragState:t=>new nn(t)},kF={type:"arrow",datum:hc,scene:Qu,isDatum:hc.is,translate:(t,e,i,n)=>{hc.is(e)&&Qu.is(t)&&t.translate(e,i,n)},copy:(t,e,i,n)=>{if(hc.is(e)&&hc.is(i)&&Qu.is(t))return t.copy(e,i,n)},update:(t,e,i)=>{hc.is(e)&&Qu.is(t)&&t.update(e,i)},createState:(t,{createDatum:e})=>new Rmt({...t,create:e("arrow")}),dragState:t=>new nn(t)};function LF(t,e=0,i=0){let n=e;for(const s of t)if(Array.isArray(s)){for(const a of s)NF(a,n);n+=_.Group.computeChildrenBBox(s).width+i}else NF(s,n),n+=s.getBBox().width+i}function _mt(t,e=0,i=0){let n=e;for(const s of t)if(Array.isArray(s)){for(const a of s)EF(a,n);n+=_.Group.computeChildrenBBox(s).height+i}else EF(s,n),n+=s.getBBox().height+i}function NF(t,e){"x1"in t?(t.x2=e+(t.x2-t.x1),t.x1=e):t.x=e}function EF(t,e){"y1"in t?(t.y2=e+(t.y2-t.y1),t.y1=e):t.y=e}function wF(t,e){"x1"in t?(t.x1+=e,t.x2+=e):t.x+=e}function OF(t,e){"y1"in t?(t.y1+=e,t.y2+=e):t.y+=e}var{Vec4:X1}=_,v6=class extends _.Group{constructor(){super(),this.name="MeasurerStatisticsScene",this.background=new _.Rect,this.dateRangeBarsText=new _.Text,this.dateRangeDivider=new _.Line,this.dateRangeValueText=new _.Text,this.priceRangeValueText=new _.Text,this.priceRangeDivider=new _.Line,this.priceRangePercentageText=new _.Text,this.volumeText=new _.Text,this.volumeFormatter=new Intl.NumberFormat("en-US",{notation:"compact",minimumFractionDigits:2,maximumFractionDigits:2}),this.append([this.background,this.dateRangeBarsText,this.dateRangeDivider,this.dateRangeValueText,this.priceRangeValueText,this.priceRangeDivider,this.priceRangePercentageText,this.volumeText])}update(t,e,i,n,s,a,o){this.verticalDirection=a;const r=this.updateStatistics(t,e,i,o),l=_.Group.computeChildrenBBox(r.flat()),c=10;l.grow(c),this.updateBackground(t,l,c),this.reposition(r,c,s),this.checkVisibility(t,s,n)}checkVisibility(t,e,i){const n=X1.from(new _.BBox(0,0,e.seriesRect.width,e.seriesRect.height));X1.collides(i,n)?this.visible=t.visible??!0:this.visible=!1}updateStatistics(t,e,i,n){const{dateRangeBarsText:s,dateRangeDivider:a,dateRangeValueText:o,priceRangeValueText:r,priceRangeDivider:l,priceRangePercentageText:c,volumeText:h}=this,p=8,f=6,y=t.statistics.fontSize+3,m=-2,b=this.getTextStyles(t),S={...this.getDividerStyles(t),x1:0,y1:0,x2:0,y2:y},v=[s,a,o],D=[r,l,c],I=[];return e.priceRange&&(r.setProperties({...b,text:this.formatPriceRangeValue(e.priceRange.value,n)}),l.setProperties(S),c.setProperties({...b,text:this.formatPriceRangePercentage(e.priceRange.percentage,n)}),LF(D,i.x,p),I.push(D)),e.dateRange&&(s.setProperties({...b,text:this.formatDateRangeBars(e.dateRange.bars,n)}),a.setProperties(S),o.setProperties({...b,text:this.formatDateRangeValue(e.dateRange.value)}),LF(v,i.x,p),I.push(v)),e.volume!=null?(h.setProperties({...b,x:i.x,text:this.formatVolume(e.volume,n),visible:!0}),I.push(h)):h.visible=!1,_mt(I,i.y,f),l.y1+=m,l.y2+=m,a.y1+=m,a.y2+=m,I}updateBackground(t,e,i){const n=this.getBackgroundStyles(t);this.background.setProperties({...n,...e,x:e.x-e.width/2+i,y:e.y})}reposition(t,e,i){const{width:n,height:s}=i.seriesRect,a=X1.from(this.background.getBBox());let o=0;a.x1<0&&(o=-a.x1),a.x2>n&&(o=n-a.x2);const r=Math.min(e,s-a.y2);for(const l of t)if(Array.isArray(l)){const c=_.Group.computeChildrenBBox(l).width;for(const h of l)wF(h,o-c/2),OF(h,r)}else wF(l,o-l.getBBox().width/2),OF(l,r);this.background.x+=o,this.background.y+=r}getTextStyles(t){return{fill:t.statistics.color,fontFamily:t.statistics.fontFamily,fontSize:t.statistics.fontSize,fontStyle:t.statistics.fontStyle,fontWeight:t.statistics.fontWeight,textBaseline:"top"}}getDividerStyles(t){return{stroke:t.statistics.divider.stroke,strokeOpacity:t.statistics.divider.strokeOpacity,strokeWidth:t.statistics.divider.strokeWidth}}getBackgroundStyles(t){return{fill:t.statistics.fill,stroke:t.statistics.stroke,strokeOpacity:t.statistics.strokeOpacity,strokeWidth:t.statistics.strokeWidth,cornerRadius:4}}formatDateRangeBars(t,e){return(e==null?void 0:e.t("measurerDateRangeBars",{value:t}))??`${t}`}formatDateRangeValue(t){const e=[],i=t>=0?"":"-";t=Math.abs(t);const n=1e3*60,s=n*60,a=s*24,o=Math.floor(t/n),r=Math.floor(t/s),l=Math.floor(t/a),c=r%(a/s),h=o%(s/n);return l>=1&&e.push(`${l}d`),r>=1&&(t<a||c!==0)&&e.push(`${c}h`),(t<s||h!==0)&&e.push(`${h}m`),e[0]=`${i}${e[0]}`,e.join(" ")}formatPriceRangeValue(t,e){return(e==null?void 0:e.t("measurerPriceRangeValue",{value:Number(t.toFixed(2))}))??`${t}`}formatPriceRangePercentage(t,e){return(e==null?void 0:e.t("measurerPriceRangePercent",{value:t}))??`${t}`}formatVolume(t,e){const i=isNaN(t)?"":this.volumeFormatter.format(t);return(e==null?void 0:e.t("measurerVolume",{value:i}))??i}},jmt=class extends v6{getDirectionStyles(t){return this.verticalDirection==="down"?t.down.statistics:t.up.statistics}getTextStyles(t){const e=this.getDirectionStyles(t);return{...super.getTextStyles(t),fill:e.color,fontFamily:e.fontFamily,fontSize:e.fontSize,fontStyle:e.fontStyle,fontWeight:e.fontWeight}}getDividerStyles(t){const e=this.getDirectionStyles(t);return{stroke:e.divider.stroke,strokeOpacity:e.divider.strokeOpacity,strokeWidth:e.divider.strokeWidth}}getBackgroundStyles(t){const e=this.getDirectionStyles(t);return{...super.getBackgroundStyles(t),fill:e.fill,stroke:e.stroke,strokeOpacity:e.strokeOpacity,strokeWidth:e.strokeWidth}}},{Vec2:Xr,Vec4:xd}=_,Fa=class extends vO{constructor(){super(),this.type="measurer",this.horizontalLine=new ya,this.verticalLine=new ya,this.horizontalStartLine=new ya,this.horizontalEndLine=new ya,this.verticalStartLine=new ya,this.verticalEndLine=new ya,this.horizontalEndCap=new YM,this.verticalEndCap=new YM,this.background=new _.Path({zIndex:-1}),this.updateBackground=y6.updateBackground.bind(this),this.statistics=this.createStatisticsScene(),this.statistics.zIndex=1,this.append([this.background,this.verticalStartLine,this.verticalEndLine,this.horizontalStartLine,this.horizontalEndLine,this.horizontalLine,this.verticalLine,this.horizontalEndCap,this.verticalEndCap,this.start,this.end,this.statistics])}static is(t){return Wn.isCheck(t,"measurer")}createStatisticsScene(){return new v6}update(t,e){const i=Mr(t,e);if(i==null){this.visible=!1;return}if(this.visible=t.visible??!0,!this.visible)return;const n=this.extendPerpendicular(i,t,e),s={...n,y2:n.y1},a={...n,y1:n.y2};this.verticalDirection=i.y1<i.y2?"down":"up",this.updateVisibilities(t),this.updateLines(t,i),this.updateHandles(t,i),this.updateText(t,i),this.updateCaps(t,i),this.updateBoundingLines(t,n),this.updateBackground(t,s,a,e),this.updateStatistics(t,i,e),this.updateAnchor(t,i,e)}extendPerpendicular(t,e,i){const n={x1:Math.min(t.x1,t.x2),x2:Math.max(t.x1,t.x2),y1:Math.min(t.y1,t.y2),y2:Math.max(t.y1,t.y2)},[s,a]=Xr.from(i.yAxis.bounds);return ko.is(e)?(e.extendAbove&&(n.y1=s.y),e.extendBelow&&(n.y2=a.y)):Lo.is(e)&&(e.extendLeft&&(n.x1=s.x),e.extendRight&&(n.x2=a.x)),n}updateVisibilities(t){const{horizontalStartLine:e,horizontalEndLine:i,horizontalEndCap:n,verticalStartLine:s,verticalEndLine:a,verticalEndCap:o}=this,{direction:r}=t;s.visible=r!=="vertical",a.visible=r!=="vertical",n.visible=r!=="vertical",e.visible=r!=="horizontal",i.visible=r!=="horizontal",o.visible=r!=="horizontal"}updateLines(t,e){const{horizontalLine:i,verticalLine:n}=this,{direction:s}=t,{x1:a,y1:o,x2:r,y2:l}=e,c=Xr.round(xd.center(e)),h=this.getLineStyles(t);s!=="vertical"&&i.setProperties({...h,x1:a,x2:r,y1:c.y,y2:c.y}),s!=="horizontal"&&n.setProperties({...h,x1:c.x,x2:c.x,y1:o,y2:l})}updateText(t,e){const{direction:i}=t,n=Xr.round(xd.center(e));let s;const a={...e};i==="vertical"?(s=this.verticalLine,a.x1=n.x,a.x2=n.x):(s=this.horizontalLine,a.y1=n.y,a.y2=n.y),this.text=this.updateNode(Xd,this.text,!!t.text.label);const{id:o}=s,r=lg(o,s,a,t.text,this.text,t.text.label,t.strokeWidth);let l;if(i==="both"&&r&&this.text){const c=xd.from(this.text.getBBox()),{offset:h}=r.numbers;c.x1<=n.x+h.x&&c.x2>=n.x-h.x&&(l={x:n.x,y:r.clipMask.y,radius:this.text.getBBox().height/2+Xr.length(h)})}this.verticalLine.setClipMask(o,l)}updateCaps(t,e){const{horizontalEndCap:i,verticalEndCap:n}=this,{direction:s}=t,{x1:a,y1:o,x2:r,y2:l}=e,c=Xr.round(xd.center(e)),{stroke:h,strokeWidth:p,strokeOpacity:f}=this.getLineStyles(t),y={stroke:h,strokeWidth:p,strokeOpacity:f};if(s!=="vertical"){const m=a<=r?0:Math.PI;let b=r;s==="horizontal"&&(b+=a<=r?-2:2),i.update({...y,x:b,y:c.y,angle:m})}if(s!=="horizontal"){const m=o<=l?Math.PI/2:Math.PI/-2;let b=l;s==="vertical"&&(b+=o<=l?-2:2),n.update({...y,x:c.x,y:b,angle:m})}}updateBoundingLines(t,e){const{verticalStartLine:i,verticalEndLine:n,horizontalStartLine:s,horizontalEndLine:a}=this,{direction:o}=t,{x1:r,y1:l,x2:c,y2:h}=e,p=this.getLineStyles(t);o==="horizontal"&&(i.setProperties({...p,x1:r,y1:l,x2:r,y2:h}),n.setProperties({...p,x1:c,y1:l,x2:c,y2:h})),o==="vertical"&&(s.setProperties({...p,x1:r,y1:l,x2:c,y2:l}),a.setProperties({...p,x1:r,y1:h,x2:c,y2:h}))}updateStatistics(t,e,i){const n=Xr.add(xd.bottomCenter(e),Xr.from(0,10)),s={volume:this.getVolume(t)};t.hasPriceRange&&(s.priceRange={percentage:this.getPriceRangePercentage(t),value:this.getPriceRangeValue(t)}),t.hasDateRange&&(s.dateRange={bars:this.getDateRangeBars(e,i),value:this.getDateRangeValue(t)}),this.statistics.update(t,s,n,e,i,this.verticalDirection,t.localeManager)}updateAnchor(t,e,i,n){const s=xd.topCenter(e);Xr.apply(this.anchor,_.Transformable.toCanvasPoint(this.horizontalLine,s.x,s.y))}getBackgroundPoints(t,e,i,n){const[s,a]=Xr.from(e),[o,r]=Xr.from(i);return[s,a,r,o]}getLineStyles(t){const{lineDashOffset:e,stroke:i,strokeWidth:n,strokeOpacity:s}=t;return{lineCap:t.getLineCap(),lineDash:t.getLineDash(),lineDashOffset:e,stroke:i,strokeWidth:n,strokeOpacity:s,fillOpacity:0}}getBackgroundStyles(t){const{background:e}=t;return{fill:e.fill,fillOpacity:e.fillOpacity}}getHandleStyles(t){return{fill:t.handle.fill,stroke:t.handle.stroke??t.stroke,strokeOpacity:t.handle.strokeOpacity??t.strokeOpacity,strokeWidth:t.handle.strokeWidth??t.strokeWidth}}containsPoint(t,e){const{horizontalLine:i,text:n,verticalLine:s,horizontalStartLine:a,horizontalEndLine:o,verticalStartLine:r,verticalEndLine:l}=this;return super.containsPoint(t,e)||i.isPointInPath(t,e)||s.isPointInPath(t,e)||a.visible&&a.isPointInPath(t,e)||o.visible&&o.isPointInPath(t,e)||r.visible&&r.isPointInPath(t,e)||l.visible&&l.isPointInPath(t,e)||!!(n!=null&&n.containsPoint(t,e))}getNodeAtCoords(t,e){var i;return(i=this.text)!=null&&i.containsPoint(t,e)?"text":this.start.containsPoint(t,e)||this.end.containsPoint(t,e)?"handle":"line"}getDateRangeBars(t,e){const{step:i}=e.xAxis.scale,n=t.x1<=t.x2?1:-1;return i?Math.round(xd.width(t)/i)*n:0}getDateRangeValue(t){const{value:e}=pi(t.start.x),{value:i}=pi(t.end.x);if(!Ux(e)||!Ux(i))throw new Error("Can not create a date range measurement of non-date x-axis.");return i.getTime()-e.getTime()}getPriceRangePercentage(t){if(t.start.y==null||t.end.y==null)throw new Error("Can not create a price range measurement of a non-numeric y-axis");const{value:e}=pi(t.end.y),{value:i}=pi(t.start.y);if(!Ki(e)||!Ki(i))throw new Error("Can not create a price range measurement of a non-numeric y-axis");return(e-i)/i}getPriceRangeValue(t){if(t.start.y==null||t.end.y==null)throw new Error("Can not create a price range measurement of a non-numeric y-axis");const{value:e}=pi(t.end.y),{value:i}=pi(t.start.y);if(!Ki(e)||!Ki(i))throw new Error("Can not create a price range measurement of a non-numeric y-axis");return e-i}getVolume(t){return t.getVolume(t.start.x,t.end.x)}},yS=class extends Fa{constructor(){super(...arguments),this.type="quick-measurer"}static is(t){return Wn.isCheck(t,"quick-measurer")}createStatisticsScene(){return new jmt}getDirectionStyles(t){return this.verticalDirection==="down"?t.down:t.up}getLineStyles(t){const e=this.getDirectionStyles(t);return{...super.getLineStyles(t),stroke:e.stroke,strokeWidth:e.strokeWidth,strokeOpacity:e.strokeOpacity}}getBackgroundStyles(t){const e=this.getDirectionStyles(t);return{fill:e.fill,fillOpacity:e.fillOpacity}}getHandleStyles(t){const e=this.getDirectionStyles(t);return{fill:e.handle.fill,stroke:e.handle.stroke??e.stroke,strokeOpacity:e.handle.strokeOpacity??e.strokeOpacity,strokeWidth:e.handle.strokeWidth??e.strokeWidth}}},{StateMachine:wf,StateMachineProperty:S6,Debug:Fmt}=_,Xg=class extends wf{constructor(t){const e=({point:o})=>{const r=this.createDatum();r.set({start:o,end:o}),t.create(r)},i=({point:o})=>{const{datum:r,node:l}=this;r==null||r.set({end:o}),l==null||l.toggleActive(!0),l==null||l.toggleHandles({end:!1}),t.update()},n=()=>{var o;(o=this.node)==null||o.toggleHandles({end:!0})},s=()=>t.delete(),a=()=>{var o;t.showAnnotationOptions(),!Zu(this.datum)&&t.recordAction(`Create ${(o=this.node)==null?void 0:o.type} annotation`)};super("start",{start:{reset:wf.parent,click:{target:"end",action:e},drag:{target:"end",action:e}},end:{hover:i,drag:i,click:{target:wf.parent,action:n},dragEnd:{target:wf.parent,action:n},reset:{target:wf.parent,action:s},cancel:{target:wf.parent,action:s},onExit:a}}),this.debug=Fmt.create(!0,"annotations")}};A([S6()],Xg.prototype,"datum");A([S6()],Xg.prototype,"node");var Gmt=class extends Xg{createDatum(){return new ko}},Vmt=class extends Xg{createDatum(){return new Lo}},Umt=class extends Xg{createDatum(){return new uc}},Hmt=class extends Xg{createDatum(){return new za}},RF={type:"date-range",datum:ko,scene:Fa,isDatum:ko.is,translate:(t,e,i,n)=>{ko.is(e)&&Fa.is(t)&&t.translate(e,i,n)},copy:(t,e,i,n)=>{if(ko.is(e)&&ko.is(i)&&Fa.is(t))return t.copy(e,i,n)},update:(t,e,i)=>{ko.is(e)&&Fa.is(t)&&t.update(e,i)},createState:(t,{createDatum:e})=>new Gmt({...t,create:e("date-range")}),dragState:t=>new nn(t)},PF={type:"price-range",datum:Lo,scene:Fa,isDatum:Lo.is,translate:(t,e,i,n)=>{Lo.is(e)&&Fa.is(t)&&t.translate(e,i,n)},copy:(t,e,i,n)=>{if(Lo.is(e)&&Lo.is(i)&&Fa.is(t))return t.copy(e,i,n)},update:(t,e,i)=>{Lo.is(e)&&Fa.is(t)&&t.update(e,i)},createState:(t,{createDatum:e})=>new Vmt({...t,create:e("date-range")}),dragState:t=>new nn(t)},BF={type:"date-price-range",datum:uc,scene:Fa,isDatum:uc.is,translate:(t,e,i,n)=>{uc.is(e)&&Fa.is(t)&&t.translate(e,i,n)},copy:(t,e,i,n)=>{if(uc.is(e)&&uc.is(i)&&Fa.is(t))return t.copy(e,i,n)},update:(t,e,i)=>{uc.is(e)&&Fa.is(t)&&t.update(e,i)},createState:(t,{createDatum:e})=>new Umt({...t,create:e("date-range")}),dragState:t=>new nn(t)},zF={type:"quick-date-price-range",datum:za,scene:yS,isDatum:za.is,translate:(t,e,i,n)=>{za.is(e)&&yS.is(t)&&t.translate(e,i,n)},copy:(t,e,i,n)=>{if(za.is(e)&&za.is(i)&&yS.is(t))return t.copy(e,i,n)},update:(t,e,i)=>{za.is(e)&&yS.is(t)&&t.update(e,i)},createState:(t,{createDatum:e})=>new Hmt({...t,create:e("quick-date-price-range")}),dragState:t=>new nn(t)},{ZIndexMap:_F,TextWrapper:Wmt,clamp:Ymt}=_,mS=class extends DO{constructor(){super(),this.type="note",this.shape=new _.Rect,this.iconBackground=new _.SvgPath("M22 1.83333C22 0.820811 21.1792 0 20.1667 0H1.83333C0.820811 0 0 0.82081 0 1.83333V13.9868C0 14.9994 0.820811 15.8202 1.83333 15.8202L5.88971 15.8202C6.44575 15.8202 6.97175 16.0725 7.31971 16.5062L9.57006 19.3112C10.304 20.2259 11.6962 20.2259 12.4301 19.3112L14.6804 16.5062C15.0284 16.0725 15.5544 15.8202 16.1104 15.8202L20.1667 15.8202C21.1792 15.8202 22 14.9994 22 13.9868V1.83333Z"),this.iconLines=new _.SvgPath("M17.1114 5.75C17.1114 6.16421 16.7756 6.5 16.3614 6.5H5.63916C5.22495 6.5 4.88916 6.16421 4.88916 5.75V5.75C4.88916 5.33579 5.22495 5 5.63916 5H16.3614C16.7756 5 17.1114 5.33579 17.1114 5.75V5.75ZM17.1114 9.25C17.1114 9.66421 16.7756 10 16.3614 10H5.63916C5.22495 10 4.88916 9.66421 4.88916 9.25V9.25C4.88916 8.83579 5.22495 8.5 5.63916 8.5H16.3614C16.7756 8.5 17.1114 8.83579 17.1114 9.25V9.25Z"),this.active=!1,this.shape.visible=!1,this.label.visible=!1,this.iconBackground.fillShadow=new _.DropShadow,this.append([this.shape,this.label,this.iconBackground,this.iconLines,this.handle])}static is(t){return Wn.isCheck(t,"note")}update(t,e){this.updateIcon(t,e),super.update(t,e)}getTextBBox(t,e,i){const n=super.getTextBBox(t,e,i);n.x-=t.width/2,n.x=Ymt(0,n.x,i.seriesRect.width-t.width);const s=t.getPadding().top,a=n.y-z$-s*2,o=n.y+Li.HANDLE_SIZE+s*2;return a-n.height-_$<0?(n.y=o,t.position="top"):(n.y=a+s,t.position="bottom"),n}updateLabel(t,e){const i=t.visible===!1?!1:this.label.visible;super.updateLabel(t,e),this.label.visible=i,this.label.text=Wmt.wrapText(t.text,{font:{fontFamily:t.fontFamily,fontSize:t.fontSize,fontStyle:t.fontStyle,fontWeight:t.fontWeight},avoidOrphans:!1,textAlign:t.textAlign,textBaseline:"hanging",textWrap:"always",maxWidth:200})}updateShape(t,e){const{shape:i}=this;i.fill=t.background.fill,i.fillOpacity=t.background.fillOpacity??1,i.stroke=t.background.stroke,i.strokeOpacity=t.background.strokeOpacity??1,i.strokeWidth=t.background.strokeWidth??1,i.cornerRadius=4;const n=t.getPadding().top,s=t.position==="top";i.x=e.x-n,i.width=t.width+n*2,i.height=e.height+n*2,i.y=e.y+(s?0:-e.height)-n}updateIcon(t,e){const{active:i,iconBackground:n,iconLines:s}=this,{x:a,y:o}=ki(t,e);n.x=a-tyt/2,n.y=o-B$,s.x=n.x,s.y=n.y,n.fill=t.fill,n.fillOpacity=t.fillOpacity??1,n.stroke=t.stroke,n.strokeOpacity=t.strokeOpacity??1,n.strokeWidth=t.strokeWidth??1,s.fill=t.stroke,i?n.fillShadow.color=t.fill??"rgba(0, 0, 0, 0.22)":n.fillShadow.color="rgba(0, 0, 0, 0.22)"}updateAnchor(t,e,i){const n=t.getPadding().top,s=t.position==="top",a=s?1:-1;return{x:e.x+i.seriesRect.x+t.width/2,y:e.y+i.seriesRect.y+a*(e.height+n),position:s?"below":"above"}}getLabelCoords(t,e){const i=t.position==="top",n=t.getPadding().top;return{x:e.x,y:e.y+(i?n/2:0)}}getHandleCoords(t,e,i){return{x:e.x,y:e.y+Li.HANDLE_SIZE/2+4}}getHandleStyles(t){return{fill:t.handle.fill,stroke:t.handle.stroke??t.fill,strokeOpacity:t.handle.strokeOpacity,strokeWidth:t.handle.strokeWidth}}toggleHovered(t){super.toggleHovered(t),this.label.visible=t,this.shape.visible=t,this.zIndex=t?_F.CHART_ANNOTATION_FOCUSED:_F.CHART_ANNOTATION}toggleActive(t){super.toggleActive(t),this.label.visible=t,this.shape.visible=t,this.active=t}containsPoint(t,e){return this.shape.visible&&this.shape.containsPoint(t,e)||this.iconBackground.containsPoint(t,e)?!0:super.containsPoint(t,e)}},$mt=class extends $b{createDatum(){return new ga}},jF={type:"note",datum:ga,scene:mS,isDatum:ga.is,translate:(t,e,i,n)=>{ga.is(e)&&mS.is(t)&&t.translate(e,i,n)},copy:(t,e,i,n)=>{if(ga.is(e)&&ga.is(i)&&mS.is(t))return t.copy(e,i,n)},update:(t,e,i)=>{ga.is(e)&&mS.is(t)&&t.update(e,i)},createState:(t,{createDatum:e})=>new $mt({...t,create:e("note")}),dragState:t=>new nn(t)},{Vec2:Zr,Vec4:Of}=_,xS=class extends m6{constructor(){super(),this.type="parallel-channel",this.ignoreYBounds=!0,this.handles={topLeft:new Li,topMiddle:new qf,topRight:new Li,bottomLeft:new Li,bottomMiddle:new qf,bottomRight:new Li},this.middleLine=new ya,this.append([this.background,this.topLine,this.middleLine,this.bottomLine,...Object.values(this.handles)])}static is(t){return Wn.isCheck(t,"parallel-channel")}dragHandle(t,e,i,n){const{activeHandle:s,handles:a}=this;if(s==null)return;const{offset:o}=a[s].drag(e);a[s].toggleDragging(!0);const r=t.toJson();let l=[],c=[];switch(s){case"topLeft":case"bottomLeft":l=["topLeft","bottomLeft"],c=["topRight","bottomRight"];break;case"topMiddle":l=["topLeft","topRight"],o.y-=qf.HANDLE_SIZE/2;break;case"topRight":case"bottomRight":l=["topRight","bottomRight"],c=["topLeft","bottomLeft"];break;case"bottomMiddle":l=["bottomLeft","bottomRight"],o.y-=qf.HANDLE_SIZE/2;break}const h=t.snapToAngle,p=l.map((y,m)=>n&&c[m]?this.snapToAngle(e,i,y,c[m],h):fi(Zr.add(a[y].handle,o),i)).filter(ayt);if(p.some(y=>!Ar(i,y,{y:!1})))return;const{value:f}=pi(t.start.y);if((s==="topMiddle"||s==="bottomMiddle")&&f!=null&&Ki(f)){const y=fi(Zr.add(a.topLeft.handle,o),i);s==="topMiddle"?t.height+=y.y-f:t.height-=y.y-f}for(const[y,m]of p.entries())switch(l[y]){case"topLeft":t.start.x=m.x,t.start.y=m.y;break;case"topRight":t.end.x=m.x,t.end.y=m.y;break}t.isValidWithContext(i)||t.set(r)}containsPoint(t,e){return super.containsPoint(t,e)||this.middleLine.visible&&this.middleLine.strokeWidth>0&&this.middleLine.containsPoint(t,e)}getNodeAtCoords(t,e){return this.middleLine.visible&&this.middleLine.strokeWidth>0&&this.middleLine.containsPoint(t,e)?"line":super.getNodeAtCoords(t,e)}updateLines(t,e,i,n,s,a){const{topLine:o,middleLine:r,bottomLine:l}=this,{lineDashOffset:c,stroke:h,strokeOpacity:p,strokeWidth:f}=t,y=t.getLineDash(),m={lineCap:t.getLineCap(),lineDash:y,lineDashOffset:c,stroke:h,strokeOpacity:p,strokeWidth:f};o.setProperties({...e,...m}),l.setProperties({...i,...m});const b=this.extendLine({x1:s.x1,y1:a.y1+(s.y1-a.y1)/2,x2:s.x2,y2:a.y2+(s.y2-a.y2)/2},t,n);r.setProperties({...b,lineDash:t.middle.lineDash??y,lineDashOffset:t.middle.lineDashOffset??c,stroke:t.middle.stroke??h,strokeOpacity:t.middle.strokeOpacity??p,strokeWidth:t.middle.strokeWidth??f,visible:t.middle.visible??!0})}updateHandles(t,e,i){const{handles:{topLeft:n,topMiddle:s,topRight:a,bottomLeft:o,bottomMiddle:r,bottomRight:l}}=this,c={fill:t.handle.fill,stroke:t.handle.stroke??t.stroke,strokeOpacity:t.handle.strokeOpacity??t.strokeOpacity,strokeWidth:t.handle.strokeWidth??t.strokeWidth};n.update({...c,...Of.start(e)}),a.update({...c,...Of.end(e)}),o.update({...c,...Of.start(i)}),l.update({...c,...Of.end(i)}),s.update({...c,...Zr.sub(Of.center(e),Zr.from(s.handle.width/2,s.handle.height/2))}),r.update({...c,...Zr.sub(Of.center(i),Zr.from(r.handle.width/2,r.handle.height/2))})}updateText(t,e,i){this.text=this.updateNode(Xd,this.text,!!t.text.label),d6(!0,e,i,t.text,t.strokeWidth,this.text,t.text.label)}getBackgroundPoints(t,e,i,n){const s=e.x1>e.x2,a=e.y1>e.y2,o=e.x1!==i.x1&&e.y1!==i.y1,r=e.x2!==i.x2&&e.y2!==i.y2,l=Zr.from(e);return t.extendEnd&&r&&l.push(Zr.from(s?n.x1:n.x2,a?n.y1:n.y2)),l.push(...Zr.from(i).reverse()),t.extendStart&&o&&l.push(Zr.from(s?n.x2:n.x1,a?n.y2:n.y1)),l}},{StateMachine:Ru,StateMachineProperty:LO,Debug:Kmt}=_,_D=class extends Ru{constructor(t){const e=({point:l})=>{const c=new Eo;c.set({start:l,end:l,height:0}),t.create(c)},i=()=>{const{node:l}=this;l==null||l.toggleActive(!0),l==null||l.toggleHandles({topLeft:!0,topMiddle:!1,topRight:!1,bottomLeft:!1,bottomMiddle:!1,bottomRight:!1})},n=({offset:l,context:c})=>{const{datum:h,snapping:p}=this;h&&(h.set({end:Jx(l,c,p,h.start,h.snapToAngle)}),t.update())},s=()=>{var l;(l=this.node)==null||l.toggleHandles({topRight:!0}),t.update()},a=({point:l})=>{const{datum:c,node:h}=this,{value:p}=pi(c==null?void 0:c.end.y),{value:f}=pi(c==null?void 0:c.start.y),{y}=l;if(c==null||!Ki(f)||!Ki(p)||!Ki(y))return;const m=p-(y??0),b=f-m;h==null||h.toggleHandles({bottomLeft:!0,bottomRight:!0}),!(!t.validatePoint({x:c.start.x,y:b})||!t.validatePoint({x:c.end.x,y:l.y}))&&(c.set({height:m}),t.update())},o=({point:l})=>{const{datum:c,node:h}=this,{value:p}=pi(c==null?void 0:c.end.y),{value:f}=pi(c==null?void 0:c.start.y),{y}=l;if(c==null||!Ki(f)||!Ki(p)||!Ki(y))return;const m=p-(y??0),b=f-m;h==null||h.toggleHandles(!0),!(!t.validatePoint({x:c.start.x,y:b})||!t.validatePoint({x:c.end.x,y:l.y}))&&(c.set({height:m}),t.recordAction("Create parallel-channel annotation"),t.showAnnotationOptions(),t.update())},r=()=>t.delete();super("start",{start:{click:{target:"waiting-first-render",action:e},drag:{target:"waiting-first-render",action:e},reset:Ru.parent},"waiting-first-render":{render:{target:"end",action:i}},end:{hover:n,drag:n,click:{target:"height",action:s},dragEnd:{target:"height",action:s},reset:{target:Ru.parent,action:r},cancel:{target:Ru.parent,action:r}},height:{hover:a,click:{target:Ru.parent,action:o},drag:{target:Ru.parent,action:o},reset:{target:Ru.parent,action:r},cancel:{target:Ru.parent,action:r}}}),this.debug=Kmt.create(!0,"annotations"),this.snapping=!1}};A([LO()],_D.prototype,"datum");A([LO()],_D.prototype,"node");A([LO()],_D.prototype,"snapping");var FF={type:"parallel-channel",datum:Eo,scene:xS,isDatum:Eo.is,translate:(t,e,i,n)=>{Eo.is(e)&&xS.is(t)&&t.translate(e,i,n)},copy:(t,e,i,n)=>{if(Eo.is(e)&&Eo.is(i)&&xS.is(t))return t.copy(e,i,n)},update:(t,e,i)=>{Eo.is(e)&&xS.is(t)&&t.update(e,i)},createState:(t,{createDatum:e})=>new _D({...t,create:e("parallel-channel")}),dragState:t=>new nn(t)},bS=class extends DO{constructor(){super(),this.type="text",this.append([this.label,this.handle])}static is(t){return Wn.isCheck(t,"text")}getHandleCoords(t,e){const i=Li.HANDLE_SIZE/2;return{x:e.x+i,y:e.y+2+i}}},Xmt=class extends $b{createDatum(){return new fc}},GF={type:"text",datum:fc,scene:bS,isDatum:fc.is,translate:(t,e,i,n)=>{fc.is(e)&&bS.is(t)&&t.translate(e,i,n)},copy:(t,e,i,n)=>{if(fc.is(e)&&fc.is(i)&&bS.is(t))return t.copy(e,i,n)},update:(t,e,i)=>{fc.is(e)&&bS.is(t)&&t.update(e,i)},createState:(t,{createDatum:e})=>new Xmt({...t,create:e("text")}),dragState:t=>new nn(t)},Ba={[CF.type]:CF,[bF.type]:bF,[vF.type]:vF,[FF.type]:FF,[SF.type]:SF,[IF.type]:IF,[AF.type]:AF,[mF.type]:mF,[xF.type]:xF,[jF.type]:jF,[GF.type]:GF,[kF.type]:kF,[dF.type]:dF,[hF.type]:hF,[RF.type]:RF,[PF.type]:PF,[BF.type]:BF,[zF.type]:zF};function jd(t){for(const{isDatum:e}of Object.values(Ba))if(e(t))return t}var{ActionOnSet:Zmt,ParallelStateMachine:qmt,StateMachine:NO,StateMachineProperty:Il,Debug:Qmt}=_,jD=class extends qmt{constructor(t){super(new Jmt(e=>{this.snapping=e}),new txt(()=>{this.node=this.active==null?void 0:t.node(this.active)}),new Ih(t,e=>{this.active=e,this.datum=this.active==null?void 0:t.datum(this.active),this.node=this.active==null?void 0:t.node(this.active)})),this.snapping=!1}getActive(){return this.active}isActive(t){return t===this.active}};A([Il()],jD.prototype,"snapping");A([Il()],jD.prototype,"datum");A([Il()],jD.prototype,"node");var Jmt=class extends NO{constructor(t){super("idle",{idle:{hover:({shiftKey:e})=>t(e),keyDown:({shiftKey:e})=>t(e),keyUp:({shiftKey:e})=>t(e),click:({shiftKey:e})=>t(e),drag:({shiftKey:e})=>t(e)},dragging:{},"text-input":{}})}},txt=class extends NO{constructor(t){super("idle",{idle:{onEnter:t,render:t},dragging:{onEnter:t,render:t},"text-input":{render:t}})}},Ih=class extends NO{constructor(t,e){const i=I=>T=>{t.create(I,T),this.active=t.selectLast()},n=()=>{this.active!=null&&t.delete(this.active),this.active=void 0,t.select()},s={createDatum:i},a={...t,delete:n,showTextInput:()=>{this.active!=null&&t.showTextInput(this.active)},deselect:()=>{const I=this.active;this.active=void 0,this.hovered=void 0,t.select(this.active,I)},showAnnotationOptions:()=>{this.active!=null&&t.showAnnotationOptions(this.active)}},o=Object.fromEntries(Object.entries(Ba).map(([I,T])=>[I,T.createState(a,s)])),r=Object.fromEntries(Object.entries(Ba).map(([I,T])=>[I,T.dragState(t,s)])),l=({colorPickerType:I,colorOpacity:T,color:k,opacity:E,isMultiColor:w})=>{this.datum&&(I==="text-color"&&t.updateTextInputColor(k),OD(this.datum,I,T,k,E,w),t.update())},c=I=>{const{datum:T,node:k}=this;!T||!k||(hl(T)?(T.fontSize=I,t.updateTextInputFontSize(I)):rg(T)&&(T.text.fontSize=I),t.update())},h=I=>{const{datum:T,node:k}=this;!T||!k||!ju(T)||(X$(T,I),t.update())},p=I=>{const{node:T}=this;!T||!("setTextInputBBox"in T)||(T.setTextInputBBox(I),t.update())},f=({textInputValue:I,bbox:T})=>{const{datum:k}=this;if(T!=null&&I!=null&&I.length>0){if(!hl(k))return;const E=CD(k,I,T.width);k.set({text:E}),t.update(),t.recordAction(`Change ${k.type} annotation text`)}else t.delete(this.active),t.recordAction(`Delete ${k==null?void 0:k.type} annotation`)},y=()=>{t.updateTextInputBBox(void 0)},m=()=>this.active!=null,b=()=>this.copied!=null,S=()=>{const{active:I,datum:T}=this;return I==null||!T?!1:rg(T)&&!T.locked},v=()=>this.active!=null&&!Zu(this.datum),D=()=>this.hovered!=null;super("idle",{idle:{onEnter:()=>{t.select(this.active,this.active),this.hoverCoords&&(this.hovered=t.hoverAtCoords(this.hoverCoords,this.active,this.hovered))},hover:({offset:I})=>{this.hovered=t.hoverAtCoords(I,this.active,this.hovered),this.hoverCoords=I},translate:{guard:m,action:({translation:I})=>{t.startInteracting(),t.translate(this.active,I),t.update()}},translateEnd:{guard:m,action:()=>{t.stopInteracting()}},copy:{guard:v,action:()=>{this.copied=t.copy(this.active)}},cut:{guard:v,action:()=>{this.copied=t.copy(this.active),n()}},paste:{guard:b,action:()=>{t.paste(this.copied)}},selectLast:()=>{const I=this.active;this.active=t.selectLast(),t.select(this.active,I)},click:[{guard:()=>{const{active:I,hovered:T,datum:k}=this;return I==null||T!==I||!k?!1:hl(k)&&!k.locked},target:"text-input"},{action:()=>{const I=this.active;this.active=this.hovered,t.select(this.active,I)}}],dblclick:{guard:S,action:({offset:I})=>{const T=t.getNodeAtCoords(I,this.active)==="text"?"text":"line";t.showAnnotationSettings(this.active,void 0,T)}},dragStart:[{guard:D,target:"dragging",action:()=>{const I=this.active;this.active=this.hovered,t.select(this.active,I),t.startInteracting()}},{action:()=>{const I=this.active;this.active=this.hovered,t.select(this.active,I)}}],color:{guard:m,action:l},fontSize:{guard:m,action:c},lineProps:{guard:m,action:I=>{const T=jd(this.datum);T==null||T.set(I),t.update(),t.recordAction(`Change ${T==null?void 0:T.type} ${Object.entries(I).map(([k,E])=>`${k} to ${E}`).join(", ")}`)}},lineStyle:{guard:m,action:h},lineText:{guard:m,action:I=>{const T=jd(this.datum);rg(T)&&(Ac(T)&&I.position==="center"&&(I.position="inside"),T.text.set(I),t.update())}},updateTextInputBBox:{guard:m,action:p},toolbarPressSettings:{guard:S,action:I=>{t.showAnnotationSettings(this.active,I)}},reset:()=>{var I;this.active!=null&&((I=this.node)==null||I.toggleActive(!1)),this.hovered=void 0,this.active=void 0,t.select(this.active,this.active),t.resetToIdle()},delete:()=>{var I;this.active!=null&&(t.delete(this.active),!Zu(this.datum)&&t.recordAction(`Delete ${(I=this.datum)==null?void 0:I.type} annotation`))},deleteAll:()=>{t.deleteAll()},...o},dragging:{onEnter:(I,T)=>{if(this.active==null)return;const k=t.getAnnotationType(this.active);k&&(this.transitionRoot(k),this.transitionRoot("dragStart",T))},...r},"text-input":{onEnter:()=>{if(this.active==null)return;const I=jd(this.datum);!I||!("getTextInputCoords"in I)||(t.startInteracting(),t.showTextInput(this.active),I.visible=!1,t.update())},updateTextInputBBox:{guard:m,action:p},resize:{target:"idle",action:f},click:{target:"idle",action:f},drag:{target:"idle",action:f},textInput:[{guard:SO,target:"idle",action:y},{guard:MO,target:"idle",action:f}],color:{guard:m,action:l},fontSize:{guard:m,action:c},cancel:{target:"idle",action:y},onExit:()=>{t.stopInteracting(),t.hideTextInput();const I=this.active;if(this.active=this.hovered=void 0,t.select(this.active,I),I==null)return;const T=t.datum(I),k=t.node(I);!T||!k||(T.visible=!0)}}}),this.setActive=e,this.debug=Qmt.create(!0,"annotations"),this.snapping=!1}};A([Zmt({changeValue(t){this.setActive(t)}}),Il()],Ih.prototype,"active");A([Il()],Ih.prototype,"hovered");A([Il()],Ih.prototype,"hoverCoords");A([Il()],Ih.prototype,"copied");A([Il()],Ih.prototype,"snapping");A([Il()],Ih.prototype,"datum");A([Il()],Ih.prototype,"node");var{ARRAY:ext,BOOLEAN:ixt,UNION:nxt,POSITIVE_NUMBER:sxt,ActionOnSet:axt,LayoutElement:oxt,Menu:rxt,PropertiesArray:lxt,ToolbarButtonProperties:cxt,Validate:FD,ChartAxisDirection:uxt}=_,M6=class extends cxt{};A([FD(nxt(["line-menu","fibonacci-menu","text-menu","shape-menu","measurer-menu","clear"]))],M6.prototype,"value");var GD=class extends _.BaseProperties{constructor(t){super(),this.ctx=t,this.enabled=!0,this.padding=20,this.buttons=new lxt(M6),this.events=new _.Listeners,this.annotationMenu=new rxt(this.ctx,"annotations"),this.destroyFns=[],this.toolbar=t.sharedToolbar.getSharedToolbar("annotations");const e=this.onKeyDown.bind(this);this.toolbar.addListener("keydown",e),this.destroyFns.push(this.toolbar.addToolbarListener("button-pressed",this.onToolbarButtonPress.bind(this)),t.layoutManager.registerElement(oxt.ToolbarLeft,this.onLayoutStart.bind(this)),()=>{this.toolbar.removeListener("keydown",e),this.toolbar.destroy()})}destroy(){for(const t of this.destroyFns)t()}addListener(t,e){return this.events.addListener(t,e)}toggleVisibility(t){this.toolbar.setHidden(!t)}toggleClearButtonEnabled(t){const e=this.buttons.findIndex(i=>i.value==="clear");this.toolbar.toggleButtonEnabledByIndex(e,t)}resetButtonIcons(){for(const[t,e]of this.buttons.entries())switch(e.value){case"line-menu":this.updateButtonByIndex(t,{icon:"trend-line-drawing",value:"line-menu"});break;case"fibonacci-menu":this.updateButtonByIndex(t,{icon:"fibonacci-retracement-drawing",value:"fibonacci-menu"});break;case"text-menu":this.updateButtonByIndex(t,{icon:"text-annotation",value:"text-menu"});break;case"shape-menu":this.updateButtonByIndex(t,{icon:"arrow-drawing",value:"shape-menu"});break;case"measurer-menu":this.updateButtonByIndex(t,{icon:"measurer-drawing",value:"measurer-menu"});break}}hideOverlays(){this.annotationMenu.hide()}clearActiveButton(){this.toolbar.clearActiveButton()}dispatch(t,e){this.events.dispatch(t,e)}onLayoutStart(t){this.enabled&&(this.toolbar.updateButtons(this.buttons),this.toolbar.layout(t.layoutBox,this.padding))}refreshButtonsEnabled(t){for(const[e,i]of this.buttons.entries())i&&this.toolbar.toggleButtonEnabledByIndex(e,t)}onToolbarButtonPress({event:t,button:e,buttonBounds:i}){const n=this.ctx.axisManager.getAxisContext(uxt.Y)[0].scale;switch(e.value){case"clear":this.dispatch("pressed-clear");break;case"line-menu":this.onToolbarButtonPressShowMenu(t,i,e.value,"toolbarAnnotationsLineAnnotations",Oyt.filter(s=>s.visible?s.visible(n):!0));break;case"fibonacci-menu":this.onToolbarButtonPressShowMenu(t,i,e.value,"toolbarAnnotationsFibonacciAnnotations",Ryt);break;case"text-menu":this.onToolbarButtonPressShowMenu(t,i,e.value,"toolbarAnnotationsTextAnnotations",Byt);break;case"shape-menu":this.onToolbarButtonPressShowMenu(t,i,e.value,"toolbarAnnotationsShapeAnnotations",zyt);break;case"measurer-menu":this.onToolbarButtonPressShowMenu(t,i,e.value,"toolbarAnnotationsMeasurerAnnotations",_yt);break}}onToolbarButtonPressShowMenu(t,e,i,n,s){this.dispatch("pressed-show-menu");const a=this.buttons.findIndex(o=>o.value===i);this.toolbar.toggleActiveButtonByIndex(a),this.annotationMenu.setAnchor({x:e.x+e.width+6,y:e.y}),this.annotationMenu.show({items:s,ariaLabel:this.ctx.localeManager.t(n),class:"ag-charts-annotations__toolbar-menu",sourceEvent:t.sourceEvent,onPress:this.onButtonPressMenuCreateAnnotation.bind(this,i)})}onButtonPressMenuCreateAnnotation(t,e){const i=this.buttons.findIndex(n=>n.value===t);this.updateButtonByIndex(i,{icon:e.icon}),this.dispatch("pressed-create-annotation",{annotation:e.value}),this.annotationMenu.hide()}onKeyDown({sourceEvent:t}){t.key==="Escape"&&this.dispatch("cancel-create-annotation")}updateButtonByIndex(t,e){const i=this.buttons.at(t);i&&(i.set({...i.toJson(),...e,value:e.value??i.value}),this.toolbar.updateButtonByIndex(t,{...i.toJson()}))}};A([FD(ixt),axt({changeValue(t){var e;(e=this.toolbar)==null||e.setHidden(!t)}})],GD.prototype,"enabled");A([FD(sxt)],GD.prototype,"padding");A([FD(ext)],GD.prototype,"buttons");var{BaseModuleInstance:hxt,InteractionState:Nm,Validate:dxt,BOOLEAN:pxt,ChartAxisDirection:fxt,getIconClassNames:gxt}=_,Qm="ag-charts-annotations__axis-button",A6=class extends hxt{constructor(t,e,i,n){super(),this.ctx=t,this.axisCtx=e,this.onButtonClick=i,this.seriesRect=n,this.enabled=!0,this.snap=!1,this.padding=0,this.button=this.setup(),this.toggleVisibility(!1),this.updateButtonElement(),this.snap=!!e.scale.bandwidth,t.domManager.addEventListener("focusin",({target:s})=>{const a=s instanceof HTMLElement?s:void 0;!(a&&t.domManager.contains(a,"series-area"))&&a!==this.button.getElement()&&this.hide()}),this.destroyFns.push(t.widgets.seriesWidget.addListener("drag-move",s=>this.onMouseDrag(s)),t.widgets.seriesWidget.addListener("mousemove",s=>this.onMouseMove(s)),t.widgets.seriesWidget.addListener("mouseleave",()=>this.onMouseLeave()),t.widgets.seriesDragInterpreter.addListener("click",s=>this.onClick(s)),t.chartEventManager.addListener("series-focus-change",()=>this.onKeyPress()),t.zoomManager.addListener("zoom-pan-start",()=>this.hide()),t.zoomManager.addListener("zoom-change",()=>this.hide()),()=>this.destroyElements(),()=>this.button.destroy())}update(t,e){this.seriesRect=t,this.padding=e}setup(){const t=new qY.ButtonWidget;return t.addClass(Qm),t.setTabIndex(-1),t.setAriaLabel(this.ctx.localeManager.t("ariaLabelAddHorizontalLine")),this.ctx.widgets.seriesWidget.getElement().appendChild(t.getElement()),t}destroyElements(){this.ctx.domManager.removeChild("canvas-overlay",Qm)}onMouseMove(t){this.ctx.interactionManager.isState(Nm.Clickable)&&this.show(t)}onMouseDrag(t){this.ctx.interactionManager.isState(Nm.AnnotationsMoveable)&&this.show(t)}onMouseLeave(){this.ctx.interactionManager.isState(Nm.Clickable)&&this.hide()}onClick(t){this.ctx.interactionManager.isState(Nm.Clickable)&&t.device==="touch"&&this.show(t)}show(t){const{sourceEvent:e,currentX:i,currentY:n}=t;if(!(this.enabled&&this.ctx.widgets.seriesWidget.getElement().contains(e.target))){this.hide();return}this.toggleVisibility(!0);const s=this.getButtonCoordinates({x:i,y:n});this.coords={x:s.x+this.button.clientWidth/2,y:s.y+this.button.clientHeight/2},this.updatePosition(s)}hide(){this.toggleVisibility(!1)}onKeyPress(){this.snap&&this.ctx.interactionManager.isState(Nm.Default)||this.hide()}getButtonCoordinates({x:t,y:e}){const{axisCtx:{direction:i,position:n},seriesRect:s,snap:a,axisCtx:o,padding:r}=this,{clientWidth:l,clientHeight:c}=this.button,[h,p]=[0,s.height],[f,y]=[0,s.width];if(a&&(t=Xu(Zx(t-s.x,o),o)+s.x,e=Xu(Zx(e-s.y,o),o)+s.y),i===fxt.X){const b=c-Math.max(0,r-5);t=t-l/2,e=n==="top"?h-c+b:p-b}else{const b=l-Math.max(0,r-9);t=n==="left"?f-l+b:y-b,e=e-c/2}return{x:t,y:e}}toggleVisibility(t){const{button:e}=this;if(e==null)return;const i=this.enabled&&t;this.toggleClass("-hidden",!i)}toggleClass(t,e){this.button.toggleClass(`${Qm}-${t}`,e)}updatePosition({x:t,y:e}){this.button.getElement().style.transform=`translate(${Math.round(t)}px, ${Math.round(e)}px)`}updateButtonElement(){const{button:t}=this;t.addListener("click",()=>this.onButtonClick(this.coords)),t.addListener("touchend",()=>this.onButtonClick(this.coords)),t.addListener("drag-start",()=>{}),t.setInnerHTML(`<span class="${gxt("zoom-in")} ${Qm}-icon"></span>`)}};A([dxt(pxt)],A6.prototype,"enabled");var{Color:VF,DraggablePopover:yxt,NativeWidget:UL,Vec2:pn,createButton:vS,createCheckbox:mxt,createElementId:UF,createSelect:xxt,createTextArea:bxt,initRovingTabIndex:HF,getIconClassNames:vxt,mapValues:Z1,setAttribute:Sxt,setAttributes:q1,createElement:cc,getWindow:Mxt}=_,D6=class HL extends yxt{constructor(e,i){super(e,i),this.dragHandleDraggingClass="ag-charts-dialog__drag-handle--dragging",this.colorPicker=new Z$(this.ctx,{detached:!0}),this.destroyFns.push(e.layoutManager.addListener("layout:complete",this.onLayoutComplete.bind(this)))}showWithChildren(e,i){const n=super.showWithChildren(e,i);return n.classList.add("ag-charts-dialog"),n.setAttribute("role","dialog"),n.addEventListener("mousedown",s=>{var a;(a=s.target.classList)!=null&&a.contains("ag-charts-dialog__color-picker-button")||this.colorPicker.hide()}),n.addEventListener("keydown",this.onKeyDown.bind(this)),Mxt().requestAnimationFrame(()=>this.reposition()),this.colorPicker.attachTo(this),n}updatePosition(e){super.updatePosition(e);const{anchor:i,fallbackAnchor:n}=this.getColorPickerAnchors()??{};i&&this.colorPicker.setAnchor(i,n)}createTabs(e,i,n){const s=cc("div","ag-charts-dialog__tabs"),a=Z1(n,()=>UF("ag-charts-dialog__tab")),o=Z1(n,()=>UF("ag-charts-dialog__tab-panel"));for(const[y,m]of Object.entries(n))q1(m.panel,{id:o[y],role:"tabpanel","aria-labelledby":a[y]});const r=y=>{var m;for(const[b,S]of Object.entries(n))S.panel.classList.toggle("ag-charts-dialog__tab-panel--active",b===y),h[b].classList.toggle("ag-charts-dialog__tab-button--active",b===y),Sxt(h[b],"aria-selected",b===y),b===y&&((m=S.onShow)==null||m.call(S))},l=new UL(cc("div","ag-charts-dialog__header"));l.addListener("drag-start",y=>{const{sourceEvent:m}=y;m.target instanceof Element&&m.target.classList.contains("ag-charts-dialog__header")&&this.onDragStart(y)}),l.addListener("drag-move",y=>this.onDragMove(y)),l.addListener("drag-end",()=>this.onDragEnd());const c=new Dxt;this.setDragHandle(c);const h=Z1(n,(y,m)=>vS({label:this.ctx.localeManager.t(y.label),onPress:()=>r(m)},{id:a[m],class:"ag-charts-dialog__tab-button",role:"tab","aria-controls":o[m]})),p=cc("div","ag-charts-dialog__tab-list");q1(p,{role:"tablist","aria-label":this.ctx.localeManager.t(e)}),p.append(...Object.values(h));const f=this.createHeaderCloseButton();return l.getElement().append(c.getElement(),p,f),s.append(l.getElement(),...Object.values(n).map(y=>y.panel)),r(i),HF({orientation:"horizontal",buttons:Object.values(h)}),{tabs:s,initialFocus:h[i]}}createTabPanel(){return cc("div","ag-charts-dialog__tab-panel")}createInputGroupLine(){return cc("div","ag-charts-dialog__input-group-line")}createRadioGroup({label:e,options:i,value:n,onChange:s}){const a=this.createInputGroup(e);q1(a,{role:"radiogroup",tabindex:-1,"aria-label":this.ctx.localeManager.t(e)});const o="ag-charts-dialog__button--active",r=[];for(const l of i){const{icon:c,altText:h}=l,p=this.ctx.localeManager.t(h),f=vS({icon:c,altText:p,onPress:()=>{for(const y of Array.from(a.children))y.classList.remove(o),y.ariaChecked="false";f.classList.add(o),f.ariaChecked="true",s(l.value)}},{"aria-checked":l.value===n,class:"ag-charts-dialog__button",role:"radio",title:p});l.value===n&&f.classList.add(o),a.appendChild(f),r.push(f)}return HF({orientation:"horizontal",buttons:r}),a}createSelect({altText:e,label:i,options:n,value:s,onChange:a}){const o=this.createInputGroup(i),r=this.ctx.localeManager.t(e),l=xxt({value:s,options:n,onChange:a},{class:"ag-charts-dialog__select","aria-label":r,title:r});return o.append(l),o}createTextArea({placeholder:e,value:i,onChange:n}){const s=e?this.ctx.localeManager.t(e):void 0;return bxt({value:i,onChange:n},{placeholder:s})}createCheckbox({label:e,checked:i,onChange:n}){const s=`ag-charts__${e}`,a=this.createInputGroup(e,{for:s}),o=mxt({checked:i,onChange:n},{class:"ag-charts-dialog__checkbox",role:"switch",id:s});return a.append(o),a}createColorPicker({color:e,opacity:i,label:n,altText:s,onChange:a,onChangeHide:o,isMultiColor:r,hasMultiColorOption:l}){const c=this.createInputGroup(n),h=this.ctx.localeManager.t(s),p=vS({label:h,onPress:f=>{const{anchor:y,fallbackAnchor:m}=this.getColorPickerAnchors(p)??{};this.colorPicker.show({anchor:y,fallbackAnchor:m,color:e,opacity:i,isMultiColor:r,hasMultiColorOption:l,sourceEvent:f,onChange:(b,S,v,D)=>{p.style.setProperty("--color",b),p.classList.toggle("ag-charts-dialog__color-picker-button--multi-color",D),a(b,S,v,D)},onChangeHide:o})}},{"aria-label":h,tabindex:0,class:"ag-charts-dialog__color-picker-button",title:h});if(r)p.classList.toggle("ag-charts-dialog__color-picker-button--multi-color");else if(e){const f=VF.fromString(e),y=new VF(f.r,f.g,f.b,i);p.style.setProperty("--color",y.toHexString())}return c.append(p),this.hideFns.push(()=>{this.colorPicker.hide()}),c}createHeaderCloseButton(){return vS({icon:"close",altText:this.ctx.localeManager.t("iconAltTextClose"),onPress:()=>this.hide()},{class:"ag-charts-dialog__close-button"})}createInputGroup(e,i){const n=cc("div","ag-charts-dialog__input-group"),s=cc("label","ag-charts-dialog__input-group-label");return s.innerText=this.ctx.localeManager.t(e),i!=null&&i.for&&s.setAttribute("for",i.for),n.appendChild(s),n}onLayoutComplete(e){this.seriesRect=e.series.paddedRect,this.reposition()}onKeyDown(e){e.altKey||e.ctrlKey||e.metaKey||e.isComposing||e.key!=="Escape"||this.hide()}reposition(){const{seriesRect:e,ctx:i}=this,n=i.domManager.getBoundingClientRect(),s=this.getPopoverElement();if(!e||!s)return;const a=pn.from(0,e.y),o=pn.from(n.width,e.height),r=pn.from(s),l=pn.from(.5,1);let c;if(e.width>1e3){const h=pn.sub(pn.add(a,pn.multiply(o,l)),pn.multiply(r,l));c=pn.sub(h,pn.from(0,HL.offset))}else{const h=pn.sub(pn.add(a,o),r);c=pn.sub(h,HL.offset)}this.updatePosition(c)}getColorPickerAnchors(e){if(e&&(this.colorPickerAnchorElement=e),!this.colorPickerAnchorElement)return;const i=this.colorPickerAnchorElement.getBoundingClientRect(),n=this.ctx.domManager.getBoundingClientRect(),s=pn.sub(pn.from(i.x,i.y),pn.from(n.left,n.top)),a=pn.add(s,pn.from(0,i.height+5)),o=pn.sub(s,pn.from(0,5));return{anchor:a,fallbackAnchor:o}}};D6.offset=60;var Axt=D6,Dxt=class extends UL{constructor(){super(cc("div","ag-charts-dialog__drag-handle"));const t=new UL(cc("span",vxt("drag-handle")));t.setAriaHidden(!0),this.addChild(t)}},{Listeners:Ixt,focusCursorAtEnd:Txt}=_,Cxt=class extends Axt{constructor(t){super(t,"settings"),this.events=new Ixt,this.hideFns.push(()=>this.events.dispatch("hidden"))}addListener(t,e){return this.events.addListener(t,e)}show(t,e){const i=this.createLinearLineTab(t,e),n=this.createLinearTextTab(t,e);let s="dialogHeaderLine";Ac(t)?s="dialogHeaderChannel":K$(t)?s="dialogHeaderFibonacciRange":t.type==="date-range"?s="dialogHeaderDateRange":t.type==="price-range"?s="dialogHeaderPriceRange":t.type==="date-price-range"&&(s="dialogHeaderDatePriceRange");const{tabs:a,initialFocus:o}=this.createTabs("ariaLabelSettingsTabBar",e.initialSelectedTab,{line:{label:s,panel:i},text:{label:"dialogHeaderText",panel:n.panel,onShow:n.onShow}});e.initialFocus=o,this.showWithChildren([a],e).classList.add("ag-charts-dialog--annotation-settings")}createLinearLineTab(t,e){const i=this.createTabPanel(),n=this.createInputGroupLine(),s=this.createInputGroupLine(),a="isMultiColor"in t,o=this.createColorPickerInput("line-color",t.getDefaultColor("line-color"),t.getDefaultOpacity("line-color"),a?t.isMultiColor:!1,a,e.onChangeLineColor,e.onChangeHideLineColor),r=this.createStrokeWidthSelect(t.strokeWidth??2,e.onChangeLineStyleWidth),l=this.createLineStyleRadioGroup(t.lineStyle??"solid",e.onChangeLineStyleType);if(n.append(o),"background"in t){const c=this.createColorPickerInput("fill-color",t.getDefaultColor("fill-color"),t.getDefaultOpacity("fill-color"),!1,!1,e.onChangeFillColor,e.onChangeHideFillColor);n.append(c),s.append(r)}else"showFill"in t?(n.append(this.createCheckbox({label:"dialogInputShowFill",checked:t.showFill??!0,onChange:c=>e.onChangeLine({showFill:c})})),s.append(r)):n.append(r);return s.append(l),i.append(n,s),"bands"in t&&i.append(this.createFibonacciRatioSelect(t.bands??10,c=>e.onChangeLine({bands:c}))),"extendStart"in t&&"extendEnd"in t&&i.append(this.createCheckbox({label:Ac(t)?"dialogInputExtendChannelStart":"dialogInputExtendLineStart",checked:t.extendStart??!1,onChange:c=>e.onChangeLine({extendStart:c})}),this.createCheckbox({label:Ac(t)?"dialogInputExtendChannelEnd":"dialogInputExtendLineEnd",checked:t.extendEnd??!1,onChange:c=>e.onChangeLine({extendEnd:c})})),"extendAbove"in t&&"extendBelow"in t&&i.append(this.createCheckbox({label:"dialogInputExtendAbove",checked:t.extendAbove??!1,onChange:c=>e.onChangeLine({extendAbove:c})}),this.createCheckbox({label:"dialogInputExtendBelow",checked:t.extendBelow??!1,onChange:c=>e.onChangeLine({extendBelow:c})})),"extendLeft"in t&&"extendRight"in t&&i.append(this.createCheckbox({label:"dialogInputExtendLeft",checked:t.extendLeft??!1,onChange:c=>e.onChangeLine({extendLeft:c})}),this.createCheckbox({label:"dialogInputExtendRight",checked:t.extendRight??!1,onChange:c=>e.onChangeLine({extendRight:c})})),"reverse"in t&&"showFill"in t&&i.append(this.createCheckbox({label:"dialogInputReverse",checked:t.reverse??!1,onChange:c=>e.onChangeLine({reverse:c})})),i}createLinearTextTab(t,e){const i=this.createTabPanel(),n=this.createTextArea({placeholder:"inputTextareaPlaceholder",value:t.text.label,onChange:h=>e.onChangeText({label:h})}),s=this.createFontSizeSelect(t.text.fontSize,e.onChangeTextFontSize),a=this.createColorPickerInput("text-color",t.text.color,1,!1,!1,e.onChangeTextColor,e.onChangeHideTextColor),o=t.text.position==="inside"?"center":t.text.position,r=this.createPositionRadioGroup(o??"top",h=>e.onChangeText({position:h})),l=this.createAlignmentRadioGroup(t.text.alignment??"center",h=>e.onChangeText({alignment:h})),c=this.createInputGroupLine();return c.append(s,a,r,l),i.append(n,c),{panel:i,onShow:()=>Txt(n)}}createColorPickerInput(t,e,i,n,s,a,o){const r=t==="fill-color"?"dialogInputFillColorPicker":"dialogInputColorPicker",l=t==="fill-color"?"dialogInputFillColorPickerAltText":"dialogInputColorPickerAltText";return this.createColorPicker({label:r,altText:l,color:e,opacity:i,isMultiColor:n,hasMultiColorOption:s,onChange:a,onChangeHide:o})}createStrokeWidthSelect(t,e){return this.createSelect({label:"dialogInputStrokeWidth",altText:"dialogInputStrokeWidthAltText",options:q$.map(({label:i,value:n})=>({label:i,value:`${n}`})),value:String(t),onChange:i=>e(Number(i))})}createFibonacciRatioSelect(t,e){return this.createSelect({label:"dialogInputFibonacciBands",altText:"dialogInputFibonacciBandsAltText",options:Pyt.map(({label:i,value:n})=>({label:i,value:`${n}`})),value:String(t),onChange:i=>e(Number(i))})}createLineStyleRadioGroup(t,e){return this.createRadioGroup({label:"dialogInputLineStyle",options:[{icon:"line-style-solid",altText:"iconAltTextLineStyleSolid",value:"solid"},{icon:"line-style-dashed",altText:"iconAltTextLineStyleDashed",value:"dashed"},{icon:"line-style-dotted",altText:"iconAltTextLineStyleDotted",value:"dotted"}],value:t,onChange:e})}createFontSizeSelect(t,e){return this.createSelect({label:"dialogInputFontSize",altText:"dialogInputFontSizeAltText",options:Q$.map(({label:i,value:n})=>({label:i,value:String(n)})),value:String(t),onChange:i=>e(Number(i))})}createPositionRadioGroup(t,e){return this.createRadioGroup({label:"dialogInputPosition",options:[{icon:"position-top",altText:"iconAltTextPositionTop",value:"top"},{icon:"position-center",altText:"iconAltTextPositionCenter",value:"center"},{icon:"position-bottom",altText:"iconAltTextPositionBottom",value:"bottom"}],value:t,onChange:e})}createAlignmentRadioGroup(t,e){return this.createRadioGroup({label:"dialogInputAlign",options:[{icon:"align-left",altText:"iconAltTextAlignLeft",value:"left"},{icon:"align-center",altText:"iconAltTextAlignCenter",value:"center"},{icon:"align-right",altText:"iconAltTextAlignRight",value:"right"}],value:t,onChange:e})}};function Q1(t){return t.gridPadding+t.seriesAreaPadding+t.tickSize+t.label.spacing}function kxt(t,e,i){for(const{update:n}of Object.values(Ba))n(t,e,i)}var{BOOLEAN:I6,OBJECT:EO,ChartUpdateType:Lxt,InteractionState:ha,ObserveChanges:Nxt,PropertiesArray:Ext,Validate:Kb,ChartAxisDirection:wxt,Vec2:bd,keyProperty:Oxt,valueProperty:Rxt,Selection:Pxt,BBox:Bxt}=_,Zg=class T6 extends _.BaseModuleInstance{constructor(e){super(),this.ctx=e,this.enabled=!0,this.toolbar=new GD(this.ctx),this.optionsToolbar=new fO(this.ctx,()=>{const i=this.state.getActive();if(i!=null)return jd(this.annotationData.at(i))}),this.axesButtons=new Xw,this.snap=!1,this.data=void 0,this.xKey=void 0,this.volumeKey=void 0,this.annotationData=new Ext(T6.createAnnotationDatum),this.defaults=new Nyt,this.container=new _.Group({name:"static-annotations"}),this.annotations=new Pxt(this.container,this.createAnnotationScene.bind(this)),this.settingsDialog=new Cxt(this.ctx),this.textInput=new lgt(this.ctx),this.restoreAnnotations=!0,this.postUpdateFns=[],this.state=this.setupStateMachine(),this.setupListeners(),this.setupDOM(),this.ctx.historyManager.addMementoOriginator(e.annotationManager),this.ctx.historyManager.addMementoOriginator(this.defaults),this.textInput.setKeyDownHandler(this.onTextInput.bind(this))}setupStateMachine(){const{ctx:e}=this;return new jD({resetToIdle:()=>{e.domManager.updateCursor("annotations"),this.popAnnotationState(ha.Annotations),this.hideOverlays(),this.optionsToolbar.hide(),this.deleteEphemeralAnnotations(),this.update()},hoverAtCoords:(i,n,s)=>{var o;let a;return this.annotations.each((r,l,c)=>{const h=r.containsPoint(i.x,i.y);h&&(a??(a=c)),r.toggleHovered(h||n===c)}),a!=null?e.tooltipManager.suppressTooltip("annotations"):this.isAnnotationState()||e.tooltipManager.unsuppressTooltip("annotations"),this.ctx.domManager.updateCursor("annotations",a==null||(o=this.annotations.at(a))==null?void 0:o.getCursor()),a!==s&&this.update(),a},getNodeAtCoords:(i,n)=>{const s=this.annotations.at(n);if(s)return s.getNodeAtCoords(i.x,i.y)},translate:(i,n)=>{const s=this.annotations.at(i),a=jd(this.annotationData.at(i));if(!(!s||!a))return this.translateNode(s,a,n)},copy:i=>{const n=this.annotations.at(i),s=jd(this.annotationData.at(i));if(!(!n||!s))return this.createAnnotationDatumCopy(n,s)},paste:i=>{this.createAnnotation(i.type,i,!1),this.postUpdateFns.push(()=>{this.state.transitionAsync("selectLast"),this.state.transitionAsync("copy")})},select:(i,n)=>{const{annotations:s,optionsToolbar:a,toolbar:o}=this;this.hideOverlays(),o.clearActiveButton(),o.resetButtonIcons();const r=i!=null?s.at(i):null,l=n!=null?s.at(n):null;l===r&&r!=null||(l==null||l.toggleActive(!1),a.hide(),r?(this.pushAnnotationState(ha.AnnotationsSelected),r.toggleActive(!0),a.updateButtons(this.annotationData.at(i)),this.postUpdateFns.push(()=>{a.show(),a.setAnchorScene(r)})):(this.popAnnotationState(ha.AnnotationsSelected),this.popAnnotationState(ha.Annotations)),this.deleteEphemeralAnnotations(),this.update())},selectLast:()=>(this.pushAnnotationState(ha.AnnotationsSelected),this.annotationData.length-1),startInteracting:()=>{this.pushAnnotationState(ha.Annotations)},stopInteracting:()=>{this.popAnnotationState(ha.Annotations)},create:(i,n)=>{this.createAnnotation(i,n)},delete:i=>{this.annotationData.splice(i,1)},deleteAll:()=>{this.annotationData.splice(0,this.annotationData.length)},validatePoint:i=>{const n=this.getAnnotationContext();return n?Ar(n,i):!0},getAnnotationType:i=>fgt(this.annotationData[i].type),datum:i=>this.annotationData.at(i),node:i=>this.annotations.at(i),recordAction:i=>{this.recordActionAfterNextUpdate(i)},update:()=>{this.postUpdateFns.push(()=>{const i=this.state.getActive(),n=i!=null?this.annotations.at(i):null;n!=null&&this.optionsToolbar.setAnchorScene(n)}),this.update()},showTextInput:i=>{const n=jd(this.annotationData.at(i));if(!this.annotations.at(i)||!n||!("getTextInputCoords"in n)||!("getTextPosition"in n))return;const a={color:n.color,fontFamily:n.fontFamily,fontSize:n.fontSize,fontStyle:n.fontStyle,fontWeight:n.fontWeight,placeholderColor:n.getPlaceholderColor()},o=this.getAnnotationContext(),r=c=>bd.add(n.getTextInputCoords(o,c),bd.required(this.seriesRect)),l=()=>n.getTextPosition();this.textInput.show({styles:a,layout:{getTextInputCoords:r,getTextPosition:l,alignment:n.alignment,textAlign:n.textAlign,width:n.width},text:n.text,placeholderText:n.placeholderText,onChange:(c,h)=>{this.state.transition("updateTextInputBBox",h)}}),this.ctx.domManager.updateCursor("annotations")},hideTextInput:()=>{this.textInput.hide()},updateTextInputColor:i=>{this.textInput.updateColor(i)},updateTextInputFontSize:i=>{const n=this.textInput.updateFontSize(i);this.state.transition("updateTextInputBBox",n)},updateTextInputBBox:i=>{this.state.transition("updateTextInputBBox",i)},showAnnotationOptions:i=>{const n=this.annotations.at(i);!n||Zu(this.annotationData.at(i))||(this.optionsToolbar.updateButtons(this.annotationData.at(i)),this.optionsToolbar.show(),this.optionsToolbar.setAnchorScene(n))},showAnnotationSettings:(i,n,s="line")=>{const a=this.annotationData.at(i);if(!wD(a)&&!Ac(a)&&!Wb(a)||Zu(a))return;const o=c=>(h,p,f,y)=>{this.setColorAndDefault(a.type,c,h,p,f,y),this.optionsToolbar.updateColorPickerColor(c,p,f,y)},r=c=>()=>{this.recordActionAfterNextUpdate(`Change ${a.type} ${c} to ${a.getDefaultColor(c)}`,["annotations","defaults"]),this.update()},l={initialSelectedTab:s,ariaLabel:this.ctx.localeManager.t("ariaLabelAnnotationSettingsDialog"),sourceEvent:n,onChangeLine:c=>{this.state.transition("lineProps",c),c.bands!=null&&this.defaults.setDefaultFibonacciOptions(a.type,"bands",c.bands),c.reverse!=null&&this.defaults.setDefaultFibonacciOptions(a.type,"reverse",c.reverse),c.showFill!=null&&this.defaults.setDefaultFibonacciOptions(a.type,"showFill",c.showFill)},onChangeText:c=>{this.state.transition("lineText",c),c.alignment&&this.defaults.setDefaultLineTextAlignment(a.type,c.alignment),c.position&&this.defaults.setDefaultLineTextPosition(a.type,c.position),this.recordActionAfterNextUpdate(`Change ${a.type} text ${Object.entries(c).map(([h,p])=>`${h} to ${p}`).join(", ")}`)},onChangeFillColor:o("fill-color"),onChangeHideFillColor:r("fill-color"),onChangeLineColor:o("line-color"),onChangeHideLineColor:r("line-color"),onChangeLineStyleType:c=>{this.setLineStyleTypeAndDefault(a.type,c),this.optionsToolbar.updateLineStyleType(dx.find(h=>h.value===c)??dx[0])},onChangeLineStyleWidth:c=>{this.setLineStyleWidthAndDefault(a.type,c),this.optionsToolbar.updateStrokeWidth({strokeWidth:c,value:c,label:String(c)})},onChangeTextColor:o("text-color"),onChangeHideTextColor:r("text-color"),onChangeTextFontSize:c=>{this.setFontSizeAndDefault(a.type,c)}};this.settingsDialog.show(a,l)}})}setupListeners(){const{ctx:e,optionsToolbar:i,settingsDialog:n,toolbar:s}=this,{seriesWidget:a,seriesDragInterpreter:o,chartWidget:r}=e.widgets;this.destroyFns.push(o.addListener("click",this.hoverTouchPreHandler.bind(this)),o.addListener("drag-start",this.hoverTouchPreHandler.bind(this)),o.addListener("drag-move",this.dragMoveTouchPreHandler.bind(this)),o.addListener("mousemove",this.onHover.bind(this)),o.addListener("click",this.onClick.bind(this)),o.addListener("dblclick",this.onDoubleClick.bind(this)),o.addListener("drag-start",this.onDragStart.bind(this)),o.addListener("drag-move",this.onDrag.bind(this)),o.addListener("drag-end",this.onDragEnd.bind(this)),a.addListener("keydown",this.onKeyDown.bind(this)),a.addListener("keyup",this.onKeyUp.bind(this)),r.addListener("click",this.onCancel.bind(this)),e.annotationManager.addListener("restore-annotations",this.onRestoreAnnotations.bind(this)),e.layoutManager.addListener("layout:complete",this.onLayoutComplete.bind(this)),e.updateService.addListener("pre-scene-render",this.onPreRender.bind(this)),e.zoomManager.addListener("zoom-change",()=>this.onResize()),e.domManager.addListener("resize",()=>this.onResize()),s.addListener("cancel-create-annotation",()=>{this.cancel(),this.reset(),this.update()}),s.addListener("pressed-create-annotation",({annotation:l})=>{this.cancel(),this.pushAnnotationState(ha.Annotations),this.state.transition(l),this.update()}),s.addListener("pressed-clear",()=>{this.clear(),this.recordActionAfterNextUpdate("Clear all")}),s.addListener("pressed-show-menu",()=>{this.cancel(),this.reset()}),s.addListener("pressed-unrelated",()=>{this.reset()}),i.addListener("pressed-delete",()=>{this.cancel(),this.delete(),this.reset()}),i.addListener("pressed-settings",({sourceEvent:l})=>{this.state.transition("toolbarPressSettings",l)}),i.addListener("pressed-lock",()=>{this.update()}),i.addListener("hid-overlays",()=>{this.settingsDialog.hide()}),i.addListener("saved-color",({type:l,colorPickerType:c,color:h})=>{this.recordActionAfterNextUpdate(`Change ${l} ${c} to ${h}`,["annotations","defaults"])}),i.addListener("updated-color",({type:l,colorPickerType:c,colorOpacity:h,color:p,opacity:f,isMultiColor:y})=>{this.setColorAndDefault(l,c,h,p,f,y)}),i.addListener("updated-font-size",({type:l,fontSize:c})=>{this.setFontSizeAndDefault(l,c)}),i.addListener("updated-line-style",({type:l,lineStyleType:c})=>{this.setLineStyleTypeAndDefault(l,c)}),i.addListener("updated-line-width",({type:l,strokeWidth:c})=>{this.setLineStyleWidthAndDefault(l,c)}),n.addListener("hidden",()=>{this.optionsToolbar.clearActiveButton()}))}setupDOM(){const{ctx:e,toolbar:i}=this;this.destroyFns.push(e.annotationManager.attachNode(this.container),()=>e.domManager.removeStyles(Qm),()=>i.destroy())}async processData(e){if(!this.enabled||this.data==null||this.xKey==null||this.volumeKey==null)return;const i=[Oxt(this.xKey,void 0,{id:"date"}),Rxt(this.volumeKey,"number",{id:"volume"})],{dataModel:n,processedData:s}=await e.request("annotations",this.data,{props:i});this.dataModel=n,this.processedData=s}createAnnotationScene(e){if(e.type in Ba)return new Ba[e.type].scene;throw new Error(`AG Charts - Cannot create annotation scene of type [${e.type}], expected one of [${Object.keys(Ba)}], ignoring.`)}static createAnnotationDatum(e){if(e.type in Ba)return new Ba[e.type].datum().set(e);throw new Error(`AG Charts - Cannot create annotation datum of unknown type [${e.type}], expected one of [${Object.keys(Ba)}], ignoring.`)}createAnnotation(e,i,n=!0){if(this.annotationData.push(i),n){const s=this.ctx.annotationManager.getAnnotationTypeStyles(e);s&&i.set(s),this.defaults.applyDefaults(i)}this.injectDatumDependencies(i),this.update()}injectDatumDependencies(e){"setLocaleManager"in e&&e.setLocaleManager(this.ctx.localeManager),"getVolume"in e&&(e.getVolume=this.getDatumRangeVolume.bind(this))}getDatumRangeVolume(e,i){const{dataModel:n,processedData:s}=this;let a=pi(e).value,o=pi(i).value;if(!U1(a)||!U1(o)||!n||!s||this.volumeKey==null)return;a>o&&([a,o]=[o,a]);const r=n.resolveKeysById({id:"annotations"},"date",s),l=n.resolveColumnById({id:"annotations"},"volume",s);let c=0;for(let h=0;h<s.input.count;h++){const p=r[h];U1(p)&&p>=a&&p<=o&&(c+=l[h])}return c}translateNode(e,i,n){const s=this.getAnnotationConfig(i),a=this.getAnnotationContext();a&&s.translate(e,i,n,a)}createAnnotationDatumCopy(e,i){const n=this.getAnnotationConfig(i),s=new n.datum;s.set(i.toJson());const a=this.getAnnotationContext();if(a)return n.copy(e,i,s,a)}getAnnotationConfig(e){if(e.type in Ba)return Ba[e.type];throw new Error(`AG Charts - Cannot get annotation config of unknown type [${e.type}], expected one of [${Object.keys(Ba)}], ignoring.`)}onRestoreAnnotations(e){this.enabled&&(this.clear(),this.annotationData.set(e.annotations),this.restoreAnnotations=!0,this.update())}onLayoutComplete(e){var n,s;const i=e.series.paddedRect;this.seriesRect=i,this.container.setClipRect(i);for(const a of e.axes??[])a.direction===_.ChartAxisDirection.X?this.xAxis=this.getAxis(a,i,(n=this.xAxis)==null?void 0:n.button):this.yAxis=this.getAxis(a,i,(s=this.yAxis)==null?void 0:s.button);this.showAnnotations()?this.animateAnnotations({from:0,to:1,phase:"trailing"}):this.animateAnnotations({from:1,to:0,phase:"remove"})}showAnnotations(){if(!this.yAxis||!this.xAxis)return!1;const e=this.ctx.chartService.series.some(s=>s.hasData),n=this.yAxis.context.seriesIds().some(s=>{const a=this.ctx.chartService.series.find(o=>o.id===s);return a==null?void 0:a.visible});return e&&n}animateAnnotations({from:e,to:i,phase:n}){var a;const{annotations:s}=this;(a=this.ctx.animationManager)==null||a.animate({from:e,to:i,id:"chart-annotations",phase:n,groupId:"opacity",onUpdate(o){s.each(r=>{r.opacity=o,"setAxisLabelOpacity"in r&&r.setAxisLabelOpacity(o)})},onStop(){s.each(o=>{o.opacity=i,"setAxisLabelOpacity"in o&&o.setAxisLabelOpacity(i)})}})}onPreRender(){this.updateAnnotations(),this.state.transition("render")}getAxis(e,i,n){const s=this.ctx.axisManager.getAxisContext(e.direction)[0],{position:a="bottom",direction:o}=s,r=e.gridPadding+e.seriesAreaPadding,l=new Bxt(0,0,i.width,i.height).grow(r,a),c=s.direction===wxt.X?"vertical":"horizontal",{axesButtons:h,snap:p}=this;if(this.enabled&&h.enabled&&(h.axes==="xy"||h.axes===o)){n??(n=new A6(this.ctx,{...s,snapToGroup:p},m=>this.onAxisButtonClick(m,c),i));const y=Q1(e);n.update(i,y)}else n==null||n.destroy(),n=void 0;return{layout:e,context:s,bounds:l,button:n}}recordActionAfterNextUpdate(e,i=["annotations"]){const{defaults:n,ctx:{annotationManager:s,historyManager:a}}=this,o=i.map(r=>r==="defaults"?n:s);this.postUpdateFns.push(()=>{a.record(e,...o)})}setColorAndDefault(e,i,n,s,a,o){this.state.transition("color",{colorPickerType:i,colorOpacity:n,color:s,opacity:a,isMultiColor:o}),this.defaults.setDefaultColor(e,i,n,s,a,o)}setFontSizeAndDefault(e,i){this.state.transition("fontSize",i),this.defaults.setDefaultFontSize(e,i),this.recordActionAfterNextUpdate(`Change ${e} font size to ${i}`,["annotations","defaults"])}setLineStyleTypeAndDefault(e,i){this.state.transition("lineStyle",{type:i}),this.defaults.setDefaultLineStyleType(e,i),this.recordActionAfterNextUpdate(`Change ${e} line style to ${i}`,["annotations","defaults"])}setLineStyleWidthAndDefault(e,i){this.state.transition("lineStyle",{strokeWidth:i}),this.defaults.setDefaultLineStyleWidth(e,i),this.recordActionAfterNextUpdate(`Change ${e} stroke width to ${i}`,["annotations","defaults"])}updateAnnotations(){const{annotationData:e,annotations:i,seriesRect:n,ctx:{annotationManager:s}}=this,a=this.getAnnotationContext();if(!n||!a)return;s.updateData(e.toJson().filter(l=>!Zu(l)));const o=this.showAnnotations();this.toolbar.refreshButtonsEnabled(o),this.toolbar.toggleClearButtonEnabled(e.length>0&&o);const r=this.restoreAnnotations;i.update(e??[],void 0,l=>l.id).each((l,c)=>{if(!o||!this.validateDatum(c,r)){l.visible=!1,"setAxisLabelVisible"in l&&l.setAxisLabelVisible(!1);return}"setAxisLabelVisible"in l&&l.setAxisLabelVisible(!0),this.injectDatumDependencies(c),kxt(l,c,a)}),this.postUpdateFns.forEach(l=>l()),this.postUpdateFns=[],this.restoreAnnotations=!1}validateDatum(e,i){const n=this.getAnnotationContext(),s=i?`Annotation [${e.type}] `:void 0;return n?e.isValidWithContext(n,s):!0}getAnnotationContext(){const{seriesRect:e,xAxis:i,yAxis:n,snap:s}=this;if(e&&i&&n)return{seriesRect:e,xAxis:{...i.context,bounds:i.bounds,labelPadding:Q1(i.layout),snapToGroup:s},yAxis:{...n.context,bounds:n.bounds,labelPadding:Q1(i.layout),snapToGroup:s}}}onHover(e){const{state:i}=this,n=this.getAnnotationContext();if(!n)return;const s=e.sourceEvent.shiftKey,a=bd.from(e),o=fi(a,n);i.transition("hover",{offset:a,point:o,shiftKey:s,context:n})}onClick(e){const{state:i}=this,n=this.getAnnotationContext();if(!n)return;const s=e.sourceEvent.shiftKey,a=fi(bd.from(e),n),o=this.textInput.getValue(),r=this.textInput.getBBox();i.transition("click",{point:a,shiftKey:s,textInputValue:o,bbox:r})}onDoubleClick(e){const{state:i}=this;if(!this.getAnnotationContext())return;const s=bd.from(e);i.transition("dblclick",{offset:s})}onAxisButtonClick(e,i){this.cancel(),this.reset();const n=this.getAnnotationContext();if(!this.annotationData||!n)return;const{state:s}=this;this.pushAnnotationState(ha.Annotations);const a=i==="horizontal";if(s.transition(a?"horizontal-line":"vertical-line"),this.optionsToolbar.hide(),!e)return;const o=fi(e,n);Ar(n,o)&&(s.transition("click",{point:o,shiftKey:!1}),this.update())}onResize(){const e=this.textInput.getValue(),i=this.textInput.getBBox();this.state.transition("resize",{textInputValue:e,bbox:i})}hoverTouchPreHandler(e){e.device==="touch"&&this.onHover(e)}dragMoveTouchPreHandler(e){e.device==="touch"&&this.ctx.interactionManager.isState(ha.AnnotationsSelected)&&e.sourceEvent.preventDefault()}onDragStart(e){if(!this.ctx.interactionManager.isState(ha.AnnotationsDraggable))return;const i=this.getAnnotationContext();if(!i)return;const n=bd.from(e),s=fi(n,i),a=this.textInput.getValue(),o=this.textInput.getBBox();this.state.transition("dragStart",{context:i,offset:n,point:s,textInputValue:a,bbox:o})}onDrag(e){if(!this.ctx.interactionManager.isState(ha.AnnotationsDraggable))return;const i=this.getAnnotationContext();if(!i)return;const n=bd.from(e),s=fi(n,i),a=e.sourceEvent.shiftKey,o=this.textInput.getValue(),r=this.textInput.getBBox();this.state.transition("drag",{context:i,offset:n,point:s,shiftKey:a,textInputValue:o,bbox:r})}onDragEnd(){this.state.transition("dragEnd")}onCancel(e){const{sourceEvent:i}=e??{};(i==null?void 0:i.currentTarget)===(i==null?void 0:i.target)&&(this.cancel(),this.reset())}onDelete(){this.textInput.isVisible()||(this.cancel(),this.delete(),this.reset(),this.update())}onTextInput(e){const{state:i}=this,n=this.getAnnotationContext();if(!n)return;const{key:s,shiftKey:a}=e,o=this.textInput.getValue(),r=this.textInput.getBBox();i.transition("textInput",{key:s,shiftKey:a,textInputValue:o,bbox:r,context:n})}onKeyDown(e){const{state:i}=this,n=this.getAnnotationContext();if(!n)return;const{sourceEvent:s}=e,{shiftKey:a,ctrlKey:o,metaKey:r}=s,l=o||r,c=o||a;this.state.transition("keyDown",{shiftKey:a,context:n});const h={x:0,y:0},p=Math.max((n==null?void 0:n.xAxis.scale.bandwidth)??0,c?10:1),f=Math.max((n==null?void 0:n.yAxis.scale.bandwidth)??0,c?10:1);switch(s.key){case"ArrowDown":h.y=f;break;case"ArrowUp":h.y=-f;break;case"ArrowLeft":h.x=-p;break;case"ArrowRight":h.x=p;break;case"Escape":this.onCancel();return;case"Backspace":case"Delete":this.onDelete();return}if((h.x||h.y)&&(i.transition("translate",{translation:h}),s.stopPropagation(),s.preventDefault()),!!l)switch(s.key){case"c":i.transition("copy");return;case"x":i.transition("cut"),this.recordActionAfterNextUpdate("Cut annotation");return;case"v":i.transition("paste"),this.recordActionAfterNextUpdate("Paste annotation");return}}onKeyUp(e){const{shiftKey:i}=e.sourceEvent,n=this.getAnnotationContext();n&&(this.state.transition("keyUp",{shiftKey:i,context:n}),this.state.transition("translateEnd"))}clear(){this.cancel(),this.deleteAll(),this.reset()}reset(){this.state.transition("reset")}cancel(){this.state.transition("cancel")}delete(){this.state.transition("delete")}deleteAll(){this.state.transition("deleteAll")}deleteEphemeralAnnotations(){for(const[e,i]of this.annotationData.entries())Zu(i)&&this.annotationData.splice(e,1)}hideOverlays(){this.settingsDialog.hide(),this.toolbar.hideOverlays(),this.optionsToolbar.hideOverlays()}pushAnnotationState(e){this.ctx.interactionManager.pushState(e),this.ctx.tooltipManager.suppressTooltip("annotations")}popAnnotationState(e){this.ctx.interactionManager.popState(e),this.ctx.tooltipManager.unsuppressTooltip("annotations")}isAnnotationState(){return this.ctx.interactionManager.isState(ha.Annotations)||this.ctx.interactionManager.isState(ha.AnnotationsSelected)}update(e=Lxt.PRE_SCENE_RENDER){this.ctx.updateService.update(e)}};A([Nxt((t,e,i)=>{var a;const{ctx:{annotationManager:n,stateManager:s}}=t;e!==i&&((a=t.toolbar)==null||a.toggleVisibility(!!e),i===!1&&e===!0?s.restoreState(n):e===!1&&t.clear())}),Kb(I6)],Zg.prototype,"enabled");A([Kb(EO)],Zg.prototype,"toolbar");A([Kb(EO)],Zg.prototype,"optionsToolbar");A([Kb(EO)],Zg.prototype,"axesButtons");A([Kb(I6)],Zg.prototype,"snap");var zxt=Zg,{FONT_SIZE_RATIO:_xt,ThemeSymbols:kn}=_,Ao={stroke:{$ref:"foregroundColor"},strokeOpacity:1,strokeWidth:2},ns={fill:kn.DEFAULT_ANNOTATION_HANDLE_FILL,strokeOpacity:1,strokeWidth:2},Zd={color:{$ref:"backgroundColor"},fontSize:{$rem:[_xt.LARGE]},fontFamily:{$ref:"fontFamily"}},WF={...Zd,enabled:!0,fill:{$ref:"foregroundColor"},fontSize:{$ref:"fontSize"}},SS={...Zd,textAlign:"left"},Ed={...Zd,position:"top",alignment:"center",color:{$ref:"textColor"}},YF={...Zd,position:"top",alignment:"center",color:{$ref:"textColor"}},WL={...Zd,fontSize:{$ref:"fontSize"},color:kn.DEFAULT_ANNOTATION_STATISTICS_COLOR,fill:kn.DEFAULT_ANNOTATION_STATISTICS_FILL,stroke:kn.DEFAULT_ANNOTATION_STATISTICS_STROKE,strokeWidth:1,divider:{stroke:kn.DEFAULT_ANNOTATION_STATISTICS_DIVIDER_STROKE,strokeWidth:1,strokeOpacity:.5}},J1={...Ao,background:{fill:{$ref:"foregroundColor"},fillOpacity:.075},handle:{...ns},text:{...Ed},statistics:{...WL}},jxt={buttons:[{icon:"text-annotation",tooltip:"toolbarAnnotationsTextAnnotations",value:"text-menu"},{icon:"trend-line-drawing",tooltip:"toolbarAnnotationsLineAnnotations",value:"line-menu"},{icon:"arrow-drawing",tooltip:"toolbarAnnotationsShapeAnnotations",value:"shape-menu"},{icon:"delete",tooltip:"toolbarAnnotationsClearAll",value:"clear"}],padding:{$ref:"padding"}},Fxt={buttons:[{icon:"text-annotation",tooltip:"toolbarAnnotationsTextColor",value:"text-color"},{icon:"line-color",tooltip:"toolbarAnnotationsLineColor",value:"line-color"},{icon:"fill-color",tooltip:"toolbarAnnotationsFillColor",value:"fill-color"},{tooltip:"toolbarAnnotationsTextSize",value:"text-size"},{tooltip:"toolbarAnnotationsLineStrokeWidth",value:"line-stroke-width"},{icon:"line-style-solid",tooltip:"toolbarAnnotationsLineStyle",value:"line-style-type"},{icon:"settings",tooltip:"toolbarAnnotationsSettings",value:"settings"},{icon:"unlocked",tooltip:"toolbarAnnotationsLock",ariaLabel:"toolbarAnnotationsLock",checkedOverrides:{icon:"locked",tooltip:"toolbarAnnotationsUnlock"},value:"lock"},{icon:"delete",tooltip:"toolbarAnnotationsDelete",value:"delete"}]},Gxt={enabled:!1,line:{...Ao,handle:{...ns},text:{...Ed}},"horizontal-line":{...Ao,handle:{...ns},axisLabel:{...WF},text:{...Ed}},"vertical-line":{...Ao,handle:{...ns},axisLabel:{...WF},text:{...Ed}},"disjoint-channel":{...Ao,background:{fill:{$ref:"foregroundColor"},fillOpacity:.075},handle:{...ns},text:{...YF}},"parallel-channel":{...Ao,middle:{lineDash:[6,5],strokeWidth:1},background:{fill:{$ref:"foregroundColor"},fillOpacity:.075},handle:{...ns},text:{...YF}},"fibonacci-retracement":{...Ao,strokes:kn.DEFAULT_FIBONACCI_STROKES,rangeStroke:{$ref:"foregroundColor"},handle:{...ns},text:{...Ed,position:"center"},label:{...Zd,color:void 0,fontSize:{$round:[{$mul:[{$ref:"fontSize"},10/12]}]}}},"fibonacci-retracement-trend-based":{...Ao,strokes:kn.DEFAULT_FIBONACCI_STROKES,rangeStroke:{$ref:"foregroundColor"},handle:{...ns},text:{...Ed,position:"center"},label:{...Zd,color:void 0,fontSize:{$round:[{$mul:[{$ref:"fontSize"},10/12]}]}}},callout:{...Ao,...SS,color:{$ref:"textColor"},handle:{...ns},fill:{$ref:"foregroundColor"},fillOpacity:.075},comment:{...SS,fontWeight:700,handle:{...ns},fill:{$ref:"foregroundColor"}},note:{...SS,color:kn.DEFAULT_TEXTBOX_COLOR,fill:kn.DEFAULT_FINANCIAL_CHARTS_ANNOTATION_COLOR,stroke:{$ref:"backgroundColor"},strokeWidth:1,strokeOpacity:1,handle:{...ns},background:{fill:kn.DEFAULT_TEXTBOX_FILL,stroke:kn.DEFAULT_TEXTBOX_STROKE,strokeWidth:1}},text:{...SS,color:{$ref:"textColor"},handle:{...ns}},arrow:{...Ao,handle:{...ns},text:{...Ed}},"arrow-up":{fill:kn.PALETTE_UP_FILL,handle:{...ns,stroke:{$ref:"foregroundColor"}}},"arrow-down":{fill:kn.PALETTE_DOWN_FILL,handle:{...ns,stroke:{$ref:"foregroundColor"}}},"date-range":{...J1},"price-range":{...J1},"date-price-range":{...J1},"quick-date-price-range":{up:{...Ao,fill:kn.DEFAULT_FINANCIAL_CHARTS_ANNOTATION_BACKGROUND_FILL,fillOpacity:.2,handle:{...ns},statistics:{...WL,color:"#fff",fill:kn.DEFAULT_FINANCIAL_CHARTS_ANNOTATION_BACKGROUND_FILL,strokeWidth:0,divider:{stroke:"#fff",strokeWidth:1,strokeOpacity:.5}}},down:{...Ao,stroke:kn.DEFAULT_ANNOTATION_STATISTICS_DOWN_STROKE,fill:kn.DEFAULT_ANNOTATION_STATISTICS_DOWN_FILL,fillOpacity:.2,handle:{...ns,stroke:kn.DEFAULT_ANNOTATION_STATISTICS_DOWN_STROKE},statistics:{...WL,color:"#fff",fill:kn.DEFAULT_ANNOTATION_STATISTICS_DOWN_FILL,strokeWidth:0,divider:{stroke:"#fff",strokeWidth:1,strokeOpacity:.5}}}},axesButtons:{},toolbar:jxt,optionsToolbar:Fxt},Vxt={type:"root",optionsKey:"annotations",packageType:"enterprise",chartTypes:["cartesian"],moduleFactory:t=>new zxt(t),themeTemplate:{annotations:Gxt}},{BaseProperties:Uxt,ObserveChanges:Hxt,ProxyProperty:Wxt,Validate:yp,NUMBER:VD,POSITIVE_NUMBER:C6,RATIO:Yxt,calculatePlacement:$xt,createElement:Kxt}=_,Tl=class extends Uxt{constructor(){super(),this.opacity=1,this.loadedSynchronously=!0,this.containerWidth=0,this.containerHeight=0,this.onLoad=void 0,this.onImageLoad=()=>{var e;this.loadedSynchronously||(this.node.visible=!1,this.performLayout(this.containerWidth,this.containerHeight),(e=this.onLoad)==null||e.call(this))},this.imageElement=Kxt("img"),this.imageElement.onload=this.onImageLoad,this.node=new _.Image(this.imageElement)}get complete(){return this.imageElement.width>0&&this.imageElement.height>0}performLayout(e,i){this.containerWidth=e,this.containerHeight=i;const n={width:e,height:i},s=$xt(this.imageElement.width,this.imageElement.height,n,this);return this.node.setProperties(this.complete?{visible:!0,opacity:this.opacity,...s}:{visible:!1}),s}};A([yp(VD,{optional:!0})],Tl.prototype,"top");A([yp(VD,{optional:!0})],Tl.prototype,"right");A([yp(VD,{optional:!0})],Tl.prototype,"bottom");A([yp(VD,{optional:!0})],Tl.prototype,"left");A([yp(C6,{optional:!0})],Tl.prototype,"width");A([yp(C6,{optional:!0})],Tl.prototype,"height");A([yp(Yxt)],Tl.prototype,"opacity");A([Wxt("imageElement.src"),Hxt(t=>t.loadedSynchronously=t.complete)],Tl.prototype,"url");var{ActionOnSet:Xxt,OBJECT:Zxt,Validate:qxt}=_,k6=class extends _.Background{constructor(){super(...arguments),this.image=new Tl}onLayoutComplete(t){if(super.onLayoutComplete(t),this.image){const{width:e,height:i}=t.chart;this.image.performLayout(e,i)}}onImageLoad(){this.ctx.updateService.update(_.ChartUpdateType.SCENE_RENDER)}};A([qxt(Zxt,{optional:!0}),Xxt({newValue(t){this.node.appendChild(t.node),t.onLoad=()=>this.onImageLoad()},oldValue(t){this.node.removeChild(t.node),t.onLoad=void 0}})],k6.prototype,"image");var Qxt={type:"root",optionsKey:"background",packageType:"enterprise",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],moduleFactory:t=>new k6(t)},{BOOLEAN:Jxt,ActionOnSet:tbt,LayoutElement:ebt,Menu:ibt,Validate:nbt}=_,tk=[{label:"toolbarSeriesTypeOHLC",icon:"ohlc-series",value:"ohlc"},{label:"toolbarSeriesTypeCandles",icon:"candlestick-series",value:"candlestick"},{label:"toolbarSeriesTypeHollowCandles",icon:"hollow-candlestick-series",value:"hollow-candlestick"},{label:"toolbarSeriesTypeLine",icon:"line-series",value:"line"},{label:"toolbarSeriesTypeStepLine",icon:"step-line-series",value:"step-line"},{label:"toolbarSeriesTypeHLC",icon:"hlc-series",value:"hlc"},{label:"toolbarSeriesTypeHighLow",icon:"high-low-series",value:"high-low"}],L6=class extends _.BaseModuleInstance{constructor(t){super(),this.ctx=t,this.enabled=!1,this.menu=new ibt(this.ctx,"chart-toolbar"),this.toolbar=t.sharedToolbar.getSharedToolbar("chartToolbar"),this.destroyFns.push(this.toolbar.addToolbarListener("button-pressed",this.onButtonPressed.bind(this)),t.layoutManager.registerElement(ebt.ToolbarLeft,this.onLayoutStart.bind(this)),()=>this.toolbar.destroy())}onLayoutStart(t){this.enabled&&(this.updateButton(),this.toolbar.layout(t.layoutBox))}onButtonPressed({event:t,buttonBounds:e}){this.menu.setAnchor({x:e.x+e.width+6,y:e.y}),this.menu.show({items:tk,menuItemRole:"menuitemradio",ariaLabel:this.ctx.localeManager.t("toolbarSeriesTypeDropdown"),class:"ag-charts-chart-toolbar__menu",value:this.getChartType(),sourceEvent:t.sourceEvent,onPress:i=>{this.setChartType(i.value),this.hidePopover()},onHide:()=>{this.toolbar.clearActiveButton()}}),this.toolbar.toggleActiveButtonByIndex(0)}updateButton(){var i;const t=this.getChartType(),e=(i=tk.find(n=>n.value===t))==null?void 0:i.icon;e!=null&&this.toolbar.updateButtons([{icon:e,tooltip:"toolbarSeriesTypeDropdown"}])}hidePopover(){this.toolbar.clearActiveButton(),this.menu.hide()}setChartType(t){var i;const e={chartType:t};(i=this.ctx.chartService.publicApi)==null||i.updateDelta(e).catch(n=>Me.error(n))}getChartType(){var e,i;const t=(i=(e=this.ctx.chartService.publicApi)==null?void 0:e.getOptions())==null?void 0:i.chartType;return t==null||!tk.some(n=>n.value===t)?"candlestick":t}};A([nbt(Jxt),tbt({changeValue(t){var e;(e=this.toolbar)==null||e.setHidden(!t)}})],L6.prototype,"enabled");var sbt={type:"root",optionsKey:"chartToolbar",packageType:"enterprise",chartTypes:["cartesian"],moduleFactory:t=>new L6(t)},MS="ag-charts-context-menu",AS="ag-charts-dark-context-menu",{BOOLEAN:N6,Validate:E6,initMenuKeyNav:abt,makeAccessibleClickListener:obt,ContextMenuRegistry:Em,createElement:ek}=_,ik="context-menu";function rbt(t,e){const{children:i}=t??{};if(!i)return[];const n=[];for(const s of Array.from(i))s instanceof e&&n.push(s);return n}var wO=class extends _.BaseModuleInstance{constructor(t){if(super(),this.ctx=t,this.enabled=!0,this.darkTheme=!1,this.extraActions=[],this.extraNodeActions=[],this.extraSeriesAreaActions=[],this.extraLegendItemActions=[],this.pickedNode=void 0,this.showEvent=void 0,this.x=0,this.y=0,this.interactionManager=t.interactionManager,this.registry=t.contextMenuRegistry,this.groups={default:[],extra:[],extraSeriesArea:[],extraNode:[],extraLegendItem:[]},this.element=t.domManager.addChild("canvas-overlay",ik),this.element.classList.add(MS),this.element.addEventListener("contextmenu",e=>e.preventDefault()),this.destroyFns.push(()=>{var e;return(e=this.element.parentNode)==null?void 0:e.removeChild(this.element)}),this.doClose(),this.destroyFns.push(t.domManager.addListener("hidden",()=>this.hide())),typeof MutationObserver<"u"){const e=new MutationObserver(()=>{this.menuElement&&this.element.contains(this.menuElement)&&this.reposition()});e.observe(this.element,{childList:!0}),this.mutationObserver=e,this.destroyFns.push(()=>e.disconnect())}this.destroyFns.push(this.registry.registerDefaultAction({id:"download",type:"all",label:"contextMenuDownload",action:()=>{var n;const e=t.chartService.title;let i="image";e!=null&&e.enabled&&(e==null?void 0:e.text)!==void 0&&(i=e.text.replace(/\.+/,"")),(n=this.ctx.chartService.publicApi)==null||n.download({fileName:i}).catch(s=>{Me.error("Unable to download chart",s)})}})),this.destroyFns.push(this.registry.addListener(e=>this.onContext(e)))}onContext(t){if(!this.enabled)return;t.sourceEvent.preventDefault(),this.showEvent=t.sourceEvent,this.x=t.x,this.y=t.y,this.groups.default=this.registry.filterActions(t.type);for(const r of this.groups.default)r.id==null||r.toggleEnabledOnShow==null||(r.toggleEnabledOnShow(t)?this.registry.enableAction(r.id):this.registry.disableAction(r.id));this.pickedNode=void 0,this.pickedLegendItem=void 0,this.groups.extra=this.extraActions.map(({label:r,action:l})=>({type:"all",label:r,action:l})),this.groups.extraSeriesArea=[],this.groups.extraNode=[],Em.check("series-area",t)&&(this.pickedNode=t.context.pickedNode,this.groups.extraSeriesArea=this.extraSeriesAreaActions.map(({label:r,action:l})=>({type:"series-area",label:r,action:l})),this.pickedNode&&(this.groups.extraNode=this.extraNodeActions.map(({label:r,action:l})=>({type:"node",label:r,action:l})))),this.groups.extraLegendItem=[],Em.check("legend",t)&&(this.pickedLegendItem=t.context.legendItem,this.pickedLegendItem&&(this.groups.extraLegendItem=this.extraLegendItemActions.map(({label:r,action:l})=>({type:"legend",label:r,action:l}))));const{default:e,extra:i,extraSeriesArea:n,extraNode:s,extraLegendItem:a}=this.groups;[e,i,n,s,a].reduce((r,l)=>l.length+r,0)!==0&&this.show(t.sourceEvent)}show(t){var s;this.interactionManager.pushState(_.InteractionState.ContextMenu),this.element.classList.toggle(AS,this.darkTheme);const e=this.renderMenu();(s=this.menuCloser)==null||s.close(),this.menuElement?this.element.replaceChild(e,this.menuElement):this.element.appendChild(e),this.menuElement=e,this.element.style.display="block";const i=t.pointerType==="touch"?!1:void 0,n=rbt(e,HTMLButtonElement);this.menuCloser=abt({menu:e,buttons:n,orientation:"vertical",sourceEvent:t,overrideFocusVisible:i,autoCloseOnBlur:!0,closeCallback:()=>this.doClose()}),t.pointerType==="touch"&&this.ctx.chartService.overrideFocusVisible(!1)}hide(){var t;(t=this.menuCloser)==null||t.close()}doClose(){this.interactionManager.popState(_.InteractionState.ContextMenu),this.menuElement&&(this.element.removeChild(this.menuElement),this.menuElement=void 0,this.menuCloser=void 0),this.element.style.display="none"}renderMenu(){const t=ek("div");return t.classList.add(`${MS}__menu`),t.classList.toggle(AS,this.darkTheme),t.role="menu",this.appendMenuGroup(t,this.groups.default,!1),this.appendMenuGroup(t,this.groups.extra),this.appendMenuGroup(t,this.groups.extraSeriesArea),this.pickedNode&&this.appendMenuGroup(t,this.groups.extraNode),this.pickedLegendItem&&this.appendMenuGroup(t,this.groups.extraLegendItem),t}appendMenuGroup(t,e,i=!0){e.length!==0&&(i&&t.appendChild(this.createDividerElement()),e.forEach(n=>{const s=this.renderItem(n);s&&t.appendChild(s)}))}renderItem(t){if(t&&typeof t=="object"&&t.constructor===Object)return this.createActionElement(t)}createDividerElement(){const t=ek("div");return t.classList.add(`${MS}__divider`),t.classList.toggle(AS,this.darkTheme),t.role="separator",t}createActionElement({id:t,label:e,type:i,action:n}){const s=!!(t&&this.registry.isDisabled(t));return this.createButtonElement(i,e,n,s)}createButtonOnClick(t,e){return Em.checkCallback("legend",t,e)?i=>{if(this.pickedLegendItem){const{seriesId:n,itemId:s}=this.pickedLegendItem;e({type:"contextmenu",seriesId:n,itemId:s,event:i}),this.hide()}}:Em.checkCallback("series-area",t,e)?()=>{e({type:"seriesContextMenuAction",event:this.showEvent}),this.hide()}:Em.checkCallback("node",t,e)?()=>{const{pickedNode:i,showEvent:n}=this,s=i==null?void 0:i.series.createNodeContextMenuActionEvent(n,i);s?e(s):Me.error("series node not found"),this.hide()}:()=>{e({type:"contextMenuEvent",event:this.showEvent}),this.hide()}}createButtonElement(t,e,i,n){const s=ek("button");return s.classList.add(`${MS}__item`),s.classList.toggle(AS,this.darkTheme),s.ariaDisabled=n.toString(),s.textContent=this.ctx.localeManager.t(e),s.role="menuitem",s.onclick=obt(s,this.createButtonOnClick(t,i)),s.addEventListener("mouseover",()=>s.focus({preventScroll:!0})),s}reposition(){let{x:t,y:e}=this;this.element.style.top="unset",this.element.style.bottom="unset";const i=this.ctx.domManager.getBoundingClientRect(),{offsetWidth:n,offsetHeight:s}=this.element;t=_.clamp(0,t,i.width-n),e=_.clamp(0,e,i.height-s),this.element.style.left=`${t}px`,this.element.style.top=`calc(${e}px - 0.5em)`}destroy(){var t;super.destroy(),(t=this.mutationObserver)==null||t.disconnect(),this.ctx.domManager.removeStyles(ik),this.ctx.domManager.removeChild("canvas-overlay",ik)}};A([E6(N6)],wO.prototype,"enabled");A([E6(N6)],wO.prototype,"darkTheme");var lbt={type:"root",packageType:"enterprise",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],optionsKey:"contextMenu",moduleFactory:t=>new wO(t),themeTemplate:{contextMenu:{enabled:!0,darkTheme:_.ThemeSymbols.IS_DARK_THEME}}},{BaseProperties:cbt,BOOLEAN:w6,FUNCTION:O6,NUMBER:UD,STRING:R6,Validate:Cl,createId:ubt,setAttribute:hbt}=_,dbt="ag-charts-crosshair-label",qg=class extends _.ChangeDetectableProperties{constructor(){super(...arguments),this.enabled=!0,this.xOffset=0,this.yOffset=0,this.format=void 0,this.renderer=void 0}};A([Cl(w6)],qg.prototype,"enabled");A([Cl(UD)],qg.prototype,"xOffset");A([Cl(UD)],qg.prototype,"yOffset");A([Cl(R6,{optional:!0})],qg.prototype,"format");A([Cl(O6,{optional:!0})],qg.prototype,"renderer");var Qg=class extends cbt{constructor(t,e,i){super(),this.domManager=t,this.id=ubt(this),this.enabled=!0,this.xOffset=0,this.yOffset=0,this.renderer=void 0,this.element=t.addChild("canvas-overlay",`crosshair-label-${this.id}`),this.element.classList.add(dbt),hbt(this.element,"aria-hidden",!0),this.element.setAttribute("data-key",e),this.element.setAttribute("data-axis-id",i)}show(t){const{element:e}=this,i=t.x+this.xOffset,n=t.y+this.yOffset;e.style.top=`${Math.round(n)}px`,e.style.left=`${Math.round(i)}px`,this.toggle(!0)}setLabelHtml(t){t!==void 0&&(this.element.innerHTML=t)}getBBox(){const{element:t}=this;return new _.BBox(t.clientLeft,t.clientTop,t.clientWidth,t.clientHeight)}toggle(t){this.element.classList.toggle("ag-charts-crosshair-label--hidden",!t)}destroy(){this.domManager.removeChild("canvas-overlay",`crosshair-label-${this.id}`)}toLabelHtml(t,e){if(typeof t=="string")return t;e=e??{};const{text:i=e.text??"",color:n=e.color,backgroundColor:s=e.backgroundColor,opacity:a=e.opacity??1}=t;return`<div class="ag-charts-crosshair-label-content" style="${`opacity: ${a}; background-color: ${s==null?void 0:s.toLowerCase()}; color: ${n}`}">
                    <span>${i}</span>
                </div>`}};A([Cl(w6)],Qg.prototype,"enabled");A([Cl(UD)],Qg.prototype,"xOffset");A([Cl(UD)],Qg.prototype,"yOffset");A([Cl(R6,{optional:!0})],Qg.prototype,"format");A([Cl(O6,{optional:!0})],Qg.prototype,"renderer");var{Group:pbt,TranslatableGroup:fbt,Line:$F,BBox:KF,createId:gbt,POSITIVE_NUMBER:P6,RATIO:ybt,BOOLEAN:B6,COLOR_STRING:mbt,LINE_DASH:xbt,OBJECT:bbt,InteractionState:DS,Validate:Th,ZIndexMap:XF,formatNumber:vbt,isInteger:Sbt,ChartAxisDirection:ZF}=_,$c=class extends _.BaseModuleInstance{constructor(t){super(),this.ctx=t,this.id=gbt(this),this.enabled=!1,this.stroke="rgb(195, 195, 195)",this.lineDash=[6,3],this.lineDashOffset=0,this.strokeWidth=1,this.strokeOpacity=1,this.snap=!0,this.label=new qg,this.seriesRect=new KF(0,0,0,0),this.bounds=new KF(0,0,0,0),this.crosshairGroup=new fbt({name:"crosshairs",zIndex:XF.SERIES_CROSSHAIR}),this.lineGroup=this.crosshairGroup.appendChild(new pbt({name:`${this.id}-crosshair-lines`,zIndex:XF.SERIES_CROSSHAIR})),this.lineGroupSelection=_.Selection.select(this.lineGroup,$F,!1),this.activeHighlight=void 0,this.axisCtx=t.parent,this.labels={},this.hideCrosshairs(),t.domManager.addEventListener("focusin",({target:e})=>{const i=e instanceof HTMLElement&&t.domManager.contains(e,"series-area");this.crosshairGroup.visible&&!i&&(this.hideCrosshairs(),this.ctx.updateService.update(_.ChartUpdateType.PERFORM_LAYOUT))}),this.destroyFns.push(t.scene.attachNode(this.crosshairGroup),t.widgets.seriesWidget.addListener("mousemove",e=>this.onMouseHoverLike(e)),t.widgets.seriesWidget.addListener("drag-move",e=>this.onMouseHoverLike(e)),t.widgets.seriesWidget.addListener("mouseleave",()=>this.onMouseOut()),t.widgets.seriesDragInterpreter.addListener("click",e=>this.onClick(e)),t.chartEventManager.addListener("series-focus-change",()=>this.onKeyPress()),t.zoomManager.addListener("zoom-pan-start",()=>this.onMouseOut()),t.zoomManager.addListener("zoom-change",()=>this.onMouseOut()),t.highlightManager.addListener("highlight-change",e=>this.onHighlightChange(e)),t.layoutManager.addListener("layout:complete",e=>this.layout(e)),()=>Object.entries(this.labels).forEach(([e,i])=>i.destroy()))}layout({series:{rect:t,visible:e},axes:i}){if(!e||!i||!this.enabled)return;this.seriesRect=t;const{position:n="left",axisId:s}=this.axisCtx,a=i.find(c=>c.id===s);if(!a)return;this.axisLayout=a,this.bounds=t.clone().grow(a.gridPadding+a.seriesAreaPadding,n);const{crosshairGroup:o,bounds:r}=this;o.translationX=Math.round(r.x),o.translationY=Math.round(r.y);const l=["pointer",...this.axisCtx.seriesKeyProperties()];this.updateSelections(l),this.updateLines(),this.updateLabels(l)}updateSelections(t){this.lineGroupSelection.update(t,e=>e.append(new $F),e=>e)}updateLabels(t){const{labels:e,ctx:i}=this;for(const n of t)this.label.enabled&&(e[n]??(e[n]=new Qg(i.domManager,n,this.axisCtx.axisId))),e[n]&&this.updateLabel(e[n]);this.labelFormatter=this.axisCtx.scaleValueFormatter(this.label.format)}updateLabel(t){const{enabled:e,xOffset:i,yOffset:n,format:s,renderer:a}=this.label;t.enabled=e,t.xOffset=i,t.yOffset=n,t.format=s,t.renderer=a}updateLines(){const{lineGroupSelection:t,bounds:e,stroke:i,strokeWidth:n,strokeOpacity:s,lineDash:a,lineDashOffset:o,axisLayout:r}=this;if(!r)return;const l=this.isVertical();t.each(c=>{c.stroke=i,c.strokeWidth=n,c.strokeOpacity=s,c.lineDash=a,c.lineDashOffset=o,c.y1=0,c.y2=l?e.height:0,c.x1=0,c.x2=l?0:e.width})}isVertical(){return this.axisCtx.direction===ZF.X}isHover(t){return t.type==="mousemove"||t.type==="click"||t.device==="touch"&&this.ctx.chartService.touch.dragAction==="hover"}formatValue(t){const{labelFormatter:e,axisLayout:i,ctx:{callbackCache:n}}=this;if(e){const s=n.call(e,t);if(s!=null)return s}if(typeof t=="number"){const s=((i==null?void 0:i.label.fractionDigits)??0)+(Sbt(t)?0:1);return vbt(t,s)}return String(t??"")}onClick(t){t.device==="touch"&&this.onMouseHoverLike(t)}onMouseHoverLike(t){if(!this.enabled||this.snap)return;const e=this.isHover(t)?DS.Clickable:DS.AnnotationsMoveable;this.ctx.interactionManager.isState(e)&&(this.updatePositions(this.getData(t)),this.crosshairGroup.visible=!0,this.ctx.updateService.update(_.ChartUpdateType.SCENE_RENDER))}onMouseOut(){this.ctx.interactionManager.isState(DS.Clickable)&&(this.hideCrosshairs(),this.ctx.updateService.update(_.ChartUpdateType.SCENE_RENDER))}onKeyPress(){this.enabled&&!this.snap&&this.ctx.interactionManager.isState(DS.Default)&&this.hideCrosshairs()}onHighlightChange(t){var o,r;if(!this.enabled)return;const{crosshairGroup:e,axisCtx:i}=this,{datum:n,series:s}=t.currentHighlight??{},a=n&&(((o=s==null?void 0:s.axes.x)==null?void 0:o.id)===i.axisId||((r=s==null?void 0:s.axes.y)==null?void 0:r.id)===i.axisId);if(this.activeHighlight=a?t.currentHighlight:void 0,!this.activeHighlight)this.hideCrosshairs();else if(this.snap){const l=this.getActiveHighlightData(this.activeHighlight);this.updatePositions(l),e.visible=!0}}isInRange(t){return this.axisCtx.inRange(t)}updatePositions(t){const{seriesRect:e,lineGroupSelection:i}=this;i.each((n,s)=>{const a=t[s];if(!a){n.visible=!1,this.hideLabel(s);return}n.visible=!0;const{value:o,position:r}=a;let l=0,c=0;this.isVertical()?(l=r,n.x=Math.round(l)):(c=r,n.y=Math.round(c)),this.label.enabled?this.showLabel(l+e.x,c+e.y,o,s):this.hideLabel(s)})}getData(t){const{axisCtx:e}=this,i="pointer",{datum:n,xKey:s="",yKey:a=""}=this.activeHighlight??{},{currentX:o,currentY:r}=t,l=this.isVertical(),c=l?o:r;let h=(n==null?void 0:n[l?s:a])??"";return e.continuous&&(h=e.scaleInvert(c)),{[i]:{position:c,value:h}}}getActiveHighlightData(t){var b;const{axisCtx:e}=this,{datum:i,series:n,xKey:s="",aggregatedValue:a,cumulativeValue:o,midPoint:r}=t,l=n.getKeyProperties(e.direction),c=(e.scale.bandwidth??0)/2,h=((b=n.axes[e.direction])==null?void 0:b.id)===e.axisId,p=l.indexOf("yKey")>-1&&h,f=l.indexOf("xKey")>-1&&h,y=a??o;if(p&&y!==void 0){const S=e.scale.convert(y)+c;return this.isInRange(S)?{yKey:{value:y,position:S}}:{}}if(f){const S=(this.isVertical()?r==null?void 0:r.x:r==null?void 0:r.y)??0,v=e.continuous?e.scaleInvert(S):i[s];return this.isInRange(S)?{xKey:{value:v,position:S}}:{}}const m={};return l.forEach(S=>{const v=n.properties[S],D=i[v],I=e.scale.convert(D)+c;this.isInRange(I)&&(m[S]={value:D,position:I})}),m}getLabelHtml(t,e){var s,a;const i=((a=(s=this.axisLayout)==null?void 0:s.label)==null?void 0:a.fractionDigits)??0,n={text:this.formatValue(t)};return this.label.renderer?e.toLabelHtml(this.label.renderer({value:t,fractionDigits:i}),n):e.toLabelHtml(n)}showLabel(t,e,i,n){if(!this.axisLayout)return;const{bounds:s}=this,a=this.labels[n],o=this.getLabelHtml(i,a);a.setLabelHtml(o);const{width:r,height:l}=a.getBBox(),c=this.axisCtx.position;let h=this.axisLayout.label.spacing+this.axisLayout.tickSize;this.axisCtx.direction===ZF.X?(h-=4,a.show({x:t-r/2,y:c==="bottom"?s.y+s.height+h:s.y-l-h})):(h-=8,a.show({x:c==="right"?s.x+s.width+h:s.x-r-h,y:e-l/2}))}hideCrosshairs(){this.crosshairGroup.visible=!1;for(const t of Object.keys(this.labels))this.hideLabel(t)}hideLabel(t){var e;(e=this.labels[t])==null||e.toggle(!1)}};A([Th(B6)],$c.prototype,"enabled");A([Th(mbt,{optional:!0})],$c.prototype,"stroke");A([Th(xbt,{optional:!0})],$c.prototype,"lineDash");A([Th(P6)],$c.prototype,"lineDashOffset");A([Th(P6)],$c.prototype,"strokeWidth");A([Th(ybt)],$c.prototype,"strokeOpacity");A([Th(B6)],$c.prototype,"snap");A([Th(bbt)],$c.prototype,"label");var Mbt={type:"axis-option",optionsKey:"crosshair",packageType:"enterprise",chartTypes:["cartesian"],axisTypes:["category","ordinal-time","number","log","time"],moduleFactory:t=>new $c(t),themeTemplate:{crosshair:{snap:!0,stroke:{$ref:"subtleTextColor"},strokeWidth:1,strokeOpacity:1,lineDash:[5,6],lineDashOffset:0,label:{enabled:!0}}}},{BOOLEAN:Abt,FUNCTION:Dbt,ActionOnSet:Xb,Validate:z6}=_,Jg=class extends _.BaseModuleInstance{constructor(t){super(),this.enabled=!1,this.getData=()=>Promise.resolve(),this.dataService=t.dataService}updateCallback(t,e){this.dataService&&(t&&e!=null?this.dataService.updateCallback(e):this.dataService.clearCallback())}};A([Xb({newValue(t){this.updateCallback(t,this.getData)}}),z6(Abt)],Jg.prototype,"enabled");A([Xb({newValue(t){this.updateCallback(this.enabled,t)}}),z6(Dbt)],Jg.prototype,"getData");A([Xb({newValue(t){this.dataService.requestThrottle=t}})],Jg.prototype,"requestThrottle");A([Xb({newValue(t){this.dataService.dispatchThrottle=t}})],Jg.prototype,"updateThrottle");A([Xb({newValue(t){this.dataService.dispatchOnlyLatest=!t}})],Jg.prototype,"updateDuringInteraction");var Ibt={type:"root",optionsKey:"dataSource",packageType:"enterprise",chartTypes:["cartesian","hierarchy","polar","topology","flow-proportion","standalone","gauge"],moduleFactory:t=>new Jg(t),themeTemplate:{dataSource:{enabled:!1}}},{nearestSquaredInContainer:Tbt,partialAssign:Cbt,mergeDefaults:qF,BBox:lc}=_,kbt=class{constructor(t){this.components=t,this.union=lc.merge(t)}containsPoint(t,e){if(!this.union.containsPoint(t,e))return!1;for(const i of this.components)if(i.containsPoint(t,e))return!0;return!1}},Lbt=class extends _.Group{constructor(){super(),this.capLength=NaN,this._datum=void 0,this.whiskerPath=new _.Path,this.capsPath=new _.Path,this.bboxes=new kbt([]),this.append([this.whiskerPath,this.capsPath])}get datum(){return this._datum}set datum(t){this._datum=t}calculateCapLength(t,e){const{lengthRatio:i=1,length:n}=t,{lengthRatioMultiplier:s,lengthMax:a}=e,o=n??i*s;return Math.min(o,a)}getItemStylerParams(t,e,i){const{datum:n}=this;if(n==null||t.itemStyler==null)return;const{xLowerKey:s,xUpperKey:a,yLowerKey:o,yUpperKey:r}=t;return{...e,datum:n.datum,seriesId:n.datum.seriesId,xKey:n.xKey,yKey:n.yKey,xLowerKey:s,xUpperKey:a,yLowerKey:o,yUpperKey:r,highlighted:i}}formatStyles(t,e,i){let{cap:n,...s}=t;const a=this.getItemStylerParams(e,t,i);if(a!=null&&e.itemStyler!=null){const o=e.itemStyler(a);s=qF(o,s),n=qF(o==null?void 0:o.cap,o,n)}return{whiskerStyle:s,capsStyle:n}}applyStyling(t,e){Cbt(["visible","stroke","strokeWidth","strokeOpacity","lineDash","lineDashOffset"],t,e)}update(t,e,i){if(this.datum===void 0)return;const{whiskerStyle:n,capsStyle:s}=this.formatStyles(t,e,i),{xBar:a,yBar:o,capDefaults:r}=this.datum,l=this.whiskerPath;this.applyStyling(l,n),l.path.clear(!0),o!==void 0&&(l.path.moveTo(o.lowerPoint.x,o.lowerPoint.y),l.path.lineTo(o.upperPoint.x,o.upperPoint.y)),a!==void 0&&(l.path.moveTo(a.lowerPoint.x,a.lowerPoint.y),l.path.lineTo(a.upperPoint.x,a.upperPoint.y)),l.path.closePath(),this.capLength=this.calculateCapLength(s??{},r);const c=this.capLength/2,h=this.capsPath;this.applyStyling(h,s),h.path.clear(!0),o!==void 0&&(h.path.moveTo(o.lowerPoint.x-c,o.lowerPoint.y),h.path.lineTo(o.lowerPoint.x+c,o.lowerPoint.y),h.path.moveTo(o.upperPoint.x-c,o.upperPoint.y),h.path.lineTo(o.upperPoint.x+c,o.upperPoint.y)),a!==void 0&&(h.path.moveTo(a.lowerPoint.x,a.lowerPoint.y-c),h.path.lineTo(a.lowerPoint.x,a.lowerPoint.y+c),h.path.moveTo(a.upperPoint.x,a.upperPoint.y-c),h.path.lineTo(a.upperPoint.x,a.upperPoint.y+c)),h.path.closePath()}updateBBoxes(){const{capLength:t,whiskerPath:e,capsPath:i}=this,{yBar:n,xBar:s}=this.datum??{},a=t/2,o=[];if(n!==void 0){const r=n.lowerPoint.y-n.upperPoint.y;o.push(new lc(n.lowerPoint.x,n.upperPoint.y,e.strokeWidth,r),new lc(n.lowerPoint.x-a,n.lowerPoint.y,t,i.strokeWidth),new lc(n.upperPoint.x-a,n.upperPoint.y,t,i.strokeWidth))}if(s!==void 0){const r=s.upperPoint.x-s.lowerPoint.x;o.push(new lc(s.lowerPoint.x,s.upperPoint.y,r,e.strokeWidth),new lc(s.lowerPoint.x,s.lowerPoint.y-a,i.strokeWidth,t),new lc(s.upperPoint.x,s.upperPoint.y-a,i.strokeWidth,t))}this.bboxes.components=o,this.bboxes.union=lc.merge(o)}containsPoint(t,e){return this.bboxes.containsPoint(t,e)}pickNode(t,e){return this.containsPoint(t,e)?this:void 0}nearestSquared(t,e,i){const{bboxes:n}=this;if(n.union.distanceSquared(t,e)>i)return{nearest:void 0,distanceSquared:1/0};const{distanceSquared:s}=lc.nearestBox(t,e,n.components);return{nearest:this,distanceSquared:s}}},Nbt=class extends _.Group{nearestSquared(t,e){const{nearest:i,distanceSquared:n}=Tbt(t,e,{children:this.children()});if(i!==void 0&&!isNaN(n))return{datum:i.datum,distanceSquared:n}}},{BaseProperties:_6,Validate:vi,BOOLEAN:j6,COLOR_STRING:F6,FUNCTION:Ebt,LINE_DASH:G6,NUMBER:wbt,OBJECT:Obt,POSITIVE_NUMBER:HD,RATIO:OO,STRING:Ch}=_,Kc=class extends _6{};A([vi(j6,{optional:!0})],Kc.prototype,"visible");A([vi(F6,{optional:!0})],Kc.prototype,"stroke");A([vi(HD,{optional:!0})],Kc.prototype,"strokeWidth");A([vi(OO,{optional:!0})],Kc.prototype,"strokeOpacity");A([vi(G6,{optional:!0})],Kc.prototype,"lineDash");A([vi(HD,{optional:!0})],Kc.prototype,"lineDashOffset");A([vi(wbt,{optional:!0})],Kc.prototype,"length");A([vi(OO,{optional:!0})],Kc.prototype,"lengthRatio");var ds=class extends _6{constructor(){super(...arguments),this.visible=!0,this.stroke="black",this.strokeWidth=1,this.strokeOpacity=1,this.cap=new Kc}};A([vi(Ch,{optional:!0})],ds.prototype,"yLowerKey");A([vi(Ch,{optional:!0})],ds.prototype,"yLowerName");A([vi(Ch,{optional:!0})],ds.prototype,"yUpperKey");A([vi(Ch,{optional:!0})],ds.prototype,"yUpperName");A([vi(Ch,{optional:!0})],ds.prototype,"xLowerKey");A([vi(Ch,{optional:!0})],ds.prototype,"xLowerName");A([vi(Ch,{optional:!0})],ds.prototype,"xUpperKey");A([vi(Ch,{optional:!0})],ds.prototype,"xUpperName");A([vi(j6,{optional:!0})],ds.prototype,"visible");A([vi(F6,{optional:!0})],ds.prototype,"stroke");A([vi(HD,{optional:!0})],ds.prototype,"strokeWidth");A([vi(OO,{optional:!0})],ds.prototype,"strokeOpacity");A([vi(G6,{optional:!0})],ds.prototype,"lineDash");A([vi(HD,{optional:!0})],ds.prototype,"lineDashOffset");A([vi(Ebt,{optional:!0})],ds.prototype,"itemStyler");A([vi(Obt)],ds.prototype,"cap");var{fixNumericExtent:Rbt,groupAccumulativeValueProperty:Pbt,mergeDefaults:Bbt,valueProperty:IS,ChartAxisDirection:nk}=_;function zbt(t){for(const e of NL)if(e===t.series.type)return t.series;throw new Error(`AG Charts - unsupported series type '${t.series.type}', error bars supported series types: ${NL.join(", ")}`)}var _bt=class Jm extends _.BaseModuleInstance{constructor(e){super(),this.properties=new ds;const i=zbt(e),{annotationGroup:n,annotationSelections:s}=i;this.cartesianSeries=i,this.groupNode=new Nbt({name:`${n.id}-errorBars`}),n.appendChild(this.groupNode),this.selection=_.Selection.select(this.groupNode,()=>this.errorBarFactory()),s.add(this.selection),i.addEventListener("seriesVisibilityChange",a=>this.onToggleSeriesItem(a)),this.destroyFns.push(i.addListener("data-processed",a=>this.onDataProcessed(a)),i.addListener("data-update",a=>this.onDataUpdate(a)),e.highlightManager.addListener("highlight-change",a=>this.onHighlightChange(a)),()=>n.removeChild(this.groupNode),()=>s.delete(this.selection))}hasErrorBars(){const{xLowerKey:e,xUpperKey:i,yLowerKey:n,yUpperKey:s}=this.properties;return as(e)&&as(i)||as(n)&&as(s)}isStacked(){var i;const e=(i=this.cartesianSeries.seriesGrouping)==null?void 0:i.stackCount;return e==null?!1:e>0}getUnstackPropertyDefinition(e){const i=[],{xLowerKey:n,xUpperKey:s,yLowerKey:a,yUpperKey:o,xErrorsID:r,yErrorsID:l}=this.getMaybeFlippedKeys(),{xScaleType:c,yScaleType:h}=e;return a!=null&&o!=null&&i.push(IS(a,h,{id:`${l}-lower`}),IS(o,h,{id:`${l}-upper`})),n!=null&&s!=null&&i.push(IS(n,c,{id:`${r}-lower`}),IS(s,c,{id:`${r}-upper`})),i}getStackPropertyDefinition(e){var S;const i=[],{cartesianSeries:n}=this,{xLowerKey:s,xUpperKey:a,yLowerKey:o,yUpperKey:r,xErrorsID:l,yErrorsID:c}=this.getMaybeFlippedKeys(),{xScaleType:h,yScaleType:p}=e,f=((S=n.seriesGrouping)==null?void 0:S.groupIndex)??n.id,y={invalidValue:null,missingValue:0,separateNegative:!0,...n.visible?{}:{forceValue:0}},m=(v,D,I,T)=>Pbt(v,"normal","current",{id:`${D}-${I}`,groupId:`errorGroup-${f}-${I}`,...y},T),b=(v,D,I,T)=>{i.push(...m(v,I,"lower",T),...m(D,I,"upper",T))};return o!=null&&r!=null&&b(o,r,c,p),s!=null&&a!=null&&b(s,a,l,h),i}getPropertyDefinitions(e){return this.isStacked()?this.getStackPropertyDefinition(e):this.getUnstackPropertyDefinition(e)}onDataProcessed(e){this.dataModel=e.dataModel,this.processedData=e.processedData}getDomain(e){const{xLowerKey:i,xUpperKey:n,xErrorsID:s,yLowerKey:a,yUpperKey:o,yErrorsID:r}=this.getMaybeFlippedKeys();if(e===nk.X?as(i)&&as(n):as(a)&&as(o)){const{dataModel:c,processedData:h,cartesianSeries:p}=this;if(c!=null&&h!=null){const f={x:s,y:r}[e],y=c.getDomain(p,`${f}-lower`,"value",h),m=c.getDomain(p,`${f}-upper`,"value",h),b=[Math.min(...y,...m),Math.max(...y,...m)];return Rbt(b)}}return[]}onDataUpdate(e){this.dataModel=e.dataModel,this.processedData=e.processedData,as(e.dataModel)&&as(e.processedData)&&(this.createNodeData(),this.update())}getNodeData(){var e;return this.hasErrorBars()?(e=this.cartesianSeries.contextNodeData)==null?void 0:e.nodeData:void 0}createNodeData(){var s,a;const e=this.getNodeData(),i=(s=this.cartesianSeries.axes[nk.X])==null?void 0:s.scale,n=(a=this.cartesianSeries.axes[nk.Y])==null?void 0:a.scale;if(!(!i||!n||!e))for(let o=0;o<e.length;o++){const{midPoint:r,xLower:l,xUpper:c,yLower:h,yUpper:p}=this.getDatum(e,o);if(r!=null){let f,y;as(l)&&as(c)&&(f={lowerPoint:{x:this.convert(i,l),y:r.y},upperPoint:{x:this.convert(i,c),y:r.y}}),as(h)&&as(p)&&(y={lowerPoint:{x:r.x,y:this.convert(n,h)},upperPoint:{x:r.x,y:this.convert(n,p)}}),e[o].xBar=f,e[o].yBar=y}}}getMaybeFlippedKeys(){let{xLowerKey:e,xUpperKey:i,yLowerKey:n,yUpperKey:s}=this.properties,[a,o]=["xValue-errors","yValue-errors"];return this.cartesianSeries.shouldFlipXY()&&([e,n]=[n,e],[i,s]=[s,i],[a,o]=[o,a]),{xLowerKey:e,xUpperKey:i,xErrorsID:a,yLowerKey:n,yUpperKey:s,yErrorsID:o}}static getDatumKey(e,i,n){if(i==null)return;const s=e.datum[i];if(s!=null){if(typeof s!="number"){Me.warnOnce(`Found [${i}] error value of type ${typeof s}. Expected number type`);return}return s+n}}getDatum(e,i){const{xLowerKey:n,xUpperKey:s,yLowerKey:a,yUpperKey:o}=this.getMaybeFlippedKeys(),r=e[i],l=r.cumulativeValue==null||!this.isStacked()?0:r.cumulativeValue-r.yValue,[c,h]=this.cartesianSeries.shouldFlipXY()?[l,0]:[0,l];return{midPoint:r.midPoint,xLower:Jm.getDatumKey(r,n,c),xUpper:Jm.getDatumKey(r,s,c),yLower:Jm.getDatumKey(r,a,h),yUpper:Jm.getDatumKey(r,o,h)}}convert(e,i){const n=(e.bandwidth??0)/2;return e.convert(i)+n}update(){const e=this.getNodeData();e!=null&&(this.selection.update(e),this.selection.each((i,n,s)=>this.updateNode(i,n,s)))}updateNode(e,i,n){e.datum=i,e.update(this.getDefaultStyle(),this.properties,!1),e.updateBBoxes()}pickNodeExact(e){const{x:i,y:n}=e,s=this.groupNode.pickNode(i,n);if(s!=null)return{datum:s.datum,distanceSquared:0}}pickNodeNearest(e){return this.groupNode.nearestSquared(e.x,e.y)}pickNodeMainAxisFirst(e){return this.groupNode.nearestSquared(e.x,e.y)}getTooltipParams(){const{xLowerKey:e,xUpperKey:i,yLowerKey:n,yUpperKey:s,xLowerName:a=e,xUpperName:o=i,yLowerName:r=n,yUpperName:l=s}=this.properties;return{xLowerKey:e,xLowerName:a,xUpperKey:i,xUpperName:o,yLowerKey:n,yLowerName:r,yUpperKey:s,yUpperName:l}}onToggleSeriesItem(e){this.groupNode.visible=e.visible}makeStyle(e){return{visible:e.visible,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,stroke:e.stroke,strokeWidth:e.strokeWidth,strokeOpacity:e.strokeOpacity,cap:Bbt(this.properties.cap,e)}}getDefaultStyle(){return this.makeStyle(this.getWhiskerProperties())}getHighlightStyle(){return this.makeStyle(this.getWhiskerProperties())}restyleHighlightChange(e,i,n){var a;const s=this.getNodeData();if(s!=null){for(let o=0;o<s.length;o++)if(e===s[o]){(a=this.selection.at(o))==null||a.update(i,this.properties,n);break}}}onHighlightChange(e){const{previousHighlight:i,currentHighlight:n}=e;(n==null?void 0:n.series)===this.cartesianSeries&&this.restyleHighlightChange(n,this.getHighlightStyle(),!0),(i==null?void 0:i.series)===this.cartesianSeries&&this.restyleHighlightChange(i,this.getDefaultStyle(),!1),this.groupNode.opacity=this.cartesianSeries.getOpacity()}errorBarFactory(){return new Lbt}getWhiskerProperties(){const{stroke:e,strokeWidth:i,visible:n,strokeOpacity:s,lineDash:a,lineDashOffset:o}=this.properties;return{stroke:e,strokeWidth:i,visible:n,strokeOpacity:s,lineDash:a,lineDashOffset:o}}},jbt={series:{errorBar:{visible:!0,stroke:{$ref:"foregroundColor"},strokeWidth:1,strokeOpacity:1,cap:{length:void 0,lengthRatio:void 0}}}},Fbt={type:"series-option",identifier:"error-bars",optionsKey:"errorBar",packageType:"enterprise",chartTypes:["cartesian"],seriesTypes:NL,moduleFactory:t=>new _bt(t),themeTemplate:jbt},{ZIndexMap:Gbt,ActionOnSet:Vbt,Validate:RO,ProxyPropertyOnWrite:V6,OBJECT:Ubt,RATIO:Hbt,COLOR_STRING:Wbt}=_,WD=class extends _.Background{constructor(){super(...arguments),this.image=new Tl,this.fill="transparent",this.fillOpacity=void 0}createNode(){return new _.Group({name:"foreground",zIndex:Gbt.FOREGROUND})}onLayoutComplete(t){super.onLayoutComplete(t);const{width:e,height:i}=t.chart;let n={x:0,y:0,width:e,height:i};this.image&&(n=this.image.performLayout(e,i)),this.text&&this.updateTextNode(n)}onImageLoad(){this.ctx.updateService.update(_.ChartUpdateType.SCENE_RENDER)}updateTextNode(t){const{textNode:e}=this;e.fontWeight="bold",e.fontFamily="Impact, sans-serif",e.fontSize=19,e.opacity=.7,e.fill="#9b9b9b",e.textBaseline="top";const i=this.textNode.getBBox(),n=10;e.x=t.x+t.width/2-i.width/2,e.y=t.y+t.height+n}};A([RO(Ubt,{optional:!0}),Vbt({newValue(t){this.node.appendChild(t.node),t.onLoad=()=>this.onImageLoad()},oldValue(t){this.node.removeChild(t.node),t.onLoad=void 0}})],WD.prototype,"image");A([RO(Wbt,{optional:!0}),V6("rectNode","fill")],WD.prototype,"fill");A([RO(Hbt,{optional:!0}),V6("rectNode","fillOpacity")],WD.prototype,"fillOpacity");var Ybt={type:"root",optionsKey:"foreground",packageType:"enterprise",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],moduleFactory:t=>new WD(t)},{TranslatableGroup:$bt,ScenePathChangeDetection:U6}=_,PO=class extends $bt{constructor(){super(...arguments),this.inset=0,this.cornerRadius=0}applyClip(t,e){const{cornerRadius:i,inset:n}=this,{x:s,y:a,width:o,height:r}=e;t.beginPath(),t.roundRect(s+n,a+n,o-2*n,r-2*n,i),t.clip()}};A([U6()],PO.prototype,"inset");A([U6()],PO.prototype,"cornerRadius");var{Validate:BO,BOOLEAN:Kbt,POSITIVE_NUMBER:H6,ZIndexMap:vd,ActionOnSet:W6,CategoryAxis:Xbt,TextUtils:Zbt,Padding:qbt,Group:Sd,BBox:QF,ProxyProperty:Y6}=_,zO=class{constructor(){this.top=0,this.bottom=0}};A([BO(H6)],zO.prototype,"top");A([BO(H6)],zO.prototype,"bottom");var ty=class extends _.BaseModuleInstance{constructor(t){super(),this.ctx=t,this.enabled=!1,this.padding=new zO,this.root=new Sd({name:"root"}),this.seriesRoot=this.root.appendChild(new PO({name:"Series-root",zIndex:vd.SERIES_LAYER,renderToOffscreenCanvas:!0})),this.axisGridGroup=this.root.appendChild(new Sd({name:"Axes-Grids",zIndex:vd.AXIS_GRID})),this.axisGroup=this.root.appendChild(new Sd({name:"Axes-Grids",zIndex:vd.AXIS_GRID})),this.axisLabelGroup=this.root.appendChild(new Sd({name:"Axes-Labels",zIndex:vd.SERIES_LABEL})),this.axisCrosslineRangeGroup=this.root.appendChild(new Sd({name:"Axes-Crosslines-Range",zIndex:vd.SERIES_CROSSLINE_RANGE})),this.axisCrosslineLineGroup=this.root.appendChild(new Sd({name:"Axes-Crosslines-Line",zIndex:vd.SERIES_CROSSLINE_LINE})),this.axisCrosslineLabelGroup=this.root.appendChild(new Sd({name:"Axes-Crosslines-Label",zIndex:vd.SERIES_LABEL})),this.data=[],this._destroyed=!1,this.miniChartAnimationPhase="initial",this.axes=[],this.series=[]}destroy(){this._destroyed||(this.destroySeries(this.series),this.axes.forEach(t=>t.destroy()),this.axes=[],this._destroyed=!0)}onSeriesChange(t,e){const i=(e==null?void 0:e.filter(n=>!t.includes(n)))??[];this.destroySeries(i);for(const n of t){if(e!=null&&e.includes(n))continue;n.attachSeries(this.seriesRoot,this.seriesRoot,void 0);const s=this;n.chart={get mode(){return"standalone"},get isMiniChart(){return!0},get seriesRect(){return s.seriesRect}},n.resetAnimation(this.miniChartAnimationPhase==="initial"?"initial":"disabled")}}destroySeries(t){t==null||t.forEach(e=>{e.destroy(),e.detachSeries(this.seriesRoot,this.seriesRoot,void 0),e.chart=void 0})}assignSeriesToAxes(){this.axes.forEach(t=>{t.boundSeries=this.series.filter(e=>e.axes[t.direction]===t)})}assignAxesToSeries(){const t={};this.axes.forEach(e=>{const i=e.direction;(t[i]??(t[i]=[])).push(e)}),this.series.forEach(e=>{e.directions.forEach(i=>{const n=t[i];if(!n){Me.warnOnce(`no available axis for direction [${i}]; check series and axes configuration.`);return}const s=e.getKeys(i),a=this.findMatchingAxis(n,s);if(!a){Me.warnOnce(`no matching axis for direction [${i}] and keys [${s}]; check series and axes configuration.`);return}e.axes[i]=a})})}findMatchingAxis(t,e){for(const i of t){if(!i.keys.length)return i;if(e){for(const n of e)if(i.keys.includes(n))return i}}}updateData(t){this.series.forEach(e=>e.setChartData(t)),this.miniChartAnimationPhase==="initial"&&this.ctx.animationManager.onBatchStop(()=>{this.miniChartAnimationPhase="ready",this.series.forEach(e=>e.resetAnimation("disabled"))})}async processData(t){this.series.some(e=>e.canHaveAxes)&&(this.assignAxesToSeries(),this.assignSeriesToAxes()),await Promise.all(this.series.map(e=>(e.resetDatumCallbackCache(),e.processData(t))));for(const e of this.axes)e.processData()}computeAxisPadding(){const t=new qbt;return this.enabled&&this.axes.forEach(({position:e,thickness:i,line:n,label:s})=>{if(e==null)return;let a;i?a=i:a=(n.enabled?n.width:0)+(s.enabled?Zbt.getLineHeight(s.fontSize??0)+s.spacing:0),t[e]=Math.ceil(a)}),t}async layout(t,e){const{padding:i}=this,n=this.seriesRect!=null,s=new QF(0,0,t,e-(i.top+i.bottom));this.seriesRect=s,this.seriesRoot.translationY=i.top,this.seriesRoot.setClipRectCanvasSpace(new QF(0,-i.top,t,e)),this.axes.forEach(a=>{const{position:o="left"}=a;switch(o){case"top":case"bottom":a.range=[0,s.width],a.gridLength=s.height;break;case"right":case"left":{const r=a instanceof Xbt;a.range=r?[0,s.height]:[s.height,0],a.gridLength=s.width;break}}a.gridPadding=0,a.translation.x=0,a.translation.y=0,o==="right"?a.translation.x=t:o==="bottom"&&(a.translation.y=e),n||a.resetAnimation("initial"),a.calculateLayout(),a.update()}),await Promise.all(this.series.map(a=>a.update({seriesRect:s})))}};A([BO(Kbt)],ty.prototype,"enabled");A([Y6(["seriesRoot","inset"])],ty.prototype,"inset");A([Y6(["seriesRoot","cornerRadius"])],ty.prototype,"cornerRadius");A([W6({changeValue(t,e=[]){const i={axisNode:this.axisGroup,gridNode:this.axisGridGroup,labelNode:this.axisLabelGroup,crossLineLineNode:this.axisCrosslineLineGroup,crossLineRangeNode:this.axisCrosslineRangeGroup,crossLineLabelNode:this.axisCrosslineLabelGroup};for(const n of e)t.includes(n)||(n.detachAxis(i),n.destroy());for(const n of t)e!=null&&e.includes(n)||n.attachAxis(i)}})],ty.prototype,"axes");A([W6({changeValue(t,e){this.onSeriesChange(t,e)}})],ty.prototype,"series");var{clamp:Qbt,SliderWidget:JF}=_,Jbt=class{constructor(t,e){this.ctx=t,this.sliderHandlers=e,this._min=0,this._max=1,this.minRange=.001,this.dragStartX=0,this.ctx=t,this.toolbar=t.proxyInteractionService.createProxyContainer({type:"toolbar",domManagerId:"navigator-toolbar",classList:["ag-charts-proxy-navigator-toolbar"],orientation:"vertical",ariaLabel:{id:"ariaLabelNavigator"}}),this.sliders=[t.proxyInteractionService.createProxyElement({type:"slider",domIndex:1,ariaLabel:{id:"ariaLabelNavigatorMinimum"},parent:this.toolbar,cursor:"ew-resize"}),t.proxyInteractionService.createProxyElement({type:"slider",domIndex:-1/0,ariaLabel:{id:"ariaLabelNavigatorRange"},parent:this.toolbar,cursor:"grab"}),t.proxyInteractionService.createProxyElement({type:"slider",domIndex:2,ariaLabel:{id:"ariaLabelNavigatorMaximum"},parent:this.toolbar,cursor:"ew-resize"})];for(const[i,n]of["min","pan","max"].entries()){const s=this.sliders[i];s.step=JF.STEP_HUNDRETH,s.keyboardStep=JF.STEP_ONE,s.orientation="horizontal",s.setPreventsDefault(!1),s.addListener("drag-start",a=>this.onDragStart(i,a,n)),s.addListener("drag-move",a=>this.onDrag(s,a,n)),s.addListener("drag-end",()=>this.updateSliderRatios()),s.addListener("contextmenu",a=>this.onContextMenu(s,a))}this.sliders[0].addListener("change",()=>this.onMinSliderChange()),this.sliders[1].addListener("change",()=>this.onPanSliderChange()),this.sliders[2].addListener("change",()=>this.onMaxSliderChange()),this.updateSliderRatios(),this.updateVisibility(!1)}destroy(){this.toolbar.destroy()}updateVisibility(t){this.toolbar.setHidden(!t)}updateZoom(){const{_min:t,_max:e}=this;if(!(t==null||e==null))return this.ctx.zoomManager.updateZoom("navigator",{x:{min:t,max:e}})}updateBounds(t){this.toolbar.setBounds(t)}updateSliderBounds(t,e){this.sliders[t].setBounds(e)}updateMinMax(t,e){this._min=t,this._max=e,this.updateSliderRatios()}updateSliderRatios(){const{_min:t,_max:e}=this,i=this.ctx.localeManager.t("ariaValuePanRange",{min:t,max:e});this.sliders[0].setValueRatio(t),this.sliders[1].setValueRatio(t,{ariaValueText:i}),this.sliders[2].setValueRatio(e)}toCanvasOffsets(t){return{offsetX:this.dragStartX+t.originDeltaX}}moveToFront(t){if(t===1)return;const e=this.sliders[t],i=this.sliders[2-t];this.toolbar.moveChild(i,e.domIndex-1)}onDragStart(t,e,i){const n=this.sliders[t],s=this.toolbar.cssLeft(),a=n.cssLeft();this.dragStartX=s+a+e.offsetX,this.moveToFront(t),e.device==="touch"&&e.sourceEvent.preventDefault(),this.sliderHandlers.onDragStart(i,this.toCanvasOffsets(e))}onDrag(t,e,i){e.device==="touch"&&e.sourceEvent.preventDefault(),this.sliderHandlers.onDrag(i,this.toCanvasOffsets(e))}onContextMenu(t,{sourceEvent:e,offsetX:i,offsetY:n}){const{x:s,y:a}=this.toolbar.getBounds(),{x:o,y:r}=t.getBounds(),l=i+s+o,c=n+a+r;this.ctx.contextMenuRegistry.dispatchContext("all",{sourceEvent:e,canvasX:l,canvasY:c},{})}onPanSliderChange(){const t=this.sliders[1].getValueRatio(),e=this._max-this._min;this._min=Qbt(0,t,1-e),this._max=this._min+e,this.updateZoom()}onMinSliderChange(){this._min=this.sliders[0].clampValueRatio(0,this._max-this.minRange),this.updateZoom()}onMaxSliderChange(){this._max=this.sliders[2].clampValueRatio(this._min+this.minRange,1),this.updateZoom()}},{Validate:YD,ScenePathChangeDetection:$D,POSITIVE_NUMBER:_O,BOOLEAN:tvt,BBox:evt,ExtendedPath2D:ivt}=_,nh=class extends _.Path{constructor(){super(...arguments),this.zIndex=3,this.centerX=0,this.centerY=0,this.width=8,this.height=16,this.cornerRadius=4,this.grip=!0,this.gripPath=new ivt}setCenter(t,e){this.dirtyPath=!0,(this.centerX!==t||this.centerY!==e)&&(this.centerX=t,this.centerY=e,this.markDirty())}static align(t,e,i,n,s,a,o,r,l){const c=t.align(i+s*o)+l,h=c+t.align(i+s*o,s*(r-o))-2*l,p=t.align(n+a/2);t.setCenter(c,p),e.setCenter(h,p)}computeBBox(){const{centerX:t,centerY:e,width:i,height:n}=this,s=t-i/2,a=e-n/2;return new evt(s,a,i,n)}isPointInPath(t,e){return this.getBBox().containsPoint(t,e)}updatePath(){var f,y;const{centerX:t,centerY:e,path:i,gripPath:n,strokeWidth:s,cornerRadius:a,grip:o}=this,r=s/2,l=((y=(f=this.layerManager)==null?void 0:f.canvas)==null?void 0:y.pixelRatio)??1;i.clear(),n.clear();const c=Math.floor(this.width/2*l)/l,h=Math.floor(this.height/2*l)/l;i.roundRect(t-c+r,e-h+r,2*(c-r),2*(h-r),a);const p=3;if(o)for(let m=-.5;m<=.5;m+=1)for(let b=-1;b<=1;b+=1)n.arc(t+m*p,e+b*p,1,0,2*Math.PI),n.closePath()}renderFill(t,e){const{stroke:i}=this;super.renderFill(t,e),t.fillStyle=typeof i=="string"?i:"black",t.fill(this.gripPath.getPath2D())}};nh.className="RangeHandle";A([YD(_O),$D()],nh.prototype,"width");A([YD(_O),$D()],nh.prototype,"height");A([YD(_O),$D()],nh.prototype,"cornerRadius");A([YD(tvt),$D()],nh.prototype,"grip");var{Path:nvt,BBox:wm,ExtendedPath2D:svt,clippedRoundRect:sk,POSITIVE_NUMBER:avt,Validate:ovt,ScenePathChangeDetection:rvt}=_,jO=class extends nvt{constructor(){super(...arguments),this.cornerRadius=4,this.zIndex=2,this.x=0,this.y=0,this.width=200,this.height=30,this.min=0,this.max=1,this.visiblePath=new svt}layout(t,e,i,n,s,a){s=isNaN(s)?this.min:s,a=isNaN(a)?this.max:a,(t!==this.x||e!==this.y||i!==this.width||this.height!==n||s!==this.min||a!==this.max)&&(this.x=t,this.y=e,this.width=i,this.height=n,this.min=s,this.max=a,this.dirtyPath=!0,this.markDirty())}computeBBox(){const{x:t,y:e,width:i,height:n}=this;return new wm(t,e,i,n)}computeVisibleRangeBBox(){const{x:t,y:e,width:i,height:n,min:s,max:a}=this,o=t+i*s,r=t+i*a;return new wm(o,e,r-o,n)}updatePath(){const{path:t,visiblePath:e,x:i,y:n,width:s,height:a,min:o,max:r,strokeWidth:l,cornerRadius:c}=this,h=l/2;t.clear(),e.clear();const p=this.align(i)+h,f=this.align(n)+h,y=this.align(i,s)-2*h,m=this.align(n,a)-2*h,b=this.align(i+s*o)+h,S=b+this.align(i+s*o,s*(r-o))-2*h,v={topLeft:c,topRight:c,bottomRight:c,bottomLeft:c};sk(t,p,f,y,m,v,new wm(p,f,b-p,m)),sk(t,p,f,y,m,v,new wm(S,f,y+p-S,m)),S-b>1&&sk(e,p,f,y,m,v,new wm(b,f,S-b,m))}renderStroke(t,e){super.renderStroke(t,e),super.renderStroke(t,this.visiblePath.getPath2D())}};jO.className="RangeMask";A([ovt(avt),rvt()],jO.prototype,"cornerRadius");var lvt=class extends _.Group{constructor(t){super({name:"rangeSelectorGroup",zIndex:_.ZIndexMap.NAVIGATOR}),this.x=0,this.y=0,this.width=200,this.height=30,this.lOffset=0,this.rOffset=0,this.background=this.appendChild(new _.TranslatableGroup({name:"navigator-background",zIndex:1})),this.append(t)}layout(t,e,i,n,s,a){this.x=t,this.y=e,this.width=i,this.height=n,this.lOffset=s,this.rOffset=a,this.background.translationX=t,this.background.translationY=e,this.markDirty()}updateBackground(t,e){t!=null&&this.background.removeChild(t),e!=null&&this.background.appendChild(e),this.markDirty()}computeBBox(){const{x:t,y:e,width:i,height:n,lOffset:s,rOffset:a}=this;return new _.BBox(t-s,e,i+(s+a),n)}},{clamp:ak,BaseModuleInstance:cvt,ObserveChanges:FO,Validate:KD,BOOLEAN:uvt,POSITIVE_NUMBER:GO}=_,ey=class extends cvt{constructor(t){super(),this.ctx=t,this.enabled=!1,this.mask=new jO,this.minHandle=new nh,this.maxHandle=new nh,this.maskVisibleRange={id:"navigator-mask-visible-range",getBBox:()=>this.mask.computeVisibleRangeBBox(),toCanvasBBox:()=>this.mask.computeVisibleRangeBBox(),fromCanvasPoint:(e,i)=>({x:e,y:i})},this.height=30,this.cornerRadius=0,this.spacing=10,this.x=0,this.y=0,this.width=0,this.rangeSelector=new lvt([this.mask,this.minHandle,this.maxHandle]),this.destroyFns.push(t.scene.attachNode(this.rangeSelector),this.ctx.localeManager.addListener("locale-changed",()=>this.updateZoom()),this.ctx.layoutManager.registerElement(_.LayoutElement.Navigator,e=>this.onLayoutStart(e)),this.ctx.layoutManager.addListener("layout:complete",e=>this.onLayoutComplete(e)),t.zoomManager.addListener("zoom-change",e=>this.onZoomChange(e))),this.domProxy=new Jbt(t,this),this.updateGroupVisibility(),this.miniChart=new ty(t)}updateBackground(t,e){var i;(i=this.rangeSelector)==null||i.updateBackground(t,e)}updateGroupVisibility(){const{enabled:t}=this;this.rangeSelector==null||t===this.rangeSelector.visible||(this.rangeSelector.visible=t,this.domProxy.updateVisibility(t),t?this.updateZoom():this.ctx.zoomManager.updateZoom("navigator"))}onLayoutStart(t){if(this.enabled){const{layoutBox:e}=t,i=this.height+this.spacing;e.shrink(i,"bottom"),this.y=e.y+e.height+this.spacing}else this.y=0;if(this.enabled&&this.miniChart){const{top:e,bottom:i}=this.miniChart.computeAxisPadding();t.layoutBox.shrink(e+i,"bottom"),this.y-=i,this.miniChart.inset=this.mask.strokeWidth/2,this.miniChart.cornerRadius=this.mask.cornerRadius}}onLayoutComplete(t){var a;const{x:e,width:i}=t.series.rect,{y:n,height:s}=this;if(this.domProxy.updateVisibility(this.enabled),this.enabled){const{_min:o,_max:r}=this.domProxy;this.layoutNodes(e,n,i,s,o,r),this.domProxy.updateBounds({x:e,y:n,width:i,height:s})}this.x=e,this.width=i,(a=this.miniChart)==null||a.layout(i,s).catch(o=>Me.error(o))}canDrag(){return this.enabled&&this.ctx.interactionManager.isState(_.InteractionState.ZoomDraggable)}onDragStart(t,{offsetX:e}){this.canDrag()&&(t==="pan"&&(this.panStart=(e-this.x)/this.width-this.domProxy._min),this.ctx.zoomManager.fireZoomPanStartEvent("navigator"))}onDrag(t,{offsetX:e}){if(!this.canDrag())return;const{panStart:i,x:n,width:s}=this,{minRange:a}=this.domProxy;let{_min:o,_max:r}=this.domProxy;const l=(e-n)/s;if(t==="min")o=ak(0,l,r-a);else if(t==="max")r=ak(o+a,l,1);else if(t==="pan"&&i!=null){const c=r-o;o=ak(0,l-i,1-c),r=o+c}this.domProxy._min=o,this.domProxy._max=r,this.updateZoom()}onZoomChange(t){const{x:e}=t;if(!e)return;const{x:i,y:n,width:s,height:a}=this,{min:o,max:r}=e;this.domProxy.updateMinMax(o,r),this.layoutNodes(i,n,s,a,o,r)}layoutNodes(t,e,i,n,s,a){const{rangeSelector:o,mask:r,minHandle:l,maxHandle:c}=this;r.layout(t,e,i,n,s,a),o.layout(t,e,i,n,l.width/2,c.width/2),nh.align(l,c,t,e,i,n,s,a,r.strokeWidth/2),s+(a-s)/2<.5?(l.zIndex=3,c.zIndex=4):(l.zIndex=4,c.zIndex=3),[l,this.maskVisibleRange,c].forEach((h,p)=>{const f=h.getBBox(),y={x:f.x-t,y:f.y-e,height:f.height,width:f.width};this.domProxy.updateSliderBounds(p,y)})}updateZoom(){this.enabled&&this.domProxy.updateZoom()}updateData(t){var e;return(e=this.miniChart)==null?void 0:e.updateData(t)}async processData(t){var e;if(this.miniChart)return(e=this.miniChart)==null?void 0:e.processData(t)}};A([FO((t,e,i)=>{t.updateBackground(i==null?void 0:i.root,e==null?void 0:e.root)})],ey.prototype,"miniChart");A([KD(uvt),FO((t,e)=>{t.ctx.zoomManager.setNavigatorEnabled(!!e),t.updateGroupVisibility()})],ey.prototype,"enabled");A([KD(GO)],ey.prototype,"height");A([KD(GO),FO((t,e)=>{t.mask.cornerRadius=e})],ey.prototype,"cornerRadius");A([KD(GO)],ey.prototype,"spacing");var hvt={type:"root",optionsKey:"navigator",packageType:"enterprise",chartTypes:["cartesian"],moduleFactory:t=>new ey(t),removable:!1,themeTemplate:{navigator:{enabled:!1,height:18,cornerRadius:4,mask:{fill:{$ref:"foregroundColor"},fillOpacity:.1,stroke:{$ref:"borderColor"},strokeWidth:1},minHandle:{fill:{$ref:"backgroundColor"},stroke:{$ref:"borderColor"},strokeWidth:1,width:12,height:24,cornerRadius:4},maxHandle:{fill:{$ref:"backgroundColor"},stroke:{$ref:"borderColor"},strokeWidth:1,width:12,height:24,cornerRadius:4},miniChart:{enabled:!1,label:{color:{$ref:"textColor"},fontSize:{$rem:[_.FONT_SIZE_RATIO.SMALLER]},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},spacing:5},padding:{top:0,bottom:0}}}}},{AND:dvt,ARRAY:t3,FUNCTION:pvt,NUMBER:fvt,OR:gvt,ToolbarButtonProperties:yvt,Validate:mvt}=_,$6=class extends yvt{};A([mvt(gvt(fvt,dvt(t3,t3.restrict({length:2})),pvt))],$6.prototype,"value");var{BOOLEAN:xvt,OBJECT:bvt,ChartAxisDirection:ok,LayoutElement:vvt,PropertiesArray:Svt,Toolbar:Mvt,Validate:K6}=_,VO=class extends _.BaseModuleInstance{constructor(t){super(),this.ctx=t,this.enabled=!1,this.buttons=new Svt($6),this.verticalSpacing=10,this.container=t.domManager.addChild("canvas-overlay","range-buttons"),this.container.role="presentation",this.toolbar=new Mvt(this.ctx.localeManager),this.toolbar.addClass("ag-charts-range-buttons"),this.container.append(this.toolbar.getElement()),this.destroyFns.push(this.toolbar.addToolbarListener("button-pressed",this.onButtonPress.bind(this)),t.layoutManager.registerElement(vvt.ToolbarBottom,this.onLayoutStart.bind(this)),t.zoomManager.addListener("zoom-change",this.onZoomChanged.bind(this)),this.teardown.bind(this))}teardown(){this.container.removeChild(this.toolbar.getElement()),this.toolbar.destroy()}onLayoutStart(t){const{buttons:e,ctx:i,enabled:n,toolbar:s,verticalSpacing:a}=this,{layoutBox:o}=t;if(!n||!i.zoomManager.isZoomEnabled()){s.setHidden(!0);return}s.setHidden(!1),s.updateButtons(e);const r=s.getBounds().height;s.setBounds({x:o.x,y:o.y+o.height-r,width:o.width,height:r}),o.shrink({bottom:r+a})}onZoomChanged(){this.toolbar.clearActiveButton()}onButtonPress({button:{index:t}}){const{zoomManager:e}=this.ctx,i=this.buttons.at(t);if(!i)return;const{value:n}=i;typeof n=="number"?e.extendToEnd("zoom-buttons",ok.X,n):Array.isArray(n)?e.updateWith("zoom-buttons",ok.X,()=>n):typeof n=="function"&&e.updateWith("zoom-buttons",ok.X,n),this.toolbar.toggleActiveButtonByIndex(t)}};A([K6(xvt)],VO.prototype,"enabled");A([K6(bvt)],VO.prototype,"buttons");var X6=1e3*60*60*24,rk=X6*30,Avt=X6*365,Dvt={type:"root",optionsKey:"ranges",packageType:"enterprise",chartTypes:["cartesian"],moduleFactory:t=>new VO(t),themeTemplate:{ranges:{enabled:!1,buttons:[{label:"toolbarRange1Month",ariaLabel:"toolbarRange1MonthAria",value:rk},{label:"toolbarRange3Months",ariaLabel:"toolbarRange3MonthsAria",value:3*rk},{label:"toolbarRange6Months",ariaLabel:"toolbarRange6MonthsAria",value:6*rk},{label:"toolbarRangeYearToDate",ariaLabel:"toolbarRangeYearToDateAria",value:(t,e)=>[new Date(`${new Date(e).getFullYear()}-01-01`).getTime(),e]},{label:"toolbarRange1Year",ariaLabel:"toolbarRange1YearAria",value:Avt},{label:"toolbarRangeAll",ariaLabel:"toolbarRangeAllAria",value:(t,e)=>[t,e]}]}}},Z6=class tx extends _.BaseModuleInstance{constructor(e){super(),this.ctx=e,this.activeSections=new Set,this.sectionButtons={annotations:[],chartToolbar:[]},this.container=this.ctx.domManager.addChild("canvas-overlay","shared-toolbar"),this.container.role="presentation"}getSharedToolbar(e){return this.sharedToolbar||this.createSharedToolbar(),this.toolbarWithSection(e)}createSharedToolbar(){this.sharedToolbar=new _.Toolbar(this.ctx.localeManager,"vertical"),this.sharedToolbar.addClass("ag-charts-shared-toolbar"),this.container.append(this.sharedToolbar.getElement()),this.destroyFns.push(()=>{this.sharedToolbar&&(this.container.removeChild(this.sharedToolbar.getElement()),this.sharedToolbar.destroy(),this.sharedToolbar=void 0)})}toolbarWithSection(e){const i=this.sharedToolbar,n={layout:(s,a)=>{if(this.firstLayoutSection!=null&&this.firstLayoutSection!==e&&this.activeSections.has(this.firstLayoutSection))return;this.firstLayoutSection=e;const o=i.getBounds().width;i.setBounds({x:s.x,y:s.y,width:o}),s.shrink({left:o+i.horizontalSpacing+(a??0)})},addToolbarListener:(s,a)=>i.addToolbarListener(s,o=>{const r=this.getSectionIndex(e,o.button.index);if(r<0)return;const l={...o,button:this.sectionButtons[e][r]};a(l)}),updateButtons:s=>{this.sectionButtons[e]=s;const a=tx.SECTION_ORDER.flatMap(o=>this.sectionButtons[o]);i.updateButtons(a)},updateButtonByIndex:(s,a)=>{i.updateButtonByIndex(this.getIndex(e,s),a)},toggleActiveButtonByIndex:s=>{i.toggleActiveButtonByIndex(this.getIndex(e,s))},toggleButtonEnabledByIndex:(s,a)=>{i.toggleButtonEnabledByIndex(this.getIndex(e,s),a)},setHidden:s=>{s?this.activeSections.delete(e):this.activeSections.add(e);let a=0;for(const o of tx.SECTION_ORDER){if(o!==e){a+=this.sectionButtons[o].length;continue}for(const r of this.sectionButtons[e].keys())i.setButtonHiddenByIndex(a+r,s)}},destroy:()=>{n.setHidden(!0),this.activeSections.size===0&&this.destroy()},clearActiveButton:i.clearActiveButton.bind(i),addListener:i.addListener.bind(i),removeListener:i.removeListener.bind(i)};return n.setHidden(!1),n}getIndex(e,i){let n=0;for(const s of tx.SECTION_ORDER){if(s===e)return n+i;n+=this.sectionButtons[s].length}return-1}getSectionIndex(e,i){let n=0;for(const s of tx.SECTION_ORDER){if(s===e)return i>=n+this.sectionButtons[e].length?-1:i-n;n+=this.sectionButtons[s].length}return-1}};Z6.SECTION_ORDER=["chartToolbar","annotations"];var Ivt=Z6,Tvt={type:"context",contextKey:"sharedToolbar",packageType:"enterprise",chartTypes:["cartesian"],moduleFactory:t=>new Ivt(t)},{CachedTextMeasurerPool:Om,ZIndexMap:Cvt,LayoutElement:kvt,Validate:sa,BaseProperties:Lvt,OBJECT:iy,BOOLEAN:Nvt,STRING:ny,COLOR_STRING:Evt,RATIO:wvt,valueProperty:Ovt,TextUtils:Rvt,Group:Pvt,Label:Rm,Rect:Bvt,Text:Gn}=_,e3={ohlc:62,candlestick:62,"hollow-candlestick":62,line:96,"step-line":96,hlc:184,"high-low":800},zvt={up:"positive",down:"negative"},_vt={hlc:"altNeutral"},UO=class extends Lvt{constructor(){super(...arguments),this.fill="black",this.fillOpacity=1}};A([sa(Evt)],UO.prototype,"fill");A([sa(wvt)],UO.prototype,"fillOpacity");var ka=class extends _.BaseModuleInstance{constructor(t){super(),this.ctx=t,this.enabled=!1,this.openKey=void 0,this.highKey=void 0,this.lowKey=void 0,this.closeKey=void 0,this.volumeKey=void 0,this.title=new Rm,this.positive=new Rm,this.negative=new Rm,this.neutral=new Rm,this.altNeutral=new Rm,this.background=new UO,this.layoutStyle="block",this.id="status-bar",this.data=void 0,this.layer=new Pvt({name:"StatusBar",zIndex:Cvt.STATUS_BAR}),this.labelGroup=this.layer.appendChild(new _.TranslatableGroup),this.backgroundNode=this.labelGroup.appendChild(new Bvt),this.labels=[{label:"O",configuration:2,title:this.labelGroup.appendChild(new Gn),value:this.labelGroup.appendChild(new Gn),id:"openValue",key:"openKey",domain:void 0,formatter:new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})},{label:"H",configuration:16,title:this.labelGroup.appendChild(new Gn),value:this.labelGroup.appendChild(new Gn),id:"highValue",key:"highKey",domain:void 0,formatter:new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})},{label:"H",configuration:256,title:this.labelGroup.appendChild(new Gn),value:this.labelGroup.appendChild(new Gn),style:"neutral",id:"highValue",key:"highKey",domain:void 0,formatter:new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})},{label:"L",configuration:8,title:this.labelGroup.appendChild(new Gn),value:this.labelGroup.appendChild(new Gn),id:"lowValue",key:"lowKey",domain:void 0,formatter:new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})},{label:"L",configuration:512,title:this.labelGroup.appendChild(new Gn),value:this.labelGroup.appendChild(new Gn),style:"neutral",id:"lowValue",key:"lowKey",domain:void 0,formatter:new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})},{label:"C",configuration:4,title:this.labelGroup.appendChild(new Gn),value:this.labelGroup.appendChild(new Gn),id:"closeValue",key:"closeKey",domain:void 0,formatter:new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})},{label:"C",configuration:128,title:this.labelGroup.appendChild(new Gn),value:this.labelGroup.appendChild(new Gn),id:"closeValue",key:"closeKey",style:"neutral",domain:void 0,formatter:new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})},{label:"",configuration:64,title:this.labelGroup.appendChild(new Gn),value:this.labelGroup.appendChild(new Gn),style:"neutral",id:"closeValue",key:"closeKey",domain:void 0,formatter:new Intl.NumberFormat("en-US",{notation:"compact",minimumFractionDigits:2,maximumFractionDigits:2})},{label:"Vol",configuration:32,title:this.labelGroup.appendChild(new Gn),value:this.labelGroup.appendChild(new Gn),id:"volumeValue",key:"volumeKey",domain:void 0,formatter:new Intl.NumberFormat("en-US",{notation:"compact",minimumFractionDigits:2,maximumFractionDigits:2})}],this.highlightManager=t.highlightManager,this.labelGroup.visible=!1,this.destroyFns.push(t.scene.attachNode(this.layer),t.layoutManager.registerElement(kvt.Overlay,e=>this.startPerformLayout(e)),t.layoutManager.addListener("layout:complete",e=>this.onLayoutComplete(e)),t.highlightManager.addListener("highlight-change",()=>this.updateHighlight()))}async processData(t){if(!this.enabled||this.data==null)return;const e=[];for(const s of this.labels){const{id:a,key:o}=s,r=this[o];r==null?s.domain=void 0:e.push(Ovt(r,"number",{id:a}))}if(e.length===0)return;const{processedData:i,dataModel:n}=await t.request(this.id,this.data,{props:e});for(const s of this.labels){const{id:a,key:o}=s;this[o]!=null&&(s.domain=n.getDomain(this,a,"value",i))}}startPerformLayout(t){if(this.labelGroup.translationX=0,this.labelGroup.translationY=0,!this.enabled)return;const{layoutBox:e}=t,i=4,n=12,s=0,a=8;this.labelGroup.translationY=e.y+s;const o=Math.max(this.title.fontSize,this.positive.fontSize,this.negative.fontSize),r=Rvt.getLineHeight(o),l=e3[this.getChartType()]??0;let c=0,h,p="alphabetic";if(this.layoutStyle==="block")e.shrink(s+r+a,"top"),h=o+(r-o)/2;else{const{title:f}=this.ctx.chartService;if(p="top",h=s+f.padding,f.enabled){const y=f.node.getBBox();c=y.x+y.width+n}else c=f.padding}for(const{label:f,configuration:y,title:m,value:b,domain:S,formatter:v}of this.labels){if(S==null||!(l&y)){m.visible=!1,b.visible=!1;continue}const D=Math.max(Om.measureText(v.format(S[0]),{font:this.positive.getFont(),textBaseline:p,textAlign:"left"}).width,Om.measureText(v.format(S[1]),{font:this.positive.getFont(),textBaseline:p,textAlign:"left"}).width,Om.measureText(v.format(S[0]),{font:this.negative.getFont(),textBaseline:p,textAlign:"left"}).width,Om.measureText(v.format(S[1]),{font:this.negative.getFont(),textBaseline:p,textAlign:"left"}).width);m.visible=!0,b.visible=!0;const I=Om.measureText(f,{font:this.title.getFont(),textBaseline:p,textAlign:"left"});m.setFont(this.title),m.fill=this.title.color,m.text=f,m.textBaseline=p,m.y=h,m.x=c,c+=I.width+i,b.textBaseline=p,b.y=h,b.x=c,c+=D+n}this.backgroundNode.x=0,this.backgroundNode.y=0,this.backgroundNode.width=c-n,this.backgroundNode.height=r+s+a,this.backgroundNode.fill=this.background.fill,this.backgroundNode.fillOpacity=this.background.fillOpacity}onLayoutComplete(t){this.labelGroup.translationX=t.series.rect.x,this.updateHighlight()}updateHighlight(){var s;if(!this.enabled)return;const t=this.highlightManager.getActiveHighlight(),e=(t==null?void 0:t.datum)??((s=this.data)==null?void 0:s.at(-1));if(e==null){this.labelGroup.visible=!1;return}this.labelGroup.visible=!0;const i=t==null?void 0:t.itemId;let n=i!=null?zvt[i]:void 0;n==null&&this.openKey!=null&&this.closeKey!=null&&(e[this.openKey]<e[this.closeKey]?n="positive":n="negative");for(const{domain:a,value:o,key:r,formatter:l,style:c}of this.labels){if(a==null)continue;let h=c??n??"neutral";h==="neutral"&&(h=_vt[this.getChartType()]??h);const p=this[r],f=p!=null?e==null?void 0:e[p]:void 0;o.setFont(this[h]),o.fill=this[h].color,o.text=typeof f=="number"?l.format(f):""}}getChartType(){var e,i;let t=(i=(e=this.ctx.chartService.publicApi)==null?void 0:e.getOptions())==null?void 0:i.chartType;return(t==null||e3[t]==null)&&(t="candlestick"),t}};A([sa(Nvt)],ka.prototype,"enabled");A([sa(ny,{optional:!0})],ka.prototype,"openKey");A([sa(ny,{optional:!0})],ka.prototype,"highKey");A([sa(ny,{optional:!0})],ka.prototype,"lowKey");A([sa(ny,{optional:!0})],ka.prototype,"closeKey");A([sa(ny,{optional:!0})],ka.prototype,"volumeKey");A([sa(iy)],ka.prototype,"title");A([sa(iy)],ka.prototype,"positive");A([sa(iy)],ka.prototype,"negative");A([sa(iy)],ka.prototype,"neutral");A([sa(iy)],ka.prototype,"altNeutral");A([sa(iy)],ka.prototype,"background");A([sa(ny)],ka.prototype,"layoutStyle");var jvt={type:"root",identifier:"status-bar",optionsKey:"statusBar",packageType:"enterprise",chartTypes:["cartesian"],moduleFactory:t=>new ka(t),themeTemplate:{statusBar:{enabled:!1,layoutStyle:_.ThemeSymbols.DEFAULT_CAPTION_LAYOUT_STYLE,title:{color:{$ref:"textColor"},fontFamily:{$ref:"fontFamily"},fontSize:{$ref:"fontSize"},fontWeight:{$ref:"fontWeight"}},positive:{color:_.ThemeSymbols.PALETTE_UP_STROKE,fontFamily:{$ref:"fontFamily"},fontSize:{$ref:"fontSize"},fontWeight:{$ref:"fontWeight"}},negative:{color:_.ThemeSymbols.PALETTE_DOWN_STROKE,fontFamily:{$ref:"fontFamily"},fontSize:{$ref:"fontSize"},fontWeight:{$ref:"fontWeight"}},neutral:{color:_.ThemeSymbols.PALETTE_NEUTRAL_STROKE,fontFamily:{$ref:"fontFamily"},fontSize:{$ref:"fontSize"},fontWeight:{$ref:"fontWeight"}},background:{fill:{$ref:"backgroundColor"},fillOpacity:.5},altNeutral:{color:"gray"}}}},{BOOLEAN:HO,STRING:Fvt,UNION:Gvt,BaseProperties:Vvt,CartesianAxis:i3,ChartUpdateType:n3,ObserveChanges:Zb,TooltipManager:Uvt,Validate:qb}=_,mp=class extends Vvt{constructor(t){super(),this.moduleContext=t,this.enabled=!1,this.axes="x",this.nodeInteraction=!0,this.zoom=!0}updateSiblings(t){const{syncManager:e}=this.moduleContext;for(const i of e.getGroupSiblings(t??this.groupId))this.updateChart(i)}updateChart(t,e=n3.UPDATE_DATA){t.ctx.updateService.update(e,{skipSync:!0})}enabledZoomSync(){const{syncManager:t,zoomManager:e}=this.moduleContext;this.disableZoomSync=e.addListener("zoom-change",()=>{var i;for(const n of t.getGroupSiblings(this.groupId))(i=n.modulesManager.getModule("sync"))!=null&&i.zoom&&n.ctx.zoomManager.updateZoom("sync",this.mergeZoom(n))})}enabledNodeInteractionSync(){const{highlightManager:t,syncManager:e}=this.moduleContext;this.disableNodeInteractionSync=t.addListener("highlight-change",i=>{var n,s,a,o,r,l,c;for(const h of e.getGroupSiblings(this.groupId))if((n=h.modulesManager.getModule("sync"))!=null&&n.nodeInteraction){if(!((s=i.currentHighlight)!=null&&s.datum)){h.ctx.highlightManager.updateHighlight(h.id),h.ctx.tooltipManager.removeTooltip(h.id);continue}for(const p of h.axes){const f=this.axes==="xy"?"x":this.axes;if(!i3.is(p)||p.direction!==f)continue;const y=h.series.map(m=>{const b=m.getKeys(p.direction);if(p.keys.length&&!p.keys.some(k=>b.includes(k)))return;const{nodeData:S}=m.contextNodeData;if(!(S!=null&&S.length))return;const v=S[0][`${p.direction}Key`];let D=i.currentHighlight.datum[v];const I=Ux(D);I&&(D=D.getTime());const T=S.find(k=>{const E=k.datum[v];return I?E.getTime()===D:E===D});return T?{series:m,nodeDatum:T}:null}).filter(as);if(y.length<2&&((a=y[0])==null?void 0:a.nodeDatum)!==h.ctx.highlightManager.getActiveHighlight()){const{series:m,nodeDatum:b}=y[0]??{};if(h.ctx.highlightManager.updateHighlight(h.id,b),b){const S=((o=b.midPoint)==null?void 0:o.x)??((r=b.point)==null?void 0:r.x)??0,v=((l=b.midPoint)==null?void 0:l.y)??((c=b.point)==null?void 0:c.y)??0,D=Uvt.makeTooltipMeta({type:"pointermove",canvasX:S,canvasY:v},m,b);delete D.lastPointerEvent,h.ctx.tooltipManager.updateTooltip(h.id,D,m.getTooltipContent(b))}else h.ctx.tooltipManager.removeTooltip(h.id);this.updateChart(h,n3.SERIES_UPDATE)}}}})}getSyncedDomain(t){if(!i3.is(t)||this.axes!=="xy"&&this.axes!==t.direction)return;const{syncManager:e}=this.moduleContext,i=e.getGroup(this.groupId),[{axes:n}]=i,{direction:s,min:a,max:o,nice:r,reverse:l}=t;for(const c of n)if(s===c.direction&&(r!==c.nice||l!==c.reverse||a!==c.min&&(Ku(a)||Ku(c.min))||o!==c.max&&(Ku(o)||Ku(c.max)))){Me.warnOnce("To allow synchronization, ensure that all charts have matching min, max, nice, and reverse properties on the synchronized axes."),this.enabled=!1;return}return Rft(i.flatMap(c=>c.series).filter(c=>{if(c.visible){const h=c.getKeys(t.direction);return t.keys.length?t.keys.some(p=>h.includes(p)):!0}}).flatMap(c=>c.getDomain(t.direction)))}mergeZoom(t){var n;const{zoomManager:e}=this.moduleContext;if(this.axes==="xy")return e.getZoom();const i=t.ctx.zoomManager.getZoom()??{};return i[this.axes]=(n=e.getZoom())==null?void 0:n[this.axes],i}onEnabledChange(){const{syncManager:t}=this.moduleContext;this.enabled?t.subscribe(this.groupId):t.unsubscribe(this.groupId),this.updateSiblings(),this.onNodeInteractionChange(),this.onZoomChange()}onGroupIdChange(t,e){if(!this.enabled||t===e)return;const{syncManager:i}=this.moduleContext;i.unsubscribe(e),i.subscribe(t),this.updateSiblings(e),this.updateSiblings(t)}onAxesChange(){if(!this.enabled)return;const{syncManager:t}=this.moduleContext;this.updateChart(t.getChart())}onNodeInteractionChange(){var t;this.enabled&&this.nodeInteraction?this.enabledNodeInteractionSync():(t=this.disableNodeInteractionSync)==null||t.call(this)}onZoomChange(){var t;this.enabled&&this.zoom?this.enabledZoomSync():(t=this.disableZoomSync)==null||t.call(this)}destroy(){var e;const{syncManager:t}=this.moduleContext;t.unsubscribe(this.groupId),this.updateSiblings(),(e=this.disableZoomSync)==null||e.call(this)}};mp.className="Sync";A([qb(HO),Zb(t=>t.onEnabledChange())],mp.prototype,"enabled");A([qb(Fvt,{optional:!0}),Zb((t,e,i)=>t.onGroupIdChange(e,i))],mp.prototype,"groupId");A([qb(Gvt(["x","y","xy"],"an axis")),Zb(t=>t.onAxesChange())],mp.prototype,"axes");A([qb(HO),Zb(t=>t.onNodeInteractionChange())],mp.prototype,"nodeInteraction");A([qb(HO),Zb(t=>t.onZoomChange())],mp.prototype,"zoom");var Hvt={type:"root",optionsKey:"sync",packageType:"enterprise",chartTypes:["cartesian"],moduleFactory:t=>new mp(t),themeTemplate:{sync:{enabled:!1}}},{COLOR_STRING:Wvt,RATIO:Yvt,Validate:q6}=_,s3="#2196f3",$vt="#8a8a8a",XD=class extends _.Rect{constructor(){super(...arguments),this.fill=s3,this.fillOpacity=.2,this.zIndex=_.ZIndexMap.ZOOM_SELECTION}updateValid(){this.fill=s3}updateInvalid(){this.fill=$vt}};XD.className="ZoomRect";A([q6(Wvt)],XD.prototype,"fill");A([q6(Yvt)],XD.prototype,"fillOpacity");var{UNION:Kvt,clamp:Xvt,isNumberEqual:a3,round:Cwt}=_,Ze={min:0,max:1},Q6="end",J6="middle",ZD=Kvt(["pointer","start","middle","end"],"an anchor point"),TS=(t,e=Ze.min,i=Ze.max)=>Xvt(e,t,i);function WO(){return{x:{...Ze},y:{...Ze}}}function cs(t){return t.x.max-t.x.min}function jo(t){return t.y.max-t.y.min}function o3(t,e,i=1e-10){return a3(t.min,e.min,i)&&a3(t.max,e.max,i)}function px(t,e,i){return o3(t.x,e.x,i)&&o3(t.y,e.y,i)}function Cs(t){var e,i,n,s;return{x:{min:((e=t==null?void 0:t.x)==null?void 0:e.min)??Ze.min,max:((i=t==null?void 0:t.x)==null?void 0:i.max)??Ze.max},y:{min:((n=t==null?void 0:t.y)==null?void 0:n.min)??Ze.min,max:((s=t==null?void 0:t.y)==null?void 0:s.max)??Ze.max}}}function Nc(t,e,i){if(!t)return{x:0,y:0};const n=TS(e-t.x,0,t.x+t.width),s=TS(i-t.y,0,t.y+t.height),a=1/t.width*n,o=1-1/t.height*s;return{x:TS(a),y:TS(o)}}function qd(t,e,i){return{x:{min:t.x.min+e,max:t.x.max+e},y:{min:t.y.min+i,max:t.y.max+i}}}function tK(t,e,i){return{x:{min:t.x.min,max:t.x.min+cs(t)*e},y:{min:t.y.min,max:t.y.min+jo(t)*i}}}function r3(t,e,i){const n=cs(t),s=jo(t),a=t.x.min+n/2,o=t.y.min+s/2;return{x:{min:a-n*e/2,max:a+n*e/2},y:{min:o-s*i/2,max:o+s*i/2}}}function pr(t,e,i,n){const{min:s,max:a}=e,o=s+(a-s)/2,r=t.max-t.min;switch(i){case"start":return{min:s,max:e.min+r};case"end":return{min:e.max-r,max:a};case"middle":return{min:o-r/2,max:o+r/2};case"pointer":return Zvt(t,e,n??o);default:return{min:s,max:a}}}function Zvt(t,e,i){const n=t.max-t.min,s=e.max-e.min,a=i*(1-(s-n)),o=i-a,r=t.min+o,l=t.max+o;return{min:r,max:l}}function qvt(t,e,i){return{x:{min:t.x.min*e,max:t.x.max*e},y:{min:t.y.min*i,max:t.y.max*i}}}function Vo(t){return{x:$M(t.x),y:$M(t.y)}}function $M(t){const e=t.max-t.min;let i=t.max>Ze.max?Ze.max-e:t.min,n=t.min<Ze.min?e:t.max;return i=Math.max(Ze.min,i),n=Math.min(Ze.max,n),{min:i,max:n}}var Qvt=class{update(t,e,i,n,s,a){return this.oldZoom??(this.oldZoom=Cs(e===_.ChartAxisDirection.X?{...s,x:a}:{...s,y:a})),this.updateCoords(t.currentX,t.currentY),this.updateZoom(e,i,n)}stop(){this.coords=void 0,this.oldZoom=void 0}updateCoords(t,e){this.coords?(this.coords.x2=t,this.coords.y2=e):this.coords={x1:t,y1:e,x2:t,y2:e}}updateZoom(t,e,i){const{coords:n,oldZoom:s}=this;let a=Cs(s);if(!n||!s)return t===_.ChartAxisDirection.X?a.x:a.y;const o=Nc(i,n.x1,n.y1),r=Nc(i,n.x2,n.y2);if(t===_.ChartAxisDirection.X){const c=(r.x-o.x)*cs(s);return a.x.max+=c,a.x=pr(a.x,s.x,e,o.x),a=Vo(a),a.x}const l=(r.y-o.y)*jo(s);return a.y.max-=l,a.y=pr(a.y,s.y,e,o.y),a=Vo(a),a.y}},Jvt="zoom-action",t0t="pan-action",e0t=class{constructor(t,e,i,n,s,a){this.contextMenuRegistry=t,this.zoomManager=e,this.getModuleProperties=i,this.getRect=n,this.updateZoom=s,this.isZoomValid=a}registerActions(t){if(!t)return;const{contextMenuRegistry:e}=this,i=e.registerDefaultAction({id:Jvt,type:"series-area",label:"contextMenuZoomToCursor",action:this.onZoomToHere.bind(this),toggleEnabledOnShow:s=>{const a=this.getRect();if(!a)return!0;const o=Nc(a,s.x,s.y);return this.iterateFindNextZoomAtPoint(o)!=null}}),n=e.registerDefaultAction({id:t0t,type:"series-area",label:"contextMenuPanToCursor",action:this.onPanToHere.bind(this),toggleEnabledOnShow:()=>!px(Cs(this.zoomManager.getZoom()),WO())});return()=>{i(),n()}}computeOrigin(t){const e=this.getRect(),{enabled:i}=this.getModuleProperties();if(!i||!e||!(t!=null&&t.target)||!(t instanceof MouseEvent))return;const n={x:0,y:0,width:e.width,height:e.height};return Nc(n,t.offsetX,t.offsetY)}onZoomToHere({event:t}){const e=this.computeOrigin(t);if(!e)return;const i=this.iterateFindNextZoomAtPoint(e);i!=null&&this.updateZoom(i)}onPanToHere({event:t}){const e=this.computeOrigin(t);if(!e)return;const i=Cs(this.zoomManager.getZoom()),n=cs(i),s=jo(i),a=e.x*n,o=e.y*s,r=(Ze.max-Ze.min)/2;let l={x:{min:e.x-r,max:e.x+r},y:{min:e.y-r,max:e.y+r}};l=r3(l,n,s),l=qd(l,i.x.min-e.x+a,i.y.min-e.y+o),this.updateZoom(Vo(l))}iterateFindNextZoomAtPoint(t){const{scrollingStep:e}=this.getModuleProperties();for(let i=e;i<=1-e;i+=e){const n=this.getNextZoomAtPoint(t,i);if(this.isZoomValid(n))return n}}getNextZoomAtPoint(t,e){const{isScalingX:i,isScalingY:n}=this.getModuleProperties(),s=Cs(this.zoomManager.getZoom()),a=t.x*cs(s),o=t.y*jo(s),r=Ze.max-Ze.min,l=r/2;let c={x:{min:t.x-l,max:t.x+l},y:{min:t.y-l,max:t.y+l}};return c=r3(c,i?cs(s)*e:r,n?jo(s)*e:r),c=qd(c,s.x.min-t.x+a,s.y.min-t.y+o),Vo(c)}},{BBoxValues:i0t}=_,n0t=class{constructor(t){this.axesHandlers=t,this.axes=[]}initAxis(t,e,i,n){const{X:s,Y:a}=_.ChartAxisDirection,o={[s]:"ew-resize",[a]:"ns-resize"}[n],l=t.proxyInteractionService.createProxyElement({type:"region",domManagerId:e,where:"afterend"});return l.setCursor(o),l.addListener("drag-start",c=>{c.device==="touch"&&c.sourceEvent.preventDefault(),i.onDragStart(e,n)}),l.addListener("drag-move",c=>i.onDrag(c)),l.addListener("drag-end",i.onDragEnd),l.addListener("dblclick",()=>i.onDoubleClick(e,n)),{axisId:e,div:l}}destroy(){this.axes.forEach(t=>t.div.destroy())}update(t,e){if(this.axes.forEach(r=>r.div.setHidden(!t)),!t)return;const{X:i,Y:n}=_.ChartAxisDirection,s=[...e.axisManager.getAxisContext(i),...e.axisManager.getAxisContext(n)],{removed:a,added:o}=this.diffAxisIds(s);a.length>0&&(this.axes=this.axes.filter(r=>a.includes(r.axisId)?(r.div.destroy(),!1):!0));for(const r of o){const{axisId:l,direction:c}=r;this.axes.push(this.initAxis(e,l,this.axesHandlers,c))}for(const r of this.axes){const c=s.filter(h=>h.axisId===r.axisId)[0].getCanvasBounds();r.div.setHidden(i0t.isEmpty(c)),c!==void 0&&r.div.setBounds(c)}}diffAxisIds(t){const e=this.axes.map(a=>a.axisId),i=t.map(a=>a.axisId),n=e.filter(a=>!i.includes(a)),s=t.filter(a=>!e.includes(a.axisId));return{removed:n,added:s}}},l3=16,s0t={off:1,short:.01,long:.002},a0t=class{constructor(){this.deceleration=1,this.zoomCoordsHistoryIndex=0,this.coordsHistory=[]}get decelerationValue(){const{deceleration:t}=this;return Math.max(typeof t=="number"?t:s0t[t]??1,1e-4)}addListener(t,e){return this.onUpdate=e,()=>{this.onUpdate=void 0}}stopInteractions(){this.inertiaHandle!=null&&(cancelAnimationFrame(this.inertiaHandle),this.inertiaHandle=void 0)}update(t){var a;this.updateCoords(t.currentX,t.currentY);const{x1:e=0,y1:i=0,x2:n=0,y2:s=0}=this.coords??{};(a=this.onUpdate)==null||a.call(this,{type:"update",deltaX:e-n,deltaY:i-s})}start(){this.coordsMonitorTimeout=setInterval(this.recordCurrentZoomCoords.bind(this),16)}stop(){const{coordsHistory:t}=this;let e=0,i=0,n=0;if(t.length>0){const s=this.zoomCoordsHistoryIndex%l3;let a=s-1;a<0&&(a=t.length-1);let o=s;o>=t.length&&(o=0);const r=t[a],l=t[o];e=r.x-l.x,i=r.y-l.y,n=r.t-l.t}if(this.coords=void 0,clearInterval(this.coordsMonitorTimeout),this.coordsMonitorTimeout=void 0,this.zoomCoordsHistoryIndex=0,this.coordsHistory.length=0,n>0&&this.decelerationValue<1){const s=e/n,a=i/n,o=Math.hypot(s,a),r=Math.atan2(a,s),l=performance.now();this.inertiaHandle=_.getWindow().requestAnimationFrame(c=>{this.animateInertia(c,c,l,o,r)})}}recordCurrentZoomCoords(){const{coords:t,coordsHistory:e,zoomCoordsHistoryIndex:i}=this;if(!t)return;const{x2:n,y2:s}=t,a=Date.now();e[i%l3]={x:n,y:s,t:a},this.zoomCoordsHistoryIndex+=1}animateInertia(t,e,i,n,s){var c;const a=1-this.decelerationValue,o=-n/Math.log(a),r=n*(a**(e-i)-1)/Math.log(a),l=n*(a**(t-i)-1)/Math.log(a);(c=this.onUpdate)==null||c.call(this,{type:"update",deltaX:-Math.cos(s)*(l-r),deltaY:-Math.sin(s)*(l-r)}),!(l>=o-1)&&(this.inertiaHandle=requestAnimationFrame(h=>{this.animateInertia(h,t,i,n,s)}))}updateCoords(t,e){this.coords?this.coords={x1:this.coords.x2,y1:this.coords.y2,x2:t,y2:e}:this.coords={x1:t,y1:e,x2:t,y2:e}}translateZooms(t,e,i,n){const s=Nc(t,t.x+Math.abs(i),t.y+t.height-Math.abs(n)),a=Math.sign(i)*s.x,o=-Math.sign(n)*s.y,r={};for(const[l,{direction:c,zoom:h}]of Object.entries(e)){if(h&&h.min===Ze.min&&h.max===Ze.max)continue;let p=Cs({[c]:h});p=Vo(qd(p,a*cs(p),o*jo(p))),r[l]={direction:c,zoom:p[c]}}return r}},o0t=200,r0t=class{update(t,e,i,n){const s=t.deltaX*e*o0t;return this.translateZooms(i,n,s)}translateZooms(t,e,i){const n={},s=Nc(t,t.x+Math.abs(i),0),a=i<0?-s.x:s.x;for(const[o,{direction:r,zoom:l}]of Object.entries(e)){if(r!==_.ChartAxisDirection.X)continue;let c=Cs({x:l});c=Vo(qd(c,a*cs(c),0)),n[o]={direction:r,zoom:c.x}}return n}},l0t=class{updateAxes(t,e,i,n){const s=t.sourceEvent,a={},{anchorPointX:o,anchorPointY:r,isScalingX:l,isScalingY:c,scrollingStep:h}=e,p=Nc(i,s.offsetX??s.clientX,s.offsetY??s.clientY);for(const[f,{direction:y,zoom:m}]of Object.entries(n)){if(m==null)continue;let b={...m};const S=h*t.deltaY*(m.max-m.min);if(y===_.ChartAxisDirection.X&&l)b.max+=S,b=pr(b,m,o,p.x);else if(y===_.ChartAxisDirection.Y&&c)b.max+=S,b=pr(b,m,r,p.y);else continue;a[f]={direction:y,zoom:$M(b)}}return a}update(t,e,i,n){const{anchorPointX:s,anchorPointY:a,isScalingX:o,isScalingY:r,scrollingStep:l}=e,c=t.offsetX+i.x,h=t.offsetY+i.y,p=Nc(i,c,h),f=t.deltaY;let y=Cs(n);return y.x.max+=o?l*f*cs(n):0,y.y.max+=r?l*f*jo(n):0,o&&(y.x=pr(y.x,n.x,s,p.x)),r&&(y.y=pr(y.y,n.y,a,p.y)),y=Vo(y),y}updateDelta(t,e,i){const{anchorPointX:n,anchorPointY:s,isScalingX:a,isScalingY:o,scrollingStep:r}=e;let l=Cs(i);return l.x.max+=a?r*-t*cs(i):0,l.y.max+=o?r*-t*jo(i):0,a&&(l.x=pr(l.x,i.x,n)),o&&(l.y=pr(l.y,i.y,s)),l=Vo(l),l}},c0t=class{constructor(t,e,i){this.rect=t,this.getZoom=e,this.isZoomValid=i,this.rect.visible=!1}update(t,e,i){const n=t.currentX+((i==null?void 0:i.x)??0),s=t.currentY+((i==null?void 0:i.y)??0);this.rect.visible=!0,this.updateCoords(n,s,e,i),this.updateRect(i)}stop(t,e,i){let n=Cs();if(!t||!e)return n;this.coords&&(n=this.createZoomFromCoords(e,i));const s=e.width/t.width,a=e.height/t.height;return n=Vo(qvt(n,s,a)),this.reset(),n}reset(){this.coords=void 0,this.rect.visible=!1}didUpdate(){return this.rect.visible&&this.rect.width>0&&this.rect.height>0}updateCoords(t,e,i,n){if(!this.coords){this.coords={x1:t,y1:e,x2:t,y2:e};return}const{coords:s}=this;if(s.x2=t,s.y2=e,!n)return;const{isScalingX:a,isScalingY:o,keepAspectRatio:r}=i,l=this.getNormalisedDimensions();if(r&&a&&o){const c=n.width/n.height;s.y2<s.y1?s.y2=Math.min(s.y1-l.width/c,s.y1):s.y2=Math.max(s.y1+l.width/c,s.y1)}a||(s.x1=n.x,s.x2=n.x+n.width),o||(s.y1=n.y,s.y2=n.y+n.height)}updateRect(t){if(!t)return;const{rect:e}=this,i=this.getNormalisedDimensions(),{width:n,height:s}=i;let{x:a,y:o}=i;a=Math.max(a,t.x),a-=Math.max(0,a+n-(t.x+t.width)),o=Math.max(o,t.y),o-=Math.max(0,o+s-(t.y+t.height)),e.x=a,e.y=o,e.width=n,e.height=s;const r=this.createZoomFromCoords(t,this.getZoom());this.isZoomValid(r)?e.updateValid():e.updateInvalid()}createZoomFromCoords(t,e){const i=Cs(e),n=this.getNormalisedDimensions(),s=Nc(t,n.x,n.y+n.height),a=n.width/t.width,o=n.height/t.height;let r=tK(i,a,o);const l=s.x*cs(i),c=s.y*jo(i);return r=qd(r,l,c),r=Vo(r),r}getNormalisedDimensions(){const{x1:t=0,y1:e=0,x2:i=0,y2:n=0}=this.coords??{},s=t<=i?t:i,a=e<=n?e:n,o=t<=i?i-t:t-i,r=e<=n?n-e:e-n;return{x:s,y:a,width:o,height:r}}},{ARRAY:u0t,BOOLEAN:h0t,STRING:d0t,UNION:eK,ActionOnSet:iK,BaseProperties:p0t,ChartAxisDirection:f0t,NativeWidget:g0t,PropertiesArray:y0t,Toolbar:m0t,ToolbarButtonProperties:x0t,Validate:xp,createElement:b0t}=_,YO=class extends x0t{};A([xp(eK(["reset","zoom-in","zoom-out","pan-left","pan-right","pan-start","pan-end"]))],YO.prototype,"value");A([xp(d0t)],YO.prototype,"section");var sy=class extends p0t{constructor(t,e,i,n,s,a,o){super(),this.ctx=t,this.getModuleProperties=e,this.getResetZoom=i,this.updateZoom=n,this.updateAxisZoom=s,this.resetZoom=a,this.isZoomValid=o,this.enabled=!1,this.buttons=new y0t(YO),this.visible="hover",this.verticalSpacing=10,this.detectionRange=38,this.destroyFns=[],this.container=new g0t(b0t("div")),this.container.addClass("ag-charts-zoom-buttons"),t.domManager.addChild("canvas-overlay","zoom-buttons",this.container.getElement()),this.toolbar=new m0t(t.localeManager),this.container.addChild(this.toolbar),this.toggleVisibility(this.visible==="always"),this.destroyFns.push(this.toolbar.addToolbarListener("button-pressed",this.onButtonPress.bind(this)),this.toolbar.addToolbarListener("button-focused",this.onButtonFocus.bind(this)),t.widgets.containerWidget.addListener("mousemove",this.onHover.bind(this)),t.widgets.containerWidget.addListener("mouseleave",this.onLeave.bind(this)),t.layoutManager.addListener("layout:complete",this.onLayoutComplete.bind(this)),this.teardown.bind(this))}destroy(){for(const t of this.destroyFns)t()}toggleVisibleZoomed(t){this.visible==="zoomed"&&this.toggleVisibility(!t)}teardown(){this.ctx.domManager.removeChild("canvas-overlay","zoom-buttons"),this.container.destroy()}onLayoutComplete(t){const{buttons:e,container:i}=this,{rect:n}=t.series;this.toolbar.updateButtons(e),this.toggleButtons();const s=i.getBounds().height;i.setBounds({y:n.y+n.height-s})}onHover(t){if(!this.enabled||this.visible!=="hover"||this.toolbar.isHidden())return;const{container:e,detectionRange:i,ctx:{scene:n}}=this,{currentY:s,sourceEvent:{target:a}}=t,o=e.getElement(),r=o.offsetTop-i,l=s>r&&s<n.canvas.element.offsetHeight||a===o;this.toggleVisibility(l)}onLeave(){this.visible==="hover"&&this.toggleVisibility(!1)}toggleVisibility(t,e=!1){const{container:i,toolbar:n,verticalSpacing:s}=this;n.toggleClass("ag-charts-zoom-buttons__toolbar--hidden",!t);const a=n.getElement();a.style.transitionDuration=e?"0s":"",a.style.transform=t?"translateY(0)":`translateY(${i.getBounds().height+s}px)`}toggleButtons(){const t=Cs(this.ctx.zoomManager.getZoom());if(!(this.previousZoom&&px(this.previousZoom,t))){this.previousZoom=t;for(const[e,i]of this.buttons.entries()){let n=!0;switch(i==null?void 0:i.value){case"pan-start":n=t.x.min>Ze.min;break;case"pan-end":n=t.x.max<Ze.max;break;case"pan-left":n=t.x.min>Ze.min;break;case"pan-right":n=t.x.max<Ze.max;break;case"zoom-out":n=!px(t,WO());break;case"zoom-in":n=this.isZoomValid(this.getNextZoomStateUnified("zoom-in",t,this.getModuleProperties()));break;case"reset":n=!px(t,this.getResetZoom());break}this.toolbar.toggleButtonEnabledByIndex(e,n)}}}onButtonPress({button:t}){if(!this.enabled||this.toolbar.isHidden())return;const e=this.getModuleProperties();if(e.independentAxes&&t.value!=="reset"){const i=this.ctx.zoomManager.getAxisZooms();for(const[n,{direction:s,zoom:a}]of Object.entries(i))a!=null&&this.onButtonPressAxis(t,e,n,s,a)}else this.onButtonPressUnified(t,e)}onButtonFocus(t){this.toggleVisibility(!0,!0)}onButtonPressAxis(t,e,i,n,s){const{isScalingX:a,isScalingY:o,scrollingStep:r}=e;let l={...s};const c=s.max-s.min;switch(t.value){case"pan-start":l.max=c,l.min=0;break;case"pan-end":l.min=l.max-c,l.max=Ze.max;break;case"pan-left":l.min-=c*r,l.max-=c*r;break;case"pan-right":l.min+=c*r,l.max+=c*r;break;case"zoom-in":case"zoom-out":{const h=n===f0t.X,p=h&&a||!h&&o;let f=t.value==="zoom-in"?1-r:1+r;p||(f=1);const y=h?this.getAnchorPointX(e):this.getAnchorPointY(e);l.max=l.min+(l.max-l.min)*f,l=pr(l,s,y);break}}this.updateAxisZoom(i,n,$M(l))}onButtonPressUnified(t,e){const{scrollingStep:i}=e,n=Cs(this.ctx.zoomManager.getZoom());let s=Cs(n);switch(t.value){case"reset":this.resetZoom();return;case"pan-start":s.x.max=cs(s),s.x.min=0;break;case"pan-end":s.x.min=Ze.max-cs(s),s.x.max=Ze.max;break;case"pan-left":s=qd(s,-cs(s)*i,0);break;case"pan-right":s=qd(s,cs(s)*i,0);break;case"zoom-in":case"zoom-out":{s=this.getNextZoomStateUnified(t.value,n,e);break}}this.updateZoom(Vo(s))}getNextZoomStateUnified(t,e,i){const{isScalingX:n,isScalingY:s,scrollingStep:a}=i,o=t==="zoom-in"?1-a:1+a,r=tK(e,n?o:1,s?o:1);return r.x=pr(r.x,e.x,this.getAnchorPointX(i)),r.y=pr(r.y,e.y,this.getAnchorPointY(i)),r}getAnchorPointX(t){const e=this.anchorPointX??t.anchorPointX;return e==="pointer"?Q6:e}getAnchorPointY(t){const e=this.anchorPointY??t.anchorPointY;return e==="pointer"?J6:e}};A([xp(h0t),iK({changeValue(t){var e;(e=this.toolbar)==null||e.setHidden(!t)}})],sy.prototype,"enabled");A([xp(u0t)],sy.prototype,"buttons");A([xp(eK(["always","zoomed","hover"])),iK({changeValue(t,e){e!=null&&this.toggleVisibility(t==="always")}})],sy.prototype,"visible");A([xp(ZD)],sy.prototype,"anchorPointX");A([xp(ZD)],sy.prototype,"anchorPointY");var Rd=1e6;function KM({min:t,max:e},i,n,s){return s===0?0:Rd*((i-n)/s*(e-t)+t)}function v0t(t,e,i,n,s,a){[t,e]=[Math.min(t,e),Math.max(t,e)],[i,n]=[Math.min(i,n),Math.max(i,n)];const o=Rd*(i-s)/a,r=Rd*(n-s)/a,l=(i-s)/(n-s),c=(t-l*e)/(Rd-o+l*(r-Rd)),h=(e+(r-Rd)*c)/r;return{min:c,max:h}}function c3(t,e,i,n){e===0&&(e=30),n===0&&(n=30);const s=t-e,a=t+e,o=i-n,r=i+n;return!(a<o||r<s)}var S0t=class{constructor(){this.touchStart={origins:[{identifier:0,normalX:NaN,normalY:NaN},{identifier:0,normalX:NaN,normalY:NaN}]},this.initialZoom={x:{min:0,max:1},y:{min:0,max:1}},this.previous={a1:NaN,a2:NaN,b1:NaN,b2:NaN}}start(t,e,i){var m,b,S,v;if(t.sourceEvent.targetTouches.length!==2)return!1;t.sourceEvent.preventDefault();const n=Array.from(t.sourceEvent.targetTouches),{x:s,y:a,width:o,height:r}=e.getBoundingClientRect();this.initialZoom.x.min=((m=i.x)==null?void 0:m.min)??0,this.initialZoom.x.max=((b=i.x)==null?void 0:b.max)??1,this.initialZoom.y.min=((S=i.y)==null?void 0:S.min)??0,this.initialZoom.y.max=((v=i.y)==null?void 0:v.max)??1,this.touchStart.origins.forEach(D=>D.identifier=0),this.previous.a1=NaN,this.previous.a2=NaN,this.previous.b1=NaN,this.previous.b2=NaN;for(const D of[0,1]){const I=n[D].clientX,T=a+r-n[D].clientY;this.touchStart.origins[D].identifier=n[D].identifier,this.touchStart.origins[D].normalX=KM(this.initialZoom.x,I,s,o),this.touchStart.origins[D].normalY=KM(this.initialZoom.y,T,a,r)}const[l,c]=n,[h,p]=this.touchStart.origins,f=c3(l.clientX,l.radiusX,c.clientX,c.radiusX);return c3(l.clientY,l.radiusY,c.clientY,c.radiusY)&&(h.normalY=p.normalY=(h.normalY+p.normalY)/2),f&&(h.normalX=p.normalX=(h.normalX+p.normalX)/2),!0}update(t,e){t.sourceEvent.preventDefault();const i=Array.from(t.sourceEvent.targetTouches),{x:n,y:s,width:a,height:o}=e.getBoundingClientRect(),{origins:r}=this.touchStart,l=[0,1].map(v=>i.find(D=>D.identifier===r[v].identifier)),c=r[0].normalX,h=r[1].normalX,p=l[0].clientX,f=l[1].clientX,y=r[0].normalY,m=r[1].normalY,b=s+o-l[0].clientY,S=s+o-l[1].clientY;return this.twitchTolerantZoomPan4(c,h,p,f,y,m,b,S,n,s,a,o)}end(t){const e=Array.from(t.sourceEvent.targetTouches).map(i=>i.identifier);return!e.includes(this.touchStart.origins[0].identifier)||!e.includes(this.touchStart.origins[1].identifier)}twitchTolerantZoomPan4(t,e,i,n,s,a,o,r,l,c,h,p){const{initialZoom:f,previous:y}=this,m=u3(t,e,i,n,y,"a1","a2",l,h,f.x),b=u3(s,a,o,r,y,"b1","b2",c,p,f.y);return{x:m,y:b}}};function u3(t,e,i,n,s,a,o,r,l,c){if(t!=e){const h=s[a],p=s[o];return Math.abs(i-h)+Math.abs(n-p)<=1?(i=h,n=p):(s[a]=i,s[o]=n),v0t(t,e,i,n,r,l)}else{const h=KM(c,i,r,l),p=KM(c,n,r,l),f=(h+p)/2,y=(t-f)/Rd;return{min:c.min+y,max:c.max+y}}}var{BOOLEAN:kl,NUMBER:nK,POSITIVE_NUMBER:M0t,RATIO:$O,UNION:KO,OBJECT:sK,OR:A0t,ActionOnSet:qD,ChartAxisDirection:Pm,ChartUpdateType:h3,Deprecated:aK,Validate:ji,InteractionState:CS,ProxyProperty:D0t,round:I0t}=_,kS=t=>I0t(t,10),d3="zoom-cursor",lk="zoom-tooltip",XO=class extends _.BaseProperties{constructor(t){super(),this.onChange=t,this.enabled=!1,this.padding=0}};A([ji(kl),qD({changeValue(t){this.onChange({enabled:t,padding:this.padding})}})],XO.prototype,"enabled");A([ji($O),qD({changeValue(t){this.onChange({enabled:this.enabled,padding:t})}})],XO.prototype,"padding");var sn=class extends _.BaseModuleInstance{constructor(t){super(),this.ctx=t,this.enabled=!1,this.enableAxisDragging=!0,this.enableDoubleClickToReset=!0,this.enablePanning=!0,this.enableScrolling=!0,this.enableSelecting=!1,this.enableTwoFingerZoom=!0,this.panKey="alt",this.axes="x",this.scrollingStep=(Ze.max-Ze.min)/10,this.keepAspectRatio=!1,this.minVisibleItems=2,this.anchorPointX=Q6,this.anchorPointY=J6,this.autoScaling=new XO(i=>{this.ctx.zoomManager.setAutoScaleYAxis(i.enabled,i.padding)}),this.buttons=new sy(this.ctx,this.getModuleProperties.bind(this),this.getResetZoom.bind(this),this.updateZoom.bind(this),this.updateAxisZoom.bind(this),this.resetZoom.bind(this),this.isZoomValid.bind(this)),this.axisDragger=new Qvt,this.panner=new a0t,this.scroller=new l0t,this.scrollPanner=new r0t,this.twoFingers=new S0t,this.deceleration="short",this.dragState=0,this.isState=i=>this.ctx.interactionManager.isState(i),this.destroyContextMenuActions=void 0,this.isFirstWheelEvent=!0,this.debouncedWheelReset=Pft(()=>{this.isFirstWheelEvent=!0},100);const e=new XD;this.selector=new c0t(e,this.getZoom.bind(this),this.isZoomValid.bind(this)),this.contextMenu=new e0t(t.contextMenuRegistry,t.zoomManager,this.getModuleProperties.bind(this),()=>this.paddedRect,this.updateZoom.bind(this),this.isZoomValid.bind(this)),this.domProxy=new n0t({onDragStart:(i,n)=>this.onAxisDragStart(i,n),onDrag:i=>{this.onDragMove({...i,currentX:i.offsetX,currentY:i.offsetY})},onDragEnd:()=>this.onDragEnd(),onDoubleClick:(i,n)=>{this.hoveredAxis={id:i,direction:n},this.onDoubleClick(),this.hoveredAxis=void 0}}),this.destroyFns.push(t.scene.attachNode(e),t.chartEventManager.addListener("series-keynav-zoom",i=>this.onNavZoom(i)),t.widgets.seriesDragInterpreter.addListener("dblclick",i=>this.onDoubleClick(i)),t.widgets.seriesDragInterpreter.addListener("drag-move",i=>this.onDragMove(i)),t.widgets.seriesDragInterpreter.addListener("drag-start",i=>this.onDragStart(i)),t.widgets.seriesDragInterpreter.addListener("drag-end",()=>this.onDragEnd()),t.widgets.seriesWidget.addListener("wheel",i=>this.onWheel(i)),t.widgets.seriesWidget.addListener("touchstart",(i,n)=>this.onTouchStart(i,n)),t.widgets.seriesWidget.addListener("touchmove",(i,n)=>this.onTouchMove(i,n)),t.widgets.seriesWidget.addListener("touchend",i=>this.onTouchEnd(i)),t.widgets.seriesWidget.addListener("touchcancel",i=>this.onTouchEnd(i)),t.updateService.addListener("process-data",i=>this.onProcessData(i)),t.layoutManager.addListener("layout:complete",i=>this.onLayoutComplete(i)),t.zoomManager.addListener("zoom-change",i=>this.onZoomChange(i)),t.zoomManager.addListener("zoom-pan-start",i=>this.onZoomPanStart(i)),this.panner.addListener("update",i=>this.onPanUpdate(i)),()=>this.teardown())}teardown(){var t;this.ctx.zoomManager.setZoomModuleEnabled(!1),this.buttons.destroy(),(t=this.destroyContextMenuActions)==null||t.call(this)}onEnabledChange(t){var e;this.ctx.zoomManager.setZoomModuleEnabled(t),this.contextMenu&&((e=this.destroyContextMenuActions)==null||e.call(this),this.destroyContextMenuActions=this.contextMenu.registerActions(t))}isIgnoredTouch(t){if(this.ctx.chartService.touch.dragAction!=="drag")return!0;if((t==null?void 0:t.device)!=="touch"||this.enableSelecting)return!1;if(!this.enablePanning)return!0;const{x:e,y:i}=this.getZoom();return e.min===0&&e.max===1&&i.min===0&&i.max===1}onDoubleClick(t){const{enabled:e,enableDoubleClickToReset:i,hoveredAxis:n,ctx:{zoomManager:s}}=this;!e||!i||!this.isState(CS.ZoomClickable)||(n?s.resetAxisZoom("zoom",n.id):t!=null&&t.preventZoomDblClick||this.resetZoom())}onDragStart(t){const{enabled:e,enableAxisDragging:i,enablePanning:n,enableSelecting:s,hoveredAxis:a,ctx:{domManager:o,zoomManager:r}}=this;if(!e||!this.hoveredAxis&&(!this.isState(CS.ZoomDraggable)||this.dragState!==0||this.isIgnoredTouch(t)))return;this.panner.stopInteractions();let l=0;if(i&&a)l=1;else if(t!=null){const c=this.isPanningKeyPressed(t.sourceEvent);n&&(!s||c)?(o.updateCursor(d3,"grabbing"),l=2,this.panner.start()):s&&!c&&(l=3)}(this.dragState=l)!==0&&r.fireZoomPanStartEvent("zoom")}onDragMove(t){const{anchorPointX:e,anchorPointY:i,axisDragger:n,dragState:s,enabled:a,paddedRect:o,panner:r,selector:l,seriesRect:c,shouldFlipXY:h,hoveredAxis:p,ctx:{interactionManager:f,tooltipManager:y,updateService:m,zoomManager:b}}=this;if(!a||!o||!c||!p&&(!this.isState(CS.ZoomDraggable)||this.isIgnoredTouch(t)))return;f.pushState(_.InteractionState.ZoomDrag),t.device==="touch"&&t.sourceEvent.preventDefault();const S=this.getZoom();switch(s){case 1:{if(!p)break;const{id:v,direction:D}=p;let I=D===Pm.X?e:i;h&&(I=D===Pm.X?i:e);const T=b.getAxisZoom(v),k=n.update(t,D,I,c,S,T);b.setAxisManuallyAdjusted("zoom",v),this.updateAxisZoom(v,D,k);break}case 2:r.update(t);break;case 3:l.update(t,this.getModuleProperties(),o);break;case 0:return}y.updateTooltip(lk),m.update(h3.PERFORM_LAYOUT,{skipAnimations:!0})}onDragEnd(){const{axisDragger:t,dragState:e,enabled:i,panner:n,selector:s,ctx:{domManager:a,interactionManager:o,tooltipManager:r}}=this;if(o.popState(_.InteractionState.ZoomDrag),!(!i||e===0)){switch(e){case 1:this.hoveredAxis=void 0,t.stop();break;case 2:n.stop();break;case 3:{if(!s.didUpdate())break;const l=this.getZoom(),c=s.stop(this.seriesRect,this.paddedRect,l);this.updateZoom(c);break}}this.dragState=0,a.updateCursor(d3),r.removeTooltip(lk)}}onNavZoom(t){const{enabled:e,enableScrolling:i,scroller:n}=this;!this.ctx.interactionManager.isState(_.InteractionState.Default)||!e||!i||(t.widgetEvent.sourceEvent.preventDefault(),this.updateZoom(n.updateDelta(t.delta,this.getModuleProperties(),this.getZoom())))}onWheel(t){const{enabled:e,enablePanning:i,enableScrolling:n,paddedRect:s}=this;if(!e||!n||!s||!this.isState(CS.ZoomWheelable))return;const{deltaX:a,deltaY:o}=t.sourceEvent,r=a!=null&&o!=null&&Math.abs(a)>Math.abs(o);i&&r?this.onWheelPanning(t):this.onWheelScrolling(t)}onWheelPanning(t){const{scrollingStep:e,scrollPanner:i,seriesRect:n,ctx:{zoomManager:s}}=this;if(!n)return;t.sourceEvent.preventDefault();const a=i.update(t,e,n,s.getAxisZooms());for(const[o,{direction:r,zoom:l}]of Object.entries(a))this.updateAxisZoom(o,r,l)}onWheelScrolling(t){const{enableAxisDragging:e,enableIndependentAxes:i,hoveredAxis:n,scroller:s,seriesRect:a,ctx:{zoomManager:o}}=this;if(!a)return;const r=this.getZoom();let l=t.deltaY>0&&this.isMaxZoom(r);const c=e&&n!=null;let h=this.isScalingX(),p=this.isScalingY();c&&(h=n.direction===_.ChartAxisDirection.X,p=!h);const f=this.getModuleProperties({isScalingX:h,isScalingY:p});let y=!0;if(i===!0){const m=s.updateAxes(t,f,a,o.getAxisZooms());for(const[b,{direction:S,zoom:v}]of Object.entries(m))c&&n.id!==b||y&&(y=this.updateAxisZoom(b,S,v))}else{const m=s.update(t,f,a,this.getZoom());y=this.updateUnifiedZoom(m)}l||(l=t.deltaY<0&&!y),(!this.isFirstWheelEvent||!l)&&t.sourceEvent.preventDefault(),this.isFirstWheelEvent=!1,this.debouncedWheelReset()}onAxisDragStart(t,e){this.hoveredAxis={id:t,direction:e},this.onDragStart(void 0)}onTouchStart(t,e){!this.enableTwoFingerZoom||this.dragState!==0||this.twoFingers.start(t,e,this.getZoom())&&(this.dragState=4)}onTouchMove(t,e){if(!this.enableTwoFingerZoom||this.dragState!==4)return;const i=this.twoFingers.update(t,e);this.updateZoom(Vo(i))}onTouchEnd(t){!this.enableTwoFingerZoom||this.dragState!==4||(t.sourceEvent.preventDefault(),this.twoFingers.end(t)&&(this.dragState=0))}onProcessData(t){this.shouldFlipXY=t.series.shouldFlipXY}onLayoutComplete(t){this.domProxy.update(this.enableAxisDragging,this.ctx);const{enabled:e}=this;if(!e)return;const{series:{rect:i,paddedRect:n}}=t;this.seriesRect=i,this.paddedRect=n}onZoomChange(t){t.callerId!=="zoom"&&this.panner.stopInteractions();const e=this.getZoom();this.buttons.toggleVisibleZoomed(this.isMaxZoom(e))}onZoomPanStart(t){t.callerId==="zoom"&&this.panner.stopInteractions()}onPanUpdate(t){const{panner:e,seriesRect:i,ctx:{tooltipManager:n,zoomManager:s}}=this;if(!i)return;const a=e.translateZooms(i,s.getAxisZooms(),t.deltaX,t.deltaY);for(const[o,{direction:r,zoom:l}]of Object.entries(a))this.updateAxisZoom(o,r,l);n.updateTooltip(lk)}isPanningKeyPressed(t){switch(this.panKey){case"alt":return t.altKey;case"ctrl":return t.ctrlKey;case"shift":return t.shiftKey;case"meta":return t.metaKey}}isScalingX(){return this.axes==="xy"?!0:this.shouldFlipXY?this.axes==="y":this.axes==="x"}isScalingY(){return this.axes==="xy"?!0:this.shouldFlipXY?this.axes==="x":this.axes==="y"}getAnchorPointX(){return this.shouldFlipXY?this.anchorPointY:this.anchorPointX}getAnchorPointY(){return this.shouldFlipXY?this.anchorPointX:this.anchorPointY}isMaxZoom(t){return px(t,WO())}isZoomValid(t){const{minVisibleItems:e,minVisibleItemsX:i,minVisibleItemsY:n,ctx:{zoomManager:s}}=this;if(e===0)return!0;const a=this.getZoom(),o=kS(cs(t))<kS(cs(a)),r=kS(jo(t))<kS(jo(a));return!o&&!r?!0:i!=null&&o?s.isVisibleItemsCountAtLeast(t,i):n!=null&&r?s.isVisibleItemsCountAtLeast(t,n):s.isVisibleItemsCountAtLeast(t,e)}isAxisZoomValid(t,e){const{minVisibleItems:i,minVisibleItemsX:n,minVisibleItemsY:s,ctx:{zoomManager:a}}=this,o=this.getZoom(),r=e.max-e.min,l=o[t].max-o[t].min,c={...o,[t]:e},h=t===Pm.X?n:s;return r>=l||a.isVisibleItemsCountAtLeast(c,h??i)}resetZoom(){this.ctx.zoomManager.resetZoom("zoom")}updateZoom(t){this.enableIndependentAxes?this.updatePrimaryAxisZooms(t):this.updateUnifiedZoom(t)}updateUnifiedZoom(t){return this.isZoomValid(t)?(this.ctx.zoomManager.updateZoom("zoom",t),!0):(this.ctx.updateService.update(h3.SCENE_RENDER,{skipAnimations:!0}),!1)}updatePrimaryAxisZooms(t){this.updatePrimaryAxisZoom(t,Pm.X),this.updatePrimaryAxisZoom(t,Pm.Y)}updatePrimaryAxisZoom(t,e){const i=this.ctx.zoomManager.getPrimaryAxisId(e);i!=null&&this.updateAxisZoom(i,e,t[e])}updateAxisZoom(t,e,i){const{enableIndependentAxes:n,ctx:{zoomManager:s}}=this;if(!i)return!1;const a=this.getZoom();return n!==!0?(a[e]=i,this.updateUnifiedZoom(a)):this.isAxisZoomValid(e,i)?(s.updateAxisZoom("zoom",t,i),!0):!1}getZoom(){return Cs(this.ctx.zoomManager.getZoom())}getResetZoom(){return Cs(this.ctx.zoomManager.getRestoredZoom())}getModuleProperties(t){return{anchorPointX:(t==null?void 0:t.anchorPointX)??this.getAnchorPointX(),anchorPointY:(t==null?void 0:t.anchorPointY)??this.getAnchorPointY(),enabled:(t==null?void 0:t.enabled)??this.enabled,independentAxes:(t==null?void 0:t.independentAxes)??this.enableIndependentAxes===!0,isScalingX:(t==null?void 0:t.isScalingX)??this.isScalingX(),isScalingY:(t==null?void 0:t.isScalingY)??this.isScalingY(),keepAspectRatio:(t==null?void 0:t.keepAspectRatio)??this.keepAspectRatio,scrollingStep:(t==null?void 0:t.scrollingStep)??this.scrollingStep}}};A([qD({newValue(t){this.onEnabledChange(t)}}),ji(kl)],sn.prototype,"enabled");A([ji(kl)],sn.prototype,"enableAxisDragging");A([ji(kl)],sn.prototype,"enableDoubleClickToReset");A([qD({changeValue(t){this.ctx.zoomManager.setIndependentAxes(!!t)}}),ji(kl,{optional:!0})],sn.prototype,"enableIndependentAxes");A([ji(kl)],sn.prototype,"enablePanning");A([ji(kl)],sn.prototype,"enableScrolling");A([ji(kl)],sn.prototype,"enableSelecting");A([ji(kl)],sn.prototype,"enableTwoFingerZoom");A([ji(KO(["alt","ctrl","meta","shift"],"a pan key"))],sn.prototype,"panKey");A([ji(KO(["x","y","xy"],"an axis"))],sn.prototype,"axes");A([ji($O)],sn.prototype,"scrollingStep");A([ji(kl)],sn.prototype,"keepAspectRatio");A([ji(M0t)],sn.prototype,"minVisibleItems");A([aK("Use [minVisibleItems] instead."),ji(nK.restrict({min:1}))],sn.prototype,"minVisibleItemsX");A([aK("Use [minVisibleItems] instead."),ji(nK.restrict({min:1}))],sn.prototype,"minVisibleItemsY");A([ji(ZD)],sn.prototype,"anchorPointX");A([ji(ZD)],sn.prototype,"anchorPointY");A([ji(sK)],sn.prototype,"autoScaling");A([ji(sK)],sn.prototype,"buttons");A([D0t("panner.deceleration"),ji(A0t($O,KO(["off","short","long"],"a deceleration")))],sn.prototype,"deceleration");var T0t={enabled:!0,visible:"hover",buttons:[{icon:"zoom-out",tooltip:"toolbarZoomZoomOut",value:"zoom-out",section:"scale"},{icon:"zoom-in",tooltip:"toolbarZoomZoomIn",value:"zoom-in",section:"scale"},{icon:"pan-left",tooltip:"toolbarZoomPanLeft",value:"pan-left",section:"pan"},{icon:"pan-right",tooltip:"toolbarZoomPanRight",value:"pan-right",section:"pan"},{icon:"reset",tooltip:"toolbarZoomReset",value:"reset",section:"reset"}]},C0t={type:"root",optionsKey:"zoom",packageType:"enterprise",chartTypes:["cartesian","topology"],moduleFactory:t=>new sn(t),themeTemplate:{zoom:{anchorPointX:"end",anchorPointY:"middle",axes:"x",buttons:T0t,enabled:!1,enableAxisDragging:!0,enableDoubleClickToReset:!0,enablePanning:!0,enableScrolling:!0,enableSelecting:!1,enableTwoFingerZoom:!0,deceleration:"short",minVisibleItems:2,panKey:"alt",scrollingStep:.1,autoScaling:{enabled:!1,padding:.05}}}},{BOOLEAN:oK,OBJECT:k0t,POSITION:L0t,POSITIVE_NUMBER:ZO,BaseProperties:N0t,AxisTicks:E0t,ZIndexMap:w0t,ProxyProperty:qO,Validate:bp,LayoutElement:O0t,createId:R0t,Group:P0t,Rect:B0t,Marker:z0t,TranslatableGroup:_0t,LinearGradient:j0t}=_,QO=class extends N0t{constructor(){super(...arguments),this.thickness=16,this.preferredLength=100}};A([bp(ZO)],QO.prototype,"thickness");A([bp(ZO)],QO.prototype,"preferredLength");var QD=class{constructor(t){this.axisTicks=t}};A([qO("axisTicks.label")],QD.prototype,"label");A([qO("axisTicks.interval")],QD.prototype,"interval");A([qO("axisTicks.padding")],QD.prototype,"padding");var vp=class{constructor(t){this.ctx=t,this.id=R0t(this),this.legendGroup=new _0t({name:"legend",zIndex:w0t.LEGEND}),this.gradientRect=new B0t,this.arrow=new z0t({shape:"triangle"}),this.ticksGroup=new P0t({name:"legend-axis-group"}),this.destroyFns=[],this.enabled=!1,this.position="bottom",this.reverseOrder=!1,this.gradient=new QO,this.spacing=20,this.data=[],this.highlightManager=t.highlightManager,this.axisTicks=new E0t,this.axisTicks.attachAxis(this.ticksGroup),this.scale=new QD(this.axisTicks),this.legendGroup.append([this.gradientRect,this.arrow,this.ticksGroup]),this.destroyFns.push(t.highlightManager.addListener("highlight-change",()=>this.onChartHoverChange()),t.layoutManager.registerElement(O0t.Legend,e=>this.onStartLayout(e)),()=>this.legendGroup.remove())}isVertical(){return this.position==="right"||this.position==="left"}destroy(){this.destroyFns.forEach(t=>t())}attachLegend(t){t.appendChild(this.legendGroup)}onStartLayout(t){const[e]=this.data;if(!this.enabled||!(e!=null&&e.enabled)){this.legendGroup.visible=!1;return}const{colorRange:i}=this.normalizeColorArrays(e);this.updateGradientRect(t.layoutBox,i);const n=this.updateAxis(e),{left:s,top:a}=this.getMeasurements(t.layoutBox,n);this.updateArrow(),this.legendGroup.visible=!0,this.legendGroup.translationX=s,this.legendGroup.translationY=a}normalizeColorArrays(t){let e=t.colorDomain.slice();const i=t.colorRange.slice();if(e.length===i.length)return{colorDomain:e,colorRange:i};e.length>i.length&&i.splice(e.length);const[n,s]=e,a=i.length;return e=i.map((o,r)=>r===0?n:r===a-1?s:n+(s-n)*r/(a-1)),{colorDomain:e,colorRange:i}}updateGradientRect(t,e){const{gradientRect:i}=this,{preferredLength:n,thickness:s}=this.gradient;let a;this.isVertical()?(a=0,i.width=s,i.height=Math.min(t.height,n)):(a=90,i.width=Math.min(t.width,n),i.height=s),i.fill=new j0t("oklch",e.map((o,r)=>({offset:r/(e.length-1),color:o})),a)}updateAxis(t){const{axisTicks:e}=this,i=this.isVertical(),n=this.reverseOrder!==i;return e.position=this.position,e.translationX=i?this.gradient.thickness:0,e.translationY=i?0:this.gradient.thickness,e.scale.domain=n?t.colorDomain.slice().reverse():t.colorDomain,e.scale.range=i?[0,this.gradientRect.height]:[0,this.gradientRect.width],e.calculateLayout()}updateArrow(){const t=this.highlightManager.getActiveHighlight(),{arrow:e}=this;if((t==null?void 0:t.colorValue)==null){e.visible=!1;return}const{scale:i,label:n}=this.axisTicks,s=n.fontSize??0,a=i.convert(t.colorValue);let{x:o,y:r}=this.gradientRect,l=Math.PI;this.isVertical()?(o-=s/2,r+=a,l/=2):(o+=a,r-=s/2),e.visible=!0,e.fill=n.color,e.rotation=l,e.size=s,e.translationX=o,e.translationY=r}getMeasurements(t,e){let{x:i,y:n}=t,{width:s,height:a}=this.gradientRect;switch(this.isVertical()?s+=e.width+5:a+=e.height+5,this.position){case"left":n+=t.height/2-a/2,t.shrink(s+this.spacing,"left");break;case"right":i+=t.width-s,n+=t.height/2-a/2,t.shrink(s+this.spacing,"right");break;case"top":i+=t.width/2-s/2,t.shrink(a+this.spacing,"top");break;case"bottom":i+=t.width/2-s/2,n+=t.height-a,t.shrink(a+this.spacing,"bottom")}return{top:n,left:i}}onChartHoverChange(){this.enabled&&this.updateArrow()}};vp.className="GradientLegend";A([bp(oK)],vp.prototype,"enabled");A([bp(L0t)],vp.prototype,"position");A([bp(oK)],vp.prototype,"reverseOrder");A([bp(k0t)],vp.prototype,"gradient");A([bp(ZO)],vp.prototype,"spacing");var F0t={type:"legend",optionsKey:"gradientLegend",packageType:"enterprise",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],identifier:"gradient",moduleFactory:t=>new vp(t),themeTemplate:{enabled:!1,position:"bottom",spacing:20,scale:{padding:13,label:{color:{$ref:"textColor"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"}},interval:{minSpacing:15}},gradient:{preferredLength:100,thickness:16},reverseOrder:!1},removable:"standalone-only"};function G0t(t,e){const i=t.addChild("canvas-overlay","watermark"),n=_.createElement("span");n.innerText=e,i.addEventListener("animationend",()=>{t.removeChild("canvas-overlay","watermark"),t.removeStyles("watermark")}),i.classList.add("ag-watermark"),i.appendChild(n)}var{findMinMax:V0t}=_,rs=0,Qs=1,ma=2,xa=3,Ga=4;function Qb(t,e=1){let i=Math.ceil(Math.log2(t.length/e))-1;return i=Math.min(Math.max(i,0),16),2**i|0}function Jb(t){return V0t(t.map(e=>Number(e)))}function JD(t,e,i){return(t.valueOf()-e)/(i-e)}function tI(t,e){return Math.min(Math.floor(t*e),e-1)*Ga|0}function tv(t,e,i,n,s,a){const o=new Int32Array(a*Ga).fill(-1),r=new Float64Array(a*Ga).fill(NaN);for(let l=0;l<t.length;l+=1){const c=t[l],h=e[l],p=i[l];if(c==null||h==null||p==null)continue;const f=JD(c,n,s),y=h.valueOf(),m=p.valueOf(),b=tI(f,a),S=o[b+rs]===-1;(S||f<r[b+rs])&&(o[b+rs]=l,r[b+rs]=f),(S||f>r[b+Qs])&&(o[b+Qs]=l,r[b+Qs]=f),(S||m<r[b+ma])&&(o[b+ma]=l,r[b+ma]=m),(S||y>r[b+xa])&&(o[b+xa]=l,r[b+xa]=y)}return{indexData:o,valueData:r}}function ev(t,e,i,{inPlace:n=!1}={}){const s=i/2|0,a=n?t:new Int32Array(s*Ga),o=n?e:new Float64Array(s*Ga);for(let r=0;r<s;r+=1){const l=r*Ga|0,c=l*2|0,h=c+Ga|0,p=t[h+rs]===-1,f=p||e[c+rs]<e[h+rs]?c:h;a[l+rs]=t[f+rs],o[l+rs]=e[f+rs];const y=p||e[c+Qs]>e[h+Qs]?c:h;a[l+Qs]=t[y+Qs],o[l+Qs]=e[y+Qs];const m=p||e[c+ma]<e[h+ma]?c:h;a[l+ma]=t[m+ma],o[l+ma]=e[m+ma];const b=p||e[c+xa]>e[h+xa]?c:h;a[l+xa]=t[b+xa],o[l+xa]=e[b+xa]}return{maxRange:s,indexData:a,valueData:o}}var p3={xMin:rs,xMax:Qs,yMin:ma,yMax:xa,span:Ga},U0t=1e3,H0t=5;function f3(t,e){return Array.from({length:t},(i,n)=>{const s=n*Ga,a=e[s+rs],o=e[s+Qs];return(a+o)/2|0})}function W0t(t,e,i){if(t.length<U0t)return;const[n,s]=Jb(i);let a=Qb(t,H0t),{indexData:o,valueData:r}=tv(t,e,e,n,s,a),l=f3(a,o);const c=[{maxRange:a,indexData:o,indices:l,indexes:p3}];for(;a>64;)({indexData:o,valueData:r,maxRange:a}=ev(o,r,a)),l=f3(a,o),c.push({maxRange:a,indexData:o,indices:l,indexes:p3});return c.reverse(),c}var{ChartAxisDirection:Y0t,ContinuousScale:$0t,OrdinalTimeScale:K0t}=_,X0t=class extends _.BarSeries{aggregateData(t,e){if((e==null?void 0:e.type)!=="ungrouped")return;const i=this.axes[Y0t.X];if(i==null||!($0t.is(i.scale)||K0t.is(i.scale)))return;const n=t.resolveKeysById(this,"xValue",e),s=t.resolveColumnById(this,"yValue-raw",e),{index:a}=t.resolveProcessedDataDefById(this,"xValue"),o=e.domain.keys[a];return W0t(n,s,o)}},{BarSeriesModule:Z0t}=_,q0t={...Z0t,type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"bar",moduleFactory:t=>new X0t(t)};function Q0t(t){return{from:t?{scalingX:1,scalingY:0}:{scalingX:0,scalingY:1},to:{scalingX:1,scalingY:1}}}function J0t(t){return(e,i)=>t?{scalingCenterY:i.scaledValues.medianValue}:{scalingCenterX:i.scaledValues.medianValue}}var{ScalableGroup:tSt,Rect:Rf,Line:Bm,BBox:eSt,Selection:g3}=_,iSt=class extends tSt{constructor(){super(),this.append([new Rf({tag:0}),new Rf({tag:0}),new Rf({tag:2}),new Rf({tag:1}),new Bm({tag:3}),new Bm({tag:3}),new Bm({tag:4}),new Bm({tag:4})])}updateDatumStyles(t,e,i,n){const{bandwidth:s,scaledValues:{xValue:a,medianValue:o}}=t;let{minValue:r,q1Value:l,q3Value:c,maxValue:h}=t.scaledValues;(i&&!n||!i&&n)&&([h,c,l,r]=[r,l,c,h]);const p=(j,U,Z,tt)=>i?{y:j,x:U,width:tt,height:Z}:{x:j,y:U,width:Z,height:tt},f=(j,U,Z)=>i?{y1:j,y2:U,x:Z}:{x1:j,x2:U,y:Z},y=(j,U,Z)=>i?{x1:U,x2:Z,y:j}:{x:j,y1:U,y2:Z},m=(j,U,Z,tt)=>({x:j,y:U,width:Z,height:tt}=p(j,U,Z,tt),new eSt(j,U,Z,tt)),{fill:b,fillOpacity:S,stroke:v,strokeWidth:D,strokeOpacity:I,lineDash:T,lineDashOffset:k,cornerRadius:E,cap:w,whisker:R}=e,O=g3.select(this,Rf),L=O.selectByTag(0),[F]=O.selectByTag(2),[z]=O.selectByTag(1),V=O.selectByTag(3),H=O.selectByTag(4);R.strokeWidth>s&&(R.strokeWidth=s);const W=p(l,a,c-l,s);F.setProperties(W),L[0].setProperties(W),L[0].setProperties({cornerRadius:E,clipBBox:m(l,a,Math.round(o-l+D/2),s)}),L[1].setProperties(W),L[1].setProperties({cornerRadius:E,clipBBox:m(Math.round(o-D/2),a,Math.floor(c-o+D/2),s)});const G=Math.max(Math.round(o-D/2),l+D),$=Math.min(Math.round(o+D/2),c-D);z.setProperties(W),z.setProperties({visible:G<$,cornerRadius:E,clipBBox:m(G,a+D,$-G,Math.max(0,s-D*2))});const K=Math.floor(a+s*(1-w.lengthRatio)/2),X=Math.ceil(a+s*(1+w.lengthRatio)/2);H[0].setProperties(y(r,K,X)),H[1].setProperties(y(h,K,X)),V[0].setProperties(f(Math.round(r+R.strokeWidth/2),l,Math.floor(a+s/2))),V[1].setProperties(f(c,Math.round(h-R.strokeWidth/2),Math.floor(a+s/2)));for(const j of L)j.setProperties({fill:b,fillOpacity:S,strokeWidth:D*2,strokeOpacity:0});z.setProperties({fill:v,fillOpacity:I,strokeWidth:0});for(const j of[...V,...H])j.setProperties(R);F.setProperties({stroke:v,strokeWidth:D,strokeOpacity:I,lineDash:T,lineDashOffset:k,cornerRadius:E,fillOpacity:0})}distanceSquared(t,e){const i=g3.selectByClass(this,Rf,Bm);return _.nearestSquared(t,e,i).distanceSquared}get midPoint(){const t=this.datum;return t.midPoint===void 0?(Me.error("BoxPlotGroup.datum.midPoint is undefined"),{x:NaN,y:NaN}):t.midPoint}},{BaseProperties:rK,AbstractBarSeriesProperties:nSt,SeriesTooltip:sSt,Validate:Pe,COLOR_STRING:eI,FUNCTION:aSt,LINE_DASH:lK,OBJECT:JO,POSITIVE_NUMBER:iv,RATIO:iI,STRING:Za,mergeDefaults:oSt}=_,cK=class extends rK{constructor(){super(...arguments),this.lengthRatio=.5}};A([Pe(iI)],cK.prototype,"lengthRatio");var ay=class extends rK{};A([Pe(eI,{optional:!0})],ay.prototype,"stroke");A([Pe(iv)],ay.prototype,"strokeWidth");A([Pe(iI)],ay.prototype,"strokeOpacity");A([Pe(lK,{optional:!0})],ay.prototype,"lineDash");A([Pe(iv)],ay.prototype,"lineDashOffset");var ri=class extends nSt{constructor(){super(...arguments),this.fill="#c16068",this.fillOpacity=1,this.stroke="#333",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.cap=new cK,this.whisker=new ay,this.tooltip=new sSt,this.backgroundFill="white"}toJson(){const{stroke:t,strokeWidth:e,strokeOpacity:i,lineDash:n,lineDashOffset:s}=this,a=super.toJson();return a.whisker=oSt(a.whisker,{stroke:t,strokeWidth:e,strokeOpacity:i,lineDash:n,lineDashOffset:s}),a}};A([Pe(Za)],ri.prototype,"xKey");A([Pe(Za)],ri.prototype,"minKey");A([Pe(Za)],ri.prototype,"q1Key");A([Pe(Za)],ri.prototype,"medianKey");A([Pe(Za)],ri.prototype,"q3Key");A([Pe(Za)],ri.prototype,"maxKey");A([Pe(Za,{optional:!0})],ri.prototype,"xName");A([Pe(Za,{optional:!0})],ri.prototype,"yName");A([Pe(Za,{optional:!0})],ri.prototype,"minName");A([Pe(Za,{optional:!0})],ri.prototype,"q1Name");A([Pe(Za,{optional:!0})],ri.prototype,"medianName");A([Pe(Za,{optional:!0})],ri.prototype,"q3Name");A([Pe(Za,{optional:!0})],ri.prototype,"maxName");A([Pe(eI,{optional:!0})],ri.prototype,"fill");A([Pe(iI)],ri.prototype,"fillOpacity");A([Pe(eI)],ri.prototype,"stroke");A([Pe(iv)],ri.prototype,"strokeWidth");A([Pe(iI)],ri.prototype,"strokeOpacity");A([Pe(lK)],ri.prototype,"lineDash");A([Pe(iv)],ri.prototype,"lineDashOffset");A([Pe(iv)],ri.prototype,"cornerRadius");A([Pe(aSt,{optional:!0})],ri.prototype,"itemStyler");A([Pe(JO)],ri.prototype,"cap");A([Pe(JO)],ri.prototype,"whisker");A([Pe(JO)],ri.prototype,"tooltip");A([Pe(eI)],ri.prototype,"backgroundFill");var{extractDecoratedProperties:y3,fixNumericExtent:rSt,keyProperty:lSt,mergeDefaults:ck,SeriesNodePickMode:m3,SMALLEST_KEY_INTERVAL:cSt,valueProperty:zm,diff:uSt,animationValidation:hSt,computeBarFocusBounds:dSt,createDatumId:x3,Color:kwt,ContinuousScale:pSt,ChartAxisDirection:b3,motion:v3}=_,fSt=class extends _.SeriesNodeEvent{constructor(t,e,i,n){super(t,e,i,n),this.xKey=n.properties.xKey,this.minKey=n.properties.minKey,this.q1Key=n.properties.q1Key,this.medianKey=n.properties.medianKey,this.q3Key=n.properties.q3Key,this.maxKey=n.properties.maxKey}},tR=class extends _.AbstractBarSeries{constructor(t){super({moduleCtx:t,pickModes:[m3.NEAREST_NODE,m3.EXACT_SHAPE_MATCH],directionKeys:{x:["xKey"],y:["medianKey","q1Key","q3Key","minKey","maxKey"]},directionNames:{x:["xName"],y:["medianName","q1Name","q3Name","minName","maxName"]},pathsPerSeries:[],hasHighlightedLabels:!0}),this.properties=new ri,this.NodeEvent=fSt}async processData(t){var b,S,v;if(!this.properties.isValid()||!this.visible)return;const{xKey:e,minKey:i,q1Key:n,medianKey:s,q3Key:a,maxKey:o}=this.properties,r=!this.ctx.animationManager.isSkipped(),l=(b=this.getCategoryAxis())==null?void 0:b.scale,c=(S=this.getValueAxis())==null?void 0:S.scale,{isContinuousX:h,xScaleType:p,yScaleType:f}=this.getScaleInformation({xScale:l,yScale:c}),y=[];r&&this.processedData&&y.push(uSt(this.id,this.processedData)),r&&y.push(hSt());const{processedData:m}=await this.requestDataModel(t,this.data,{props:[lSt(e,p,{id:"xValue"}),zm(i,f,{id:"minValue"}),zm(n,f,{id:"q1Value"}),zm(s,f,{id:"medianValue"}),zm(a,f,{id:"q3Value"}),zm(o,f,{id:"maxValue"}),...h?[cSt]:[],...y]});this.smallestDataInterval=(v=m.reduced)==null?void 0:v.smallestKeyInterval,this.animationState.transition("updateData")}getSeriesDomain(t){const{processedData:e,dataModel:i}=this;if(!(e&&i))return[];if(t!==this.getBarDirection()){const{index:s,def:a}=i.resolveProcessedDataDefById(this,"xValue"),o=e.domain.keys[s];return a.type==="key"&&a.valueType==="category"?o:this.padBandExtent(o)}const n=this.domainForClippedRange(b3.Y,["minValue","maxValue"],"xValue",!0);return rSt(n)}getSeriesRange(t,e){return this.domainForVisibleRange(b3.Y,["maxValue","minValue"],"xValue",e,!0)}createNodeData(){const{visible:t,dataModel:e,processedData:i}=this,n=this.getCategoryAxis(),s=this.getValueAxis();if(!(e&&i&&n&&s))return;const{xKey:a,fill:o,fillOpacity:r,stroke:l,strokeWidth:c,strokeOpacity:h,lineDash:p,lineDashOffset:f,cap:y,whisker:m}=this.properties,b=[],S=e.resolveKeysById(this,"xValue",i),v=e.resolveColumnById(this,"minValue",i),D=e.resolveColumnById(this,"q1Value",i),I=e.resolveColumnById(this,"medianValue",i),T=e.resolveColumnById(this,"q3Value",i),k=e.resolveColumnById(this,"maxValue",i),{barWidth:E,groupIndex:w}=this.updateGroupScale(n),R=pSt.is(n.scale)?E*-.5:0,{groupScale:O}=this,L=this.isVertical(),F={itemId:a,nodeData:b,labelData:[],scales:this.calculateScaling(),visible:this.visible};return t&&(i.dataSources.get(this.id)??[]).forEach((V,H)=>{const W=S[H];if(W==null)return;const G=v[H],$=D[H],K=I[H],X=T[H],j=k[H];if([G,$,K,X,j].some(ut=>typeof ut!="number")||G>$||$>K||K>X||X>j)return;const U={xValue:Math.round(n.scale.convert(W)),minValue:Math.round(s.scale.convert(G)),q1Value:Math.round(s.scale.convert($)),medianValue:Math.round(s.scale.convert(K)),q3Value:Math.round(s.scale.convert(X)),maxValue:Math.round(s.scale.convert(j))};U.xValue+=Math.round(O.convert(String(w)))+R;const Z=Math.round(E),tt=Math.abs(U.q3Value-U.q1Value),J=U.xValue+Z/2,nt=Math.min(U.q3Value,U.q1Value)+tt/2,at={x:L?J:nt,y:L?nt:J};let lt;L?lt={x:at.x-Z/2,y:U.minValue,width:Z,height:U.maxValue-U.minValue}:lt={x:U.minValue,y:at.y-Z/2,width:U.maxValue-U.minValue,height:Z},b.push({series:this,itemId:W,datum:V,datumIndex:H,xKey:a,bandwidth:Z,scaledValues:U,cap:y,whisker:m,fill:o,fillOpacity:r,stroke:l,strokeWidth:c,strokeOpacity:h,lineDash:p,lineDashOffset:f,midPoint:at,focusRect:lt})}),F}legendItemSymbol(){const{fill:t,fillOpacity:e,stroke:i,strokeWidth:n,strokeOpacity:s,lineDash:a,lineDashOffset:o}=this.properties;return{marker:{fill:t,fillOpacity:e,stroke:i,strokeOpacity:s,strokeWidth:n,lineDash:a,lineDashOffset:o}}}getLegendData(t){const{id:e,ctx:{legendManager:i},visible:n}=this,{xKey:s,yName:a,showInLegend:o,legendItemName:r}=this.properties;return!s||t!=="category"?[]:[{legendType:"category",id:e,itemId:e,seriesId:e,enabled:n&&i.getItemEnabled({seriesId:e,itemId:e}),label:{text:r??a??e},symbol:this.legendItemSymbol(),legendItemName:r,hideInLegend:!o}]}getTooltipContent(t){var W;const{id:e,dataModel:i,processedData:n,properties:s}=this,{xKey:a,xName:o,yName:r,medianKey:l,medianName:c,q1Key:h,q1Name:p,q3Key:f,q3Name:y,minKey:m,minName:b,maxKey:S,maxName:v,legendItemName:D,tooltip:I}=s,T=this.getCategoryAxis(),k=this.getValueAxis();if(!i||!n||!T||!k)return;const{datumIndex:E}=t,w=(W=n.dataSources.get(this.id))==null?void 0:W[E],R=i.resolveKeysById(this,"xValue",n)[E],O=i.resolveColumnById(this,"minValue",n)[E],L=i.resolveColumnById(this,"q1Value",n)[E],F=i.resolveColumnById(this,"medianValue",n)[E],z=i.resolveColumnById(this,"q3Value",n)[E],V=i.resolveColumnById(this,"maxValue",n)[E];if(R==null)return;const H=this.getItemBaseStyle(!1);return Object.assign(H,this.getItemStyleOverrides(String(E),w,H,!1)),I.formatTooltip({heading:T.formatDatum(R),title:D??r,symbol:this.legendItemSymbol(),data:[{label:b,fallbackLabel:m,value:k.formatDatum(O)},{label:p,fallbackLabel:h,value:k.formatDatum(L)},{label:c,fallbackLabel:l,value:k.formatDatum(F)},{label:y,fallbackLabel:f,value:k.formatDatum(z)},{label:v,fallbackLabel:S,value:k.formatDatum(V)}]},{seriesId:e,datum:w,title:r,xKey:a,xName:o,yName:r,medianKey:l,medianName:c,q1Key:h,q1Name:p,q3Key:f,q3Name:y,minKey:m,minName:b,maxKey:S,maxName:v,...H})}animateEmptyUpdateReady({datumSelection:t}){const e=this.isVertical(),{from:i,to:n}=Q0t(e);v3.resetMotion([t],J0t(e)),v3.staticFromToMotion(this.id,"datums",this.ctx.animationManager,[t],i,n,{phase:"initial"})}isLabelEnabled(){return!1}updateDatumSelection(t){const e=t.nodeData??[];return t.datumSelection.update(e)}getItemBaseStyle(t){const{properties:e}=this,{cornerRadius:i,cap:n,whisker:s}=e,a=t?e.highlightStyle.item:void 0,o=this.getStrokeWidth(e.strokeWidth);return{fill:(a==null?void 0:a.fill)??e.fill,fillOpacity:(a==null?void 0:a.fillOpacity)??e.fillOpacity,stroke:(a==null?void 0:a.stroke)??e.stroke,strokeWidth:(a==null?void 0:a.strokeWidth)??o,strokeOpacity:(a==null?void 0:a.strokeOpacity)??e.strokeOpacity,lineDash:(a==null?void 0:a.lineDash)??e.lineDash??[],lineDashOffset:(a==null?void 0:a.lineDashOffset)??e.lineDashOffset,cornerRadius:i,cap:n,whisker:s}}getItemStyleOverrides(t,e,i,n){const{id:s,properties:a}=this,{xKey:o,minKey:r,q1Key:l,medianKey:c,q3Key:h,maxKey:p,itemStyler:f}=a;if(f!=null)return this.cachedDatumCallback(x3(t,n?"highlight":"node"),()=>f({seriesId:s,datum:e,xKey:o,minKey:r,q1Key:l,medianKey:c,q3Key:h,maxKey:p,highlighted:n,...i}))}updateDatumNodes({datumSelection:t,isHighlight:e}){var s;const i=this.isVertical(),n=(s=this.getValueAxis())==null?void 0:s.isReversed();t.each((a,o)=>{let r=this.getFormattedStyles(o,e?"highlight":"node");e&&(r=ck(this.properties.highlightStyle.item,r));const{stroke:l,strokeWidth:c,strokeOpacity:h,lineDash:p,lineDashOffset:f}=r;r.whisker=ck(r.whisker,{stroke:l,strokeWidth:c,strokeOpacity:h,lineDash:p,lineDashOffset:f}),a.updateDatumStyles(o,r,i,n)})}updateLabelNodes(){}updateLabelSelection(t){const{labelData:e,labelSelection:i}=t;return i.update(e)}nodeFactory(){return new iSt}getFormattedStyles(t,e){const{id:i,properties:n}=this,{xKey:s,minKey:a,q1Key:o,medianKey:r,q3Key:l,maxKey:c,itemStyler:h,backgroundFill:p,cornerRadius:f}=n,{datum:y,stroke:m,strokeWidth:b,strokeOpacity:S,lineDash:v,lineDashOffset:D,cap:I,whisker:T}=t;let k,E;k=t.fill,E=n.fillOpacity;const w={fill:k,fillOpacity:E,stroke:m,strokeWidth:b,strokeOpacity:S,lineDash:v,lineDashOffset:D,cornerRadius:f,cap:y3(I),whisker:y3(T)};if(h){const R=this.cachedDatumCallback(x3(y.index,e),()=>h({datum:y,seriesId:i,highlighted:e==="highlight",...w,xKey:s,minKey:a,q1Key:o,medianKey:r,q3Key:l,maxKey:c}));if(R)return ck(R,w)}return w}computeFocusBounds({datumIndex:t}){var e;return dSt(this,(e=this.contextNodeData)==null?void 0:e.nodeData[t].focusRect)}};tR.className="BoxPlotSeries";tR.type="box-plot";var{CARTESIAN_AXIS_TYPE:S3}=_.ThemeConstants,gSt={series:{direction:"vertical",strokeWidth:2},axes:{[S3.NUMBER]:{crosshair:{snap:!1}},[S3.CATEGORY]:{groupPaddingInner:.2,crosshair:{enabled:!1,snap:!1}}}},{Color:uk,swapAxisCondition:ySt,ThemeSymbols:{DEFAULT_BACKGROUND_COLOUR:mSt},ThemeConstants:{CARTESIAN_AXIS_TYPE:M3,CARTESIAN_POSITION:A3}}=_,xSt={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"box-plot",moduleFactory:t=>new tR(t),tooltipDefaults:{range:"exact"},defaultAxes:ySt([{type:M3.NUMBER,position:A3.LEFT},{type:M3.CATEGORY,position:A3.BOTTOM}],t=>(t==null?void 0:t.direction)==="horizontal"),themeTemplate:gSt,groupable:!0,paletteFactory:({takeColors:t,themeTemplateParameters:e})=>{const i=e.get(mSt),n=(Array.isArray(i)?i[0]:i)??"white",{fills:[s],strokes:[a]}=t(1);let o;try{o=uk.mix(uk.fromString(n),uk.fromString(s),.3).toString()}catch{o=s}return{fill:o,stroke:a,backgroundFill:n}}},bSt=1e3,D3=rs,vSt=xa,SSt=ma,I3=Qs;function MSt(t,e,i,n){if(t.length<bSt)return;const[s,a]=Jb(n);let o=Qb(t),{indexData:r,valueData:l}=tv(t,e,i,s,a,o);const c=[{maxRange:o,indexData:r}];for(;o>64;)({indexData:r,valueData:l,maxRange:o}=ev(r,l,o)),c.push({maxRange:o,indexData:r});return c.reverse(),c}var{fixNumericExtent:ASt,keyProperty:DSt,createDatumId:T3,SeriesNodePickMode:C3,ChartAxisDirection:hk,SMALLEST_KEY_INTERVAL:ISt,valueProperty:LS,diff:TSt,animationValidation:CSt,computeBarFocusBounds:kSt,visibleRangeIndices:k3,ContinuousScale:LSt,OrdinalTimeScale:NSt,BandScale:ESt}=_,wSt=class extends _.SeriesNodeEvent{constructor(t,e,i,n){super(t,e,i,n),this.xKey=n.properties.xKey,this.openKey=n.properties.openKey,this.closeKey=n.properties.closeKey,this.highKey=n.properties.highKey,this.lowKey=n.properties.lowKey}},uK=class extends _.AbstractBarSeries{constructor(t){super({moduleCtx:t,pickModes:[C3.AXIS_ALIGNED,C3.EXACT_SHAPE_MATCH],directionKeys:{x:["xKey"],y:["lowKey","highKey","openKey","closeKey"]},directionNames:{x:["xName"],y:["lowName","highName","openName","closeName"]},pathsPerSeries:[]}),this.NodeEvent=wSt,this.dataAggregationFilters=void 0}async processData(t){var b,S,v;if(!this.properties.isValid()||!this.visible)return;const{xKey:e,openKey:i,closeKey:n,highKey:s,lowKey:a}=this.properties,o=!this.ctx.animationManager.isSkipped(),r=(b=this.getCategoryAxis())==null?void 0:b.scale,l=(S=this.getValueAxis())==null?void 0:S.scale,{isContinuousX:c,xScaleType:h,yScaleType:p}=this.getScaleInformation({xScale:r,yScale:l}),f=[];o&&(this.processedData&&f.push(TSt(this.id,this.processedData)),f.push(CSt())),i&&f.push(LS(i,p,{id:"openValue",invalidValue:void 0,missingValue:void 0}));const{dataModel:y,processedData:m}=await this.requestDataModel(t,this.data,{props:[DSt(e,h,{id:"xValue"}),LS(n,p,{id:"closeValue"}),LS(s,p,{id:"highValue"}),LS(a,p,{id:"lowValue"}),...c?[ISt]:[],...f]});this.smallestDataInterval=(v=m.reduced)==null?void 0:v.smallestKeyInterval,this.dataAggregationFilters=this.aggregateData(y,m),this.animationState.transition("updateData")}aggregateData(t,e){const i=this.axes[hk.X];if(i==null||!(LSt.is(i.scale)||NSt.is(i.scale)))return;const n=t.resolveKeysById(this,"xValue",e),s=t.resolveColumnById(this,"highValue",e),a=t.resolveColumnById(this,"lowValue",e),{index:o}=t.resolveProcessedDataDefById(this,"xValue"),r=e.domain.keys[o];return MSt(n,s,a,r)}getSeriesDomain(t){const{processedData:e,dataModel:i}=this;if(!(e&&i))return[];if(t!==this.getBarDirection()){const{index:s,def:a}=i.resolveProcessedDataDefById(this,"xValue"),o=e.domain.keys[s];return a.type==="key"&&a.valueType==="category"?o:this.padBandExtent(o)}const n=this.domainForClippedRange(hk.Y,["highValue","lowValue"],"xValue",!0);return ASt(n)}getSeriesRange(t,e){return this.domainForVisibleRange(hk.Y,["highValue","lowValue"],"xValue",e,!0)}getVisibleItems(t,e,i){return this.countVisibleItems("xValue",["highValue","lowValue"],t,e,i)}createNodeData(){const{visible:t,dataModel:e,processedData:i}=this,n=this.getCategoryAxis(),s=this.getValueAxis();if(!(e&&i&&n&&s))return;const a=[],{xKey:o,highKey:r,lowKey:l}=this.properties,c=i.dataSources.get(this.id)??[],h=e.resolveKeysById(this,"xValue",i),p=e.resolveColumnById(this,"openValue",i),f=e.resolveColumnById(this,"closeValue",i),y=e.resolveColumnById(this,"highValue",i),m=e.resolveColumnById(this,"lowValue",i),{groupScale:b}=this,{barWidth:S,groupIndex:v}=this.updateGroupScale(n),D=b.convert(String(v)),I=S>=1?S:b.rawBandwidth,T=ESt.is(n.scale),k={itemId:o,nodeData:a,labelData:[],scales:this.calculateScaling(),visible:this.visible};if(!t)return k;const E=(H,W,G,$,K,X,j,U)=>{const Z=c[H],tt=T?j/2:0,J=n.scale.convert(W)+D+tt,nt=s.scale.convert(G),at=s.scale.convert($),lt=s.scale.convert(K),ut=s.scale.convert(X),pt=$>G,ot=pt?"up":"down",ft=Math.min(lt,ut),ct=Math.max(lt,ut)-ft,bt={x:J,y:ft+ct/2};a.push({series:this,itemId:ot,datum:Z,datumIndex:H,xKey:o,xValue:W,openValue:G,closeValue:$,highValue:K,lowValue:X,midPoint:bt,aggregatedValue:$,isRising:pt,centerX:J,width:j,y:ft,height:ct,yOpen:nt,yClose:at,crisp:U})},{dataAggregationFilters:w}=this,R=n.scale,[O,L]=R.range,F=L-O,z=H=>R.convert(h[H])+D,V=w==null?void 0:w.find(H=>H.maxRange>F);if(V==null){let[H,W]=k3(c.length,n.range,G=>{const $=z(G);return[$,$+I]});i.input.count<1e3&&(H=0,W=i.input.count);for(let G=H;G<W;G+=1){const $=h[G];if($==null)continue;const K=p[G],X=f[G],j=y[G],U=m[G],Z=U!=null&&U<=K&&U<=X,tt=j!=null&&j>=K&&j>=X;if(!Z){Me.warnOnce(`invalid low value for key [${l}] in data element, low value cannot be higher than datum open or close values`);continue}if(!tt){Me.warnOnce(`invalid high value for key [${r}] in data element, high value cannot be lower than datum open or close values.`);continue}E(G,$,K,X,j,U,I,!0)}}else{const{maxRange:H,indexData:W}=V,[G,$]=k3(H,n.range,K=>{const X=K*Ga,j=W[X+D3],U=W[X+I3];if(j!==-1)return[z(j),z(U)+I]});for(let K=G;K<$;K+=1){const X=K*Ga,j=W[X+D3],U=W[X+I3],Z=W[X+vSt],tt=W[X+SSt];if(j===-1)continue;const J=(j+U)/2|0,nt=h[J];if(nt==null)continue;const at=p[j],lt=f[U],ut=y[Z],pt=m[tt],ot=Math.abs(z(U)-z(j))+I;E(J,nt,at,lt,ut,pt,ot,!1)}}return k}isVertical(){return!0}isLabelEnabled(){return!1}updateDatumSelection(t){const e=t.nodeData??[];return t.datumSelection.update(e)}updateLabelNodes(t){}updateLabelSelection(t){const{labelData:e,labelSelection:i}=t;return i.update(e)}getItemBaseStyle(t,e){const{properties:i}=this,n=i.item[t],s=e?i.highlightStyle.item:void 0;return{fill:(s==null?void 0:s.fill)??n.fill,fillOpacity:(s==null?void 0:s.fillOpacity)??n.fillOpacity,stroke:(s==null?void 0:s.stroke)??n.stroke,strokeWidth:(s==null?void 0:s.strokeWidth)??n.strokeWidth,strokeOpacity:(s==null?void 0:s.strokeOpacity)??n.strokeOpacity,lineDash:(s==null?void 0:s.lineDash)??n.lineDash,lineDashOffset:(s==null?void 0:s.lineDashOffset)??n.lineDashOffset}}getItemStyleOverrides(t,e,i,n,s){const{id:a,properties:o}=this,{itemStyler:r}=o;if(r==null)return;const{xKey:l,openKey:c,closeKey:h,highKey:p,lowKey:f}=o;return this.cachedDatumCallback(T3(t,s?"highlight":"node"),()=>r({seriesId:a,datum:e,itemId:i,xKey:l,openKey:c,closeKey:h,highKey:p,lowKey:f,highlighted:s,...n}))}getTooltipContent(t){var H;const{id:e,dataModel:i,processedData:n,properties:s}=this,{xKey:a,xName:o,yName:r,openKey:l,openName:c,highKey:h,highName:p,lowKey:f,lowName:y,closeKey:m,closeName:b,legendItemName:S,tooltip:v}=s,D=this.getCategoryAxis(),I=this.getValueAxis();if(!i||!n||!D||!I)return;const{datumIndex:T}=t,k=(H=n.dataSources.get(this.id))==null?void 0:H[T],E=i.resolveKeysById(this,"xValue",n)[T],w=i.resolveColumnById(this,"openValue",n)[T],R=i.resolveColumnById(this,"highValue",n)[T],O=i.resolveColumnById(this,"lowValue",n)[T],L=i.resolveColumnById(this,"closeValue",n)[T];if(E==null)return;const F=L>=w?"up":"down",z=this.properties.item[F],V=this.getItemBaseStyle(F,!1);return Object.assign(V,this.getItemStyleOverrides(String(T),k,F,V,!1)),v.formatTooltip({heading:D.formatDatum(E),title:S,symbol:{marker:{fill:z.fill??z.stroke,fillOpacity:z.fillOpacity??z.strokeOpacity??1,stroke:z.stroke,strokeWidth:z.strokeWidth??1,strokeOpacity:z.strokeOpacity??1,lineDash:z.lineDash??[0],lineDashOffset:z.lineDashOffset??0}},data:[{label:c,fallbackLabel:l,value:I.formatDatum(w)},{label:p,fallbackLabel:h,value:I.formatDatum(R)},{label:y,fallbackLabel:f,value:I.formatDatum(O)},{label:b,fallbackLabel:m,value:I.formatDatum(L)}]},{seriesId:e,datum:k,title:r,itemId:F,xKey:a,xName:o,yName:r,openKey:l,openName:c,highKey:h,highName:p,lowKey:f,lowName:y,closeKey:m,closeName:b,...V})}getDatumId(t){return T3(t.xValue)}computeFocusBounds(t){var r;const e=(r=this.getNodeData())==null?void 0:r.at(t.datumIndex);if(e==null)return;const{centerX:i,y:n,width:s,height:a}=e,o={x:i-s/2,y:n,width:s,height:a};return kSt(this,o)}},{Path:OSt,ScenePathChangeDetection:kh,BBox:RSt}=_,Ll=class extends OSt{constructor(){super(...arguments),this.centerX=0,this.y=0,this.width=0,this.height=0,this.yOpen=0,this.yClose=0,this.crisp=!1,this.strokeAlignment=0}computeBBox(){const{centerX:t,y:e,width:i,height:n}=this;return new RSt(t-i/2,e,i,n)}isPointInPath(t,e){return this.getBBox().containsPoint(t,e)}distanceSquared(t,e){return this.getBBox().distanceSquared(t,e)}get midPoint(){return{x:this.centerX,y:this.y+this.height/2}}alignedCoordinates(){const{y:t,width:e,height:i,crisp:n,strokeAlignment:s}=this;let{centerX:a,yOpen:o,yClose:r}=this,l=a-e/2,c=a+e/2,h=t,p=t+i;if(n&&e>1){a=this.align(a),o=this.align(o),r=this.align(r);const y=this.align(e/2);l=a-y,c=a+y,h=this.align(t),p=h+this.align(h,i)}const f=(h+p)/2;return a+=s,l+=s,c+=s,h-=s,p+=s,o+=o<f?s:-s,r+=r<f?s:-s,{centerX:a,x0:l,x1:c,y0:h,y1:p,yOpen:o,yClose:r}}executeStroke(t,e){const{width:i,strokeWidth:n}=this;i<n&&(t.lineWidth=i),super.executeStroke(t,e)}};A([kh()],Ll.prototype,"centerX");A([kh()],Ll.prototype,"y");A([kh()],Ll.prototype,"width");A([kh()],Ll.prototype,"height");A([kh()],Ll.prototype,"yOpen");A([kh()],Ll.prototype,"yClose");A([kh()],Ll.prototype,"crisp");A([kh()],Ll.prototype,"strokeAlignment");var PSt=class extends Ll{updatePath(){const{path:t}=this,{centerX:e,x0:i,x1:n,y0:s,y1:a,yOpen:o,yClose:r}=this.alignedCoordinates();t.clear(),t.moveTo(e,s),t.lineTo(e,a),Math.abs(n-i)>1&&(t.moveTo(i,o),t.lineTo(e,o),t.moveTo(e,r),t.lineTo(n,r))}},{ScenePathChangeDetection:nv,ExtendedPath2D:BSt}=_,oy=class extends Ll{constructor(){super(...arguments),this.wickPath=new BSt,this.wickStroke=void 0,this.wickStrokeWidth=void 0,this.wickStrokeOpacity=void 0}updatePath(){const{path:t,stroke:e,strokeWidth:i,strokeOpacity:n,lineDash:s,lineDashOffset:a,wickStroke:o,wickStrokeWidth:r,wickStrokeOpacity:l,wickLineDash:c,wickLineDashOffset:h,strokeAlignment:p}=this,{centerX:f,x0:y,x1:m,y0:b,y1:S,yOpen:v,yClose:D}=this.alignedCoordinates();this.path.clear(),this.wickPath.clear();const T=o!=null&&o!==e||r!=null&&r!==i||l!=null&&l!==n||c!=null&&c!==s||h!=null&&h!==a?this.wickPath:t;if(Math.abs(m-y)<=3){T.moveTo(f,b),T.lineTo(f,S);return}const k=Math.min(v,D),E=Math.max(v,D);T.moveTo(f,b),T.lineTo(f,k+i/2),T.moveTo(f,S),T.lineTo(f,E-i/2);const w=p+i/2,R=E-k-2*w;if(R>0)t.rect(y+w,k+w,m-y-2*w,R);else{const O=(k+E)/2;t.moveTo(y,O),t.lineTo(m,O)}}drawPath(t){super.drawPath(t);const{wickPath:e}=this;if(e.isEmpty())return;const{stroke:i,strokeWidth:n,strokeOpacity:s,lineDash:a,lineDashOffset:o,wickStroke:r=i,wickStrokeWidth:l=n,wickStrokeOpacity:c=s,wickLineDash:h=a,wickLineDashOffset:p=o}=this;l!==0&&(t.globalAlpha*=c,typeof r=="string"&&(t.strokeStyle=r),t.lineWidth=l,h!=null&&t.setLineDash(h),t.lineDashOffset=p,t.stroke(e.getPath2D()))}};A([nv()],oy.prototype,"wickStroke");A([nv()],oy.prototype,"wickStrokeWidth");A([nv()],oy.prototype,"wickStrokeOpacity");A([nv()],oy.prototype,"wickLineDash");A([nv()],oy.prototype,"wickLineDashOffset");var{BaseProperties:hK,Validate:an,AbstractBarSeriesProperties:zSt,SeriesTooltip:_St,STRING:Lr,COLOR_STRING:jSt,FUNCTION:FSt,LINE_DASH:GSt,OBJECT:nI,POSITIVE_NUMBER:dK,RATIO:VSt}=_,Qd=class extends hK{constructor(){super(...arguments),this.stroke="#333",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0}};A([an(jSt)],Qd.prototype,"stroke");A([an(dK)],Qd.prototype,"strokeWidth");A([an(VSt)],Qd.prototype,"strokeOpacity");A([an(GSt)],Qd.prototype,"lineDash");A([an(dK)],Qd.prototype,"lineDashOffset");var eR=class extends hK{constructor(){super(...arguments),this.up=new Qd,this.down=new Qd}};A([an(nI)],eR.prototype,"up");A([an(nI)],eR.prototype,"down");var qa=class extends zSt{};A([an(Lr)],qa.prototype,"xKey");A([an(Lr)],qa.prototype,"openKey");A([an(Lr)],qa.prototype,"closeKey");A([an(Lr)],qa.prototype,"highKey");A([an(Lr)],qa.prototype,"lowKey");A([an(Lr,{optional:!0})],qa.prototype,"xName");A([an(Lr,{optional:!0})],qa.prototype,"yName");A([an(Lr,{optional:!0})],qa.prototype,"openName");A([an(Lr,{optional:!0})],qa.prototype,"closeName");A([an(Lr,{optional:!0})],qa.prototype,"highName");A([an(Lr,{optional:!0})],qa.prototype,"lowName");var sI=class extends qa{constructor(){super(...arguments),this.tooltip=new _St,this.item=new eR}};A([an(nI)],sI.prototype,"tooltip");A([an(nI)],sI.prototype,"item");A([an(FSt,{optional:!0})],sI.prototype,"itemStyler");var{BaseProperties:iR,SeriesTooltip:USt,Validate:Rn,COLOR_STRING:nR,FUNCTION:HSt,LINE_DASH:pK,OBJECT:sv,POSITIVE_NUMBER:av,RATIO:sR}=_,ry=class extends iR{};A([Rn(nR,{optional:!0})],ry.prototype,"stroke");A([Rn(av)],ry.prototype,"strokeWidth");A([Rn(sR)],ry.prototype,"strokeOpacity");A([Rn(pK,{optional:!0})],ry.prototype,"lineDash");A([Rn(av)],ry.prototype,"lineDashOffset");var Dr=class extends iR{constructor(){super(...arguments),this.fill="#c16068",this.fillOpacity=1,this.stroke="#333",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.wick=new ry}};A([Rn(nR,{optional:!0})],Dr.prototype,"fill");A([Rn(sR)],Dr.prototype,"fillOpacity");A([Rn(nR)],Dr.prototype,"stroke");A([Rn(av)],Dr.prototype,"strokeWidth");A([Rn(sR)],Dr.prototype,"strokeOpacity");A([Rn(pK)],Dr.prototype,"lineDash");A([Rn(av)],Dr.prototype,"lineDashOffset");A([Rn(av)],Dr.prototype,"cornerRadius");A([Rn(sv)],Dr.prototype,"wick");var aR=class extends iR{constructor(){super(...arguments),this.up=new Dr,this.down=new Dr}};A([Rn(sv)],aR.prototype,"up");A([Rn(sv)],aR.prototype,"down");var aI=class extends qa{constructor(){super(...arguments),this.item=new aR,this.tooltip=new USt}};A([Rn(sv)],aI.prototype,"item");A([Rn(sv)],aI.prototype,"tooltip");A([Rn(HSt,{optional:!0})],aI.prototype,"itemStyler");var{createDatumId:WSt}=_,oR=class extends uK{constructor(){super(...arguments),this.properties=new aI}nodeFactory(){return new oy}updateDatumNodes({datumSelection:t,isHighlight:e}){const{id:i,properties:n}=this,{xKey:s,highKey:a,lowKey:o,openKey:r,closeKey:l,item:c,itemStyler:h}=n,{up:p,down:f}=c,{fill:y,fillOpacity:m,stroke:b,strokeWidth:S,strokeOpacity:v,lineDash:D,lineDashOffset:I}=p,{stroke:T,strokeWidth:k,strokeOpacity:E,lineDash:w,lineDashOffset:R}=p.wick,{fill:O,fillOpacity:L,stroke:F,strokeWidth:z,strokeOpacity:V,lineDash:H,lineDashOffset:W}=f,{stroke:G,strokeWidth:$,strokeOpacity:K,lineDash:X,lineDashOffset:j}=f.wick,U=e?n.highlightStyle.item:void 0;t.each((Z,tt)=>{const{isRising:J,centerX:nt,width:at,y:lt,height:ut,yOpen:pt,yClose:ot,crisp:ft}=tt;let ct;if(h!=null){const{fill:St,fillOpacity:xt,stroke:wt,strokeWidth:kt,strokeOpacity:Nt,lineDash:$t,lineDashOffset:zt}=J?p:f;ct=this.cachedDatumCallback(WSt(this.getDatumId(tt),e?"highlight":"node"),()=>h({seriesId:i,itemId:tt.itemId,xKey:s,highKey:a,lowKey:o,openKey:r,closeKey:l,datum:tt.datum,fill:St,fillOpacity:xt,strokeOpacity:Nt,stroke:wt,strokeWidth:kt,lineDash:$t,lineDashOffset:zt,highlighted:e}))}Z.centerX=nt,Z.width=at,Z.y=lt,Z.height=ut,Z.yOpen=pt,Z.yClose=ot,Z.crisp=ft,Z.fill=(U==null?void 0:U.fill)??(ct==null?void 0:ct.fill)??(J?y:O),Z.fillOpacity=(U==null?void 0:U.fillOpacity)??(ct==null?void 0:ct.fillOpacity)??(J?m:L),Z.stroke=(U==null?void 0:U.stroke)??(ct==null?void 0:ct.stroke)??(J?b:F),Z.strokeWidth=(U==null?void 0:U.strokeWidth)??(ct==null?void 0:ct.strokeWidth)??(J?S:z),Z.strokeOpacity=(U==null?void 0:U.strokeOpacity)??(ct==null?void 0:ct.strokeOpacity)??(J?v:V),Z.lineDash=(U==null?void 0:U.lineDash)??(ct==null?void 0:ct.lineDash)??(J?D:H),Z.lineDashOffset=(U==null?void 0:U.lineDashOffset)??(ct==null?void 0:ct.lineDashOffset)??(J?I:W);const bt=ct==null?void 0:ct.wick;Z.wickStroke=(U==null?void 0:U.stroke)??(bt==null?void 0:bt.stroke)??(J?T:G),Z.wickStrokeWidth=(U==null?void 0:U.strokeWidth)??(bt==null?void 0:bt.strokeWidth)??(J?k:$),Z.wickStrokeOpacity=(U==null?void 0:U.strokeOpacity)??(bt==null?void 0:bt.strokeOpacity)??(J?E:K),Z.wickLineDash=(U==null?void 0:U.lineDash)??(bt==null?void 0:bt.lineDash)??(J?w:X),Z.wickLineDashOffset=(U==null?void 0:U.lineDashOffset)??(bt==null?void 0:bt.lineDashOffset)??(J?R:j),Z.strokeAlignment=((ct==null?void 0:ct.strokeWidth)??(J?S:z))/2})}legendItemSymbol(){const{up:t,down:e}=this.properties.item,i=new _.LinearGradient("rgb",[{color:t.fill,offset:0},{color:t.fill,offset:.5},{color:e.fill,offset:.5}],90),n=new _.LinearGradient("rgb",[{color:t.stroke,offset:0},{color:t.stroke,offset:.5},{color:e.stroke,offset:.5}],90);return{marker:{fill:i,fillOpacity:t.fillOpacity,stroke:n,strokeWidth:t.strokeWidth??1,strokeOpacity:t.strokeOpacity??1,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset}}}getLegendData(t){const{id:e,data:i,visible:n,ctx:{legendManager:s}}=this,{xKey:a,yName:o,showInLegend:r,legendItemName:l}=this.properties;return!(i!=null&&i.length)||!a||t!=="category"?[]:[{legendType:"category",id:e,itemId:e,seriesId:e,enabled:n&&s.getItemEnabled({seriesId:e,itemId:e}),label:{text:l??o??e},symbol:this.legendItemSymbol(),legendItemName:l,hideInLegend:!r}]}};oR.className="CandleStickSeries";oR.type="candlestick";var{CARTESIAN_AXIS_TYPE:L3}=_.ThemeConstants,YSt={series:{highlightStyle:{item:{strokeWidth:3}}},animation:{enabled:!1},axes:{[L3.NUMBER]:{crosshair:{snap:!1}},[L3.ORDINAL_TIME]:{groupPaddingInner:0,crosshair:{enabled:!0}}}},{CARTESIAN_AXIS_TYPE:N3,CARTESIAN_POSITION:E3}=_.ThemeConstants,$St={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"candlestick",moduleFactory:t=>new oR(t),tooltipDefaults:{range:"nearest"},defaultAxes:[{type:N3.NUMBER,position:E3.LEFT},{type:N3.ORDINAL_TIME,position:E3.BOTTOM}],themeTemplate:YSt,groupable:!1,paletteFactory:({takeColors:t,colorsCount:e,userPalette:i,palette:n})=>{if(i==="user-indexed"){const{fills:s,strokes:a}=t(e);return{item:{up:{fill:"transparent",stroke:a[0]},down:{fill:s[0],stroke:a[0]}}}}return{item:{up:n.up,down:n.down}}}};function w3(t,e,i){i||(e=KSt(e));const n=new Map;for(const a of t)n.set(a.id,{datum:a,linksBefore:[],linksAfter:[],maxPathLengthBefore:-1,maxPathLengthAfter:-1});let s=0;return n.forEach((a,o)=>{s=Math.max(s,YL(n,e,a,o,-1,[])+YL(n,e,a,o,1,[])+1)}),{links:e,nodeGraph:n,maxPathLength:s}}function fK(t,e,i,n){const s=n.indexOf(e);if(s!==-1){for(let o=s;o<n.length;o+=1)i.add(n[o]);return}n.push(e);const{toNode:a}=e;for(const o of t)o.fromNode===a&&fK(t,o,i,n);n.pop()}function KSt(t){const e=new Set;for(const i of t)fK(t,i,e,[]);return e.size!==0&&Me.warnOnce("Some links formed circular references. These will be removed from the output."),e.size===0?t:t.filter(i=>!e.has(i))}function YL(t,e,i,n,s,a){if(a.includes(n))return 1/0;let o=s===-1?i.maxPathLengthBefore:i.maxPathLengthAfter;if(o===-1){o=0;const r=s===-1?i.linksBefore:i.linksAfter;for(const l of e){const{fromNode:c,toNode:h}=l,p=s===-1?h.id:c.id,f=s===-1?c.id:h.id,y=n===p?t.get(f):void 0;y!=null&&(r.push({node:y,link:l}),a==null||a.push(n),o=Math.max(o,YL(t,e,y,f,s,a)+1),a==null||a.pop())}s===-1?i.maxPathLengthBefore=o:i.maxPathLengthAfter=o}return o}var{Series:XSt,DataController:ZSt,Validate:qSt,ARRAY:QSt,keyProperty:JSt,valueProperty:NS,Selection:Md,Group:Pf,TransformableText:tMt}=_,eMt=class extends _.SeriesNodeEvent{constructor(t,e,i,n){var o;super(t,e,i,n);const{datumIndex:s}=i,a=(o=n.contextNodeData)==null?void 0:o.nodeData.find(r=>r.datumIndex.type===s.type&&r.datumIndex.index===s.index);this.size=a==null?void 0:a.size,this.label=(a==null?void 0:a.type)===1?a==null?void 0:a.label:void 0}},rR=class extends XSt{constructor(){super(...arguments),this.NodeEvent=eMt,this._chartNodes=void 0,this.nodeCount=0,this.linkCount=0,this.linksDataModel=void 0,this.linksProcessedData=void 0,this.nodesDataModel=void 0,this.nodesProcessedData=void 0,this.processedNodes=new Map,this.linkGroup=this.contentGroup.appendChild(new Pf({name:"linkGroup"})),this.nodeGroup=this.contentGroup.appendChild(new Pf({name:"nodeGroup"})),this.focusLinkGroup=this.highlightNode.appendChild(new Pf({name:"linkGroup"})),this.focusNodeGroup=this.highlightNode.appendChild(new Pf({name:"nodeGroup"})),this.highlightLinkGroup=this.highlightNode.appendChild(new Pf({name:"linkGroup"})),this.highlightNodeGroup=this.highlightNode.appendChild(new Pf({name:"nodeGroup"})),this.labelSelection=Md.select(this.labelGroup,tMt),this.linkSelection=Md.select(this.linkGroup,()=>this.linkFactory()),this.nodeSelection=Md.select(this.nodeGroup,()=>this.nodeFactory()),this.focusLinkSelection=Md.select(this.focusLinkGroup,()=>this.linkFactory()),this.focusNodeSelection=Md.select(this.focusNodeGroup,()=>this.nodeFactory()),this.highlightLinkSelection=Md.select(this.highlightLinkGroup,()=>this.linkFactory()),this.highlightNodeSelection=Md.select(this.highlightNodeGroup,()=>this.nodeFactory())}get nodes(){return this.properties.nodes??this._chartNodes}setChartNodes(t){this._chartNodes=t,this.nodes===t&&(this.nodeDataRefresh=!0)}async processData(t){var m,b;const{data:e,nodes:i}=this;if(e==null||!this.properties.isValid())return;const{fromKey:n,toKey:s,sizeKey:a,idKey:o,labelKey:r}=this.properties,l=new ZSt("standalone",t.suppressFieldDotNotation),c=i!=null?l.request(this.id,i,{props:[JSt(o,void 0,{id:"idValue",includeProperty:!1}),...r!=null?[NS(r,void 0,{id:"labelValue",includeProperty:!1})]:[]],groupByKeys:!0}):null,h=t.request(this.id,e,{props:[NS(n,void 0,{id:"fromValue",includeProperty:!1}),NS(s,void 0,{id:"toValue",includeProperty:!1}),...a!=null?[NS(a,void 0,{id:"sizeValue",includeProperty:!1,missingValue:0})]:[]],groupByKeys:!1});i!=null&&l.execute();const[p,f]=await Promise.all([c,h]);this.nodesDataModel=p==null?void 0:p.dataModel,this.nodesProcessedData=p==null?void 0:p.processedData,this.linksDataModel=f==null?void 0:f.dataModel,this.linksProcessedData=f==null?void 0:f.processedData;const y=new Map;if(p==null){const S=f.dataModel.resolveColumnById(this,"fromValue",f.processedData),v=f.dataModel.resolveColumnById(this,"toValue",f.processedData),D=I=>{const T=y.size;return{series:this,itemId:void 0,datum:{},datumIndex:{type:1,index:T},type:1,index:T,linksBefore:[],linksAfter:[],id:I,size:0,label:I}};(m=f.processedData.dataSources.get(this.id))==null||m.forEach((I,T)=>{const k=S[T],E=v[T];k==null||E==null||(y.has(k)||y.set(k,D(k)),y.has(E)||y.set(E,D(E)))})}else{const S=p.dataModel.resolveColumnById(this,"idValue",p.processedData),v=r!=null?p.dataModel.resolveColumnById(this,"labelValue",p.processedData):void 0;(b=p.processedData.dataSources.get(this.id))==null||b.forEach((D,I)=>{const T=S[I],k=v==null?void 0:v[I];y.set(T,{series:this,itemId:void 0,datum:D,datumIndex:{type:1,index:I},type:1,index:I,linksBefore:[],linksAfter:[],id:T,size:0,label:k})})}this.processedNodes=y}getNodeGraph(t,e,{includeCircularReferences:i}){var m;const{linksDataModel:n,linksProcessedData:s}=this;if(n==null||s==null){const{links:b,nodeGraph:S,maxPathLength:v}=w3(new Map().values(),[],i);return this.nodeCount=0,this.linkCount=0,{nodeGraph:S,links:b,maxPathLength:v}}const{sizeKey:a}=this.properties,o=n.resolveColumnById(this,"fromValue",s),r=n.resolveColumnById(this,"toValue",s),l=a!=null?n.resolveColumnById(this,"sizeValue",s):void 0,c=new Map;this.processedNodes.forEach(b=>{const S=t(b);c.set(b.id,S)});const h=[];(m=s.dataSources.get(this.id))==null||m.forEach((b,S)=>{const v=o[S],D=r[S],I=l!=null?l[S]:1,T=c.get(v),k=c.get(D);if(I<=0||T==null||k==null)return;const E=e({series:this,itemId:void 0,datum:b,datumIndex:{type:0,index:S},type:0,index:S,fromNode:T,toNode:k,size:I});h.push(E)});const{links:p,nodeGraph:f,maxPathLength:y}=w3(c.values(),h,i);return f.forEach(b=>{b.datum.linksBefore=b.linksBefore.map(S=>S.link),b.datum.linksAfter=b.linksAfter.map(S=>S.link)}),this.nodeCount=f.size,this.linkCount=p.length,{nodeGraph:f,links:p,maxPathLength:y}}updateSelections(){this.nodeDataRefresh&&(this.contextNodeData=this.createNodeData(),this.nodeDataRefresh=!1)}update(t){var h,p,f;const{seriesRect:e}=t,i={seriesRectWidth:(e==null?void 0:e.width)??0,seriesRectHeight:(e==null?void 0:e.height)??0};(this._nodeDataDependencies==null||this._nodeDataDependencies.seriesRectWidth!==i.seriesRectWidth||this._nodeDataDependencies.seriesRectHeight!==i.seriesRectHeight)&&(this._nodeDataDependencies=i),this.updateSelections();const n=((h=this.contextNodeData)==null?void 0:h.nodeData)??[],s=((p=this.contextNodeData)==null?void 0:p.labelData)??[];let a=(f=this.ctx.highlightManager)==null?void 0:f.getActiveHighlight();if((a==null?void 0:a.series)===this&&a.type==null){const{itemId:y}=a;a=y!=null?n.find(m=>m.type===1&&m.id===y):void 0}else(a==null?void 0:a.series)!==this&&(a=void 0);this.contentGroup.visible=this.visible,this.contentGroup.opacity=a!=null?this.properties.highlightStyle.series.dimOpacity??1:1,this.labelSelection=this.updateLabelSelection({labelData:s,labelSelection:this.labelSelection}),this.updateLabelNodes({labelSelection:this.labelSelection}),this.linkSelection=this.updateLinkSelection({nodeData:n.filter(y=>y.type===0),datumSelection:this.linkSelection}),this.updateLinkNodes({datumSelection:this.linkSelection,isHighlight:!1}),this.nodeSelection=this.updateNodeSelection({nodeData:n.filter(y=>y.type===1),datumSelection:this.nodeSelection}),this.updateNodeNodes({datumSelection:this.nodeSelection,isHighlight:!1});let o,r,l,c;(a==null?void 0:a.type)===1?(o=n.filter(y=>y.type===0&&(y.toNode===a||y.fromNode===a)),r=o.map(y=>y.fromNode===a?y.toNode:y.fromNode),r.push(a),l=[],c=[a]):(a==null?void 0:a.type)===0?(o=[a],r=[a.fromNode,a.toNode],l=[a],c=[]):(o=[],r=[],l=[],c=[]),this.focusLinkSelection=this.updateLinkSelection({nodeData:o,datumSelection:this.focusLinkSelection}),this.updateLinkNodes({datumSelection:this.focusLinkSelection,isHighlight:!1}),this.focusNodeSelection=this.updateNodeSelection({nodeData:r,datumSelection:this.focusNodeSelection}),this.updateNodeNodes({datumSelection:this.focusNodeSelection,isHighlight:!1}),this.highlightLinkSelection=this.updateLinkSelection({nodeData:l,datumSelection:this.highlightLinkSelection}),this.updateLinkNodes({datumSelection:this.highlightLinkSelection,isHighlight:!0}),this.highlightNodeSelection=this.updateNodeSelection({nodeData:c,datumSelection:this.highlightNodeSelection}),this.updateNodeNodes({datumSelection:this.highlightNodeSelection,isHighlight:!0})}resetAnimation(t){}getSeriesDomain(t){return[]}getSeriesRange(t,e){return[NaN,NaN]}legendItemSymbol(t,e,i={}){const{fills:n,strokes:s}=this.properties,{fill:a=n[e%n.length],fillOpacity:o=1,stroke:r=s[e%s.length],strokeWidth:l=0,strokeOpacity:c=1,lineDash:h=[0],lineDashOffset:p=0}=i;return{marker:{fill:a,fillOpacity:o,stroke:r,strokeWidth:l,strokeOpacity:c,lineDash:h,lineDashOffset:p}}}getLegendData(t){if(t!=="category")return[];const{showInLegend:e}=this.properties;return Array.from(this.processedNodes.values(),({id:i,label:n},s)=>({legendType:"category",id:this.id,itemId:i,seriesId:this.id,enabled:!0,label:{text:n??i},symbol:this.legendItemSymbol(1,s),hideInLegend:!e,isFixed:!0}))}pickNodeClosestDatum({x:t,y:e}){let i=1/0,n;return this.linkSelection.each((s,a)=>{const o=s.containsPoint(t,e)?0:1/0;o<i&&(i=o,n=a)}),this.nodeSelection.each((s,a)=>{const o=s.distanceSquared(t,e);o<i&&(i=o,n=a)}),n!=null?{datum:n,distance:Math.sqrt(i)}:void 0}getDatumAriaText(t,e){if(t.type===0)return this.ctx.localeManager.t("ariaAnnounceFlowProportionLink",{index:t.index+1,count:this.linkCount,from:t.fromNode.id,to:t.toNode.id,size:t.size,sizeName:this.properties.sizeName??this.properties.sizeKey});if(t.type===1)return this.ctx.localeManager.t("ariaAnnounceFlowProportionNode",{index:t.index+1,count:this.nodeCount,description:e})}pickFocus(t){var r,l;const{datumIndexDelta:e,otherIndexDelta:i}=t,n=(r=this.contextNodeData)==null?void 0:r.nodeData[t.datumIndex-t.datumIndexDelta];let s=n;if(i!==0||e===0)return;if((n==null?void 0:n.type)===0){const c=Array.from(this.linkSelection,f=>f.datum),p=c.indexOf(n)+e;if(p>=0&&p<c.length)s=c[p];else if(p>0)s=c[c.length-1];else{const f=Array.from(this.nodeSelection,y=>y.datum);s=f[f.length-1]}}else if((n==null?void 0:n.type)===1){const c=Array.from(this.nodeSelection,f=>f.datum),p=c.indexOf(n)+e;p>=0&&p<c.length?s=c[p]:p<0?s=c[0]:s=Array.from(this.linkSelection,y=>y.datum)[0]}if(s==null)return;const a=s.type===1?Array.from(this.nodeSelection).find(c=>c.datum===s):Array.from(this.linkSelection).find(c=>c.datum===s);if(a==null)return;const o=this.computeFocusBounds(a.node);if(o!=null)return{datum:a.datum,datumIndex:((l=this.contextNodeData)==null?void 0:l.nodeData.indexOf(a.datum))??0,otherIndex:0,bounds:o,clipFocusBox:!0}}};A([qSt(QSt,{optional:!0,property:"nodes"})],rR.prototype,"_chartNodes");var{BBox:iMt,Path:nMt,ScenePathChangeDetection:Lh}=_;function XM({radius:t,startAngle:e,endAngle:i,tension:n}){const s=t*Math.cos(e),a=t*Math.sin(e),o=t*Math.cos(i),r=t*Math.sin(i),l=s*n,c=a*n,h=o*n,p=r*n;return{x:[s,l,h,o],y:[a,c,p,r]}}var Xc=class extends nMt{constructor(){super(...arguments),this.centerX=0,this.centerY=0,this.radius=0,this.startAngle1=0,this.endAngle1=0,this.startAngle2=0,this.endAngle2=0,this.tension=1}computeBBox(){const{centerX:t,centerY:e,radius:i,startAngle1:n,endAngle1:s,startAngle2:a,endAngle2:o,tension:r}=this,l=XM({radius:i,startAngle:n,endAngle:o,tension:r}),c=XM({radius:i,startAngle:a,endAngle:s,tension:r}),h=Math.min(...l.x,...c.x),p=Math.max(...l.x,...c.x)-h,f=Math.min(...l.y,...c.y),y=Math.max(...l.y,...c.y)-f;return new iMt(t+h,e+f,p,y)}tensionedCurveTo(t,e,i,n,s,a,o,r){const{path:l,tension:c}=this,h=1-c;l.cubicCurveTo((i-t)*h+t,(n-e)*h+e,(s-o)*h+o,(a-r)*h+r,o,r)}updatePath(){const{path:t,centerX:e,centerY:i,radius:n}=this;let{startAngle1:s,endAngle1:a,startAngle2:o,endAngle2:r}=this;s>o&&([s,o]=[o,s],[a,r]=[r,a]),t.clear();const l=e+n*Math.cos(s),c=i+n*Math.sin(s);t.moveTo(l,c),this.tensionedCurveTo(l,c,e,i,e,i,e+n*Math.cos(r),i+n*Math.sin(r)),t.arc(e,i,n,r,o,!0),this.tensionedCurveTo(e+n*Math.cos(o),i+n*Math.sin(o),e,i,e,i,e+n*Math.cos(a),i+n*Math.sin(a)),t.arc(e,i,n,a,s,!0),t.closePath()}};A([Lh()],Xc.prototype,"centerX");A([Lh()],Xc.prototype,"centerY");A([Lh()],Xc.prototype,"radius");A([Lh()],Xc.prototype,"startAngle1");A([Lh()],Xc.prototype,"endAngle1");A([Lh()],Xc.prototype,"startAngle2");A([Lh()],Xc.prototype,"endAngle2");A([Lh()],Xc.prototype,"tension");var{BaseProperties:gK,SeriesTooltip:sMt,SeriesProperties:aMt,ARRAY:oMt,COLOR_STRING:oI,COLOR_STRING_ARRAY:yK,FUNCTION:mK,LINE_DASH:xK,OBJECT:rI,POSITIVE_NUMBER:Nh,RATIO:ov,STRING:Eh,Validate:ge,Label:rMt}=_,lR=class extends rMt{constructor(){super(...arguments),this.spacing=1,this.maxWidth=1}};A([ge(Nh)],lR.prototype,"spacing");A([ge(Nh)],lR.prototype,"maxWidth");var Nl=class extends gK{constructor(){super(...arguments),this.fill=void 0,this.fillOpacity=1,this.stroke=void 0,this.strokeOpacity=1,this.strokeWidth=1,this.lineDash=[0],this.lineDashOffset=0,this.tension=0}};A([ge(oI,{optional:!0})],Nl.prototype,"fill");A([ge(ov)],Nl.prototype,"fillOpacity");A([ge(oI,{optional:!0})],Nl.prototype,"stroke");A([ge(ov)],Nl.prototype,"strokeOpacity");A([ge(Nh)],Nl.prototype,"strokeWidth");A([ge(xK)],Nl.prototype,"lineDash");A([ge(Nh)],Nl.prototype,"lineDashOffset");A([ge(ov)],Nl.prototype,"tension");A([ge(mK,{optional:!0})],Nl.prototype,"itemStyler");var Nr=class extends gK{constructor(){super(...arguments),this.spacing=1,this.width=1,this.fill=void 0,this.fillOpacity=1,this.stroke=void 0,this.strokeOpacity=1,this.strokeWidth=1,this.lineDash=[0],this.lineDashOffset=0}};A([ge(Nh)],Nr.prototype,"spacing");A([ge(Nh)],Nr.prototype,"width");A([ge(oI,{optional:!0})],Nr.prototype,"fill");A([ge(ov)],Nr.prototype,"fillOpacity");A([ge(oI,{optional:!0})],Nr.prototype,"stroke");A([ge(ov)],Nr.prototype,"strokeOpacity");A([ge(Nh)],Nr.prototype,"strokeWidth");A([ge(xK)],Nr.prototype,"lineDash");A([ge(Nh)],Nr.prototype,"lineDashOffset");A([ge(mK,{optional:!0})],Nr.prototype,"itemStyler");var Bs=class extends aMt{constructor(){super(...arguments),this.idKey="",this.idName=void 0,this.labelKey=void 0,this.labelName=void 0,this.sizeKey=void 0,this.sizeName=void 0,this.nodes=void 0,this.fills=[],this.strokes=[],this.label=new lR,this.link=new Nl,this.node=new Nr,this.tooltip=new sMt}};A([ge(Eh)],Bs.prototype,"fromKey");A([ge(Eh)],Bs.prototype,"toKey");A([ge(Eh)],Bs.prototype,"idKey");A([ge(Eh,{optional:!0})],Bs.prototype,"idName");A([ge(Eh,{optional:!0})],Bs.prototype,"labelKey");A([ge(Eh,{optional:!0})],Bs.prototype,"labelName");A([ge(Eh,{optional:!0})],Bs.prototype,"sizeKey");A([ge(Eh,{optional:!0})],Bs.prototype,"sizeName");A([ge(oMt,{optional:!0})],Bs.prototype,"nodes");A([ge(yK)],Bs.prototype,"fills");A([ge(yK)],Bs.prototype,"strokes");A([ge(rI)],Bs.prototype,"label");A([ge(rI)],Bs.prototype,"link");A([ge(rI)],Bs.prototype,"node");A([ge(rI)],Bs.prototype,"tooltip");var{SeriesNodePickMode:O3,CachedTextMeasurerPool:lMt,TextWrapper:cMt,TextUtils:uMt,createDatumId:ES,angleBetween:oM,normalizeAngle360:hMt,isBetweenAngles:R3,Sector:dMt,evaluateBezier:wS,applyShapeStyle:pMt}=_,OS=t=>t.startAngle+oM(t.startAngle,t.endAngle)/2,cR=class extends rR{constructor(t){super({moduleCtx:t,pickModes:[O3.NEAREST_NODE,O3.EXACT_SHAPE_MATCH]}),this.properties=new Bs}isLabelEnabled(){return(this.properties.labelKey!=null||this.nodes==null)&&this.properties.label.enabled}linkFactory(){return new Xc}nodeFactory(){return new dMt}createNodeData(){const{id:t,_nodeDataDependencies:{seriesRectWidth:e,seriesRectHeight:i}={seriesRectWidth:0,seriesRectHeight:0}}=this,{fromKey:n,toKey:s,sizeKey:a,label:{spacing:o,maxWidth:r,fontSize:l},node:{width:c,spacing:h}}=this.properties,p=e/2,f=i/2;let y=[];const{nodeGraph:m,links:b}=this.getNodeGraph(V=>({...V,centerX:p,centerY:f,innerRadius:NaN,outerRadius:NaN,startAngle:NaN,endAngle:NaN}),V=>({...V,centerX:p,centerY:f,radius:NaN,startAngle1:NaN,endAngle1:NaN,startAngle2:NaN,endAngle2:NaN}),{includeCircularReferences:!0});let S=0;m.forEach(({datum:V,linksBefore:H,linksAfter:W},G)=>{const $=H.reduce((K,{link:X})=>K+X.size,0)+W.reduce((K,{link:X})=>K+X.size,0);if($===0)m.delete(G);else{V.size=$,S+=V.size;const K=this.getLabelText(this.properties.label,{datum:V.datum,value:V.label,fromKey:n,toKey:s,sizeKey:a,size:V.size});V.label=String(K)}});let v=0;if(this.isLabelEnabled()){const V=this.properties.label.getFont();let H=0;m.forEach(({datum:W})=>{const{id:G,label:$}=W;if($==null)return;const K=cMt.wrapText($,{maxWidth:r,font:this.properties.label,textWrap:"never"}),{width:X}=lMt.measureText(K,{font:V,textAlign:"left",textBaseline:"middle"});H=Math.max(X,H),y.push({id:G,text:K,centerX:p,centerY:f,angle:NaN,radius:NaN})}),v=H+o}const D=m.size;let I=Math.min(e,i)/2-c-v,T=h/I;if(v!==0&&(D*T>=1.5*Math.PI||I<=0)&&(y=[],I=Math.min(e,i)/2-c,T=h/I),D*T>=2*Math.PI||I<=0){Me.warnOnce("There was insufficient space to display the Chord Series.");return}const k=I,E=I+c,w=Math.max((2*Math.PI-D*T)/S,0);let R=0;m.forEach(({datum:V})=>{V.innerRadius=k,V.outerRadius=E,V.startAngle=R,V.endAngle=R+V.size*w,R=V.endAngle+T;const H=(V.innerRadius+V.outerRadius)/2,W=OS(V);V.midPoint={x:V.centerX+H*Math.cos(W),y:V.centerY+H*Math.sin(W)}});const O=[];m.forEach(({datum:V,linksBefore:H,linksAfter:W})=>{const G=OS(V),$=[...H.map(X=>({link:X.link,distance:oM(OS(X.node.datum),G),after:!1})),...W.map(X=>({link:X.link,distance:oM(OS(X.node.datum),G),after:!0}))];let K=V.startAngle;$.toSorted((X,j)=>X.distance-j.distance).forEach(({link:X,after:j})=>{const U=X.size*w;j?(X.startAngle1=K,X.endAngle1=K+U):(X.startAngle2=K,X.endAngle2=K+U),K+=X.size*w}),O.push(V)});const{tension:L}=this.properties.link;b.forEach(V=>{V.radius=I;const H=XM({radius:I,startAngle:V.startAngle1,endAngle:V.endAngle2,tension:L}),W=XM({radius:I,startAngle:V.startAngle2,endAngle:V.endAngle1,tension:L}),G=wS(...H.x,.5),$=wS(...H.y,.5),K=wS(...W.x,.5),X=wS(...W.y,.5);V.midPoint={x:V.centerX+(G+K)/2,y:V.centerY+($+X)/2},O.push(V)}),y.forEach(V=>{var W;const H=(W=m.get(V.id))==null?void 0:W.datum;H!=null&&(V.radius=E+o,V.angle=hMt(H.startAngle+oM(H.startAngle,H.endAngle)/2))}),y.sort((V,H)=>V.angle-H.angle);let F=1/0,z=-1/0;return y=y.filter(V=>{const H=uMt.getLineHeight(l),W=Math.atan2(H/2,V.radius),G=V.angle-W,$=V.angle+W;return R3(F,G,$)||R3(z,G,$)?!1:(F=Math.min(G,F),z=Math.max($,z),!0)}),{itemId:t,nodeData:O,labelData:y}}updateLabelSelection(t){const e=this.isLabelEnabled()?t.labelData:[];return t.labelSelection.update(e)}updateLabelNodes(t){const{labelSelection:e}=t,{color:i,fontStyle:n,fontWeight:s,fontSize:a,fontFamily:o}=this.properties.label;e.each((r,{text:l,centerX:c,centerY:h,radius:p,angle:f})=>{r.visible=!0,r.translationX=c+p*Math.cos(f),r.translationY=h+p*Math.sin(f),r.text=l,r.fill=i,r.fontStyle=n,r.fontWeight=s,r.fontSize=a,r.fontFamily=o,r.textBaseline="middle",Math.cos(f)>=0?(r.textAlign="left",r.rotation=f):(r.textAlign="right",r.rotation=f-Math.PI)})}updateNodeSelection(t){return t.datumSelection.update(t.nodeData,void 0,e=>ES([e.type,e.id]))}getBaseNodeStyle(t){const{properties:e}=this,{fill:i,fillOpacity:n,stroke:s,strokeOpacity:a,lineDash:o,lineDashOffset:r}=e.node,l=t?e.highlightStyle.item:void 0;return{fill:(l==null?void 0:l.fill)??i,fillOpacity:(l==null?void 0:l.fillOpacity)??n,stroke:(l==null?void 0:l.stroke)??s,strokeOpacity:(l==null?void 0:l.strokeOpacity)??a,strokeWidth:(l==null?void 0:l.strokeWidth)??this.getStrokeWidth(e.node.strokeWidth),lineDash:(l==null?void 0:l.lineDash)??o,lineDashOffset:(l==null?void 0:l.lineDashOffset)??r}}getNodeStyleOverrides(t,e,i,n,s,a,o){const{id:r,properties:l}=this,{fills:c,strokes:h}=l,{itemStyler:p}=l.node,f=a.fill??c[i%c.length],y=a.stroke??h[i%h.length],m={};if(o||(m.fill=f,m.stroke=y),p!=null){const b=this.cachedDatumCallback(ES(t,o?"highlight":"node"),()=>{const{fillOpacity:S=1,strokeOpacity:v=1,strokeWidth:D=0,lineDash:I=[],lineDashOffset:T=0}=a;return p({seriesId:r,datum:e,highlighted:o,label:s,size:n,fill:f,fillOpacity:S,stroke:y,strokeOpacity:v,strokeWidth:D,lineDash:I,lineDashOffset:T})});Object.assign(m,b)}return m}updateNodeNodes(t){const{datumSelection:e,isHighlight:i}=t,n=this.getBaseNodeStyle(i);e.each((s,a)=>{const{datumIndex:o,size:r,label:l}=a,c=this.getNodeStyleOverrides(String(o),a,o.index,r,l,n,i);s.centerX=a.centerX,s.centerY=a.centerY,s.innerRadius=a.innerRadius,s.outerRadius=a.outerRadius,s.startAngle=a.startAngle,s.endAngle=a.endAngle,s.fill=c.fill??(n==null?void 0:n.fill),s.fillOpacity=c.fillOpacity??(n==null?void 0:n.fillOpacity),s.stroke=c.stroke??(n==null?void 0:n.stroke),s.strokeOpacity=c.strokeOpacity??(n==null?void 0:n.strokeOpacity),s.strokeWidth=c.strokeWidth??(n==null?void 0:n.strokeWidth),s.lineDash=c.lineDash??(n==null?void 0:n.lineDash),s.lineDashOffset=c.lineDashOffset??(n==null?void 0:n.lineDashOffset),s.inset=s.strokeWidth/2})}updateLinkSelection(t){return t.datumSelection.update(t.nodeData,void 0,e=>ES([e.type,e.index,e.fromNode.id,e.toNode.id]))}getBaseLinkStyle(t){const{properties:e}=this,{fill:i,fillOpacity:n,stroke:s,strokeOpacity:a,lineDash:o,lineDashOffset:r,tension:l}=e.link,c=t?e.highlightStyle.item:void 0;return{fill:(c==null?void 0:c.fill)??i,fillOpacity:(c==null?void 0:c.fillOpacity)??n,stroke:(c==null?void 0:c.stroke)??s,strokeOpacity:(c==null?void 0:c.strokeOpacity)??a,strokeWidth:(c==null?void 0:c.strokeWidth)??this.getStrokeWidth(e.link.strokeWidth),lineDash:(c==null?void 0:c.lineDash)??o,lineDashOffset:(c==null?void 0:c.lineDashOffset)??r,tension:l}}getLinkStyleOverrides(t,e,i,n,s){const{id:a,properties:o}=this,{fills:r,strokes:l}=o,{itemStyler:c}=o.link,h=n.fill??r[i%r.length],p=n.stroke??l[i%l.length],f={};if(s||(f.fill=h,f.stroke=p),c!=null){const y=this.cachedDatumCallback(ES(t,s?"highlight":"node"),()=>{const{fillOpacity:m=1,strokeOpacity:b=1,strokeWidth:S=0,lineDash:v=[],lineDashOffset:D=0,tension:I}=n;return c({seriesId:a,datum:e,highlighted:s,tension:I,fill:h,fillOpacity:m,stroke:p,strokeOpacity:b,strokeWidth:S,lineDash:v,lineDashOffset:D})});Object.assign(f,y)}return f}updateLinkNodes(t){const{datumSelection:e,isHighlight:i}=t,n=this.getBaseLinkStyle(i);e.each((s,a)=>{const{datumIndex:o}=a,r=a.fromNode.datumIndex,l=this.getLinkStyleOverrides(String(o),a,r.index,n,i);s.centerX=a.centerX,s.centerY=a.centerY,s.radius=a.radius,s.startAngle1=a.startAngle1,s.endAngle1=a.endAngle1,s.startAngle2=a.startAngle2,s.endAngle2=a.endAngle2,pMt(s,n,l),s.tension=(l==null?void 0:l.tension)??n.tension})}getTooltipContent(t){var S,v;const{id:e,linksProcessedData:i,nodesProcessedData:n,properties:s}=this,{fromKey:a,toKey:o,sizeKey:r,sizeName:l,tooltip:c}=s,{datumIndex:h}=t,p=t.type===0?t.fromNode.index:t.index,f=t.type===0?`${t.fromNode.label} - ${t.toNode.label}`:t.label,y=h.type===0?(S=i==null?void 0:i.dataSources.get(this.id))==null?void 0:S[h.index]:(v=n==null?void 0:n.dataSources.get(this.id))==null?void 0:v[h.index],m=t.size;let b;if(t.type===0){const D=t.fromNode.datumIndex,I=this.getBaseLinkStyle(!1);Object.assign(I,this.getLinkStyleOverrides(String(h),y,D.index,I,!1)),b=I}else{const D=t.label,I=this.getBaseNodeStyle(!1);Object.assign(I,this.getNodeStyleOverrides(String(h),y,h.index,m,D,I,!1)),b=I}return c.formatTooltip({title:f,symbol:this.legendItemSymbol(t.type,p,b),data:r!=null?[{label:l,fallbackLabel:r,value:String(m)}]:[]},{seriesId:e,datum:y,title:f,fromKey:a,toKey:o,sizeKey:r,sizeName:l,size:m,...b})}computeFocusBounds(t){return t}};cR.className="ChordSeries";cR.type="chord";var fMt={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["flow-proportion"],solo:!0,identifier:"chord",tooltipDefaults:{range:"exact"},moduleFactory:t=>new cR(t),themeTemplate:{series:{highlightStyle:{series:{dimOpacity:.2}},label:{fontFamily:{$ref:"fontFamily"},fontSize:{$ref:"fontSize"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"},spacing:5,maxWidth:100},node:{spacing:8,width:10,strokeWidth:0},link:{fillOpacity:.5,strokeWidth:0,tension:.4}},legend:{enabled:!1,toggleSeries:!1}},paletteFactory({takeColors:t,colorsCount:e}){const{fills:i,strokes:n}=t(e);return{fills:i,strokes:n}}},{ThemeConstants:{CARTESIAN_AXIS_TYPE:Qf,CARTESIAN_POSITION:Bf},ThemeSymbols:{DEFAULT_SHADOW_COLOUR:gMt}}=_;function bK(t){const{placement:e,...i}=(t==null?void 0:t.stageLabel)??{};return(t==null?void 0:t.direction)!=="horizontal"?[{type:Qf.CATEGORY,position:e==="after"?Bf.RIGHT:Bf.LEFT,label:i},{type:Qf.NUMBER,position:Bf.BOTTOM}]:[{type:Qf.NUMBER,position:Bf.LEFT},{type:Qf.CATEGORY,position:e==="before"?Bf.TOP:Bf.BOTTOM,label:i}]}var yMt={series:{direction:"vertical",strokeWidth:0,spacingRatio:.25,label:{enabled:!0,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"backgroundColor"}},dropOff:{enabled:!0,fillOpacity:.2,strokeWidth:0},shadow:{enabled:!1,color:gMt,xOffset:3,yOffset:3,blur:5}},axes:{[Qf.NUMBER]:{nice:!1,gridLine:{enabled:!1},crosshair:{enabled:!1},label:{enabled:!1,formatter(t){return Math.abs(t.value).toFixed(t.fractionDigits??0)}}},[Qf.CATEGORY]:{line:{enabled:!1}}}},{lineDistanceSquared:RS,BBox:mMt,Path:xMt,ScenePathChangeDetection:wh}=_,P3=1e-6;function B3([t,e],[i,n]){return Math.abs(t-i)<=P3&&Math.abs(e-n)<=P3}var El=class extends xMt{constructor(){super(...arguments),this.x0=0,this.y0=0,this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.x3=0,this.y3=0}get midPoint(){const{x0:t,y0:e,x1:i,y1:n,x2:s,y2:a,x3:o,y3:r}=this;return{x:(t+i+s+o)/4,y:(e+n+a+r)/4}}distanceSquared(t,e){if(this.containsPoint(t,e))return 0;const{x0:i,y0:n,x1:s,y1:a,x2:o,y2:r,x3:l,y3:c}=this;return Math.min(RS(t,e,i,n,s,a,1/0),RS(t,e,s,a,o,r,1/0),RS(t,e,o,r,l,c,1/0),RS(t,e,l,c,i,n,1/0))}computeBBox(){const{x0:t,y0:e,x1:i,y1:n,x2:s,y2:a,x3:o,y3:r}=this,l=Math.min(t,i,s,o),c=Math.max(t,i,s,o)-l,h=Math.min(e,n,a,r),p=Math.max(e,n,a,r)-h;return new mMt(l,h,c,p)}updatePath(){const{path:t,x0:e,y0:i,x1:n,y1:s,x2:a,y2:o,x3:r,y3:l}=this,c=[[e,i],[n,s],[a,o],[r,l]];t.clear();let h,p;c.forEach(f=>{if(h!=null&&B3(h,f)||p!=null&&B3(p,f))return;const[y,m]=f;h==null?t.moveTo(y,m):t.lineTo(y,m),h??(h=f),p=f}),t.closePath()}};A([wh()],El.prototype,"x0");A([wh()],El.prototype,"y0");A([wh()],El.prototype,"x1");A([wh()],El.prototype,"y1");A([wh()],El.prototype,"x2");A([wh()],El.prototype,"y2");A([wh()],El.prototype,"x3");A([wh()],El.prototype,"y3");var{NODE_UPDATE_STATE_TO_PHASE_MAPPING:bMt}=_;function z3(t,e,i,n){const{x0:s,y0:a,x1:o,y1:r,x2:l,y2:c,x3:h,y3:p,opacity:f}=t;return i?{x0:(s+h)/2,y0:(a+p)/2,x1:(o+l)/2,y1:(r+c)/2,x2:(o+l)/2,y2:(r+c)/2,x3:(s+h)/2,y3:(a+p)/2,opacity:f}:{x0:(s+o)/2,y0:(a+r)/2,x1:(s+o)/2,y1:(a+r)/2,x2:(l+h)/2,y2:(c+p)/2,x3:(l+h)/2,y3:(c+p)/2,opacity:f}}function vMt(t,e){const i=a=>a==null;return{fromFn:(a,o,r)=>{r==="updated"&&i(o)?r="removed":r==="updated"&&i(a.previousDatum)&&(r="added");let l;r==="added"&&a.previousDatum==null&&e==="fade"||(r==="unknown"||r==="added"?l=z3(o,a.previousDatum,t):l={x0:a.x0,y0:a.y0,x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2,x3:a.x3,y3:a.y3,opacity:a.opacity});const c=bMt[r];return{...l,phase:c}},toFn:(a,o,r)=>{let l;return r==="removed"&&a.datum==null&&e==="fade"||(r==="removed"||i(o)?l=z3(o,a.previousDatum,t):l=$L(a,o)),l}}}function $L(t,e){const{x0:i,y0:n,x1:s,y1:a,x2:o,y2:r,x3:l,y3:c,opacity:h}=e;return{x0:i,y0:n,x1:s,y1:a,x2:o,y2:r,x3:l,y3:c,opacity:h}}var{SeriesNodePickMode:_3,SeriesZIndexMap:j3,valueProperty:SMt,keyProperty:MMt,ChartAxisDirection:F3,updateLabelNode:AMt,SMALLEST_KEY_INTERVAL:DMt,LARGEST_KEY_INTERVAL:IMt,diff:TMt,fixNumericExtent:CMt,seriesLabelFadeInAnimation:G3,resetMotion:kMt,resetLabelFn:LMt,animationValidation:NMt,computeBarFocusBounds:EMt,ContinuousScale:wMt,Group:OMt,Selection:RMt,PointerEvents:V3,motion:PMt,checkCrisp:BMt,createDatumId:zMt}=_,_Mt=class extends _.SeriesNodeEvent{constructor(t,e,i,n){super(t,e,i,n),this.xKey=n.properties.stageKey,this.yKey=n.properties.valueKey}},vK=class extends _.AbstractBarSeries{constructor({moduleCtx:t,animationResetFns:e}){super({moduleCtx:t,pickModes:[_3.AXIS_ALIGNED,_3.EXACT_SHAPE_MATCH],hasHighlightedLabels:!0,directionKeys:{x:["stageKey"],y:["valueKey"]},directionNames:{x:[],y:[]},datumSelectionGarbageCollection:!1,animationResetFns:{datum:e.datum,label:LMt}}),this.NodeEvent=_Mt,this.connectorNodeGroup=this.contentGroup.appendChild(new OMt({name:`${this.id}-series-connectorNodes`,zIndex:j3.BACKGROUND})),this.connectorSelection=RMt.select(this.connectorNodeGroup,()=>this.connectionFactory()),this.connectorNodeGroup.pointerEvents=V3.None}get pickModeAxis(){return"main-category"}setSeriesIndex(t){return super.setSeriesIndex(t)?(this.connectorNodeGroup.zIndex=[j3.BACKGROUND,t],!0):!1}isVertical(){return!super.isVertical()}connectionFactory(){return new El}async processData(t){var m,b,S,v;if(!this.properties.isValid())return;const{stageKey:e,valueKey:i}=this.properties,{visible:n,id:s}=this,a=(D,I,T)=>n&&this.ctx.legendManager.getItemEnabled({seriesId:s,itemId:T}),o=(m=this.getCategoryAxis())==null?void 0:m.scale,r=(b=this.getValueAxis())==null?void 0:b.scale,{isContinuousX:l,xScaleType:c,yScaleType:h}=this.getScaleInformation({xScale:o,yScale:r}),p=[];this.ctx.animationManager.isSkipped()||(this.processedData&&p.push(TMt(this.id,this.processedData)),p.push(NMt()));const f=this.visible?{}:{forceValue:0},{processedData:y}=await this.requestDataModel(t,this.data,{props:[MMt(e,c,{id:"xValue"}),SMt(i,h,{id:"yValue",...f,validation:a,invalidValue:0}),...l?[DMt,IMt]:[],...p],groupByKeys:!1});this.smallestDataInterval=(S=y.reduced)==null?void 0:S.smallestKeyInterval,this.largestDataInterval=(v=y.reduced)==null?void 0:v.largestKeyInterval,this.animationState.transition("updateData")}getSeriesDomain(t){const{processedData:e,dataModel:i,id:n,ctx:{legendManager:s}}=this;if(!e||!i)return[];const{keys:[a]}=e.domain;if(t===this.getCategoryDirection()){const o=i.resolveProcessedDataDefById(this,"xValue");return(o==null?void 0:o.def.type)==="key"&&(o==null?void 0:o.def.valueType)==="category"?this.hasData?a.filter((r,l)=>s.getItemEnabled({seriesId:n,itemId:l})):[]:this.padBandExtent(a)}else{const o=this.domainForClippedRange(F3.Y,["yValue"],"xValue",!0),r=Math.max(...o),l=[-r,r];return CMt(l)}}getSeriesRange(t,e){return[NaN,NaN]}createNodeData(){const{hasData:t,data:e,dataModel:i,groupScale:n,processedData:s,id:a,ctx:{legendManager:o}}=this,r=this.getCategoryAxis(),l=this.getValueAxis();if(!(t&&e&&r&&l&&i&&(s==null?void 0:s.type)==="ungrouped"))return;const c=r.scale,h=l.scale,p=this.getBarDirection()===F3.X,{stageKey:f,valueKey:y}=this.properties,{strokeWidth:m}=this.barStyle(),b=`${y}`,S={itemId:b,nodeData:[],labelData:[],connectorData:[],scales:this.calculateScaling(),visible:this.visible},v=this.visible;if(!v)return S;const D=i.resolveKeysById(this,"xValue",s),I=i.resolveColumnById(this,"yValue",s),{barWidth:T,groupIndex:k}=this.updateGroupScale(r),E=wMt.is(c)?T*-.5:0,w=BMt(r==null?void 0:r.scale,r==null?void 0:r.visibleRange,this.smallestDataInterval,this.largestDataInterval);let R;return(s.dataSources.get(this.id)??[]).forEach((L,F)=>{const z=v&&o.getItemEnabled({seriesId:a,itemId:F}),V=D[F];if(V==null)return;const H=Math.round(c.convert(V))+n.convert(String(k))+E,W=I[F],G=Math.round(h.convert(-W)),$=Math.round(h.convert(W)),K=Math.max(m,Math.abs($-G)),X={x:p?Math.min($,G):H,y:p?H:Math.min($,G),width:p?K:T,height:p?T:K},j={x:X.x+X.width/2,y:X.y+X.height/2},U=this.createLabelData({datumIndex:F,rect:X,barAlongX:p,yDatum:W,datum:L,visible:z}),Z={index:F,series:this,itemId:b,datum:L,datumIndex:F,xValue:V,yValue:W,xKey:f,yKey:y,x:X.x,y:X.y,width:X.width,height:X.height,midPoint:j,strokeWidth:m,crisp:w,label:U,visible:z};if(S.nodeData.push(Z),U!=null&&S.labelData.push(U),R!=null){const tt=R.rect,J=R.nodeDatum,nt=R.datumIndex;p?S.connectorData.push({datum:J,datumIndex:nt,x0:tt.x,y0:tt.y+tt.height,x1:tt.x+tt.width,y1:tt.y+tt.height,x2:X.x+X.width,y2:X.y,x3:X.x,y3:X.y,opacity:1}):S.connectorData.push({datum:J,datumIndex:nt,x0:tt.x+tt.width,y0:tt.y,x1:X.x,y1:X.y,x2:X.x,y2:X.y+X.height,x3:tt.x+tt.width,y3:tt.y+tt.height,opacity:1})}z&&(R={itemId:b,rect:X,nodeDatum:Z,datumIndex:F})}),S}updateNodes(t,e,i){var a;super.updateNodes(t,e,i);const{connectorSelection:n}=this,s=((a=this.contextNodeData)==null?void 0:a.connectorData)??[];this.connectorSelection=this.updateConnectorSelection({connectorSelection:n,connectorData:s}),this.updateConnectorNodes({connectorSelection:n})}updateDatumSelection(t){const{nodeData:e,datumSelection:i}=t,n=e??[];return i.update(n,void 0,s=>this.getDatumId(s))}updateConnectorSelection(t){const{connectorData:e,connectorSelection:i}=t;return i.update(this.connectorEnabled()?e:[],void 0,n=>this.getDatumId(n.datum))}updateConnectorNodes(t){const{fills:e,strokes:i}=this.properties,{fill:n,fillOpacity:s,stroke:a,strokeOpacity:o,strokeWidth:r,lineDash:l,lineDashOffset:c}=this.connectorStyle();t.connectorSelection.each((h,p)=>{const{datumIndex:f}=p;h.setProperties($L(h,p)),h.fill=n??e[f%e.length],h.fillOpacity=s,h.stroke=a??i[f%i.length],h.strokeOpacity=o,h.strokeWidth=r,h.lineDash=l,h.lineDashOffset=c})}getHighlightLabelData(t,e){const i=t.filter(n=>n.datum===e.datum);return i.length>0?i:void 0}updateLabelSelection(t){const e=this.properties.label.enabled?t.labelData:[];return t.labelSelection.update(e,i=>{i.pointerEvents=V3.None})}updateLabelNodes(t){t.labelSelection.each((e,i)=>{AMt(e,this.properties.label,i)})}getTooltipContent(t){var m;const{id:e,dataModel:i,processedData:n,properties:s}=this,{stageKey:a,valueKey:o,tooltip:r}=s,l=this.getCategoryAxis(),c=this.getValueAxis();if(!i||!n||!l||!c)return;const{datumIndex:h}=t,p=(m=n.dataSources.get(this.id))==null?void 0:m[h],f=i.resolveKeysById(this,"xValue",n)[h],y=i.resolveColumnById(this,"yValue",n)[h];if(f!=null)return r.formatTooltip({symbol:this.legendItemSymbol(h),data:[{label:l.formatDatum(f),value:c.formatDatum(y)}]},{seriesId:e,datum:p,title:a,stageKey:a,valueKey:o,...this.tooltipStyle(p,h)})}resetAllAnimation(t){super.resetAllAnimation(t),kMt([this.connectorSelection],$L)}animateEmptyUpdateReady({labelSelection:t}){const{connectorSelection:e}=this,i=this.isVertical(),s=vMt(i,"normal");PMt.fromToMotion(this.id,"connectors",this.ctx.animationManager,[e],s),G3(this,"labels",this.ctx.animationManager,t)}animateWaitingUpdateReady(t){const{labelSelection:e}=t;this.ctx.animationManager.stopByAnimationGroupId(this.id),G3(this,"labels",this.ctx.animationManager,e)}getDatumId(t){return zMt(t.xValue)}isLabelEnabled(){return this.properties.label.enabled}computeFocusBounds({datumIndex:t}){var e;return EMt(this,(e=this.contextNodeData)==null?void 0:e.nodeData[t])}legendItemSymbol(t){const{strokeWidth:e,fillOpacity:i,strokeOpacity:n,lineDash:s,lineDashOffset:a}=this.barStyle(),{fills:o,strokes:r}=this.properties,l=o[t%o.length]??"black",c=r[t%r.length]??"black";return{marker:{fill:l,fillOpacity:i,stroke:c,strokeWidth:e,strokeOpacity:n,lineDash:s,lineDashOffset:a}}}getLegendData(t){const{id:e,processedData:i,dataModel:n,ctx:{legendManager:s},visible:a}=this;if(!n||!i||t!=="category"||!this.properties.isValid())return[];const{showInLegend:o}=this.properties,r=n.resolveKeysById(this,"xValue",i);return(i.dataSources.get(this.id)??[]).map((l,c)=>{const h=r[c];if(h!=null)return{legendType:"category",id:e,datum:l,itemId:c,seriesId:e,enabled:a&&s.getItemEnabled({seriesId:e,itemId:c}),label:{text:String(h)},symbol:this.legendItemSymbol(c),skipAnimations:!0,hideInLegend:!o}}).filter(l=>l!=null)}},{Label:jMt,AbstractBarSeriesProperties:FMt,SeriesTooltip:GMt,AxisLabel:VMt,Validate:aa,UNION:SK,COLOR_STRING_ARRAY:MK,LINE_DASH:UMt,OBJECT:uR,POSITIVE_NUMBER:hR,RATIO:AK,STRING:DK}=_,dR=class extends jMt{constructor(){super(...arguments),this.spacing=0}};A([aa(SK(["before","middle","after"],"a placement"))],dR.prototype,"placement");A([aa(hR)],dR.prototype,"spacing");var IK=class extends VMt{};A([aa(SK(["before","after"],"a placement"))],IK.prototype,"placement");var Qa=class extends FMt{constructor(){super(...arguments),this.fills=[],this.fillOpacity=1,this.strokes=[],this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.label=new dR,this.stageLabel=new IK,this.tooltip=new GMt}};A([aa(DK)],Qa.prototype,"stageKey");A([aa(DK)],Qa.prototype,"valueKey");A([aa(MK)],Qa.prototype,"fills");A([aa(AK)],Qa.prototype,"fillOpacity");A([aa(MK)],Qa.prototype,"strokes");A([aa(hR)],Qa.prototype,"strokeWidth");A([aa(AK)],Qa.prototype,"strokeOpacity");A([aa(UMt)],Qa.prototype,"lineDash");A([aa(hR)],Qa.prototype,"lineDashOffset");A([aa(uR)],Qa.prototype,"label");A([aa(uR)],Qa.prototype,"stageLabel");A([aa(uR)],Qa.prototype,"tooltip");function U3(t,{x:e,y:i,width:n,height:s,opacity:a}){return{x1:e,y1:i,x2:e+n,y2:i+s,opacity:a}}var{formatValue:HMt,Line:WMt}=_,pR=class extends vK{constructor(t){super({moduleCtx:t,animationResetFns:{datum:U3}}),this.properties=new Qa}get hasData(){var n;const{id:t,ctx:{legendManager:e}}=this,i=(n=this.data)==null?void 0:n.reduce((s,a,o)=>s+(e.getItemEnabled({seriesId:t,itemId:o})?1:0),0);return i!=null&&i>1}getBandScalePadding(){return{inner:1,outer:0}}connectorEnabled(){return!0}barStyle(){return{fillOpacity:1,strokeOpacity:1,strokeWidth:0,lineDash:[],lineDashOffset:0}}connectorStyle(){const{fillOpacity:t,strokeOpacity:e,strokeWidth:i,lineDash:n,lineDashOffset:s}=this.properties;return{fillOpacity:t,strokeOpacity:e,strokeWidth:i,lineDash:n,lineDashOffset:s}}nodeFactory(){return new WMt}createLabelData({datumIndex:t,rect:e,barAlongX:i,yDatum:n,datum:s,visible:a}){const{stageKey:o,valueKey:r,label:l}=this.properties,{spacing:c,placement:h}=l;let p,f,y,m;if(i)switch(p=e.x+e.width/2,y="center",h){case"before":f=e.y-c,m="bottom";break;case"after":f=e.y+e.height+c,m="top";break;default:f=e.y+e.height/2,m="middle"}else switch(f=e.y+e.height/2,m="middle",h){case"before":p=e.x-c,y="right";break;case"after":p=e.x+e.width+c,y="left";break;default:p=e.x+e.width/2,y="center"}return{x:p,y:f,textAlign:y,textBaseline:m,text:this.getLabelText(l,{itemId:r,value:n,datum:s,stageKey:o,valueKey:r},b=>HMt(b,0)),itemId:r,datum:s,datumIndex:t,series:this,visible:a}}updateDatumNodes(t){const e=t.isHighlight?this.properties.highlightStyle.item:void 0;t.datumSelection.each((i,n)=>{i.setProperties(U3(i,n)),i.stroke=e==null?void 0:e.stroke,i.strokeWidth=(e==null?void 0:e.strokeWidth)??0,i.strokeOpacity=(e==null?void 0:e.strokeOpacity)??1,i.lineDash=e==null?void 0:e.lineDash,i.lineDashOffset=(e==null?void 0:e.lineDashOffset)??0})}tooltipStyle(t,e){const{fills:i,strokes:n}=this.properties,s=i[e%i.length]??"black",a=n[e%n.length]??"black",{fillOpacity:o,strokeOpacity:r,strokeWidth:l,lineDash:c,lineDashOffset:h}=this.barStyle();return{fill:s,fillOpacity:o,stroke:a,strokeOpacity:r,strokeWidth:l,lineDash:c,lineDashOffset:h}}};pR.className="ConeFunnelSeries";pR.type="cone-funnel";var{ThemeConstants:{CARTESIAN_AXIS_TYPE:H3}}=_,YMt={series:{direction:"vertical",strokeWidth:0,label:{enabled:!0,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"},placement:"before",spacing:4}},seriesArea:{padding:{top:20,bottom:20}},axes:{[H3.NUMBER]:{nice:!1,gridLine:{enabled:!1},crosshair:{enabled:!1},label:{enabled:!1,formatter(t){return Math.abs(t.value).toFixed(t.fractionDigits??0)}}},[H3.CATEGORY]:{line:{enabled:!1}}}},$Mt={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"cone-funnel",moduleFactory:t=>new pR(t),solo:!0,tooltipDefaults:{range:"nearest"},defaultAxes:bK,themeTemplate:YMt,paletteFactory:({userPalette:t,themeTemplateParameters:e,takeColors:i,colorsCount:n})=>{const{fills:s}=i(n),a=e.get(_.ThemeSymbols.DEFAULT_FUNNEL_SERIES_COLOR_RANGE),o=t==="inbuilt"?a:[s[0],s[1]];return{fills:o,strokes:o.slice(0)}}},{Label:KMt,DropShadow:XMt,AbstractBarSeriesProperties:ZMt,BaseProperties:qMt,SeriesTooltip:QMt,AxisLabel:JMt,Validate:gi,UNION:tAt,BOOLEAN:eAt,COLOR_STRING_ARRAY:TK,COLOR_STRING:CK,FUNCTION:iAt,LINE_DASH:kK,OBJECT:rv,POSITIVE_NUMBER:lI,RATIO:lv,STRING:LK}=_,nAt=class extends KMt{},NK=class extends JMt{};A([gi(tAt(["before","after"],"a placement"))],NK.prototype,"placement");var Zc=class extends qMt{constructor(){super(...arguments),this.enabled=!0,this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0}};A([gi(eAt)],Zc.prototype,"enabled");A([gi(CK,{optional:!0})],Zc.prototype,"fill");A([gi(lv)],Zc.prototype,"fillOpacity");A([gi(CK,{optional:!0})],Zc.prototype,"stroke");A([gi(lI)],Zc.prototype,"strokeWidth");A([gi(lv)],Zc.prototype,"strokeOpacity");A([gi(kK)],Zc.prototype,"lineDash");A([gi(lI)],Zc.prototype,"lineDashOffset");var ps=class extends ZMt{constructor(){super(...arguments),this.fills=[],this.fillOpacity=1,this.strokes=[],this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.spacingRatio=0,this.dropOff=new Zc,this.shadow=new XMt().set({enabled:!1}),this.label=new nAt,this.stageLabel=new NK,this.tooltip=new QMt}};A([gi(LK)],ps.prototype,"stageKey");A([gi(LK)],ps.prototype,"valueKey");A([gi(TK)],ps.prototype,"fills");A([gi(lv)],ps.prototype,"fillOpacity");A([gi(TK)],ps.prototype,"strokes");A([gi(lI)],ps.prototype,"strokeWidth");A([gi(lv)],ps.prototype,"strokeOpacity");A([gi(kK)],ps.prototype,"lineDash");A([gi(lI)],ps.prototype,"lineDashOffset");A([gi(lv)],ps.prototype,"spacingRatio");A([gi(iAt,{optional:!0})],ps.prototype,"itemStyler");A([gi(rv)],ps.prototype,"dropOff");A([gi(rv)],ps.prototype,"shadow");A([gi(rv)],ps.prototype,"label");A([gi(rv)],ps.prototype,"stageLabel");A([gi(rv)],ps.prototype,"tooltip");var{ChartAxisDirection:sAt,resetBarSelectionsFn:aAt,prepareBarAnimationFunctions:W3,midpointStartingBarPosition:Y3,createDatumId:oAt,formatValue:rAt,Rect:lAt,motion:$3,applyShapeStyle:cAt}=_,fR=class extends vK{constructor(t){super({moduleCtx:t,animationResetFns:{datum:aAt}}),this.properties=new ps}getBandScalePadding(){return{inner:this.properties.spacingRatio,outer:0}}connectorEnabled(){return this.properties.dropOff.enabled}barStyle(){const{fillOpacity:t,strokeOpacity:e,strokeWidth:i,lineDash:n,lineDashOffset:s}=this.properties;return{fillOpacity:t,strokeOpacity:e,strokeWidth:i,lineDash:n,lineDashOffset:s}}connectorStyle(){const{fill:t,fillOpacity:e,stroke:i,strokeOpacity:n,strokeWidth:s,lineDash:a,lineDashOffset:o}=this.properties.dropOff;return{fill:t,fillOpacity:e,stroke:i,strokeOpacity:n,strokeWidth:s,lineDash:a,lineDashOffset:o}}nodeFactory(){return new lAt}createLabelData({datumIndex:t,rect:e,yDatum:i,datum:n,visible:s}){const{valueKey:a,stageKey:o,label:r}=this.properties;return{x:e.x+e.width/2,y:e.y+e.height/2,textAlign:"center",textBaseline:"middle",text:this.getLabelText(r,{itemId:o,value:i,datum:n,valueKey:a,stageKey:o},l=>rAt(l,0)),itemId:o,datum:n,datumIndex:t,series:this,visible:s}}getItemBaseStyle(t){const{properties:e}=this,i=t?e.highlightStyle.item:void 0;return{fill:i==null?void 0:i.fill,fillOpacity:(i==null?void 0:i.fillOpacity)??e.fillOpacity,stroke:i==null?void 0:i.stroke,strokeWidth:(i==null?void 0:i.strokeWidth)??this.getStrokeWidth(e.strokeWidth),strokeOpacity:(i==null?void 0:i.strokeOpacity)??e.strokeOpacity,lineDash:(i==null?void 0:i.lineDash)??e.lineDash,lineDashOffset:(i==null?void 0:i.lineDashOffset)??e.lineDashOffset}}getItemStyleOverrides(t,e,i,n,s){const{id:a,properties:o}=this,{stageKey:r,valueKey:l,fills:c,strokes:h,itemStyler:p}=o,f=n.fill??c[i%c.length]??"black",y=n.stroke??h[i%h.length]??"black",m={};if(s||(m.fill=f,m.stroke=y),p!=null){const b=this.cachedDatumCallback(oAt(t,s?"highlight":"node"),()=>{const{fillOpacity:S,strokeOpacity:v,strokeWidth:D,lineDash:I,lineDashOffset:T}=n;return p({seriesId:a,datum:e,highlighted:s,stageKey:r,valueKey:l,fill:f,fillOpacity:S,stroke:y,strokeOpacity:v,strokeWidth:D,lineDash:I,lineDashOffset:T})});Object.assign(m,b)}return m}updateDatumNodes(t){const{shadow:e}=this.properties,{datumSelection:i,isHighlight:n}=t,s=this.getCategoryDirection()===sAt.X,a=this.getItemBaseStyle(n);i.each((o,r)=>{const{datumIndex:l}=r,c=this.getItemStyleOverrides(String(r.datumIndex),r.datum,l,a,n);cAt(o,a,c),o.visible=s?r.width>0:r.height>0,o.crisp=r.crisp,o.fillShadow=e})}tooltipStyle(t,e){const i=this.getItemBaseStyle(!1);return Object.assign(i,this.getItemStyleOverrides(String(e),t,e,i,!1)),i}animateEmptyUpdateReady(t){super.animateEmptyUpdateReady(t);const{datumSelection:e}=t,i=this.isVertical(),s=W3(Y3(i,"normal"));$3.fromToMotion(this.id,"datums",this.ctx.animationManager,[e],s)}animateWaitingUpdateReady(t){var a,o;super.animateWaitingUpdateReady(t);const{datumSelection:e}=t,{processedData:i}=this,n=(o=(a=i==null?void 0:i.reduced)==null?void 0:a.diff)==null?void 0:o[this.id],s=W3(Y3(this.isVertical(),"fade"));$3.fromToMotion(this.id,"datums",this.ctx.animationManager,[e],s,(r,l)=>l.xValue,n)}};fR.className="FunnelSeries";fR.type="funnel";var uAt={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"funnel",moduleFactory:t=>new fR(t),solo:!0,tooltipDefaults:{range:"exact"},defaultAxes:bK,themeTemplate:yMt,paletteFactory:({takeColors:t})=>{const{fills:e,strokes:i}=t(1);return{fills:e,strokes:i}}},{CachedTextMeasurerPool:EK,TextUtils:wK,TextWrapper:ZM}=_;function hAt(t,e){const{fontSize:i,minimumFontSize:n=i}=t,{fontSize:s,minimumFontSize:a=s}=e,o=i-n,r=s-a;let l=t.fontSize,c=e.fontSize;const h=[{labelFontSize:i,secondaryLabelFontSize:s}];for(;l>n||c>a;){const p=o>0?(l-n)/o:-1,f=r>0?(c-a)/r:-1;p>f?l--:c--,h.push({labelFontSize:l,secondaryLabelFontSize:c})}return h.reverse(),h}function mg(t,e){return t.lineHeight!=null&&t.fontSize!=null?t.lineHeight*e/t.fontSize:wK.getLineHeight(e)}function OK(t,e,i,n,{padding:s},a){const{spacing:o=0}=e,r=2*s,l=2*s+o,c=(e.minimumFontSize??e.fontSize)+(n.minimumFontSize??n.fontSize);if(c>a(c+l,!1).height-l)return;const h=hAt(e,n),p={fontFamily:e.fontFamily,fontSize:e.fontSize,fontStyle:e.fontStyle,fontWeight:e.fontWeight},f={fontFamily:n.fontFamily,fontSize:n.fontSize,fontStyle:n.fontStyle,fontWeight:n.fontWeight};let y,m;return M$(0,h.length-1,b=>{const{labelFontSize:S,secondaryLabelFontSize:v}=h[b],D=b===0,I=mg(e,S),T=mg(n,v),k=a(I+T+l,D),E=k.width-r,w=k.height-l;if(I+T>w||((y==null||y.fontSize!==S)&&(p.fontSize=S,y=X3(e,t,E,w,p,e.wrapping,D?e.overflowStrategy:"hide")),y==null||y.width>E||y.height>w)||((m==null||m.fontSize!==v)&&(f.fontSize=v,m=X3(n,i,E,w,f,n.wrapping,D?n.overflowStrategy:"hide")),m==null))return;const R=y.height+m.height;if(!(m.width>E||R>w))return{width:Math.max(y.width,m.width),height:R+o,meta:k.meta,label:y,secondaryLabel:m}})}function tb(t,e,{padding:i},n){const s=2*i,a=Math.min(e.minimumFontSize??e.fontSize,e.fontSize),o={fontFamily:e.fontFamily,fontSize:e.fontSize,fontStyle:e.fontStyle,fontWeight:e.fontWeight};return M$(a,e.fontSize,r=>{const l=mg(e,r),c=r===a,h=n(l+s,c),p=h.width-s,f=h.height-s;if(l>f)return;o.fontSize=r;const y=ZM.wrapLines(t,{maxWidth:p,maxHeight:f,font:o,textWrap:e.wrapping,overflow:(c?e.overflowStrategy:void 0)??"hide"});if(!y.length)return;const m=dAt(y,{lineHeight:l,font:o,maxWidth:p,maxHeight:f});if(m)return[{fontSize:r,lineHeight:l,...m},h.meta]})}function K3(t){return(t==null?void 0:t.minimumFontSize)!=null&&(t==null?void 0:t.fontSize)!=null&&(t==null?void 0:t.minimumFontSize)>(t==null?void 0:t.fontSize)}function gR(t,e,i,n,s,a){const o=e.enabled?t:void 0,r=n.enabled?i:void 0;(K3(e)||K3(n))&&Me.warnOnce("minimumFontSize should be set to a value less than or equal to the font size");let l;o!=null&&r!=null&&(l=OK(o,e,r,n,s,a));let c;if(l==null&&o!=null&&(c=tb(o,e,s,a)),c!=null){const[p,f]=c;l={width:p.width,height:p.height,meta:f,label:p,secondaryLabel:void 0}}let h;if(l==null&&o==null&&r!=null&&(h=tb(r,n,s,a)),h!=null){const[p,f]=h;l={width:p.width,height:p.height,meta:f,label:void 0,secondaryLabel:p}}return l}function X3(t,e,i,n,s,a,o){const r=ZM.wrapLines(e,{maxWidth:i,maxHeight:n,font:s,textWrap:a,overflow:o});if(!r.length)return;const l=mg(t,s.fontSize),{width:c}=EK.measureLines(r,{font:s});return{width:c,lineHeight:l,text:r.join(`
`),height:r.length*l,fontSize:s.fontSize}}function dAt(t,{font:e,lineHeight:i=wK.defaultLineHeight,maxWidth:n,maxHeight:s=1/0}){let a=i*t.length;for(;a>s;){if(t.length===1)return;t.pop(),t[t.length-1]=ZM.appendEllipsis(t.at(-1)),a=i*t.length}const o=EK.measureLines(t,{font:e});let r,l;if(o.width>n){const c=[];l=0;for(const h of o.lineMetrics){if(h.width>n){if(!c.length)return;break}c.push(h.text),l=Math.max(l,h.width)}r=ZM.appendEllipsis(c.join(`
`))}else r=t.join(`
`),l=o.width;return{text:r,width:l,height:a}}var{Validate:cv,NUMBER:pAt,POSITIVE_NUMBER:RK,TEXT_WRAP:fAt,OVERFLOW_STRATEGY:gAt}=_,ly=class extends _.Label{constructor(){super(...arguments),this.wrapping="on-space",this.overflowStrategy="ellipsis"}};A([cv(fAt)],ly.prototype,"wrapping");A([cv(gAt)],ly.prototype,"overflowStrategy");A([cv(RK,{optional:!0})],ly.prototype,"lineHeight");A([cv(RK,{optional:!0})],ly.prototype,"minimumFontSize");var gl=class extends ly{constructor(){super(...arguments),this.spacing=0}};A([cv(pAt)],gl.prototype,"spacing");var uv=class extends ly{},{CartesianSeriesProperties:yAt,SeriesTooltip:mAt,Validate:fs,AND:xAt,ARRAY:bAt,COLOR_STRING:vAt,COLOR_STRING_ARRAY:SAt,FUNCTION:MAt,OBJECT:PK,POSITIVE_NUMBER:BK,RATIO:AAt,STRING:Sp,TEXT_ALIGN:DAt,VERTICAL_ALIGN:IAt}=_,Kn=class extends yAt{constructor(){super(...arguments),this.colorRange=["black","black"],this.stroke="black",this.strokeOpacity=1,this.strokeWidth=0,this.textAlign="center",this.verticalAlign="middle",this.itemPadding=0,this.label=new gl,this.tooltip=new mAt}};A([fs(Sp,{optional:!0})],Kn.prototype,"title");A([fs(Sp)],Kn.prototype,"xKey");A([fs(Sp)],Kn.prototype,"yKey");A([fs(Sp,{optional:!0})],Kn.prototype,"colorKey");A([fs(Sp,{optional:!0})],Kn.prototype,"xName");A([fs(Sp,{optional:!0})],Kn.prototype,"yName");A([fs(Sp,{optional:!0})],Kn.prototype,"colorName");A([fs(xAt(SAt,bAt.restrict({minLength:1})))],Kn.prototype,"colorRange");A([fs(vAt,{optional:!0})],Kn.prototype,"stroke");A([fs(AAt)],Kn.prototype,"strokeOpacity");A([fs(BK,{optional:!0})],Kn.prototype,"strokeWidth");A([fs(DAt)],Kn.prototype,"textAlign");A([fs(IAt)],Kn.prototype,"verticalAlign");A([fs(BK)],Kn.prototype,"itemPadding");A([fs(MAt,{optional:!0})],Kn.prototype,"itemStyler");A([fs(PK)],Kn.prototype,"label");A([fs(PK)],Kn.prototype,"tooltip");var{SeriesNodePickMode:Z3,computeBarFocusBounds:TAt,getMissCount:CAt,valueProperty:dk,ChartAxisDirection:vo,DEFAULT_CARTESIAN_DIRECTION_KEYS:kAt,DEFAULT_CARTESIAN_DIRECTION_NAMES:LAt,createDatumId:NAt,ColorScale:EAt,Rect:wAt,PointerEvents:OAt,applyShapeStyle:RAt}=_,PAt=class extends _.CartesianSeriesNodeEvent{constructor(t,e,i,n){super(t,e,i,n),this.colorKey=n.properties.colorKey}},BAt={left:-.5,center:0,right:-.5},zAt={top:-.5,middle:0,bottom:-.5},yR=class extends _.CartesianSeries{constructor(t){super({moduleCtx:t,directionKeys:kAt,directionNames:LAt,pickModes:[Z3.NEAREST_NODE,Z3.EXACT_SHAPE_MATCH],pathsPerSeries:[],hasMarkers:!1,hasHighlightedLabels:!0}),this.properties=new Kn,this.NodeEvent=PAt,this.colorScale=new EAt}async processData(t){var m,b,S;const e=this.axes[vo.X],i=this.axes[vo.Y];if(!e||!i||!this.properties.isValid()||!((m=this.data)!=null&&m.length))return;const{xKey:n,yKey:s,colorRange:a,colorKey:o}=this.properties,r=(b=this.axes[vo.X])==null?void 0:b.scale,l=(S=this.axes[vo.Y])==null?void 0:S.scale,{xScaleType:c,yScaleType:h}=this.getScaleInformation({xScale:r,yScale:l}),p=this.colorScale.type,{dataModel:f,processedData:y}=await this.requestDataModel(t,this.data,{props:[dk(n,c,{id:"xValue"}),dk(s,h,{id:"yValue"}),...o?[dk(o,p,{id:"colorValue"})]:[]]});if(this.isColorScaleValid()){const v=f.resolveProcessedDataIndexById(this,"colorValue");this.colorScale.domain=y.domain.values[v],this.colorScale.range=a,this.colorScale.update()}}isColorScaleValid(){const{colorKey:t}=this.properties;if(!t)return!1;const{dataModel:e,processedData:i}=this;if(!e||!i)return!1;const n=e.resolveProcessedDataIndexById(this,"colorValue"),s=i.input.count,a=CAt(this,i.defs.values[n].missing);return!(s===0||s===a)}xCoordinateRange(t,e){const i=this.axes[vo.X].scale,n=e*(i.bandwidth??0)/2,s=i.convert(t)+n,a=e*(i.bandwidth??10);return[s,s+a]}yCoordinateRange(t,e){const i=this.axes[vo.Y].scale,n=e*(i.bandwidth??0)/2,s=i.convert(t[0])+n,a=e*(i.bandwidth??10);return[s,s+a]}getSeriesDomain(t){const{dataModel:e,processedData:i}=this;return!e||!i?[]:t===vo.X?e.getDomain(this,"xValue","value",i):e.getDomain(this,"yValue","value",i)}getSeriesRange(t,e){return[NaN,NaN]}createNodeData(){const{data:t,visible:e,axes:i,dataModel:n,processedData:s}=this,a=i[vo.X],o=i[vo.Y];if(!(t&&n&&s&&e&&a&&o))return;if(a.type!=="category"||o.type!=="category"){Me.warnOnce(`Heatmap series expected axes to have "category" type, but received "${a.type}" and "${o.type}" instead.`);return}const{xKey:r,xName:l,yKey:c,yName:h,colorKey:p,colorName:f,textAlign:y,verticalAlign:m,itemPadding:b,label:S}=this.properties,v=n.resolveColumnById(this,"xValue",s),D=n.resolveColumnById(this,"yValue",s),I=p?n.resolveColumnById(this,"colorValue",s):void 0,T=a.scale,k=o.scale,E=(T.bandwidth??0)/2,w=(k.bandwidth??0)/2,R=[],O=[],L=T.bandwidth??10,F=k.bandwidth??10,z=(L-2*b)*BAt[y],V=(F-2*b)*zAt[m],H=()=>({width:L,height:F,meta:null});return(s.dataSources.get(this.id)??[]).forEach((G,$)=>{const K=v[$],X=D[$],j=T.convert(K)+E,U=k.convert(X)+w,Z=I==null?void 0:I[$],tt=Z==null?void 0:this.getLabelText(S,{value:Z,datum:G,colorKey:p,colorName:f,xKey:r,yKey:c,xName:l,yName:h}),J=gR(tt,this.properties.label,void 0,this.properties.label,{padding:b},H),nt={x:j,y:U,size:0};if(R.push({series:this,itemId:c,datumIndex:$,yKey:c,xKey:r,xValue:K,yValue:X,colorValue:Z,datum:G,point:nt,width:L,height:F,midPoint:{x:j,y:U},missing:Z==null}),(J==null?void 0:J.label)!=null){const{text:at,fontSize:lt,lineHeight:ut,height:pt}=J.label,{fontStyle:ot,fontFamily:ft,fontWeight:ct,color:bt}=this.properties.label,St=nt.x+z*(L-2*b),xt=nt.y+V*(F-2*b)-(J.height-pt)*.5;O.push({series:this,itemId:c,datum:G,datumIndex:$,text:at,fontSize:lt,lineHeight:ut,fontStyle:ot,fontFamily:ft,fontWeight:ct,color:bt,textAlign:y,verticalAlign:m,x:St,y:xt})}}),{itemId:this.properties.yKey??this.id,nodeData:R,labelData:O,scales:this.calculateScaling(),visible:this.visible}}nodeFactory(){return new wAt}update(t){return this.ctx.animationManager.skipCurrentBatch(),super.update(t)}updateDatumSelection(t){const{nodeData:e,datumSelection:i}=t,n=e??[];return i.update(n)}getItemBaseStyle(t){const{properties:e}=this,i=t?e.highlightStyle.item:void 0;return{fill:i==null?void 0:i.fill,fillOpacity:(i==null?void 0:i.fillOpacity)??1,stroke:(i==null?void 0:i.stroke)??e.stroke,strokeWidth:(i==null?void 0:i.strokeWidth)??this.getStrokeWidth(e.strokeWidth),strokeOpacity:(i==null?void 0:i.strokeOpacity)??e.strokeOpacity}}getItemStyleOverrides(t,e,i,n,s){const{id:a,properties:o}=this,{xKey:r,yKey:l,colorRange:c,itemStyler:h}=o,p=this.isColorScaleValid()&&i!=null?this.colorScale.convert(i):c[0];let f=n.fill==null?{fill:p}:void 0;if(h!=null){f??(f={});const y=this.cachedDatumCallback(NAt(t,s?"highlight":"node"),()=>h({seriesId:a,datum:e,xKey:r,yKey:l,highlighted:s,fill:p,...n}));Object.assign(f,y)}return f}updateDatumNodes(t){const{isHighlight:e}=t,i=this.axes[vo.X],[n,s]=(i==null?void 0:i.visibleRange)??[],o=!(n!==0||s!==1),r=this.getItemBaseStyle(e);t.datumSelection.each((l,c)=>{const{datumIndex:h,colorValue:p,datum:f,point:y,width:m,height:b}=c,S=this.getItemStyleOverrides(String(h),f,p,r,e);l.crisp=o,l.x=Math.floor(y.x-m/2),l.y=Math.floor(y.y-b/2),l.width=Math.ceil(m),l.height=Math.ceil(b),RAt(l,r,S)})}updateLabelSelection(t){const{labelData:e,labelSelection:i}=t,{enabled:n}=this.properties.label,s=n?e:[];return i.update(s)}updateLabelNodes(t){t.labelSelection.each((e,i)=>{e.text=i.text,e.fontSize=i.fontSize,e.lineHeight=i.lineHeight,e.fontStyle=i.fontStyle,e.fontFamily=i.fontFamily,e.fontWeight=i.fontWeight,e.fill=i.color,e.textAlign=i.textAlign,e.textBaseline=i.verticalAlign,e.x=i.x,e.y=i.y,e.pointerEvents=OAt.None})}getTooltipContent(t){var z;const{id:e,dataModel:i,processedData:n,axes:s,properties:a,colorScale:o}=this,{xKey:r,xName:l,yKey:c,yName:h,colorKey:p,colorName:f,colorRange:y,title:m,legendItemName:b,tooltip:S}=a,v=s[vo.X],D=s[vo.Y];if(!i||!n||!v||!D)return;const{datumIndex:I}=t,T=(z=n.dataSources.get(this.id))==null?void 0:z[I],k=i.resolveColumnById(this,"xValue",n)[I],E=i.resolveColumnById(this,"yValue",n)[I],w=p!=null&&this.isColorScaleValid()?i.resolveColumnById(this,"colorValue",n)[I]:void 0;if(k==null)return;const R=[];let O;w==null?O=y[0]:(O=o.convert(w),R.push({label:f,fallbackLabel:p,value:String(w)})),R.push({label:l,fallbackLabel:r,value:v.formatDatum(k)},{label:h,fallbackLabel:c,value:D.formatDatum(E)});const L=O!=null?{marker:{shape:"square",fill:O,fillOpacity:1,stroke:void 0,strokeWidth:0,strokeOpacity:1,lineDash:[0],lineDashOffset:0}}:void 0,F=this.getItemBaseStyle(!1);return Object.assign(F,this.getItemStyleOverrides(String(I),T,w,F,!1)),S.formatTooltip({title:m??b,symbol:L,data:R},{seriesId:e,datum:T,title:m,xKey:r,xName:l,yKey:c,yName:h,colorKey:p,colorName:f,...F})}getLegendData(t){return t!=="gradient"||!this.properties.isValid()||!this.isColorScaleValid()||!this.dataModel?[]:[{legendType:"gradient",enabled:this.visible,seriesId:this.id,colorName:this.properties.colorName,colorDomain:this.processedData.domain.values[this.dataModel.resolveProcessedDataIndexById(this,"colorValue")],colorRange:this.properties.colorRange}]}isLabelEnabled(){return this.properties.label.enabled&&!!this.properties.colorKey}getBandScalePadding(){return{inner:0,outer:0}}computeFocusBounds({datumIndex:t}){var o;const e=(o=this.contextNodeData)==null?void 0:o.nodeData[t];if(e===void 0)return;const{width:i,height:n,midPoint:s}=e,a={x:s.x-i/2,y:s.y-n/2,width:i,height:n};return TAt(this,a)}};yR.className="HeatmapSeries";yR.type="heatmap";var _At={series:{label:{enabled:!1,color:{$ref:"textColor"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},wrapping:"on-space",overflowStrategy:"ellipsis"},itemPadding:3},gradientLegend:{enabled:!0}},{ThemeSymbols:{DEFAULT_DIVERGING_SERIES_COLOR_RANGE:jAt,DEFAULT_BACKGROUND_COLOUR:FAt},ThemeConstants:{CARTESIAN_AXIS_TYPE:q3,CARTESIAN_POSITION:Q3}}=_,GAt={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"heatmap",moduleFactory:t=>new yR(t),tooltipDefaults:{range:"exact"},defaultAxes:[{type:q3.CATEGORY,position:Q3.LEFT},{type:q3.CATEGORY,position:Q3.BOTTOM}],themeTemplate:_At,paletteFactory:({takeColors:t,colorsCount:e,userPalette:i,themeTemplateParameters:n})=>{const s=n.get(jAt),a=n.get(FAt),o=(Array.isArray(a)?a[0]:a)??"white",{fills:r,strokes:l}=t(e);return{stroke:i==="inbuilt"?o:l[0],colorRange:i==="inbuilt"?s:[r[0],r[1]]}}},VAt=1e3,J3=10;function t5(t,e,i,n,s,a){const o=t[a];if(o==null)return!1;const r=JD(o,e,i),l=tI(r,s);return a===n[l+rs]||a===n[l+Qs]||a===n[l+ma]||a===n[l+xa]}function UAt(t,e,i){if(t.length<VAt)return;const[n,s]=Jb(i);let a=Qb(t,J3);const{indexData:o,valueData:r}=tv(t,e,e,n,s,a);let l=[];for(let h=0;h<t.length;h+=1)t5(t,n,s,o,a,h)&&l.push(h);const c=[{maxRange:a,indices:l}];for(;l.length>J3&&a>64;)({maxRange:a}=ev(o,r,a,{inPlace:!0})),l=l.filter(t5.bind(null,t,n,s,o,a)),c.push({maxRange:a,indices:l});return c.reverse(),c}var{ChartAxisDirection:HAt,ContinuousScale:WAt,OrdinalTimeScale:YAt}=_,$At=class extends _.LineSeries{aggregateData(t,e){const i=this.axes[HAt.X];if(i==null||!(WAt.is(i.scale)||YAt.is(i.scale)))return;const n=t.resolveColumnById(this,"xValue",e),s=t.resolveColumnById(this,"yValueRaw",e),a=t.getDomain(this,"xValue","value",e);return UAt(n,s,a)}},{LineSeriesModule:KAt}=_,XAt={...KAt,type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"line",moduleFactory:t=>new $At(t)},{ColorScale:ZAt}=_;function zK(t){if(t==null)return[];const e=new ZAt;e.domain=[0,1],e.range=t;const i=5;return Array.from({length:5},(n,s)=>e.convert(s/(i-1)))}var _K=class{*[Symbol.iterator](){const{node:t,datum:e}=this;t&&e&&(yield{node:t,datum:e})}nodes(){return this.node?[this.node]:[]}update(t,e,i,n){var a;const s=t.nodes();if(s.length===0)(a=this.node)==null||a.remove(),this.node=void 0;else{this.node===void 0&&(this.node=new i,this.node.fillOpacity=0,this.node.strokeOpacity=0,e.appendChild(this.node));const o=s[0],r=s.toReversed().find(l=>l.datum.datum.value>l.datum.datum.segmentStart)??s[s.length-1];this.node.datum=this.datum=o.datum,n(this.node,o,r)}}},jK={fromFn:()=>({opacity:0,phase:"initial"}),toFn:()=>({opacity:1})};function FK(t,e){if(t==null)return"";if(e==null)return String(t);const[i,n]=e.scale.domain,s=i!==0?Math.ceil(Math.log10(Math.abs(i))):0,a=n!==0?Math.ceil(Math.log10(Math.abs(n))):0,o=Math.max(2-Math.max(s,a),0);return t.toFixed(o)}function eb(t,e,i){var a;if(e.text!=null)return e.text;const n=i??e.value,s=(a=e==null?void 0:e.formatter)==null?void 0:a.call(e,{seriesId:t.id,datum:void 0,value:n});if(s!=null)return String(s)}function GK({path:t,x:e,y:i,size:n}){t.moveTo(e,i-n/2),t.lineTo(e,i+n/2)}var{clamp:e5}=_;function VK(t,e){const i=Bft(t.datumUnion.nodes(),t.targetSelection.nodes());return t.pickNodeNearestDistantObject(e,i)}function UK(t,e){var l,c;const i=[{data:(l=t.contextNodeData)==null?void 0:l.nodeData,selection:t.datumUnion},{data:(c=t.contextNodeData)==null?void 0:c.targetData,selection:t.targetSelection}].filter(h=>h.data&&h.data.length>0),n=e5(0,e.otherIndex+e.otherIndexDelta,i.length-1);if(i.length===0)return;const{data:s,selection:a}=i[n];if(s==null||s.length===0)return;const o=e5(0,e.datumIndex,s.length-1),r=s[o];for(const h of a)if(h.datum===r)return{bounds:h.node,clipFocusBox:!0,datum:r,datumIndex:o,otherIndex:n}}var{MARKER_SHAPE:qAt,UNION:mR,OR:QAt}=_,cI=mR(["continuous","discrete"],"a fill mode"),HK=QAt(qAt,mR(["line"],"a marker shape")),WK=mR(["container","item"],"a corner mode");function YK(t){let e,i;return typeof t.value=="number"&&(e=t.value),typeof t.text=="string"&&(i=t.text),{value:e,text:i}}var{BaseProperties:$K,Validate:cy,OBJECT:JAt,BOOLEAN:tDt,NUMBER:xR,NUMBER_ARRAY:eDt}=_,uI=class extends $K{getSegments(t,e){var l;const{values:i,step:n,count:s}=this,a=Math.min(...t.domain),o=Math.max(...t.domain);let r;if(i!=null){const c=i.filter(h=>h>a&&h<o).sort((h,p)=>h-p);r=[a,...c,o]}else if(n!=null){const c=[];for(let h=a;h<o;h+=n)c.push(h);c.push(o),r=c}else if(s!=null){const c=s+1;r=Array.from({length:c+1},(h,p)=>p/c*(o-a)+a)}else{const c=(l=t.ticks({nice:!0,interval:void 0,tickCount:void 0,minTickCount:0,maxTickCount:1/0}))==null?void 0:l.filter(h=>h>a&&h<o);r=c!=null?[a,...c,o]:void 0}return r!=null&&r.length>e&&(Me.warnOnce("the configured segmentation results in more than 1 item per pixel, ignoring. Supply a segmentation configuration that results in larger segments or omit this configuration"),r=void 0),r??(r=[a,o]),r}};A([cy(eDt,{optional:!0})],uI.prototype,"values");A([cy(xR,{optional:!0})],uI.prototype,"step");A([cy(xR,{optional:!0})],uI.prototype,"count");var hv=class extends $K{constructor(){super(...arguments),this.enabled=!1,this.interval=new uI,this.spacing=0}};A([cy(tDt)],hv.prototype,"enabled");A([cy(JAt)],hv.prototype,"interval");A([cy(xR)],hv.prototype,"spacing");var{BaseProperties:bR,SeriesTooltip:iDt,SeriesProperties:nDt,PropertiesArray:vR,Validate:Wt,BOOLEAN:KK,COLOR_STRING:Mp,COLOR_STRING_ARRAY:sDt,FUNCTION:aDt,LINE_DASH:SR,NUMBER:uy,OBJECT_ARRAY:MR,OBJECT:Ap,POSITIVE_NUMBER:wl,RATIO:Dp,STRING:XK,UNION:AR,Label:oDt}=_,rDt=AR(["before","after","middle"],"a placement"),lDt=AR(["inside-start","outside-start","inside-end","outside-end","inside-center","bar-inside","bar-inside-end","bar-outside-end","bar-end"],"an placement"),cDt=AR(["horizontal","vertical"],"an orientation"),ZK=class extends oDt{};A([Wt(uy,{optional:!0})],ZK.prototype,"spacing");var us=class extends bR{constructor(){super(...arguments),this.value=0,this.label=new ZK}};A([Wt(XK,{optional:!0})],us.prototype,"text");A([Wt(uy)],us.prototype,"value");A([Wt(HK,{optional:!0})],us.prototype,"shape");A([Wt(rDt,{optional:!0})],us.prototype,"placement");A([Wt(uy,{optional:!0})],us.prototype,"spacing");A([Wt(wl,{optional:!0})],us.prototype,"size");A([Wt(uy,{optional:!0})],us.prototype,"rotation");A([Wt(Mp,{optional:!0})],us.prototype,"fill");A([Wt(Dp,{optional:!0})],us.prototype,"fillOpacity");A([Wt(Mp,{optional:!0})],us.prototype,"stroke");A([Wt(wl,{optional:!0})],us.prototype,"strokeWidth");A([Wt(Dp,{optional:!0})],us.prototype,"strokeOpacity");A([Wt(SR,{optional:!0})],us.prototype,"lineDash");A([Wt(wl,{optional:!0})],us.prototype,"lineDashOffset");A([Wt(Ap)],us.prototype,"label");var Ja=class extends bR{constructor(){super(...arguments),this.enabled=!0,this.thicknessRatio=1,this.fills=new vR(_.StopProperties),this.fillMode="continuous",this.fillOpacity=1,this.stroke="black",this.strokeWidth=0,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0}};A([Wt(KK)],Ja.prototype,"enabled");A([Wt(wl,{optional:!0})],Ja.prototype,"thickness");A([Wt(Dp)],Ja.prototype,"thicknessRatio");A([Wt(MR)],Ja.prototype,"fills");A([Wt(cI)],Ja.prototype,"fillMode");A([Wt(Mp,{optional:!0})],Ja.prototype,"fill");A([Wt(Dp)],Ja.prototype,"fillOpacity");A([Wt(Mp)],Ja.prototype,"stroke");A([Wt(wl)],Ja.prototype,"strokeWidth");A([Wt(Dp)],Ja.prototype,"strokeOpacity");A([Wt(SR)],Ja.prototype,"lineDash");A([Wt(wl)],Ja.prototype,"lineDashOffset");var Er=class extends bR{constructor(){super(...arguments),this.fills=new vR(_.StopProperties),this.fillMode="continuous",this.fillOpacity=1,this.stroke="black",this.strokeWidth=0,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.defaultFill="black"}};A([Wt(MR)],Er.prototype,"fills");A([Wt(cI)],Er.prototype,"fillMode");A([Wt(Mp,{optional:!0})],Er.prototype,"fill");A([Wt(Dp)],Er.prototype,"fillOpacity");A([Wt(Mp)],Er.prototype,"stroke");A([Wt(wl)],Er.prototype,"strokeWidth");A([Wt(Dp)],Er.prototype,"strokeOpacity");A([Wt(SR)],Er.prototype,"lineDash");A([Wt(wl)],Er.prototype,"lineDashOffset");A([Wt(Mp)],Er.prototype,"defaultFill");var hI=class extends gl{constructor(){super(...arguments),this.placement="inside-center",this.avoidCollisions=!0}};A([Wt(XK,{optional:!0})],hI.prototype,"text");A([Wt(lDt)],hI.prototype,"placement");A([Wt(KK)],hI.prototype,"avoidCollisions");var zs=class extends nDt{constructor(){super(...arguments),this.value=0,this.segmentation=new hv,this.defaultColorRange=[],this.targets=new vR(us),this.defaultTarget=new us,this.direction="vertical",this.thickness=1,this.cornerRadius=0,this.cornerMode="container",this.margin=0,this.scale=new Er,this.bar=new Ja,this.label=new hI,this.tooltip=new iDt}};A([Wt(uy)],zs.prototype,"value");A([Wt(Ap)],zs.prototype,"segmentation");A([Wt(sDt)],zs.prototype,"defaultColorRange");A([Wt(MR)],zs.prototype,"targets");A([Wt(Ap)],zs.prototype,"defaultTarget");A([Wt(cDt)],zs.prototype,"direction");A([Wt(wl)],zs.prototype,"thickness");A([Wt(wl)],zs.prototype,"cornerRadius");A([Wt(WK)],zs.prototype,"cornerMode");A([Wt(uy)],zs.prototype,"margin");A([Wt(Ap)],zs.prototype,"scale");A([Wt(Ap)],zs.prototype,"bar");A([Wt(aDt,{optional:!0})],zs.prototype,"itemStyler");A([Wt(Ap)],zs.prototype,"label");A([Wt(Ap)],zs.prototype,"tooltip");var{CachedTextMeasurerPool:uDt,BBox:hDt}=_;function DR(t){const{x0:e,y0:i,x1:n,y1:s,horizontalInset:a,verticalInset:o}=t,r=Math.min(e,n)+a,l=Math.min(i,s)+o,c=Math.max(Math.abs(n-e)-2*a,0),h=Math.max(Math.abs(s-i)-2*o,0);return{x:r,y:l,width:c,height:h}}function dDt(t,e){if(e==null)return!0;const i=DR(t),n=1e-6,s=i.x+n,a=i.y+n,o=i.x+i.width-n,r=i.y+i.height-n,l=e.x,c=e.x+e.width,h=e.y,p=e.y+e.height;return Math.max(s,l)<=Math.min(o,c)&&Math.max(a,h)<=Math.min(r,p)}function KL(t){const{clipX0:e,clipX1:i,clipY0:n,clipY1:s}=t;return e!=null&&i!=null||n!=null&&s!=null}function pDt(t){if(!KL(t))return;const{x0:e,y0:i,x1:n,y1:s}=t,{x:a,y:o,width:r,height:l}=DR(t);let{clipX0:c,clipX1:h,clipY0:p,clipY1:f}=t;(c==null||h==null)&&(c=e,h=n),(p==null||f==null)&&(p=i,f=s);const y=Math.min(c,h),m=Math.min(p,f),b=Math.abs(h-c),S=Math.abs(f-p);return c=Math.max(a,y),p=Math.max(o,m),h=Math.min(a+r,y+b),f=Math.min(o+l,m+S),new hDt(Math.min(c,h),Math.min(p,f),Math.abs(h-c),Math.abs(f-p))}function i5(t,e){const i=t?"initial":"update";return{node:{fromFn(s,a){const o=s.previousDatum;let{x0:r,y0:l,x1:c,y1:h,clipX0:p,clipY0:f,clipX1:y,clipY1:m}=o??a;const{horizontalInset:b,verticalInset:S}=a,v=o!=null&&KL(o),D=KL(a);return v&&D||(!v&&D?({x0:r,y0:l,x1:c,y1:h,clipX0:p,clipY0:f,clipX1:y,clipY1:m}=a,t&&(e?y=a.clipX0:m=a.clipY0)):v&&!D?({x0:r,y0:l,x1:c,y1:h}=a,p=void 0,f=void 0,y=void 0,m=void 0):t&&(e?c=r:h=l)),{x0:r,y0:l,x1:c,y1:h,clipX0:p,clipY0:f,clipX1:y,clipY1:m,horizontalInset:b,verticalInset:S,phase:i}},toFn(s,a){const{x0:o,y0:r,x1:l,y1:c,clipX0:h,clipY0:p,clipX1:f,clipY1:y,horizontalInset:m,verticalInset:b}=a;return{x0:o,y0:r,x1:l,y1:c,clipX0:h,clipY0:p,clipX1:f,clipY1:y,horizontalInset:m,verticalInset:b}},applyFn(s,a){s.setProperties(rM(s,a))}}}}function rM(t,e){const{x:i,y:n,width:s,height:a}=DR(e),o=pDt(e),r=dDt(e,o);return{x:i,y:n,width:s,height:a,clipBBox:o,visible:r}}var fDt={Before:"right",Center:"center",After:"left"},gDt={Before:"top",Center:"middle",After:"bottom"},yDt={Before:-1,Center:-.5,After:0},mDt={Before:0,Center:-.5,After:-1};function xDt(t,e,i,n,s){const{scale:a,bar:o}=n,{padding:r,horizontal:l}=i;e.each((c,h)=>{const p=eb(t,h,s==null?void 0:s.label),f=()=>({width:a.width,height:a.height,meta:null});let y;const m=h.avoidCollisions&&h.placement!=="outside-start"&&h.placement!=="outside-end";if(p==null)return;if(m){const V=tb(p,h,{padding:r},f);y=V==null?void 0:V[0]}else{const V={fontSize:h.fontSize,fontStyle:h.fontStyle,fontWeight:h.fontWeight,fontFamily:h.fontFamily,lineHeight:h.lineHeight},{width:H,height:W}=uDt.measureText(p,{font:V});y={text:p,fontSize:h.fontSize,lineHeight:mg(h,h.fontSize),width:H,height:W}}if(y==null){c.visible=!1;return}const b=l?a.x:a.y+a.height,S=l?a.x+a.width:a.y,v=l?o.x:o.y+o.height,D=l?o.x+o.width:o.y,I=h.spacing*(l?1:-1);let T,k,E,w;switch(h.placement){case"outside-start":T=-1/0,k=1/0,E=b-I,w="Before";break;case"outside-end":T=-1/0,k=1/0,E=S+I,w="After";break;case"inside-start":T=b,k=D,E=b+I,w="After";break;case"inside-end":T=D,k=S,E=S-I,w="Before";break;case"inside-center":T=b,k=S,E=(b+S)/2,w="Center";break;case"bar-inside":T=v,k=D,E=(v+D)/2,w="Center";break;case"bar-inside-end":T=v,k=D,E=D-I,w="Before";break;case"bar-outside-end":T=D,k=S,E=D+I,w="After";break;case"bar-end":T=-1/0,k=1/0,E=D,w="Center";break}const R=l?E:a.x+a.width/2,O=l?a.y+a.height/2:E;let L,F;l?(L=R+yDt[w]*y.width,F=L+y.width):(L=O+mDt[w]*y.height,F=L+y.height);const z=Math.min(L,F)>=Math.min(T,k)&&Math.max(L,F)<=Math.max(T,k);if(h.avoidCollisions&&!z){c.visible=!1;return}c.visible=!0,c.text=y.text,c.fontSize=y.fontSize,c.lineHeight=y.lineHeight,c.textAlign=l?fDt[w]:"center",c.textBaseline=l?"middle":gDt[w],c.x=R,c.y=O})}var{fromToMotion:pk,resetMotion:bDt,SeriesNodePickMode:n5,StateMachine:vDt,createDatumId:s5,ChartAxisDirection:lr,CachedTextMeasurerPool:SDt,toRadians:MDt,BBox:_m,Group:zf,PointerEvents:ADt,Selection:_f,Rect:DDt,Text:a5,LinearGradient:IDt,Marker:TDt,easing:CDt,getColorStops:kDt}=_,LDt={before:180,middle:0,after:0},NDt={before:90,middle:0,after:-90},IR=class extends _.Series{constructor(t){super({moduleCtx:t,useLabelLayer:!0,pickModes:[n5.EXACT_SHAPE_MATCH,n5.NEAREST_NODE]}),this.canHaveAxes=!0,this.properties=new zs,this.originX=0,this.originY=0,this.scaleGroup=this.contentGroup.appendChild(new zf({name:"scaleGroup"})),this.itemGroup=this.contentGroup.appendChild(new zf({name:"itemGroup"})),this.itemTargetGroup=this.contentGroup.appendChild(new zf({name:"itemTargetGroup"})),this.itemTargetLabelGroup=this.contentGroup.appendChild(new zf({name:"itemTargetLabelGroup"})),this.itemLabelGroup=this.contentGroup.appendChild(new zf({name:"itemLabelGroup"})),this.highlightTargetGroup=this.highlightGroup.appendChild(new zf({name:"itemTargetLabelGroup"})),this.scaleSelection=_f.select(this.scaleGroup,()=>this.nodeFactory()),this.datumSelection=_f.select(this.itemGroup,()=>this.nodeFactory()),this.targetSelection=_f.select(this.itemTargetGroup,()=>this.markerFactory()),this.targetLabelSelection=_f.select(this.itemTargetLabelGroup,a5),this.labelSelection=_f.select(this.itemLabelGroup,a5),this.highlightTargetSelection=_f.select(this.highlightTargetGroup,()=>this.markerFactory()),this.datumUnion=new _K,this.animationState=new vDt("empty",{empty:{update:{target:"ready",action:()=>this.animateEmptyUpdateReady()},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",resize:()=>this.animateReadyResize(),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:()=>this.animateWaitingUpdateReady()},reset:"empty",skip:"ready"},clearing:{update:{target:"empty"},reset:"empty",skip:"ready"}}),this.scaleGroup.pointerEvents=ADt.None}get horizontal(){return this.properties.direction==="horizontal"}get thickness(){return this.properties.thickness}computeInset(t,e){var o;const{label:i}=this.properties;let n;switch(i.placement){case"outside-start":n=1;break;case"outside-end":n=-1;break;default:return 0}const s=(o=i.text)==null?void 0:o.split(`
`);let a;if(t===lr.Y)a=mg(i,i.fontSize)*((s==null?void 0:s.length)??1);else{const r=i.getFont();a=(s??e.map(c=>eb(this,this.labelDatum(i,c))??"")).reduce((c,h)=>{const{width:p}=SDt.measureText(h,{font:r});return Math.max(c,p)},0)}return n*(i.spacing+a)}get hasData(){return!0}nodeFactory(){const t=new DDt;return t.crisp=!0,t}markerFactory(){return new TDt}processData(){this.nodeDataRefresh=!0,this.animationState.transition("updateData")}formatLabel(t){const{axes:e,horizontal:i}=this,n=i?e[lr.X]:e[lr.Y];return FK(t,n)}createLinearGradient(t,e){const{properties:i,originX:n,originY:s,horizontal:a,axes:o}=this,{thickness:r,defaultColorRange:l}=i,c=a?o[lr.X]:o[lr.Y],{domain:h,range:p}=c.scale,f=p[1]-p[0],y=kDt(t,l,h,e);return new IDt("oklch",y,a?90:0,new _m(n,s,a?f:r,a?r:f))}getTargets(){const{properties:t}=this,e=t.defaultTarget;return Array.from(t.targets).map(i=>{const{text:n=e.text,value:s=e.value??0,shape:a=e.shape??"triangle",rotation:o=e.rotation??0,strokeWidth:r=e.strokeWidth??0,placement:l=e.placement??"middle",spacing:c=e.spacing??0,size:h=e.size??0,fill:p=e.fill??"black",fillOpacity:f=e.fillOpacity??1,stroke:y=e.stroke??"black",strokeOpacity:m=e.strokeOpacity??1,lineDash:b=e.lineDash??[0],lineDashOffset:S=e.lineDashOffset??0}=i,{enabled:v=e.label.enabled,color:D=e.label.color??"black",fontStyle:I=e.label.fontStyle??"normal",fontWeight:T=e.label.fontWeight??"normal",fontSize:k=e.label.fontSize,fontFamily:E=e.label.fontFamily,spacing:w=e.label.spacing??0}=i.label;return{text:n,value:s,shape:a,placement:l,spacing:c,size:h,rotation:o,fill:p,fillOpacity:f,stroke:y,strokeWidth:r,strokeOpacity:m,lineDash:b,lineDashOffset:S,label:{enabled:v,color:D,fontStyle:I,fontWeight:T,fontSize:k,fontFamily:E,spacing:w}}})}getTargetPoint(t){const e=this.axes[lr.X],i=this.axes[lr.Y];if(e==null||i==null)return{x:0,y:0};const{properties:n,originX:s,originY:a,horizontal:o}=this,{thickness:r}=n,{value:l,placement:c,spacing:h,size:p}=t,f=o?e:i,y=f.scale.convert(l)-f.scale.range[0];let m;switch(c){case"before":m=-(h+p/2);break;case"after":m=r+h+p/2;break;default:m=r/2;break}return{x:s+e.range[0]+(o?y:m),y:a+i.range[0]+(o?m:y)}}getTargetLabel(t){const{size:e,placement:i,label:n}=t,{spacing:s,color:a,fontStyle:o,fontWeight:r,fontSize:l,fontFamily:c}=n,h=void 0,p=e/2+s;let f,y,m=0,b=0;return this.horizontal?(f="center",i==="after"?(y="top",b=p):(y="bottom",b=-p)):(y="middle",i==="before"?(f="right",m=-p):(f="left",m=p)),{offsetX:m,offsetY:b,fill:a,textAlign:f,textBaseline:y,fontStyle:o,fontWeight:r,fontSize:l,fontFamily:c,lineHeight:h}}labelDatum(t,e){const{placement:i,avoidCollisions:n,spacing:s,text:a,color:o,fontSize:r,minimumFontSize:l,fontStyle:c,fontWeight:h,fontFamily:p,lineHeight:f,wrapping:y,overflowStrategy:m,formatter:b=S=>this.formatLabel(S.value)}=t;return{placement:i,avoidCollisions:n,spacing:s,text:a,value:e,fill:o,fontSize:r,minimumFontSize:l,fontStyle:c,fontWeight:h,fontFamily:p,lineHeight:f,wrapping:y,overflowStrategy:m,formatter:b}}createNodeData(){const{id:t,properties:e,originX:i,originY:n,horizontal:s}=this;if(!e.isValid())return;const{value:a,segmentation:o,thickness:r,cornerRadius:l,cornerMode:c,bar:h,scale:p,label:f}=e,y=this.getTargets(),m=this.axes[lr.X],b=this.axes[lr.Y];if(m==null||b==null)return;const S=s?m:b,v=m.scale,D=b.scale,I=S.scale;let{domain:T}=S.scale;S.isReversed()&&(T=T.slice().reverse());const k=[],E=[],w=[],R=[],[O,L]=I.range,F=Math.abs(L-O);let[z,V]=m.range;m.isReversed()&&([V,z]=[z,V]);let[H,W]=b.range;b.isReversed()&&([W,H]=[H,W]);const G=s?v.convert(a):V,$=s?W:D.convert(a),K=o.enabled?o.spacing/2:0,X=s?K:0,j=s?0:K,U=Math.min(h.thickness??Math.round(h.thicknessRatio*r),r),Z=-(r-U)/2,tt=s?0:Z,J=s?Z:0,nt=c==="item",at=Math.ceil(F);let lt=o.enabled?o.interval.getSegments(I,at):void 0;const ut=h.fill??this.createLinearGradient(h.fills,h.fillMode),pt=p.fill??(h.enabled&&p.fills.length===0?p.defaultFill:void 0)??this.createLinearGradient(p.fills,p.fillMode);if(lt==null&&nt){const ft=Math.min(...T),ct=Math.max(...T),bt={value:a,segmentStart:ft,segmentEnd:ct};if(h.enabled){const $t=Math.min(l,U/2,F/2)*(S.isReversed()?-1:1),zt=s?$t:0,Ot=s?0:$t;k.push({series:this,itemId:"value",datum:bt,datumIndex:{type:0},type:0,x0:i+z-zt-tt,y0:n+H-Ot-J,x1:i+G+zt+tt,y1:n+$+Ot+J,clipX0:void 0,clipY0:void 0,clipX1:void 0,clipY1:void 0,topLeftCornerRadius:l,topRightCornerRadius:l,bottomRightCornerRadius:l,bottomLeftCornerRadius:l,fill:ut,horizontalInset:X,verticalInset:j})}const xt=Math.min(l,r/2,F/2)*(S.isReversed()?-1:1),wt=s?xt:0,kt=s?0:xt;R.push({series:this,itemId:"scale",datum:bt,datumIndex:{type:0},type:0,x0:i+z-wt,y0:n+H-kt,x1:i+V+wt,y1:n+W+kt,clipX0:void 0,clipY0:void 0,clipX1:void 0,clipY1:void 0,topLeftCornerRadius:l,topRightCornerRadius:l,bottomRightCornerRadius:l,bottomLeftCornerRadius:l,fill:pt,horizontalInset:X,verticalInset:j})}else{lt??(lt=T);const ft=i+z-tt,ct=n+H-J,bt=i+G+tt,St=n+$+J;for(let xt=0;xt<lt.length-1;xt+=1){const wt=lt[xt+0],kt=lt[xt+1],Nt={value:a,segmentStart:wt,segmentEnd:kt},$t=xt===0,zt=xt===lt.length-2,Ot=I.convert(wt),Mt=I.convert(kt),Ne=nt||$t?l:0,Yt=nt||zt?l:0,cn=s?Ne:Yt,Ui=Yt,gs=s?Yt:Ne,Gs=Ne;h.enabled&&k.push({series:this,itemId:`value-${xt}`,datum:Nt,datumIndex:{type:0},type:0,x0:i+(s?Ot:z),y0:n+(s?H:Ot),x1:i+(s?Mt:V),y1:n+(s?W:Mt),clipX0:ft,clipY0:ct,clipX1:bt,clipY1:St,topLeftCornerRadius:cn,topRightCornerRadius:Ui,bottomRightCornerRadius:gs,bottomLeftCornerRadius:Gs,fill:ut,horizontalInset:X,verticalInset:j}),R.push({series:this,itemId:`scale-${xt}`,datum:Nt,datumIndex:{type:0},type:0,x0:i+(s?Ot:z),y0:n+(s?H:Ot),x1:i+(s?Mt:V),y1:n+(s?W:Mt),clipX0:void 0,clipY0:void 0,clipX1:void 0,clipY1:void 0,topLeftCornerRadius:cn,topRightCornerRadius:Ui,bottomRightCornerRadius:gs,bottomLeftCornerRadius:Gs,fill:pt,horizontalInset:X,verticalInset:j})}}f.enabled&&w.push(this.labelDatum(f,a));const ot=s?LDt:NDt;for(let ft=0;ft<y.length;ft+=1){const ct=y[ft],{value:bt,text:St,shape:xt,size:wt,fill:kt,fillOpacity:Nt,stroke:$t,strokeWidth:zt,strokeOpacity:Ot,lineDash:Mt,lineDashOffset:Ne}=ct,Yt=this.getTargetPoint(ct),cn=MDt(ct.rotation+ot[ct.placement]);E.push({series:this,itemId:`target-${ft}`,midPoint:Yt,datum:{value:bt},datumIndex:{type:1,index:ft},type:1,value:bt,text:St,x:Yt.x,y:Yt.y,shape:xt,size:wt,rotation:cn,fill:kt,fillOpacity:Nt,stroke:$t,strokeOpacity:Ot,strokeWidth:zt,lineDash:Mt,lineDashOffset:Ne,label:this.getTargetLabel(ct)})}return{itemId:t,nodeData:k,targetData:E,labelData:w,scaleData:R}}updateSelections(t){(this.nodeDataRefresh||t)&&(this.contextNodeData=this.createNodeData(),this.nodeDataRefresh=!1)}highlightDatum(t){if(t!=null&&t.series===this&&t.type===1)return t}update({seriesRect:t}){var y,m,b,S;const{datumSelection:e,labelSelection:i,targetSelection:n,targetLabelSelection:s,scaleSelection:a,highlightTargetSelection:o}=this,r=this.checkResize(t);this.updateSelections(r),this.contentGroup.visible=this.visible,this.contentGroup.opacity=this.getOpacity();const l=((y=this.contextNodeData)==null?void 0:y.nodeData)??[],c=((m=this.contextNodeData)==null?void 0:m.labelData)??[],h=((b=this.contextNodeData)==null?void 0:b.targetData)??[],p=((S=this.contextNodeData)==null?void 0:S.scaleData)??[],f=this.highlightDatum(this.ctx.highlightManager.getActiveHighlight());this.scaleSelection=this.updateScaleSelection({scaleData:p,scaleSelection:a}),this.updateScaleNodes({scaleSelection:a}),this.targetSelection=this.updateTargetSelection({targetData:h,targetSelection:n}),this.updateTargetNodes({targetSelection:n,isHighlight:!1}),this.targetLabelSelection=this.updateTargetLabelSelection({targetData:h,targetLabelSelection:s}),this.updateTargetLabelNodes({targetLabelSelection:s}),this.datumSelection=this.updateDatumSelection({nodeData:l,datumSelection:e}),this.updateDatumNodes({datumSelection:e}),this.labelSelection=this.updateLabelSelection({labelData:c,labelSelection:i}),this.updateLabelNodes({labelSelection:i}),this.highlightTargetSelection=this.updateTargetSelection({targetData:f!=null?[f]:[],targetSelection:o}),this.updateTargetNodes({targetSelection:o,isHighlight:!0}),r&&this.animationState.transition("resize"),this.animationState.transition("update")}updateDatumSelection(t){return t.datumSelection.update(t.nodeData,void 0,e=>s5(t.nodeData.length,e.itemId))}updateDatumNodes(t){const{datumSelection:e}=t,{ctx:i,properties:n}=this,{bar:s}=n,{fillOpacity:a,stroke:o,strokeOpacity:r,lineDash:l,lineDashOffset:c}=s,h=this.getStrokeWidth(s.strokeWidth),p=i.animationManager.isSkipped();e.each((f,y)=>{const{topLeftCornerRadius:m,topRightCornerRadius:b,bottomRightCornerRadius:S,bottomLeftCornerRadius:v,fill:D}=y;f.fill=D,f.fillOpacity=a,f.stroke=o,f.strokeOpacity=r,f.strokeWidth=h,f.lineDash=l,f.lineDashOffset=c,f.topLeftCornerRadius=m,f.topRightCornerRadius=b,f.bottomRightCornerRadius=S,f.bottomLeftCornerRadius=v,f.pointerEvents=this.properties.bar.enabled?_.PointerEvents.All:_.PointerEvents.None,(p||f.previousDatum==null)&&f.setProperties(rM(f,y))}),this.datumUnion.update(e,this.itemGroup,_.Rect,(f,y,m)=>{var b,S,v,D;f.pointerEvents=_.PointerEvents.None,f.clipBBox??(f.clipBBox=new _m(NaN,NaN,NaN,NaN)),f.x=y.x,f.y=y.y,f.clipBBox.x=((b=y.clipBBox)==null?void 0:b.x)??y.x,f.clipBBox.y=((S=y.clipBBox)==null?void 0:S.y)??y.y,this.properties.direction==="horizontal"?(f.height=f.clipBBox.height=m.height,f.width=m===y?m.width:m.x+m.width,f.clipBBox.width=f.width-(m.width-(((v=m.clipBBox)==null?void 0:v.width)??m.width)),f.topLeftCornerRadius=y.topLeftCornerRadius,f.bottomLeftCornerRadius=y.bottomLeftCornerRadius,f.topRightCornerRadius=m.topRightCornerRadius,f.bottomRightCornerRadius=m.bottomRightCornerRadius):(f.width=f.clipBBox.width=m.width,f.height=m===y?m.height:m.x+m.height,f.clipBBox.height=f.height-(m.height-(((D=m.clipBBox)==null?void 0:D.height)??m.height)),f.topLeftCornerRadius=y.topLeftCornerRadius,f.topRightCornerRadius=y.topRightCornerRadius,f.bottomLeftCornerRadius=m.bottomLeftCornerRadius,f.bottomRightCornerRadius=m.bottomRightCornerRadius)})}updateScaleSelection(t){return t.scaleSelection.update(t.scaleData,void 0,e=>s5(t.scaleData.length,e.itemId))}updateScaleNodes(t){const{scaleSelection:e}=t,{scale:i}=this.properties,{fillOpacity:n,stroke:s,strokeOpacity:a,strokeWidth:o,lineDash:r,lineDashOffset:l}=i;e.each((c,h)=>{const{topLeftCornerRadius:p,topRightCornerRadius:f,bottomRightCornerRadius:y,bottomLeftCornerRadius:m,fill:b}=h;c.fill=b,c.fillOpacity=n,c.stroke=s,c.strokeOpacity=a,c.strokeWidth=o,c.lineDash=r,c.lineDashOffset=l,c.topLeftCornerRadius=p,c.topRightCornerRadius=f,c.bottomRightCornerRadius=y,c.bottomLeftCornerRadius=m,c.setProperties(rM(c,h))})}updateTargetSelection(t){return t.targetSelection.update(t.targetData,void 0,e=>e.itemId)}updateTargetNodes(t){const{targetSelection:e,isHighlight:i}=t,n=i?this.properties.highlightStyle.item:void 0;e.each((s,a)=>{const{x:o,y:r,shape:l,size:c,rotation:h,fill:p,fillOpacity:f,stroke:y,strokeOpacity:m,strokeWidth:b,lineDash:S,lineDashOffset:v}=a;s.size=c,s.shape=l==="line"?GK:l,s.fill=(n==null?void 0:n.fill)??p,s.fillOpacity=(n==null?void 0:n.fillOpacity)??f,s.stroke=(n==null?void 0:n.stroke)??y,s.strokeOpacity=(n==null?void 0:n.strokeOpacity)??m,s.strokeWidth=(n==null?void 0:n.strokeWidth)??b,s.lineDash=(n==null?void 0:n.lineDash)??S,s.lineDashOffset=(n==null?void 0:n.lineDashOffset)??v,s.translationX=o,s.translationY=r,s.rotation=h})}updateTargetLabelSelection(t){return t.targetLabelSelection.update(t.targetData)}updateTargetLabelNodes(t){const{targetLabelSelection:e}=t;e.each((i,n)=>{const{x:s,y:a,text:o}=n,{offsetX:r,offsetY:l,fill:c,fontStyle:h,fontWeight:p,fontSize:f,fontFamily:y,textAlign:m,textBaseline:b}=n.label;i.visible=!0,i.x=s+r,i.y=a+l,i.text=o,i.fill=c,i.fontStyle=h,i.fontWeight=p,i.fontSize=f,i.fontFamily=y,i.textAlign=m,i.textBaseline=b})}updateLabelSelection(t){return t.labelSelection.update(t.labelData,void 0,e=>"primary")}updateLabelNodes(t){const{labelSelection:e}=t,i=this.ctx.animationManager.isSkipped();e.each((n,s)=>{n.fill=s.fill,n.fontStyle=s.fontStyle,n.fontWeight=s.fontWeight,n.fontFamily=s.fontFamily}),(i||this.labelsHaveExplicitText())&&this.formatLabelText()}labelsHaveExplicitText(){for(const{datum:t}of this.labelSelection)if(t.text==null)return!1;return!0}formatLabelText(t){const{labelSelection:e,horizontal:i,axes:n}=this,s=n[lr.X],a=n[lr.Y];if(s==null||a==null)return;const[o,r]=s.range,[l,c]=a.range,h=this.originX+Math.min(o,r),p=this.originY+Math.min(l,c),f=Math.abs(r-o),y=Math.abs(c-l),m=(t==null?void 0:t.label)??this.properties.value;let b;if(i){const D=s.scale.convert(m);b=new _m(h,p,D-h,y)}else{const D=a.scale.convert(m);b=new _m(h,D,f,y-D)}const S={scale:new _m(h,p,f,y),bar:b},{margin:v}=this.properties;xDt(this,e,{padding:v,horizontal:i},S,t)}resetAllAnimation(){this.ctx.animationManager.stopByAnimationGroupId(this.id),bDt([this.datumSelection],rM),this.formatLabelText()}resetAnimation(t){t==="initial"?this.animationState.transition("reset"):t==="ready"&&this.animationState.transition("skip")}animateLabelText(t={}){const{animationManager:e}=this.ctx;let i=0,n=0;if(this.labelSelection.each((s,a)=>{var o;s.opacity=1,i=((o=s.previousDatum)==null?void 0:o.value)??t.from??a.value,n=a.value}),!this.labelsHaveExplicitText())if(i===n)this.formatLabelText({label:n});else{const s=`${this.id}_labels`;e.animate({id:s,groupId:"label",from:{label:i},to:{label:n},phase:t.phase??"update",ease:CDt.easeOut,onUpdate:a=>this.formatLabelText(a)})}}animateEmptyUpdateReady(){const{animationManager:t}=this.ctx,{node:e}=i5(!0,this.horizontal);pk(this.id,"node",t,[this.datumSelection],e,(i,n)=>n.itemId),pk(this.id,"label",t,[this.labelSelection],jK,()=>"primary"),this.animateLabelText({from:0,phase:"initial"})}animateWaitingUpdateReady(){const{animationManager:t}=this.ctx,{node:e}=i5(!1,this.horizontal);pk(this.id,"node",t,[this.datumSelection],e,(i,n)=>n.itemId),this.animateLabelText()}animateReadyResize(){this.resetAllAnimation()}getSeriesDomain(){return[0,1]}getSeriesRange(t,e){return[NaN,NaN]}getLegendData(){return[]}getTooltipContent(t){const{id:e,properties:i}=this,{tooltip:n}=i;if(!i.isValid())return;const{value:s=i.value,text:a=i.label.text}=YK(t);return n.formatTooltip({data:[{label:a,fallbackLabel:"Value",value:this.formatLabel(s)}]},{seriesId:e,title:void 0,datum:void 0,value:s})}pickNodeClosestDatum(t){return VK(this,t)}pickFocus(t){return UK(this,t)}getCaptionText(){return this.formatLabel(this.properties.value)}};IR.className="LinearGaugeSeries";IR.type="linear-gauge";var{ThemeSymbols:{DEFAULT_HIERARCHY_FILLS:EDt,DEFAULT_GAUGE_SERIES_COLOR_RANGE:wDt},ThemeConstants:{CARTESIAN_AXIS_TYPE:fk}}=_,ODt={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["gauge"],identifier:"linear-gauge",moduleFactory:t=>new IR(t),tooltipDefaults:{range:10},defaultAxes:[{type:fk.NUMBER,line:{enabled:!1}},{type:fk.NUMBER,line:{enabled:!1}}],themeTemplate:{minWidth:200,minHeight:200,tooltip:{enabled:!1},series:{thickness:50,bar:{strokeWidth:0},segmentation:{enabled:!1,interval:{},spacing:1},defaultTarget:{fill:{$ref:"foregroundColor"},stroke:{$ref:"foregroundColor"},size:10,shape:"triangle",placement:"after",spacing:5,label:{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$ref:"textColor"},spacing:5}},label:{enabled:!1,placement:"inside-start",fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},fontSize:{$rem:[2]},minimumFontSize:12,spacing:18,color:{$ref:"backgroundColor"}},margin:4},axes:{[fk.NUMBER]:{line:{enabled:!1},gridLine:{enabled:!1}}}},paletteFactory(t){const{takeColors:e,colorsCount:i,userPalette:n,themeTemplateParameters:s}=t,{fills:a}=e(i),o=s.get(wDt),r=s.get(EDt),l=n==="inbuilt"?o:[a[0],a[1]];return{scale:{defaultFill:r==null?void 0:r[1],stroke:r==null?void 0:r[2]},defaultColorRange:zK(l)}}},dv={zoom:{axes:"xy",anchorPointX:"pointer",anchorPointY:"pointer",buttons:{anchorPointX:"middle",anchorPointY:"middle"}},legend:{enabled:!1},gradientLegend:{enabled:!1},tooltip:{range:"exact"}},RDt=1e-9;function qK(t,e,i,n){const[s,a]=t,[o,r]=e,l=o-s,c=r-a,h=l*l+c*c;let p,f;if(Math.abs(h)<RDt)p=s,f=a;else{let b=((i-s)*l+(n-a)*c)/h;b=Math.max(0,Math.min(1,b)),p=s+b*(o-s),f=a+b*(r-a)}const y=i-p,m=n-f;return y*y+m*m}function o5(t,e,i){let n=1/0,s=t[t.length-1];for(const a of t)n=Math.min(n,qK(s,a,e,i)),s=a;return Math.sqrt(n)}function XL(t){let[e,i]=t[0],n=0;for(let s=1;s<t.length;s+=1){const[a,o]=t[s],r=Math.hypot(a-e,o-i);n+=r,e=a,i=o}return n}function qM(t){if(t.length===0)return;const e=XL(t)/2;let[i,n]=t[0],s=0;for(let a=1;a<t.length;a+=1){const[o,r]=t[a],l=Math.hypot(o-i,r-n),c=s+l;if(c>e){const h=(e-s)/l,p=[i+(o-i)*h,n+(r-n)*h],f=Math.atan2(r-n,o-i);return{point:p,angle:f}}s=c,i=o,n=r}}var{LonLatBBox:PDt}=_;function fx(t,e,i,n,s){return t==null?t=new PDt(e,i,n,s):(t.lon0=Math.min(t.lon0,e),t.lat0=Math.min(t.lat0,i),t.lon1=Math.max(t.lon1,n),t.lat1=Math.max(t.lat1,s)),t}function Fd(t,e){return t.forEach(i=>{const[n,s]=i;e=fx(e,n,s,n,s)}),e}function BDt(t){if(t.length===0)return;let e=0,i=0,n=0,[s,a]=t[t.length-1];for(const[o,r]of t){const l=s*r-o*a;n+=l,e+=(s+o)*l,i+=(a+r)*l,s=o,a=r}return n*=3,[e/n,i/n]}function QM(t,e,i){let n=!1,s=1/0;for(const a of t){let o=a[a.length-1],[r,l]=o;for(const c of a){const[h,p]=c;p>i!=l>i&&e<(r-h)*(i-p)/(l-p)+h&&(n=!n),s=Math.min(s,qK(o,c,e,i)),o=c,r=h,l=p}}return(n?-1:1)*Math.sqrt(s)}var{Path:zDt,ExtendedPath2D:_Dt,BBox:jDt,ScenePathChangeDetection:QK}=_,hy=class extends zDt{constructor(){super(...arguments),this.projectedGeometry=void 0,this.renderMode=3,this.strokePath=new _Dt}computeBBox(){var t;return(this.dirtyPath||this.isDirtyPath())&&(this.updatePath(),this.dirtyPath=!1),(t=this.bbox)==null?void 0:t.clone()}updatePath(){const{projectedGeometry:t}=this;this.strokePath.clear(),this.path.clear(),this.bbox=t!=null?this.drawGeometry(t,void 0):void 0}drawPath(t){super.drawPath(t),this.renderStroke(t,this.strokePath.getPath2D())}containsPoint(t,e){const{projectedGeometry:i}=this;return i==null||!this.getBBox().containsPoint(t,e)?!1:this.geometryDistance(i,t,e)<=0}distanceSquared(t,e){const{projectedGeometry:i}=this;if(i==null)return 1/0;const n=this.geometryDistance(i,t,e);return n>0?n*n:0}geometryDistance(t,e,i){const{renderMode:n,strokeWidth:s}=this,a=(n&1)!==0,o=(n&2)!==0,r=Math.max(s/2,1)+1;switch(t.type){case"GeometryCollection":return t.geometries.reduce((l,c)=>Math.min(l,this.geometryDistance(c,e,i)),1/0);case"MultiPolygon":return a?t.coordinates.reduce((l,c)=>Math.min(l,Math.max(QM(c,e,i),0)),1/0):1/0;case"Polygon":return a?Math.max(QM(t.coordinates,e,i),0):1/0;case"MultiLineString":return o?t.coordinates.reduce((l,c)=>Math.min(l,Math.max(o5(c,e,i)-r,0)),1/0):1/0;case"LineString":return o?Math.max(o5(t.coordinates,e,i)-r,0):1/0;case"MultiPoint":case"Point":default:return 1/0}}drawGeometry(t,e){const{renderMode:i,path:n,strokePath:s}=this,a=(i&1)!==0,o=(i&2)!==0;switch(t.type){case"GeometryCollection":t.geometries.forEach(r=>{e=this.drawGeometry(r,e)});break;case"MultiPolygon":a&&t.coordinates.forEach(r=>{e=this.drawPolygon(n,r,e)});break;case"Polygon":a&&(e=this.drawPolygon(n,t.coordinates,e));break;case"LineString":o&&(e=this.drawLineString(s,t.coordinates,e,!1));break;case"MultiLineString":o&&t.coordinates.forEach(r=>{e=this.drawLineString(s,r,e,!1)});break}return e}drawPolygon(t,e,i){if(e.length<1)return i;i=this.drawLineString(t,e[0],i,!0);for(let n=1;n<e.length;n+=1){const s=e[n];this.drawLineString(t,s,void 0,!0)}return i}drawLineString(t,e,i,n){if(e.length<2)return i;const s=n?e.length-1:e.length;for(let a=0;a<s;a+=1){const[o,r]=e[a];if(a===0?t.moveTo(o,r):t.lineTo(o,r),i==null)i=new jDt(o,r,0,0);else{const{x:l,y:c}=i,h=l+i.width,p=c+i.height;i.x=Math.min(l,o),i.y=Math.min(c,r),i.width=Math.max(h,o)-i.x,i.height=Math.max(p,r)-i.y}}return n&&t.closePath(),i}};A([QK()],hy.prototype,"projectedGeometry");A([QK()],hy.prototype,"renderMode");function dy(t,e){if(t.bbox!=null){const[i,n,s,a]=t.bbox;return e=fx(e,i,n,s,a),e}switch(t.type){case"GeometryCollection":t.geometries.forEach(i=>{e=dy(i,e)});break;case"MultiPolygon":t.coordinates.forEach(i=>{i.length>0&&(e=Fd(i[0],e))});break;case"Polygon":t.coordinates.length>0&&(e=Fd(t.coordinates[0],e));break;case"MultiLineString":t.coordinates.forEach(i=>{e=Fd(i,e)});break;case"LineString":e=Fd(t.coordinates,e);break;case"MultiPoint":t.coordinates.forEach(i=>{const[n,s]=i;e=fx(e,n,s,n,s)});break;case"Point":{const[i,n]=t.coordinates;e=fx(e,i,n,i,n);break}}return e}function JM(t){switch(t.type){case"GeometryCollection":{let e,i;return t.geometries.forEach(n=>{const s=JM(n);if(s==null)return;const a=Fd(s[0],void 0);if(a==null)return;const o=Math.abs(a.lat1-a.lat0)*Math.abs(a.lon1-a.lon0);(e==null||o>e)&&(e=o,i=s)}),i}case"MultiPolygon":{let e,i;return t.coordinates.forEach(n=>{const s=Fd(n[0],void 0);if(s==null)return;const a=Math.abs(s.lat1-s.lat0)*Math.abs(s.lon1-s.lon0);(e==null||a>e)&&(e=a,i=n)}),i}case"Polygon":return t.coordinates;case"MultiLineString":case"LineString":case"MultiPoint":case"Point":return}}function tA(t){switch(t.type){case"GeometryCollection":{let e,i;return t.geometries.forEach(n=>{const s=tA(n);if(s==null)return;const a=XL(s);a!=null&&(e==null||a>e)&&(e=a,i=s)}),i}case"MultiLineString":{let e=0,i;return t.coordinates.forEach(n=>{const s=XL(n);s>e&&(e=s,i=n)}),i}case"LineString":return t.coordinates;case"MultiPolygon":case"Polygon":case"MultiPoint":case"Point":return}}function TR(t,e){if(t==null)return!1;switch(t.type){case"GeometryCollection":return t.geometries.some(i=>TR(i,e));case"MultiPolygon":case"Polygon":return(e&1)!==0;case"MultiLineString":case"LineString":return(e&2)!==0;case"MultiPoint":case"Point":return(e&4)!==0}}function uh(t,e){switch(t.type){case"GeometryCollection":return{type:"GeometryCollection",geometries:t.geometries.map(i=>uh(i,e))};case"Polygon":return{type:"Polygon",coordinates:ZL(t.coordinates,e)};case"MultiPolygon":return{type:"MultiPolygon",coordinates:FDt(t.coordinates,e)};case"MultiLineString":return{type:"MultiLineString",coordinates:ZL(t.coordinates,e)};case"LineString":return{type:"LineString",coordinates:qL(t.coordinates,e)};case"MultiPoint":return{type:"MultiPoint",coordinates:qL(t.coordinates,e)};case"Point":return{type:"Point",coordinates:e.convert(t.coordinates)}}}function FDt(t,e){return t.map(i=>ZL(i,e))}function ZL(t,e){return t.map(i=>qL(i,e))}function qL(t,e){return t.map(i=>e.convert(i))}(class extends _.SeriesProperties{});var pv=class extends _.DataModelSeries{addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager.addListener("legend-item-click",t=>{this.onLegendItemClick(t)}),this.ctx.chartEventManager.addListener("legend-item-double-click",t=>{this.onLegendItemDoubleClick(t)}))}getSeriesDomain(){return[NaN,NaN]}getSeriesRange(t,e){return[NaN,NaN]}};function JK(t){return Array.isArray(t)&&t.length>=2&&t.every(Ku)}function lM(t){return Array.isArray(t)&&t.length>=2&&t.every(JK)}var r5=.001;function GDt(t){return Math.abs(t[0][0]-t[t.length-1][0])<r5&&Math.abs(t[0][1]-t[t.length-1][1])<r5}function l5(t){return Array.isArray(t)&&t.every(lM)&&t.every(GDt)}function t9(t){if(t===null)return!0;if(typeof t!="object"||t.type==null)return!1;const{type:e,coordinates:i}=t;switch(e){case"GeometryCollection":return Array.isArray(t.geometries)&&t.geometries.every(t9);case"MultiPolygon":return Array.isArray(i)&&i.every(l5);case"Polygon":return l5(i);case"MultiLineString":return Array.isArray(i)&&i.every(lM);case"LineString":return lM(i);case"MultiPoint":return lM(i);case"Point":return JK(i)}}function VDt(t){return t!==null&&typeof t=="object"&&t.type==="Feature"&&t9(t.geometry)}function UDt(t){return t!==null&&typeof t=="object"&&t.type==="FeatureCollection"&&Array.isArray(t.features)&&t.features.every(VDt)}var Ol=_.predicateWithMessage(UDt,"a GeoJSON object"),{COLOR_STRING:HDt,LINE_DASH:WDt,OBJECT:YDt,POSITIVE_NUMBER:e9,RATIO:$Dt,Validate:Ip,SeriesProperties:KDt,SeriesTooltip:XDt}=_,Oh=class extends KDt{constructor(){super(...arguments),this.topology=void 0,this.stroke="black",this.strokeOpacity=1,this.strokeWidth=0,this.lineDash=[0],this.lineDashOffset=0,this.tooltip=new XDt}};A([Ip(Ol,{optional:!0})],Oh.prototype,"topology");A([Ip(HDt)],Oh.prototype,"stroke");A([Ip($Dt)],Oh.prototype,"strokeOpacity");A([Ip(e9)],Oh.prototype,"strokeWidth");A([Ip(WDt)],Oh.prototype,"lineDash");A([Ip(e9)],Oh.prototype,"lineDashOffset");A([Ip(YDt)],Oh.prototype,"tooltip");var{createDatumId:ZDt,SeriesNodePickMode:qDt,Validate:QDt,Group:JDt,Selection:tIt,PointerEvents:eIt}=_,dI=class extends pv{constructor(t){super({moduleCtx:t,useLabelLayer:!0,pickModes:[qDt.EXACT_SHAPE_MATCH]}),this.properties=new Oh,this._chartTopology=void 0,this.itemGroup=this.contentGroup.appendChild(new JDt({name:"itemGroup"})),this.datumSelection=tIt.select(this.itemGroup,()=>this.nodeFactory())}getNodeData(){var t;return(t=this.contextNodeData)==null?void 0:t.nodeData}get topology(){return this.properties.topology??this._chartTopology}get focusable(){return!1}setOptionsData(){}setChartData(){}get hasData(){return!1}renderToOffscreenCanvas(){return!0}setChartTopology(t){this._chartTopology=t,this.topology===t&&(this.nodeDataRefresh=!0)}setSeriesIndex(t){return super.setSeriesIndex(t)?(this.contentGroup.zIndex=[0,t,0],this.highlightGroup.zIndex=[0,t,1],!0):!1}nodeFactory(){const t=new hy;return t.renderMode=2,t.lineJoin="round",t.lineCap="round",t.pointerEvents=eIt.None,t}processData(){const{topology:t}=this;this.topologyBounds=t==null?void 0:t.features.reduce((e,i)=>{const n=i.geometry;return n==null?e:dy(n,e)},void 0),t==null&&Me.warnOnce("no topology was provided for [MapShapeBackgroundSeries]; nothing will be rendered.")}createNodeData(){const{id:t,topology:e,scale:i}=this;if(e==null)return;const n=[],s=[];return e.features.forEach((a,o)=>{const{geometry:r}=a,l=r!=null&&i!=null?uh(r,i):void 0;l!=null&&n.push({series:this,itemId:o,datum:a,datumIndex:0,index:o,projectedGeometry:l})}),{itemId:t,nodeData:n,labelData:s}}updateSelections(){this.nodeDataRefresh&&(this.contextNodeData=this.createNodeData(),this.nodeDataRefresh=!1)}update(){const{datumSelection:t}=this;this.updateSelections(),this.contentGroup.visible=this.visible;const{nodeData:e=[]}=this.contextNodeData??{};this.datumSelection=this.updateDatumSelection({nodeData:e,datumSelection:t}),this.updateDatumNodes({datumSelection:t})}updateDatumSelection(t){return t.datumSelection.update(t.nodeData,void 0,e=>ZDt(e.index))}updateDatumNodes(t){const{properties:e}=this,{datumSelection:i}=t,{stroke:n,strokeOpacity:s,lineDash:a,lineDashOffset:o}=e,r=this.getStrokeWidth(e.strokeWidth);i.each((l,c)=>{const{projectedGeometry:h}=c;if(h==null){l.visible=!1,l.projectedGeometry=void 0;return}l.visible=!0,l.projectedGeometry=h,l.stroke=n,l.strokeWidth=r,l.strokeOpacity=s,l.lineDash=a,l.lineDashOffset=o})}resetAnimation(){}getLegendData(){return[]}getTooltipContent(t){}computeFocusBounds(t){}};dI.className="MapLineBackgroundSeries";dI.type="map-line-background";A([QDt(Ol,{optional:!0,property:"topology"})],dI.prototype,"_chartTopology");var{DEFAULT_HIERARCHY_STROKES:iIt}=_.ThemeSymbols,nIt={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["topology"],identifier:"map-line-background",moduleFactory:t=>new dI(t),tooltipDefaults:{range:"exact"},themeTemplate:{...dv,series:{strokeWidth:1,lineDash:[0],lineDashOffset:0}},paletteFactory:({themeTemplateParameters:t})=>{var e;return{stroke:(e=t.get(iIt))==null?void 0:e[1]}}};function sIt(){return{fromFn:(i,n,s)=>s==="removed"?{scalingX:1,scalingY:1}:i.previousDatum==null?{scalingX:0,scalingY:0}:{scalingX:i.scalingX,scalingY:i.scalingY},toFn:(i,n,s)=>s==="removed"?{scalingX:0,scalingY:0}:{scalingX:1,scalingY:1}}}function i9(t,e){var n;const i=(n=t.contextNodeData)==null?void 0:n.nodeData[e.datumIndex];if(i!==void 0){for(const s of t.datumSelection.nodes())if(s.datum===i)return s}}var{AND:aIt,ARRAY:oIt,COLOR_STRING:rIt,COLOR_STRING_ARRAY:lIt,FUNCTION:cIt,LINE_DASH:uIt,NUMBER_ARRAY:hIt,OBJECT:n9,POSITIVE_NUMBER:CR,RATIO:dIt,STRING:wr,Validate:wi,SeriesProperties:pIt,SeriesTooltip:fIt,Label:gIt}=_,Si=class extends pIt{constructor(){super(...arguments),this.topology=void 0,this.idKey="",this.topologyIdKey="name",this.idName=void 0,this.labelKey=void 0,this.labelName=void 0,this.colorRange=void 0,this.maxStrokeWidth=void 0,this.stroke="black",this.strokeOpacity=1,this.strokeWidth=0,this.lineDash=[0],this.lineDashOffset=0,this.label=new gIt,this.tooltip=new fIt}};A([wi(Ol,{optional:!0})],Si.prototype,"topology");A([wi(wr,{optional:!0})],Si.prototype,"title");A([wi(wr,{optional:!0})],Si.prototype,"legendItemName");A([wi(wr)],Si.prototype,"idKey");A([wi(wr)],Si.prototype,"topologyIdKey");A([wi(wr,{optional:!0})],Si.prototype,"idName");A([wi(wr,{optional:!0})],Si.prototype,"labelKey");A([wi(wr,{optional:!0})],Si.prototype,"labelName");A([wi(wr,{optional:!0})],Si.prototype,"sizeKey");A([wi(wr,{optional:!0})],Si.prototype,"sizeName");A([wi(wr,{optional:!0})],Si.prototype,"colorKey");A([wi(wr,{optional:!0})],Si.prototype,"colorName");A([wi(hIt,{optional:!0})],Si.prototype,"sizeDomain");A([wi(aIt(lIt,oIt.restrict({minLength:1})),{optional:!0})],Si.prototype,"colorRange");A([wi(CR,{optional:!0})],Si.prototype,"maxStrokeWidth");A([wi(rIt)],Si.prototype,"stroke");A([wi(dIt)],Si.prototype,"strokeOpacity");A([wi(CR)],Si.prototype,"strokeWidth");A([wi(uIt)],Si.prototype,"lineDash");A([wi(CR)],Si.prototype,"lineDashOffset");A([wi(cIt,{optional:!0})],Si.prototype,"itemStyler");A([wi(n9)],Si.prototype,"label");A([wi(n9)],Si.prototype,"tooltip");var{getMissCount:yIt,createDatumId:c5,SeriesNodePickMode:u5,valueProperty:jm,CachedTextMeasurerPool:mIt,Validate:xIt,ColorScale:bIt,LinearScale:vIt,Selection:gk,Text:SIt,Transformable:MIt}=_,pI=class extends pv{constructor(t){super({moduleCtx:t,useLabelLayer:!0,pickModes:[u5.EXACT_SHAPE_MATCH,u5.NEAREST_NODE],usesPlacedLabels:!0}),this.properties=new Si,this._chartTopology=void 0,this.colorScale=new bIt,this.sizeScale=new vIt,this.datumSelection=gk.select(this.contentGroup,()=>this.nodeFactory()),this.labelSelection=gk.select(this.labelGroup,SIt),this.highlightDatumSelection=gk.select(this.highlightNode,()=>this.nodeFactory()),this._previousDatumMidPoint=void 0}getNodeData(){var t;return(t=this.contextNodeData)==null?void 0:t.nodeData}get topology(){return this.properties.topology??this._chartTopology}get hasData(){return super.hasData&&this.topology!=null}renderToOffscreenCanvas(){return!0}setSeriesIndex(t){return super.setSeriesIndex(t)?(this.contentGroup.zIndex=[1,t],this.highlightGroup.zIndex=[2,t],!0):!1}setChartTopology(t){this._chartTopology=t,this.topology===t&&(this.nodeDataRefresh=!0)}isLabelEnabled(){return this.properties.labelKey!=null&&this.properties.label.enabled}nodeFactory(){const t=new hy;return t.renderMode=2,t.lineJoin="round",t.lineCap="round",t}async processData(t){var I;if(this.data==null||!this.properties.isValid())return;const{data:e,topology:i,sizeScale:n,colorScale:s}=this,{topologyIdKey:a,idKey:o,sizeKey:r,colorKey:l,labelKey:c,sizeDomain:h,colorRange:p}=this.properties,f=new Map;i==null||i.features.forEach(T=>{var E;const k=(E=T.properties)==null?void 0:E[a];k==null||!TR(T.geometry,2)||f.set(k,T)});const y=this.sizeScale.type,m=this.colorScale.type,b=(I=this.scale)==null?void 0:I.type,{dataModel:S,processedData:v}=await this.requestDataModel(t,e,{props:[jm(o,b,{id:"idValue",includeProperty:!1}),jm(o,b,{id:"featureValue",includeProperty:!1,processor:()=>T=>f.get(T)}),...c!=null?[jm(c,"band",{id:"labelValue"})]:[],...r!=null?[jm(r,y,{id:"sizeValue"})]:[],...l!=null?[jm(l,m,{id:"colorValue"})]:[]]}),D=S.resolveColumnById(this,"featureValue",v);if(this.topologyBounds=D.reduce((T,k)=>{const E=k==null?void 0:k.geometry;return E==null?T:dy(E,T)},void 0),r!=null){const T=S.resolveProcessedDataIndexById(this,"sizeValue"),k=v.domain.values[T]??[];n.domain=h??k}if(p!=null&&this.isColorScaleValid()){const T=S.resolveProcessedDataIndexById(this,"colorValue");s.domain=v.domain.values[T],s.range=p,s.update()}i==null&&Me.warnOnce("no topology was provided for [MapLineSeries]; nothing will be rendered.")}isColorScaleValid(){const{colorKey:t}=this.properties;if(!t)return!1;const{dataModel:e,processedData:i}=this;if(!e||!i)return!1;const n=e.resolveProcessedDataIndexById(this,"colorValue"),s=i.input.count,a=yIt(this,i.defs.values[n].missing);return!(s===0||s===a)}getLabelDatum(t,e,i,n){if(e==null||i==null)return;const s=tA(i);if(s==null)return;const{idKey:a,idName:o,sizeKey:r,sizeName:l,colorKey:c,colorName:h,labelKey:p,labelName:f,label:y}=this.properties,m=this.getLabelText(y,{value:e,datum:t,idKey:a,idName:o,sizeKey:r,sizeName:l,colorKey:c,colorName:h,labelKey:p,labelName:f});if(m==null)return;const b=mIt.measureText(String(m),{font:n}),S=qM(s);if(S==null)return;const[v,D]=S.point,{width:I,height:T}=b;return{point:{x:v,y:D,size:0},label:{width:I,height:T,text:m},anchor:void 0,placement:void 0}}createNodeData(){var R;const{id:t,dataModel:e,processedData:i,sizeScale:n,properties:s,scale:a}=this,{idKey:o,sizeKey:r,colorKey:l,labelKey:c,label:h}=s;if(e==null||i==null)return;const p=e.resolveColumnById(this,"idValue",i),f=e.resolveColumnById(this,"featureValue",i),y=c!=null?e.resolveColumnById(this,"labelValue",i):void 0,m=r!=null?e.resolveColumnById(this,"sizeValue",i):void 0,b=l!=null?e.resolveColumnById(this,"colorValue",i):void 0,S=s.maxStrokeWidth??s.strokeWidth;n.range=[Math.min(s.strokeWidth,S),S];const v=h.getFont(),D=new Map;(R=i.dataSources.get(this.id))==null||R.forEach((O,L)=>{var H;const F=p[L],z=((H=f[L])==null?void 0:H.geometry)??void 0,V=z!=null&&a!=null?uh(z,a):void 0;F!=null&&V!=null&&D.set(F,V)});const I=[],T=[],k=[];(i.dataSources.get(this.id)??[]).forEach((O,L)=>{const F=p[L],z=b==null?void 0:b[L],V=m==null?void 0:m[L],H=y==null?void 0:y[L],W=D.get(F);W==null&&k.push(F);const G=this.getLabelDatum(O,H,W,v);G!=null&&T.push(G),I.push({series:this,itemId:o,datum:O,datumIndex:L,idValue:F,labelValue:H,colorValue:z,sizeValue:V,projectedGeometry:W})});const w=10;if(k.length>w){const O=k.length-w;k.length=w,k.push(`(+${O} more)`)}return k.length>0&&Me.warnOnce("some data items do not have matches in the provided topology",k),{itemId:t,nodeData:I,labelData:T}}updateSelections(){this.nodeDataRefresh&&(this.contextNodeData=this.createNodeData(),this.nodeDataRefresh=!1)}update(){var s,a;const{datumSelection:t,highlightDatumSelection:e}=this;this.updateSelections(),this.contentGroup.visible=this.visible,this.contentGroup.opacity=this.getOpacity();let i=(s=this.ctx.highlightManager)==null?void 0:s.getActiveHighlight();i!=null&&(i.series!==this||i.datum==null)&&(i=void 0);const n=((a=this.contextNodeData)==null?void 0:a.nodeData)??[];this.datumSelection=this.updateDatumSelection({nodeData:n,datumSelection:t}),this.updateDatumNodes({datumSelection:t,isHighlight:!1}),this.highlightDatumSelection=this.updateDatumSelection({nodeData:i!=null?[i]:[],datumSelection:e}),this.updateDatumNodes({datumSelection:e,isHighlight:!0})}updateDatumSelection(t){return t.datumSelection.update(t.nodeData,void 0,e=>c5(e.idValue))}getItemBaseStyle(t){const{properties:e}=this,i=t?e.highlightStyle.item:void 0;return{stroke:(i==null?void 0:i.stroke)??e.stroke,strokeWidth:(i==null?void 0:i.strokeWidth)??this.getStrokeWidth(e.strokeWidth),strokeOpacity:(i==null?void 0:i.strokeOpacity)??e.strokeOpacity,lineDash:(i==null?void 0:i.lineDash)??e.lineDash,lineDashOffset:(i==null?void 0:i.lineDashOffset)??e.lineDashOffset}}getItemStyleOverrides(t,e,i,n,s,a){const{id:o,properties:r,colorScale:l,sizeScale:c}=this,{colorRange:h,itemStyler:p}=r;let f;if(!a&&i!=null&&(f??(f={}),f.stroke=this.isColorScaleValid()?l.convert(i):(h==null?void 0:h[0])??r.stroke),n!=null&&(f??(f={}),f.strokeWidth=c.convert(n,!0)),p!=null){const y=this.cachedDatumCallback(c5(t,a?"highlight":"node"),()=>p({seriesId:o,datum:e,highlighted:a,...s,...f}));f??(f={}),Object.assign(f,y)}return f}updateDatumNodes(t){const{datumSelection:e,isHighlight:i}=t,n=this.getItemBaseStyle(i);e.each((s,a)=>{const{datum:o,datumIndex:r,colorValue:l,sizeValue:c,projectedGeometry:h}=a;if(h==null){s.visible=!1,s.projectedGeometry=void 0;return}const p=this.getItemStyleOverrides(String(r),o,l,c,n,i);s.visible=!0,s.projectedGeometry=h,s.stroke=(p==null?void 0:p.stroke)??n.stroke,s.strokeWidth=(p==null?void 0:p.strokeWidth)??n.strokeWidth,s.strokeOpacity=(p==null?void 0:p.strokeOpacity)??n.strokeOpacity,s.lineDash=(p==null?void 0:p.lineDash)??n.lineDash,s.lineDashOffset=(p==null?void 0:p.lineDashOffset)??n.lineDashOffset})}updatePlacedLabelData(t){this.labelSelection=this.labelSelection.update(t,e=>{e.pointerEvents=_.PointerEvents.None}),this.updateLabelNodes({labelSelection:this.labelSelection})}updateLabelNodes(t){const{labelSelection:e}=t,{color:i,fontStyle:n,fontWeight:s,fontSize:a,fontFamily:o}=this.properties.label;e.each((r,{x:l,y:c,width:h,height:p,text:f})=>{r.visible=!0,r.x=l+h/2,r.y=c+p/2,r.text=f,r.fill=i,r.fontStyle=n,r.fontWeight=s,r.fontSize=a,r.fontFamily=o,r.textAlign="center",r.textBaseline="middle"})}resetAnimation(){}getLabelData(){var t;return this.isLabelEnabled()?((t=this.contextNodeData)==null?void 0:t.labelData)??[]:[]}pickNodeClosestDatum({x:t,y:e}){let i=1/0,n;return this.datumSelection.each((s,a)=>{const o=s.distanceSquared(t,e);o<i&&(i=o,n=a)}),n!=null?{datum:n,distance:Math.sqrt(i)}:void 0}datumMidPoint(t){var o;const{_previousDatumMidPoint:e}=this;if((e==null?void 0:e.datum)===t)return e.point;const i=t.projectedGeometry,n=i!=null?tA(i):void 0,s=n!=null?(o=qM(n))==null?void 0:o.point:void 0,a=s!=null?{x:s[0],y:s[1]}:void 0;return this._previousDatumMidPoint={datum:t,point:a},a}legendItemSymbol(t){const{dataModel:e,processedData:i,properties:n}=this,{strokeWidth:s,strokeOpacity:a,lineDash:o}=n;let{stroke:r}=n;if(t!=null&&this.isColorScaleValid()){const c=e.resolveColumnById(this,"colorValue",i)[t];r=this.colorScale.convert(c)}return{marker:{fill:void 0,fillOpacity:0,stroke:void 0,strokeWidth:0,strokeOpacity:0,lineDash:[0],lineDashOffset:0,enabled:!1},line:{stroke:r,strokeWidth:s,strokeOpacity:a,lineDash:o}}}getLegendData(t){const{processedData:e,dataModel:i}=this;if(e==null||i==null)return[];const{id:n,visible:s}=this,{title:a,legendItemName:o,idKey:r,idName:l,colorKey:c,colorName:h,colorRange:p,showInLegend:f}=this.properties;if(t==="gradient"&&c!=null&&p!=null){const y=e.domain.values[i.resolveProcessedDataIndexById(this,"colorValue")];return[{legendType:"gradient",enabled:s,seriesId:n,colorName:h,colorRange:p,colorDomain:y}]}else return t==="category"?[{legendType:"category",id:n,itemId:n,seriesId:n,enabled:s,label:{text:o??a??l??r},symbol:this.legendItemSymbol(),legendItemName:o,hideInLegend:!f}]:[]}getTooltipContent(t){var w;const{id:e,dataModel:i,processedData:n,properties:s}=this,{idKey:a,idName:o,colorKey:r,colorName:l,sizeKey:c,sizeName:h,labelKey:p,labelName:f,title:y,legendItemName:m,tooltip:b}=s;if(!i||!n)return;const{datumIndex:S}=t,v=(w=n.dataSources.get(this.id))==null?void 0:w[S],D=i.resolveColumnById(this,"idValue",n),I=[],T=c!=null?i.resolveColumnById(this,"sizeValue",n)[S]:void 0,k=r!=null?i.resolveColumnById(this,"colorValue",n)[S]:void 0;if(c!=null&&I.push({label:h,fallbackLabel:c,value:String(T)}),r!=null&&I.push({label:l,fallbackLabel:r,value:String(k)}),p!=null&&p!==a){const R=i.resolveColumnById(this,"labelValue",n)[S];I.push({label:f,fallbackLabel:p,value:R})}const E=this.getItemBaseStyle(!1);return Object.assign(E,this.getItemStyleOverrides(String(S),S,k,T,E,!1)),b.formatTooltip({heading:D[S],title:y??m,symbol:this.legendItemSymbol(S),data:I},{seriesId:e,datum:v,title:y,idKey:a,idName:o,colorKey:r,colorName:l,sizeKey:c,sizeName:h,labelKey:p,labelName:f,...E})}computeFocusBounds(t){const e=i9(this,t);return e?MIt.toCanvas(this.contentGroup,e.getBBox()):void 0}};pI.className="MapLineSeries";pI.type="map-line";A([xIt(Ol,{optional:!0,property:"topology"})],pI.prototype,"_chartTopology");var{DEFAULT_DIVERGING_SERIES_COLOR_RANGE:AIt}=_.ThemeSymbols,DIt={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["topology"],identifier:"map-line",moduleFactory:t=>new pI(t),tooltipDefaults:{range:"exact"},themeTemplate:{...dv,series:{strokeWidth:1,maxStrokeWidth:3,lineDash:[0],lineDashOffset:0,label:{enabled:!0,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}}}},paletteFactory:t=>{const{takeColors:e,colorsCount:i,userPalette:n,themeTemplateParameters:s}=t,{fill:a}=_.singleSeriesPaletteFactory(t),o=s.get(AIt),{fills:r}=e(i);return{colorRange:n==="inbuilt"?o:[r[0],r[1]],stroke:a}}},IIt=(t,e,i)=>{let n=t,s=n;for(const a of e)if(n==null||i(n.value,a)>0)n={value:a,next:n},s=n;else{for(s=s;s.next!=null&&i(s.next.value,a)<=0;)s=s.next;s.next={value:a,next:s.next}}return n};function s9(t,e,i){const n=Fd(t[0],void 0);if(n==null)return;const s=(n.lon0+n.lon1)/2,a=(n.lat0+n.lat1)/2,o=Math.abs(n.lon1-n.lon0),r=Math.abs(n.lat1-n.lat0),l=BDt(t[0]),[c,h]=l,p=-QM(t,c,h);let f;const y=(k,E)=>{const R=Math.max(E-p,0);return k-.5*R},m=(k,E,w)=>{const{distance:R,maxDistance:O}=i(t,k,E,w),L=Math.hypot(c-k,h-E),F=Math.min(Math.max(c,k-w/2),k+w/2),z=Math.min(Math.max(h,E-w/2),E+w/2),V=Math.hypot(c-F,h-z),H=y(R,L),W=y(O,V);return{distance:R,maxDistance:O,value:H,maxValue:W,x:k,y:E,stride:w}},b=(k,E,w,R)=>{const O=m(E,w,R);O.maxDistance>=0&&k.push(O)},S=Math.min(o,r)/2;let v={value:m(s,a,S),next:null};for(;v!=null;){const k=v.value,{distance:E,value:w,maxValue:R,x:O,y:L,stride:F}=k;if(v=v.next,E>0&&(f==null||w>f.value)&&(f=k),f!=null&&R-f.value<=e)continue;const z=F/2,V=[];b(V,O-z,L-z,z),b(V,O+z,L-z,z),b(V,O-z,L+z,z),b(V,O+z,L+z,z),V.sort(h5),v=IIt(v,V,h5)}if(f==null)return;const{distance:D,x:I,y:T}=f;return{x:I,y:T,distance:D}}var h5=(t,e)=>e.maxValue-t.maxValue;function QL(t,e){const i=s9(t,e,(a,o,r,l)=>{const c=-QM(a,o,r),h=c+l*Math.SQRT2;return{distance:c,maxDistance:h}});if(i==null)return;const{x:n,y:s}=i;return[n,s]}function a9(t,e){var n,s;let i;switch(t.type){case"GeometryCollection":return t.geometries.flatMap(a=>a9(a,e));case"MultiPoint":return t.coordinates;case"Point":return[t.coordinates];case"MultiPolygon":{const a=JM(t);i=a!=null?QL(a,e):void 0;break}case"Polygon":{const a=t.coordinates;i=a!=null?QL(a,e):void 0;break}case"MultiLineString":{const a=tA(t);i=a!=null?(n=qM(a))==null?void 0:n.point:void 0;break}case"LineString":{const a=t.coordinates;i=(s=qM(a))==null?void 0:s.point;break}}return i!=null?[i]:[]}var{AND:TIt,ARRAY:CIt,COLOR_STRING:o9,COLOR_STRING_ARRAY:kIt,FUNCTION:LIt,NUMBER_ARRAY:NIt,OBJECT:r9,POSITIVE_NUMBER:fI,RATIO:l9,STRING:_s,MARKER_SHAPE:EIt,LINE_DASH:wIt,Validate:Be,SeriesProperties:OIt,SeriesTooltip:RIt,Label:PIt}=_,c9=class extends PIt{constructor(){super(...arguments),this.placement="bottom"}};A([Be(_s)],c9.prototype,"placement");var ze=class extends OIt{constructor(){super(...arguments),this.topology=void 0,this.idKey=void 0,this.topologyIdKey="name",this.idName=void 0,this.latitudeKey=void 0,this.latitudeName=void 0,this.longitudeKey=void 0,this.longitudeName=void 0,this.labelKey=void 0,this.labelName=void 0,this.colorRange=void 0,this.shape="circle",this.size=6,this.fill="black",this.fillOpacity=1,this.stroke="black",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.label=new c9,this.tooltip=new RIt}isValid(){const t=super.isValid(),e=this.idKey!=null,i=this.latitudeKey!=null&&this.longitudeKey!=null;return!e&&!i?(Me.warnOnce("Either both [topology] and [idKey] or both [latitudeKey] and [longitudeKey] must be set to render a map marker series."),!1):t}};A([Be(Ol,{optional:!0})],ze.prototype,"topology");A([Be(_s,{optional:!0})],ze.prototype,"title");A([Be(_s,{optional:!0})],ze.prototype,"legendItemName");A([Be(_s,{optional:!0})],ze.prototype,"idKey");A([Be(_s)],ze.prototype,"topologyIdKey");A([Be(_s,{optional:!0})],ze.prototype,"idName");A([Be(_s,{optional:!0})],ze.prototype,"latitudeKey");A([Be(_s,{optional:!0})],ze.prototype,"latitudeName");A([Be(_s,{optional:!0})],ze.prototype,"longitudeKey");A([Be(_s,{optional:!0})],ze.prototype,"longitudeName");A([Be(_s,{optional:!0})],ze.prototype,"labelKey");A([Be(_s,{optional:!0})],ze.prototype,"labelName");A([Be(_s,{optional:!0})],ze.prototype,"sizeKey");A([Be(_s,{optional:!0})],ze.prototype,"sizeName");A([Be(_s,{optional:!0})],ze.prototype,"colorKey");A([Be(_s,{optional:!0})],ze.prototype,"colorName");A([Be(TIt(kIt,CIt.restrict({minLength:1})),{optional:!0})],ze.prototype,"colorRange");A([Be(EIt)],ze.prototype,"shape");A([Be(fI)],ze.prototype,"size");A([Be(fI,{optional:!0})],ze.prototype,"maxSize");A([Be(NIt,{optional:!0})],ze.prototype,"sizeDomain");A([Be(o9)],ze.prototype,"fill");A([Be(l9)],ze.prototype,"fillOpacity");A([Be(o9)],ze.prototype,"stroke");A([Be(fI)],ze.prototype,"strokeWidth");A([Be(l9)],ze.prototype,"strokeOpacity");A([Be(wIt)],ze.prototype,"lineDash");A([Be(fI)],ze.prototype,"lineDashOffset");A([Be(LIt,{optional:!0})],ze.prototype,"itemStyler");A([Be(r9)],ze.prototype,"label");A([Be(r9)],ze.prototype,"tooltip");var{CachedTextMeasurerPool:BIt,Validate:zIt,fromToMotion:_It,StateMachine:jIt,getMissCount:FIt,createDatumId:d5,SeriesNodePickMode:p5,valueProperty:Ad,computeMarkerFocusBounds:GIt,ColorScale:VIt,LinearScale:UIt,Group:HIt,Selection:yk,Text:WIt,Marker:mk,applyShapeStyle:YIt}=_,gI=class extends pv{constructor(t){super({moduleCtx:t,useLabelLayer:!0,pickModes:[p5.EXACT_SHAPE_MATCH,p5.NEAREST_NODE],usesPlacedLabels:!0}),this.properties=new ze,this._chartTopology=void 0,this.colorScale=new VIt,this.sizeScale=new UIt,this.markerGroup=this.contentGroup.appendChild(new HIt({name:"markerGroup"})),this.labelSelection=yk.select(this.labelGroup,WIt,!1),this.markerSelection=yk.select(this.markerGroup,mk,!1),this.highlightMarkerSelection=yk.select(this.highlightNode,mk),this.animationState=new jIt("empty",{empty:{update:{target:"ready",action:()=>this.animateMarkers()},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",resize:()=>this.resetAllAnimation(),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:()=>this.animateMarkers()},resize:{target:"ready",action:()=>this.resetAllAnimation()},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:()=>this.resetAllAnimation()},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}getNodeData(){var t;return(t=this.contextNodeData)==null?void 0:t.nodeData}get topology(){return this.properties.topology??this._chartTopology}get hasData(){const t=this.properties.latitudeKey!=null&&this.properties.longitudeKey!=null;return super.hasData&&(this.topology!=null||t)}renderToOffscreenCanvas(){return!0}setChartTopology(t){this._chartTopology=t,this.topology===t&&(this.nodeDataRefresh=!0)}setSeriesIndex(t){return super.setSeriesIndex(t)?(this.contentGroup.zIndex=[3,t],this.highlightGroup.zIndex=[4,t],!0):!1}isLabelEnabled(){return this.properties.labelKey!=null&&this.properties.label.enabled}async processData(t){var R,O;if(this.data==null||!this.properties.isValid())return;const{data:e,topology:i,sizeScale:n,colorScale:s}=this,{topologyIdKey:a,idKey:o,latitudeKey:r,longitudeKey:l,sizeKey:c,colorKey:h,labelKey:p,sizeDomain:f,colorRange:y}=this.properties,m=new Map;i==null||i.features.forEach(L=>{var z;const F=(z=L.properties)==null?void 0:z[a];F!=null&&m.set(F,L)});const b=this.sizeScale.type,S=this.colorScale.type,v=(R=this.scale)==null?void 0:R.type,D=r!=null&&l!=null,{dataModel:I,processedData:T}=await this.requestDataModel(t,e,{props:[...o!=null?[Ad(o,v,{id:"idValue",includeProperty:!1}),Ad(o,v,{id:"featureValue",includeProperty:!1,processor:()=>L=>m.get(L)})]:[],...D?[Ad(r,v,{id:"latValue"}),Ad(l,v,{id:"lonValue"})]:[],...p?[Ad(p,"band",{id:"labelValue"})]:[],...c?[Ad(c,b,{id:"sizeValue"})]:[],...h?[Ad(h,S,{id:"colorValue"})]:[]]}),k=o!=null?I.resolveColumnById(this,"featureValue",T):void 0,E=D?I.resolveColumnById(this,"latValue",T):void 0,w=D?I.resolveColumnById(this,"lonValue",T):void 0;if(this.topologyBounds=(O=T.dataSources.get(this.id))==null?void 0:O.reduce((L,F,z)=>{const V=k==null?void 0:k[z],H=V==null?void 0:V.geometry;if(H!=null&&(L=dy(H,L)),E!=null&&w!=null){const W=w[z],G=E[z];L=fx(L,W,G,W,G)}return L},void 0),c!=null){const L=I.resolveProcessedDataIndexById(this,"sizeValue"),F=T.domain.values[L]??[];n.domain=f??F}if(y!=null&&this.isColorScaleValid()){const L=I.resolveProcessedDataIndexById(this,"colorValue");s.domain=T.domain.values[L],s.range=y,s.update()}this.animationState.transition("updateData")}isColorScaleValid(){const{colorKey:t}=this.properties;if(!t)return!1;const{dataModel:e,processedData:i}=this;if(!e||!i)return!1;const n=e.resolveProcessedDataIndexById(this,"colorValue"),s=i.input.count,a=FIt(this,i.defs.values[n].missing);return!(s===0||s===a)}getLabelDatum(t,e,i,n,s,a){if(e==null)return;const{idKey:o,idName:r,latitudeKey:l,latitudeName:c,longitudeKey:h,longitudeName:p,sizeKey:f,sizeName:y,colorKey:m,colorName:b,labelKey:S,labelName:v,label:D,shape:I}=this.properties,{placement:T}=D,k=this.getLabelText(D,{value:e,datum:t,idKey:o,idName:r,latitudeKey:l,latitudeName:c,longitudeKey:h,longitudeName:p,sizeKey:f,sizeName:y,colorKey:m,colorName:b,labelKey:S,labelName:v});if(k==null)return;const{width:E,height:w}=BIt.measureText(String(k),{font:a}),R=mk.anchor(I);return{point:{x:i,y:n,size:s},label:{width:E,height:w,text:k},anchor:R,placement:T}}createNodeData(){var V;const{id:t,dataModel:e,processedData:i,sizeScale:n,properties:s,scale:a}=this,{idKey:o,latitudeKey:r,longitudeKey:l,sizeKey:c,colorKey:h,labelKey:p,label:f}=s;if(e==null||i==null||a==null)return;const y=r!=null&&l!=null,m=o!=null?e.resolveColumnById(this,"idValue",i):void 0,b=o!=null?e.resolveColumnById(this,"featureValue",i):void 0,S=y?e.resolveColumnById(this,"latValue",i):void 0,v=y?e.resolveColumnById(this,"lonValue",i):void 0,D=p!=null?e.resolveColumnById(this,"labelValue",i):void 0,I=c!=null?e.resolveColumnById(this,"sizeValue",i):void 0,T=h!=null?e.resolveColumnById(this,"colorValue",i):void 0,k=s.maxSize??s.size;n.range=[Math.min(s.size,k),k];const E=f.getFont();let w;m!=null&&b!=null&&(w=new Map,(V=i.dataSources.get(this.id))==null||V.forEach((H,W)=>{var X;const G=m[W],$=((X=b[W])==null?void 0:X.geometry)??void 0,K=$!=null&&a!=null?uh($,a):void 0;G!=null&&K!=null&&w.set(G,K)}));const R=[],O=[],L=[];(i.dataSources.get(this.id)??[]).forEach((H,W)=>{const G=m==null?void 0:m[W],$=v==null?void 0:v[W],K=S==null?void 0:S[W],X=T==null?void 0:T[W],j=I==null?void 0:I[W],U=D==null?void 0:D[W],Z=j!=null?n.convert(j,!0):s.size,tt=G!=null?w==null?void 0:w.get(G):void 0;if(G!=null&&uh==null&&L.push(G),$!=null&&K!=null){const[J,nt]=a.convert([$,K]),at=this.getLabelDatum(H,U,J,nt,Z,E);at&&O.push(at),R.push({series:this,itemId:r,datum:H,datumIndex:W,index:-1,idValue:G,lonValue:$,latValue:K,labelValue:U,sizeValue:j,colorValue:X,point:{x:J,y:nt,size:Z},midPoint:{x:J,y:nt}})}else tt!=null&&a9(tt,1).forEach(([J,nt],at)=>{const lt=this.getLabelDatum(H,U,J,nt,Z,E);lt&&O.push(lt),R.push({series:this,itemId:r,datum:H,datumIndex:W,index:at,idValue:G,lonValue:$,latValue:K,labelValue:U,sizeValue:j,colorValue:X,point:{x:J,y:nt,size:Z},midPoint:{x:J,y:nt}})})});const z=10;if(L.length>z){const H=L.length-z;L.length=z,L.push(`(+${H} more)`)}return L.length>0&&Me.warnOnce("some data items do not have matches in the provided topology",L),{itemId:t,nodeData:R,labelData:O}}updateSelections(){this.nodeDataRefresh&&(this.contextNodeData=this.createNodeData(),this.nodeDataRefresh=!1)}checkScaleChange(){return this.previousScale===this.scale?!1:(this.previousScale=this.scale,!0)}update({seriesRect:t}){var r,l;const e=this.checkResize(t),i=this.checkScaleChange(),{markerSelection:n,highlightMarkerSelection:s}=this;this.updateSelections(),this.contentGroup.visible=this.visible,this.contentGroup.opacity=this.getOpacity();let a=(r=this.ctx.highlightManager)==null?void 0:r.getActiveHighlight();a!=null&&(a.series!==this||a.datum==null)&&(a=void 0);const o=((l=this.contextNodeData)==null?void 0:l.nodeData)??[];this.markerSelection=this.updateMarkerSelection({markerData:o,markerSelection:n}),this.updateMarkerNodes({markerSelection:n,isHighlight:!1,highlightedDatum:a}),this.highlightMarkerSelection=this.updateMarkerSelection({markerData:a!=null?[a]:[],markerSelection:s}),this.updateMarkerNodes({markerSelection:s,isHighlight:!0,highlightedDatum:a}),(i||e)&&this.animationState.transition("resize"),this.animationState.transition("update")}updatePlacedLabelData(t){this.labelSelection=this.labelSelection.update(t,e=>{e.pointerEvents=_.PointerEvents.None}),this.updateLabelNodes({labelSelection:this.labelSelection})}updateLabelNodes(t){const{labelSelection:e}=t,{color:i,fontStyle:n,fontWeight:s,fontSize:a,fontFamily:o}=this.properties.label;e.each((r,{x:l,y:c,width:h,height:p,text:f})=>{r.visible=!0,r.x=l+h/2,r.y=c+p/2,r.text=f,r.fill=i,r.fontStyle=n,r.fontWeight=s,r.fontSize=a,r.fontFamily=o,r.textAlign="center",r.textBaseline="middle"})}updateMarkerSelection(t){const{markerData:e,markerSelection:i}=t;return i.update(e,void 0,n=>d5([n.index,n.idValue,n.lonValue,n.latValue]))}getMarkerItemBaseStyle(t){const{properties:e}=this,i=t?e.highlightStyle.item:void 0;return{shape:e.shape,size:e.size,fill:(i==null?void 0:i.fill)??e.fill,fillOpacity:(i==null?void 0:i.fillOpacity)??e.fillOpacity,stroke:(i==null?void 0:i.stroke)??e.stroke,strokeWidth:(i==null?void 0:i.strokeWidth)??this.getStrokeWidth(e.strokeWidth),strokeOpacity:(i==null?void 0:i.strokeOpacity)??e.strokeOpacity,lineDash:(i==null?void 0:i.lineDash)??e.lineDash,lineDashOffset:(i==null?void 0:i.lineDashOffset)??e.lineDashOffset}}getMarkerItemStyleOverrides(t,e,i,n,s,a){const{id:o,properties:r,colorScale:l,sizeScale:c}=this,{colorRange:h,itemStyler:p}=r;let f;if(!a&&i!=null&&(f??(f={}),f.fill=this.isColorScaleValid()?l.convert(i):(h==null?void 0:h[0])??r.fill),n!=null&&(f??(f={}),f.size=c.convert(n,!0)),p!=null){const y=this.cachedDatumCallback(d5(t,a?"highlight":"node"),()=>p({seriesId:o,datum:e,highlighted:a,...s,...f}));f??(f={}),Object.assign(f,y)}return f}updateMarkerNodes(t){const{markerSelection:e,isHighlight:i,highlightedDatum:n}=t,s=this.getMarkerItemBaseStyle(i);e.each((a,o)=>{const{datumIndex:r,datum:l,point:c,colorValue:h,sizeValue:p}=o,f=this.getMarkerItemStyleOverrides(String(r),l,h,p,s,i);a.shape=(f==null?void 0:f.shape)??s.shape,a.size=(f==null?void 0:f.size)??s.size,YIt(a,s,f),a.translationX=c.x,a.translationY=c.y,a.zIndex=!i&&n!=null&&l===n.datum?1:0})}isProcessedDataAnimatable(){return!0}resetAnimation(t){t==="initial"?this.animationState.transition("reset"):t==="ready"&&this.animationState.transition("skip")}resetAllAnimation(){this.ctx.animationManager.stopByAnimationGroupId(this.id),this.ctx.animationManager.skipCurrentBatch(),this.labelSelection.cleanup(),this.markerSelection.cleanup(),this.highlightMarkerSelection.cleanup()}animateMarkers(){const{animationManager:t}=this.ctx,e=sIt();_It(this.id,"markers",t,[this.markerSelection,this.highlightMarkerSelection],e)}getLabelData(){var t;return this.isLabelEnabled()?((t=this.contextNodeData)==null?void 0:t.labelData)??[]:[]}pickNodeClosestDatum(t){var a;const{x:e,y:i}=t;let n=1/0,s;return(a=this.contextNodeData)==null||a.nodeData.forEach(o=>{const{x:r,y:l,size:c}=o.point,h=Math.max(Math.abs(r-e)-c,0),p=Math.max(Math.abs(l-i)-c,0),f=h*h+p*p;f<n&&(n=f,s=o)}),s!=null?{datum:s,distance:Math.sqrt(n)}:void 0}legendItemSymbol(t){const{dataModel:e,processedData:i,properties:n}=this,{shape:s,fillOpacity:a,stroke:o,strokeWidth:r,strokeOpacity:l,lineDash:c,lineDashOffset:h}=n;let{fill:p}=n;if(t!=null&&this.isColorScaleValid()){const y=e.resolveColumnById(this,"colorValue",i)[t];p=this.colorScale.convert(y)}return{marker:{shape:s,fill:p,fillOpacity:a,stroke:o,strokeWidth:r,strokeOpacity:l,lineDash:c,lineDashOffset:h}}}getLegendData(t){const{processedData:e,dataModel:i}=this;if(e==null||i==null)return[];const{id:n,visible:s}=this,{title:a,legendItemName:o,idName:r,idKey:l,colorKey:c,colorName:h,colorRange:p,showInLegend:f}=this.properties;if(t==="gradient"&&c!=null&&p!=null){const y=e.domain.values[i.resolveProcessedDataIndexById(this,"colorValue")];return[{legendType:"gradient",enabled:s,seriesId:n,colorName:h,colorRange:p,colorDomain:y}]}else return t==="category"?[{legendType:"category",id:n,itemId:n,seriesId:n,enabled:s,label:{text:o??a??r??l??n},symbol:this.legendItemSymbol(),legendItemName:o,hideInLegend:!f}]:[]}getTooltipContent(t){var F;const{id:e,dataModel:i,processedData:n,properties:s}=this,{idKey:a,idName:o,latitudeKey:r,latitudeName:l,longitudeKey:c,longitudeName:h,colorKey:p,colorName:f,sizeKey:y,sizeName:m,labelKey:b,labelName:S,title:v,legendItemName:D,tooltip:I}=s;if(!i||!n)return;const{datumIndex:T}=t,k=(F=n.dataSources.get(this.id))==null?void 0:F[T],E=y!=null?i.resolveColumnById(this,"sizeValue",n)[T]:void 0,w=p!=null?i.resolveColumnById(this,"colorValue",n)[T]:void 0,R=[];if(E!=null&&R.push({label:m,fallbackLabel:y,value:String(E)}),w!=null&&R.push({label:f,fallbackLabel:p,value:String(w)}),b!=null&&b!==a){const z=i.resolveColumnById(this,"labelValue",n)[T];R.push({label:S,fallbackLabel:b,value:z})}let O;if(a!=null)O=i.resolveColumnById(this,"idValue",n)[T];else if(r!=null&&c!=null){const z=i.resolveColumnById(this,"latValue",n)[T],V=i.resolveColumnById(this,"lonValue",n)[T];O=`${Math.abs(z).toFixed(4)} ${z>=0?"N":"S"}, ${Math.abs(V).toFixed(4)} ${V>=0?"W":"E"}`}const L=this.getMarkerItemBaseStyle(!1);return Object.assign(L,this.getMarkerItemStyleOverrides(String(T),T,w,E,L,!1)),I.formatTooltip({heading:O,title:v??D,symbol:this.legendItemSymbol(T),data:R},{seriesId:e,datum:k,title:v,idKey:a,idName:o,latitudeKey:r,latitudeName:l,longitudeKey:c,longitudeName:h,colorKey:p,colorName:f,sizeKey:y,sizeName:m,labelKey:b,labelName:S,...L})}getFormattedMarkerStyle(t){const{datumIndex:e,colorValue:i,sizeValue:n}=t,s=this.getMarkerItemBaseStyle(!1);return Object.assign(s,this.getMarkerItemStyleOverrides(String(e),e,i,n,s,!1)),{size:s.size}}computeFocusBounds(t){return GIt(this,t)}};gI.className="MapMarkerSeries";gI.type="map-marker";A([zIt(Ol,{optional:!0,property:"topology"})],gI.prototype,"_chartTopology");var{DEFAULT_DIVERGING_SERIES_COLOR_RANGE:$It}=_.ThemeSymbols,KIt={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["topology"],identifier:"map-marker",moduleFactory:t=>new gI(t),tooltipDefaults:{range:"exact"},themeTemplate:{...dv,series:{shape:"circle",maxSize:30,fillOpacity:.5,label:{color:{$ref:"textColor"}}}},paletteFactory:t=>{const{takeColors:e,colorsCount:i,userPalette:n,themeTemplateParameters:s}=t,{fill:a,stroke:o}=_.singleSeriesPaletteFactory(t),r=s.get($It),{fills:l}=e(i);return{fill:a,stroke:o,colorRange:n==="inbuilt"?r:[l[0],l[1]]}}},{COLOR_STRING:u9,LINE_DASH:XIt,OBJECT:ZIt,POSITIVE_NUMBER:h9,RATIO:d9,Validate:qc,SeriesProperties:qIt,SeriesTooltip:QIt}=_,Rl=class extends qIt{constructor(){super(...arguments),this.topology=void 0,this.fill="black",this.fillOpacity=1,this.stroke="black",this.strokeOpacity=1,this.strokeWidth=0,this.lineDash=[0],this.lineDashOffset=0,this.tooltip=new QIt}};A([qc(Ol,{optional:!0})],Rl.prototype,"topology");A([qc(u9)],Rl.prototype,"fill");A([qc(d9)],Rl.prototype,"fillOpacity");A([qc(u9)],Rl.prototype,"stroke");A([qc(d9)],Rl.prototype,"strokeOpacity");A([qc(h9)],Rl.prototype,"strokeWidth");A([qc(XIt)],Rl.prototype,"lineDash");A([qc(h9)],Rl.prototype,"lineDashOffset");A([qc(ZIt)],Rl.prototype,"tooltip");var{createDatumId:JIt,SeriesNodePickMode:tTt,Validate:eTt,Selection:iTt,Group:nTt,PointerEvents:sTt}=_,yI=class extends pv{constructor(t){super({moduleCtx:t,useLabelLayer:!0,pickModes:[tTt.EXACT_SHAPE_MATCH]}),this.properties=new Rl,this._chartTopology=void 0,this.itemGroup=this.contentGroup.appendChild(new nTt({name:"itemGroup"})),this.datumSelection=iTt.select(this.itemGroup,()=>this.nodeFactory())}get topology(){return this.properties.topology??this._chartTopology}get focusable(){return!1}setOptionsData(){}setChartData(){}getNodeData(){}get hasData(){return!1}renderToOffscreenCanvas(){return!0}setChartTopology(t){this._chartTopology=t,this.topology===t&&(this.nodeDataRefresh=!0)}setSeriesIndex(t){return super.setSeriesIndex(t)?(this.contentGroup.zIndex=[0,t,0],this.highlightGroup.zIndex=[0,t,1],!0):!1}nodeFactory(){const t=new hy;return t.renderMode=1,t.lineJoin="round",t.pointerEvents=sTt.None,t}processData(){const{topology:t}=this;this.topologyBounds=t==null?void 0:t.features.reduce((e,i)=>{const n=i.geometry;return n==null?e:dy(n,e)},void 0),t==null&&Me.warnOnce("no topology was provided for [MapShapeBackgroundSeries]; nothing will be rendered.")}createNodeData(){const{id:t,topology:e,scale:i}=this;if(e==null)return;const n=[],s=[];return e.features.forEach((a,o)=>{const{geometry:r}=a,l=r!=null&&i!=null?uh(r,i):void 0;l!=null&&n.push({series:this,itemId:o,datum:a,datumIndex:0,index:o,projectedGeometry:l})}),{itemId:t,nodeData:n,labelData:s}}updateSelections(){this.nodeDataRefresh&&(this.contextNodeData=this.createNodeData(),this.nodeDataRefresh=!1)}update(){const{datumSelection:t}=this;this.updateSelections(),this.contentGroup.visible=this.visible;const{nodeData:e=[]}=this.contextNodeData??{};this.datumSelection=this.updateDatumSelection({nodeData:e,datumSelection:t}),this.updateDatumNodes({datumSelection:t})}updateDatumSelection(t){return t.datumSelection.update(t.nodeData,void 0,e=>JIt(e.index))}updateDatumNodes(t){const{properties:e}=this,{datumSelection:i}=t,{fill:n,fillOpacity:s,stroke:a,strokeOpacity:o,lineDash:r,lineDashOffset:l}=e,c=this.getStrokeWidth(e.strokeWidth);i.each((h,p)=>{const{projectedGeometry:f}=p;if(f==null){h.visible=!1,h.projectedGeometry=void 0;return}h.visible=!0,h.projectedGeometry=f,h.fill=n,h.fillOpacity=s,h.stroke=a,h.strokeWidth=c,h.strokeOpacity=o,h.lineDash=r,h.lineDashOffset=l})}resetAnimation(){}getLegendData(){return[]}getTooltipContent(t){}pickFocus(){}computeFocusBounds(t){}};yI.className="MapShapeBackgroundSeries";yI.type="map-shape-background";A([eTt(Ol,{optional:!0,property:"topology"})],yI.prototype,"_chartTopology");var{DEFAULT_HIERARCHY_FILLS:aTt}=_.ThemeSymbols,oTt={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["topology"],identifier:"map-shape-background",moduleFactory:t=>new yI(t),tooltipDefaults:{range:"exact"},themeTemplate:{...dv,series:{stroke:{$ref:"backgroundColor"},strokeWidth:1}},paletteFactory:({themeTemplateParameters:t})=>{var e;return{fill:(e=t.get(aTt))==null?void 0:e[1]}}};function rTt(t,{aspectRatio:e,precision:i}){const n=s9(t,i,(l,c,h,p)=>{const f=cTt(l,c,h,e),y=f+2*p*e,m=f*Math.SQRT2,b=y*Math.SQRT2;return{distance:m,maxDistance:b}});if(n==null)return;const{x:s,y:a,distance:o}=n,r=o/Math.SQRT2;return{x:s,y:a,maxWidth:r}}function lTt(t,e,i,n,s){const[a,o]=t,[r,l]=e,c=1/s,h=r-a,p=l-o,[f,y]=o<=l?t:e,[m,b]=a<=r?t:e,[S,v]=o<=l?e:t,[D,I]=a<=r?e:t;let T=1/0;if(h!==0){const L=p/h;for(let F=0;F<=1;F+=1){const z=F===0?c:-c,V=(L*a-o-z*i+n)/(L-z);if(V>=m&&V<=D){const H=Math.abs(i-V)*2;T=Math.min(T,H)}}}else for(let L=0;L<=1;L+=1){const z=(L===0?c:-c)*(a-i)+n;if(z>=y&&z<=v){const H=Math.abs(n-z)*2*s;T=Math.min(T,H)}}const k=s,E=Math.abs((f-i)/(y-n)),w=Math.abs((S-i)/(v-n));if(v<n&&w<k){const F=Math.abs(n-v)*2*s;T=Math.min(T,F)}else if(y>n&&E<k){const F=Math.abs(n-y)*2*s;T=Math.min(T,F)}const R=Math.abs((b-n)/(m-i)),O=Math.abs((I-n)/(D-i));if(D<i&&O<c){const L=Math.abs(i-D)*2;T=Math.min(T,L)}else if(m>i&&R<c){const L=Math.abs(i-m)*2;T=Math.min(T,L)}return T}function cTt(t,e,i,n){let s=!1,a=1/0;for(const o of t){let r=o[o.length-1],[l,c]=r;for(const h of o){const[p,f]=h;f>i!=c>i&&e<(l-p)*(i-f)/(c-f)+p&&(s=!s);const y=lTt(r,h,e,i,n);a=Math.min(a,y),r=h,l=p,c=f}}return(s?1:-1)*a}function PS(t,e,i){i>=e&&(t.maxX=Math.min(t.maxX,i-e)),i<=e&&(t.minX=Math.max(t.minX,i-e))}function uTt(t,e,i,n,s,a){const o=s-a/2,r=s+a/2,[l,c]=e,[h,p]=i,f=h-l,y=p-c,[m,b]=l<=h?e:i,[S,v]=l<=h?i:e;if(f!==0){const D=y/f;for(let I=0;I<=1;I+=1){const k=((I===0?o:r)-c)/D+l;k>=m&&k<=S&&PS(t,n,k)}}else Math.max(o,Math.min(c,p))<=Math.min(r,Math.max(c,p))&&PS(t,n,l);return S<n&&v>=o&&v<=r?PS(t,n,S):m>n&&b>=o&&b<=r&&PS(t,n,m),t}function hTt(t,e,i,n){const s={minX:-1/0,maxX:1/0};for(const r of t){let l=r[r.length-1];for(const c of r)uTt(s,l,c,e,i,n),l=c}const{minX:a,maxX:o}=s;return Number.isFinite(a)&&Number.isFinite(o)?{x:e+(a+o)/2,width:o-a}:{x:e,width:0}}var{AND:dTt,ARRAY:pTt,COLOR_STRING:p9,COLOR_STRING_ARRAY:fTt,FUNCTION:gTt,LINE_DASH:yTt,OBJECT:f9,POSITIVE_NUMBER:kR,RATIO:g9,STRING:Qc,Validate:Fi,SeriesProperties:mTt,SeriesTooltip:xTt}=_,Oi=class extends mTt{constructor(){super(...arguments),this.topology=void 0,this.idKey="",this.idName=void 0,this.topologyIdKey="name",this.labelKey=void 0,this.labelName=void 0,this.colorRange=void 0,this.fill="black",this.fillOpacity=1,this.stroke="black",this.strokeOpacity=1,this.strokeWidth=0,this.lineDash=[0],this.lineDashOffset=0,this.padding=0,this.label=new uv,this.tooltip=new xTt}};A([Fi(Ol,{optional:!0})],Oi.prototype,"topology");A([Fi(Qc,{optional:!0})],Oi.prototype,"title");A([Fi(Qc,{optional:!0})],Oi.prototype,"legendItemName");A([Fi(Qc)],Oi.prototype,"idKey");A([Fi(Qc,{optional:!0})],Oi.prototype,"idName");A([Fi(Qc)],Oi.prototype,"topologyIdKey");A([Fi(Qc,{optional:!0})],Oi.prototype,"labelKey");A([Fi(Qc,{optional:!0})],Oi.prototype,"labelName");A([Fi(Qc,{optional:!0})],Oi.prototype,"colorKey");A([Fi(Qc,{optional:!0})],Oi.prototype,"colorName");A([Fi(dTt(fTt,pTt.restrict({minLength:1})),{optional:!0})],Oi.prototype,"colorRange");A([Fi(p9)],Oi.prototype,"fill");A([Fi(g9)],Oi.prototype,"fillOpacity");A([Fi(p9)],Oi.prototype,"stroke");A([Fi(g9)],Oi.prototype,"strokeOpacity");A([Fi(kR)],Oi.prototype,"strokeWidth");A([Fi(yTt)],Oi.prototype,"lineDash");A([Fi(kR)],Oi.prototype,"lineDashOffset");A([Fi(kR)],Oi.prototype,"padding");A([Fi(gTt,{optional:!0})],Oi.prototype,"itemStyler");A([Fi(f9)],Oi.prototype,"label");A([Fi(f9)],Oi.prototype,"tooltip");var{getMissCount:bTt,createDatumId:f5,SeriesNodePickMode:g5,valueProperty:BS,Validate:vTt,CachedTextMeasurerPool:STt,TextUtils:y5,ColorScale:MTt,Group:m5,Selection:xk,Text:ATt,PointerEvents:DTt,applyShapeStyle:ITt}=_,x5=_.MercatorScale.fixedScale(),mI=class extends pv{constructor(t){super({moduleCtx:t,useLabelLayer:!0,pickModes:[g5.EXACT_SHAPE_MATCH,g5.NEAREST_NODE]}),this.properties=new Oi,this._chartTopology=void 0,this.colorScale=new MTt,this.itemGroup=this.contentGroup.appendChild(new m5({name:"itemGroup"})),this.itemLabelGroup=this.contentGroup.appendChild(new m5({name:"itemLabelGroup"})),this.datumSelection=xk.select(this.itemGroup,()=>this.nodeFactory()),this.labelSelection=xk.select(this.itemLabelGroup,ATt),this.highlightDatumSelection=xk.select(this.highlightNode,()=>this.nodeFactory()),this.previousLabelLayouts=void 0,this._previousDatumMidPoint=void 0,this.itemLabelGroup.pointerEvents=DTt.None}getNodeData(){var t;return(t=this.contextNodeData)==null?void 0:t.nodeData}get topology(){return this.properties.topology??this._chartTopology}get hasData(){return super.hasData&&this.topology!=null}renderToOffscreenCanvas(){return!0}setChartTopology(t){this._chartTopology=t,this.topology===t&&(this.nodeDataRefresh=!0)}setSeriesIndex(t){return super.setSeriesIndex(t)?(this.contentGroup.zIndex=[1,t],this.highlightGroup.zIndex=[2,t],!0):!1}isLabelEnabled(){return this.properties.labelKey!=null&&this.properties.label.enabled}nodeFactory(){const t=new hy;return t.renderMode=1,t.lineJoin="round",t}async processData(t){var b;if(this.data==null||!this.properties.isValid())return;const{data:e,topology:i,colorScale:n}=this,{topologyIdKey:s,idKey:a,colorKey:o,labelKey:r,colorRange:l}=this.properties,c=new Map;i==null||i.features.forEach(S=>{var D;const v=(D=S.properties)==null?void 0:D[s];v==null||!TR(S.geometry,1)||c.set(v,S)});const h=this.colorScale.type,p=(b=this.scale)==null?void 0:b.type,{dataModel:f,processedData:y}=await this.requestDataModel(t,e,{props:[BS(a,p,{id:"idValue",includeProperty:!1}),BS(a,p,{id:"featureValue",includeProperty:!1,processor:()=>S=>c.get(S)}),...r?[BS(r,"band",{id:"labelValue"})]:[],...o?[BS(o,h,{id:"colorValue"})]:[]]}),m=f.resolveColumnById(this,"featureValue",y);if(this.topologyBounds=m.reduce((S,v)=>{const D=v==null?void 0:v.geometry;return D==null?S:dy(D,S)},void 0),l!=null&&this.isColorScaleValid()){const S=f.resolveProcessedDataIndexById(this,"colorValue");n.domain=y.domain.values[S],n.range=l,n.update()}i==null&&Me.warnOnce("no topology was provided for [MapShapeSeries]; nothing will be rendered.")}isColorScaleValid(){const{colorKey:t}=this.properties;if(!t)return!1;const{dataModel:e,processedData:i}=this;if(!e||!i)return!1;const n=e.resolveProcessedDataIndexById(this,"colorValue"),s=i.input.count,a=bTt(this,i.defs.values[n].missing);return!(s===0||s===a)}getLabelLayout(t,e,i,n,s){if(e==null||n==null)return;const{idKey:a,idName:o,colorKey:r,colorName:l,labelKey:c,labelName:h,padding:p,label:f}=this.properties,y=this.getLabelText(f,{value:e,datum:t,idKey:a,idName:o,colorKey:r,colorName:l,labelKey:c,labelName:h});if(y==null)return;const m=STt.measureText(String(y),{font:i}),b=y.split(`
`).length,S=(m.width+2*p)/(b*y5.getLineHeight(f.fontSize)+2*p);if((s==null?void 0:s.geometry)===n&&(s==null?void 0:s.labelText)===y&&(s==null?void 0:s.aspectRatio)===S)return s;const v=uh(n,x5),D=JM(v);if(D==null)return;const I=rTt(D,{aspectRatio:S,precision:.001});if(I==null)return;const{x:T,y:k,maxWidth:E}=I;return{geometry:n,labelText:y,aspectRatio:S,x:T,y:k,maxWidth:E,fixedPolygon:D}}getLabelDatum(t,e){const{scale:i}=this;if(i==null)return;const{padding:n,label:s}=this.properties,{labelText:a,aspectRatio:o,x:r,y:l,maxWidth:c,fixedPolygon:h}=t,p={width:Math.ceil(c*e),height:Math.ceil(c*e/o),meta:r},f=tb(a,s,{padding:n},(T,k)=>{if(!k)return p;const E=hTt(h,r,l,T/e);return{width:E.width*e,height:T,meta:E.x}});if(f==null)return;const[{text:y,fontSize:m,lineHeight:b,width:S},v]=f;if(y===y5.EllipsisChar)return;const D=S<p.width?r:v,I=this.scale.convert(x5.invert([D,l]));return{x:I[0],y:I[1],text:y,fontSize:m,lineHeight:b}}createNodeData(){const{id:t,dataModel:e,processedData:i,properties:n,scale:s,previousLabelLayouts:a}=this,{idKey:o,colorKey:r,labelKey:l,label:c}=n;if(e==null||i==null)return;const h=s!=null?(s.range[1][0]-s.range[0][0])/s.bounds.width:NaN,p=e.resolveColumnById(this,"idValue",i),f=e.resolveColumnById(this,"featureValue",i),y=l!=null?e.resolveColumnById(this,"labelValue",i):void 0,m=r!=null?e.resolveColumnById(this,"colorValue",i):void 0,b=c.getFont(),S=new Map;this.previousLabelLayouts=S;const v=[],D=[],I=[];(i.dataSources.get(this.id)??[]).forEach((E,w)=>{var W;const R=p[w],O=m==null?void 0:m[w],L=y==null?void 0:y[w],F=((W=f[w])==null?void 0:W.geometry)??void 0;F==null&&I.push(R);const z=this.getLabelLayout(E,L,b,F,a==null?void 0:a.get(R));z!=null&&S.set(R,z);const V=z!=null&&s!=null?this.getLabelDatum(z,h):void 0;V!=null&&D.push(V);const H=F!=null&&s!=null?uh(F,s):void 0;v.push({series:this,itemId:o,datum:E,datumIndex:w,idValue:R,colorValue:O,labelValue:L,projectedGeometry:H})});const k=10;if(I.length>k){const E=I.length-k;I.length=k,I.push(`(+${E} more)`)}return I.length>0&&Me.warnOnce("some data items do not have matches in the provided topology",I),{itemId:t,nodeData:v,labelData:D}}updateSelections(){this.nodeDataRefresh&&(this.contextNodeData=this.createNodeData(),this.nodeDataRefresh=!1)}update(){var o,r,l;const{datumSelection:t,labelSelection:e,highlightDatumSelection:i}=this;this.updateSelections(),this.contentGroup.visible=this.visible,this.contentGroup.opacity=this.getOpacity();let n=(o=this.ctx.highlightManager)==null?void 0:o.getActiveHighlight();n!=null&&(n.series!==this||n.datum==null)&&(n=void 0);const s=((r=this.contextNodeData)==null?void 0:r.nodeData)??[],a=((l=this.contextNodeData)==null?void 0:l.labelData)??[];this.datumSelection=this.updateDatumSelection({nodeData:s,datumSelection:t}),this.updateDatumNodes({datumSelection:t,isHighlight:!1}),this.labelSelection=this.updateLabelSelection({labelData:a,labelSelection:e}),this.updateLabelNodes({labelSelection:e}),this.highlightDatumSelection=this.updateDatumSelection({nodeData:n!=null?[n]:[],datumSelection:i}),this.updateDatumNodes({datumSelection:i,isHighlight:!0})}updateDatumSelection(t){return t.datumSelection.update(t.nodeData,void 0,e=>f5(e.idValue))}getItemBaseStyle(t){const{properties:e}=this,i=t?e.highlightStyle.item:void 0;return{fill:(i==null?void 0:i.fill)??e.fill,fillOpacity:(i==null?void 0:i.fillOpacity)??e.fillOpacity,stroke:(i==null?void 0:i.stroke)??e.stroke,strokeWidth:(i==null?void 0:i.strokeWidth)??this.getStrokeWidth(e.strokeWidth),strokeOpacity:(i==null?void 0:i.strokeOpacity)??e.strokeOpacity,lineDash:(i==null?void 0:i.lineDash)??e.lineDash,lineDashOffset:(i==null?void 0:i.lineDashOffset)??e.lineDashOffset}}getItemStyleOverrides(t,e,i,n,s){const{id:a,properties:o,colorScale:r}=this,{colorRange:l,itemStyler:c}=o;let h;if(!s&&i!=null&&(h??(h={}),h.fill=this.isColorScaleValid()?r.convert(i):(l==null?void 0:l[0])??o.fill),c!=null){const p=this.cachedDatumCallback(f5(t,s?"highlight":"node"),()=>c({seriesId:a,datum:e,highlighted:s,...n,...h}));h??(h={}),Object.assign(h,p)}return h}updateDatumNodes(t){const{datumSelection:e,isHighlight:i}=t,n=this.getItemBaseStyle(i);e.each((s,a)=>{const{datum:o,datumIndex:r,colorValue:l,projectedGeometry:c}=a;if(c==null){s.visible=!1,s.projectedGeometry=void 0;return}const h=this.getItemStyleOverrides(String(r),o,l,n,i);s.visible=!0,s.projectedGeometry=c,ITt(s,n,h)})}updateLabelSelection(t){const e=this.isLabelEnabled()?t.labelData:[];return t.labelSelection.update(e)}updateLabelNodes(t){const{labelSelection:e}=t,{color:i,fontStyle:n,fontWeight:s,fontFamily:a}=this.properties.label;e.each((o,{x:r,y:l,text:c,fontSize:h,lineHeight:p})=>{o.visible=!0,o.x=r,o.y=l,o.text=c,o.fill=i,o.fontStyle=n,o.fontWeight=s,o.fontSize=h,o.lineHeight=p,o.fontFamily=a,o.textAlign="center",o.textBaseline="middle"})}resetAnimation(){}pickNodeClosestDatum({x:t,y:e}){let i=1/0,n;return this.datumSelection.each((s,a)=>{const o=s.distanceSquared(t,e);o<i&&(i=o,n=a)}),n!=null?{datum:n,distance:Math.sqrt(i)}:void 0}datumMidPoint(t){const{_previousDatumMidPoint:e}=this;if((e==null?void 0:e.datum)===t)return e.point;const i=t.projectedGeometry,n=i!=null?JM(i):void 0,s=n!=null?QL(n,2):void 0,a=s!=null?{x:s[0],y:s[1]}:void 0;return this._previousDatumMidPoint={datum:t,point:a},a}legendItemSymbol(t){const{dataModel:e,processedData:i,properties:n}=this,{fillOpacity:s,stroke:a,strokeWidth:o,strokeOpacity:r,lineDash:l,lineDashOffset:c}=n;let{fill:h}=n;if(t!=null&&this.isColorScaleValid()){const f=e.resolveColumnById(this,"colorValue",i)[t];h=this.colorScale.convert(f)}return{marker:{fill:h,fillOpacity:s,stroke:a,strokeWidth:o,strokeOpacity:r,lineDash:l,lineDashOffset:c}}}getLegendData(t){const{processedData:e,dataModel:i}=this;if(e==null||i==null)return[];const{id:n,visible:s}=this,{title:a,legendItemName:o,idKey:r,idName:l,colorKey:c,colorName:h,colorRange:p,showInLegend:f}=this.properties;if(t==="gradient"&&c!=null&&p!=null){const y=e.domain.values[i.resolveProcessedDataIndexById(this,"colorValue")];return[{legendType:"gradient",enabled:s,seriesId:n,colorName:h,colorRange:p,colorDomain:y}]}else return t==="category"?[{legendType:"category",id:n,itemId:n,seriesId:n,enabled:s,label:{text:o??a??l??r},symbol:this.legendItemSymbol(),legendItemName:o,hideInLegend:!f}]:[]}getTooltipContent(t){var T;const{id:e,dataModel:i,processedData:n,properties:s}=this,{idKey:a,idName:o,colorKey:r,colorName:l,labelKey:c,labelName:h,legendItemName:p,title:f,tooltip:y}=s;if(!i||!n)return;const{datumIndex:m}=t,b=(T=n.dataSources.get(this.id))==null?void 0:T[m],S=i.resolveColumnById(this,"idValue",n)[m],v=r!=null?i.resolveColumnById(this,"colorValue",n)[m]:void 0,D=[];if(v!=null&&D.push({label:l,fallbackLabel:r,value:String(v)}),c!=null&&c!==a){const k=i.resolveColumnById(this,"labelValue",n)[m];D.push({label:h,fallbackLabel:c,value:k})}const I=this.getItemBaseStyle(!1);return Object.assign(I,this.getItemStyleOverrides(String(m),m,v,I,!1)),y.formatTooltip({heading:S,title:f??p,symbol:this.legendItemSymbol(m),data:D},{seriesId:e,datum:b,title:f,idKey:a,idName:o,colorKey:r,colorName:l,labelKey:c,labelName:h,...I})}computeFocusBounds(t){return i9(this,t)}};mI.className="MapShapeSeries";mI.type="map-shape";A([vTt(Ol,{optional:!0,property:"topology"})],mI.prototype,"_chartTopology");var{DEFAULT_DIVERGING_SERIES_COLOR_RANGE:TTt,DEFAULT_BACKGROUND_COLOUR:CTt}=_.ThemeSymbols,kTt={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["topology"],identifier:"map-shape",moduleFactory:t=>new mI(t),tooltipDefaults:{range:"exact"},themeTemplate:{...dv,series:{fillOpacity:1,strokeWidth:1,lineDash:[0],lineDashOffset:0,padding:2,label:{color:{$ref:"backgroundColor"},fontFamily:{$ref:"fontFamily"},fontSize:{$ref:"fontSize"},fontWeight:"bold",overflowStrategy:"hide"}}},paletteFactory:t=>{const{takeColors:e,colorsCount:i,userPalette:n,themeTemplateParameters:s}=t,{fill:a}=_.singleSeriesPaletteFactory(t),o=s.get(TTt),{fills:r}=e(i);return{fill:a,stroke:s.get(CTt),colorRange:n==="inbuilt"?o:[r[0],r[1]]}}},{ChartAxisDirection:nc,PolarAxis:LTt,diff:NTt,fixNumericExtent:ETt,groupAccumulativeValueProperty:b5,keyProperty:wTt,normaliseGroupTo:OTt,resetLabelFn:RTt,seriesLabelFadeInAnimation:PTt,seriesLabelFadeOutAnimation:BTt,valueProperty:zTt,animationValidation:_Tt,createDatumId:v5,SeriesNodePickMode:S5,normalizeAngle360:M5,CategoryScale:jTt,motion:A5,applyShapeStyle:FTt}=_,GTt=class extends _.SeriesNodeEvent{constructor(t,e,i,n){super(t,e,i,n),this.angleKey=n.properties.angleKey,this.radiusKey=n.properties.radiusKey}},y9=class extends _.PolarSeries{constructor(t,{animationResetFns:e}){super({moduleCtx:t,useLabelLayer:!0,canHaveAxes:!0,pickModes:[S5.NEAREST_NODE,S5.EXACT_SHAPE_MATCH],animationResetFns:{...e,label:RTt}}),this.NodeEvent=GTt,this.groupScale=new jTt,this.circleCache={r:0,cx:0,cy:0}}getSeriesDomain(t){const{dataModel:e,processedData:i}=this;if(!i||!e)return[];if(t===nc.X)return e.getDomain(this,"angleValue","key",i);{const n=e.getDomain(this,"radiusValue-end","value",i),s=Number.isFinite(n[1]-n[0])?[n[0]>0?0:n[0],n[1]<0?0:n[1]]:[];return ETt(s)}}async processData(t){var f,y;const{visible:e}=this,{angleKey:i,radiusKey:n,normalizedTo:s}=this.properties,a=!this.ctx.animationManager.isSkipped();if(!this.properties.isValid())return;const o=this.getStackId(),r=`${o}-trailing`,l=[];as(s)&&l.push(OTt([o,r],Math.abs(s))),a&&this.processedData&&l.push(NTt(this.id,this.processedData)),a&&l.push(_Tt());const c=e||!a?{}:{forceValue:0},h=(f=this.axes[nc.Y])==null?void 0:f.scale.type,p=(y=this.axes[nc.X])==null?void 0:y.scale.type;await this.requestDataModel(t,this.data,{props:[wTt(i,p,{id:"angleValue"}),zTt(n,h,{id:"radiusValue-raw",invalidValue:null,...c}),...b5(n,"normal","current",{id:"radiusValue-end",rangeId:"radiusValue-range",invalidValue:null,groupId:o,separateNegative:!0,...c},h),...b5(n,"trailing","current",{id:"radiusValue-start",invalidValue:null,groupId:r,separateNegative:!0,...c},h),...l],groupByKeys:!0,groupByData:!1}),this.animationState.transition("updateData")}didCircleChange(){const t=this.radius,e=this.centerX,i=this.centerY,n=this.circleCache;return t!==n.r||e!==n.cx||i!==n.cy?(this.circleCache={r:t,cx:e,cy:i},!0):!1}isRadiusAxisReversed(){var t;return(t=this.axes[nc.Y])==null?void 0:t.isReversed()}maybeRefreshNodeData(){if(!this.didCircleChange()&&!this.nodeDataRefresh)return;const{nodeData:e=[]}=this.createNodeData()??{};this.nodeData=e,this.nodeDataRefresh=!1}getAxisInnerRadius(){const t=this.axes[nc.Y];return t instanceof LTt?this.radius*t.innerRadiusRatio:0}createNodeData(){const{processedData:t,dataModel:e,groupScale:i}=this;if(!e||!t||t.type!=="grouped"||!this.properties.isValid())return;const n=this.axes[nc.X],s=this.axes[nc.Y],a=n==null?void 0:n.scale,o=s==null?void 0:s.scale;if(!a||!o)return;const r=e.resolveKeysById(this,"angleValue",t),l=e.resolveColumnById(this,"radiusValue-start",t),c=e.resolveColumnById(this,"radiusValue-end",t),h=e.resolveColumnById(this,"radiusValue-raw",t),p=e.resolveProcessedDataIndexById(this,"radiusValue-range");let f=0,y=0;n instanceof cp&&(f=n.groupPaddingInner,y=n.paddingInner);const b=(a.bandwidth??0)*(1-y),{index:S,visibleGroupCount:v}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this);i.domain=Array.from({length:v}).map((G,$)=>String($)),i.range=[-b/2,b/2],i.paddingInner=v>1?f:0;const D=this.isRadiusAxisReversed(),I=D?this.radius:this.getAxisInnerRadius(),T=D?this.getAxisInnerRadius():this.radius,k=T+I,{angleKey:E,radiusKey:w,angleName:R,radiusName:O,label:L}=this.properties,F=(G,$,K,X)=>{const j=this.getLabelText(L,{value:$,datum:G,angleKey:E,radiusKey:w,angleName:R,radiusName:O});if(j)return{x:K,y:X,text:j,textAlign:"center",textBaseline:"middle"}},z=[],V={itemId:w,nodeData:z,labelData:z};if(!this.visible)return V;const{dataSources:H}=t,W=H.get(this.id)??[];for(const{datumIndex:G,group:$}of e.forEachGroupDatum(this,t)){const K=W[G],X=r[G];if(X==null)return;const j=h[G],U=j>=0&&!Object.is(j,-0),Z=l[G],tt=c[G],J=$.aggregation[p][U?1:0]??0,nt=U===D;if(Z===void 0||tt===void 0)return;let at,lt;if(W.length===1)at=-.5*Math.PI,lt=1.5*Math.PI;else{const Nt=a.convert(X);at=M5(Nt+i.convert(String(S))),lt=M5(at+i.bandwidth)}const ut=at+i.bandwidth/2,pt=k-o.convert(Z),ot=k-o.convert(tt),ft=(pt+ot)/2,ct=k-o.convert(0),bt=k-o.convert(J),St=Math.cos(ut)*ft,xt=Math.sin(ut)*ft,wt=this.properties.label.enabled?F(K,j,St,xt):void 0,kt=this.getColumnWidth(at,lt);z.push({series:this,datum:K,datumIndex:G,point:{x:St,y:xt,size:0},midPoint:{x:St,y:xt},label:wt,angleValue:X,radiusValue:j,negative:nt,innerRadius:pt,outerRadius:ot,stackInnerRadius:ct,stackOuterRadius:bt,startAngle:at,endAngle:lt,axisInnerRadius:I,axisOuterRadius:T,columnWidth:kt,index:G})}return{itemId:w,nodeData:z,labelData:z}}getColumnWidth(t,e){return NaN}update({seriesRect:t}){const e=this.checkResize(t);this.maybeRefreshNodeData(),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),this.updateSectorSelection(this.itemSelection,!1),this.updateSectorSelection(this.highlightSelection,!0),this.updateLabels(),e&&this.animationState.transition("resize"),this.animationState.transition("update")}getItemBaseStyle(t){const{properties:e}=this,i=t?e.highlightStyle.item:void 0;return{fill:(i==null?void 0:i.fill)??e.fill,fillOpacity:(i==null?void 0:i.fillOpacity)??e.fillOpacity,stroke:(i==null?void 0:i.stroke)??e.stroke,strokeWidth:(i==null?void 0:i.strokeWidth)??this.getStrokeWidth(e.strokeWidth),strokeOpacity:(i==null?void 0:i.strokeOpacity)??e.strokeOpacity,lineDash:(i==null?void 0:i.lineDash)??e.lineDash,lineDashOffset:(i==null?void 0:i.lineDashOffset)??e.lineDashOffset,cornerRadius:e.cornerRadius}}getItemStyleOverrides(t,e,i,n){const{id:s,properties:a}=this,{angleKey:o,radiusKey:r,itemStyler:l}=a;if(l!=null)return this.cachedDatumCallback(v5(t,n?"highlight":"node"),()=>l({seriesId:s,datum:e,highlighted:n,angleKey:o,radiusKey:r,...i}))}updateSectorSelection(t,e){var s;let i=[];if(e){const a=(s=this.ctx.highlightManager)==null?void 0:s.getActiveHighlight();a!=null&&a.datum&&a.series===this&&i.push(a)}else i=this.nodeData;const n=this.getItemBaseStyle(e);t.update(i,void 0,a=>this.getDatumId(a)).each((a,o)=>{const{datum:r,datumIndex:l}=o,c=this.getItemStyleOverrides(String(l),r,n,e);this.updateItemPath(a,o,e),FTt(a,n,c),a.cornerRadius=(c==null?void 0:c.cornerRadius)??n.cornerRadius,a.lineJoin="round"})}updateLabels(){const{label:t}=this.properties;this.labelSelection.update(this.nodeData).each((e,i)=>{t.enabled&&i.label?(e.x=i.label.x,e.y=i.label.y,e.fill=t.color,e.fontFamily=t.fontFamily,e.fontSize=t.fontSize,e.fontStyle=t.fontStyle,e.fontWeight=t.fontWeight,e.text=i.label.text,e.textAlign=i.label.textAlign,e.textBaseline=i.label.textBaseline,e.visible=!0):e.visible=!1})}animateEmptyUpdateReady(){const{labelSelection:t}=this,e=this.getColumnTransitionFunctions();A5.fromToMotion(this.id,"datums",this.ctx.animationManager,[this.itemSelection],e),PTt(this,"labels",this.ctx.animationManager,t)}animateClearingUpdateEmpty(){const{itemSelection:t}=this,{animationManager:e}=this.ctx,i=this.getColumnTransitionFunctions();A5.fromToMotion(this.id,"datums",e,[t],i),BTt(this,"labels",e,this.labelSelection)}getTooltipContent(t){var D;const{id:e,dataModel:i,processedData:n,axes:s,properties:a}=this,{angleKey:o,angleName:r,radiusKey:l,radiusName:c,tooltip:h}=a,p=s[nc.X],f=s[nc.Y];if(!i||!n||!p||!f)return;const{datumIndex:y}=t,m=(D=n.dataSources.get(this.id))==null?void 0:D[y],b=i.resolveKeysById(this,"angleValue",n)[y],S=i.resolveColumnById(this,"radiusValue-raw",n)[y];if(b==null)return;const v=this.getItemBaseStyle(!1);return Object.assign(v,this.getItemStyleOverrides(String(y),y,v,!1)),h.formatTooltip({heading:p.formatDatum(b),symbol:this.legendItemSymbol(),data:[{label:c,fallbackLabel:l,value:f.formatDatum(S)}]},{seriesId:e,datum:m,title:r,angleKey:o,angleName:r,radiusKey:l,radiusName:c,...v})}pickNodeClosestDatum(t){return this.pickNodeNearestDistantObject(t,this.itemSelection.nodes())}legendItemSymbol(){const{fill:t,stroke:e,fillOpacity:i,strokeOpacity:n,strokeWidth:s,lineDash:a,lineDashOffset:o}=this.properties;return{marker:{fill:t??"rgba(0, 0, 0, 0)",stroke:e??"rgba(0, 0, 0, 0)",fillOpacity:i,strokeOpacity:n,strokeWidth:s,lineDash:a,lineDashOffset:o}}}getLegendData(t){if(!this.properties.isValid()||t!=="category")return[];const{id:e,visible:i}=this,{radiusKey:n,radiusName:s,showInLegend:a}=this.properties;return[{legendType:"category",id:e,itemId:n,seriesId:e,enabled:i,label:{text:s??n},symbol:this.legendItemSymbol(),hideInLegend:!a}]}getDatumId(t){return v5(t.angleValue)}computeLabelsBBox(){return null}},{SeriesProperties:VTt,SeriesTooltip:UTt,Validate:Xn,COLOR_STRING:m9,NUMBER:x9,FUNCTION:HTt,LINE_DASH:WTt,OBJECT:b9,POSITIVE_NUMBER:LR,RATIO:v9,STRING:fv,Label:YTt}=_,An=class extends VTt{constructor(){super(...arguments),this.fill="black",this.fillOpacity=1,this.stroke="black",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.rotation=0,this.label=new YTt,this.tooltip=new UTt}};A([Xn(fv)],An.prototype,"angleKey");A([Xn(fv,{optional:!0})],An.prototype,"angleName");A([Xn(fv)],An.prototype,"radiusKey");A([Xn(fv,{optional:!0})],An.prototype,"radiusName");A([Xn(m9)],An.prototype,"fill");A([Xn(v9)],An.prototype,"fillOpacity");A([Xn(m9)],An.prototype,"stroke");A([Xn(LR)],An.prototype,"strokeWidth");A([Xn(v9)],An.prototype,"strokeOpacity");A([Xn(WTt)],An.prototype,"lineDash");A([Xn(LR)],An.prototype,"lineDashOffset");A([Xn(LR)],An.prototype,"cornerRadius");A([Xn(HTt,{optional:!0})],An.prototype,"itemStyler");A([Xn(x9)],An.prototype,"rotation");A([Xn(fv,{optional:!0})],An.prototype,"stackGroup");A([Xn(x9,{optional:!0})],An.prototype,"normalizedTo");A([Xn(b9)],An.prototype,"label");A([Xn(b9)],An.prototype,"tooltip");var{motion:$Tt}=_;function S9(){const t={startAngle:new Map,endAngle:new Map},e=["startAngle","endAngle"],i=(o,r,l)=>{e.forEach(c=>{var m;const h=t[c];let p=(l==="removed"||l==="updated"?o:r)[c],f=(l==="removed"?o:r)[c];isNaN(f)&&(f=((m=o.previousDatum)==null?void 0:m[c])??NaN);const y=p-f;Math.abs(y)>Math.PI&&(p-=Math.sign(y)*2*Math.PI),h.set(r,{from:p,to:f})})},n=(o,r)=>({startAngle:t.startAngle.get(o)[r],endAngle:t.endAngle.get(o)[r]});return{calculate:i,from:o=>n(o,"from"),to:o=>n(o,"to")}}function M9(t,e,i){if(i==="updated"){if(t.previousDatum==null||isNaN(t.previousDatum.startAngle)||isNaN(t.previousDatum.endAngle))return"added";if(isNaN(e.startAngle)||isNaN(e.endAngle))return"removed"}return i==="added"&&t.previousDatum!=null?"updated":i}function KTt(t){const e=S9();return{toFn:(s,a,o)=>{const{startAngle:r,endAngle:l}=e.to(a);let c,h,p,f,y;return o==="removed"?(c=s.innerRadius,h=s.innerRadius,p=s.columnWidth,f=s.axisInnerRadius,y=s.axisOuterRadius):(c=isNaN(a.innerRadius)?t:a.innerRadius,h=isNaN(a.outerRadius)?t:a.outerRadius,p=isNaN(a.columnWidth)?s.columnWidth:a.columnWidth,f=a.axisInnerRadius,y=a.axisOuterRadius),{innerRadius:c,outerRadius:h,columnWidth:p,axisInnerRadius:f,axisOuterRadius:y,startAngle:r,endAngle:l}},fromFn:(s,a,o)=>{o=M9(s,a,o),e.calculate(s,a,o);const{startAngle:r,endAngle:l}=e.from(a);let c,h,p,f,y;o==="removed"||o==="updated"?(c=s.innerRadius,h=s.outerRadius,p=s.columnWidth,f=s.axisInnerRadius,y=s.axisOuterRadius):(c=t,h=t,p=a.columnWidth,f=a.axisInnerRadius,y=a.axisOuterRadius);const m=$Tt.NODE_UPDATE_STATE_TO_PHASE_MAPPING[o];return{innerRadius:c,outerRadius:h,columnWidth:p,axisInnerRadius:f,axisOuterRadius:y,startAngle:r,endAngle:l,phase:m}}}}function XTt(t,{innerRadius:e,outerRadius:i,columnWidth:n,axisInnerRadius:s,axisOuterRadius:a,startAngle:o,endAngle:r}){return{innerRadius:e,outerRadius:i,columnWidth:n,axisInnerRadius:s,axisOuterRadius:a,startAngle:o,endAngle:r}}var{SectorBox:cM,motion:ZTt}=_;function NR(t){const{negative:e,innerRadius:i,outerRadius:n,stackInnerRadius:s,stackOuterRadius:a}=t;return{innerRadius:e?a:s,outerRadius:e?s:a,clipInnerRadius:e?n:i,clipOuterRadius:e?i:n}}function qTt(t){const e=S9();return{toFn:(s,a,o)=>{const{startAngle:r,endAngle:l}=e.to(a);let c,h,p;if(o==="removed")c=t,h=t,p=new cM(r,l,c,h);else{let f,y;({innerRadius:c,outerRadius:h,clipInnerRadius:f,clipOuterRadius:y}=NR(a)),isNaN(c)&&(c=t),isNaN(h)&&(h=t),isNaN(f)&&(f=t),isNaN(y)&&(y=t),p=new cM(r,l,f,y)}return{innerRadius:c,outerRadius:h,startAngle:r,endAngle:l,clipSector:p}},fromFn:(s,a,o)=>{o=M9(s,a,o),e.calculate(s,a,o);const{startAngle:r,endAngle:l}=e.from(a);let c,h,p;o==="removed"||o==="updated"?(c=s.innerRadius,h=s.outerRadius,p=s.clipSector):(c=t,h=t),p??(p=new cM(r,l,c,h));const f=ZTt.NODE_UPDATE_STATE_TO_PHASE_MAPPING[o];return{innerRadius:c,outerRadius:h,startAngle:r,endAngle:l,clipSector:p,phase:f}}}}function QTt(t,e){const{startAngle:i,endAngle:n}=e,{innerRadius:s,outerRadius:a,clipInnerRadius:o,clipOuterRadius:r}=NR(e),l=new cM(i,n,o,r);return{innerRadius:s,outerRadius:a,startAngle:i,endAngle:n,clipSector:l}}var{Sector:JTt,SectorBox:tCt,PolarZIndexMap:bk}=_,ER=class extends y9{constructor(t){super(t,{animationResetFns:{item:QTt}}),this.properties=new An}setSeriesIndex(t){return super.setSeriesIndex(t)?(this.contentGroup.zIndex=[0,bk.FOREGROUND,t],this.highlightGroup.zIndex=[0,bk.HIGHLIGHT,t],this.labelGroup.zIndex=[0,bk.LABEL,t],!0):!1}getStackId(){var e;return`nightingale-stack-${((e=this.seriesGrouping)==null?void 0:e.groupIndex)??this.id}-yValues`}nodeFactory(){return new JTt}updateItemPath(t,e,i){const{negative:n}=e;if(t.centerX=0,t.centerY=0,t.startOuterCornerRadius=n?0:this.properties.cornerRadius,t.endOuterCornerRadius=n?0:this.properties.cornerRadius,t.startInnerCornerRadius=n?this.properties.cornerRadius:0,t.endInnerCornerRadius=n?this.properties.cornerRadius:0,i){const{startAngle:s,endAngle:a}=e,{innerRadius:o,outerRadius:r,clipInnerRadius:l,clipOuterRadius:c}=NR(e);t.innerRadius=o,t.outerRadius=r,t.startAngle=s,t.endAngle=a,t.clipSector=new tCt(s,a,l,c)}}getColumnTransitionFunctions(){const t=this.isRadiusAxisReversed()?this.radius:this.getAxisInnerRadius();return qTt(t)}};ER.className="NightingaleSeries";ER.type="nightingale";var{ThemeConstants:{POLAR_AXIS_TYPE:D5,POLAR_AXIS_SHAPE:I5}}=_,eCt={series:{strokeWidth:1,label:{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}}},axes:{[D5.ANGLE_CATEGORY]:{shape:I5.CIRCLE,groupPaddingInner:0,paddingInner:0,label:{spacing:10}},[D5.RADIUS_NUMBER]:{shape:I5.CIRCLE}}},{ThemeSymbols:{DEFAULT_POLAR_SERIES_STROKE:iCt},ThemeConstants:{POLAR_AXIS_TYPE:T5}}=_,nCt={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["polar"],identifier:"nightingale",moduleFactory:t=>new ER(t),tooltipDefaults:{range:"exact"},defaultAxes:[{type:T5.ANGLE_CATEGORY},{type:T5.RADIUS_NUMBER}],themeTemplate:eCt,paletteFactory({takeColors:t,userPalette:e}){const{fills:[i],strokes:[n]}=t(1);return{fill:i,stroke:e!=="inbuilt"?n:iCt}},stackable:!0,groupable:!0,stackedByDefault:!0},{createDatumId:sCt}=_,wR=class extends uK{constructor(){super(...arguments),this.properties=new sI}nodeFactory(){return new PSt}updateDatumNodes({datumSelection:t,isHighlight:e}){const{id:i,properties:n}=this,{xKey:s,highKey:a,lowKey:o,openKey:r,closeKey:l,item:c,itemStyler:h}=n,{up:p,down:f}=c,{stroke:y,strokeWidth:m,strokeOpacity:b,lineDash:S,lineDashOffset:v}=p,{stroke:D,strokeWidth:I,strokeOpacity:T,lineDash:k,lineDashOffset:E}=f,w=e?n.highlightStyle.item:void 0;t.each((R,O)=>{const{isRising:L,centerX:F,width:z,y:V,height:H,yOpen:W,yClose:G,crisp:$}=O;let K;if(h!=null){const{stroke:X,strokeWidth:j,strokeOpacity:U,lineDash:Z,lineDashOffset:tt}=L?p:f;K=this.cachedDatumCallback(sCt(this.getDatumId(O),e?"highlight":"node"),()=>h({seriesId:i,itemId:O.itemId,xKey:s,highKey:a,lowKey:o,openKey:r,closeKey:l,datum:O.datum,strokeOpacity:U,stroke:X,strokeWidth:j,lineDash:Z,lineDashOffset:tt,highlighted:e}))}R.centerX=F,R.width=z,R.y=V,R.height=H,R.yOpen=W,R.yClose=G,R.crisp=$,R.stroke=(w==null?void 0:w.stroke)??(K==null?void 0:K.stroke)??(L?y:D),R.strokeWidth=(w==null?void 0:w.strokeWidth)??(K==null?void 0:K.strokeWidth)??(L?m:I),R.strokeOpacity=(w==null?void 0:w.strokeOpacity)??(K==null?void 0:K.strokeOpacity)??(L?b:T),R.lineDash=(w==null?void 0:w.lineDash)??(K==null?void 0:K.lineDash)??(L?S:k),R.lineDashOffset=(w==null?void 0:w.lineDashOffset)??(K==null?void 0:K.lineDashOffset)??(L?v:E),R.strokeAlignment=((K==null?void 0:K.strokeWidth)??(L?m:I))/2})}getLegendData(t){const{id:e,data:i,ctx:{legendManager:n},visible:s}=this,{xKey:a,yName:o,item:{up:r,down:l},showInLegend:c,legendItemName:h}=this.properties;if(!(i!=null&&i.length)||!a||t!=="category")return[];const p=new _.LinearGradient("rgb",[{color:r.stroke,offset:0},{color:r.stroke,offset:.5},{color:l.stroke,offset:.5}],90);return[{legendType:"category",id:e,itemId:e,seriesId:e,enabled:s&&n.getItemEnabled({seriesId:e,itemId:e}),label:{text:h??o??e},symbol:{marker:{fill:p,fillOpacity:r.strokeOpacity,stroke:void 0,strokeWidth:0,strokeOpacity:1,lineDash:[0],lineDashOffset:0}},legendItemName:h,hideInLegend:!c}]}};wR.className="ohlc";wR.type="ohlc";var{CARTESIAN_AXIS_TYPE:zS,CARTESIAN_POSITION:C5}=_.ThemeConstants,aCt={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"ohlc",moduleFactory:t=>new wR(t),tooltipDefaults:{range:"nearest"},defaultAxes:[{type:zS.NUMBER,position:C5.LEFT},{type:zS.ORDINAL_TIME,position:C5.BOTTOM}],themeTemplate:{animation:{enabled:!1},axes:{[zS.NUMBER]:{crosshair:{snap:!1}},[zS.ORDINAL_TIME]:{groupPaddingInner:0,crosshair:{enabled:!0}}}},groupable:!1,paletteFactory:({takeColors:t,colorsCount:e,userPalette:i,palette:n})=>{if(i==="user-indexed"){const[s]=t(e).strokes;return{item:{up:{stroke:s},down:{stroke:s}}}}return{item:{up:{stroke:n.up.stroke},down:{stroke:n.down.stroke}}}}},{SeriesProperties:oCt,SeriesTooltip:rCt,Validate:Dn,UNION:lCt,COLOR_STRING_ARRAY:A9,FUNCTION:cCt,DIRECTION:uCt,BOOLEAN:hCt,LINE_DASH:dCt,OBJECT:xI,NUMBER:pCt,POSITIVE_NUMBER:bI,RATIO:D9,STRING:I9,Label:T9,DropShadow:fCt}=_,gCt=class extends T9{},OR=class extends T9{constructor(){super(...arguments),this.spacing=0}};A([Dn(pCt)],OR.prototype,"spacing");A([Dn(lCt(["before","after"],"a placement"))],OR.prototype,"placement");var Pn=class extends oCt{constructor(){super(...arguments),this.fills=[],this.fillOpacity=1,this.strokes=[],this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.direction="vertical",this.reverse=void 0,this.spacing=0,this.aspectRatio=void 0,this.shadow=new fCt().set({enabled:!1}),this.label=new gCt,this.stageLabel=new OR,this.tooltip=new rCt}};A([Dn(I9)],Pn.prototype,"stageKey");A([Dn(I9)],Pn.prototype,"valueKey");A([Dn(A9)],Pn.prototype,"fills");A([Dn(D9)],Pn.prototype,"fillOpacity");A([Dn(A9)],Pn.prototype,"strokes");A([Dn(bI)],Pn.prototype,"strokeWidth");A([Dn(D9)],Pn.prototype,"strokeOpacity");A([Dn(dCt)],Pn.prototype,"lineDash");A([Dn(bI)],Pn.prototype,"lineDashOffset");A([Dn(uCt)],Pn.prototype,"direction");A([Dn(hCt,{optional:!0})],Pn.prototype,"reverse");A([Dn(bI)],Pn.prototype,"spacing");A([Dn(bI,{optional:!0})],Pn.prototype,"aspectRatio");A([Dn(cCt,{optional:!0})],Pn.prototype,"itemStyler");A([Dn(xI)],Pn.prototype,"shadow");A([Dn(xI)],Pn.prototype,"label");A([Dn(xI)],Pn.prototype,"stageLabel");A([Dn(xI)],Pn.prototype,"tooltip");var{valueProperty:k5,SeriesNodePickMode:L5,CachedTextMeasurerPool:yCt,TextUtils:mCt,createDatumId:xCt,BBox:vk,Group:Sk,Selection:_S,Text:N5,PointerEvents:E5,applyShapeStyle:bCt}=_,RR=class extends _.DataModelSeries{constructor(t){super({moduleCtx:t,pickModes:[L5.EXACT_SHAPE_MATCH,L5.NEAREST_NODE]}),this.properties=new Pn,this.itemGroup=this.contentGroup.appendChild(new Sk({name:"itemGroup"})),this.itemLabelGroup=this.contentGroup.appendChild(new Sk({name:"itemLabelGroup"})),this.stageLabelGroup=this.contentGroup.appendChild(new Sk({name:"stageLabelGroup"})),this.datumSelection=_S.select(this.itemGroup,()=>this.nodeFactory()),this.labelSelection=_S.select(this.itemLabelGroup,N5),this.stageLabelSelection=_S.select(this.stageLabelGroup,N5),this.highlightDatumSelection=_S.select(this.highlightNode,()=>this.nodeFactory()),this.itemLabelGroup.pointerEvents=E5.None,this.stageLabelGroup.pointerEvents=E5.None}addChartEventListeners(){var t;this.destroyFns.push((t=this.ctx.chartEventManager)==null?void 0:t.addListener("legend-item-click",e=>this.onLegendItemClick(e)))}nodeFactory(){return new El}getNodeData(){var t;return(t=this.contextNodeData)==null?void 0:t.nodeData}async processData(t){if(this.data==null||!this.properties.isValid())return;const{id:e,visible:i,ctx:{legendManager:n}}=this,{stageKey:s,valueKey:a}=this.properties,o="band",r="number",l=(h,p,f)=>i&&n.getItemEnabled({seriesId:e,itemId:f}),c=this.visible?{}:{forceValue:0};await this.requestDataModel(t,this.data,{props:[k5(s,o,{id:"xValue"}),k5(a,r,{id:"yValue",...c,validation:l,invalidValue:0})]})}createNodeData(){var j,U;const{id:t,dataModel:e,processedData:i,properties:n,visible:s,ctx:{legendManager:a}}=this,{stageKey:o,valueKey:r,direction:l,reverse:c=l==="horizontal",spacing:h,aspectRatio:p,label:f,stageLabel:y}=n;if(e==null||i==null)return;const m=l==="horizontal",b=e.resolveColumnById(this,"xValue",i),S=e.resolveColumnById(this,"yValue",i),v=yCt.getMeasurer({font:y.getFont()});let D,I;m?(D="center",I=y.placement==="before"?"bottom":"top"):(D=y.placement==="after"?"left":"right",I="middle");const T=y.enabled?[]:void 0;let k=0,E=0,w=0;const R=i.dataSources.get(this.id)??[];R.forEach((Z,tt)=>{const J=b[tt],nt=S[tt],at=s&&a.getItemEnabled({seriesId:t,itemId:tt});if(w+=nt,T==null)return;const lt=this.getLabelText(this.properties.stageLabel,{datum:Z,value:J,stageKey:o,valueKey:r}),{width:ut}=v.measureText(lt),pt=lt.split(`
`).length*mCt.getLineHeight(f.fontSize);k=Math.max(k,ut),E=Math.max(E,pt),T.push({x:NaN,y:NaN,text:lt,textAlign:D,textBaseline:I,visible:at})});const O=((j=this._nodeDataDependencies)==null?void 0:j.seriesRectWidth)??0,L=((U=this._nodeDataDependencies)==null?void 0:U.seriesRectHeight)??0,F=h*(i.input.count-1);let z;if(m){const Z=E+y.spacing;z=new vk(0,y.placement==="before"?Z:0,O,L-Z)}else{const Z=k+y.spacing;z=new vk(y.placement==="after"?0:Z,0,O-Z,L)}if(p!=null&&p!==0){const Z=l==="horizontal"?1/p:p,tt=Math.min(z.width,z.height*Z),J=tt/Z;z=new vk(z.x+(z.width-tt)/2,z.y+(z.height-J)/2,tt,J)}let V,H;m?H=y.placement==="before"?z.y-y.spacing:z.y+z.height+y.spacing:V=y.placement==="after"?z.x+z.width+y.spacing:z.x-y.spacing;const W=z.width-(m?F:0),G=z.height-(m?0:F);if(W<0||G<0)return;const $=[],K=[];let X=0;return R.forEach((Z,tt)=>{const J=b[tt],nt=S[tt],at=s&&a.getItemEnabled({seriesId:t,itemId:tt}),lt=X+nt,ut=(X+lt)/(2*w),pt=(lt-X)/w,ot=m?W*ut+h*tt:W*.5,ft=m?G*.5:G*ut+h*tt,ct=z.x+ot,bt=z.y+ft;if(T!=null){const zt=T[tt];zt.x=V??ct,zt.y=H??bt}let St,xt,wt,kt;if(m){const zt=W*pt;St=zt,wt=zt;const Ot=(ot+zt/2)*(G/z.width),Mt=(ot-zt/2)*(G/z.width);xt=c?z.height-Ot:Ot,kt=c?z.height-Mt:Mt}else{const zt=G*pt;xt=zt,kt=zt;const Ot=(ft-zt/2)*(W/z.height),Mt=(ft+zt/2)*(W/z.height);St=c?z.width-Ot:Ot,wt=c?z.width-Mt:Mt}const Nt=this.getLabelText(f,{datum:Z,value:nt,stageKey:o,valueKey:r}),$t={x:ct,y:bt,text:Nt,textAlign:"center",textBaseline:"middle",visible:at};K.push($t),$.push({series:this,itemId:r,datum:Z,datumIndex:tt,index:tt,xValue:J,yValue:nt,x:ct,y:bt,top:St,right:xt,bottom:wt,left:kt,label:$t,enabled:at,midPoint:{x:ct,y:bt}}),X=lt}),{itemId:t,nodeData:$,labelData:K,stageLabelData:T}}updateSelections(){this.nodeDataRefresh&&(this.contextNodeData=this.createNodeData(),this.nodeDataRefresh=!1)}update({seriesRect:t}){var c,h,p,f;this.checkResize(t);const{datumSelection:e,labelSelection:i,stageLabelSelection:n,highlightDatumSelection:s}=this;this.updateSelections(),this.contentGroup.visible=this.visible,this.contentGroup.opacity=this.getOpacity();let a=(c=this.ctx.highlightManager)==null?void 0:c.getActiveHighlight();a!=null&&(a.series!==this||a.datum==null)&&(a=void 0);const o=((h=this.contextNodeData)==null?void 0:h.nodeData)??[],r=((p=this.contextNodeData)==null?void 0:p.labelData)??[],l=((f=this.contextNodeData)==null?void 0:f.stageLabelData)??[];this.datumSelection=this.updateDatumSelection({nodeData:o,datumSelection:e}),this.updateDatumNodes({datumSelection:e,isHighlight:!1}),this.labelSelection=this.updateLabelSelection({labelData:r,labelSelection:i}),this.updateLabelNodes({labelSelection:i,labelProperties:this.properties.label}),this.stageLabelSelection=this.updateStageLabelSelection({stageLabelData:l,stageLabelSelection:n}),this.updateLabelNodes({labelSelection:n,labelProperties:this.properties.stageLabel}),this.highlightDatumSelection=this.updateDatumSelection({nodeData:a!=null?[a]:[],datumSelection:s}),this.updateDatumNodes({datumSelection:s,isHighlight:!0})}updateDatumSelection(t){return t.datumSelection.update(t.nodeData)}getItemBaseStyle(t){const{properties:e}=this,i=t?e.highlightStyle.item:void 0;return{fill:i==null?void 0:i.fill,fillOpacity:(i==null?void 0:i.fillOpacity)??e.fillOpacity,stroke:i==null?void 0:i.stroke,strokeWidth:(i==null?void 0:i.strokeWidth)??this.getStrokeWidth(e.strokeWidth),strokeOpacity:(i==null?void 0:i.strokeOpacity)??e.strokeOpacity,lineDash:(i==null?void 0:i.lineDash)??e.lineDash,lineDashOffset:(i==null?void 0:i.lineDashOffset)??e.lineDashOffset}}getItemStyleOverrides(t,e,i,n,s){const{id:a,properties:o}=this,{fills:r,strokes:l,stageKey:c,valueKey:h,itemStyler:p}=o,f=n.fill??r[i%r.length],y=n.stroke??l[i%l.length],m={};if(s||(m.fill=f,m.stroke=y),p!=null){const b=this.cachedDatumCallback(xCt(t,s?"highlight":"node"),()=>p({seriesId:a,datum:e,stageKey:c,valueKey:h,highlighted:s,fill:f,stroke:y,...n}));Object.assign(m,b)}return m}updateDatumNodes(t){const{datumSelection:e,isHighlight:i}=t,{properties:n}=this,{shadow:s}=n,a=this.getItemBaseStyle(i);e.each((o,r)=>{const{datumIndex:l,datum:c,x:h,y:p,top:f,right:y,bottom:m,left:b}=r,S=this.getItemStyleOverrides(String(l),c,l,a,i);o.x0=h-f/2,o.x1=h+f/2,o.x2=h+m/2,o.x3=h-m/2,o.y0=p-b/2,o.y1=p-y/2,o.y2=p+y/2,o.y3=p+b/2,bCt(o,a,S),o.fillShadow=s})}updateLabelSelection(t){return t.labelSelection.update(this.properties.label.enabled?t.labelData:[])}updateStageLabelSelection(t){return t.stageLabelSelection.update(t.stageLabelData)}updateLabelNodes(t){const{labelSelection:e,labelProperties:i}=t,{color:n,fontSize:s,fontStyle:a,fontWeight:o,fontFamily:r}=i;e.each((l,{visible:c,x:h,y:p,text:f,textAlign:y,textBaseline:m})=>{l.visible=c,l.x=h,l.y=p,l.text=f,l.fill=n,l.fontStyle=a,l.fontWeight=o,l.fontSize=s,l.fontFamily=r,l.textAlign=y,l.textBaseline=m})}resetAnimation(t){}computeFocusBounds(t){var i;const e=(i=this.getNodeData())==null?void 0:i[t.datumIndex];if(e!==void 0){for(const n of this.datumSelection)if(n.datum===e)return n.node}}getTooltipContent(t){var m,b;const{id:e,dataModel:i,processedData:n,properties:s}=this,{stageKey:a,valueKey:o,tooltip:r}=s;if(!i||!n)return;const{datumIndex:l}=t,c=(m=n.dataSources.get(this.id))==null?void 0:m[l],h=i.resolveColumnById(this,"xValue",n)[l],p=i.resolveColumnById(this,"yValue",n)[l];if(h==null)return;const f=this.getLabelText(this.properties.stageLabel,{datum:(b=n.dataSources.get(this.id))==null?void 0:b[l],value:p,stageKey:a,valueKey:o}),y=this.getItemBaseStyle(!1);return Object.assign(y,this.getItemStyleOverrides(String(l),l,l,y,!1)),r.formatTooltip({symbol:this.legendItemSymbol(l),data:[{label:String(h),value:f}]},{seriesId:e,datum:c,title:void 0,stageKey:a,valueKey:o,...y})}getSeriesDomain(){return[NaN,NaN]}getSeriesRange(t,e){return[NaN,NaN]}pickNodeClosestDatum({x:t,y:e}){let i=1/0,n;return this.datumSelection.each((s,a)=>{const o=s.distanceSquared(t,e);o<i&&(i=o,n=a)}),n!=null?{datum:n,distance:Math.sqrt(i)}:void 0}legendItemSymbol(t){const{fills:e,strokes:i,strokeWidth:n,fillOpacity:s,strokeOpacity:a,lineDash:o,lineDashOffset:r}=this.properties,l=e[t%e.length]??"black",c=i[t%i.length]??"black";return{marker:{fill:l,fillOpacity:s,stroke:c,strokeWidth:n,strokeOpacity:a,lineDash:o,lineDashOffset:r}}}getLegendData(t){const{processedData:e,dataModel:i,id:n,ctx:{legendManager:s},visible:a}=this;if(!i||!e||t!=="category"||!this.properties.isValid())return[];const{showInLegend:o}=this.properties,r=[],l=i.resolveColumnById(this,"xValue",e);return(e.dataSources.get(this.id)??[]).forEach((h,p)=>{const f=l[p];r.push({legendType:"category",id:n,itemId:p,seriesId:n,enabled:a&&s.getItemEnabled({seriesId:n,itemId:p}),label:{text:f},symbol:this.legendItemSymbol(p),hideInLegend:!o})}),r}};RR.className="PyramidSeries";RR.type="pyramid";var{ThemeSymbols:{DEFAULT_SHADOW_COLOUR:vCt}}=_,SCt={series:{direction:"vertical",strokeWidth:0,spacing:2,label:{enabled:!0,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"backgroundColor"}},stageLabel:{enabled:!0,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"},spacing:12},shadow:{enabled:!1,color:vCt,xOffset:3,yOffset:3,blur:5}}},MCt={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["standalone"],identifier:"pyramid",moduleFactory:t=>new RR(t),solo:!0,tooltipDefaults:{range:"exact"},themeTemplate:SCt,paletteFactory:({takeColors:t,colorsCount:e})=>{const{fills:i,strokes:n}=t(e);return{fills:i,strokes:n}}},{ThemeConstants:{POLAR_AXIS_TYPE:ACt}}=_,C9={series:{label:{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}},marker:{enabled:!0,fillOpacity:1,shape:"circle",size:6,strokeOpacity:1,strokeWidth:0}},axes:{[ACt.ANGLE_CATEGORY]:{label:{spacing:10}}}},DCt=_.mergeDefaults({series:{strokeWidth:2}},C9),ICt=_.mergeDefaults({series:{fillOpacity:.8,strokeWidth:2,marker:{enabled:!1}}},C9),{Label:TCt,SeriesMarker:CCt,SeriesProperties:kCt,SeriesTooltip:LCt,Validate:La,BOOLEAN:NCt,COLOR_STRING:ECt,NUMBER:wCt,LINE_DASH:OCt,OBJECT:PR,POSITIVE_NUMBER:k9,RATIO:RCt,STRING:vI}=_,js=class extends kCt{constructor(){super(...arguments),this.stroke="black",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.rotation=0,this.marker=new CCt,this.label=new TCt,this.tooltip=new LCt,this.connectMissingData=!1}};A([La(vI)],js.prototype,"angleKey");A([La(vI)],js.prototype,"radiusKey");A([La(vI,{optional:!0})],js.prototype,"angleName");A([La(vI,{optional:!0})],js.prototype,"radiusName");A([La(ECt)],js.prototype,"stroke");A([La(k9)],js.prototype,"strokeWidth");A([La(RCt)],js.prototype,"strokeOpacity");A([La(OCt)],js.prototype,"lineDash");A([La(k9)],js.prototype,"lineDashOffset");A([La(wCt)],js.prototype,"rotation");A([La(PR)],js.prototype,"marker");A([La(PR)],js.prototype,"label");A([La(PR)],js.prototype,"tooltip");A([La(NCt)],js.prototype,"connectMissingData");var{ChartAxisDirection:cr,PolarAxis:PCt,SeriesNodePickMode:w5,valueProperty:O5,fixNumericExtent:BCt,seriesLabelFadeInAnimation:zCt,markerFadeInAnimation:_Ct,resetMarkerFn:jCt,animationValidation:FCt,computeMarkerFocusBounds:GCt,extent:VCt,isNumberEqual:R5,createDatumId:UCt,BBox:HCt,Group:WCt,Path:YCt,PointerEvents:$Ct,Selection:P5,Text:KCt,Marker:XCt,applyShapeStyle:ZCt}=_,qCt=class extends _.SeriesNodeEvent{constructor(t,e,i,n){super(t,e,i,n),this.angleKey=n.properties.angleKey,this.radiusKey=n.properties.radiusKey}},BR=class extends _.PolarSeries{constructor(t){super({moduleCtx:t,useLabelLayer:!0,pickModes:[w5.NEAREST_NODE,w5.EXACT_SHAPE_MATCH],canHaveAxes:!0,animationResetFns:{item:jCt}}),this.clipFocusBox=!1,this.properties=new js,this.NodeEvent=qCt,this.lineGroup=this.contentGroup.appendChild(new WCt({name:"radar-line",zIndex:_.SeriesZIndexMap.ANY_CONTENT})),this.lineSelection=P5.select(this.lineGroup,YCt),this.resetInvalidToZero=!1,this.circleCache={r:0,cx:0,cy:0}}nodeFactory(){return new XCt}setSeriesIndex(t){return super.setSeriesIndex(t)?(this.lineGroup.zIndex=[_.SeriesZIndexMap.ANY_CONTENT,t,_.SeriesContentZIndexMap.FOREGROUND,1],!0):!1}getSeriesDomain(t){const{dataModel:e,processedData:i}=this;if(!i||!e)return[];if(t===cr.X)return e.getDomain(this,"angleValue","value",i);{const n=e.getDomain(this,"radiusValue","value",i),s=VCt(n.length===0?n:[0].concat(n));return BCt(s)}}async processData(t){var o,r;if(!this.properties.isValid())return;const{angleKey:e,radiusKey:i}=this.properties,n=[];this.ctx.animationManager.isSkipped()||n.push(FCt());const s=(o=this.axes[cr.Y])==null?void 0:o.scale.type,a=(r=this.axes[cr.X])==null?void 0:r.scale.type;await this.requestDataModel(t,this.data,{props:[O5(e,a,{id:"angleValue"}),O5(i,s,{id:"radiusValue",invalidValue:void 0}),...n]}),this.animationState.transition("updateData")}didCircleChange(){const t=this.radius,e=this.centerX,i=this.centerY,n=this.circleCache;return t===n.r&&e===n.cx&&i===n.cy?!1:(this.circleCache={r:t,cx:e,cy:i},!0)}getAxisInnerRadius(){const t=this.axes[cr.Y];return t instanceof PCt?this.radius*t.innerRadiusRatio:0}maybeRefreshNodeData(){if(!this.didCircleChange()&&!this.nodeDataRefresh)return;const{nodeData:e=[]}=this.createNodeData()??{};this.nodeData=e,this.nodeDataRefresh=!1}createNodeData(){var b,S;const{processedData:t,dataModel:e}=this;if(!t||!e||!this.properties.isValid())return;const{angleKey:i,radiusKey:n,angleName:s,radiusName:a,marker:o,label:r}=this.properties,l=(b=this.axes[cr.X])==null?void 0:b.scale,c=(S=this.axes[cr.Y])==null?void 0:S.scale;if(!l||!c)return;const h=e.resolveColumnById(this,"angleValue",t),p=e.resolveColumnById(this,"radiusValue",t),f=this.getAxisInnerRadius(),m=(t.dataSources.get(this.id)??[]).map((v,D)=>{const I=h[D],T=p[D],k=l.convert(I),E=this.radius+f-c.convert(T),w=Math.cos(k),R=Math.sin(k),O=w*E,L=R*E;let F;if(r.enabled){const z=this.getLabelText(r,{value:T,datum:v,angleKey:i,radiusKey:n,angleName:s,radiusName:a});if(z){let V="right";R5(w,0)?V="center":w>0&&(V="left");let H="bottom";R5(R,0)?H="middle":R>0&&(H="top"),F={x:O+w*o.size,y:L+R*o.size,text:z,textAlign:V,textBaseline:H}}}return{series:this,datum:v,datumIndex:D,index:D,point:{x:O,y:L,size:o.size},midPoint:{x:O,y:L},label:F,angleValue:I,radiusValue:T,missing:!Ku(k)||!Ku(E)}});return{itemId:n,nodeData:m,labelData:m}}update({seriesRect:t}){var s;const e=this.checkResize(t),i=!this.ctx.animationManager.isSkipped(),{series:n}=((s=this.ctx.highlightManager)==null?void 0:s.getActiveHighlight())??{};this.highlightGroup.visible=(i||this.visible)&&n===this,this.maybeRefreshNodeData(),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),this.updatePathSelections(),this.updateMarkerSelection(),this.updateMarkers(this.itemSelection,!1),this.updateMarkers(this.highlightSelection,!0),this.updateLabels(),e&&this.animationState.transition("resize"),this.animationState.transition("update")}updatePathSelections(){const t=this.visible?[!0]:[];this.lineSelection.update(t)}updateMarkerSelection(){this.properties.marker.isDirty()&&(this.itemSelection.clear(),this.itemSelection.cleanup(),this.itemSelection=P5.select(this.itemGroup,()=>this.nodeFactory(),!1)),this.itemSelection.update(this.properties.marker.enabled?this.nodeData:[])}getMarkerFill(t){return(t==null?void 0:t.fill)??this.properties.marker.fill}getMarkerItemBaseStyle(t){const{properties:e}=this,{marker:i}=e,n=t?e.highlightStyle.item:void 0;return{shape:i.shape,size:i.size,fill:(n==null?void 0:n.fill)??i.fill,fillOpacity:(n==null?void 0:n.fillOpacity)??i.fillOpacity,stroke:(n==null?void 0:n.stroke)??i.stroke,strokeWidth:(n==null?void 0:n.strokeWidth)??this.getStrokeWidth(i.strokeWidth),strokeOpacity:(n==null?void 0:n.strokeOpacity)??i.strokeOpacity,lineDash:(n==null?void 0:n.lineDash)??i.lineDash,lineDashOffset:(n==null?void 0:n.lineDashOffset)??i.lineDashOffset}}getMarkerItemStyleOverrides(t,e,i,n){const{id:s,properties:a}=this,{angleKey:o,radiusKey:r,marker:l}=a,{itemStyler:c}=l;if(c!=null)return this.cachedDatumCallback(UCt(t,n?"highlight":"node"),()=>c({seriesId:s,datum:e,angleKey:o,radiusKey:r,highlighted:n,...i}))}updateMarkers(t,e){var o;const{visible:i}=this,{marker:n}=this.properties;let s=[];if(i&&n.shape&&n.enabled)if(e){const r=(o=this.ctx.highlightManager)==null?void 0:o.getActiveHighlight();r!=null&&r.datum&&(s=[r])}else s=this.nodeData;const a=this.getMarkerItemBaseStyle(e);t.update(s).each((r,l)=>{const{datum:c,datumIndex:h,point:p}=l,f=this.getMarkerItemStyleOverrides(String(h),c,a,e);ZCt(r,a,f),r.shape=(f==null?void 0:f.shape)??a.shape,r.size=(f==null?void 0:f.size)??a.size;const{x:y,y:m}=p;r.x=y,r.y=m,r.visible=i&&r.size>0&&!isNaN(y)&&!isNaN(m)})}updateLabels(){const{label:t}=this.properties;this.labelSelection.update(this.nodeData).each((e,i)=>{t.enabled&&i.label?(e.x=i.label.x,e.y=i.label.y,e.fill=t.color,e.fontFamily=t.fontFamily,e.fontSize=t.fontSize,e.fontStyle=t.fontStyle,e.fontWeight=t.fontWeight,e.text=i.label.text,e.textAlign=i.label.textAlign,e.textBaseline=i.label.textBaseline,e.visible=!0):e.visible=!1})}getTooltipContent(t){var D;const{id:e,dataModel:i,processedData:n,axes:s,properties:a}=this,{angleKey:o,angleName:r,radiusKey:l,radiusName:c,tooltip:h}=a,p=s[cr.X],f=s[cr.Y];if(!i||!n||!p||!f)return;const{datumIndex:y}=t,m=(D=n.dataSources.get(this.id))==null?void 0:D[y],b=i.resolveColumnById(this,"angleValue",n)[y],S=i.resolveColumnById(this,"radiusValue",n)[y];if(b==null)return;const v=this.getMarkerItemBaseStyle(!1);return Object.assign(v,this.getMarkerItemStyleOverrides(String(y),y,v,!1)),h.formatTooltip({heading:p.formatDatum(b),symbol:this.legendItemSymbol(),data:[{label:c,fallbackLabel:l,value:f.formatDatum(S)}]},{seriesId:e,datum:m,title:r,angleKey:o,radiusKey:l,angleName:r,radiusName:c,...v})}legendItemSymbol(){const{stroke:t,strokeWidth:e,strokeOpacity:i,lineDash:n,marker:s}=this.properties;return{marker:{shape:s.shape,fill:this.getMarkerFill()??s.stroke??t??"rgba(0, 0, 0, 0)",stroke:s.stroke??t??"rgba(0, 0, 0, 0)",fillOpacity:s.fillOpacity,strokeOpacity:s.strokeOpacity,strokeWidth:s.strokeWidth,lineDash:s.lineDash,lineDashOffset:s.lineDashOffset,enabled:s.enabled||e<=0},line:{stroke:t,strokeOpacity:i,strokeWidth:e,lineDash:n}}}getLegendData(t){if(!this.properties.isValid()||t!=="category")return[];const{id:e,ctx:{legendManager:i},visible:n}=this,{radiusKey:s,radiusName:a,showInLegend:o}=this.properties;return[{legendType:"category",id:e,itemId:s,seriesId:e,enabled:n&&i.getItemEnabled({seriesId:e,itemId:s}),label:{text:a??s},symbol:this.legendItemSymbol(),hideInLegend:!o}]}pickNodeClosestDatum(t){var h;const{nodeData:e,centerX:i,centerY:n}=this,{x:s,y:a}=t,o=this.radius;if(Math.sqrt((s-i)**2+(a-n)**2)>o+this.properties.marker.size)return;let l=1/0,c;for(const p of e){const{point:{x:f=NaN,y=NaN}={}}=p;if(isNaN(f)||isNaN(y))continue;const m=Math.sqrt((t.x-f-i)**2+(t.y-y-n)**2);m<l&&(l=m,c=p)}if(c){const p=Math.max(l-(((h=c.point)==null?void 0:h.size)??0),0);return{datum:c,distance:p}}}computeLabelsBBox(){const{label:t}=this.properties;this.maybeRefreshNodeData();const e=[],i=new KCt;return this.nodeData.forEach(n=>{if(!t.enabled||!n.label)return;i.text=n.label.text,i.x=n.label.x,i.y=n.label.y,i.setFont(t),i.setAlign(n.label);const s=i.getBBox();e.push(s)}),e.length===0?null:HCt.merge(e)}getLineNode(){var t;return(t=this.lineSelection)==null?void 0:t.at(0)}beforePathAnimation(){const t=this.getLineNode();t&&(t.fill=void 0,t.lineJoin="round",t.lineCap="round",t.pointerEvents=$Ct.None,t.stroke=this.properties.stroke,t.strokeWidth=this.getStrokeWidth(this.properties.strokeWidth),t.strokeOpacity=this.properties.strokeOpacity,t.lineDash=this.properties.lineDash,t.lineDashOffset=this.properties.lineDashOffset)}getLinePoints(){const{nodeData:t,resetInvalidToZero:e}=this,{connectMissingData:i}=this.properties;if(t.length===0)return[];const n=this.axes[cr.Y],s=this.axes[cr.X],a=s==null?void 0:s.isReversed(),r=(n==null?void 0:n.isReversed())&&!a?[...t].reverse():t,l=[];let c=!1,h;return r.forEach((p,f)=>{let{x:y,y:m}=p.point;const b=isNaN(y)||isNaN(m);b||(h??(h=p)),b&&!i&&(y=0,m=0);const S=f===0||!e&&!i&&(b||c);l.push({x:y,y:m,moveTo:S}),c=b}),h!==void 0&&l.push({x:h.point.x,y:h.point.y,moveTo:!1}),l}animateSinglePath(t,e,i){const{path:n}=t;n.clear(!0);const s=this.getAxisInnerRadius(),a=this.axes[cr.Y],r=(a==null?void 0:a.isReversed())?this.radius+s-(a==null?void 0:a.scale.convert(0)):s;e.forEach(l=>{const{x:c,y:h,arc:p,radius:f=0,startAngle:y=0,endAngle:m=0,moveTo:b}=l,S=Math.atan2(h,c),v=r*Math.cos(S),D=r*Math.sin(S),I=i,T=v*(1-I)+c*I,k=D*(1-I)+h*I;p?n.arc(c,h,f,y,m):b?n.moveTo(T,k):n.lineTo(T,k)}),t.checkPathDirty()}animatePaths(t){const e=this.getLinePoints(),i=this.getLineNode();i&&this.animateSinglePath(i,e,t)}animateEmptyUpdateReady(){const{itemSelection:t,labelSelection:e}=this,{animationManager:i}=this.ctx;this.beforePathAnimation(),i.animate({id:`${this.id}_'path`,groupId:this.id,from:0,to:1,phase:"initial",collapsable:!1,onUpdate:n=>this.animatePaths(n),onStop:()=>this.animatePaths(1)}),_Ct(this,i,"added",t),zCt(this,"labels",i,e)}animateWaitingUpdateReady(t){super.animateWaitingUpdateReady(t),this.resetPaths()}animateReadyResize(t){super.animateReadyResize(t),this.resetPaths()}resetPaths(){const t=this.getLineNode();if(t){const{path:e}=t,i=this.getLinePoints();t.fill=void 0,t.stroke=this.properties.stroke,t.strokeWidth=this.getStrokeWidth(this.properties.strokeWidth),t.strokeOpacity=this.properties.strokeOpacity,t.lineDash=this.properties.lineDash,t.lineDashOffset=this.properties.lineDashOffset,e.clear(!0);for(const{x:n,y:s,moveTo:a}of i)a?e.moveTo(n,s):e.lineTo(n,s);t.checkPathDirty()}}getFormattedMarkerStyle(t){const{angleKey:e,radiusKey:i}=this.properties;return this.getMarkerStyle(this.properties.marker,{datum:t,angleKey:e,radiusKey:i,highlighted:!0})}computeFocusBounds(t){return GCt(this,t)}};BR.className="RadarSeries";var{RATIO:QCt,COLOR_STRING:JCt,Validate:L9}=_,zR=class extends js{constructor(){super(...arguments),this.fill="black",this.fillOpacity=1}};A([L9(JCt)],zR.prototype,"fill");A([L9(QCt)],zR.prototype,"fillOpacity");var{Group:t1t,Path:e1t,PointerEvents:i1t,Selection:n1t,ChartAxisDirection:B5}=_,_R=class extends BR{constructor(t){super(t),this.properties=new zR,this.resetInvalidToZero=!0;const e=new t1t;this.contentGroup.append(e),this.areaSelection=n1t.select(e,e1t)}updatePathSelections(){const t=this.visible?[!0]:[];this.areaSelection.update(t),super.updatePathSelections()}getAreaNode(){return this.areaSelection.at(0)}getMarkerFill(t){return(t==null?void 0:t.fill)??this.properties.marker.fill??this.properties.fill}beforePathAnimation(){super.beforePathAnimation();const t=this.getAreaNode();t.fill=this.properties.fill,t.fillOpacity=this.properties.fillOpacity,t.pointerEvents=i1t.None,t.stroke=void 0}animatePaths(t){super.animatePaths(t),this.animateSinglePath(this.getAreaNode(),this.getAreaPoints(),t)}getAreaPoints(){var o;const t=this.getLinePoints(),e=r=>{const l=this.axes[r];return l instanceof _.PolarAxis?l:void 0},i=e(B5.Y),n=e(B5.X);if(!(i==null?void 0:i.isReversed()))return t;const a=((o=n==null?void 0:n.getAxisLinePoints())==null?void 0:o.points)??[];return t.concat(...a)}resetPaths(){super.resetPaths();const t=this.getAreaNode();if(t){const{path:e}=t,i=this.getAreaPoints();t.fill=this.properties.fill,t.fillOpacity=this.properties.fillOpacity,t.stroke=void 0,t.lineDash=this.properties.lineDash,t.lineDashOffset=this.properties.lineDashOffset,t.lineJoin=t.lineCap="round",e.clear(!0),i.forEach(({x:n,y:s,moveTo:a,arc:o,radius:r=0,startAngle:l=0,endAngle:c=0})=>{o?e.arc(n,s,r,l,c):a?e.moveTo(n,s):e.lineTo(n,s)}),e.closePath(),t.checkPathDirty()}}};_R.className="RadarAreaSeries";_R.type="radar-area";var{markerPaletteFactory:s1t,ThemeConstants:{POLAR_AXIS_TYPE:z5}}=_,a1t={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radar-area",moduleFactory:t=>new _R(t),tooltipDefaults:{range:"nearest"},defaultAxes:[{type:z5.ANGLE_CATEGORY},{type:z5.RADIUS_NUMBER}],themeTemplate:ICt,paletteFactory:t=>{const{marker:e}=s1t(t);return{stroke:e.stroke,fill:e.fill,marker:e}}},jR=class extends BR{updatePathSelections(){this.lineSelection.update(this.visible?[!0]:[])}};jR.className="RadarLineSeries";jR.type="radar-line";var{POLAR_AXIS_TYPE:_5}=_.ThemeConstants,o1t={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radar-line",moduleFactory:t=>new jR(t),tooltipDefaults:{range:"nearest"},defaultAxes:[{type:_5.ANGLE_CATEGORY},{type:_5.RADIUS_NUMBER}],themeTemplate:DCt,paletteFactory:({takeColors:t})=>{const{fills:[e],strokes:[i]}=t(1);return{stroke:e,marker:{fill:e,stroke:i}}}},{SeriesProperties:r1t,SeriesTooltip:l1t,Validate:Zn,COLOR_STRING:N9,NUMBER:E9,FUNCTION:c1t,LINE_DASH:u1t,OBJECT:w9,POSITIVE_NUMBER:FR,RATIO:O9,STRING:gv,Label:h1t}=_,Bn=class extends r1t{constructor(){super(...arguments),this.fill="black",this.fillOpacity=1,this.stroke="black",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.rotation=0,this.label=new h1t,this.tooltip=new l1t}};A([Zn(gv)],Bn.prototype,"angleKey");A([Zn(gv)],Bn.prototype,"radiusKey");A([Zn(gv,{optional:!0})],Bn.prototype,"angleName");A([Zn(gv,{optional:!0})],Bn.prototype,"radiusName");A([Zn(N9)],Bn.prototype,"fill");A([Zn(O9)],Bn.prototype,"fillOpacity");A([Zn(N9)],Bn.prototype,"stroke");A([Zn(FR)],Bn.prototype,"strokeWidth");A([Zn(O9)],Bn.prototype,"strokeOpacity");A([Zn(u1t)],Bn.prototype,"lineDash");A([Zn(FR)],Bn.prototype,"lineDashOffset");A([Zn(FR)],Bn.prototype,"cornerRadius");A([Zn(c1t,{optional:!0})],Bn.prototype,"itemStyler");A([Zn(E9)],Bn.prototype,"rotation");A([Zn(gv,{optional:!0})],Bn.prototype,"stackGroup");A([Zn(E9,{optional:!0})],Bn.prototype,"normalizedTo");A([Zn(w9)],Bn.prototype,"label");A([Zn(w9)],Bn.prototype,"tooltip");var{SectorBox:j5,motion:d1t}=_;function p1t(t,e,i){if(i==="updated"){if(t.previousDatum==null||isNaN(t.previousDatum.innerRadius)||isNaN(t.previousDatum.outerRadius))return"added";if(isNaN(e.innerRadius)||isNaN(e.outerRadius))return"removed"}return i==="added"&&t.previousDatum!=null?"updated":i}function F5(t){return{toFn:(n,s,a)=>{let o,r,l,c,h;return a==="removed"?(o=t,r=t,l=s.innerRadius,c=s.outerRadius,h=new j5(o,r,l,c)):(o=s.startAngle,r=s.endAngle,l=isNaN(s.innerRadius)?n.innerRadius:s.innerRadius,c=isNaN(s.outerRadius)?n.outerRadius:s.outerRadius,h=s.clipSector),{startAngle:o,endAngle:r,innerRadius:l,outerRadius:c,clipSector:h}},fromFn:(n,s,a)=>{a=p1t(n,s,a);let o,r,l,c,h;a==="removed"||a==="updated"?(o=n.startAngle,r=n.endAngle,l=n.innerRadius,c=n.outerRadius,h=n.clipSector):(o=t,r=t,l=s.innerRadius,c=s.outerRadius),h??(h=new j5(o,r,l,c));const p=d1t.NODE_UPDATE_STATE_TO_PHASE_MAPPING[a];return{startAngle:o,endAngle:r,innerRadius:l,outerRadius:c,clipSector:h,phase:p}}}}function f1t(t,e){return{centerX:0,centerY:0,innerRadius:e.innerRadius,outerRadius:e.outerRadius,startAngle:e.startAngle,endAngle:e.endAngle,clipSector:e.clipSector}}var{ChartAxisDirection:sc,PolarAxis:g1t,diff:y1t,groupAccumulativeValueProperty:G5,keyProperty:m1t,normaliseGroupTo:x1t,valueProperty:b1t,fixNumericExtent:v1t,resetLabelFn:S1t,seriesLabelFadeInAnimation:M1t,seriesLabelFadeOutAnimation:A1t,animationValidation:D1t,angleBetween:I1t,createDatumId:V5,CategoryScale:T1t,Sector:C1t,SectorBox:k1t,motion:U5,applyShapeStyle:L1t}=_,N1t=class extends _.SeriesNodeEvent{constructor(t,e,i,n){super(t,e,i,n),this.angleKey=n.properties.angleKey,this.radiusKey=n.properties.radiusKey}},GR=class extends _.PolarSeries{constructor(t){super({moduleCtx:t,useLabelLayer:!0,canHaveAxes:!0,animationResetFns:{item:f1t,label:S1t}}),this.properties=new Bn,this.NodeEvent=N1t,this.groupScale=new T1t,this.circleCache={r:0,cx:0,cy:0}}nodeFactory(){return new C1t}getSeriesDomain(t){const{dataModel:e,processedData:i}=this;if(!i||!e)return[];if(t===sc.X){const n=e.getDomain(this,"angleValue-end","value",i),s=[n[0]>0?0:n[0],n[1]<0?0:n[1]];return v1t(s)}else return e.getDomain(this,"radiusValue","key",i)}async processData(t){var f,y;const{visible:e}=this,{angleKey:i,radiusKey:n,normalizedTo:s}=this.properties,a=!this.ctx.animationManager.isSkipped();if(!this.properties.isValid())return;const o=this.getStackId(),r=`${o}-trailing`,l=[];as(s)&&l.push(x1t([o,r],Math.abs(s))),a&&(this.processedData&&l.push(y1t(this.id,this.processedData)),l.push(D1t()));const c=e||!a?{}:{forceValue:0},h=(f=this.axes[sc.Y])==null?void 0:f.scale.type,p=(y=this.axes[sc.X])==null?void 0:y.scale.type;await this.requestDataModel(t,this.data,{props:[m1t(n,h,{id:"radiusValue"}),b1t(i,p,{id:"angleValue-raw",invalidValue:null,...c}),...G5(i,"normal","current",{id:"angleValue-end",rangeId:"angleValue-range",invalidValue:null,groupId:o,separateNegative:!0,...c},p),...G5(i,"trailing","current",{id:"angleValue-start",invalidValue:null,groupId:r,separateNegative:!0,...c},p),...l],groupByKeys:!0,groupByData:!1}),this.animationState.transition("updateData")}didCircleChange(){const t=this.radius,e=this.centerX,i=this.centerY,n=this.circleCache;return t===n.r&&e===n.cx&&i===n.cy?!1:(this.circleCache={r:t,cx:e,cy:i},!0)}maybeRefreshNodeData(){if(!this.didCircleChange()&&!this.nodeDataRefresh)return;const{nodeData:e=[]}=this.createNodeData()??{};this.nodeData=e,this.nodeDataRefresh=!1}getAxisInnerRadius(){const t=this.axes[sc.Y];return t instanceof g1t?this.radius*t.innerRadiusRatio:0}createNodeData(){const{processedData:t,dataModel:e}=this;if(!e||!t||t.type!=="grouped"||!this.properties.isValid())return;const i=this.axes[sc.X],n=this.axes[sc.Y],s=i==null?void 0:i.scale,a=n==null?void 0:n.scale;if(!s||!a)return;const o=e.resolveKeysById(this,"radiusValue",t),r=e.resolveColumnById(this,"angleValue-start",t),l=e.resolveColumnById(this,"angleValue-end",t),c=e.resolveColumnById(this,"angleValue-raw",t),h=e.resolveProcessedDataIndexById(this,"angleValue-range");let p=0;n instanceof up&&(p=n.groupPaddingInner);const{groupScale:f}=this,{index:y,visibleGroupCount:m}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this);f.domain=Array.from({length:m}).map((W,G)=>String(G)),f.range=[0,Math.abs(a.bandwidth??0)],f.paddingInner=m>1?p:0;const b=f.bandwidth>=1?f.bandwidth:f.rawBandwidth,S=i.isReversed(),v=n.isReversed(),D=v?this.radius:this.getAxisInnerRadius(),T=(v?this.getAxisInnerRadius():this.radius)+D,{angleKey:k,radiusKey:E,angleName:w,radiusName:R,label:O}=this.properties,L=(W,G,$,K)=>{const X=this.getLabelText(O,{value:G,datum:W,angleKey:k,radiusKey:E,angleName:w,radiusName:R});if(X)return{x:$,y:K,text:X,textAlign:"center",textBaseline:"middle"}},F=[],z={itemId:E,nodeData:F,labelData:F};if(!this.visible)return z;const{dataSources:V}=t,H=V.get(this.id)??[];for(const{datumIndex:W,group:G}of e.forEachGroupDatum(this,t)){const $=H[W],K=o[W];if(K==null)return;const X=c[W],j=r[W],U=l[W],Z=X>=0&&!Object.is(X,-0),tt=G.aggregation[h][Z?1:0],J=Z===S;let nt=s.convert(j,!0),at=s.convert(U,!0),lt=s.convert(0,!0),ut=s.convert(tt,!0);J&&([lt,ut]=[ut,lt],[nt,at]=[at,nt]);const ot=T-a.convert(K)+f.convert(String(y)),ft=ot+b,ct=(ot+ft)/2,bt=nt+I1t(nt,at)/2,St=Math.cos(bt)*ct,xt=Math.sin(bt)*ct,wt=this.properties.label.enabled?L($,X,St,xt):void 0,kt=new k1t(nt,at,ot,ft);F.push({series:this,datum:$,datumIndex:W,point:{x:St,y:xt,size:0},midPoint:{x:St,y:xt},label:wt,angleValue:X,radiusValue:K,innerRadius:ot,outerRadius:ft,startAngle:lt,endAngle:ut,clipSector:kt,reversed:J,index:W})}return z}update({seriesRect:t}){const e=this.checkResize(t);this.maybeRefreshNodeData(),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),this.updateSectorSelection(this.itemSelection,!1),this.updateSectorSelection(this.highlightSelection,!0),this.updateLabels(),e&&this.animationState.transition("resize"),this.animationState.transition("update")}getItemBaseStyle(t){const{properties:e}=this,i=t?e.highlightStyle.item:void 0;return{fill:(i==null?void 0:i.fill)??e.fill,fillOpacity:(i==null?void 0:i.fillOpacity)??e.fillOpacity,stroke:(i==null?void 0:i.stroke)??e.stroke,strokeWidth:(i==null?void 0:i.strokeWidth)??this.getStrokeWidth(e.strokeWidth),strokeOpacity:(i==null?void 0:i.strokeOpacity)??e.strokeOpacity,lineDash:(i==null?void 0:i.lineDash)??e.lineDash,lineDashOffset:(i==null?void 0:i.lineDashOffset)??e.lineDashOffset,cornerRadius:e.cornerRadius}}getItemStyleOverrides(t,e,i,n){const{id:s,properties:a}=this,{angleKey:o,radiusKey:r,itemStyler:l}=a;if(l!=null)return this.cachedDatumCallback(V5(t,n?"highlight":"node"),()=>l({seriesId:s,datum:e,highlighted:n,angleKey:o,radiusKey:r,...i}))}updateSectorSelection(t,e){var s;let i=[];if(e){const a=(s=this.ctx.highlightManager)==null?void 0:s.getActiveHighlight();a!=null&&a.datum&&a.series===this&&i.push(a)}else i=this.nodeData;const n=this.getItemBaseStyle(e);t.update(i,void 0,a=>this.getDatumId(a)).each((a,o)=>{const{datum:r,datumIndex:l}=o,c=this.getItemStyleOverrides(String(l),r,n,e),h=(c==null?void 0:c.cornerRadius)??n.cornerRadius;L1t(a,n,c),a.lineJoin="round",a.inset=a.stroke!=null?a.strokeWidth/2:0,a.startInnerCornerRadius=r.reversed?h:0,a.startOuterCornerRadius=r.reversed?h:0,a.endInnerCornerRadius=r.reversed?0:h,a.endOuterCornerRadius=r.reversed?0:h,e&&(a.startAngle=o.startAngle,a.endAngle=o.endAngle,a.clipSector=o.clipSector,a.innerRadius=o.innerRadius,a.outerRadius=o.outerRadius)})}updateLabels(){const{label:t}=this.properties;this.labelSelection.update(this.nodeData).each((e,i)=>{t.enabled&&i.label?(e.x=i.label.x,e.y=i.label.y,e.fill=t.color,e.fontFamily=t.fontFamily,e.fontSize=t.fontSize,e.fontStyle=t.fontStyle,e.fontWeight=t.fontWeight,e.text=i.label.text,e.textAlign=i.label.textAlign,e.textBaseline=i.label.textBaseline,e.visible=!0):e.visible=!1})}getBarTransitionFunctions(){var s;const t=(s=this.axes[sc.X])==null?void 0:s.scale;let e=0;if(!t)return F5(e);const i=Math.min(t.domain[0],t.domain[1]),n=Math.max(t.domain[0],t.domain[1]);return i<=0&&n>=0&&(e=t.convert(0)),F5(e)}animateEmptyUpdateReady(){const{labelSelection:t}=this,e=this.getBarTransitionFunctions();U5.fromToMotion(this.id,"datums",this.ctx.animationManager,[this.itemSelection],e),M1t(this,"labels",this.ctx.animationManager,t)}animateClearingUpdateEmpty(){const{itemSelection:t}=this,{animationManager:e}=this.ctx,i=this.getBarTransitionFunctions();U5.fromToMotion(this.id,"datums",e,[t],i),A1t(this,"labels",e,this.labelSelection)}getTooltipContent(t){var D;const{id:e,dataModel:i,processedData:n,axes:s,properties:a}=this,{angleKey:o,angleName:r,radiusKey:l,radiusName:c,tooltip:h}=a,p=s[sc.X],f=s[sc.Y];if(!i||!n||!p||!f)return;const{datumIndex:y}=t,m=(D=n.dataSources.get(this.id))==null?void 0:D[y],b=i.resolveKeysById(this,"radiusValue",n)[y],S=i.resolveColumnById(this,"angleValue-raw",n)[y];if(b==null)return;const v=this.getItemBaseStyle(!1);return Object.assign(v,this.getItemStyleOverrides(String(y),y,v,!1)),h.formatTooltip({heading:f.formatDatum(b),symbol:this.legendItemSymbol(),data:[{label:r,fallbackLabel:o,value:p.formatDatum(S)}]},{seriesId:e,datum:m,title:r,angleKey:o,angleName:r,radiusKey:l,radiusName:c,...v})}pickNodeClosestDatum(t){return this.pickNodeNearestDistantObject(t,this.itemSelection.nodes())}legendItemSymbol(){const{fill:t,stroke:e,fillOpacity:i,strokeOpacity:n,strokeWidth:s,lineDash:a,lineDashOffset:o}=this.properties;return{marker:{fill:t??"rgba(0, 0, 0, 0)",stroke:e??"rgba(0, 0, 0, 0)",fillOpacity:i,strokeOpacity:n,strokeWidth:s,lineDash:a,lineDashOffset:o}}}getLegendData(t){if(!this.properties.isValid()||t!=="category")return[];const{id:e,visible:i}=this,{angleKey:n,angleName:s,showInLegend:a}=this.properties;return[{legendType:"category",id:e,itemId:n,seriesId:e,enabled:i,label:{text:s??n},symbol:this.legendItemSymbol(),hideInLegend:!a}]}getDatumId(t){return V5(t.radiusValue)}computeLabelsBBox(){return null}getStackId(){var e;return`radialBar-stack-${((e=this.seriesGrouping)==null?void 0:e.groupIndex)??this.id}-xValues`}};GR.className="RadialBarSeries";GR.type="radial-bar";var{ThemeConstants:{POLAR_AXIS_TYPE:E1t}}=_,w1t={series:{strokeWidth:0,label:{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"backgroundColor"}}},axes:{[E1t.RADIUS_CATEGORY]:{innerRadiusRatio:.2,groupPaddingInner:.2,paddingInner:.2,paddingOuter:.1}}},{POLAR_AXIS_TYPE:H5}=_.ThemeConstants,O1t={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radial-bar",moduleFactory:t=>new GR(t),tooltipDefaults:{range:"exact"},defaultAxes:[{type:H5.ANGLE_NUMBER},{type:H5.RADIUS_CATEGORY}],themeTemplate:w1t,paletteFactory:({takeColors:t})=>{const{fills:[e],strokes:[i]}=t(1);return{fill:e,stroke:i}},stackable:!0,groupable:!0},{Validate:R9,RATIO:P9}=_,VR=class extends An{};A([R9(P9,{optional:!0})],VR.prototype,"columnWidthRatio");A([R9(P9,{optional:!0})],VR.prototype,"maxColumnWidthRatio");var{ChartAxisDirection:R1t,PolarAxis:P1t,RadialColumnShape:B1t,getRadialColumnWidth:z1t}=_,UR=class extends y9{constructor(t){super(t,{animationResetFns:{item:XTt}}),this.properties=new VR}getStackId(){var e;return`radarColumn-stack-${((e=this.seriesGrouping)==null?void 0:e.groupIndex)??this.id}-yValues`}nodeFactory(){return new B1t}getColumnTransitionFunctions(){const t=this.isRadiusAxisReversed()?this.radius:this.getAxisInnerRadius();return KTt(t)}isRadiusAxisCircle(){const t=this.axes[R1t.Y];return t instanceof P1t?t.shape==="circle":!1}updateItemPath(t,e,i){t.isBeveled=this.isRadiusAxisCircle(),t.isRadiusAxisReversed=this.isRadiusAxisReversed(),i&&(t.innerRadius=e.innerRadius,t.outerRadius=e.outerRadius,t.startAngle=e.startAngle,t.endAngle=e.endAngle,t.columnWidth=e.columnWidth,t.axisInnerRadius=e.axisInnerRadius,t.axisOuterRadius=e.axisOuterRadius)}getColumnWidth(t,e){const{columnWidthRatio:i=.5,maxColumnWidthRatio:n=.5}=this.properties;return z1t(t,e,this.radius,i,n)}};UR.className="RadialColumnSeries";UR.type="radial-column";var{ThemeConstants:{POLAR_AXIS_TYPE:W5,POLAR_AXIS_SHAPE:Y5}}=_,_1t={series:{columnWidthRatio:.5,maxColumnWidthRatio:.5,strokeWidth:0,label:{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}}},axes:{[W5.ANGLE_CATEGORY]:{shape:Y5.CIRCLE,groupPaddingInner:0,paddingInner:0,label:{spacing:10}},[W5.RADIUS_NUMBER]:{shape:Y5.CIRCLE,innerRadiusRatio:.5}}},{POLAR_AXIS_TYPE:$5}=_.ThemeConstants,j1t={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radial-column",moduleFactory:t=>new UR(t),tooltipDefaults:{range:"exact"},defaultAxes:[{type:$5.ANGLE_CATEGORY},{type:$5.RADIUS_NUMBER}],themeTemplate:_1t,paletteFactory:({takeColors:t})=>{const{fills:[e],strokes:[i]}=t(1);return{fill:e,stroke:i}},stackable:!0,groupable:!0},{SvgPath:F1t,Rotatable:G1t,Translatable:V1t,Scalable:U1t}=_,JL=class extends G1t(U1t(V1t(F1t))){constructor(){super(...arguments),this.scalingCenterX=.5,this.scalingCenterY=.5,this.rotationCenterX=.5,this.rotationCenterY=.5}};JL.defaultPathData="M0.50245 0.53745C0.481767 0.53745 0.465 0.520683 0.465 0.5C0.465 0.479317 0.481767 0.46255 0.50245 0.46255L1 0.500012L0.50245 0.53745Z";var{BaseProperties:SI,SeriesTooltip:H1t,SeriesProperties:W1t,PropertiesArray:HR,Validate:Pt,BOOLEAN:B9,COLOR_STRING:Jc,COLOR_STRING_ARRAY:Y1t,FUNCTION:$1t,LINE_DASH:MI,NUMBER:Tp,OBJECT_ARRAY:WR,OBJECT:tu,POSITIVE_NUMBER:Zo,RATIO:Or,STRING:YR,UNION:K1t,Label:X1t}=_,Z1t=K1t(["inside","outside","middle"],"a placement"),z9=class extends X1t{};A([Pt(Tp,{optional:!0})],z9.prototype,"spacing");var hs=class extends SI{constructor(){super(...arguments),this.label=new z9}};A([Pt(YR,{optional:!0})],hs.prototype,"text");A([Pt(Tp,{optional:!0})],hs.prototype,"value");A([Pt(HK,{optional:!0})],hs.prototype,"shape");A([Pt(Z1t,{optional:!0})],hs.prototype,"placement");A([Pt(Tp,{optional:!0})],hs.prototype,"spacing");A([Pt(Zo,{optional:!0})],hs.prototype,"size");A([Pt(Tp,{optional:!0})],hs.prototype,"rotation");A([Pt(Jc,{optional:!0})],hs.prototype,"fill");A([Pt(Or,{optional:!0})],hs.prototype,"fillOpacity");A([Pt(Jc,{optional:!0})],hs.prototype,"stroke");A([Pt(Zo,{optional:!0})],hs.prototype,"strokeWidth");A([Pt(Or,{optional:!0})],hs.prototype,"strokeOpacity");A([Pt(MI,{optional:!0})],hs.prototype,"lineDash");A([Pt(Zo,{optional:!0})],hs.prototype,"lineDashOffset");A([Pt(tu)],hs.prototype,"label");var Rr=class extends SI{constructor(){super(...arguments),this.enabled=!0,this.fills=new HR(_.StopProperties),this.fillMode="continuous",this.fillOpacity=1,this.stroke="black",this.strokeWidth=0,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0}};A([Pt(B9)],Rr.prototype,"enabled");A([Pt(WR)],Rr.prototype,"fills");A([Pt(cI)],Rr.prototype,"fillMode");A([Pt(Jc,{optional:!0})],Rr.prototype,"fill");A([Pt(Or)],Rr.prototype,"fillOpacity");A([Pt(Jc,{optional:!0})],Rr.prototype,"stroke");A([Pt(Zo,{optional:!0})],Rr.prototype,"strokeWidth");A([Pt(Or)],Rr.prototype,"strokeOpacity");A([Pt(MI)],Rr.prototype,"lineDash");A([Pt(Zo)],Rr.prototype,"lineDashOffset");var Pr=class extends SI{constructor(){super(...arguments),this.fills=new HR(_.StopProperties),this.fillMode="continuous",this.fillOpacity=1,this.stroke="black",this.strokeWidth=0,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.defaultFill="black"}};A([Pt(WR)],Pr.prototype,"fills");A([Pt(cI)],Pr.prototype,"fillMode");A([Pt(Jc,{optional:!0})],Pr.prototype,"fill");A([Pt(Or)],Pr.prototype,"fillOpacity");A([Pt(Jc)],Pr.prototype,"stroke");A([Pt(Zo)],Pr.prototype,"strokeWidth");A([Pt(Or)],Pr.prototype,"strokeOpacity");A([Pt(MI)],Pr.prototype,"lineDash");A([Pt(Zo)],Pr.prototype,"lineDashOffset");A([Pt(Jc)],Pr.prototype,"defaultFill");var Br=class extends SI{constructor(){super(...arguments),this.enabled=!0,this.spacing=0,this.fill="black",this.fillOpacity=1,this.stroke="black",this.strokeWidth=0,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0}};A([Pt(B9)],Br.prototype,"enabled");A([Pt(Or,{optional:!0})],Br.prototype,"radiusRatio");A([Pt(Tp)],Br.prototype,"spacing");A([Pt(Jc)],Br.prototype,"fill");A([Pt(Or)],Br.prototype,"fillOpacity");A([Pt(Jc)],Br.prototype,"stroke");A([Pt(Zo)],Br.prototype,"strokeWidth");A([Pt(Or)],Br.prototype,"strokeOpacity");A([Pt(MI)],Br.prototype,"lineDash");A([Pt(Zo)],Br.prototype,"lineDashOffset");var _9=class extends gl{};A([Pt(YR,{optional:!0})],_9.prototype,"text");var j9=class extends uv{};A([Pt(YR,{optional:!0})],j9.prototype,"text");var In=class extends W1t{constructor(){super(...arguments),this.segmentation=new hv,this.defaultColorRange=[],this.targets=new HR(hs),this.defaultTarget=new hs,this.outerRadiusRatio=1,this.innerRadiusRatio=1,this.cornerRadius=0,this.cornerMode="container",this.spacing=0,this.scale=new Pr,this.bar=new Rr,this.needle=new Br,this.label=new _9,this.secondaryLabel=new j9,this.tooltip=new H1t}isValid(t){if(!super.isValid(t))return!1;const{outerRadius:e,innerRadius:i}=this;return e==null!=(i==null)?(Me.warnOnce("Either [innerRadius] and [outerRadius] must both be set, or neither can be set."),!1):!0}};A([Pt(Tp)],In.prototype,"value");A([Pt(tu)],In.prototype,"segmentation");A([Pt(Y1t)],In.prototype,"defaultColorRange");A([Pt(WR)],In.prototype,"targets");A([Pt(tu)],In.prototype,"defaultTarget");A([Pt(Or)],In.prototype,"outerRadiusRatio");A([Pt(Or)],In.prototype,"innerRadiusRatio");A([Pt(Zo,{optional:!0})],In.prototype,"outerRadius");A([Pt(Zo,{optional:!0})],In.prototype,"innerRadius");A([Pt(Zo)],In.prototype,"cornerRadius");A([Pt(WK)],In.prototype,"cornerMode");A([Pt(Tp)],In.prototype,"spacing");A([Pt(tu)],In.prototype,"scale");A([Pt(tu)],In.prototype,"bar");A([Pt(tu)],In.prototype,"needle");A([Pt($1t,{optional:!0})],In.prototype,"itemStyler");A([Pt(tu)],In.prototype,"label");A([Pt(tu)],In.prototype,"secondaryLabel");A([Pt(tu)],In.prototype,"tooltip");var{SectorBox:$R}=_;function q1t(t){const{startAngle:e,endAngle:i,clipStartAngle:n,clipEndAngle:s,innerRadius:a,outerRadius:o}=t;if(!(n==null||s==null))return new $R(Math.max(n,e),Math.min(s,i),a,o)}function F9(t,e,i){return Math.max(t,i.startAngle)<=Math.min(e,i.endAngle)}function Mk(t){return t.clipStartAngle!=null&&t.clipEndAngle!=null}function Ak(t,e){const{clipStartAngle:i,clipEndAngle:n,innerRadius:s,outerRadius:a}=t;return new $R(i,e?i:n,s,a)}function K5(t,e){const i=t?"initial":"update";return{node:{fromFn(a,o){const r=a.previousDatum;let{startAngle:l,endAngle:c}=r??o;const h=r!=null&&Mk(r)?Ak(r,t):void 0,p=Mk(o)?Ak(o,t):void 0;let f;return h!=null&&p!=null?f=h:h==null&&p!=null?(f=p,l=o.startAngle,c=o.endAngle):h!=null&&p==null?(f=void 0,l=o.startAngle,c=o.endAngle):t&&(c=l),{startAngle:l,endAngle:c,clipSector:f,phase:i}},toFn(a,o){const{startAngle:r,endAngle:l}=o;let c;return Mk(o)&&(c=Ak(o,!1)),{startAngle:r,endAngle:l,clipSector:c}},applyFn(a,o){const{startAngle:r,endAngle:l}=o;let{clipSector:c}=o;c!=null&&(c=new $R(Math.max(r,c.startAngle),Math.min(l,c.endAngle),c.innerRadius,c.outerRadius));const h=c==null||F9(r,l,c);a.startAngle=r,a.endAngle=l,a.clipSector=c,a.visible=h}},needle:{fromFn(a){let{angle:o}=a.previousDatum??a.datum;return t&&(o=e),{rotation:o,phase:i}},toFn(a,o){const{angle:r}=o;return{rotation:r}}}}}function Dk(t,e){const{startAngle:i,endAngle:n}=e,s=q1t(e),a=s==null||F9(i,n,s);return{startAngle:i,endAngle:n,clipSector:s,visible:a}}function X5(t,e){const{angle:i}=e;return{rotation:i}}var Q1t={top:0,middle:.5,bottom:1};function J1t(t,e,i,n,s){const{padding:a,textAlign:o,verticalAlign:r}=i;let l,c;if(e.each((T,k)=>{k.label==="primary"?l=k:k.label==="secondary"&&(c=k)}),l==null)return;const h=eb(t,l,s==null?void 0:s.label);if(h==null)return;const p=c!=null?eb(t,c,s==null?void 0:s.secondaryLabel):void 0,f={padding:a},y=o==="center"?2:1,m=r==="middle"?2:1,b=T=>({width:Math.sqrt(Math.max(n**2-(T/m)**2,0))*y,height:Math.min(T,m*n),meta:null});let S,v,D;if(c!=null&&p!=null){const T=OK(h,l,p,c,f,b);S=T==null?void 0:T.label,v=T==null?void 0:T.secondaryLabel,D=(T==null?void 0:T.height)??0}else{const T=tb(h,l,f,b);S=T==null?void 0:T[0],v=void 0,D=(T==null?void 0:T[0].height)??0}const I=D*Q1t[r];e.each((T,k)=>{let E;if(k.label==="primary"?E=S:k.label==="secondary"&&(E=v),E==null){T.visible=!1;return}T.visible=!0,T.text=E.text,T.fontSize=E.fontSize,T.lineHeight=E.lineHeight,T.textAlign=o,T.textBaseline="middle";const w=k.label==="primary"?E.height/2:D-E.height/2;T.y=k.centerY+w-I,T.x=k.centerX})}var{fromToMotion:Fm,resetMotion:Z5,SeriesNodePickMode:q5,StateMachine:tkt,createDatumId:Ik,ChartAxisDirection:Pu,normalizeAngle360:Q5,normalizeAngle360Inclusive:J5,toDegrees:ekt,toRadians:ikt,BBox:nkt,Group:Dd,PointerEvents:skt,Selection:Id,Sector:akt,SectorBox:okt,Text:tG,ConicGradient:rkt,Marker:lkt,getColorStops:ckt}=_,ukt={inside:90,middle:0,outside:-90},hkt=[{textAlign:"left",textBaseline:"top"},{textAlign:"right",textBaseline:"top"},{textAlign:"right",textBaseline:"bottom"},{textAlign:"left",textBaseline:"bottom"}],dkt=[{textAlign:"right",textBaseline:"bottom"},{textAlign:"left",textBaseline:"bottom"},{textAlign:"left",textBaseline:"top"},{textAlign:"right",textBaseline:"top"}],KR=class extends _.Series{constructor(t){super({moduleCtx:t,useLabelLayer:!0,pickModes:[q5.EXACT_SHAPE_MATCH,q5.NEAREST_NODE]}),this.canHaveAxes=!0,this.properties=new In,this.centerX=0,this.centerY=0,this.radius=0,this.textAlign="center",this.verticalAlign="middle",this.scaleGroup=this.contentGroup.appendChild(new Dd({name:"scaleGroup"})),this.itemGroup=this.contentGroup.appendChild(new Dd({name:"itemGroup"})),this.itemNeedleGroup=this.contentGroup.appendChild(new Dd({name:"itemNeedleGroup"})),this.itemTargetGroup=this.contentGroup.appendChild(new Dd({name:"itemTargetGroup"})),this.itemTargetLabelGroup=this.contentGroup.appendChild(new Dd({name:"itemTargetLabelGroup"})),this.itemLabelGroup=this.contentGroup.appendChild(new Dd({name:"itemLabelGroup"})),this.highlightTargetGroup=this.highlightGroup.appendChild(new Dd({name:"itemTargetLabelGroup"})),this.scaleSelection=Id.select(this.scaleGroup,()=>this.nodeFactory()),this.datumSelection=Id.select(this.itemGroup,()=>this.nodeFactory()),this.needleSelection=Id.select(this.itemNeedleGroup,JL),this.targetSelection=Id.select(this.itemTargetGroup,()=>this.markerFactory()),this.targetLabelSelection=Id.select(this.itemTargetLabelGroup,tG),this.labelSelection=Id.select(this.itemLabelGroup,tG),this.highlightTargetSelection=Id.select(this.highlightTargetGroup,()=>this.markerFactory()),this.datumUnion=new _K,this.animationState=new tkt("empty",{empty:{update:{target:"ready",action:()=>this.animateEmptyUpdateReady()},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",resize:()=>this.animateReadyResize(),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:()=>this.animateWaitingUpdateReady()},reset:"empty",skip:"ready"},clearing:{update:{target:"empty"},reset:"empty",skip:"ready"}}),this.scaleGroup.pointerEvents=skt.None}get maximumRadius(){return this.properties.outerRadius}get minimumRadius(){return this.properties.outerRadius}get hasData(){return this.properties.value!=null}nodeFactory(){return new akt}markerFactory(){const t=new lkt;return t.size=1,t}processData(){this.nodeDataRefresh=!0,this.animationState.transition("updateData")}formatLabel(t){return FK(t,this.axes[Pu.X])}createConicGradient(t,e){const{centerX:i,centerY:n,radius:s}=this,{domain:a,range:o}=this.axes[Pu.X].scale,[r,l]=o,{defaultColorRange:c}=this.properties,h=Q5((r+l)/2+Math.PI),p=J5(l-r),f=ckt(t,c,a,e).map(({color:y,offset:m})=>(m=Math.min(Math.max(m,0),1),m=(r+p*m-h)/(2*Math.PI),m=(m%1+1)%1,{offset:m,color:y}));return new rkt("oklch",f,ekt(h)-90,new nkt(i-s,n-s,2*s,2*s))}getTargets(){const{properties:t}=this,e=t.defaultTarget;return Array.from(t.targets).map(i=>{const{text:n=e.text,value:s=e.value??0,shape:a=e.shape??"triangle",rotation:o=e.rotation??0,strokeWidth:r=e.strokeWidth??0,placement:l=e.placement??"middle",spacing:c=e.spacing??0,size:h=e.size??0,fill:p=e.fill??"black",fillOpacity:f=e.fillOpacity??1,stroke:y=e.stroke??"black",strokeOpacity:m=e.strokeOpacity??1,lineDash:b=e.lineDash??[0],lineDashOffset:S=e.lineDashOffset??0}=i,{enabled:v=e.label.enabled,color:D=e.label.color??"black",fontStyle:I=e.label.fontStyle??"normal",fontWeight:T=e.label.fontWeight??"normal",fontSize:k=e.label.fontSize,fontFamily:E=e.label.fontFamily,spacing:w=e.label.spacing??0}=i.label;return{text:n,value:s,shape:a,placement:l,spacing:c,size:h,rotation:o,fill:p,fillOpacity:f,stroke:y,strokeWidth:r,strokeOpacity:m,lineDash:b,lineDashOffset:S,label:{enabled:v,color:D,fontStyle:I,fontWeight:T,fontSize:k,fontFamily:E,spacing:w}}})}getTargetRadius(t){const{radius:e,properties:i}=this,{innerRadiusRatio:n,outerRadiusRatio:s}=i,{placement:a,spacing:o,size:r}=t,l=e*s,c=e*n;switch(a){case"inside":return Math.max(c-o-r/2,0);case"outside":return l+o+r/2;default:return(c+l)/2}}getTargetLabel(t){const i=this.axes[Pu.X].scale,{value:n,size:s,placement:a,label:o}=t,{spacing:r,color:l,fontStyle:c,fontWeight:h,fontSize:p,fontFamily:f}=o,y=void 0,m=i.convert(n),b=Q5(m)/(Math.PI/2)|0,S=s/2+r;let v,D,I,T;switch(a){case"outside":({textAlign:v,textBaseline:D}=hkt[b]),I=S*Math.cos(m),T=S*Math.sin(m);break;case"inside":({textAlign:v,textBaseline:D}=dkt[b]),I=-S*Math.cos(m),T=-S*Math.sin(m);break;default:v="center",D="bottom",I=0,T=-S;break}return{offsetX:I,offsetY:T,fill:l,textAlign:v,textBaseline:D,fontStyle:c,fontWeight:h,fontSize:p,fontFamily:f,lineHeight:y}}createNodeData(){const{id:t,properties:e,radius:i,centerX:n,centerY:s}=this;if(!e.isValid())return;const a=this.axes[Pu.X];if(a==null)return;const{value:o,innerRadiusRatio:r,outerRadiusRatio:l,segmentation:c,cornerRadius:h,cornerMode:p,needle:f,bar:y,scale:m,label:b,secondaryLabel:S}=e,{outerRadius:v=i*l,innerRadius:D=i*r}=e,I=this.getTargets(),{domain:T}=a.scale,k=[],E=[],w=[],R=[],O=[],[L,F]=a.range,z=a.scale,V=p==="item",H=z.convert(T[0]),W=z.convert(o),G=Math.ceil(J5(W-H)*i);let $=c.enabled?c.interval.getSegments(a.scale,G):void 0;const K=y.enabled?y.fill??this.createConicGradient(y.fills,y.fillMode):"rgba(0,0,0,0)",X=m.fill??(y.enabled&&m.fills.length===0?m.defaultFill:void 0)??this.createConicGradient(m.fills,m.fillMode);if($==null&&V){const[j,U]=T,Z={value:o,segmentStart:j,segmentEnd:U},J=Math.min(h,(v-D)/2)/((D+v)/2);k.push({series:this,itemId:"value",datum:Z,datumIndex:{type:0},type:0,centerX:n,centerY:s,outerRadius:v,innerRadius:D,startAngle:H-J,endAngle:W+J,clipStartAngle:void 0,clipEndAngle:void 0,startCornerRadius:h,endCornerRadius:h,fill:K}),O.push({series:this,itemId:"scale",datum:Z,datumIndex:{type:0},type:0,centerX:n,centerY:s,outerRadius:v,innerRadius:D,startAngle:L-J,endAngle:F+J,clipStartAngle:void 0,clipEndAngle:void 0,startCornerRadius:h,endCornerRadius:h,fill:X})}else{$??($=T);for(let j=0;j<$.length-1;j++){const U=$[j],Z=$[j+1],tt={value:o,segmentStart:U,segmentEnd:Z},J=j===0,nt=j===$.length-2,at=z.convert(U),lt=z.convert(Z);k.push({series:this,itemId:`value-${j}`,datum:tt,datumIndex:{type:0},type:0,centerX:n,centerY:s,outerRadius:v,innerRadius:D,startAngle:at,endAngle:lt,clipStartAngle:H,clipEndAngle:W,startCornerRadius:V||J?h:0,endCornerRadius:V||nt?h:0,fill:K}),O.push({series:this,itemId:`scale-${j}`,datum:tt,datumIndex:{type:0},type:0,centerX:n,centerY:s,outerRadius:v,innerRadius:D,startAngle:at,endAngle:lt,clipStartAngle:void 0,clipEndAngle:void 0,startCornerRadius:V||J?h:0,endCornerRadius:V||nt?h:0,fill:X})}}if(!f.enabled&&b.enabled){const{text:j,color:U,fontSize:Z,minimumFontSize:tt,fontStyle:J,fontWeight:nt,fontFamily:at,lineHeight:lt,formatter:ut=pt=>this.formatLabel(pt.value)}=b;R.push({label:"primary",centerX:n,centerY:s,text:j,value:o,fill:U,fontSize:Z,minimumFontSize:tt,fontStyle:J,fontWeight:nt,fontFamily:at,lineHeight:lt,formatter:ut})}if(!f.enabled&&S.enabled){const{text:j,color:U,fontSize:Z,minimumFontSize:tt,fontStyle:J,fontWeight:nt,fontFamily:at,lineHeight:lt,formatter:ut}=S;R.push({label:"secondary",centerX:n,centerY:s,text:j,value:o,fill:U,fontSize:Z,minimumFontSize:tt,fontStyle:J,fontWeight:nt,fontFamily:at,lineHeight:lt,formatter:ut})}if(f.enabled){let j=f.radiusRatio!=null?i*f.radiusRatio:D;j=Math.max(j-f.spacing,0);const U=z.convert(o);w.push({centerX:n,centerY:s,radius:j,angle:U,series:this})}for(let j=0;j<I.length;j+=1){const U=I[j],{value:Z,text:tt,size:J,shape:nt,fill:at,fillOpacity:lt,stroke:ut,strokeWidth:pt,strokeOpacity:ot,lineDash:ft,lineDashOffset:ct}=U;if(Z<Math.min(...T)||Z>Math.max(...T))continue;const bt=this.getTargetRadius(U),St=z.convert(Z),xt=ikt(U.rotation+ukt[U.placement]);E.push({series:this,itemId:`target-${j}`,midPoint:{x:bt*Math.cos(St)+n,y:bt*Math.sin(St)+s},datum:{value:Z},datumIndex:{type:1,index:j},type:1,value:Z,text:tt,centerX:n,centerY:s,shape:nt,radius:bt,angle:St,rotation:xt,size:J,fill:at,fillOpacity:lt,stroke:ut,strokeOpacity:ot,strokeWidth:pt,lineDash:ft,lineDashOffset:ct,label:this.getTargetLabel(U)})}return{itemId:t,nodeData:k,needleData:w,targetData:E,labelData:R,scaleData:O}}updateSelections(t){(this.nodeDataRefresh||t)&&(this.contextNodeData=this.createNodeData(),this.nodeDataRefresh=!1)}highlightDatum(t){if(t!=null&&t.series===this&&t.type===1)return t}update({seriesRect:t}){var b,S,v,D,I;const{datumSelection:e,labelSelection:i,needleSelection:n,targetSelection:s,targetLabelSelection:a,scaleSelection:o,highlightTargetSelection:r}=this,l=this.checkResize(t);this.updateSelections(l),this.contentGroup.visible=this.visible,this.contentGroup.opacity=this.getOpacity();const c=((b=this.contextNodeData)==null?void 0:b.nodeData)??[],h=((S=this.contextNodeData)==null?void 0:S.labelData)??[],p=((v=this.contextNodeData)==null?void 0:v.needleData)??[],f=((D=this.contextNodeData)==null?void 0:D.targetData)??[],y=((I=this.contextNodeData)==null?void 0:I.scaleData)??[],m=this.highlightDatum(this.ctx.highlightManager.getActiveHighlight());this.scaleSelection=this.updateScaleSelection({scaleData:y,scaleSelection:o}),this.updateScaleNodes({scaleSelection:o}),this.needleSelection=this.updateNeedleSelection({needleData:p,needleSelection:n}),this.updateNeedleNodes({needleSelection:n}),this.targetSelection=this.updateTargetSelection({targetData:f,targetSelection:s}),this.updateTargetNodes({targetSelection:s,isHighlight:!1}),this.targetLabelSelection=this.updateTargetLabelSelection({targetData:f,targetLabelSelection:a}),this.updateTargetLabelNodes({targetLabelSelection:a}),this.datumSelection=this.updateDatumSelection({nodeData:c,datumSelection:e}),this.updateDatumNodes({datumSelection:e}),this.labelSelection=this.updateLabelSelection({labelData:h,labelSelection:i}),this.updateLabelNodes({labelSelection:i}),this.highlightTargetSelection=this.updateTargetSelection({targetData:m!=null?[m]:[],targetSelection:r}),this.updateTargetNodes({targetSelection:r,isHighlight:!0}),l&&this.animationState.transition("resize"),this.animationState.transition("update")}updateDatumSelection(t){return t.datumSelection.update(t.nodeData,void 0,e=>Ik(t.nodeData.length,e.itemId))}updateDatumNodes(t){const{datumSelection:e}=t,{ctx:i,properties:n}=this,{bar:s,segmentation:a}=n,o=a.spacing??0,{fillOpacity:r,stroke:l,strokeOpacity:c,lineDash:h,lineDashOffset:p}=s,f=this.getStrokeWidth(s.strokeWidth),y=i.animationManager.isSkipped();e.each((m,b)=>{const{centerX:S,centerY:v,innerRadius:D,outerRadius:I,startCornerRadius:T,endCornerRadius:k,fill:E}=b;m.centerX=S,m.centerY=v,m.innerRadius=D,m.outerRadius=I,m.pointerEvents=this.properties.bar.enabled?_.PointerEvents.All:_.PointerEvents.None,m.fill=E,m.fillOpacity=r,m.stroke=l,m.strokeOpacity=c,m.strokeWidth=f,m.lineDash=h,m.lineDashOffset=p,m.startOuterCornerRadius=T,m.startInnerCornerRadius=T,m.endOuterCornerRadius=k,m.endInnerCornerRadius=k,m.radialEdgeInset=(o+m.strokeWidth)/2,m.concentricEdgeInset=m.strokeWidth/2,(y||m.previousDatum==null)&&m.setProperties(Dk(m,b))}),this.datumUnion.update(e,this.itemGroup,_.Sector,(m,b,S)=>{var v;m.clipSector??(m.clipSector=new okt(NaN,NaN,NaN,NaN)),m.centerX=b.centerX,m.centerY=b.centerY,m.outerRadius=m.clipSector.outerRadius=b.outerRadius,m.innerRadius=m.clipSector.innerRadius=b.innerRadius,m.startAngle=m.clipSector.startAngle=b.startAngle,m.startInnerCornerRadius=b.startInnerCornerRadius,m.startOuterCornerRadius=b.startOuterCornerRadius,m.endAngle=S.endAngle,m.clipSector.endAngle=((v=S.clipSector)==null?void 0:v.endAngle)??S.endAngle,m.endInnerCornerRadius=S.endInnerCornerRadius,m.endOuterCornerRadius=S.endOuterCornerRadius,m.pointerEvents=_.PointerEvents.None})}updateScaleSelection(t){return t.scaleSelection.update(t.scaleData,void 0,e=>Ik(t.scaleData.length,e.itemId))}updateScaleNodes(t){const{scaleSelection:e}=t,{scale:i,segmentation:n}=this.properties,s=n.spacing??0,{fillOpacity:a,stroke:o,strokeOpacity:r,strokeWidth:l,lineDash:c,lineDashOffset:h}=i;e.each((p,f)=>{const{centerX:y,centerY:m,innerRadius:b,outerRadius:S,startCornerRadius:v,endCornerRadius:D,fill:I}=f;p.centerX=y,p.centerY=m,p.innerRadius=b,p.outerRadius=S,p.fill=I,p.fillOpacity=a,p.stroke=o,p.strokeOpacity=r,p.strokeWidth=l,p.lineDash=c,p.lineDashOffset=h,p.startOuterCornerRadius=v,p.startInnerCornerRadius=v,p.endOuterCornerRadius=D,p.endInnerCornerRadius=D,p.radialEdgeInset=(s+p.strokeWidth)/2,p.concentricEdgeInset=p.strokeWidth/2,p.setProperties(Dk(p,f))})}updateNeedleSelection(t){return t.needleSelection.update(t.needleData,void 0,()=>Ik([]))}updateNeedleNodes(t){const{needleSelection:e}=t,{fill:i,fillOpacity:n,stroke:s,strokeOpacity:a,strokeWidth:o,lineDash:r,lineDashOffset:l}=this.properties.needle,c=this.ctx.animationManager.isSkipped();e.each((h,p)=>{const{centerX:f,centerY:y,radius:m}=p,b=m*2;h.d=JL.defaultPathData,h.fill=i,h.fillOpacity=n,h.stroke=s,h.strokeOpacity=a,h.strokeWidth=o/b,h.lineDash=r.map(S=>S/b),h.lineDashOffset=l/b,h.translationX=f,h.translationY=y,h.scalingX=b,h.scalingY=b,c&&h.setProperties(X5(h,p))})}updateTargetSelection(t){return t.targetSelection.update(t.targetData,void 0,e=>e.itemId)}updateTargetNodes(t){const{targetSelection:e,isHighlight:i}=t,n=i?this.properties.highlightStyle.item:void 0;e.each((s,a)=>{const{centerX:o,centerY:r,angle:l,radius:c,shape:h,size:p,rotation:f,fill:y,fillOpacity:m,stroke:b,strokeOpacity:S,strokeWidth:v,lineDash:D,lineDashOffset:I}=a;s.shape=h==="line"?GK:h,s.size=p,s.fill=(n==null?void 0:n.fill)??y,s.fillOpacity=(n==null?void 0:n.fillOpacity)??m,s.stroke=(n==null?void 0:n.stroke)??b,s.strokeOpacity=(n==null?void 0:n.strokeOpacity)??S,s.strokeWidth=(n==null?void 0:n.strokeWidth)??v,s.lineDash=(n==null?void 0:n.lineDash)??D,s.lineDashOffset=(n==null?void 0:n.lineDashOffset)??I,s.translationX=o+c*Math.cos(l),s.translationY=r+c*Math.sin(l),s.rotation=l+f})}updateTargetLabelSelection(t){return t.targetLabelSelection.update(t.targetData,void 0,e=>e.itemId)}updateTargetLabelNodes(t){const{targetLabelSelection:e}=t;e.each((i,n)=>{const{centerX:s,centerY:a,radius:o,angle:r,text:l}=n,{offsetX:c,offsetY:h,fill:p,fontStyle:f,fontWeight:y,fontSize:m,fontFamily:b,textAlign:S,textBaseline:v}=n.label;if(l==null){i.visible=!1;return}i.visible=!0,i.x=s+o*Math.cos(r)+c,i.y=a+o*Math.sin(r)+h,i.text=l,i.fill=p,i.fontStyle=f,i.fontWeight=y,i.fontSize=m,i.fontFamily=b,i.textAlign=S,i.textBaseline=v})}updateLabelSelection(t){return t.labelSelection.update(t.labelData,void 0,e=>e.label)}updateLabelNodes(t){const{labelSelection:e}=t,i=this.ctx.animationManager.isSkipped();e.each((n,s)=>{n.fill=s.fill,n.fontStyle=s.fontStyle,n.fontWeight=s.fontWeight,n.fontFamily=s.fontFamily}),(i||this.labelsHaveExplicitText())&&this.formatLabelText()}labelsHaveExplicitText(){for(const{datum:t}of this.labelSelection)if(t.text==null)return!1;return!0}formatLabelText(t){if(this.axes[Pu.X]==null)return;const{labelSelection:i,radius:n,textAlign:s,verticalAlign:a}=this,{spacing:o,innerRadiusRatio:r}=this.properties;J1t(this,i,{padding:o,textAlign:s,verticalAlign:a},n*r,t)}resetAllAnimation(){this.ctx.animationManager.stopByAnimationGroupId(this.id),Z5([this.datumSelection],Dk),Z5([this.needleSelection],X5),this.formatLabelText()}resetAnimation(t){t==="initial"?this.animationState.transition("reset"):t==="ready"&&this.animationState.transition("skip")}animateLabelText(t={}){const{animationManager:e}=this.ctx;let i,n,s,a;if(this.labelSelection.each((o,r)=>{var l,c;o.opacity=1,r.label==="primary"?(i=((l=o.previousDatum)==null?void 0:l.value)??t.from??r.value,n=r.value):r.label==="secondary"&&(s=((c=o.previousDatum)==null?void 0:c.value)??t.from??r.value,a=r.value)}),!this.labelsHaveExplicitText())if(n==null||a==null)this.formatLabelText();else if(i===n&&s===a)this.formatLabelText({label:n,secondaryLabel:a});else{const o=`${this.id}_labels`;e.animate({id:o,groupId:"label",from:{label:i,secondaryLabel:s},to:{label:n,secondaryLabel:a},phase:t.phase??"update",onUpdate:r=>this.formatLabelText(r)})}}animateEmptyUpdateReady(){var n,s;const{animationManager:t}=this.ctx,{node:e,needle:i}=K5(!0,((n=this.axes[Pu.X])==null?void 0:n.range[0])??0);Fm(this.id,"node",t,[this.datumSelection],e,(a,o)=>o.itemId),Fm(this.id,"needle",t,[this.needleSelection],i,()=>"needle"),Fm(this.id,"label",t,[this.labelSelection],jK,(a,o)=>o.label),this.animateLabelText({from:((s=this.axes[Pu.X])==null?void 0:s.scale.domain[0])??0,phase:"initial"})}animateWaitingUpdateReady(){var n;const{animationManager:t}=this.ctx,{node:e,needle:i}=K5(!1,((n=this.axes[Pu.X])==null?void 0:n.range[0])??0);Fm(this.id,"node",t,[this.datumSelection],e,(s,a)=>a.itemId),Fm(this.id,"needle",t,[this.needleSelection],i,()=>"needle"),this.animateLabelText()}animateReadyResize(){this.resetAllAnimation()}getSeriesDomain(){return[NaN,NaN]}getSeriesRange(t,e){return[NaN,NaN]}getLegendData(){return[]}getTooltipContent(t){const{id:e,properties:i}=this,{tooltip:n}=i;if(!i.isValid())return;const{value:s=i.value,text:a=i.label.text}=YK(t);return n.formatTooltip({data:[{label:a,fallbackLabel:"Value",value:this.formatLabel(s)}]},{seriesId:e,title:void 0,datum:void 0,value:s})}pickNodeClosestDatum(t){return VK(this,t)}pickFocus(t){return UK(this,t)}getCaptionText(){const{value:t}=this.properties,e=[];return e.push(this.formatLabel(t)),this.labelSelection.each((i,n)=>{const s=eb(this,n);s!=null&&e.push(s)}),e.join(". ")}};KR.className="RadialGaugeSeries";KR.type="radial-gauge";var{FONT_SIZE_RATIO:pkt,ThemeSymbols:{DEFAULT_HIERARCHY_FILLS:fkt,DEFAULT_GAUGE_SERIES_COLOR_RANGE:gkt},ThemeConstants:{POLAR_AXIS_TYPE:Tk}}=_,ykt={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["gauge"],identifier:"radial-gauge",moduleFactory:t=>new KR(t),tooltipDefaults:{range:10},defaultAxes:[{type:Tk.ANGLE_NUMBER,line:{enabled:!1}},{type:Tk.RADIUS_NUMBER,line:{enabled:!1}}],themeTemplate:{minWidth:200,minHeight:200,tooltip:{enabled:!1},series:{outerRadiusRatio:1,innerRadiusRatio:.8,bar:{strokeWidth:0},segmentation:{enabled:!1,interval:{},spacing:2},defaultTarget:{fill:{$ref:"foregroundColor"},stroke:{$ref:"foregroundColor"},size:10,shape:"triangle",placement:"outside",spacing:5,label:{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$ref:"textColor"},spacing:5}},needle:{enabled:!1,fill:{$ref:"foregroundColor"},spacing:10},label:{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:56,minimumFontSize:18/56,fontFamily:{$ref:"fontFamily"},color:{$ref:"textColor"}},secondaryLabel:{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:[pkt.LARGE]},minimumFontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$ref:"subtleTextColor"}}},axes:{[Tk.ANGLE_NUMBER]:{startAngle:270,endAngle:450,nice:!1,line:{enabled:!1}}}},paletteFactory(t){const{takeColors:e,colorsCount:i,userPalette:n,themeTemplateParameters:s}=t,{fills:a}=e(i),o=s.get(gkt),r=s.get(fkt),l=n==="inbuilt"?o:[a[0],a[1]];return{scale:{defaultFill:r==null?void 0:r[1],stroke:r==null?void 0:r[2]},defaultColorRange:zK(l)}}},mkt=1e3;function eG(t,e,i,n,s,a){const o=t[a];if(o==null)return!1;const r=JD(o,e,i),l=tI(r,s);return a===n[l+xa]}function iG(t,e,i,n,s,a){const o=t[a];if(o==null)return!1;const r=JD(o,e,i),l=tI(r,s);return a===n[l+ma]}function xkt(t,e,i,n){if(t.length<mkt)return;const[s,a]=Jb(n);let o=Qb(t);const{indexData:r,valueData:l}=tv(t,e,i,s,a,o);let c=[],h=[];for(let f=0;f<t.length;f+=1)eG(t,s,a,r,o,f)&&c.push(f),iG(t,s,a,r,o,f)&&h.push(f);const p=[{maxRange:o,topIndices:c,bottomIndices:h}];for(;o>64;)({maxRange:o}=ev(r,l,o,{inPlace:!0})),c=c.filter(eG.bind(null,t,s,a,r,o)),h=h.filter(iG.bind(null,t,s,a,r,o)),p.push({maxRange:o,topIndices:c,bottomIndices:h});return p.reverse(),p}var{CartesianSeriesProperties:bkt,InterpolationProperties:vkt,SeriesMarker:Skt,SeriesTooltip:Mkt,Validate:Gi,BOOLEAN:Akt,COLOR_STRING:G9,LINE_DASH:Dkt,OBJECT:yv,PLACEMENT:Ikt,POSITIVE_NUMBER:XR,RATIO:V9,STRING:Cp,DropShadow:Tkt,Label:Ckt}=_,ZR=class extends Ckt{constructor(){super(...arguments),this.placement="outside",this.padding=6}};A([Gi(Ikt)],ZR.prototype,"placement");A([Gi(XR)],ZR.prototype,"padding");var on=class extends bkt{constructor(){super(...arguments),this.fill="#99CCFF",this.fillOpacity=1,this.stroke="#99CCFF",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.interpolation=new vkt,this.shadow=new Tkt().set({enabled:!1}),this.marker=new Skt,this.label=new ZR,this.tooltip=new Mkt,this.connectMissingData=!1}};A([Gi(Cp)],on.prototype,"xKey");A([Gi(Cp)],on.prototype,"yLowKey");A([Gi(Cp)],on.prototype,"yHighKey");A([Gi(Cp,{optional:!0})],on.prototype,"xName");A([Gi(Cp,{optional:!0})],on.prototype,"yName");A([Gi(Cp,{optional:!0})],on.prototype,"yLowName");A([Gi(Cp,{optional:!0})],on.prototype,"yHighName");A([Gi(G9)],on.prototype,"fill");A([Gi(V9)],on.prototype,"fillOpacity");A([Gi(G9)],on.prototype,"stroke");A([Gi(XR)],on.prototype,"strokeWidth");A([Gi(V9)],on.prototype,"strokeOpacity");A([Gi(Dkt)],on.prototype,"lineDash");A([Gi(XR)],on.prototype,"lineDashOffset");A([Gi(yv)],on.prototype,"interpolation");A([Gi(yv)],on.prototype,"shadow");A([Gi(yv)],on.prototype,"marker");A([Gi(yv)],on.prototype,"label");A([Gi(yv)],on.prototype,"tooltip");A([Gi(Akt)],on.prototype,"connectMissingData");var{CollapseMode:jS,isScaleValid:nG,pairUpSpans:FS,prepareAreaFillAnimationFns:kkt,plotInterpolatedLinePathStroke:jf,prepareLinePathPropertyAnimation:Lkt,areScalingEqual:sG}=_;function Nkt(t,e,i,n){const s=(l,c)=>{jf(l,c,e.removed),jf(l,c,i.removed)},a=(l,c)=>{jf(l,c,e.moved),jf(l,c,i.moved)},o=(l,c)=>{jf(l,c,e.added),jf(l,c,i.added)},r=Lkt(t,n);return{status:t,path:{addPhaseFn:o,updatePhaseFn:a,removePhaseFn:s},pathProperties:r}}function Ekt(t,e,i){var m,b;const n=((m=t.scales.x)==null?void 0:m.type)==="category",s=((b=e.scales.x)==null?void 0:b.type)==="category";if(n!==s||!nG(t.scales.x)||!nG(e.scales.x))return;let a="updated";e.visible&&!t.visible?a="removed":!e.visible&&t.visible&&(a="added");const o=FS({scales:t.scales,data:t.fillData.spans},{scales:e.scales,data:e.fillData.spans},jS.Split);if(o==null)return;const r=FS({scales:t.scales,data:t.fillData.phantomSpans},{scales:e.scales,data:e.fillData.phantomSpans},jS.Split);if(r==null)return;const l=FS({scales:t.scales,data:t.highStrokeData.spans},{scales:e.scales,data:e.highStrokeData.spans},jS.Split);if(l==null)return;const c=FS({scales:t.scales,data:t.lowStrokeData.spans},{scales:e.scales,data:e.lowStrokeData.spans},jS.Split);if(c==null)return;const h="fade",p=kkt(a,o,r,h),f=Nkt(a,l,c,h),y=((i==null?void 0:i.changed)??!0)||!sG(t.scales.x,e.scales.x)||!sG(t.scales.y,e.scales.y)||a!=="updated";return{status:a,fill:p,stroke:f,hasMotion:y}}var{valueProperty:aG,keyProperty:wkt,ChartAxisDirection:vs,mergeDefaults:Okt,updateLabelNode:Rkt,fixNumericExtent:oG,buildResetPathFn:Pkt,resetLabelFn:Bkt,resetMarkerFn:zkt,resetMarkerPositionFn:rG,pathSwipeInAnimation:_kt,resetMotion:jkt,markerSwipeScaleInAnimation:Fkt,seriesLabelFadeInAnimation:Ck,animationValidation:Gkt,diff:Vkt,updateClipPath:lG,computeMarkerFocusBounds:cG,plotAreaPathFill:Ukt,plotLinePathStroke:uG,interpolatePoints:hG,pathFadeInAnimation:dG,markerFadeInAnimation:pG,fromToMotion:fG,pathMotion:gG,extent:Hkt,createDatumId:Wkt,PointerEvents:kk,Group:Ykt,BBox:$kt,ContinuousScale:Kkt,OrdinalTimeScale:Xkt,findMinMax:Zkt}=_,qkt=class extends _.SeriesNodeEvent{constructor(t,e,i,n){super(t,e,i,n),this.xKey=n.properties.xKey,this.yLowKey=n.properties.yLowKey,this.yHighKey=n.properties.yHighKey}},qR=class extends _.CartesianSeries{constructor(t){super({moduleCtx:t,hasMarkers:!0,pathsPerSeries:["fill","stroke"],pickModes:[_.SeriesNodePickMode.AXIS_ALIGNED],directionKeys:{[vs.X]:["xKey"],[vs.Y]:["yLowKey","yHighKey"]},directionNames:{[vs.X]:["xName"],[vs.Y]:["yLowName","yHighName","yName"]},animationResetFns:{path:Pkt({getVisible:()=>this.visible,getOpacity:()=>this.getOpacity()}),label:Bkt,marker:(e,i)=>({...zkt(e),...rG(e,i)})}}),this.properties=new on,this.NodeEvent=qkt,this.dataAggregationFilters=void 0}async processData(t){var f,y;if(!this.properties.isValid())return;const{xKey:e,yLowKey:i,yHighKey:n}=this.properties,s=(f=this.axes[vs.X])==null?void 0:f.scale,a=(y=this.axes[vs.Y])==null?void 0:y.scale,{xScaleType:o,yScaleType:r}=this.getScaleInformation({xScale:s,yScale:a}),l=[],c=!this.ctx.animationManager.isSkipped();!this.ctx.animationManager.isSkipped()&&this.processedData&&l.push(Vkt(this.id,this.processedData)),c&&l.push(Gkt());const{dataModel:h,processedData:p}=await this.requestDataModel(t,this.data,{props:[wkt(e,o,{id:"xValue"}),aG(i,r,{id:"yLowValue"}),aG(n,r,{id:"yHighValue"}),...l]});this.dataAggregationFilters=this.aggregateData(h,p),this.animationState.transition("updateData")}aggregateData(t,e){const i=this.axes[vs.X];if(i==null||!(Kkt.is(i.scale)||Xkt.is(i.scale)))return;const n=t.resolveKeysById(this,"xValue",e),s=t.resolveColumnById(this,"yHighValue",e),a=t.resolveColumnById(this,"yLowValue",e),{index:o}=t.resolveProcessedDataDefById(this,"xValue"),r=e.domain.keys[o];return xkt(n,s,a,r)}xCoordinateRange(t){const e=this.axes[vs.X].scale.convert(t);return[e,e]}yCoordinateRange(t){const e=this.axes[vs.Y].scale.convert(t[0]);return[e,e]}getSeriesDomain(t){const{processedData:e,dataModel:i}=this;if(!(e&&i))return[];const{domain:{keys:[n]}}=e;if(t===vs.X){const s=i.resolveProcessedDataDefById(this,"xValue");return(s==null?void 0:s.def.type)==="key"&&s.def.valueType==="category"?n:oG(Hkt(n))}else{const s=this.domainForClippedRange(vs.Y,["yHighValue","yLowValue"],"xValue",!0),a=Zkt(s);return oG(a)}}getSeriesRange(t,e){return this.domainForVisibleRange(vs.Y,["yHighValue","yLowValue"],"xValue",e,!0)}createNodeData(){const{data:t,dataModel:e,processedData:i,axes:n}=this,s=n[vs.X],a=n[vs.Y];if(!(t&&s&&a&&e&&i))return;const o=s.scale,r=a.scale,{xKey:l,yLowKey:c,yHighKey:h,connectMissingData:p,marker:f,interpolation:y}=this.properties,m=i.dataSources.get(this.id)??[],b=(o.bandwidth??0)/2,S=e.resolveKeysById(this,"xValue",i),v=e.resolveColumnById(this,"yHighValue",i),D=e.resolveColumnById(this,"yLowValue",i),I=j=>o.convert(S[j])+b,T=[],k=[],E=[],w=(j,U,Z)=>{const tt=m[j],J=S[j];if(J==null)return;const nt=E[E.length-1];if(Number.isFinite(U)&&Number.isFinite(Z)){const at=(bt,St,xt)=>{k.push({index:j,series:this,itemId:bt,datum:tt,datumIndex:j,midPoint:{x:ut,y:xt},yHighValue:U,yLowValue:Z,xValue:J,xKey:l,yLowKey:c,yHighKey:h,point:{x:ut,y:xt,size:ft},enabled:!0});const wt=this.createLabelData({datumIndex:j,point:{x:ut,y:xt},value:St,yLowValue:Z,yHighValue:U,itemId:bt,inverted:lt,datum:tt,series:this});T.push(wt)},lt=Z>U,ut=I(j),pt=r.convert(U),ot=r.convert(Z),{size:ft}=f;at("high",U,pt),at("low",Z,ot);const ct={high:{point:{x:ut,y:pt},xDatum:J,yDatum:U},low:{point:{x:ut,y:ot},xDatum:J,yDatum:Z}};Array.isArray(nt)?nt.push(ct):nt!=null?(nt.skip+=1,E.push([ct])):E.push([ct])}else p||(Array.isArray(nt)||nt==null?E.push({skip:0}):nt.skip+=1)},{dataAggregationFilters:R}=this,[O,L]=o.range,F=L-O,z=R==null?void 0:R.find(j=>j.maxRange>F),V=z==null?void 0:z.topIndices,H=z==null?void 0:z.bottomIndices;let[W,G]=this.visibleRange("xValue",s.range,V);W=Math.max(W-1,0),G=Math.min(G+1,(V==null?void 0:V.length)??S.length),i.input.count<1e3&&(W=0,G=i.input.count);for(let j=W;j<G;j+=1){const U=(V==null?void 0:V[j])??j,Z=(H==null?void 0:H[j])??j;w(U,v[U],D[Z])}const $=E.flatMap(j=>{if(!Array.isArray(j))return[];const U=j.map(Z=>Z.high);return hG(U,y)}),K=E.flatMap(j=>{if(!Array.isArray(j))return[];const U=j.map(Z=>Z.low);return hG(U,y)});return{itemId:`${c}-${h}`,labelData:T,nodeData:k,fillData:{itemId:"high",spans:$,phantomSpans:K},highStrokeData:{itemId:"high",spans:$},lowStrokeData:{itemId:"low",spans:K},scales:this.calculateScaling(),visible:this.visible}}createLabelData({datumIndex:t,point:e,value:i,itemId:n,inverted:s,datum:a,series:o}){const{xKey:r,yLowKey:l,yHighKey:c,xName:h,yName:p,yLowName:f,yHighName:y,label:m}=this.properties,{placement:b,padding:S=10}=m;let v=n;s&&(v=n==="low"?"high":"low");const D=b==="outside"&&v==="high"||b==="inside"&&v==="low"?-1:1;return{x:e.x,y:e.y+S*D,series:o,itemId:n,datum:a,datumIndex:t,text:this.getLabelText(m,{value:i,datum:a,itemId:n,xKey:r,yLowKey:l,yHighKey:c,xName:h,yLowName:f,yHighName:y,yName:p}),textAlign:"center",textBaseline:D===-1?"bottom":"top"}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}updatePathNodes(t){const{opacity:e,visible:i,animationEnabled:n}=t,[s,a]=t.paths,o=this.getStrokeWidth(this.properties.strokeWidth);a.setProperties({fill:void 0,lineCap:"round",lineJoin:"round",pointerEvents:kk.None,stroke:this.properties.stroke,strokeWidth:o,strokeOpacity:this.properties.strokeOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset,opacity:e,visible:i||n}),s.setProperties({stroke:void 0,lineJoin:"round",pointerEvents:kk.None,fill:this.properties.fill,fillOpacity:this.properties.fillOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset,strokeOpacity:this.properties.strokeOpacity,fillShadow:this.properties.shadow,strokeWidth:o,opacity:e,visible:i||n}),lG(this,a),lG(this,s)}updatePaths(t){this.updateAreaPaths(t.paths,t.contextData)}updateAreaPaths(t,e){for(const i of t)i.visible=e.visible;if(e.visible)this.updateFillPath(t,e),this.updateStrokePath(t,e);else for(const i of t)i.path.clear(),i.markDirty()}updateFillPath(t,e){const[i]=t;i.path.clear(),Ukt(i,e.fillData),i.markDirty()}updateStrokePath(t,e){const[,i]=t;i.path.clear(),uG(i,e.highStrokeData.spans),uG(i,e.lowStrokeData.spans),i.markDirty()}updateMarkerSelection(t){const{nodeData:e,markerSelection:i}=t;return this.properties.marker.isDirty()&&(i.clear(),i.cleanup()),i.update(this.properties.marker.enabled?e:[])}getMarkerItemBaseStyle(t){const{properties:e}=this,{marker:i}=e,n=t?e.highlightStyle.item:void 0;return{shape:i.shape,size:i.size,fill:(n==null?void 0:n.fill)??i.fill,fillOpacity:(n==null?void 0:n.fillOpacity)??i.fillOpacity,stroke:(n==null?void 0:n.stroke)??i.stroke,strokeWidth:(n==null?void 0:n.strokeWidth)??this.getStrokeWidth(i.strokeWidth),strokeOpacity:(n==null?void 0:n.strokeOpacity)??i.strokeOpacity,lineDash:(n==null?void 0:n.lineDash)??i.lineDash,lineDashOffset:(n==null?void 0:n.lineDashOffset)??i.lineDashOffset}}getMarkerItemStyleOverrides(t,e,i,n){const{id:s,properties:a}=this,{xKey:o,yHighKey:r,yLowKey:l,marker:c}=a,{itemStyler:h}=c;if(h!=null)return this.cachedDatumCallback(Wkt(t,n?"highlight":"node"),()=>h({seriesId:s,datum:e,xKey:o,yHighKey:r,yLowKey:l,highlighted:n,...i}))}updateMarkerNodes(t){const{markerSelection:e,isHighlight:i}=t,{xKey:n,yLowKey:s,yHighKey:a,marker:o,fill:r,stroke:l,strokeWidth:c,fillOpacity:h,strokeOpacity:p}=this.properties,f=Okt(i&&this.properties.highlightStyle.item,o.getStyle(),{fill:r,fillOpacity:h,stroke:l,strokeWidth:c,strokeOpacity:p});e.each((y,m)=>{this.updateMarkerStyle(y,o,{datum:m,highlighted:i,xKey:n,yHighKey:a,yLowKey:s},f)}),i||this.properties.marker.markClean()}updateLabelSelection(t){const{labelData:e,labelSelection:i}=t;return i.update(e,n=>{n.pointerEvents=kk.None})}updateLabelNodes(t){t.labelSelection.each((e,i)=>{Rkt(e,this.properties.label,i)})}getHighlightLabelData(t,e){const i=t.filter(n=>n.datum===e.datum);return i.length>0?i:void 0}getHighlightData(t,e){const i=t.filter(n=>n.datum===e.datum);return i.length>0?i:void 0}getTooltipContent(t){var w;const{id:e,dataModel:i,processedData:n,axes:s,properties:a}=this,{xName:o,yName:r,yLowKey:l,yLowName:c,xKey:h,yHighKey:p,yHighName:f,tooltip:y}=a,m=s[vs.X],b=s[vs.Y];if(!i||!n||!m||!b)return;const{datumIndex:S}=t,v=(w=n.dataSources.get(this.id))==null?void 0:w[S],D=i.resolveKeysById(this,"xValue",n)[S],I=i.resolveColumnById(this,"yHighValue",n)[S],T=i.resolveColumnById(this,"yLowValue",n)[S];if(D==null)return;const k=this.getMarkerItemBaseStyle(!1);Object.assign(k,this.getMarkerItemStyleOverrides(String(S),S,k,!1));const E=`${b.formatDatum(T)} - ${b.formatDatum(I)}`;return y.formatTooltip({heading:m.formatDatum(D),symbol:this.legendItemSymbol(),data:[{label:r,fallbackLabel:`${c??l} - ${f??p}`,value:E}]},{seriesId:e,datum:v,title:r,itemId:t.itemId,xName:o,yName:r,yLowKey:l,yLowName:c,xKey:h,yHighKey:p,yHighName:f,...k})}legendItemSymbol(){const{fill:t,stroke:e,strokeWidth:i,strokeOpacity:n,lineDash:s,marker:a}=this.properties;return{marker:{shape:a.shape,fill:a.fill??t,stroke:a.stroke??e,fillOpacity:a.fillOpacity,strokeOpacity:a.strokeOpacity,strokeWidth:a.strokeWidth,lineDash:a.lineDash,lineDashOffset:a.lineDashOffset},line:{stroke:e,strokeOpacity:n,strokeWidth:i,lineDash:s}}}getLegendData(t){if(t!=="category")return[];const{id:e,visible:i}=this,{yLowKey:n,yHighKey:s,yName:a,yLowName:o,yHighName:r,showInLegend:l}=this.properties,c=a??`${o??n} - ${r??s}`,h=`${n}-${s}`;return[{legendType:"category",id:e,itemId:h,seriesId:e,enabled:i,label:{text:`${c}`},symbol:this.legendItemSymbol(),hideInLegend:!l}]}isLabelEnabled(){return this.properties.label.enabled}onDataChange(){}nodeFactory(){return new Ykt}animateEmptyUpdateReady(t){const{markerSelection:e,labelSelection:i,contextData:n,paths:s}=t,{animationManager:a}=this.ctx;this.updateAreaPaths(s,n),_kt(this,a,...s),jkt([e],rG),Fkt(this,a,e),Ck(this,"labels",a,i)}animateReadyResize(t){const{contextData:e,paths:i}=t;this.updateAreaPaths(i,e),super.animateReadyResize(t)}animateWaitingUpdateReady(t){var f,y,m;const{animationManager:e}=this.ctx,{markerSelection:i,labelSelection:n,contextData:s,paths:a,previousContextData:o}=t,[r,l]=a;if(r==null&&l==null)return;this.resetMarkerAnimation(t),this.resetLabelAnimation(t);const c=()=>{this.resetPathAnimation(t),this.updateAreaPaths(a,s)},h=()=>{e.skipCurrentBatch(),c()};if(s==null||o==null){c(),pG(this,e,"added",i),dG(this,"fill_path_properties",e,"add",r),dG(this,"stroke_path_properties",e,"add",l),Ck(this,"labels",e,n);return}const p=Ekt(s,o,(m=(y=(f=this.processedData)==null?void 0:f.reduced)==null?void 0:y.diff)==null?void 0:m[this.id]);if(p===void 0){h();return}else if(p.status==="no-op")return;fG(this.id,"fill_path_properties",e,[r],p.fill.pathProperties),fG(this.id,"stroke_path_properties",e,[l],p.stroke.pathProperties),p.status==="added"?this.updateAreaPaths(a,s):p.status==="removed"?this.updateAreaPaths(a,o):(gG(this.id,"fill_path_update",e,[r],p.fill.path),gG(this.id,"stroke_path_update",e,[l],p.stroke.path)),p.hasMotion&&(pG(this,e,void 0,i),Ck(this,"labels",e,n)),this.ctx.animationManager.animate({id:this.id,groupId:"reset_after_animation",phase:"trailing",from:{},to:{},onComplete:()=>this.updateAreaPaths(a,s)})}getFormattedMarkerStyle(t){const{xKey:e,yLowKey:i,yHighKey:n}=this.properties;return this.getMarkerStyle(this.properties.marker,{datum:t,xKey:e,yLowKey:i,yHighKey:n,highlighted:!0})}computeFocusBounds(t){const e=cG(this,t),i=cG(this,{...t,datumIndex:t.datumIndex+1});if(e&&i)return $kt.merge([e,i])}computeFocusDatumIndex(t,e){const i={...t,datumIndex:t.datumIndex+t.datumIndexDelta,datumIndexDelta:t.datumIndexDelta*2};return super.computeFocusDatumIndex(i,e)}};qR.className="RangeAreaSeries";qR.type="range-area";var Qkt={series:{fillOpacity:.7,nodeClickRange:"nearest",marker:{enabled:!1,size:6,strokeWidth:2},label:{enabled:!1,placement:"outside",padding:10,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}},interpolation:{type:"linear",tension:1,position:"end"}},axes:{[_.ThemeConstants.CARTESIAN_AXIS_TYPE.NUMBER]:{crosshair:{enabled:!0}}}},{markerPaletteFactory:Jkt,ThemeConstants:{CARTESIAN_AXIS_TYPE:yG,CARTESIAN_POSITION:mG}}=_,tLt={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"range-area",moduleFactory:t=>new qR(t),tooltipDefaults:{range:"nearest"},defaultAxes:[{type:yG.NUMBER,position:mG.LEFT},{type:yG.CATEGORY,position:mG.BOTTOM}],themeTemplate:Qkt,paletteFactory:t=>{const{marker:e}=Jkt(t);return{fill:e.fill,stroke:e.stroke,marker:e}}},eLt=1e3,iLt=5;function nLt(t,e,i,n){if(t.length<eLt)return;const[s,a]=Jb(n);let o=Qb(t,iLt),{indexData:r,valueData:l}=tv(t,e,i,s,a,o);const c=[{maxRange:o,indexData:r}];for(;o>64;)({indexData:r,valueData:l,maxRange:o}=ev(r,l,o)),c.push({maxRange:o,indexData:r});return c.reverse(),c}var{AbstractBarSeriesProperties:sLt,SeriesTooltip:aLt,Validate:Vi,COLOR_STRING:U9,FUNCTION:oLt,LINE_DASH:rLt,OBJECT:QR,PLACEMENT:lLt,POSITIVE_NUMBER:AI,RATIO:H9,STRING:kp,BOOLEAN:cLt,DropShadow:uLt,Label:hLt}=_,JR=class extends hLt{constructor(){super(...arguments),this.placement="inside",this.padding=6}};A([Vi(lLt)],JR.prototype,"placement");A([Vi(AI)],JR.prototype,"padding");var rn=class extends sLt{constructor(){super(...arguments),this.fill="#99CCFF",this.fillOpacity=1,this.stroke="#99CCFF",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.shadow=new uLt().set({enabled:!1}),this.label=new JR,this.tooltip=new aLt,this.fastDataProcessing=!1}};A([Vi(kp)],rn.prototype,"xKey");A([Vi(kp)],rn.prototype,"yLowKey");A([Vi(kp)],rn.prototype,"yHighKey");A([Vi(kp,{optional:!0})],rn.prototype,"xName");A([Vi(kp,{optional:!0})],rn.prototype,"yName");A([Vi(kp,{optional:!0})],rn.prototype,"yLowName");A([Vi(kp,{optional:!0})],rn.prototype,"yHighName");A([Vi(U9)],rn.prototype,"fill");A([Vi(H9)],rn.prototype,"fillOpacity");A([Vi(U9)],rn.prototype,"stroke");A([Vi(AI)],rn.prototype,"strokeWidth");A([Vi(H9)],rn.prototype,"strokeOpacity");A([Vi(rLt)],rn.prototype,"lineDash");A([Vi(AI)],rn.prototype,"lineDashOffset");A([Vi(AI)],rn.prototype,"cornerRadius");A([Vi(oLt,{optional:!0})],rn.prototype,"itemStyler");A([Vi(QR)],rn.prototype,"shadow");A([Vi(QR)],rn.prototype,"label");A([Vi(QR)],rn.prototype,"tooltip");A([Vi(cLt)],rn.prototype,"fastDataProcessing");var{SeriesNodePickMode:xG,valueProperty:bG,keyProperty:dLt,ChartAxisDirection:Gm,checkCrisp:pLt,updateLabelNode:fLt,SMALLEST_KEY_INTERVAL:gLt,LARGEST_KEY_INTERVAL:yLt,diff:mLt,prepareBarAnimationFunctions:vG,midpointStartingBarPosition:SG,resetBarSelectionsFn:xLt,fixNumericExtent:bLt,seriesLabelFadeInAnimation:MG,resetLabelFn:vLt,animationValidation:SLt,computeBarFocusBounds:MLt,visibleRangeIndices:AG,createDatumId:ALt,ContinuousScale:DG,OrdinalTimeScale:DLt,Rect:ILt,PointerEvents:TLt,motion:IG,applyShapeStyle:CLt,findMinMax:kLt}=_,LLt=class extends _.SeriesNodeEvent{constructor(t,e,i,n){super(t,e,i,n),this.xKey=n.properties.xKey,this.yLowKey=n.properties.yLowKey,this.yHighKey=n.properties.yHighKey}},t2=class extends _.AbstractBarSeries{constructor(t){super({moduleCtx:t,pickModes:[xG.AXIS_ALIGNED,xG.EXACT_SHAPE_MATCH],hasHighlightedLabels:!0,directionKeys:{x:["xKey"],y:["yLowKey","yHighKey"]},directionNames:{x:["xName"],y:["yLowName","yHighName","yName"]},datumSelectionGarbageCollection:!1,animationResetFns:{datum:xLt,label:vLt}}),this.properties=new rn,this.dataAggregationFilters=void 0,this.NodeEvent=LLt}async processData(t){var b,S,v,D;if(!this.properties.isValid())return;const{xKey:e,yLowKey:i,yHighKey:n,fastDataProcessing:s}=this.properties,a=!s,o=(b=this.getCategoryAxis())==null?void 0:b.scale,r=(S=this.getValueAxis())==null?void 0:S.scale,{isContinuousX:l,xScaleType:c,yScaleType:h}=this.getScaleInformation({xScale:o,yScale:r}),p=[];this.ctx.animationManager.isSkipped()||(this.processedData&&p.push(mLt(this.id,this.processedData)),p.push(SLt()));const f=this.visible?{}:{forceValue:0},{dataModel:y,processedData:m}=await this.requestDataModel(t,this.data,{props:[dLt(e,c,{id:"xValue"}),bG(i,h,{id:"yLowValue",invalidValue:null,...f}),bG(n,h,{id:"yHighValue",invalidValue:null,...f}),...l?[gLt,yLt]:[],...p],groupByKeys:a});this.smallestDataInterval=(v=m.reduced)==null?void 0:v.smallestKeyInterval,this.largestDataInterval=(D=m.reduced)==null?void 0:D.largestKeyInterval,this.dataAggregationFilters=this.aggregateData(y,m),this.animationState.transition("updateData")}aggregateData(t,e){if(e.type!=="grouped")return;const i=this.axes[Gm.X];if(i==null||!(DG.is(i.scale)||DLt.is(i.scale)))return;const n=t.resolveKeysById(this,"xValue",e),s=t.resolveColumnById(this,"yHighValue",e),a=t.resolveColumnById(this,"yLowValue",e),{index:o}=t.resolveProcessedDataDefById(this,"xValue"),r=e.domain.keys[o];return nLt(n,s,a,r)}getSeriesDomain(t){const{processedData:e,dataModel:i}=this;if(!e||!i)return[];const{keys:[n]}=e.domain;if(t===this.getCategoryDirection()){const s=i.resolveProcessedDataDefById(this,"xValue");return(s==null?void 0:s.def.type)==="key"&&(s==null?void 0:s.def.valueType)==="category"?n:this.padBandExtent(n)}else{const s=this.domainForClippedRange(Gm.Y,["yHighValue","yLowValue"],"xValue",!0),a=kLt(s);return bLt(a)}}getSeriesRange(t,e){return this.domainForVisibleRange(Gm.Y,["yHighValue","yLowValue"],"xValue",e,!0)}createNodeData(){const{data:t,dataModel:e,groupScale:i,processedData:n,visible:s}=this,a=this.getCategoryAxis(),o=this.getValueAxis();if(!(t&&a&&o&&e&&(n!=null&&n.dataSources)))return;const r=a.scale,l=o.scale,c=this.getBarDirection()===Gm.X,{xKey:h,yLowKey:p,yHighKey:f,strokeWidth:y}=this.properties,m=`${p}-${f}`,b={itemId:m,nodeData:[],labelData:[],scales:this.calculateScaling(),visible:this.visible};if(!s)return b;const S=n.dataSources.get(this.id)??[],v=e.resolveKeysById(this,"xValue",n),D=e.resolveColumnById(this,"yLowValue",n),I=e.resolveColumnById(this,"yHighValue",n),{barWidth:T,groupIndex:k}=this.updateGroupScale(a),E=DG.is(r)?T*-.5:0,w=i.convert(String(k)),R=pLt(a==null?void 0:a.scale,a==null?void 0:a.visibleRange,this.smallestDataInterval,this.largestDataInterval),O=G=>Math.round(r.convert(v[G]))+w+E,L=(G,$,K,X,j,U,Z)=>{const tt=S[G],J=v[G];if(J==null)return;const nt=D[G],at=I[G];if(!Number.isFinite(nt==null?void 0:nt.valueOf())||!Number.isFinite(at==null?void 0:at.valueOf()))return;const[lt,ut]=nt<at?[nt,at]:[at,nt],pt=Math.round(l.convert(U)),ot=Math.round(l.convert(j)),ft=Math.max(y,Math.abs(ot-pt)),ct={x:c?Math.min(pt,ot):K,y:c?K:Math.min(pt,ot),width:c?ft:X,height:c?X:ft},bt={x:ct.x+ct.width/2,y:ct.y+ct.height/2},St=this.createLabelData({datumIndex:G,rect:ct,barAlongX:c,yLowValue:lt,yHighValue:ut,datum:tt,series:this}),xt={index:$,valueIndex:G,series:this,itemId:m,datum:tt,datumIndex:G,xValue:J,yLowValue:nt,yHighValue:at,yLowKey:p,yHighKey:f,xKey:h,x:ct.x,y:ct.y,width:ct.width,height:ct.height,midPoint:bt,crisp:Z,labels:St};b.nodeData.push(xt),b.labelData.push(...St)},{dataAggregationFilters:F}=this,[z,V]=r.range,H=V-z,W=F==null?void 0:F.find(G=>G.maxRange>H);if(W!=null){const{maxRange:G,indexData:$}=W,[K,X]=AG(G,a.range,j=>{const U=j*Ga,Z=$[U+rs],tt=$[U+Qs];if(Z===-1)return;const J=(Z+tt)/2|0;return[O(J),O(tt)+T]});for(let j=K;j<X;j+=1){const U=j*Ga,Z=$[U+rs],tt=$[U+Qs],J=$[U+ma],nt=$[U+xa];if(Z===-1)continue;const at=(Z+tt)/2|0;if(v[at]==null)continue;const ut=O(at),pt=Math.abs(O(Z)-O(tt))+T,ot=D[J],ft=I[nt];L(at,0,ut,pt,ot,ft,!1)}}else if(n.type==="ungrouped"){let[G,$]=AG(S.length,a.range,K=>[O(K),T]);n.input.count<1e3&&(G=0,$=n.input.count);for(let K=G;K<$;K+=1){const X=O(K),j=T,U=D[K],Z=I[K];L(K,0,X,j,U,Z,R)}}else for(const{datumIndex:G,groupIndex:$}of e.forEachGroupDatum(this,n)){const K=O(G),X=T,j=D[G],U=I[G];L(G,$,K,X,j,U,R)}return b}createLabelData({datumIndex:t,rect:e,barAlongX:i,yLowValue:n,yHighValue:s,datum:a,series:o}){const{xKey:r,yLowKey:l,yHighKey:c,xName:h,yLowName:p,yHighName:f,yName:y,label:m}=this.properties,b={datum:a,xKey:r,yLowKey:l,yHighKey:c,xName:h,yLowName:p,yHighName:f,yName:y},{placement:S,padding:v}=m,I=v*(S==="outside"?1:-1),T={datumIndex:t,x:e.x+(i?-I:e.width/2),y:e.y+(i?e.height/2:e.height+I),textAlign:i?"left":"center",textBaseline:i?"middle":"bottom",text:this.getLabelText(m,{itemId:"low",value:n,...b}),itemId:"low",datum:a,series:o},k={datumIndex:t,x:e.x+(i?e.width+I:e.width/2),y:e.y+(i?e.height/2:-I),textAlign:i?"right":"center",textBaseline:i?"middle":"top",text:this.getLabelText(m,{itemId:"high",value:s,...b}),itemId:"high",datum:a,series:o};return S==="outside"&&(T.textAlign=i?"right":"center",T.textBaseline=i?"middle":"top",k.textAlign=i?"left":"center",k.textBaseline=i?"middle":"bottom"),[T,k]}nodeFactory(){return new ILt}updateDatumSelection(t){const{nodeData:e,datumSelection:i}=t,n=e??[];return i.update(n,void 0,s=>this.getDatumId(s))}getItemBaseStyle(t){const{properties:e}=this,{cornerRadius:i}=e,n=t?e.highlightStyle.item:void 0;return{fill:(n==null?void 0:n.fill)??e.fill,fillOpacity:(n==null?void 0:n.fillOpacity)??e.fillOpacity,stroke:(n==null?void 0:n.stroke)??e.stroke,strokeWidth:(n==null?void 0:n.strokeWidth)??this.getStrokeWidth(e.strokeWidth),strokeOpacity:(n==null?void 0:n.strokeOpacity)??e.strokeOpacity,lineDash:(n==null?void 0:n.lineDash)??e.lineDash??[],lineDashOffset:(n==null?void 0:n.lineDashOffset)??e.lineDashOffset,cornerRadius:i}}getItemStyleOverrides(t,e,i,n){const{id:s,properties:a}=this,{xKey:o,yHighKey:r,yLowKey:l,itemStyler:c}=a;if(c!=null)return this.cachedDatumCallback(ALt(t,n?"highlight":"node"),()=>c({seriesId:s,datum:e,xKey:o,yHighKey:r,yLowKey:l,highlighted:n,...i}))}updateDatumNodes(t){const{datumSelection:e,isHighlight:i}=t,n=this.getCategoryDirection()===Gm.X,s=this.getItemBaseStyle(i);e.each((a,o)=>{const r=this.getItemStyleOverrides(String(o.datumIndex),o.datum,s,i);CLt(a,s,r),a.cornerRadius=(r==null?void 0:r.cornerRadius)??s.cornerRadius,a.visible=n?o.width>0:o.height>0,a.crisp=o.crisp})}getHighlightLabelData(t,e){const i=t.filter(n=>n.datum===e.datum);return i.length>0?i:void 0}updateLabelSelection(t){const e=this.properties.label.enabled?t.labelData:[];return t.labelSelection.update(e,i=>{i.pointerEvents=TLt.None})}updateLabelNodes(t){t.labelSelection.each((e,i)=>{fLt(e,this.properties.label,i)})}getTooltipContent(t){var E;const{id:e,dataModel:i,processedData:n,properties:s}=this,{xKey:a,xName:o,yName:r,yLowKey:l,yHighKey:c,yLowName:h,yHighName:p,tooltip:f}=s,y=this.getCategoryAxis(),m=this.getValueAxis();if(!i||!n||!y||!m)return;const{datumIndex:b}=t,S=(E=n.dataSources.get(this.id))==null?void 0:E[b],v=i.resolveKeysById(this,"xValue",n)[b],D=i.resolveColumnById(this,"yHighValue",n)[b],I=i.resolveColumnById(this,"yLowValue",n)[b];if(v==null)return;const T=this.getItemBaseStyle(!1);Object.assign(T,this.getItemStyleOverrides(String(b),S,T,!1));const k=`${m.formatDatum(I)} - ${m.formatDatum(D)}`;return f.formatTooltip({heading:y.formatDatum(v),symbol:this.legendItemSymbol(),data:[{label:r,fallbackLabel:`${h??l} - ${p??c}`,value:k}]},{seriesId:e,datum:S,title:r,xKey:a,xName:o,yName:r,yLowKey:l,yHighKey:c,yLowName:h,yHighName:p,...T})}legendItemSymbol(){const{fill:t,stroke:e,strokeWidth:i,fillOpacity:n,strokeOpacity:s,lineDash:a,lineDashOffset:o}=this.properties;return{marker:{fill:t,stroke:e,fillOpacity:n,strokeOpacity:s,strokeWidth:i,lineDash:a,lineDashOffset:o}}}getLegendData(t){if(t!=="category")return[];const{id:e,visible:i}=this,{yName:n,yLowName:s,yHighName:a,yLowKey:o,yHighKey:r,showInLegend:l}=this.properties,c=n??`${s??o} - ${a??r}`,h=`${o}-${r}`;return[{legendType:"category",id:e,itemId:h,seriesId:e,enabled:i,label:{text:`${c}`},symbol:this.legendItemSymbol(),hideInLegend:!l}]}animateEmptyUpdateReady({datumSelection:t,labelSelection:e}){const i=vG(SG(this.isVertical(),"normal"));IG.fromToMotion(this.id,"datums",this.ctx.animationManager,[t],i),MG(this,"labels",this.ctx.animationManager,e)}animateWaitingUpdateReady(t){var o,r;const{datumSelection:e,labelSelection:i}=t,{processedData:n}=this,s=(r=(o=n==null?void 0:n.reduced)==null?void 0:o.diff)==null?void 0:r[this.id];this.ctx.animationManager.stopByAnimationGroupId(this.id);const a=vG(SG(this.isVertical(),"fade"));IG.fromToMotion(this.id,"datums",this.ctx.animationManager,[e],a,(l,c)=>this.getDatumId(c),s),MG(this,"labels",this.ctx.animationManager,i)}getDatumId(t){return`${t.xValue}-${t.valueIndex}`}isLabelEnabled(){return this.properties.label.enabled}onDataChange(){}computeFocusBounds({datumIndex:t}){var e;return MLt(this,(e=this.contextNodeData)==null?void 0:e.nodeData[t])}};t2.className="RangeBarSeries";t2.type="range-bar";var NLt={series:{direction:"vertical",strokeWidth:0,label:{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"backgroundColor"},placement:"inside"}},axes:{[_.ThemeConstants.CARTESIAN_AXIS_TYPE.NUMBER]:{crosshair:{enabled:!0}}}},{CARTESIAN_AXIS_TYPE:TG,CARTESIAN_POSITION:CG}=_.ThemeConstants,ELt={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"range-bar",moduleFactory:t=>new t2(t),tooltipDefaults:{range:"exact"},defaultAxes:_.swapAxisCondition([{type:TG.NUMBER,position:CG.LEFT},{type:TG.CATEGORY,position:CG.BOTTOM}],t=>(t==null?void 0:t.direction)==="horizontal"),themeTemplate:NLt,paletteFactory:({takeColors:t})=>{const{fills:[e],strokes:[i]}=t(1);return{fill:e,stroke:i}},groupable:!0};function W9(t){t.nodes.sort((e,i)=>Math.round((e.datum.y-i.datum.y)*100)/100||-(e.datum.size-i.datum.size))}function wLt({nodes:t,size:e},{seriesRectHeight:i,nodeSpacing:n,sizeScale:s}){const a=i*e*s;let o=(i-(a+n*(t.length-1)))/2;t.forEach(({datum:r})=>{const l=i*r.size*s;r.y=o,r.height=l,o+=l+n})}function OLt(t,e){const{nodes:i}=t,{seriesRectHeight:n,nodeSpacing:s}=e;W9(t);let a=0,o=0;for(const{datum:c}of i){const h=Math.max(o-c.y,0);c.y+=h,a+=h,o=c.y+c.height+s}if(o-s<n)return a>0;let l=n;for(let c=i.length-1;c>=0;c-=1){const{datum:h}=i[c],p=h.y+h.height,f=Math.min(l-p,0);h.y+=f,a+=f,l=h.y-s}return!0}function Lk(t,e,i,n,s,a,o,r){const l=(i-t)/(n-e),c=(o-s)/(r-a),h=((a-e)*(l*c)+t*c-s*l)/(c-l);return t<i?h>t&&h<Math.min(i,o):h<t&&h>Math.max(i,o)}function kG(t,e){let i=!1;const n=t.nodes.filter(a=>e(a).length===1);let s=!0;for(let a=0;s&&a<n.length;a+=1){s=!1;for(let o=0;o<n.length-1;o+=1){const{datum:r}=n[o],l=e(n[o])[0].node.datum,{datum:c}=n[o+1],h=e(n[o+1])[0].node.datum;if(!(Lk(r.x,r.y,l.x,l.y,c.x,c.y,h.x,h.y)||Lk(r.x,r.y+r.height/2,l.x,l.y+l.height/2,c.x,c.y+c.height/2,h.x,h.y+h.height/2)||Lk(r.x,r.y+r.height,l.x,l.y+l.height,c.x,c.y+c.height,h.x,h.y+h.height)))continue;const f=n[o];n[o]=n[o+1],n[o+1]=f;const y=r.y;r.y=c.y+c.height-r.height,c.y=y,i=!0,s=!0}}return i}function RLt(t){let e=!1;return W9(t),e=kG(t,i=>i.linksBefore)||e,e=kG(t,i=>i.linksAfter)||e,e}function PLt(t){if(t.length===0)return;let e=0,i=0;for(const{node:{datum:n}}of t)e+=n.y*n.size,i+=n.size;return e/i}function Y9(t,e,i,n){return t.nodes.forEach(({datum:s,linksBefore:a,linksAfter:o})=>{const r=n===1?a:o,l=n===1?o:a,c=PLt(r);if(c!=null){const h=l.length!==0?i:1;s.y=s.y+(c-s.y)*h}}),OLt(t,e)}function LG(t,e,i){let n=!1;for(const s of t)n=Y9(s,e,i,1)||n;return n}function BLt(t,e,i){let n=!1;for(let s=t.length-1;s>=0;s-=1)n=Y9(t[s],e,i,-1)||n;return n}function NG(t){let e=!1;for(let i=t.length-1;i>=0;i-=1)e=RLt(t[i])||e;return e}function zLt(t,e){t.forEach(n=>{wLt(n,e)});let i=!1;for(let n=0;n<6;n+=1){const s=LG(t,e,1);i=BLt(t,e,.5);const a=NG(t);if(!s&&!i&&!a)break}i&&(LG(t,e,1),NG(t))}var{BBox:_Lt,Path:jLt,ScenePathChangeDetection:py,splitBezier:FLt}=_;function GS(t,e,i,n,s,a,o,r,l,c){let h,p;if(s!==i&&l!==o){const E=-(n-e)/(s-i),w=-(r-a)/(l-o);h=(o-i+E*e-w*a)/(E-w),p=E*(h-e)+i}else if(s===i&&l!==o)h=e,p=-(r-a)/(l-o)*(h-r)+l;else if(s!==i&&l===o)h=r,p=-(n-e)/(s-i)*(h-e)+i;else throw new Error("Offsetting flat bezier curve");const f=Math.hypot(i-p,e-h),y=(f+c)/f,m=Math.hypot(l-p,r-h),b=(m+c)/m,S=h+(n-h)*y,v=p+(s-p)*y,D=h+(a-h)*b,I=p+(o-p)*b,T=h+(r-h)*b,k=p+(l-p)*b;t.cubicCurveTo(S,v,D,I,T,k)}var Lp=class extends jLt{constructor(){super(...arguments),this.x1=0,this.x2=0,this.y1=0,this.y2=0,this.height=0,this.inset=0}computeBBox(){const t=Math.min(this.x1,this.x2),e=Math.max(this.x1,this.x2)-t,i=Math.min(this.y1,this.y2),n=Math.max(this.y1,this.y2)-i+this.height;return new _Lt(t,i,e,n)}updatePath(){const{path:t,inset:e}=this;t.clear();const i=this.x1+e,n=this.x2-e,s=this.y1+e,a=this.y2+e,o=this.height-2*e;if(o<0||i>n)return;const r=i,l=s+o/2,c=(i+n)/2,h=s+o/2,p=(i+n)/2,f=a+o/2,y=n,m=a+o/2;if(t.moveTo(r,l-o/2),Math.abs(this.y2-this.y1)<1||this.x2-this.x1<this.height*Math.SQRT2)t.cubicCurveTo(c,h-o/2,p,f-o/2,y,m-o/2),t.lineTo(y,m+o/2),t.cubicCurveTo(p,f+o/2,c,h+o/2,r,l+o/2);else{const[b,S]=FLt(r,l,c,h,p,f,y,m,.5),v=(a>s?1:-1)*o/2;GS(t,b[0].x,b[0].y,b[1].x,b[1].y,b[2].x,b[2].y,b[3].x,b[3].y,v),GS(t,S[0].x,S[0].y,S[1].x,S[1].y,S[2].x,S[2].y,S[3].x,S[3].y,-v),t.lineTo(y,m+o/2),GS(t,S[3].x,S[3].y,S[2].x,S[2].y,S[1].x,S[1].y,S[0].x,S[0].y,v),GS(t,b[3].x,b[3].y,b[2].x,b[2].y,b[1].x,b[1].y,b[0].x,b[0].y,-v)}t.closePath()}};A([py()],Lp.prototype,"x1");A([py()],Lp.prototype,"x2");A([py()],Lp.prototype,"y1");A([py()],Lp.prototype,"y2");A([py()],Lp.prototype,"height");A([py()],Lp.prototype,"inset");var{BaseProperties:$9,SeriesTooltip:GLt,SeriesProperties:VLt,ARRAY:ULt,COLOR_STRING:DI,COLOR_STRING_ARRAY:K9,FUNCTION:X9,LINE_DASH:Z9,OBJECT:II,POSITIVE_NUMBER:Np,RATIO:TI,STRING:Rh,UNION:HLt,Validate:ve,Label:WLt}=_,YLt=HLt(["left","right","center","justify"],"a justification value"),q9=class extends WLt{constructor(){super(...arguments),this.spacing=1}};A([ve(Np)],q9.prototype,"spacing");var eu=class extends $9{constructor(){super(...arguments),this.fill=void 0,this.fillOpacity=1,this.stroke=void 0,this.strokeOpacity=1,this.strokeWidth=1,this.lineDash=[0],this.lineDashOffset=0}};A([ve(DI,{optional:!0})],eu.prototype,"fill");A([ve(TI)],eu.prototype,"fillOpacity");A([ve(DI,{optional:!0})],eu.prototype,"stroke");A([ve(TI)],eu.prototype,"strokeOpacity");A([ve(Np)],eu.prototype,"strokeWidth");A([ve(Z9)],eu.prototype,"lineDash");A([ve(Np)],eu.prototype,"lineDashOffset");A([ve(X9,{optional:!0})],eu.prototype,"itemStyler");var qo=class extends $9{constructor(){super(...arguments),this.spacing=1,this.width=1,this.alignment="justify",this.fill=void 0,this.fillOpacity=1,this.stroke=void 0,this.strokeOpacity=1,this.strokeWidth=1,this.lineDash=[0],this.lineDashOffset=0}};A([ve(Np)],qo.prototype,"spacing");A([ve(Np)],qo.prototype,"width");A([ve(YLt)],qo.prototype,"alignment");A([ve(DI,{optional:!0})],qo.prototype,"fill");A([ve(TI)],qo.prototype,"fillOpacity");A([ve(DI,{optional:!0})],qo.prototype,"stroke");A([ve(TI)],qo.prototype,"strokeOpacity");A([ve(Np)],qo.prototype,"strokeWidth");A([ve(Z9)],qo.prototype,"lineDash");A([ve(Np)],qo.prototype,"lineDashOffset");A([ve(X9,{optional:!0})],qo.prototype,"itemStyler");var Fs=class extends VLt{constructor(){super(...arguments),this.nodes=void 0,this.idKey="",this.idName=void 0,this.labelKey=void 0,this.labelName=void 0,this.sizeKey=void 0,this.sizeName=void 0,this.fills=[],this.strokes=[],this.label=new q9,this.link=new eu,this.node=new qo,this.tooltip=new GLt}};A([ve(ULt,{optional:!0})],Fs.prototype,"nodes");A([ve(Rh)],Fs.prototype,"fromKey");A([ve(Rh)],Fs.prototype,"toKey");A([ve(Rh)],Fs.prototype,"idKey");A([ve(Rh,{optional:!0})],Fs.prototype,"idName");A([ve(Rh,{optional:!0})],Fs.prototype,"labelKey");A([ve(Rh,{optional:!0})],Fs.prototype,"labelName");A([ve(Rh,{optional:!0})],Fs.prototype,"sizeKey");A([ve(Rh,{optional:!0})],Fs.prototype,"sizeName");A([ve(K9)],Fs.prototype,"fills");A([ve(K9)],Fs.prototype,"strokes");A([ve(II)],Fs.prototype,"label");A([ve(II)],Fs.prototype,"link");A([ve(II)],Fs.prototype,"node");A([ve(II)],Fs.prototype,"tooltip");var{Transformable:$Lt,applyShapeStyle:EG,SeriesNodePickMode:wG,CachedTextMeasurerPool:KLt,TextWrapper:OG,TextUtils:RG,createDatumId:VS,Rect:PG,BBox:XLt}=_,e2=class extends rR{constructor(t){super({moduleCtx:t,pickModes:[wG.NEAREST_NODE,wG.EXACT_SHAPE_MATCH]}),this.properties=new Fs}isLabelEnabled(){return(this.properties.labelKey!=null||this.nodes==null)&&this.properties.label.enabled}linkFactory(){return new Lp}nodeFactory(){return new PG}createNodeData(){const{id:t,_nodeDataDependencies:{seriesRectWidth:e,seriesRectHeight:i}={seriesRectWidth:0,seriesRectHeight:0}}=this,{fromKey:n,toKey:s,sizeKey:a,label:{spacing:o},node:{spacing:r,width:l,alignment:c}}=this.properties,{nodeGraph:h,links:p,maxPathLength:f}=this.getNodeGraph(w=>({...w,x:NaN,y:NaN,width:l,height:NaN}),w=>({...w,x1:NaN,x2:NaN,y1:NaN,y2:NaN,height:NaN}),{includeCircularReferences:!1}),y=h,m=this.isLabelEnabled()?(e-l)*(1-f/(f+1)):0,b=(e-l-2*m)/(f-1),S=[];for(let w=0;w<f;w+=1){const R=m+w*b;S.push({index:w,size:0,nodes:[],x:R})}y.forEach(w=>{const{datum:R,linksBefore:O,linksAfter:L,maxPathLengthBefore:F,maxPathLengthAfter:z}=w,V=Math.max(O.reduce((G,{link:$})=>G+$.size,0),L.reduce((G,{link:$})=>G+$.size,0));if(O.length===0&&L.length===0||V===0){w.columnIndex=-1;return}let H;switch(c){case"left":H=S[F];break;case"right":H=S[f-1-z];break;case"center":{if(O.length!==0)H=S[F];else if(L.length!==0){const G=L.reduce(($,K)=>Math.min($,K.node.maxPathLengthBefore),f)-1;H=S[G]}else H=S[0];break}case"justify":{H=L.length===0?S[f-1]:S[F];break}}R.x=H.x,R.size=V;const W=this.getLabelText(this.properties.label,{datum:R.datum,value:R.label,fromKey:n,toKey:s,sizeKey:a,size:V});R.label=String(W),H.nodes.push(w),H.size+=V,w.columnIndex=H.index}),y.forEach(w=>{let R=1/0,O=0;w.linksAfter.forEach(L=>{const F=L.node,{columnIndex:z}=F;z<R?(R=z,O=F.datum.size):z===R&&(O=Math.max(O,F.datum.size))}),w.closestColumnIndex=R,w.maxSizeOfClosestNodesAfter=O});const v=S.reduce((w,{size:R,nodes:O})=>{const L=(1-(O.length-1)*(r/i))/R;return Math.min(w,L)},1/0);for(let w=S.length-1;w>=0;w-=1)S[w].nodes.sort((O,L)=>O.closestColumnIndex-L.closestColumnIndex||O.maxSizeOfClosestNodesAfter-L.maxSizeOfClosestNodesAfter||O.datum.size-L.datum.size);zLt(S,{seriesRectHeight:i,nodeSpacing:r,sizeScale:v});let D=!1;if(y.forEach(({datum:w,linksBefore:R,linksAfter:O})=>{D||(D=w.height<0);const L=w.y+w.height,F=H=>H.sort((W,G)=>{const $=W.node.datum,K=G.node.datum,X=$.y+$.height,j=K.y+K.height,U=Math.atan2($.y-w.y,Math.abs($.x-w.x))-Math.atan2(K.y-w.y,Math.abs(K.x-w.x)),Z=Math.atan2(X-L,Math.abs($.x-w.x))-Math.atan2(j-L,Math.abs(K.x-w.x));return U+Z});let z=w.y;F(R).forEach(({link:H})=>{H.y2=z,z+=H.size*i*v});let V=w.y;F(O).forEach(({link:H})=>{H.y1=V,V+=H.size*i*v})}),D){Me.warnOnce("There was insufficient space to display the Sankey Series. Reduce the node spacing, or provide a larger container.");return}const I=[],T=[],{fontSize:k}=this.properties.label,E=this.properties.label.getFont();return S.forEach((w,R)=>{const O=R===0,L=R===S.length-1;let F=-1/0;w.nodes.sort((z,V)=>z.datum.y-V.datum.y),w.nodes.forEach(({datum:z})=>{if(z.midPoint={x:z.x+z.width/2,y:z.y+z.height/2},I.push(z),z.label==null)return;const V=O?z.x-o:z.x+z.width+o,H=z.y+z.height/2;let W;if(!O&&!L){const X=H-RG.getLineHeight(k),j=H+RG.getLineHeight(k);let U=e;y.forEach(({datum:tt})=>{tt.x>z.x&&Math.max(tt.y,X)<=Math.min(tt.y+tt.height,j)&&(U=Math.min(U,tt.x-o))});const Z=U-z.x-2*o;W=OG.wrapText(z.label,{maxWidth:Z,maxHeight:z.height,font:this.properties.label,textWrap:"never",overflow:"hide"})}if(W==null||W===""){const X=O||L?o:o*2;W=OG.wrapText(z.label,{maxWidth:b-X,maxHeight:z.height,font:this.properties.label,textWrap:"never"})}if(W==="")return;const{height:G}=KLt.measureText(W,{font:E,textAlign:"left",textBaseline:"middle"}),$=H-G/2,K=H+G/2;$>=F&&(T.push({x:V,y:H,leading:O,text:W}),F=K)})}),p.forEach(w=>{const{fromNode:R,toNode:O,size:L}=w;w.height=i*L*v,w.x1=R.x+l,w.x2=O.x,w.midPoint={x:(w.x1+w.x2)/2,y:(w.y1+w.y2)/2+w.height/2},I.push(w)}),{itemId:t,nodeData:I,labelData:T}}updateLabelSelection(t){const e=this.isLabelEnabled()?t.labelData:[];return t.labelSelection.update(e)}updateLabelNodes(t){const{labelSelection:e}=t,{color:i,fontStyle:n,fontWeight:s,fontSize:a,fontFamily:o}=this.properties.label;e.each((r,{x:l,y:c,leading:h,text:p})=>{r.visible=!0,r.x=l,r.y=c,r.text=p,r.fill=i,r.fontStyle=n,r.fontWeight=s,r.fontSize=a,r.fontFamily=o,r.textAlign=h?"right":"left",r.textBaseline="middle"})}updateNodeSelection(t){return t.datumSelection.update(t.nodeData,void 0,e=>VS([e.type,e.id]))}getBaseNodeStyle(t){const{properties:e}=this,{fill:i,fillOpacity:n,stroke:s,strokeOpacity:a,lineDash:o,lineDashOffset:r}=e.node,l=t?e.highlightStyle.item:void 0;return{fill:(l==null?void 0:l.fill)??i,fillOpacity:(l==null?void 0:l.fillOpacity)??n,stroke:(l==null?void 0:l.stroke)??s,strokeOpacity:(l==null?void 0:l.strokeOpacity)??a,strokeWidth:(l==null?void 0:l.strokeWidth)??this.getStrokeWidth(e.node.strokeWidth),lineDash:(l==null?void 0:l.lineDash)??o,lineDashOffset:(l==null?void 0:l.lineDashOffset)??r}}getNodeStyleOverrides(t,e,i,n,s,a,o){const{id:r,properties:l}=this,{fills:c,strokes:h}=l,{itemStyler:p}=l.node,f=a.fill??c[i%c.length],y=a.stroke??h[i%h.length],m={};if(o||(m.fill=f,m.stroke=y),p!=null){const b=this.cachedDatumCallback(VS(t,o?"highlight":"node"),()=>{const{fillOpacity:S=1,strokeOpacity:v=1,strokeWidth:D=0,lineDash:I=[],lineDashOffset:T=0}=a;return p({seriesId:r,datum:e,highlighted:o,label:s,size:n,fill:f,fillOpacity:S,stroke:y,strokeOpacity:v,strokeWidth:D,lineDash:I,lineDashOffset:T})});Object.assign(m,b)}return m}updateNodeNodes(t){const{datumSelection:e,isHighlight:i}=t,n=this.getBaseNodeStyle(i);e.each((s,a)=>{const{datumIndex:o,size:r,label:l}=a,c=this.getNodeStyleOverrides(String(o),a,o.index,r,l,n,i);s.x=a.x,s.y=a.y,s.width=Math.max(a.width,0),s.height=Math.max(a.height,0),EG(s,n,c)})}updateLinkSelection(t){return t.datumSelection.update(t.nodeData,void 0,e=>VS([e.type,e.index,e.fromNode.id,e.toNode.id]))}getBaseLinkStyle(t){const{properties:e}=this,{fill:i,fillOpacity:n,stroke:s,strokeOpacity:a,lineDash:o,lineDashOffset:r}=e.link,l=t?e.highlightStyle.item:void 0;return{fill:(l==null?void 0:l.fill)??i,fillOpacity:(l==null?void 0:l.fillOpacity)??n,stroke:(l==null?void 0:l.stroke)??s,strokeOpacity:(l==null?void 0:l.strokeOpacity)??a,strokeWidth:(l==null?void 0:l.strokeWidth)??this.getStrokeWidth(e.link.strokeWidth),lineDash:(l==null?void 0:l.lineDash)??o,lineDashOffset:(l==null?void 0:l.lineDashOffset)??r}}getLinkStyleOverrides(t,e,i,n,s){const{id:a,properties:o}=this,{fills:r,strokes:l}=o,{itemStyler:c}=o.link,h=n.fill??r[i%r.length],p=n.stroke??l[i%l.length],f={};if(s||(f.fill=h,f.stroke=p),c!=null){const y=this.cachedDatumCallback(VS(t,s?"highlight":"node"),()=>{const{fillOpacity:m=1,strokeOpacity:b=1,strokeWidth:S=0,lineDash:v=[],lineDashOffset:D=0}=n;return c({seriesId:a,datum:e,highlighted:s,fill:h,fillOpacity:m,stroke:p,strokeOpacity:b,strokeWidth:S,lineDash:v,lineDashOffset:D})});Object.assign(f,y)}return f}updateLinkNodes(t){const{datumSelection:e,isHighlight:i}=t,n=this.getBaseLinkStyle(i);e.each((s,a)=>{const{datumIndex:o}=a,r=a.fromNode.datumIndex,l=this.getLinkStyleOverrides(String(o),a,r.index,n,i);s.x1=a.x1,s.y1=a.y1,s.x2=a.x2,s.y2=a.y2,s.height=a.height,EG(s,n,l),s.inset=s.strokeWidth/2})}getTooltipContent(t){var S,v;const{id:e,linksProcessedData:i,nodesProcessedData:n,properties:s}=this,{fromKey:a,toKey:o,sizeKey:r,sizeName:l,tooltip:c}=s,{datumIndex:h}=t,p=t.type===0?t.fromNode.index:t.index,f=t.type===0?`${t.fromNode.label} - ${t.toNode.label}`:t.label,y=h.type===0?(S=i==null?void 0:i.dataSources.get(this.id))==null?void 0:S[h.index]:(v=n==null?void 0:n.dataSources.get(this.id))==null?void 0:v[h.index],m=t.size;let b;if(t.type===0){const D=t.fromNode.datumIndex,I=this.getBaseLinkStyle(!1);Object.assign(I,this.getLinkStyleOverrides(String(h),y,D.index,I,!1)),b=I}else{const D=t.label,I=this.getBaseNodeStyle(!1);Object.assign(I,this.getNodeStyleOverrides(String(h),y,h.index,m,D,I,!1)),b=I}return c.formatTooltip({title:f,symbol:this.legendItemSymbol(t.type,p,b),data:r!=null?[{label:l,fallbackLabel:r,value:String(m)}]:[]},{seriesId:e,datum:y,title:f,fromKey:a,toKey:o,sizeKey:r,sizeName:l,size:m,...b})}computeFocusBounds(t){if(t instanceof PG){const{x:e,y:i,width:n,height:s}=t,a=new XLt(e,i,n,s);return $Lt.toCanvas(this.contentGroup,a)}return t}};e2.className="SankeySeries";e2.type="sankey";var ZLt={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["flow-proportion"],solo:!0,identifier:"sankey",moduleFactory:t=>new e2(t),tooltipDefaults:{range:"exact"},themeTemplate:{seriesArea:{padding:{top:10,bottom:10}},series:{highlightStyle:{series:{dimOpacity:.2}},label:{fontFamily:{$ref:"fontFamily"},fontSize:{$ref:"fontSize"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"},spacing:10},node:{spacing:20,width:10,strokeWidth:0},link:{fillOpacity:.5,strokeWidth:0}},legend:{enabled:!1,toggleSeries:!1}},paletteFactory({takeColors:t,colorsCount:e}){return t(e)}},{HierarchySeriesProperties:qLt,HighlightStyle:QLt,SeriesTooltip:JLt,Validate:ln,COLOR_STRING:tNt,FUNCTION:eNt,NUMBER:Q9,OBJECT:fy,POSITIVE_NUMBER:i2,RATIO:CI,STRING:kI}=_,Ph=class extends QLt{constructor(){super(...arguments),this.label=new gl,this.secondaryLabel=new gl}};A([ln(kI,{optional:!0})],Ph.prototype,"fill");A([ln(CI,{optional:!0})],Ph.prototype,"fillOpacity");A([ln(tNt,{optional:!0})],Ph.prototype,"stroke");A([ln(i2,{optional:!0})],Ph.prototype,"strokeWidth");A([ln(CI,{optional:!0})],Ph.prototype,"strokeOpacity");A([ln(fy)],Ph.prototype,"label");A([ln(fy)],Ph.prototype,"secondaryLabel");var oa=class extends qLt{constructor(){super(...arguments),this.fillOpacity=1,this.strokeWidth=0,this.strokeOpacity=1,this.cornerRadius=0,this.highlightStyle=new Ph,this.label=new gl,this.secondaryLabel=new uv,this.tooltip=new JLt}};A([ln(kI,{optional:!0})],oa.prototype,"sizeName");A([ln(kI,{optional:!0})],oa.prototype,"labelKey");A([ln(kI,{optional:!0})],oa.prototype,"secondaryLabelKey");A([ln(CI)],oa.prototype,"fillOpacity");A([ln(i2)],oa.prototype,"strokeWidth");A([ln(CI)],oa.prototype,"strokeOpacity");A([ln(i2)],oa.prototype,"cornerRadius");A([ln(Q9,{optional:!0})],oa.prototype,"sectorSpacing");A([ln(Q9,{optional:!0})],oa.prototype,"padding");A([ln(eNt,{optional:!0})],oa.prototype,"itemStyler");A([ln(fy)],oa.prototype,"highlightStyle");A([ln(fy)],oa.prototype,"label");A([ln(fy)],oa.prototype,"secondaryLabel");A([ln(fy)],oa.prototype,"tooltip");var{fromToMotion:iNt,normalizeAngle360:nNt,createDatumId:sNt,Sector:Nk,Group:US,ScalableGroup:aNt,Selection:Ek,TransformableText:wk,applyShapeStyle:oNt}=_,rNt=class extends _.HierarchyNode{constructor(){super(...arguments),this.label=void 0,this.secondaryLabel=void 0,this.contentHeight=0,this.bbox=void 0,this.startAngle=0,this.endAngle=0}};function J9(t,e=0,i=2*Math.PI/t.sumSize){for(const n of t.children){const s=e+n.sumSize*i;n.startAngle=e,n.endAngle=s,J9(n,e,i),e=s}}var n2=class extends _.HierarchySeries{constructor(){super(...arguments),this.NodeClass=rNt,this.properties=new oa,this.scalingGroup=this.contentGroup.appendChild(new aNt),this.sectorGroup=this.scalingGroup.appendChild(new US),this.sectorLabelGroup=this.scalingGroup.appendChild(new US),this.highlightSectorGroup=this.scalingGroup.appendChild(new US),this.datumSelection=Ek.select(this.sectorGroup,Nk),this.labelSelection=Ek.select(this.sectorLabelGroup,US),this.highlightSelection=Ek.select(this.highlightSectorGroup,Nk)}processData(){super.processData(),J9(this.rootNode)}updateSelections(){var a;const t=(a=this.ctx.highlightManager)==null?void 0:a.getActiveHighlight();if(this.highlightSelection.update(t!=null?[t]:[],void 0,o=>this.getDatumId(o)),!this.nodeDataRefresh)return;this.nodeDataRefresh=!1;const{chart:e}=this;if(e==null||e.seriesRect==null)return;const n=Array.from(this.rootNode),s=o=>{o.append([new wk({tag:0}),new wk({tag:1})])};this.datumSelection.update(n,void 0,o=>this.getDatumId(o)),this.labelSelection.update(n,s,o=>this.getDatumId(o))}getItemBaseStyle(t){const{properties:e}=this,i=t?e.highlightStyle:void 0;return{fill:i==null?void 0:i.fill,fillOpacity:(i==null?void 0:i.fillOpacity)??e.fillOpacity,stroke:i==null?void 0:i.stroke,strokeWidth:(i==null?void 0:i.strokeWidth)??this.getStrokeWidth(e.strokeWidth),strokeOpacity:(i==null?void 0:i.strokeOpacity)??e.strokeOpacity}}getItemStyleOverrides(t,e,i,n,s,a){const{id:o,properties:r,colorScale:l}=this,{fills:c,strokes:h,itemStyler:p}=r,f=t[0],y=s.fill??c[f%c.length],m=s.stroke??h[f%h.length],b={};if(a||(b.fill=n!=null?l.convert(n):y,b.stroke=m),p!=null){const S=this.cachedDatumCallback(sNt(t.join(":"),a?"highlight":"node"),()=>p({seriesId:o,datum:e,depth:i,highlighted:a,fill:y,stroke:m,...s}));Object.assign(b,S)}return b}updateNodes(){var R,O,L;const{chart:t,data:e,maxDepth:i}=this;if(t==null||e==null)return;const{width:n,height:s}=t.seriesRect,{sectorSpacing:a=0,padding:o=0,cornerRadius:r,childrenKey:l,colorKey:c,colorName:h,labelKey:p,secondaryLabelKey:f,sizeKey:y,sizeName:m}=this.properties;this.contentGroup.translationX=n/2,this.contentGroup.translationY=s/2;const b=a*.5,v=Math.min(n,s)/2/(i+1),D=-Math.PI/2;(R=this.rootNode)==null||R.walk(F=>{const{startAngle:z,endAngle:V}=F;if(F.depth!=null){const H=(z+V)/2+D,W=(F.depth+.5)*v;F.midPoint.x=Math.cos(H)*W,F.midPoint.y=Math.sin(H)*W}}),(O=this.rootNode)==null||O.walk(F=>{const{datum:z,depth:V,startAngle:H,endAngle:W,parent:G,sumSize:$}=F;F.label=void 0,F.secondaryLabel=void 0,F.contentHeight=0;let K;if(z!=null&&V!=null&&p!=null){const Mt=z[p];K=this.getLabelText(this.properties.label,{depth:V,datum:z,childrenKey:l,colorKey:c,colorName:h,labelKey:p,secondaryLabelKey:f,sizeKey:y,sizeName:m,value:Mt})}K===""&&(K=void 0);let X;if(z!=null&&V!=null&&f!=null){const Mt=z[f];X=this.getLabelText(this.properties.secondaryLabel,{depth:V,datum:z,childrenKey:l,colorKey:c,colorName:h,labelKey:p,secondaryLabelKey:f,sizeKey:y,sizeName:m,value:Mt})}if(X===""&&(X=void 0),V==null)return;const j=V*v+b,U=(V+1)*v-b,Z=j>b?b/j:b,tt=U>b?b/U:b,J=H+Z,at=W+Z-J,lt=H+tt,pt=W+tt-lt,ot=Mt=>{if(V===0&&(G==null?void 0:G.sumSize)===$)return{width:2*Math.sqrt(U**2-(Mt*.5)**2),height:Mt,meta:0};const Yt=Mt,cn=2*Math.sqrt(U**2-(j+Yt)**2),Ui=at<Math.PI?2*j*Math.tan(at*.5):1/0,gs=Math.min(cn,Ui),Gs=Math.PI/4;let qn,ra;return V===0?(qn=Mt,ra=Math.sqrt(U**2-(qn/2)**2)-Mt/(2*Math.tan(pt*.5))):nNt(at)<Gs?(qn=2*j*Math.tan(at*.5),ra=Math.sqrt(U**2-(qn/2)**2)-j):(ra=0,qn=0),gs>=ra?{width:gs,height:Yt,meta:1}:{width:ra,height:qn,meta:2}},ft=gR(K,this.properties.label,X,this.properties.secondaryLabel,{padding:o},ot);if(ft==null)return;const{width:ct,height:bt,meta:St,label:xt,secondaryLabel:wt}=ft,kt=D+(H+W)/2,Nt=Math.sin(kt)>=0,$t=Math.cos(kt)>=0,zt=(Nt?3:12)&($t?6:9);let Ot;switch(St){case 0:Ot=0;break;case 1:{const Ne=U-(v-bt)*.58,Yt=Math.sqrt((U-o)**2-(ct/2)**2);Ot=Math.min(Ne,Yt);break}case 2:if(V===0){const Mt=bt/(2*Math.tan(at*.5))+ct*.5,Ne=Math.sqrt(U**2-(bt*.5)**2)-ct*.5;Ot=(Mt+Ne)*.5}else Ot=(j+U)*.5;break}if(xt!=null){const{fontStyle:Mt="normal",fontFamily:Ne,fontWeight:Yt="normal",color:cn="black"}=this.properties.label;F.label={...xt,fontStyle:Mt,fontFamily:Ne,fontWeight:Yt,color:cn,labelPlacement:St,circleQuarter:zt,radius:Ot,theta:kt}}if(wt!=null){const{fontStyle:Mt="normal",fontFamily:Ne,fontWeight:Yt="normal",color:cn="black"}=this.properties.secondaryLabel;F.secondaryLabel={...wt,fontStyle:Mt,fontFamily:Ne,fontWeight:Yt,color:cn,labelPlacement:St,circleQuarter:zt,radius:Ot,theta:kt}}F.contentHeight=ft.height});const I=(F,z,V,H)=>{const{datum:W,datumIndex:G,depth:$,colorValue:K,startAngle:X,endAngle:j}=F;if($==null){z.visible=!1;return}z.visible=!0;const U=this.getItemStyleOverrides(G,W,$,K,V,H),Z=U.strokeWidth??V.strokeWidth;oNt(z,V,U),z.centerX=0,z.centerY=0,z.innerRadius=$*v,z.outerRadius=($+1)*v,z.startAngle=X+D,z.endAngle=j+D,z.inset=b+Z*.5,z.cornerRadius=r},T=this.getItemBaseStyle(!1);this.datumSelection.each((F,z)=>{I(z,F,T,!1)});const k=this.getItemBaseStyle(!0);this.highlightSelection.each((F,z)=>{I(z,F,k,!0)});const E=(F,z,V,H)=>{const{depth:W,contentHeight:G}=F,$=V===0,K=$?F.label:F.secondaryLabel;if(W==null||K==null){z.visible=!1;return}const{labelPlacement:X,circleQuarter:j,radius:U,theta:Z}=K;let tt;switch(H&&(tt=($?this.properties.highlightStyle.label:this.properties.highlightStyle.secondaryLabel).color),z.text=K.text,z.fontSize=K.fontSize,z.lineHeight=K.lineHeight,z.fontStyle=K.fontStyle,z.fontFamily=K.fontFamily,z.fontWeight=K.fontWeight,z.fill=tt??K.color,X){case 0:z.textAlign="center",z.textBaseline="top",z.translationX=0,z.translationY=($?0:G-K.height)-G*.5,z.rotation=0;break;case 1:{const J=(j&3)!==0,nt=$===!J?U:U-(G-K.height);z.textAlign="center",z.textBaseline=J?"bottom":"top",z.translationX=Math.cos(Z)*nt,z.translationY=Math.sin(Z)*nt,z.rotation=J?Z-Math.PI*.5:Z+Math.PI*.5;break}case 2:{const J=(j&6)!==0,nt=$===!J?(G-K.height)*.5:(K.height-G)*.5;z.textAlign="center",z.textBaseline="middle",z.translationX=Math.cos(Z)*U+Math.cos(Z+Math.PI/2)*nt,z.translationY=Math.sin(Z)*U+Math.sin(Z+Math.PI/2)*nt,z.rotation=J?Z:Z+Math.PI;break}}z.visible=!0},w=(L=this.ctx.highlightManager)==null?void 0:L.getActiveHighlight();this.labelSelection.selectByClass(wk).forEach(F=>{E(F.datum,F,F.tag,F.datum===w)})}getTooltipContent(t){const{id:e,properties:i}=this,{labelKey:n,secondaryLabelKey:s,childrenKey:a,sizeKey:o,sizeName:r,colorKey:l,colorName:c,tooltip:h}=i,{datum:p,datumIndex:f,depth:y}=t;if(p==null||y==null)return;const m=[],b=o!=null?p[o]:void 0;b!=null&&m.push({label:r,fallbackLabel:o,value:b});const S=l!=null?p[l]:void 0;S!=null&&m.push({label:c,fallbackLabel:l,value:S});const v=this.getItemBaseStyle(!1);Object.assign(v,this.getItemStyleOverrides(f,p,y,S,v,!1));const D=v.fill;return h.formatTooltip({title:n!=null?p[n]:void 0,symbol:{marker:{shape:"square",fill:D,fillOpacity:1,stroke:void 0,strokeWidth:0,strokeOpacity:1,lineDash:[0],lineDashOffset:0}},data:m},{seriesId:e,datum:p,title:void 0,depth:y,labelKey:n,secondaryLabelKey:s,childrenKey:a,sizeKey:o,sizeName:r,colorKey:l,colorName:c,...v})}createNodeData(){}pickNodeClosestDatum(t){return this.pickNodeNearestDistantObject(t,this.datumSelection.selectByClass(Nk))}animateEmptyUpdateReady(){iNt(this.id,"nodes",this.ctx.animationManager,[this.scalingGroup],{toFn(){return{scalingX:1,scalingY:1}},fromFn(){return{scalingX:0,scalingY:0}}})}computeFocusBounds(t){return t}};n2.className="SunburstSeries";n2.type="sunburst";var{FONT_SIZE_RATIO:BG,ThemeSymbols:{DEFAULT_DIVERGING_SERIES_COLOR_RANGE:lNt}}=_,cNt={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["hierarchy"],identifier:"sunburst",moduleFactory:t=>new n2(t),tooltipDefaults:{range:"exact"},solo:!0,themeTemplate:{series:{label:{fontFamily:{$ref:"fontFamily"},fontSize:{$rem:[BG.LARGE]},minimumFontSize:{$round:[{$mul:[{$ref:"fontSize"},9/12]}]},fontWeight:{$ref:"fontWeight"},color:{$ref:"backgroundColor"},overflowStrategy:"ellipsis",wrapping:"never",spacing:2},secondaryLabel:{fontFamily:{$ref:"fontFamily"},fontSize:{$rem:[BG.SMALLEST]},minimumFontSize:{$round:[{$mul:[{$ref:"fontSize"},7/12]}]},fontWeight:{$ref:"fontWeight"},color:{$ref:"backgroundColor"},overflowStrategy:"ellipsis",wrapping:"never"},sectorSpacing:2,padding:3,highlightStyle:{label:{color:{$ref:"backgroundColor"}},secondaryLabel:{color:{$ref:"backgroundColor"}},fill:"rgba(255,255,255, 0.33)",stroke:"rgba(0, 0, 0, 0.4)",strokeWidth:2}},gradientLegend:{enabled:!0}},paletteFactory:({takeColors:t,colorsCount:e,themeTemplateParameters:i})=>{const{fills:n,strokes:s}=t(e),a=i.get(lNt);return{fills:n,strokes:s,colorRange:a}}},{BaseProperties:LI,HierarchySeriesProperties:uNt,HighlightStyle:hNt,SeriesTooltip:dNt,Validate:qt,BOOLEAN:pNt,COLOR_STRING:NI,FUNCTION:fNt,NUMBER:gNt,OBJECT:Qo,POSITIVE_NUMBER:Pl,RATIO:Bh,STRING:Ep,STRING_ARRAY:t8,TEXT_ALIGN:e8,VERTICAL_ALIGN:yNt,Label:mNt}=_,i8=class extends mNt{constructor(){super(...arguments),this.spacing=0}};A([qt(gNt)],i8.prototype,"spacing");var Jo=class extends LI{constructor(){super(...arguments),this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.cornerRadius=0,this.textAlign="center",this.gap=0,this.padding=0,this.interactive=!0,this.label=new i8}};A([qt(Ep,{optional:!0})],Jo.prototype,"fill");A([qt(Bh)],Jo.prototype,"fillOpacity");A([qt(NI,{optional:!0})],Jo.prototype,"stroke");A([qt(Pl)],Jo.prototype,"strokeWidth");A([qt(Bh)],Jo.prototype,"strokeOpacity");A([qt(Pl)],Jo.prototype,"cornerRadius");A([qt(e8)],Jo.prototype,"textAlign");A([qt(Pl)],Jo.prototype,"gap");A([qt(Pl)],Jo.prototype,"padding");A([qt(pNt)],Jo.prototype,"interactive");A([qt(Qo)],Jo.prototype,"label");var to=class extends LI{constructor(){super(...arguments),this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.cornerRadius=0,this.textAlign="center",this.verticalAlign="middle",this.gap=0,this.padding=0,this.label=new gl,this.secondaryLabel=new uv}};A([qt(Ep,{optional:!0})],to.prototype,"fill");A([qt(Bh)],to.prototype,"fillOpacity");A([qt(NI,{optional:!0})],to.prototype,"stroke");A([qt(Pl,{optional:!0})],to.prototype,"strokeWidth");A([qt(Bh)],to.prototype,"strokeOpacity");A([qt(Pl)],to.prototype,"cornerRadius");A([qt(e8)],to.prototype,"textAlign");A([qt(yNt)],to.prototype,"verticalAlign");A([qt(Pl)],to.prototype,"gap");A([qt(Pl)],to.prototype,"padding");A([qt(Qo)],to.prototype,"label");A([qt(Qo)],to.prototype,"secondaryLabel");var wp=class extends LI{constructor(){super(...arguments),this.label=new gl}};A([qt(Ep,{optional:!0})],wp.prototype,"fill");A([qt(Bh,{optional:!0})],wp.prototype,"fillOpacity");A([qt(NI,{optional:!0})],wp.prototype,"stroke");A([qt(Pl,{optional:!0})],wp.prototype,"strokeWidth");A([qt(Bh,{optional:!0})],wp.prototype,"strokeOpacity");A([qt(Qo)],wp.prototype,"label");var zh=class extends LI{constructor(){super(...arguments),this.label=new gl,this.secondaryLabel=new uv}};A([qt(Ep,{optional:!0})],zh.prototype,"fill");A([qt(Bh,{optional:!0})],zh.prototype,"fillOpacity");A([qt(NI,{optional:!0})],zh.prototype,"stroke");A([qt(Pl,{optional:!0})],zh.prototype,"strokeWidth");A([qt(Bh,{optional:!0})],zh.prototype,"strokeOpacity");A([qt(Qo)],zh.prototype,"label");A([qt(Qo)],zh.prototype,"secondaryLabel");var s2=class extends hNt{constructor(){super(...arguments),this.group=new wp,this.tile=new zh}};A([qt(Qo)],s2.prototype,"group");A([qt(Qo)],s2.prototype,"tile");var zr=class extends uNt{constructor(){super(...arguments),this.highlightStyle=new s2,this.tooltip=new dNt,this.group=new Jo,this.tile=new to,this.undocumentedGroupFills=[],this.undocumentedGroupStrokes=[]}};A([qt(Ep,{optional:!0})],zr.prototype,"sizeName");A([qt(Ep,{optional:!0})],zr.prototype,"labelKey");A([qt(Ep,{optional:!0})],zr.prototype,"secondaryLabelKey");A([qt(fNt,{optional:!0})],zr.prototype,"itemStyler");A([qt(Qo)],zr.prototype,"highlightStyle");A([qt(Qo)],zr.prototype,"tooltip");A([qt(Qo)],zr.prototype,"group");A([qt(Qo)],zr.prototype,"tile");A([qt(t8)],zr.prototype,"undocumentedGroupFills");A([qt(t8)],zr.prototype,"undocumentedGroupStrokes");var{TextUtils:xNt,TextWrapper:bNt,isNumberEqual:vNt,createDatumId:zG,Rect:_G,Group:jG,BBox:HS,Selection:Ok,Text:uM,Transformable:SNt,applyShapeStyle:MNt}=_,ANt=class extends _.HierarchyNode{constructor(){super(...arguments),this.labelValue=void 0,this.secondaryLabelValue=void 0,this.label=void 0,this.secondaryLabel=void 0,this.bbox=void 0,this.padding=void 0}},FG=new uM;function DNt(t,e){const{fontStyle:i,fontWeight:n,fontSize:s,fontFamily:a}=e;FG.setProperties({text:t,fontStyle:i,fontWeight:n,fontSize:s,fontFamily:a,textAlign:"left",textBaseline:"top"});const{width:o,height:r}=FG.getBBox();return{width:o,height:r}}function Bu(t){return t.children.length>0?t.sumSize-t.sizeValue:t.sizeValue}var GG={left:0,center:.5,right:1},INt={top:0,middle:.5,bottom:1};(class extends _.Group{distanceSquared(t,e){return this.getBBox().distanceSquared(t,e)}});var a2=class extends _.HierarchySeries{constructor(){super(...arguments),this.NodeClass=ANt,this.properties=new zr,this.rectGroup=this.contentGroup.appendChild(new jG),this.datumSelection=Ok.select(this.rectGroup,_G),this.labelSelection=Ok.select(this.labelGroup,jG),this.highlightSelection=Ok.select(this.rectGroup,_G)}groupTitleHeight(t,e){const{labelValue:i}=t,{label:n}=this.properties.group,s=3;if(i!=null){if(n.fontSize>e.width/s||n.fontSize>e.height/s)return;{const{height:a}=DNt(i,n);return Math.max(a,n.fontSize)}}}getNodePadding(t,e){if(t.parent==null)return{top:0,right:0,bottom:0,left:0};if(t.children.length===0){const{padding:o}=this.properties.tile;return{top:o,right:o,bottom:o,left:o}}const{label:{spacing:i},padding:n}=this.properties.group,s=this.groupTitleHeight(t,e),a=s!=null?s+i:0;return{top:n+a,right:n,bottom:n,left:n}}sortChildren({children:t}){const e=Array.from(t,(n,s)=>s).filter(n=>Bu(t[n])>0).sort((n,s)=>Bu(t[s])-Bu(t[n]));return{sortedChildrenIndices:e,childAt:n=>{const s=e[n];return t[s]}}}squarify(t,e){const{datum:i,children:n}=t;if(e.width<=0||e.height<=0){t.bbox=void 0,t.padding=void 0,t.midPoint.x=NaN,t.midPoint.y=NaN;return}const s=i!=null?this.getNodePadding(t,e):{top:0,right:0,bottom:0,left:0};t.parent==null?(t.bbox=void 0,t.padding=void 0,t.midPoint.x=NaN,t.midPoint.y=NaN):(t.bbox=e,t.padding=s,t.midPoint.x=e.x+e.width/2,t.midPoint.y=e.y);const{sortedChildrenIndices:a,childAt:o}=this.sortChildren(t),r=a.every(k=>n[k].children.length===0),l=1,c=e.width-s.left-s.right,h=e.height-s.top-s.bottom;if(c<=0||h<=0)return;const p=a.length;let f=0,y=0,m=1/0,b=a.reduce((k,E)=>k+Bu(n[E]),0);const S=new HS(e.x+s.left,e.y+s.top,c,h),v=S.clone();let D=0;for(;D<p;){const k=Bu(o(D)),E=Bu(o(y)),w=v.width<v.height;f+=k;const R=w?v.height:v.width,O=w?v.width:v.height,L=O*E/f;let F=R*f/b;const z=Math.max(L,F)/Math.min(L,F),V=Math.abs(l-z);if(V<m){m=V,D++;continue}f-=k,F=R*f/b;let H=w?v.x:v.y;for(let W=y;W<D;W++){const G=o(W),$=Bu(G),K=w?H:v.x,X=w?v.y:H,j=O*$/f,U=w?j:F,Z=w?F:j,tt=new HS(K,X,U,Z);this.applyGap(S,tt,r),this.squarify(G,tt),b-=$,H+=j}w?(v.y+=F,v.height-=F):(v.x+=F,v.width-=F),y=D,f=0,m=1/0}const I=v.width<v.height;let T=I?v.x:v.y;for(let k=y;k<p;k++){const E=o(k),w=I?T:v.x,R=I?v.y:T,O=Bu(E)/b,L=v.width*(I?O:1),F=v.height*(I?1:O),z=new HS(w,R,L,F);this.applyGap(S,z,r),this.squarify(E,z),T+=I?L:F}}applyGap(t,e,i){const n=i?this.properties.tile.gap*.5:this.properties.group.gap*.5,s=l=>({left:l.x,top:l.y,right:l.x+l.width,bottom:l.y+l.height}),a=s(t),o=s(e);["top","right","bottom","left"].forEach(l=>{vNt(a[l],o[l])||e.shrink(n,l)})}createNodeData(){}getGroupBaseStyle(t){const{properties:e}=this,{group:i}=e,n=t?e.highlightStyle.group:void 0;return{fill:(n==null?void 0:n.fill)??i.fill,fillOpacity:(n==null?void 0:n.fillOpacity)??i.fillOpacity,stroke:(n==null?void 0:n.stroke)??i.stroke,strokeWidth:(n==null?void 0:n.strokeWidth)??i.strokeWidth,strokeOpacity:(n==null?void 0:n.strokeOpacity)??i.strokeOpacity}}getGroupStyleOverrides(t,e,i,n,s){const{id:a,properties:o}=this,{undocumentedGroupFills:r,undocumentedGroupStrokes:l,itemStyler:c}=o,h=n.fill??r[Math.min(i??0,r.length)],p=n.stroke??l[Math.min(i??0,l.length)],f={};if(s||(f.fill=h,f.stroke=p),c!=null){const y=this.cachedDatumCallback(zG(t.join(":"),s?"highlight":"node"),()=>c({seriesId:a,datum:e,depth:i,highlighted:s,fill:h,stroke:p,...n}));Object.assign(f,y)}return f}getTileBaseStyle(t){const{properties:e}=this,{tile:i}=e,n=t?e.highlightStyle.tile:void 0;return{fill:(n==null?void 0:n.fill)??i.fill,fillOpacity:(n==null?void 0:n.fillOpacity)??i.fillOpacity,stroke:(n==null?void 0:n.stroke)??i.stroke,strokeWidth:(n==null?void 0:n.strokeWidth)??i.strokeWidth,strokeOpacity:(n==null?void 0:n.strokeOpacity)??i.strokeOpacity}}getTileStyleOverrides(t,e,i,n,s,a){const{id:o,properties:r,colorScale:l}=this,{fills:c,strokes:h,itemStyler:p}=r,f=t[0],y=s.fill??c[f%c.length],m=s.stroke??h[f%h.length],b={};if(a||(b.fill=n!=null?l.convert(n):y,b.stroke=m),p!=null){const S=this.cachedDatumCallback(zG(t.join(":"),a?"highlight":"node"),()=>p({seriesId:o,datum:e,depth:i,highlighted:a,fill:y,stroke:m,...s}));Object.assign(b,S)}return b}updateSelections(){var s;let t=(s=this.ctx.highlightManager)==null?void 0:s.getActiveHighlight();if(t!=null&&!this.properties.group.interactive&&t.children.length!==0&&(t=void 0),this.highlightSelection.update(t!=null?[t]:[],void 0,a=>this.getDatumId(a)),!this.nodeDataRefresh)return;this.nodeDataRefresh=!1;const{seriesRect:e}=this.chart??{};if(!e)return;const i=Array.from(this.rootNode),n=a=>{a.append([new uM({tag:0}),new uM({tag:1})])};this.datumSelection.update(i,void 0,a=>this.getDatumId(a)),this.labelSelection.update(i,n,a=>this.getDatumId(a))}updateNodes(){var E,w,R;const{rootNode:t,data:e}=this,{childrenKey:i,colorKey:n,colorName:s,labelKey:a,secondaryLabelKey:o,sizeKey:r,sizeName:l,highlightStyle:c,tile:h,group:p}=this.properties,{seriesRect:f}=this.chart??{};if(!f||!e)return;(E=this.rootNode)==null||E.walk(O=>{const{datum:L,depth:F,children:z}=O,V=z.length===0,H=V?h.label:p.label;let W;if(L!=null&&F!=null&&a!=null){const $=L[a];W=this.getLabelText(H,{depth:F,datum:L,childrenKey:i,colorKey:n,colorName:s,labelKey:a,secondaryLabelKey:o,sizeKey:r,sizeName:l,value:$})}W===""&&(W=void 0);let G;if(V&&L!=null&&F!=null&&o!=null){const $=L[o];G=this.getLabelText(h.secondaryLabel,{depth:F,datum:L,childrenKey:i,colorKey:n,colorName:s,labelKey:a,secondaryLabelKey:o,sizeKey:r,sizeName:l,value:$})}G===""&&(G=void 0),O.labelValue=W,O.secondaryLabelValue=G});const{width:y,height:m}=f;this.squarify(t,new HS(0,0,y,m)),(w=this.rootNode)==null||w.walk(O=>{const{bbox:L,children:F,labelValue:z,secondaryLabelValue:V}=O;if(O.label=void 0,O.secondaryLabel=void 0,L!=null)if(F.length===0){const H={width:L.width,height:L.height,meta:null},W=gR(z,this.properties.tile.label,V,this.properties.tile.secondaryLabel,{padding:h.padding},()=>H);if(W==null)return;const{height:G,label:$,secondaryLabel:K}=W,{textAlign:X,verticalAlign:j,padding:U}=h,Z=GG[X]??.5,tt=L.x+U+(L.width-2*U)*Z,J=INt[j]??.5,nt=L.y+U+G*.5+(L.height-2*U-G)*J;if($!=null){const{fontStyle:at="normal",fontFamily:lt,fontWeight:ut="normal",color:pt="black"}=this.properties.tile.label;O.label={text:$.text,fontSize:$.fontSize,lineHeight:$.lineHeight,fontStyle:at,fontFamily:lt,fontWeight:ut,color:pt,textAlign:X,verticalAlign:"middle",x:tt,y:nt-(G-$.height)*.5}}if(K!=null){const{fontStyle:at="normal",fontFamily:lt,fontWeight:ut="normal",color:pt="black"}=this.properties.tile.secondaryLabel;O.secondaryLabel={text:K.text,fontSize:K.fontSize,lineHeight:K.fontSize,fontStyle:at,fontFamily:lt,fontWeight:ut,color:pt,textAlign:X,verticalAlign:"middle",x:tt,y:nt+(G-K.height)*.5}}}else{if(z==null)return;{const{padding:H,textAlign:W}=p,G=this.groupTitleHeight(O,L);if(G==null)return;const $=L.width-2*H,K=bNt.wrapText(z,{maxWidth:L.width-2*H,font:p.label,textWrap:"never"}),X=GG[W]??.5,{fontStyle:j="normal",fontFamily:U,fontWeight:Z="normal",color:tt="black"}=this.properties.group.label;O.label={text:K,fontSize:p.label.fontSize,lineHeight:xNt.getLineHeight(p.label.fontSize),fontStyle:j,fontFamily:U,fontWeight:Z,color:tt,textAlign:W,verticalAlign:"middle",x:L.x+H+$*X,y:L.y+H+G*.5}}}});const b=(O,L,F,z,V)=>{var nt;const{bbox:H}=O;if(H==null){L.visible=!1;return}const{datum:W,depth:G=-1,datumIndex:$,colorValue:K}=O,X=O.children.length===0,j=X?z:F,U=X?this.getTileStyleOverrides($,W,G,K,j,V):this.getGroupStyleOverrides($,W,G,j,V);L.crisp=!0,MNt(L,j,U),L.cornerRadius=X?h.cornerRadius:p.cornerRadius,L.zIndex=[0,G,V?1:0];const Z=(nt=O.parent)==null?void 0:nt.children.every(at=>at.children.length===0),tt=O.parent!=null?O.parent.bbox:void 0,J=O.parent!=null?O.parent.padding:void 0;Z===!0&&tt!=null&&J!=null?(L.clipBBox=H,L.x=tt.x+J.left,L.y=tt.y+J.top,L.width=tt.width-(J.left+J.right),L.height=tt.height-(J.top+J.bottom)):(L.clipBBox=void 0,L.x=H.x,L.y=H.y,L.width=H.width,L.height=H.height),L.visible=!0},S=this.getGroupBaseStyle(!1),v=this.getTileBaseStyle(!1);this.datumSelection.each((O,L)=>b(L,O,S,v,!1));const D=this.getGroupBaseStyle(!0),I=this.getTileBaseStyle(!0);this.highlightSelection.each((O,L)=>{b(L,O,D,I,!0)});const T=(O,L,F,z)=>{const V=O.children.length===0,H=F===0?O.label:O.secondaryLabel;if(H==null){L.visible=!1;return}let W;if(z){const{tile:G,group:$}=c;W=G.secondaryLabel.color,V?F===0&&(W=G.label.color):W=$.label.color}L.text=H.text,L.fontSize=H.fontSize,L.lineHeight=H.lineHeight,L.fontStyle=H.fontStyle,L.fontFamily=H.fontFamily,L.fontWeight=H.fontWeight,L.fill=W??H.color,L.textAlign=H.textAlign,L.textBaseline=H.verticalAlign,L.x=H.x,L.y=H.y,L.visible=!0,L.zIndex=1},k=(R=this.ctx.highlightManager)==null?void 0:R.getActiveHighlight();this.labelSelection.selectByClass(uM).forEach(O=>{T(O.datum,O,O.tag,O.datum===k)})}pickNodeClosestDatum(t){const e=this.pickNodeExactShape(t);return e!==void 0?e:this.pickNodeNearestDistantObject(t,this.datumSelection.nodes())}getTooltipContent(t){const{id:e,properties:i}=this,{labelKey:n,secondaryLabelKey:s,childrenKey:a,sizeKey:o,sizeName:r,colorKey:l,colorName:c,tooltip:h}=i,{datum:p,datumIndex:f,depth:y,children:m}=t;if(p==null||y==null)return;const b=m.length===0,S=[],v=o!=null?p[o]:void 0;v!=null&&S.push({label:r,fallbackLabel:o,value:v});const D=l!=null?p[l]:void 0;D!=null&&S.push({label:c,fallbackLabel:l,value:D});let I;b?(I=this.getTileBaseStyle(!1),Object.assign(I,this.getTileStyleOverrides(f,p,y,D,I,!1))):(I=this.getGroupBaseStyle(!1),Object.assign(I,this.getGroupStyleOverrides(f,p,y,I,!1)));const T=I.fill,k=b?{marker:{shape:"square",fill:T,fillOpacity:1,stroke:void 0,strokeWidth:0,strokeOpacity:1,lineDash:[0],lineDashOffset:0}}:void 0;return h.formatTooltip({title:n!=null?p[n]:void 0,symbol:k,data:S},{seriesId:e,datum:p,title:void 0,depth:y,labelKey:n,secondaryLabelKey:s,childrenKey:a,sizeKey:o,sizeName:r,colorKey:l,colorName:c,...I})}computeFocusBounds(t){return SNt.toCanvas(this.contentGroup,t.getBBox())}};a2.className="TreemapSeries";a2.type="treemap";var{FONT_SIZE_RATIO:VG,ThemeSymbols:{DEFAULT_DIVERGING_SERIES_COLOR_RANGE:TNt,DEFAULT_HIERARCHY_FILLS:CNt,DEFAULT_HIERARCHY_STROKES:kNt}}=_,LNt={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["hierarchy"],identifier:"treemap",moduleFactory:t=>new a2(t),tooltipDefaults:{range:"exact"},solo:!0,themeTemplate:{series:{group:{label:{enabled:!0,color:{$ref:"textColor"},fontStyle:void 0,fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},spacing:4},fill:void 0,stroke:void 0,strokeWidth:1,padding:4,gap:2,textAlign:"left"},tile:{label:{enabled:!0,color:{$ref:"backgroundColor"},fontStyle:void 0,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:[1.5]},minimumFontSize:{$rem:[VG.SMALLER]},fontFamily:{$ref:"fontFamily"},wrapping:"on-space",overflowStrategy:"ellipsis",spacing:2},secondaryLabel:{enabled:!0,color:{$ref:"backgroundColor"},fontStyle:void 0,fontWeight:void 0,fontSize:{$ref:"fontSize"},minimumFontSize:{$rem:[VG.SMALLER]},fontFamily:{$ref:"fontFamily"},wrapping:"never",overflowStrategy:"ellipsis"},fill:void 0,stroke:void 0,strokeWidth:0,padding:3,gap:1},highlightStyle:{group:{label:{color:{$ref:"textColor"}},fill:"rgba(255,255,255, 0.33)",stroke:"rgba(0, 0, 0, 0.4)",strokeWidth:2},tile:{label:{color:{$ref:"backgroundColor"}},secondaryLabel:{color:{$ref:"backgroundColor"}},fill:"rgba(255,255,255, 0.33)",stroke:"rgba(0, 0, 0, 0.4)",strokeWidth:2}}},gradientLegend:{enabled:!0}},paletteFactory:({takeColors:t,colorsCount:e,themeTemplateParameters:i})=>{const{fills:n,strokes:s}=t(e),a=i.get(TNt),o=i.get(CNt),r=i.get(kNt);return{fills:n,strokes:s,colorRange:a,undocumentedGroupFills:o,undocumentedGroupStrokes:r}}},{AbstractBarSeriesProperties:NNt,BaseProperties:mv,PropertiesArray:ENt,SeriesTooltip:wNt,Validate:ye,BOOLEAN:ONt,COLOR_STRING:o2,FUNCTION:n8,LINE_DASH:s8,NUMBER:RNt,OBJECT:iu,OBJECT_ARRAY:PNt,POSITIVE_NUMBER:gy,RATIO:r2,STRING:yy,UNION:a8,DropShadow:BNt,Label:zNt}=_,EI=class extends mv{};A([ye(a8(["subtotal","total"],"a total type"))],EI.prototype,"totalType");A([ye(RNt)],EI.prototype,"index");A([ye(yy)],EI.prototype,"axisLabel");var o8=class extends mv{};A([ye(n8,{optional:!0})],o8.prototype,"renderer");var l2=class extends zNt{constructor(){super(...arguments),this.placement="outside-end",this.padding=6}};A([ye(a8(["inside-center","inside-start","inside-end","outside-start","outside-end"],"a placement"))],l2.prototype,"placement");A([ye(gy)],l2.prototype,"padding");var ks=class extends mv{constructor(){super(...arguments),this.fill="#c16068",this.stroke="#c16068",this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.strokeWidth=1,this.cornerRadius=0,this.shadow=new BNt().set({enabled:!1}),this.label=new l2,this.tooltip=new o8}};A([ye(yy,{optional:!0})],ks.prototype,"name");A([ye(o2)],ks.prototype,"fill");A([ye(o2)],ks.prototype,"stroke");A([ye(r2)],ks.prototype,"fillOpacity");A([ye(r2)],ks.prototype,"strokeOpacity");A([ye(s8)],ks.prototype,"lineDash");A([ye(gy)],ks.prototype,"lineDashOffset");A([ye(gy)],ks.prototype,"strokeWidth");A([ye(gy)],ks.prototype,"cornerRadius");A([ye(n8,{optional:!0})],ks.prototype,"itemStyler");A([ye(iu)],ks.prototype,"shadow");A([ye(iu)],ks.prototype,"label");A([ye(iu)],ks.prototype,"tooltip");var Op=class extends mv{constructor(){super(...arguments),this.enabled=!0,this.stroke="black",this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.strokeWidth=2}};A([ye(ONt)],Op.prototype,"enabled");A([ye(o2)],Op.prototype,"stroke");A([ye(r2)],Op.prototype,"strokeOpacity");A([ye(s8)],Op.prototype,"lineDash");A([ye(gy)],Op.prototype,"lineDashOffset");A([ye(gy)],Op.prototype,"strokeWidth");var wI=class extends mv{constructor(){super(...arguments),this.positive=new ks,this.negative=new ks,this.total=new ks}};A([ye(iu)],wI.prototype,"positive");A([ye(iu)],wI.prototype,"negative");A([ye(iu)],wI.prototype,"total");var nu=class extends NNt{constructor(){super(...arguments),this.item=new wI,this.totals=new ENt(EI),this.line=new Op,this.tooltip=new wNt}};A([ye(yy)],nu.prototype,"xKey");A([ye(yy)],nu.prototype,"yKey");A([ye(yy,{optional:!0})],nu.prototype,"xName");A([ye(yy,{optional:!0})],nu.prototype,"yName");A([ye(iu)],nu.prototype,"item");A([ye(PNt)],nu.prototype,"totals");A([ye(iu)],nu.prototype,"line");A([ye(iu)],nu.prototype,"tooltip");var{adjustLabelPlacement:_Nt,SeriesNodePickMode:UG,fixNumericExtent:jNt,valueProperty:HG,keyProperty:FNt,accumulativeValueProperty:WS,trailingAccumulatedValueProperty:GNt,ChartAxisDirection:Rk,createDatumId:VNt,checkCrisp:UNt,updateLabelNode:HNt,prepareBarAnimationFunctions:WNt,collapsedStartingBarPosition:YNt,resetBarSelectionsFn:$Nt,seriesLabelFadeInAnimation:KNt,resetLabelFn:XNt,animationValidation:ZNt,DEFAULT_CARTESIAN_DIRECTION_KEYS:qNt,DEFAULT_CARTESIAN_DIRECTION_NAMES:QNt,computeBarFocusBounds:JNt,isContinuous:WG,Rect:tEt,motion:eEt,applyShapeStyle:iEt}=_,c2=class extends _.AbstractBarSeries{constructor(t){super({moduleCtx:t,directionKeys:qNt,directionNames:QNt,pickModes:[UG.NEAREST_NODE,UG.EXACT_SHAPE_MATCH],pathsPerSeries:["connector"],hasHighlightedLabels:!0,pathsZIndexSubOrderOffset:[-1,-1],animationResetFns:{datum:$Nt,label:XNt}}),this.properties=new nu,this.seriesItemTypes=new Set(["positive","negative","total"])}async processData(t){var D,I,T,k;const{xKey:e,yKey:i,totals:n}=this.properties,{data:s=[]}=this;if(!this.properties.isValid()||!this.visible)return;const a=E=>WG(E)&&Number(E)>=0,o=E=>WG(E)&&Number(E)>=0,r=E=>E==="total"||E==="subtotal",l={missingValue:void 0,invalidValue:void 0},c=[],h=n.reduce((E,w)=>{const R=E.get(w.index);return R?R.push(w):E.set(w.index,[w]),E},new Map);s.forEach((E,w)=>{var R;c.push(E),(R=h.get(w))==null||R.forEach(O=>c.push({...O.toJson(),[e]:O.axisLabel}))});const p=[];this.ctx.animationManager.isSkipped()||p.push(ZNt());const f=(D=this.getCategoryAxis())==null?void 0:D.scale,y=(I=this.getValueAxis())==null?void 0:I.scale,{isContinuousX:m,xScaleType:b,yScaleType:S}=this.getScaleInformation({xScale:f,yScale:y}),{processedData:v}=await this.requestDataModel(t,c,{props:[FNt(e,b,{id:"xValue"}),WS(i,S,{...l,id:"yCurrent"}),WS(i,S,{...l,missingValue:0,id:"yCurrentTotal"}),WS(i,S,{...l,id:"yCurrentPositive",validation:a}),WS(i,S,{...l,id:"yCurrentNegative",validation:o}),GNt(i,S,{...l,id:"yPrevious"}),HG(i,S,{id:"yRaw"}),HG("totalType","band",{id:"totalTypeValue",missingValue:void 0,validation:r}),...m?[_.SMALLEST_KEY_INTERVAL,_.LARGEST_KEY_INTERVAL]:[],...p]});this.smallestDataInterval=(T=v.reduced)==null?void 0:T.smallestKeyInterval,this.largestDataInterval=(k=v.reduced)==null?void 0:k.largestKeyInterval,this.updateSeriesItemTypes(),this.animationState.transition("updateData")}getSeriesDomain(t){const{processedData:e,dataModel:i}=this;if(!e||!i)return[];const{keys:[n],values:s}=e.domain;if(t===this.getCategoryDirection()){const a=i.resolveProcessedDataDefById(this,"xValue");if((a==null?void 0:a.def.type)==="key"&&(a==null?void 0:a.def.valueType)==="category")return n;const o=t===Rk.Y,r=this.getCategoryAxis().isReversed();return this.padBandExtent(n,r!==o)}else{const a=i.resolveProcessedDataIndexById(this,"yCurrent"),o=s[a],r=[Math.min(0,o[0]),Math.max(0,o[1])];return jNt(r)}}getSeriesRange(t,e){return[NaN,NaN]}createNodeData(){const{data:t,dataModel:e,processedData:i}=this,n=this.getCategoryAxis(),s=this.getValueAxis();if(!t||!n||!s||!e||!i)return;const{line:a}=this.properties,o=n.scale,r=s.scale,l=this.getBarDirection()===Rk.X,c=this.getBandwidth(n)??10,h=n.isReversed(),p=s.isReversed();if(i.type!=="ungrouped")return;const f={itemId:this.properties.yKey,nodeData:[],labelData:[],pointData:[],scales:this.calculateScaling(),visible:this.visible};if(!this.visible)return f;const y=[],m=e.resolveKeysById(this,"xValue",i),b=e.resolveColumnById(this,"yRaw",i),S=e.resolveColumnById(this,"totalTypeValue",i),v=e.resolveColumnById(this,"yCurrent",i),D=e.resolveColumnById(this,"yPrevious",i),I=e.resolveColumnById(this,"yCurrentTotal",i),T=UNt(n==null?void 0:n.scale,n==null?void 0:n.visibleRange,this.smallestDataInterval,this.largestDataInterval);function k(H,W,G){return H||W?{cumulativeValue:I[G],trailingValue:W?w:0}:{cumulativeValue:v[G],trailingValue:D[G]}}function E(H,W,G,$,K){return H?$:W?($??0)-(K??0):G}let w=0;const{xKey:R,yKey:O,xName:L,yName:F}=this.properties;(i.dataSources.get(this.id)??[]).forEach((H,W)=>{const G=S[W],$=this.isSubtotal(G),K=this.isTotal(G),X=K||$,j=m[W];if(j==null)return;const U=Math.round(o.convert(j)),Z=b[W],{cumulativeValue:tt,trailingValue:J}=k(K,$,W);X&&(w=tt??0);const nt=Math.round(r.convert(tt)),at=Math.round(r.convert(J)),lt=E(K,$,Z,tt,J),ut=(lt??0)>=0,pt=this.getSeriesItemType(ut,G),{strokeWidth:ot,label:ft}=this.getItemConfig(pt),ct=ut?nt:at,bt=ut?at:nt,St=Math.max(ot,Math.abs(bt-ct)),xt={x:l?Math.min(ct,bt):U,y:l?U:Math.min(ct,bt),width:l?St:c,height:l?c:St},wt={x:xt.x+xt.width/2,y:xt.y+xt.height/2},kt=X?nt:at,Nt=Math.floor(a.strokeWidth)%2/2,$t=h?nt:kt,zt=h?kt:nt;let Ot,Mt;l?(Ot={x:$t+Nt,y:xt.y},Mt={x:zt+Nt,y:xt.y+xt.height}):(Ot={x:xt.x,y:$t+Nt},Mt={x:xt.x+xt.width,y:zt+Nt});const Ne={x:h?Mt.x:Ot.x,y:h?Mt.y:Ot.y,x2:h?Ot.x:Mt.x,y2:h?Ot.y:Mt.y,size:0};y.push(Ne);const Yt=pt==="subtotal"?"total":pt,cn=this.getLabelText(ft,{itemId:Yt,value:lt,datum:H,xKey:R,yKey:O,xName:L,yName:F}),Ui={index:W,series:this,itemId:pt,datum:H,datumIndex:W,cumulativeValue:tt??0,xValue:j,yValue:lt,yKey:O,xKey:R,x:xt.x,y:xt.y,width:xt.width,height:xt.height,midPoint:wt,crisp:T,label:{text:cn,..._Nt({isUpward:(lt??-1)>=0!==p,isVertical:!l,placement:ft.placement,padding:ft.padding,rect:xt})}};f.nodeData.push(Ui),f.labelData.push(Ui)});const V=this.properties.line.enabled;return v!=null&&V&&(f.pointData=y),f}updateSeriesItemTypes(){const{dataModel:t,seriesItemTypes:e,processedData:i}=this;if(!t||!i)return;e.clear();const n=t.resolveProcessedDataIndexById(this,"yCurrentPositive"),s=t.resolveProcessedDataIndexById(this,"yCurrentNegative"),a=t.resolveProcessedDataIndexById(this,"totalTypeValue"),o=i.domain.values[n]??[],r=i.domain.values[s]??[];o.length>0&&e.add("positive"),r.length>0&&e.add("negative");const l=i==null?void 0:i.domain.values[a];l&&l.forEach(c=>{(c==="total"||c==="subtotal")&&e.add("total")})}isSubtotal(t){return t==="subtotal"}isTotal(t){return t==="total"}nodeFactory(){return new tEt}getSeriesItemType(t,e){return e??(t?"positive":"negative")}getItemConfig(t){switch(t){case"positive":return this.properties.item.positive;case"negative":return this.properties.item.negative;case"subtotal":case"total":return this.properties.item.total}}updateDatumSelection(t){const{nodeData:e,datumSelection:i}=t,n=e??[];return i.update(n)}getItemStyle(t,e,i,n){const{id:s,properties:a}=this,o=a.item[i==="subtotal"?"total":i],r=n?a.highlightStyle.item:void 0,{itemStyler:l}=o,{xKey:c,yKey:h}=a,p={fill:(r==null?void 0:r.fill)??o.fill,fillOpacity:(r==null?void 0:r.fillOpacity)??o.fillOpacity,stroke:(r==null?void 0:r.stroke)??o.stroke,strokeWidth:(r==null?void 0:r.strokeWidth)??o.strokeWidth,strokeOpacity:(r==null?void 0:r.strokeOpacity)??o.strokeOpacity,lineDash:(r==null?void 0:r.lineDash)??o.lineDash??[],lineDashOffset:(r==null?void 0:r.lineDashOffset)??o.lineDashOffset,cornerRadius:o.cornerRadius};if(l!=null){const f=this.cachedDatumCallback(VNt(t,n?"highlight":"node"),()=>l({seriesId:s,itemId:i,datum:e,xKey:c,yKey:h,highlighted:n,...p}));Object.assign(p,f)}return p}updateDatumNodes(t){const{datumSelection:e,isHighlight:i}=t,n=this.getCategoryDirection()===Rk.X;e.each((s,a)=>{const o=a.itemId,r=this.getItemStyle(String(a.datumIndex),a.datum,o,i);iEt(s,r),s.visible=n?a.width>0:a.height>0,s.crisp=a.crisp})}updateLabelSelection(t){const{labelData:e,labelSelection:i}=t;if(e.length===0)return i.update([]);const n=e.filter(s=>{const{label:a}=this.getItemConfig(s.itemId);return a.enabled});return i.update(n)}updateLabelNodes(t){t.labelSelection.each((e,i)=>{HNt(e,this.getItemConfig(i.itemId).label,i.label)})}getTooltipContent(t){var w;const{id:e,dataModel:i,processedData:n,properties:s}=this,{xKey:a,xName:o,yKey:r,yName:l,tooltip:c}=s,h=this.getCategoryAxis(),p=this.getValueAxis();if(!i||!n||!h||!p)return;const{datumIndex:f}=t,y=(w=n.dataSources.get(this.id))==null?void 0:w[f],m=i.resolveKeysById(this,"xValue",n)[f],b=i.resolveColumnById(this,"yRaw",n)[f],S=i.resolveColumnById(this,"yCurrentTotal",n),v=i.resolveColumnById(this,"totalTypeValue",n);if(m==null)return;const D=v[f],I=(b??0)>=0,T=this.getSeriesItemType(I,D);let k;if(this.isTotal(D))k=S[f];else if(this.isSubtotal(D)){k=S[f];for(let R=f-1;R>=0;R-=1)if(this.isSubtotal(v[R])){k=k-S[R];break}}else k=b;const E=this.getItemStyle(String(f),y,T,!1);return c.formatTooltip({heading:h.formatDatum(m),symbol:this.legendItemSymbol(T),data:[{label:l,fallbackLabel:r,value:p.formatDatum(k)}]},{seriesId:e,datum:y,title:l,itemId:T,xKey:a,xName:o,yKey:r,yName:l,...E})}legendItemSymbol(t){const{fill:e,stroke:i,fillOpacity:n,strokeOpacity:s,strokeWidth:a,lineDash:o,lineDashOffset:r}=this.getItemConfig(t);return{marker:{fill:e,stroke:i,fillOpacity:n,strokeOpacity:s,strokeWidth:a,lineDash:o,lineDashOffset:r}}}getLegendData(t){if(t!=="category")return[];const{id:e,seriesItemTypes:i}=this,n=[],s=o=>o.charAt(0).toUpperCase()+o.substring(1),{showInLegend:a}=this.properties;return i.forEach(o=>{const{name:r}=this.getItemConfig(o);n.push({legendType:"category",id:e,itemId:o,seriesId:e,enabled:!0,label:{text:r??s(o)},symbol:this.legendItemSymbol(o),hideInLegend:!a,isFixed:!0})}),n}toggleSeriesItem(){}animateEmptyUpdateReady({datumSelection:t,labelSelection:e,contextData:i,paths:n}){const s=WNt(YNt(this.isVertical(),this.axes,"normal"));eEt.fromToMotion(this.id,"datums",this.ctx.animationManager,[t],s),KNt(this,"labels",this.ctx.animationManager,e);const{pointData:a}=i;if(!a)return;const[o]=n;this.isVertical()?this.animateConnectorLinesVertical(o,a):this.animateConnectorLinesHorizontal(o,a)}animateConnectorLinesHorizontal(t,e){const{path:i}=t;this.updateLineNode(t);const n=this.getValueAxis(),s=n==null?void 0:n.isReversed(),a=s?(c,h)=>c<h:(c,h)=>c>h,o=n==null?void 0:n.scale.convert(0),r=e.reduce((c,h)=>(a(h.x,c)&&(c=h.x),c),s?1/0:0),l=(c,h,p,f,y)=>(c-h)/(p-h)*(y-f)+f;this.ctx.animationManager.animate({id:`${this.id}_connectors`,groupId:this.id,phase:"initial",from:o,to:r,ease:_.Motion.easeOut,collapsable:!1,onUpdate(c){i.clear(!0),e.forEach((h,p)=>{const f=l(c,o,r,o,h.x),y=l(c,o,r,o,h.x2);p!==0&&i.lineTo(f,h.y),i.moveTo(y,h.y2)}),t.checkPathDirty()}})}animateConnectorLinesVertical(t,e){const{path:i}=t;this.updateLineNode(t);const n=this.getValueAxis(),s=n==null?void 0:n.isReversed(),a=s?(c,h)=>c>h:(c,h)=>c<h,o=n==null?void 0:n.scale.convert(0),r=e.reduce((c,h)=>(a(h.y,c)&&(c=h.y),c),s?0:1/0),l=(c,h,p,f,y)=>(c-h)/(p-h)*(y-f)+f;this.ctx.animationManager.animate({id:`${this.id}_connectors`,groupId:this.id,phase:"initial",from:o,to:r,ease:_.Motion.easeOut,collapsable:!1,onUpdate(c){i.clear(!0),e.forEach((h,p)=>{const f=l(c,o,r,o,h.y),y=l(c,o,r,o,h.y2);p!==0&&i.lineTo(h.x,f),i.moveTo(h.x2,y)}),t.checkPathDirty()}})}animateReadyResize(t){super.animateReadyResize(t),this.resetConnectorLinesPath(t)}updatePaths(t){this.resetConnectorLinesPath({contextData:t.contextData,paths:t.paths})}resetConnectorLinesPath({contextData:t,paths:e}){if(e.length===0)return;const[i]=e;this.updateLineNode(i);const{path:n}=i;n.clear(!0);const{pointData:s}=t;s&&(s.forEach((a,o)=>{o!==0&&n.lineTo(a.x,a.y),n.moveTo(a.x2,a.y2)}),i.checkPathDirty())}updateLineNode(t){const{stroke:e,strokeWidth:i,strokeOpacity:n,lineDash:s,lineDashOffset:a}=this.properties.line;t.setProperties({fill:void 0,stroke:e,strokeWidth:this.getStrokeWidth(i),strokeOpacity:n,lineDash:s,lineDashOffset:a,lineJoin:"round",pointerEvents:_.PointerEvents.None})}isLabelEnabled(){const{positive:t,negative:e,total:i}=this.properties.item;return t.label.enabled||e.label.enabled||i.label.enabled}onDataChange(){}computeFocusBounds({datumIndex:t}){var e;return JNt(this,(e=this.contextNodeData)==null?void 0:e.nodeData[t])}};c2.className="WaterfallSeries";c2.type="waterfall";var Pk={strokeWidth:0,label:{enabled:!1,fontStyle:void 0,fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$ref:"textColor"},formatter:void 0,placement:"outside-end"}},nEt={series:{item:{positive:Pk,negative:Pk,total:Pk},line:{stroke:_.ThemeSymbols.PALETTE_NEUTRAL_STROKE,strokeOpacity:1,lineDash:[0],lineDashOffset:0,strokeWidth:2}},legend:{enabled:!0,toggleSeries:!1}},{ThemeConstants:YS}=_,sEt={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"waterfall",solo:!0,moduleFactory:t=>new c2(t),tooltipDefaults:{range:"exact"},defaultAxes:_.swapAxisCondition([{type:YS.CARTESIAN_AXIS_TYPE.NUMBER,position:YS.CARTESIAN_POSITION.LEFT},{type:YS.CARTESIAN_AXIS_TYPE.CATEGORY,position:YS.CARTESIAN_POSITION.BOTTOM}],t=>(t==null?void 0:t.direction)==="horizontal"),themeTemplate:nEt,paletteFactory:({takeColors:t,colorsCount:e,userPalette:i,palette:n})=>{if(i==="user-indexed"){const{fills:s,strokes:a}=t(e);return{line:{stroke:n.neutral.stroke},item:{positive:{fill:s[0],stroke:a[0]},negative:{fill:s[1],stroke:a[1]},total:{fill:s[2],stroke:a[2]}}}}return{line:{stroke:n.neutral.stroke},item:{positive:{fill:n.altUp.fill,stroke:n.altUp.stroke,label:{color:{$ref:"textColor"}}},negative:{fill:n.altDown.fill,stroke:n.altDown.stroke,label:{color:{$ref:"textColor"}}},total:{fill:n.neutral.fill,stroke:n.neutral.stroke,label:{color:{$ref:"textColor"}}}}}}},aEt=`.ag-watermark{position:absolute;bottom:20px;right:25px;font-weight:700;font-family:Impact,sans-serif;font-size:19px;opacity:.7;animation:1s ease-out 3s ag-watermark-fadeout;color:#9b9b9b;pointer-events:none;&:before{content:"";display:block;height:40px;width:170px;background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjU4IiBoZWlnaHQ9IjQwIiB2aWV3Qm94PSIwIDAgMjU4IDQwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNMjUuNzc5IDI4LjY1N0gxMy4zNTlMMTEuMTczIDM0LjAxMkg1LjY3Mjk3TDE3LjE4MiA3LjA1OTk5SDIxLjk1M0wzMy40NjIgMzQuMDEySDI3Ljk2MkwyNS43NzYgMjguNjU3SDI1Ljc3OVpNMjQuMDY4IDI0LjM5N0wxOS41ODggMTMuNDM0TDE1LjEwNyAyNC4zOTdIMjQuMDY4Wk02Mi4wOTIgMTguODIzSDQ5LjgxN1YyMy4wODZINTYuNzc1QzU2LjU1NSAyNS4yMjIgNTUuNzU1IDI2LjkyNyA1NC4zNzIgMjguMjAyQzUyLjk4OSAyOS40NzYgNTEuMTY2IDMwLjExNSA0OC45MDkgMzAuMTE1QzQ3LjYyMiAzMC4xMTUgNDYuNDUgMjkuODg1IDQ1LjM5MyAyOS40MjNDNDQuMzU4MyAyOC45NzgxIDQzLjQzMjYgMjguMzEzOCA0Mi42OCAyNy40NzZDNDEuOTI3IDI2LjYzOSA0MS4zNDQgMjUuNjMxIDQwLjkzMSAyNC40NTNDNDAuNTE5IDIzLjI3NSA0MC4zMTEgMjEuOTcgNDAuMzExIDIwLjUzN0M0MC4zMTEgMTkuMTA1IDQwLjUxNiAxNy44IDQwLjkzMSAxNi42MjFDNDEuMzQ0IDE1LjQ0MyA0MS45MjcgMTQuNDM2IDQyLjY4IDEzLjU5OEM0My40Mzc2IDEyLjc1NzcgNDQuMzY5NiAxMi4wOTMyIDQ1LjQxMSAxMS42NTFDNDYuNDc4IDExLjE4OSA0Ny42NTYgMTAuOTYgNDguOTQ2IDEwLjk2QzUxLjYxMiAxMC45NiA1My42MzcgMTEuNjAyIDU1LjAyIDEyLjg4NUw1OC4zIDkuNjA0OTlDNTUuODE3IDcuNjY5OTkgNTIuNjc2IDYuNjk5OTkgNDguODcyIDYuNjk5OTlDNDYuNzYgNi42OTk5OSA0NC44NTMgNy4wMzQ5OSA0My4xNTQgNy43MDA5OUM0MS40NTUgOC4zNjc5OSAzOS45OTggOS4zMDM5OSAzOC43ODMgMTAuNTA0QzM3LjU2NyAxMS43MDcgMzYuNjM0IDEzLjE1OCAzNS45NzcgMTQuODU3QzM1LjMxOSAxNi41NTYgMzQuOTk0IDE4LjQ1MSAzNC45OTQgMjAuNTRDMzQuOTk0IDIyLjYzIDM1LjMyOSAyNC40OTQgMzUuOTk1IDI2LjIwNUMzNi42NjIgMjcuOTE2IDM3LjYwNSAyOS4zNzQgMzguODE3IDMwLjU3N0M0MC4wMzIgMzEuNzggNDEuNDg2IDMyLjcxMyA0My4xODggMzMuMzgzQzQ0Ljg4OCAzNC4wNDkgNDYuNzgyIDM0LjM4NCA0OC44NzIgMzQuMzg0QzUwLjk2MSAzNC4zODQgNTIuNzUgMzQuMDQ5IDU0LjM5IDMzLjM4M0M1Ni4wMzEgMzIuNzE2IDU3LjQyNiAzMS43OCA1OC41NzkgMzAuNTc3QzU5LjczMyAyOS4zNzQgNjAuNjE5IDI3LjkxNiA2MS4yMzkgMjYuMjA1QzYxLjg2IDI0LjQ5NCA2Mi4xNyAyMi42MDUgNjIuMTcgMjAuNTRDNjIuMTY5NiAxOS45Njg4IDYyLjE0NDUgMTkuMzk4IDYyLjA5NSAxOC44MjlMNjIuMDkyIDE4LjgyM1pNMTUxLjgxIDE2Ljk4MUMxNTMuNDEgMTQuNjA5IDE1Ny40MTkgMTQuMzU4IDE1OS4wMjIgMTQuMzU4VjE4LjkxQzE1Ni45NTcgMTguOTEgMTU0Ljk4NSAxOC45OTYgMTUzLjc1NyAxOS44OTJDMTUyLjUyOSAyMC43OTIgMTUxLjkxOSAyMS45ODIgMTUxLjkxOSAyMy40NjRWMzMuOTlIMTQ2Ljk2NFYxNC4zNThIMTUxLjczNkwxNTEuODEgMTYuOTgxWk0xNDMuMDExIDE0LjM2MVYzNC4wMzFIMTM4LjI0TDEzOC4xMzEgMzEuMDQ1QzEzNy40NjYgMzIuMDc2IDEzNi41NTEgMzIuOTIxOSAxMzUuNDcxIDMzLjUwNEMxMzQuMzc2IDM0LjA5OSAxMzMuMDY4IDM0LjM5NiAxMzEuNTM2IDM0LjM5NkMxMzAuMiAzNC4zOTYgMTI4Ljk2MyAzNC4xNTIgMTI3LjgyMiAzMy42NjhDMTI2LjcgMzMuMTk2NCAxMjUuNjg5IDMyLjQ5NSAxMjQuODU1IDMxLjYwOUMxMjQuMDE4IDMwLjcyMiAxMjMuMzU0IDI5LjY2MiAxMjIuODcxIDI4LjQyMkMxMjIuMzg0IDI3LjE4NSAxMjIuMTQyIDI1LjgxMSAxMjIuMTQyIDI0LjMwNEMxMjIuMTQyIDIyLjc5OCAxMjIuMzg0IDIxLjM3OCAxMjIuODcxIDIwLjExNkMxMjMuMzU3IDE4Ljg1NCAxMjQuMDE4IDE3Ljc3MiAxMjQuODU1IDE2Ljg3M0MxMjUuNjg4IDE1Ljk3NjQgMTI2LjY5OCAxNS4yNjM2IDEyNy44MjIgMTQuNzhDMTI4Ljk2MyAxNC4yODEgMTMwLjIwMyAxNC4wMzMgMTMxLjUzNiAxNC4wMzNDMTMzLjA0MyAxNC4wMzMgMTM0LjMzIDE0LjMxOCAxMzUuMzk3IDE0Ljg4OEMxMzYuNDYyIDE1LjQ1ODkgMTM3LjM3NSAxNi4yNzggMTM4LjA1NyAxNy4yNzZWMTQuMzYxSDE0My4wMTFaTTEzMi42MzEgMzAuMTMzQzEzNC4yNTYgMzAuMTMzIDEzNS41NjcgMjkuNTk0IDEzNi41NjUgMjguNTEyQzEzNy41NjEgMjcuNDMgMTM4LjA2IDI1Ljk5MSAxMzguMDYgMjQuMTk2QzEzOC4wNiAyMi40MDEgMTM3LjU2MSAyMC45OSAxMzYuNTY1IDE5Ljg5OUMxMzUuNTcgMTguODA3IDEzNC4yNTkgMTguMjU4IDEzMi42MzEgMTguMjU4QzEzMS4wMDMgMTguMjU4IDEyOS43MjkgMTguODA0IDEyOC43MzQgMTkuODk5QzEyNy43MzggMjAuOTkzIDEyNy4yMzkgMjIuNDM4IDEyNy4yMzkgMjQuMjMzQzEyNy4yMzkgMjYuMDI4IDEyNy43MzUgMjcuNDMzIDEyOC43MzQgMjguNTE1QzEyOS43MjkgMjkuNTk0IDEzMS4wMjggMzAuMTM2IDEzMi42MzEgMzAuMTM2VjMwLjEzM1pNOTMuNjk4IDI3Ljg3NkM5My41Nzk1IDI4LjAwMjUgOTMuNDU2NCAyOC4xMjQ2IDkzLjMyOSAyOC4yNDJDOTEuOTQ3IDI5LjUxNiA5MC4xMjMgMzAuMTU1IDg3Ljg2NiAzMC4xNTVDODYuNTggMzAuMTU1IDg1LjQwOCAyOS45MjYgODQuMzUgMjkuNDY0QzgzLjMxNTUgMjkuMDE4OSA4Mi4zODk4IDI4LjM1NDYgODEuNjM3IDI3LjUxN0M4MC44ODQgMjYuNjc5IDgwLjMwMSAyNS42NzIgNzkuODg5IDI0LjQ5NEM3OS40NzYgMjMuMzE1IDc5LjI2OSAyMi4wMSA3OS4yNjkgMjAuNTc4Qzc5LjI2OSAxOS4xNDUgNzkuNDczIDE3Ljg0IDc5Ljg4OSAxNi42NjJDODAuMzAxIDE1LjQ4NCA4MC44ODQgMTQuNDc2IDgxLjYzNyAxMy42MzlDODIuMzk0OSAxMi43OTg3IDgzLjMyNzMgMTIuMTM0MiA4NC4zNjkgMTEuNjkyQzg1LjQzNiAxMS4yMyA4Ni42MTQgMTEgODcuOTAzIDExQzkwLjU3IDExIDkyLjU5NSAxMS42NDIgOTMuOTc3IDEyLjkyNkw5Ny4yNTggOS42NDQ5OUM5NC43NzQgNy43MTA5OSA5MS42MzMgNi43Mzk5OSA4Ny44MjkgNi43Mzk5OUM4NS43MTggNi43Mzk5OSA4My44MTEgNy4wNzQ5OSA4Mi4xMTIgNy43NDE5OUM4MC40MTMgOC40MDc5OSA3OC45NTYgOS4zNDQ5OSA3Ny43NCAxMC41NDVDNzYuNTI1IDExLjc0NyA3NS41OTIgMTMuMTk5IDc0LjkzNCAxNC44OThDNzQuMjc3IDE2LjU5NyA3My45NTEgMTguNDkxIDczLjk1MSAyMC41ODFDNzMuOTUxIDIyLjY3IDc0LjI4NiAyNC41MzQgNzQuOTUzIDI2LjI0NUM3NS42MTkgMjcuOTU3IDc2LjU2MiAyOS40MTQgNzcuNzc0IDMwLjYxN0M3OC45OSAzMS44MiA4MC40NDQgMzIuNzUzIDgyLjE0NiAzMy40MjNDODMuODQ1IDM0LjA5IDg1LjczOSAzNC40MjQgODcuODI5IDM0LjQyNEM4OS45MTkgMzQuNDI0IDkxLjcwOCAzNC4wOSA5My4zNDggMzMuNDIzQzk0LjcxOCAzMi44NjUgOTUuOTE4IDMyLjEyMSA5Ni45NDggMzEuMTkxQzk3LjE0OSAzMS4wMDggOTcuMzQ4IDMwLjgxNSA5Ny41MzcgMzAuNjJMOTMuNzAxIDI3Ljg4NUw5My42OTggMjcuODc2Wk0xMTAuODAyIDE0LjAxNUMxMDkuMTk5IDE0LjAxNSAxMDYuODM2IDE0LjQ3MSAxMDUuNjExIDE2LjE1OEwxMDUuNTM3IDYuMDE1OTlIMTAwLjc2NVYzMy45MzlIMTA1LjcyVjIyLjY0MUMxMDUuNzcxIDIxLjQ2MDcgMTA2LjI4OCAyMC4zNDg4IDEwNy4xNTcgMTkuNTQ4OUMxMDguMDI3IDE4Ljc0OTEgMTA5LjE3OCAxOC4zMjY2IDExMC4zNTggMTguMzc0QzExMy4zOTcgMTguMzc0IDExNC4yNjggMjEuMTU5IDExNC4yNjggMjIuNjQxVjMzLjkzOUgxMTkuMjIzVjIxLjA1OUMxMTkuMjIzIDIxLjA1OSAxMTkuMTQyIDE0LjAxNSAxMTAuODAyIDE0LjAxNVpNMTczLjc2MyAxNC4zNThIMTY5Ljk5OVY4LjcxNDk5SDE2NS4wNDhWMTQuMzU4SDE2MS4yODRWMTguOTE2SDE2NS4wNDhWMzQuMDAzSDE2OS45OTlWMTguOTE2SDE3My43NjNWMTQuMzU4Wk0xOTAuNzg3IDI1LjI2MkMxOTAuMTI5IDI0LjUwMTQgMTg5LjMwNyAyMy44OTk0IDE4OC4zODQgMjMuNTAxQzE4Ny40ODggMjMuMTE3IDE4Ni4zMzEgMjIuNzMyIDE4NC45NDggMjIuMzY0QzE4NC4xNjUgMjIuMTQzOSAxODMuMzkgMjEuODk3OCAxODIuNjIzIDIxLjYyNkMxODIuMTYzIDIxLjQ2MjEgMTgxLjc0MSAyMS4yMDY2IDE4MS4zODMgMjAuODc1QzE4MS4yMzUgMjAuNzQyMSAxODEuMTE4IDIwLjU3ODkgMTgxLjAzOSAyMC4zOTY0QzE4MC45NjEgMjAuMjE0IDE4MC45MjIgMjAuMDE2NiAxODAuOTI3IDE5LjgxOEMxODAuOTI3IDE5LjI3MiAxODEuMTU2IDE4Ljg0NCAxODEuNjI1IDE4LjUxQzE4Mi4xMjEgMTguMTU2IDE4Mi44NjIgMTcuOTc2IDE4My44MjYgMTcuOTc2QzE4NC43OSAxNy45NzYgMTg1LjU4NyAxOC4yMDkgMTg2LjE0OCAxOC42NjhDMTg2LjcwNiAxOS4xMjQgMTg3LjAwNyAxOS43MjUgMTg3LjA3MiAyMC41TDE4Ny4wOTQgMjAuNzgySDE5MS42MzNMMTkxLjYxNyAyMC40NkMxOTEuNTIxIDE4LjQ4NSAxOTAuNzcxIDE2LjkgMTg5LjM4NSAxNS43NUMxODguMDEyIDE0LjYxMiAxODYuMTg1IDE0LjAzMyAxODMuOTYyIDE0LjAzM0MxODIuNDc3IDE0LjAzMyAxODEuMTQxIDE0LjI4NyAxNzkuOTk0IDE0Ljc4NkMxNzguODMxIDE1LjI5MSAxNzcuOTI2IDE1Ljk5NSAxNzcuMjk2IDE2Ljg4MkMxNzYuNjczIDE3Ljc0NTUgMTc2LjMzOCAxOC43ODQgMTc2LjM0MSAxOS44NDlDMTc2LjM0MSAyMS4xNjcgMTc2LjY5OCAyMi4yNDkgMTc3LjM5OSAyMy4wNjRDMTc4LjA2IDIzLjg0MzIgMTc4Ljg5OCAyNC40NTM0IDE3OS44NDIgMjQuODQ0QzE4MC43NDQgMjUuMjE2IDE4MS45MjggMjUuNjA3IDE4My4zNjEgMjZDMTg0LjgwNiAyNi40MSAxODUuODcyIDI2Ljc4NSAxODYuNTMgMjcuMTIzQzE4Ny4xIDI3LjQxNCAxODcuMzc5IDI3Ljg0NSAxODcuMzc5IDI4LjQ0NEMxODcuMzc5IDI5LjA0MiAxODcuMTIyIDI5LjQ2NyAxODYuNTk1IDI5LjgzOUMxODYuMDQzIDMwLjIyNiAxODUuMjM3IDMwLjQyNSAxODQuMjAxIDMwLjQyNUMxODMuMTY2IDMwLjQyNSAxODIuMzk0IDMwLjE3NCAxODEuNzQ5IDI5LjY3NEMxODEuMTEzIDI5LjE4MSAxODAuNzcyIDI4LjU4OSAxODAuNzEgMjcuODY0TDE4MC42ODUgMjcuNTgySDE3Ni4wMTNMMTc2LjAyNSAyNy45MDFDMTc2LjA2NyAyOS4wOTU1IDE3Ni40NzIgMzAuMjQ4NyAxNzcuMTg4IDMxLjIwNkMxNzcuOTA3IDMyLjE4IDE3OC44OTMgMzIuOTU4IDE4MC4xMTggMzMuNTE5QzE4MS4zMzYgMzQuMDc3IDE4Mi43MzIgMzQuMzYyIDE4NC4yNjYgMzQuMzYyQzE4NS44MDEgMzQuMzYyIDE4Ny4xMDkgMzQuMTA4IDE4OC4yMzggMzMuNjA5QzE4OS4zNzYgMzMuMTA0IDE5MC4yNzIgMzIuMzk0IDE5MC45MDEgMzEuNDk0QzE5MS41MzQgMzAuNTkyIDE5MS44NTMgMjkuNTU0IDE5MS44NTMgMjguNDAzQzE5MS44MjggMjcuMTEgMTkxLjQ2NiAyNi4wNTMgMTkwLjc3NyAyNS4yNjJIMTkwLjc4N1oiIGZpbGw9IiM5QjlCOUIiLz4KPHBhdGggZD0iTTI0MS45ODIgMjUuNjU4MlYxNy43MTE3SDIyOC40NDFMMjIwLjQ5NCAyNS42NTgySDI0MS45ODJaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yNTcuMjM5IDUuOTUwODFIMjQwLjI2NUwyMzIuMjU1IDEzLjg5NzNIMjU3LjIzOVY1Ljk1MDgxWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMjEyLjYxMSAzMy42MDQ4TDIxNi42OCAyOS41MzYxSDIzMC40MTJWMzcuNDgyN0gyMTIuNjExVjMzLjYwNDhaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yMTUuNTk5IDIxLjc4MDNIMjI0LjM3MkwyMzIuMzgyIDEzLjgzMzdIMjE1LjU5OVYyMS43ODAzWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMjA2IDMzLjYwNDdIMjEyLjYxMUwyMjAuNDk0IDI1LjY1ODJIMjA2VjMzLjYwNDdaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yNDAuMjY1IDUuOTUwODFMMjM2LjE5NyAxMC4wMTk0SDIxMC4yNTlWMi4wNzI4OEgyNDAuMjY1VjUuOTUwODFaIiBmaWxsPSIjOUI5QjlCIi8+Cjwvc3ZnPgo=);background-repeat:no-repeat;background-size:170px 40px}>span{padding-left:.7rem}}@keyframes ag-watermark-fadeout{0%{opacity:.5}to{opacity:0}}.ag-charts-dialog{display:flex;flex-direction:column;font-size:var(--ag-charts-chrome-font-size-large)}.ag-charts-dialog__tabs{display:flex;flex-direction:column}.ag-charts-dialog__header{border-bottom:1px solid var(--ag-charts-border-color);display:flex}.ag-charts-dialog__tab-list{display:flex;gap:calc(var(--ag-charts-spacing) * 2)}.ag-charts-dialog__drag-handle{align-items:center;color:inherit;cursor:grab;display:flex;padding:1px 6px;text-align:center}.ag-charts-dialog__drag-handle--dragging{cursor:grabbing}.ag-charts-dialog__tab-button{background:none;border:0;border-bottom:2px solid transparent;border-radius:0;color:var(--ag-charts-chrome-subtle-text-color);margin-bottom:-1px;padding:var(--input-padding) calc(var(--input-padding) / 2)}.ag-charts-dialog__tab-button:hover{background:none}.ag-charts-dialog__tab-button--active{border-color:var(--ag-charts-accent-color);color:inherit}.ag-charts-dialog__drag-handle+.ag-charts-dialog__tab-button{margin-left:calc(var(--ag-charts-spacing) * -2)}.ag-charts-button.ag-charts-dialog__close-button{background:none;border:0;margin-left:auto;padding:1px 6px}.ag-charts-dialog__close-button:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow);z-index:calc(var(--ag-charts-layer-ui-overlay) + 1)}.ag-charts-dialog__tab-panel{display:none;flex-direction:column;gap:calc(var(--ag-charts-spacing) * 4);margin:0 calc(var(--ag-charts-spacing) * 4);padding:calc(var(--ag-charts-spacing) * 4) 0}.ag-charts-dialog__tab-panel--active{display:flex}.ag-charts-dialog__input-group-line{display:flex;gap:16px 18px;flex-wrap:wrap}.ag-charts-dialog__input-group{align-items:center;display:flex;font-size:var(--ag-charts-chrome-font-size)}.ag-charts-dialog__input-group-label{color:var(--ag-charts-chrome-subtle-text-color);margin-right:5px}.ag-charts-dialog__input-group-label[for]{cursor:pointer}.ag-charts-dialog__button{border-radius:0;margin-right:-1px}.ag-charts-dialog__button.ag-charts-dialog__button--active{background:var(--ag-charts-button-focus-background-color);border-color:var(--ag-charts-input-focus-border-color);color:var(--ag-charts-input-focus-text-color);z-index:var(--input-layer-active)}.ag-charts-dialog__button:first-child,.ag-charts-dialog__input-group-label+.ag-charts-dialog__button{border-bottom-left-radius:var(--ag-charts-input-border-radius);border-top-left-radius:var(--ag-charts-input-border-radius)}.ag-charts-dialog__button:last-child{border-bottom-right-radius:var(--ag-charts-input-border-radius);border-top-right-radius:var(--ag-charts-input-border-radius)}.ag-charts-dialog__color-picker-button{--color: #000;background:var(--color);border:none;color:transparent;height:26px;width:26px}.ag-charts-dialog__color-picker-button:hover{background:var(--color)}.ag-charts-dialog__color-picker-button--multi-color,.ag-charts-dialog__color-picker-button--multi-color:hover{background:linear-gradient(135deg,red 0%,#ff0 calc(100% * 1 / 6),#0f0 calc(100% * 2 / 6),#0ff 50%,#00f calc(100% * 4 / 6),#f0f calc(100% * 5 / 6),red 100%)}.ag-charts-color-picker{width:190px;padding:8px;--h: 0;--s: 0;--v: 0;--a: 0;--color: #000;--color-a: #000;--thumb-size: 18px;--inner-width: 172px;--track-height: 12px;--palette-height: 136px;--checker: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="4" height="4"><rect x="0" y="0" width="4" height="4" fill="%23fff"/><path d="M0 0H2V4H4V2H0Z" fill="%23b2b2b2"/></svg>');--multi-color: linear-gradient( 135deg, #f00 0% , #ff0 calc(100% * 1 / 6), #0f0 calc(100% * 2 / 6), #0ff 50% , #00f calc(100% * 4 / 6), #f0f calc(100% * 5 / 6), #f00 100% )}.ag-charts-color-picker__content{display:flex;flex-direction:column}.ag-charts-color-picker__palette{position:relative;width:100%;height:var(--palette-height);margin-bottom:8px;background:linear-gradient(to bottom,#0000,#000),linear-gradient(to right,#fff,#fff0) hsl(var(--h),100%,50%);border-radius:calc(var(--ag-charts-border-radius) * 1.5);box-shadow:inset 0 0 0 1px #0003}.ag-charts-color-picker__palette:after{content:"";position:absolute;display:block;top:calc(var(--thumb-size) * -.5 + (1 - var(--v)) * 100%);left:calc(var(--thumb-size) * -.5 + var(--s) * 100%);background:var(--color);width:var(--thumb-size);height:var(--thumb-size);border-radius:calc(var(--ag-charts-border-radius) * 99);box-shadow:var(--box-shadow);--box-shadow: inset 0 0 0 3px white, inset 0 0 1px 3px #0006, 0 0 5px #00000038}.ag-charts-color-picker__palette:focus-visible:after{outline:var(--ag-charts-focus-border);box-shadow:var(--box-shadow),0 0 0 2px #fff8,var(--ag-charts-focus-border-shadow)}.ag-charts-color-picker__color-row{display:flex;gap:8px;align-items:center;margin-bottom:4px;--inset: calc((var(--thumb-size) - var(--track-height)) / 2)}.ag-charts-color-picker__hue-input,.ag-charts-color-picker__alpha-input{-webkit-appearance:none;display:block;position:relative;padding:0;margin:0 calc(var(--inset) * -1);border:0;height:var(--thumb-size);width:auto;background:transparent;--inset: calc((var(--thumb-size) - var(--track-height)) / 2)}.ag-charts-color-picker__hue-input::-webkit-slider-thumb,.ag-charts-color-picker__alpha-input::-webkit-slider-thumb{-webkit-appearance:none;width:var(--thumb-size);height:var(--thumb-size);border-radius:calc(var(--ag-charts-border-radius) * 99);box-shadow:var(--box-shadow);--box-shadow: inset 0 0 0 3px white, inset 0 0 1px 3px #0006, 0 0 5px #00000038;transform:translateZ(0)}.ag-charts-color-picker__hue-input::-webkit-slider-thumb{background:hsl(var(--h),100%,50%)}.ag-charts-color-picker__alpha-input::-webkit-slider-thumb{background:transparent}.ag-charts-color-picker__alpha-input--opaque::-webkit-slider-thumb{background:var(--color)}.ag-charts-color-picker__hue-input:focus-visible::-webkit-slider-thumb,.ag-charts-color-picker__alpha-input:focus-visible::-webkit-slider-thumb{outline:var(--ag-charts-focus-border);box-shadow:var(--box-shadow),var(--ag-charts-focus-border-shadow)}.ag-charts-color-picker__hue-input:before,.ag-charts-color-picker__alpha-input:before{position:absolute;content:"";display:block;top:calc(50% - var(--track-height) / 2);left:var(--inset);right:var(--inset);height:var(--track-height);border-radius:calc(var(--ag-charts-border-radius) * 99);box-shadow:inset 0 0 0 1px #0003}.ag-charts-color-picker__multi-color-button{width:36px;margin-left:var(--inset);height:var(--track-height);border-radius:calc(var(--ag-charts-border-radius) * 99);border:0;background:var(--multi-color);box-shadow:inset 0 0 0 1px #0003}.ag-charts-color-picker__multi-color-button--hidden{display:none}.ag-charts-color-picker__multi-color-button--active{box-shadow:inset 0 0 0 1px #0003;outline-offset:1px;outline:2px solid #2196f3}.ag-charts-color-picker__hue-input{flex:1 0 0}.ag-charts-color-picker__hue-input:before{background:linear-gradient(to right,red,red calc((100% - var(--track-height)) * 0 / 6 + var(--track-height) / 2),#ff0 calc((100% - var(--track-height)) * 1 / 6 + var(--track-height) / 2),#0f0 calc((100% - var(--track-height)) * 2 / 6 + var(--track-height) / 2),#0ff calc((100% - var(--track-height)) * 3 / 6 + var(--track-height) / 2),#00f calc((100% - var(--track-height)) * 4 / 6 + var(--track-height) / 2),#f0f calc((100% - var(--track-height)) * 5 / 6 + var(--track-height) / 2),red calc((100% - var(--track-height)) * 6 / 6 + var(--track-height) / 2))}.ag-charts-color-picker__alpha-input{margin-bottom:7px}.ag-charts-color-picker__alpha-input:before{background:linear-gradient(to right,transparent,var(--color)),var(--checker) top left / 4px 4px}.ag-charts-color-picker__color-field{display:flex;border:var(--ag-charts-border);background:var(--ag-charts-background-color);border-radius:var(--ag-charts-border-radius);overflow:hidden}.ag-charts-color-picker__color-field:has(:focus-visible){border-color:var(--ag-charts-accent-color);box-shadow:var(--ag-charts-focus-border-shadow)}.ag-charts-color-picker__color-label{width:16px;height:16px;margin:7px 0 7px 7px;color:transparent;background:linear-gradient(to right,var(--color-a),var(--color-a)),var(--checker) top left / 4px 4px;border-radius:calc(var(--ag-charts-border-radius) / 2);box-shadow:inset 0 0 0 1px #0003}.ag-charts-color-picker__color-label--multi-color{background:var(--multi-color)}.ag-charts-color-picker__color-input{flex:1;min-width:0;padding:7px 7px 7px 8px;border:0;margin:0;color:inherit;background:transparent;font-variant:tabular-nums}.ag-charts-color-picker__color-input:focus-visible{border:none;outline:none}.ag-charts-annotations__line-stroke-width-menu,.ag-charts-annotations__line-style-type-menu,.ag-charts-annotations__text-size-menu{.ag-charts-menu__row:first-child{border-radius:0}}.ag-charts-annotations__text-size-menu{--item-padding: 4px 8px;border-top-left-radius:0;border-top-right-radius:0;min-width:34px;text-align:center}.ag-charts-annotations__line-stroke-width-menu{--item-padding: 6px;column-gap:6px}.ag-charts-annotations__line-style-type-menu{--item-padding: 6px;column-gap:0}.ag-charts-annotations__stroke-width-button:before{background:var(--ag-charts-foreground-color);content:"";margin-right:var(--toolbar-button-padding);height:min(var(--stroke-width),20px);width:12px}.ag-charts-annotations__stroke-width-button[aria-disabled=true]:before{filter:grayscale(1);opacity:.5}.ag-charts-annotations__color-picker-button{--emblem: var(--color)}.ag-charts-annotations__color-picker-button--multi-color{--emblem: linear-gradient( to right, #f00 0% , #ff0 calc(100% * 1 / 6), #0f0 calc(100% * 2 / 6), #0ff 50% , #00f calc(100% * 4 / 6), #f0f calc(100% * 5 / 6), #f00 100% )}.ag-charts-annotations__color-picker-button:after{content:"";display:block;position:absolute;bottom:3px;left:5px;right:5px;height:4px;border-radius:99px;box-shadow:inset 0 0 0 1px color-mix(in srgb,var(--ag-charts-foreground-color) 10%,transparent);background:var(--emblem)}.ag-charts-annotations__color-picker-button[aria-disabled=true]:after{filter:grayscale(1);opacity:.5}.ag-charts-annotations__toolbar-menu{min-width:200px}.ag-charts-annotations__axis-button--hidden{display:none}.ag-charts-annotations__axis-button{background-color:var(--ag-charts-crosshair-label-background-color);border-radius:calc(var(--ag-charts-border-radius) / 2);border:none;box-sizing:border-box;color:var(--ag-charts-crosshair-label-text-color);cursor:pointer;font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size);font-weight:var(--ag-charts-chrome-font-weight);left:0;line-height:16px;overflow:hidden;padding:0;position:absolute;top:0;user-select:none;white-space:nowrap;z-index:var(--ag-charts-layer-annotations)}.ag-charts-annotations__axis-button:hover{opacity:.8;color:var(--ag-charts-background-color)}.ag-charts-dialog--annotation-settings{min-height:233px;width:289px}.ag-charts-dialog--annotation-settings .ag-charts-textarea{height:calc(10px * 2 + var(--textarea-line-height) * 1em * 3 + 2px);overflow-y:auto;resize:vertical}.ag-charts-context-menu{background:var(--ag-charts-chrome-background-color);border:var(--ag-charts-border);border-radius:var(--ag-charts-border-radius);box-shadow:var(--ag-charts-shadow);color:var(--ag-charts-chrome-text-color);font-family:var(--ag-charts-chrome-font-family);font-size:calc(var(--ag-charts-chrome-font-size) * (13 / 12));font-weight:var(--ag-charts-chrome-font-weight);transition:transform .1s ease;white-space:nowrap;z-index:var(--ag-charts-layer-ui-overlay)}.ag-charts-context-menu__cover{position:fixed;left:0;top:0}.ag-charts-context-menu__menu{display:flex;flex-direction:column;padding:.5em 0}.ag-charts-context-menu__menu:focus{outline:none}.ag-charts-context-menu__item{background:none;border:none;box-sizing:border-box;color:inherit;font:inherit;padding:.5em 1em;text-align:left;-webkit-appearance:none;-moz-appearance:none}.ag-charts-context-menu__item:focus,.ag-charts-context-menu__item:active{background:var(--ag-charts-focus-color)}.ag-charts-context-menu__item[data-focus-visible-override=true]:focus,.ag-charts-context-menu__item:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow);z-index:calc(var(--ag-charts-layer-ui-overlay) + 1)}.ag-charts-context-menu__item[data-focus-visible-override=false]{outline:inherit;box-shadow:inherit;z-index:inherit}.ag-charts-context-menu__item[aria-disabled=true]{border:none;opacity:.5;text-align:left}.ag-charts-context-menu__item[aria-disabled=true]:focus{background:inherit;cursor:inherit}.ag-charts-context-menu__divider{margin:5px 0;background:#babfc7;height:1px}.ag-charts-context-menu__divider.ag-charts-dark-context-menu{background:#2196f31a}.ag-charts-crosshair-label{position:absolute;left:0;top:0;user-select:none;pointer-events:none;font-family:var(--ag-charts-font-family);font-size:var(--ag-charts-font-size);font-weight:var(--ag-charts-font-weight);overflow:hidden;white-space:nowrap;z-index:var(--ag-charts-layer-crosshair);box-sizing:border-box}.ag-charts-crosshair-label-content{padding:0 8px;border-radius:calc(var(--ag-charts-border-radius) / 2);line-height:calc(var(--ag-charts-font-size) + 8px);background-color:var(--ag-charts-crosshair-label-background-color);color:var(--ag-charts-crosshair-label-text-color)}.ag-charts-crosshair-label--hidden{visibility:hidden!important}.ag-charts-text-input{position:absolute}.ag-charts-text-input__textarea{--placeholder-text-color: var(--ag-charts-input-placeholder-text-color);display:block;height:100%;width:100%;border:0;background:none;line-height:1.38;outline:none;transform:translateY(.09em)}.ag-charts-text-input__textarea[placeholder]:empty:before{content:attr(placeholder);color:var(--placeholder-text-color);font-weight:400}.ag-charts-text-input__textarea[placeholder]:not(:empty):before{content:""}.ag-charts-chart-toolbar__menu{min-width:200px}.ag-charts-range-buttons .ag-charts-toolbar__button{padding:var(--toolbar-button-padding) calc(var(--toolbar-button-padding) * 1.5)}.ag-charts-zoom-buttons{align-items:center;display:flex;height:44px;justify-content:center;overflow:hidden;padding-bottom:10px;pointer-events:none;width:100%;.ag-charts-toolbar{--toolbar-size: 24px;--toolbar-button-padding: 1px;display:flex;font-size:var(--ag-charts-chrome-font-size);height:var(--toolbar-size);justify-content:center;opacity:1;pointer-events:auto;transition:opacity .2s ease-in-out,transform .4s ease-in-out;.ag-charts-toolbar__button--first{border-bottom-left-radius:var(--ag-charts-border-radius);border-top-left-radius:var(--ag-charts-border-radius)}.ag-charts-toolbar__button--last{border-bottom-right-radius:var(--ag-charts-border-radius);border-top-right-radius:var(--ag-charts-border-radius)}.ag-charts-toolbar__label{padding-left:var(--ag-charts-spacing);padding-right:var(--ag-charts-spacing)}.ag-charts-toolbar__icon+.ag-charts-toolbar__label{padding-left:0}.ag-charts-toolbar__button--gap{margin-left:var(--toolbar-gap)}.ag-charts-zoom-buttons__toolbar--hidden{opacity:0;transition:opacity .4s ease-in-out,transform .4s ease-in-out}}}.ag-charts-shared-toolbar{gap:var(--toolbar-gap);.ag-charts-toolbar__button{border-radius:var(--ag-charts-border-radius);margin:0}}
`;_.ModuleRegistry.registerMany([Cft,$ft,Zft,Jft,igt]);function oEt(){_.moduleRegistry.register(Ppt,Wpt,agt,Vxt,Qxt,q0t,Ybt,xSt,$St,fMt,$Mt,uAt,aCt,sbt,lbt,Mbt,Ibt,Fbt,ODt,XAt,DIt,nIt,KIt,kTt,oTt,hvt,jvt,F0t,GAt,nCt,$pt,a1t,o1t,O1t,j1t,xft,ykt,Aft,ELt,tLt,Dvt,MCt,ZLt,Tvt,cNt,Hvt,LNt,sEt,C0t),_.enterpriseModule.isEnterprise=!0,_.enterpriseModule.styles=aEt,_.enterpriseModule.licenseManager=t=>{var e;return new Zm(((e=t.container)==null?void 0:e.ownerDocument)??(typeof document>"u"?void 0:document))},_.enterpriseModule.injectWatermark=G0t}oEt();Bo.create.bind(Bo),Bo.__createSparkline.bind(Bo),Zm.setGridContext.bind(Zm),Zm.setLicenseKey.bind(Zm);const rEt=()=>{const[t]=Q.useState({type:"radial-gauge",value:86,width:1e3,scale:{min:0,max:100},bar:{fills:[{color:"#4CAF50"},{color:"#FFC107"},{color:"#FF7043"}],fillMode:"discrete"},background:{fill:"transparent"}});return q.jsxs(ae,{display:"flex",justifyContent:"space-between",alignItems:"center",flexDirection:"column",mt:2,overflow:"hidden",children:[q.jsx(ae,{sx:{display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden",width:"100%"},children:q.jsx(Jdt,{options:t})}),q.jsxs(ae,{flexDirection:"row",sx:{display:"flex",width:"100%",justifyContent:"space-between"},children:[q.jsxs(ae,{textAlign:"center",children:[q.jsx(He,{fontWeight:"bold",children:"95"}),q.jsx(He,{fontSize:14,color:"gray",children:"Total projects"})]}),q.jsxs(ae,{textAlign:"center",children:[q.jsx(He,{fontWeight:"bold",color:"green",children:"26"}),q.jsx(He,{fontSize:14,color:"gray",children:"Completed"})]}),q.jsxs(ae,{textAlign:"center",children:[q.jsx(He,{fontWeight:"bold",color:"#FFC107",children:"35"}),q.jsx(He,{fontSize:14,color:"gray",children:"Delayed"})]}),q.jsxs(ae,{textAlign:"center",children:[q.jsx(He,{fontWeight:"bold",color:"#FF7043",children:"35"}),q.jsx(He,{fontSize:14,color:"gray",children:"On going"})]})]})]})},lEt=wo.memo(rEt),cEt=({value:t,color:e})=>q.jsxs(ae,{position:"relative",display:"inline-flex",children:[q.jsx(xM,{variant:"determinate",value:100,sx:{color:"#E0DFDC",position:"relative",left:0,top:0},size:50,thickness:4}),q.jsx(xM,{variant:"determinate",value:t,sx:{color:e,position:"absolute",left:0,top:0,transform:"translate(-50%, -50%)"},size:50,thickness:4}),q.jsx(ae,{position:"absolute",top:"50%",left:"50%",sx:{transform:"translate(-50%, -50%)",fontWeight:"bold"},children:q.jsxs(He,{fontSize:"14px",fontWeight:"bold",children:[t,"%"]})})]}),uEt=({projectHeader:t,projectData:e})=>q.jsx(Lit,{children:q.jsxs(yit,{children:[q.jsx(Rit,{children:q.jsx(o_,{children:t.map((i,n)=>q.jsx(Af,{sx:{fontWeight:"500"},children:i},n))})}),q.jsx(Sit,{children:e.map(i=>q.jsxs(o_,{children:[q.jsx(Af,{children:i.name}),q.jsx(Af,{children:i.manager}),q.jsx(Af,{children:i.dueDate}),q.jsx(Af,{children:q.jsx(_V,{label:i.status,sx:{bgcolor:`rgba(${i.color}, 0.3)`,color:`rgba(${i.color}, 1)`}})}),q.jsx(Af,{children:q.jsx(cEt,{value:i.progress,color:`rgba(${i.color}, 1)`})})]},i.name))})]})}),hEt=(t,e)=>t===0?{backgroundColor:e===10?"#D45A2B":"black",color:"white"}:{border:"1px solid black",backgroundColor:"transparent"},dEt=({workloadData:t})=>q.jsx(ae,{display:"flex",justifyContent:"space-between",alignItems:"flex-end",mt:4,children:t.map(e=>q.jsxs(ae,{display:"flex",flexDirection:"column",alignItems:"center",children:[[...Array(Math.floor(Math.random()*5)+1)].map((i,n)=>q.jsx(ae,{sx:{width:{xs:25,sm:40},height:{xs:25,sm:40},borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",fontSize:14,...hEt(n,e.value)},children:n===0?String(e.value):""},n)),q.jsx(He,{variant:"body2",mt:1,children:e.name})]},e.name))}),pEt=wo.memo(dEt),fEt=({activeTab:t,setActiveTab:e})=>q.jsx(int,{value:t,onChange:(i,n)=>e(n),variant:"scrollable",scrollButtons:"auto",sx:{"& .MuiTabs-indicator":{backgroundColor:"#3b82f6",height:"3px",borderRadius:"4px"},overflowX:"scroll",width:"100%"},children:Fnt.map((i,n)=>q.jsx(dit,{label:q.jsxs(ae,{display:"flex",alignItems:"center",gap:2.2,children:[i.label,i.count!==null&&q.jsx(Ctt,{badgeContent:String(i.count).padStart(2,"0"),color:"primary",sx:{"& .MuiBadge-badge":{backgroundColor:"#e0e7ff",color:"#3b82f6",fontSize:"10px",fontWeight:"bold",borderRadius:"8px",padding:"0 6px"}}})]}),sx:{textTransform:"none",fontSize:"14px",fontWeight:t===n?"bold":"normal",color:t===n?re.black:"#666","&.Mui-selected":{color:"black"}}},i.label))}),wd=["Approved","In Review","Ongoing"],gEt=()=>Math.floor(Math.random()*wd.length),yEt=({index:t,task:e})=>{const[i,n]=Q.useState(gEt()),s=()=>{n(a=>(a+1)%wd.length)};return q.jsxs(ae,{sx:{display:"flex",alignItems:"center",marginY:{xs:2,sm:0},flexDirection:{xs:"column",sm:"row"},justifyContent:"space-between",gap:{xs:1,sm:0},borderBottom:{xs:"1px solid #ccc",sm:"none"},paddingY:{xs:1,sm:0}},children:[q.jsxs(ae,{sx:{display:"flex",justifyContent:"center",alignItems:"center"},children:[q.jsx(eet,{defaultChecked:t%2===0,icon:q.jsx($nt,{style:{fontSize:24,color:"gray"}}),checkedIcon:q.jsx(Hnt,{style:{fontSize:24,color:"#FF9966"}})}),q.jsx(He,{flexGrow:1,marginLeft:1,children:e.task})]}),q.jsx(_V,{label:wd[i],onClick:s,sx:{bgcolor:wd[i]==="Approved"?"rgba(67, 155, 106, 0.3)":wd[i].toLowerCase()==="in review"?"rgba(294, 94, 42, 0.3)":"rgba(215, 95, 54, 0.3)",color:wd[i]==="Approved"?"rgba(67, 155, 106, 1)":wd[i].toLowerCase()==="in review"?"rgba(294, 94, 42, 1)":"rgba(215, 95, 54, 1)",marginRight:10,cursor:"pointer","&:hover":{bgcolor:"#ddd"}}})]})},mEt=()=>{const[t,e]=Q.useState(1),[i,n]=Q.useState(""),[s,a]=Q.useState("Project"),[o,r]=Q.useState("Project Manager"),[l,c]=Q.useState("Status"),[h,p]=Q.useState("All"),[f,y]=Q.useState("Last 15 days"),m=R0.slice(1).filter(b=>{if(s.toLowerCase()==="project"&&o.toLowerCase()==="project manager"&&l.toLowerCase()==="status")return b;if(s.toLowerCase()!=="project")return b.name===s;if(o.toLowerCase()!=="project manager")return b.manager===o;if(l.toLowerCase()!=="status")return b.status===l});return q.jsx(XV,{sx:{marginTop:2,paddingBottom:2},children:q.jsxs(xm,{container:!0,spacing:3,children:[q.jsx(xm,{item:!0,xs:12,md:8,children:q.jsx(ae,{sx:{borderRadius:4,bgcolor:re.secondary},children:q.jsxs(N0,{children:[q.jsxs(a1,{heading:"Project Summary",sx:{display:"flex","@media (max-width: 700px)":{display:"none"}},children:[q.jsx(Gf,{text:s,onClick:()=>n(b=>b!=="project"?"project":""),children:i==="project"&&q.jsx(Vf,{list:R0.map(b=>b.name),onSelect:b=>{a(b.toLowerCase()==="all"?"Project":b),r("Project Manager"),c("Status")}})}),q.jsx(Gf,{text:o,onClick:()=>n(b=>b!=="manager"?"manager":""),children:i==="manager"&&q.jsx(Vf,{list:R0.map(b=>b.manager),onSelect:b=>{r(b.toLowerCase()==="all"?"Project Manager":b),a("Project"),c("Status")}})}),q.jsx(Gf,{text:l,onClick:()=>n(b=>b!=="status"?"status":""),children:i==="status"&&q.jsx(Vf,{list:[...new Set(R0.map(b=>b.status))],onSelect:b=>{c(b.toLowerCase()==="all"?"Status":b),r("Project Manager"),a("Project")}})})]}),q.jsx(uEt,{projectHeader:znt,projectData:m})]})})}),q.jsx(xm,{item:!0,xs:12,md:4,children:q.jsx(ae,{sx:{borderRadius:4,bgcolor:re.secondary},children:q.jsxs(N0,{children:[q.jsx(a1,{heading:" Overall Progress",children:q.jsx(Gf,{text:h,onClick:()=>n(b=>b!=="all"?"all":""),children:i==="all"&&q.jsx(Vf,{list:["All","Partial","Full"],onSelect:b=>p(b)})})}),q.jsx(ae,{display:"flex",justifyContent:"center",mt:2}),q.jsx(lEt,{})]})})}),q.jsx(xm,{item:!0,xs:12,md:8,children:q.jsx(ae,{sx:{borderRadius:4,bgcolor:re.secondary},children:q.jsxs(N0,{children:[q.jsx(He,{variant:"h6",fontWeight:"bold",children:"Today Task"}),q.jsx(ae,{sx:{borderBottom:1,borderColor:"divider"},children:q.jsx(fEt,{activeTab:t,setActiveTab:e})}),_nt.map((b,S)=>q.jsx(yEt,{index:S,task:b},S))]})})}),q.jsx(xm,{item:!0,xs:12,md:4,children:q.jsx(ae,{sx:{borderRadius:4,bgcolor:re.secondary},children:q.jsxs(N0,{children:[q.jsx(a1,{heading:"Projects Workload",children:q.jsx(Gf,{text:f,onClick:()=>n(b=>b!=="workload"?"workload":""),children:i==="workload"&&q.jsx(Vf,{list:["Last 15 days","Last 30 days","Last 1 month"],onSelect:b=>y(b)})})}),q.jsx(pEt,{workloadData:jnt})]})})})]})})},xEt=()=>q.jsxs(ae,{bgcolor:re.primary,children:[q.jsx(Qnt,{}),q.jsx(Vnt,{}),q.jsx(mEt,{})]});function bEt(){return q.jsx(knt,{children:q.jsx(xEt,{})})}NZ.createRoot(document.getElementById("root")).render(q.jsx(Q.StrictMode,{children:q.jsx(bEt,{})}));
