var oX=Object.defineProperty;var rX=(t,e,i)=>e in t?oX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i;var qy=(t,e,i)=>rX(t,typeof e!="symbol"?e+"":e,i);function lX(t,e){for(var i=0;i<e.length;i++){const n=e[i];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(t,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function i(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=i(s);fetch(s.href,a)}})();function cX(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var cC={exports:{}},Qy={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oz;function uX(){if(oz)return Qy;oz=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(n,s,a){var o=null;if(a!==void 0&&(o=""+a),s.key!==void 0&&(o=""+s.key),"key"in s){a={};for(var r in s)r!=="key"&&(a[r]=s[r])}else a=s;return s=a.ref,{$$typeof:t,type:n,key:o,ref:s!==void 0?s:null,props:a}}return Qy.Fragment=e,Qy.jsx=i,Qy.jsxs=i,Qy}var rz;function hX(){return rz||(rz=1,cC.exports=uX()),cC.exports}var tt=hX(),uC={exports:{}},ee={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lz;function dX(){if(lz)return ee;lz=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),r=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function f(_){return _===null||typeof _!="object"?null:(_=p&&_[p]||_["@@iterator"],typeof _=="function"?_:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,b={};function v(_,V,Y){this.props=_,this.context=V,this.refs=b,this.updater=Y||y}v.prototype.isReactComponent={},v.prototype.setState=function(_,V){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,V,"setState")},v.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function S(){}S.prototype=v.prototype;function D(_,V,Y){this.props=_,this.context=V,this.refs=b,this.updater=Y||y}var I=D.prototype=new S;I.constructor=D,m(I,v.prototype),I.isPureReactComponent=!0;var T=Array.isArray,k={H:null,A:null,T:null,S:null},E=Object.prototype.hasOwnProperty;function O(_,V,Y,J,q,nt){return Y=nt.ref,{$$typeof:t,type:_,key:V,ref:Y!==void 0?Y:null,props:nt}}function B(_,V){return O(_.type,V,void 0,void 0,void 0,_.props)}function R(_){return typeof _=="object"&&_!==null&&_.$$typeof===t}function L(_){var V={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(Y){return V[Y]})}var F=/\/+/g;function j(_,V){return typeof _=="object"&&_!==null&&_.key!=null?L(""+_.key):V.toString(36)}function G(){}function W(_){switch(_.status){case"fulfilled":return _.value;case"rejected":throw _.reason;default:switch(typeof _.status=="string"?_.then(G,G):(_.status="pending",_.then(function(V){_.status==="pending"&&(_.status="fulfilled",_.value=V)},function(V){_.status==="pending"&&(_.status="rejected",_.reason=V)})),_.status){case"fulfilled":return _.value;case"rejected":throw _.reason}}throw _}function Z(_,V,Y,J,q){var nt=typeof _;(nt==="undefined"||nt==="boolean")&&(_=null);var st=!1;if(_===null)st=!0;else switch(nt){case"bigint":case"string":case"number":st=!0;break;case"object":switch(_.$$typeof){case t:case e:st=!0;break;case h:return st=_._init,Z(st(_._payload),V,Y,J,q)}}if(st)return q=q(_),st=J===""?"."+j(_,0):J,T(q)?(Y="",st!=null&&(Y=st.replace(F,"$&/")+"/"),Z(q,V,Y,"",function(dt){return dt})):q!=null&&(R(q)&&(q=B(q,Y+(q.key==null||_&&_.key===q.key?"":(""+q.key).replace(F,"$&/")+"/")+st)),V.push(q)),1;st=0;var rt=J===""?".":J+":";if(T(_))for(var ct=0;ct<_.length;ct++)J=_[ct],nt=rt+j(J,ct),st+=Z(J,V,Y,nt,q);else if(ct=f(_),typeof ct=="function")for(_=ct.call(_),ct=0;!(J=_.next()).done;)J=J.value,nt=rt+j(J,ct++),st+=Z(J,V,Y,nt,q);else if(nt==="object"){if(typeof _.then=="function")return Z(W(_),V,Y,J,q);throw V=String(_),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return st}function U(_,V,Y){if(_==null)return _;var J=[],q=0;return Z(_,J,"","",function(nt){return V.call(Y,nt,q++)}),J}function K(_){if(_._status===-1){var V=_._result;V=V(),V.then(function(Y){(_._status===0||_._status===-1)&&(_._status=1,_._result=Y)},function(Y){(_._status===0||_._status===-1)&&(_._status=2,_._result=Y)}),_._status===-1&&(_._status=0,_._result=V)}if(_._status===1)return _._result.default;throw _._result}var $=typeof reportError=="function"?reportError:function(_){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof _=="object"&&_!==null&&typeof _.message=="string"?String(_.message):String(_),error:_});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",_);return}console.error(_)};function X(){}return ee.Children={map:U,forEach:function(_,V,Y){U(_,function(){V.apply(this,arguments)},Y)},count:function(_){var V=0;return U(_,function(){V++}),V},toArray:function(_){return U(_,function(V){return V})||[]},only:function(_){if(!R(_))throw Error("React.Children.only expected to receive a single React element child.");return _}},ee.Component=v,ee.Fragment=i,ee.Profiler=s,ee.PureComponent=D,ee.StrictMode=n,ee.Suspense=l,ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,ee.act=function(){throw Error("act(...) is not supported in production builds of React.")},ee.cache=function(_){return function(){return _.apply(null,arguments)}},ee.cloneElement=function(_,V,Y){if(_==null)throw Error("The argument must be a React element, but you passed "+_+".");var J=m({},_.props),q=_.key,nt=void 0;if(V!=null)for(st in V.ref!==void 0&&(nt=void 0),V.key!==void 0&&(q=""+V.key),V)!E.call(V,st)||st==="key"||st==="__self"||st==="__source"||st==="ref"&&V.ref===void 0||(J[st]=V[st]);var st=arguments.length-2;if(st===1)J.children=Y;else if(1<st){for(var rt=Array(st),ct=0;ct<st;ct++)rt[ct]=arguments[ct+2];J.children=rt}return O(_.type,q,void 0,void 0,nt,J)},ee.createContext=function(_){return _={$$typeof:o,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null},_.Provider=_,_.Consumer={$$typeof:a,_context:_},_},ee.createElement=function(_,V,Y){var J,q={},nt=null;if(V!=null)for(J in V.key!==void 0&&(nt=""+V.key),V)E.call(V,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(q[J]=V[J]);var st=arguments.length-2;if(st===1)q.children=Y;else if(1<st){for(var rt=Array(st),ct=0;ct<st;ct++)rt[ct]=arguments[ct+2];q.children=rt}if(_&&_.defaultProps)for(J in st=_.defaultProps,st)q[J]===void 0&&(q[J]=st[J]);return O(_,nt,void 0,void 0,null,q)},ee.createRef=function(){return{current:null}},ee.forwardRef=function(_){return{$$typeof:r,render:_}},ee.isValidElement=R,ee.lazy=function(_){return{$$typeof:h,_payload:{_status:-1,_result:_},_init:K}},ee.memo=function(_,V){return{$$typeof:c,type:_,compare:V===void 0?null:V}},ee.startTransition=function(_){var V=k.T,Y={};k.T=Y;try{var J=_(),q=k.S;q!==null&&q(Y,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(X,$)}catch(nt){$(nt)}finally{k.T=V}},ee.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},ee.use=function(_){return k.H.use(_)},ee.useActionState=function(_,V,Y){return k.H.useActionState(_,V,Y)},ee.useCallback=function(_,V){return k.H.useCallback(_,V)},ee.useContext=function(_){return k.H.useContext(_)},ee.useDebugValue=function(){},ee.useDeferredValue=function(_,V){return k.H.useDeferredValue(_,V)},ee.useEffect=function(_,V){return k.H.useEffect(_,V)},ee.useId=function(){return k.H.useId()},ee.useImperativeHandle=function(_,V,Y){return k.H.useImperativeHandle(_,V,Y)},ee.useInsertionEffect=function(_,V){return k.H.useInsertionEffect(_,V)},ee.useLayoutEffect=function(_,V){return k.H.useLayoutEffect(_,V)},ee.useMemo=function(_,V){return k.H.useMemo(_,V)},ee.useOptimistic=function(_,V){return k.H.useOptimistic(_,V)},ee.useReducer=function(_,V,Y){return k.H.useReducer(_,V,Y)},ee.useRef=function(_){return k.H.useRef(_)},ee.useState=function(_){return k.H.useState(_)},ee.useSyncExternalStore=function(_,V,Y){return k.H.useSyncExternalStore(_,V,Y)},ee.useTransition=function(){return k.H.useTransition()},ee.version="19.0.0",ee}var cz;function mL(){return cz||(cz=1,uC.exports=dX()),uC.exports}var ot=mL();const Ru=cX(ot),ik=lX({__proto__:null,default:Ru},[ot]);var hC={exports:{}},Jy={},dC={exports:{}},pC={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uz;function pX(){return uz||(uz=1,function(t){function e(U,K){var $=U.length;U.push(K);t:for(;0<$;){var X=$-1>>>1,_=U[X];if(0<s(_,K))U[X]=K,U[$]=_,$=X;else break t}}function i(U){return U.length===0?null:U[0]}function n(U){if(U.length===0)return null;var K=U[0],$=U.pop();if($!==K){U[0]=$;t:for(var X=0,_=U.length,V=_>>>1;X<V;){var Y=2*(X+1)-1,J=U[Y],q=Y+1,nt=U[q];if(0>s(J,$))q<_&&0>s(nt,J)?(U[X]=nt,U[q]=$,X=q):(U[X]=J,U[Y]=$,X=Y);else if(q<_&&0>s(nt,$))U[X]=nt,U[q]=$,X=q;else break t}}return K}function s(U,K){var $=U.sortIndex-K.sortIndex;return $!==0?$:U.id-K.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,r=o.now();t.unstable_now=function(){return o.now()-r}}var l=[],c=[],h=1,p=null,f=3,y=!1,m=!1,b=!1,v=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function I(U){for(var K=i(c);K!==null;){if(K.callback===null)n(c);else if(K.startTime<=U)n(c),K.sortIndex=K.expirationTime,e(l,K);else break;K=i(c)}}function T(U){if(b=!1,I(U),!m)if(i(l)!==null)m=!0,W();else{var K=i(c);K!==null&&Z(T,K.startTime-U)}}var k=!1,E=-1,O=5,B=-1;function R(){return!(t.unstable_now()-B<O)}function L(){if(k){var U=t.unstable_now();B=U;var K=!0;try{t:{m=!1,b&&(b=!1,S(E),E=-1),y=!0;var $=f;try{e:{for(I(U),p=i(l);p!==null&&!(p.expirationTime>U&&R());){var X=p.callback;if(typeof X=="function"){p.callback=null,f=p.priorityLevel;var _=X(p.expirationTime<=U);if(U=t.unstable_now(),typeof _=="function"){p.callback=_,I(U),K=!0;break e}p===i(l)&&n(l),I(U)}else n(l);p=i(l)}if(p!==null)K=!0;else{var V=i(c);V!==null&&Z(T,V.startTime-U),K=!1}}break t}finally{p=null,f=$,y=!1}K=void 0}}finally{K?F():k=!1}}}var F;if(typeof D=="function")F=function(){D(L)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,G=j.port2;j.port1.onmessage=L,F=function(){G.postMessage(null)}}else F=function(){v(L,0)};function W(){k||(k=!0,F())}function Z(U,K){E=v(function(){U(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){m||y||(m=!0,W())},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return i(l)},t.unstable_next=function(U){switch(f){case 1:case 2:case 3:var K=3;break;default:K=f}var $=f;f=K;try{return U()}finally{f=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,K){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var $=f;f=U;try{return K()}finally{f=$}},t.unstable_scheduleCallback=function(U,K,$){var X=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?X+$:X):$=X,U){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=$+_,U={id:h++,callback:K,priorityLevel:U,startTime:$,expirationTime:_,sortIndex:-1},$>X?(U.sortIndex=$,e(c,U),i(l)===null&&U===i(c)&&(b?(S(E),E=-1):b=!0,Z(T,$-X))):(U.sortIndex=_,e(l,U),m||y||(m=!0,W())),U},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(U){var K=f;return function(){var $=f;f=K;try{return U.apply(this,arguments)}finally{f=$}}}}(pC)),pC}var hz;function fX(){return hz||(hz=1,dC.exports=pX()),dC.exports}var fC={exports:{}},xs={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dz;function gX(){if(dz)return xs;dz=1;var t=mL();function e(l){var c="https://react.dev/errors/"+l;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var n={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(l,c,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:p==null?null:""+p,children:l,containerInfo:c,implementation:h}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function r(l,c){if(l==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return xs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,xs.createPortal=function(l,c){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(e(299));return a(l,c,null,h)},xs.flushSync=function(l){var c=o.T,h=n.p;try{if(o.T=null,n.p=2,l)return l()}finally{o.T=c,n.p=h,n.d.f()}},xs.preconnect=function(l,c){typeof l=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,n.d.C(l,c))},xs.prefetchDNS=function(l){typeof l=="string"&&n.d.D(l)},xs.preinit=function(l,c){if(typeof l=="string"&&c&&typeof c.as=="string"){var h=c.as,p=r(h,c.crossOrigin),f=typeof c.integrity=="string"?c.integrity:void 0,y=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;h==="style"?n.d.S(l,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:p,integrity:f,fetchPriority:y}):h==="script"&&n.d.X(l,{crossOrigin:p,integrity:f,fetchPriority:y,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},xs.preinitModule=function(l,c){if(typeof l=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var h=r(c.as,c.crossOrigin);n.d.M(l,{crossOrigin:h,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&n.d.M(l)},xs.preload=function(l,c){if(typeof l=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var h=c.as,p=r(h,c.crossOrigin);n.d.L(l,h,{crossOrigin:p,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},xs.preloadModule=function(l,c){if(typeof l=="string")if(c){var h=r(c.as,c.crossOrigin);n.d.m(l,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:h,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else n.d.m(l)},xs.requestFormReset=function(l){n.d.r(l)},xs.unstable_batchedUpdates=function(l,c){return l(c)},xs.useFormState=function(l,c,h){return o.H.useFormState(l,c,h)},xs.useFormStatus=function(){return o.H.useHostTransitionStatus()},xs.version="19.0.0",xs}var pz;function yX(){if(pz)return fC.exports;pz=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),fC.exports=gX(),fC.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fz;function mX(){if(fz)return Jy;fz=1;var t=fX(),e=mL(),i=yX();function n(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}var a=Symbol.for("react.element"),o=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),f=Symbol.for("react.consumer"),y=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),I=Symbol.for("react.offscreen"),T=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function E(u){return u===null||typeof u!="object"?null:(u=k&&u[k]||u["@@iterator"],typeof u=="function"?u:null)}var O=Symbol.for("react.client.reference");function B(u){if(u==null)return null;if(typeof u=="function")return u.$$typeof===O?null:u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case l:return"Fragment";case r:return"Portal";case h:return"Profiler";case c:return"StrictMode";case b:return"Suspense";case v:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case y:return(u.displayName||"Context")+".Provider";case f:return(u._context.displayName||"Context")+".Consumer";case m:var d=u.render;return u=u.displayName,u||(u=d.displayName||d.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case S:return d=u.displayName||null,d!==null?d:B(u.type)||"Memo";case D:d=u._payload,u=u._init;try{return B(u(d))}catch{}}return null}var R=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=Object.assign,F,j;function G(u){if(F===void 0)try{throw Error()}catch(g){var d=g.stack.trim().match(/\n( *(at )?)/);F=d&&d[1]||"",j=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+F+u+j}var W=!1;function Z(u,d){if(!u||W)return"";W=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var x={DetermineComponentFrameRoot:function(){try{if(d){var Mt=function(){throw Error()};if(Object.defineProperty(Mt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Mt,[])}catch(gt){var ut=gt}Reflect.construct(u,[],Mt)}else{try{Mt.call()}catch(gt){ut=gt}u.call(Mt.prototype)}}else{try{throw Error()}catch(gt){ut=gt}(Mt=u())&&typeof Mt.catch=="function"&&Mt.catch(function(){})}}catch(gt){if(gt&&ut&&typeof gt.stack=="string")return[gt.stack,ut.stack]}return[null,null]}};x.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var M=Object.getOwnPropertyDescriptor(x.DetermineComponentFrameRoot,"name");M&&M.configurable&&Object.defineProperty(x.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=x.DetermineComponentFrameRoot(),P=C[0],H=C[1];if(P&&H){var Q=P.split(`
`),it=H.split(`
`);for(M=x=0;x<Q.length&&!Q[x].includes("DetermineComponentFrameRoot");)x++;for(;M<it.length&&!it[M].includes("DetermineComponentFrameRoot");)M++;if(x===Q.length||M===it.length)for(x=Q.length-1,M=it.length-1;1<=x&&0<=M&&Q[x]!==it[M];)M--;for(;1<=x&&0<=M;x--,M--)if(Q[x]!==it[M]){if(x!==1||M!==1)do if(x--,M--,0>M||Q[x]!==it[M]){var mt=`
`+Q[x].replace(" at new "," at ");return u.displayName&&mt.includes("<anonymous>")&&(mt=mt.replace("<anonymous>",u.displayName)),mt}while(1<=x&&0<=M);break}}}finally{W=!1,Error.prepareStackTrace=g}return(g=u?u.displayName||u.name:"")?G(g):""}function U(u){switch(u.tag){case 26:case 27:case 5:return G(u.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 15:return u=Z(u.type,!1),u;case 11:return u=Z(u.type.render,!1),u;case 1:return u=Z(u.type,!0),u;default:return""}}function K(u){try{var d="";do d+=U(u),u=u.return;while(u);return d}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}function $(u){var d=u,g=u;if(u.alternate)for(;d.return;)d=d.return;else{u=d;do d=u,d.flags&4098&&(g=d.return),u=d.return;while(u)}return d.tag===3?g:null}function X(u){if(u.tag===13){var d=u.memoizedState;if(d===null&&(u=u.alternate,u!==null&&(d=u.memoizedState)),d!==null)return d.dehydrated}return null}function _(u){if($(u)!==u)throw Error(n(188))}function V(u){var d=u.alternate;if(!d){if(d=$(u),d===null)throw Error(n(188));return d!==u?null:u}for(var g=u,x=d;;){var M=g.return;if(M===null)break;var C=M.alternate;if(C===null){if(x=M.return,x!==null){g=x;continue}break}if(M.child===C.child){for(C=M.child;C;){if(C===g)return _(M),u;if(C===x)return _(M),d;C=C.sibling}throw Error(n(188))}if(g.return!==x.return)g=M,x=C;else{for(var P=!1,H=M.child;H;){if(H===g){P=!0,g=M,x=C;break}if(H===x){P=!0,x=M,g=C;break}H=H.sibling}if(!P){for(H=C.child;H;){if(H===g){P=!0,g=C,x=M;break}if(H===x){P=!0,x=C,g=M;break}H=H.sibling}if(!P)throw Error(n(189))}}if(g.alternate!==x)throw Error(n(190))}if(g.tag!==3)throw Error(n(188));return g.stateNode.current===g?u:d}function Y(u){var d=u.tag;if(d===5||d===26||d===27||d===6)return u;for(u=u.child;u!==null;){if(d=Y(u),d!==null)return d;u=u.sibling}return null}var J=Array.isArray,q=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt={pending:!1,data:null,method:null,action:null},st=[],rt=-1;function ct(u){return{current:u}}function dt(u){0>rt||(u.current=st[rt],st[rt]=null,rt--)}function ht(u,d){rt++,st[rt]=u.current,u.current=d}var yt=ct(null),pt=ct(null),vt=ct(null),At=ct(null);function bt(u,d){switch(ht(vt,d),ht(pt,u),ht(yt,null),u=d.nodeType,u){case 9:case 11:d=(d=d.documentElement)&&(d=d.namespaceURI)?PB(d):0;break;default:if(u=u===8?d.parentNode:d,d=u.tagName,u=u.namespaceURI)u=PB(u),d=BB(u,d);else switch(d){case"svg":d=1;break;case"math":d=2;break;default:d=0}}dt(yt),ht(yt,d)}function Rt(){dt(yt),dt(pt),dt(vt)}function Nt(u){u.memoizedState!==null&&ht(At,u);var d=yt.current,g=BB(d,u.type);d!==g&&(ht(pt,u),ht(yt,g))}function Ot(u){pt.current===u&&(dt(yt),dt(pt)),At.current===u&&(dt(At),Yy._currentValue=nt)}var Xt=Object.prototype.hasOwnProperty,zt=t.unstable_scheduleCallback,Gt=t.unstable_cancelCallback,St=t.unstable_shouldYield,Ie=t.unstable_requestPaint,Ht=t.unstable_now,on=t.unstable_getCurrentPriorityLevel,Fi=t.unstable_ImmediatePriority,gs=t.unstable_UserBlockingPriority,Fs=t.unstable_NormalPriority,Xn=t.unstable_LowPriority,oa=t.unstable_IdlePriority,je=t.log,Mp=t.unstable_setDisableYieldValue,wr=null,Zn=null;function Ft(u){if(Zn&&typeof Zn.onCommitFiberRoot=="function")try{Zn.onCommitFiberRoot(wr,u,void 0,(u.current.flags&128)===128)}catch{}}function Bt(u){if(typeof je=="function"&&Mp(u),Zn&&typeof Zn.setStrictMode=="function")try{Zn.setStrictMode(wr,u)}catch{}}var te=Math.clz32?Math.clz32:Ja,Se=Math.log,ci=Math.LN2;function Ja(u){return u>>>=0,u===0?32:31-(Se(u)/ci|0)|0}var to=128,Rr=4194304;function Pr(u){var d=u&42;if(d!==0)return d;switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return u&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return u}}function Xc(u,d){var g=u.pendingLanes;if(g===0)return 0;var x=0,M=u.suspendedLanes,C=u.pingedLanes,P=u.warmLanes;u=u.finishedLanes!==0;var H=g&134217727;return H!==0?(g=H&~M,g!==0?x=Pr(g):(C&=H,C!==0?x=Pr(C):u||(P=H&~P,P!==0&&(x=Pr(P))))):(H=g&~M,H!==0?x=Pr(H):C!==0?x=Pr(C):u||(P=g&~P,P!==0&&(x=Pr(P)))),x===0?0:d!==0&&d!==x&&!(d&M)&&(M=x&-x,P=d&-d,M>=P||M===32&&(P&4194176)!==0)?d:x}function iy(u,d){return(u.pendingLanes&~(u.suspendedLanes&~u.pingedLanes)&d)===0}function KK(u,d){switch(u){case 1:case 2:case 4:case 8:return d+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function CR(){var u=to;return to<<=1,!(to&4194176)&&(to=128),u}function kR(){var u=Rr;return Rr<<=1,!(Rr&62914560)&&(Rr=4194304),u}function sI(u){for(var d=[],g=0;31>g;g++)d.push(u);return d}function ny(u,d){u.pendingLanes|=d,d!==268435456&&(u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0)}function XK(u,d,g,x,M,C){var P=u.pendingLanes;u.pendingLanes=g,u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0,u.expiredLanes&=g,u.entangledLanes&=g,u.errorRecoveryDisabledLanes&=g,u.shellSuspendCounter=0;var H=u.entanglements,Q=u.expirationTimes,it=u.hiddenUpdates;for(g=P&~g;0<g;){var mt=31-te(g),Mt=1<<mt;H[mt]=0,Q[mt]=-1;var ut=it[mt];if(ut!==null)for(it[mt]=null,mt=0;mt<ut.length;mt++){var gt=ut[mt];gt!==null&&(gt.lane&=-536870913)}g&=~Mt}x!==0&&LR(u,x,0),C!==0&&M===0&&u.tag!==0&&(u.suspendedLanes|=C&~(P&~d))}function LR(u,d,g){u.pendingLanes|=d,u.suspendedLanes&=~d;var x=31-te(d);u.entangledLanes|=d,u.entanglements[x]=u.entanglements[x]|1073741824|g&4194218}function NR(u,d){var g=u.entangledLanes|=d;for(u=u.entanglements;g;){var x=31-te(g),M=1<<x;M&d|u[x]&d&&(u[x]|=d),g&=~M}}function ER(u){return u&=-u,2<u?8<u?u&134217727?32:268435456:8:2}function OR(){var u=q.p;return u!==0?u:(u=window.event,u===void 0?32:tz(u.type))}function ZK(u,d){var g=q.p;try{return q.p=u,d()}finally{q.p=g}}var Zc=Math.random().toString(36).slice(2),ys="__reactFiber$"+Zc,ra="__reactProps$"+Zc,Ap="__reactContainer$"+Zc,aI="__reactEvents$"+Zc,qK="__reactListeners$"+Zc,QK="__reactHandles$"+Zc,wR="__reactResources$"+Zc,sy="__reactMarker$"+Zc;function oI(u){delete u[ys],delete u[ra],delete u[aI],delete u[qK],delete u[QK]}function kh(u){var d=u[ys];if(d)return d;for(var g=u.parentNode;g;){if(d=g[Ap]||g[ys]){if(g=d.alternate,d.child!==null||g!==null&&g.child!==null)for(u=jB(u);u!==null;){if(g=u[ys])return g;u=jB(u)}return d}u=g,g=u.parentNode}return null}function Dp(u){if(u=u[ys]||u[Ap]){var d=u.tag;if(d===5||d===6||d===13||d===26||d===27||d===3)return u}return null}function ay(u){var d=u.tag;if(d===5||d===26||d===27||d===6)return u.stateNode;throw Error(n(33))}function Ip(u){var d=u[wR];return d||(d=u[wR]={hoistableStyles:new Map,hoistableScripts:new Map}),d}function Pn(u){u[sy]=!0}var RR=new Set,PR={};function Lh(u,d){Tp(u,d),Tp(u+"Capture",d)}function Tp(u,d){for(PR[u]=d,u=0;u<d.length;u++)RR.add(d[u])}var Nl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),JK=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),BR={},zR={};function t9(u){return Xt.call(zR,u)?!0:Xt.call(BR,u)?!1:JK.test(u)?zR[u]=!0:(BR[u]=!0,!1)}function Jb(u,d,g){if(t9(d))if(g===null)u.removeAttribute(d);else{switch(typeof g){case"undefined":case"function":case"symbol":u.removeAttribute(d);return;case"boolean":var x=d.toLowerCase().slice(0,5);if(x!=="data-"&&x!=="aria-"){u.removeAttribute(d);return}}u.setAttribute(d,""+g)}}function t0(u,d,g){if(g===null)u.removeAttribute(d);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(d);return}u.setAttribute(d,""+g)}}function El(u,d,g,x){if(x===null)u.removeAttribute(g);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(g);return}u.setAttributeNS(d,g,""+x)}}function eo(u){switch(typeof u){case"bigint":case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function _R(u){var d=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function e9(u){var d=_R(u)?"checked":"value",g=Object.getOwnPropertyDescriptor(u.constructor.prototype,d),x=""+u[d];if(!u.hasOwnProperty(d)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var M=g.get,C=g.set;return Object.defineProperty(u,d,{configurable:!0,get:function(){return M.call(this)},set:function(P){x=""+P,C.call(this,P)}}),Object.defineProperty(u,d,{enumerable:g.enumerable}),{getValue:function(){return x},setValue:function(P){x=""+P},stopTracking:function(){u._valueTracker=null,delete u[d]}}}}function e0(u){u._valueTracker||(u._valueTracker=e9(u))}function jR(u){if(!u)return!1;var d=u._valueTracker;if(!d)return!0;var g=d.getValue(),x="";return u&&(x=_R(u)?u.checked?"true":"false":u.value),u=x,u!==g?(d.setValue(u),!0):!1}function i0(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}var i9=/[\n"\\]/g;function io(u){return u.replace(i9,function(d){return"\\"+d.charCodeAt(0).toString(16)+" "})}function rI(u,d,g,x,M,C,P,H){u.name="",P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?u.type=P:u.removeAttribute("type"),d!=null?P==="number"?(d===0&&u.value===""||u.value!=d)&&(u.value=""+eo(d)):u.value!==""+eo(d)&&(u.value=""+eo(d)):P!=="submit"&&P!=="reset"||u.removeAttribute("value"),d!=null?lI(u,P,eo(d)):g!=null?lI(u,P,eo(g)):x!=null&&u.removeAttribute("value"),M==null&&C!=null&&(u.defaultChecked=!!C),M!=null&&(u.checked=M&&typeof M!="function"&&typeof M!="symbol"),H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?u.name=""+eo(H):u.removeAttribute("name")}function FR(u,d,g,x,M,C,P,H){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(u.type=C),d!=null||g!=null){if(!(C!=="submit"&&C!=="reset"||d!=null))return;g=g!=null?""+eo(g):"",d=d!=null?""+eo(d):g,H||d===u.value||(u.value=d),u.defaultValue=d}x=x??M,x=typeof x!="function"&&typeof x!="symbol"&&!!x,u.checked=H?u.checked:!!x,u.defaultChecked=!!x,P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(u.name=P)}function lI(u,d,g){d==="number"&&i0(u.ownerDocument)===u||u.defaultValue===""+g||(u.defaultValue=""+g)}function Cp(u,d,g,x){if(u=u.options,d){d={};for(var M=0;M<g.length;M++)d["$"+g[M]]=!0;for(g=0;g<u.length;g++)M=d.hasOwnProperty("$"+u[g].value),u[g].selected!==M&&(u[g].selected=M),M&&x&&(u[g].defaultSelected=!0)}else{for(g=""+eo(g),d=null,M=0;M<u.length;M++){if(u[M].value===g){u[M].selected=!0,x&&(u[M].defaultSelected=!0);return}d!==null||u[M].disabled||(d=u[M])}d!==null&&(d.selected=!0)}}function GR(u,d,g){if(d!=null&&(d=""+eo(d),d!==u.value&&(u.value=d),g==null)){u.defaultValue!==d&&(u.defaultValue=d);return}u.defaultValue=g!=null?""+eo(g):""}function VR(u,d,g,x){if(d==null){if(x!=null){if(g!=null)throw Error(n(92));if(J(x)){if(1<x.length)throw Error(n(93));x=x[0]}g=x}g==null&&(g=""),d=g}g=eo(d),u.defaultValue=g,x=u.textContent,x===g&&x!==""&&x!==null&&(u.value=x)}function kp(u,d){if(d){var g=u.firstChild;if(g&&g===u.lastChild&&g.nodeType===3){g.nodeValue=d;return}}u.textContent=d}var n9=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function UR(u,d,g){var x=d.indexOf("--")===0;g==null||typeof g=="boolean"||g===""?x?u.setProperty(d,""):d==="float"?u.cssFloat="":u[d]="":x?u.setProperty(d,g):typeof g!="number"||g===0||n9.has(d)?d==="float"?u.cssFloat=g:u[d]=(""+g).trim():u[d]=g+"px"}function HR(u,d,g){if(d!=null&&typeof d!="object")throw Error(n(62));if(u=u.style,g!=null){for(var x in g)!g.hasOwnProperty(x)||d!=null&&d.hasOwnProperty(x)||(x.indexOf("--")===0?u.setProperty(x,""):x==="float"?u.cssFloat="":u[x]="");for(var M in d)x=d[M],d.hasOwnProperty(M)&&g[M]!==x&&UR(u,M,x)}else for(var C in d)d.hasOwnProperty(C)&&UR(u,C,d[C])}function cI(u){if(u.indexOf("-")===-1)return!1;switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var s9=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),a9=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function n0(u){return a9.test(""+u)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":u}var uI=null;function hI(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var Lp=null,Np=null;function WR(u){var d=Dp(u);if(d&&(u=d.stateNode)){var g=u[ra]||null;t:switch(u=d.stateNode,d.type){case"input":if(rI(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name),d=g.name,g.type==="radio"&&d!=null){for(g=u;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll('input[name="'+io(""+d)+'"][type="radio"]'),d=0;d<g.length;d++){var x=g[d];if(x!==u&&x.form===u.form){var M=x[ra]||null;if(!M)throw Error(n(90));rI(x,M.value,M.defaultValue,M.defaultValue,M.checked,M.defaultChecked,M.type,M.name)}}for(d=0;d<g.length;d++)x=g[d],x.form===u.form&&jR(x)}break t;case"textarea":GR(u,g.value,g.defaultValue);break t;case"select":d=g.value,d!=null&&Cp(u,!!g.multiple,d,!1)}}}var dI=!1;function YR(u,d,g){if(dI)return u(d,g);dI=!0;try{var x=u(d);return x}finally{if(dI=!1,(Lp!==null||Np!==null)&&(F0(),Lp&&(d=Lp,u=Np,Np=Lp=null,WR(d),u)))for(d=0;d<u.length;d++)WR(u[d])}}function oy(u,d){var g=u.stateNode;if(g===null)return null;var x=g[ra]||null;if(x===null)return null;g=x[d];t:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(u=u.type,x=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!x;break t;default:u=!1}if(u)return null;if(g&&typeof g!="function")throw Error(n(231,d,typeof g));return g}var pI=!1;if(Nl)try{var ry={};Object.defineProperty(ry,"passive",{get:function(){pI=!0}}),window.addEventListener("test",ry,ry),window.removeEventListener("test",ry,ry)}catch{pI=!1}var qc=null,fI=null,s0=null;function $R(){if(s0)return s0;var u,d=fI,g=d.length,x,M="value"in qc?qc.value:qc.textContent,C=M.length;for(u=0;u<g&&d[u]===M[u];u++);var P=g-u;for(x=1;x<=P&&d[g-x]===M[C-x];x++);return s0=M.slice(u,1<x?1-x:void 0)}function a0(u){var d=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&d===13&&(u=13)):u=d,u===10&&(u=13),32<=u||u===13?u:0}function o0(){return!0}function KR(){return!1}function la(u){function d(g,x,M,C,P){this._reactName=g,this._targetInst=M,this.type=x,this.nativeEvent=C,this.target=P,this.currentTarget=null;for(var H in u)u.hasOwnProperty(H)&&(g=u[H],this[H]=g?g(C):C[H]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?o0:KR,this.isPropagationStopped=KR,this}return L(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=o0)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=o0)},persist:function(){},isPersistent:o0}),d}var Nh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},r0=la(Nh),ly=L({},Nh,{view:0,detail:0}),o9=la(ly),gI,yI,cy,l0=L({},ly,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xI,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==cy&&(cy&&u.type==="mousemove"?(gI=u.screenX-cy.screenX,yI=u.screenY-cy.screenY):yI=gI=0,cy=u),gI)},movementY:function(u){return"movementY"in u?u.movementY:yI}}),XR=la(l0),r9=L({},l0,{dataTransfer:0}),l9=la(r9),c9=L({},ly,{relatedTarget:0}),mI=la(c9),u9=L({},Nh,{animationName:0,elapsedTime:0,pseudoElement:0}),h9=la(u9),d9=L({},Nh,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),p9=la(d9),f9=L({},Nh,{data:0}),ZR=la(f9),g9={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},y9={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},m9={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function x9(u){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(u):(u=m9[u])?!!d[u]:!1}function xI(){return x9}var b9=L({},ly,{key:function(u){if(u.key){var d=g9[u.key]||u.key;if(d!=="Unidentified")return d}return u.type==="keypress"?(u=a0(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?y9[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xI,charCode:function(u){return u.type==="keypress"?a0(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?a0(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),v9=la(b9),S9=L({},l0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qR=la(S9),M9=L({},ly,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xI}),A9=la(M9),D9=L({},Nh,{propertyName:0,elapsedTime:0,pseudoElement:0}),I9=la(D9),T9=L({},l0,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),C9=la(T9),k9=L({},Nh,{newState:0,oldState:0}),L9=la(k9),N9=[9,13,27,32],bI=Nl&&"CompositionEvent"in window,uy=null;Nl&&"documentMode"in document&&(uy=document.documentMode);var E9=Nl&&"TextEvent"in window&&!uy,QR=Nl&&(!bI||uy&&8<uy&&11>=uy),JR=" ",t2=!1;function e2(u,d){switch(u){case"keyup":return N9.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function i2(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var Ep=!1;function O9(u,d){switch(u){case"compositionend":return i2(d);case"keypress":return d.which!==32?null:(t2=!0,JR);case"textInput":return u=d.data,u===JR&&t2?null:u;default:return null}}function w9(u,d){if(Ep)return u==="compositionend"||!bI&&e2(u,d)?(u=$R(),s0=fI=qc=null,Ep=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return QR&&d.locale!=="ko"?null:d.data;default:return null}}var R9={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function n2(u){var d=u&&u.nodeName&&u.nodeName.toLowerCase();return d==="input"?!!R9[u.type]:d==="textarea"}function s2(u,d,g,x){Lp?Np?Np.push(x):Np=[x]:Lp=x,d=W0(d,"onChange"),0<d.length&&(g=new r0("onChange","change",null,g,x),u.push({event:g,listeners:d}))}var hy=null,dy=null;function P9(u){NB(u,0)}function c0(u){var d=ay(u);if(jR(d))return u}function a2(u,d){if(u==="change")return d}var o2=!1;if(Nl){var vI;if(Nl){var SI="oninput"in document;if(!SI){var r2=document.createElement("div");r2.setAttribute("oninput","return;"),SI=typeof r2.oninput=="function"}vI=SI}else vI=!1;o2=vI&&(!document.documentMode||9<document.documentMode)}function l2(){hy&&(hy.detachEvent("onpropertychange",c2),dy=hy=null)}function c2(u){if(u.propertyName==="value"&&c0(dy)){var d=[];s2(d,dy,u,hI(u)),YR(P9,d)}}function B9(u,d,g){u==="focusin"?(l2(),hy=d,dy=g,hy.attachEvent("onpropertychange",c2)):u==="focusout"&&l2()}function z9(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return c0(dy)}function _9(u,d){if(u==="click")return c0(d)}function j9(u,d){if(u==="input"||u==="change")return c0(d)}function F9(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var La=typeof Object.is=="function"?Object.is:F9;function py(u,d){if(La(u,d))return!0;if(typeof u!="object"||u===null||typeof d!="object"||d===null)return!1;var g=Object.keys(u),x=Object.keys(d);if(g.length!==x.length)return!1;for(x=0;x<g.length;x++){var M=g[x];if(!Xt.call(d,M)||!La(u[M],d[M]))return!1}return!0}function u2(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function h2(u,d){var g=u2(u);u=0;for(var x;g;){if(g.nodeType===3){if(x=u+g.textContent.length,u<=d&&x>=d)return{node:g,offset:d-u};u=x}t:{for(;g;){if(g.nextSibling){g=g.nextSibling;break t}g=g.parentNode}g=void 0}g=u2(g)}}function d2(u,d){return u&&d?u===d?!0:u&&u.nodeType===3?!1:d&&d.nodeType===3?d2(u,d.parentNode):"contains"in u?u.contains(d):u.compareDocumentPosition?!!(u.compareDocumentPosition(d)&16):!1:!1}function p2(u){u=u!=null&&u.ownerDocument!=null&&u.ownerDocument.defaultView!=null?u.ownerDocument.defaultView:window;for(var d=i0(u.document);d instanceof u.HTMLIFrameElement;){try{var g=typeof d.contentWindow.location.href=="string"}catch{g=!1}if(g)u=d.contentWindow;else break;d=i0(u.document)}return d}function MI(u){var d=u&&u.nodeName&&u.nodeName.toLowerCase();return d&&(d==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||d==="textarea"||u.contentEditable==="true")}function G9(u,d){var g=p2(d);d=u.focusedElem;var x=u.selectionRange;if(g!==d&&d&&d.ownerDocument&&d2(d.ownerDocument.documentElement,d)){if(x!==null&&MI(d)){if(u=x.start,g=x.end,g===void 0&&(g=u),"selectionStart"in d)d.selectionStart=u,d.selectionEnd=Math.min(g,d.value.length);else if(g=(u=d.ownerDocument||document)&&u.defaultView||window,g.getSelection){g=g.getSelection();var M=d.textContent.length,C=Math.min(x.start,M);x=x.end===void 0?C:Math.min(x.end,M),!g.extend&&C>x&&(M=x,x=C,C=M),M=h2(d,C);var P=h2(d,x);M&&P&&(g.rangeCount!==1||g.anchorNode!==M.node||g.anchorOffset!==M.offset||g.focusNode!==P.node||g.focusOffset!==P.offset)&&(u=u.createRange(),u.setStart(M.node,M.offset),g.removeAllRanges(),C>x?(g.addRange(u),g.extend(P.node,P.offset)):(u.setEnd(P.node,P.offset),g.addRange(u)))}}for(u=[],g=d;g=g.parentNode;)g.nodeType===1&&u.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<u.length;d++)g=u[d],g.element.scrollLeft=g.left,g.element.scrollTop=g.top}}var V9=Nl&&"documentMode"in document&&11>=document.documentMode,Op=null,AI=null,fy=null,DI=!1;function f2(u,d,g){var x=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;DI||Op==null||Op!==i0(x)||(x=Op,"selectionStart"in x&&MI(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),fy&&py(fy,x)||(fy=x,x=W0(AI,"onSelect"),0<x.length&&(d=new r0("onSelect","select",null,d,g),u.push({event:d,listeners:x}),d.target=Op)))}function Eh(u,d){var g={};return g[u.toLowerCase()]=d.toLowerCase(),g["Webkit"+u]="webkit"+d,g["Moz"+u]="moz"+d,g}var wp={animationend:Eh("Animation","AnimationEnd"),animationiteration:Eh("Animation","AnimationIteration"),animationstart:Eh("Animation","AnimationStart"),transitionrun:Eh("Transition","TransitionRun"),transitionstart:Eh("Transition","TransitionStart"),transitioncancel:Eh("Transition","TransitionCancel"),transitionend:Eh("Transition","TransitionEnd")},II={},g2={};Nl&&(g2=document.createElement("div").style,"AnimationEvent"in window||(delete wp.animationend.animation,delete wp.animationiteration.animation,delete wp.animationstart.animation),"TransitionEvent"in window||delete wp.transitionend.transition);function Oh(u){if(II[u])return II[u];if(!wp[u])return u;var d=wp[u],g;for(g in d)if(d.hasOwnProperty(g)&&g in g2)return II[u]=d[g];return u}var y2=Oh("animationend"),m2=Oh("animationiteration"),x2=Oh("animationstart"),U9=Oh("transitionrun"),H9=Oh("transitionstart"),W9=Oh("transitioncancel"),b2=Oh("transitionend"),v2=new Map,S2="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function qo(u,d){v2.set(u,d),Lh(d,[u])}var no=[],Rp=0,TI=0;function u0(){for(var u=Rp,d=TI=Rp=0;d<u;){var g=no[d];no[d++]=null;var x=no[d];no[d++]=null;var M=no[d];no[d++]=null;var C=no[d];if(no[d++]=null,x!==null&&M!==null){var P=x.pending;P===null?M.next=M:(M.next=P.next,P.next=M),x.pending=M}C!==0&&M2(g,M,C)}}function h0(u,d,g,x){no[Rp++]=u,no[Rp++]=d,no[Rp++]=g,no[Rp++]=x,TI|=x,u.lanes|=x,u=u.alternate,u!==null&&(u.lanes|=x)}function CI(u,d,g,x){return h0(u,d,g,x),d0(u)}function Qc(u,d){return h0(u,null,null,d),d0(u)}function M2(u,d,g){u.lanes|=g;var x=u.alternate;x!==null&&(x.lanes|=g);for(var M=!1,C=u.return;C!==null;)C.childLanes|=g,x=C.alternate,x!==null&&(x.childLanes|=g),C.tag===22&&(u=C.stateNode,u===null||u._visibility&1||(M=!0)),u=C,C=C.return;M&&d!==null&&u.tag===3&&(C=u.stateNode,M=31-te(g),C=C.hiddenUpdates,u=C[M],u===null?C[M]=[d]:u.push(d),d.lane=g|536870912)}function d0(u){if(50<jy)throw jy=0,wT=null,Error(n(185));for(var d=u.return;d!==null;)u=d,d=u.return;return u.tag===3?u.stateNode:null}var Pp={},A2=new WeakMap;function so(u,d){if(typeof u=="object"&&u!==null){var g=A2.get(u);return g!==void 0?g:(d={value:u,source:d,stack:K(d)},A2.set(u,d),d)}return{value:u,source:d,stack:K(d)}}var Bp=[],zp=0,p0=null,f0=0,ao=[],oo=0,wh=null,Ol=1,wl="";function Rh(u,d){Bp[zp++]=f0,Bp[zp++]=p0,p0=u,f0=d}function D2(u,d,g){ao[oo++]=Ol,ao[oo++]=wl,ao[oo++]=wh,wh=u;var x=Ol;u=wl;var M=32-te(x)-1;x&=~(1<<M),g+=1;var C=32-te(d)+M;if(30<C){var P=M-M%5;C=(x&(1<<P)-1).toString(32),x>>=P,M-=P,Ol=1<<32-te(d)+M|g<<M|x,wl=C+u}else Ol=1<<C|g<<M|x,wl=u}function kI(u){u.return!==null&&(Rh(u,1),D2(u,1,0))}function LI(u){for(;u===p0;)p0=Bp[--zp],Bp[zp]=null,f0=Bp[--zp],Bp[zp]=null;for(;u===wh;)wh=ao[--oo],ao[oo]=null,wl=ao[--oo],ao[oo]=null,Ol=ao[--oo],ao[oo]=null}var Gs=null,qn=null,Te=!1,Qo=null,Br=!1,NI=Error(n(519));function Ph(u){var d=Error(n(418,""));throw my(so(d,u)),NI}function I2(u){var d=u.stateNode,g=u.type,x=u.memoizedProps;switch(d[ys]=u,d[ra]=x,g){case"dialog":ge("cancel",d),ge("close",d);break;case"iframe":case"object":case"embed":ge("load",d);break;case"video":case"audio":for(g=0;g<Gy.length;g++)ge(Gy[g],d);break;case"source":ge("error",d);break;case"img":case"image":case"link":ge("error",d),ge("load",d);break;case"details":ge("toggle",d);break;case"input":ge("invalid",d),FR(d,x.value,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name,!0),e0(d);break;case"select":ge("invalid",d);break;case"textarea":ge("invalid",d),VR(d,x.value,x.defaultValue,x.children),e0(d)}g=x.children,typeof g!="string"&&typeof g!="number"&&typeof g!="bigint"||d.textContent===""+g||x.suppressHydrationWarning===!0||RB(d.textContent,g)?(x.popover!=null&&(ge("beforetoggle",d),ge("toggle",d)),x.onScroll!=null&&ge("scroll",d),x.onScrollEnd!=null&&ge("scrollend",d),x.onClick!=null&&(d.onclick=Y0),d=!0):d=!1,d||Ph(u)}function T2(u){for(Gs=u.return;Gs;)switch(Gs.tag){case 3:case 27:Br=!0;return;case 5:case 13:Br=!1;return;default:Gs=Gs.return}}function gy(u){if(u!==Gs)return!1;if(!Te)return T2(u),Te=!0,!1;var d=!1,g;if((g=u.tag!==3&&u.tag!==27)&&((g=u.tag===5)&&(g=u.type,g=!(g!=="form"&&g!=="button")||ZT(u.type,u.memoizedProps)),g=!g),g&&(d=!0),d&&qn&&Ph(u),T2(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(n(317));t:{for(u=u.nextSibling,d=0;u;){if(u.nodeType===8)if(g=u.data,g==="/$"){if(d===0){qn=tr(u.nextSibling);break t}d--}else g!=="$"&&g!=="$!"&&g!=="$?"||d++;u=u.nextSibling}qn=null}}else qn=Gs?tr(u.stateNode.nextSibling):null;return!0}function yy(){qn=Gs=null,Te=!1}function my(u){Qo===null?Qo=[u]:Qo.push(u)}var xy=Error(n(460)),C2=Error(n(474)),EI={then:function(){}};function k2(u){return u=u.status,u==="fulfilled"||u==="rejected"}function g0(){}function L2(u,d,g){switch(g=u[g],g===void 0?u.push(d):g!==d&&(d.then(g0,g0),d=g),d.status){case"fulfilled":return d.value;case"rejected":throw u=d.reason,u===xy?Error(n(483)):u;default:if(typeof d.status=="string")d.then(g0,g0);else{if(u=ei,u!==null&&100<u.shellSuspendCounter)throw Error(n(482));u=d,u.status="pending",u.then(function(x){if(d.status==="pending"){var M=d;M.status="fulfilled",M.value=x}},function(x){if(d.status==="pending"){var M=d;M.status="rejected",M.reason=x}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw u=d.reason,u===xy?Error(n(483)):u}throw by=d,xy}}var by=null;function N2(){if(by===null)throw Error(n(459));var u=by;return by=null,u}var _p=null,vy=0;function y0(u){var d=vy;return vy+=1,_p===null&&(_p=[]),L2(_p,u,d)}function Sy(u,d){d=d.props.ref,u.ref=d!==void 0?d:null}function m0(u,d){throw d.$$typeof===a?Error(n(525)):(u=Object.prototype.toString.call(d),Error(n(31,u==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":u)))}function E2(u){var d=u._init;return d(u._payload)}function O2(u){function d(at,et){if(u){var lt=at.deletions;lt===null?(at.deletions=[et],at.flags|=16):lt.push(et)}}function g(at,et){if(!u)return null;for(;et!==null;)d(at,et),et=et.sibling;return null}function x(at){for(var et=new Map;at!==null;)at.key!==null?et.set(at.key,at):et.set(at.index,at),at=at.sibling;return et}function M(at,et){return at=uu(at,et),at.index=0,at.sibling=null,at}function C(at,et,lt){return at.index=lt,u?(lt=at.alternate,lt!==null?(lt=lt.index,lt<et?(at.flags|=33554434,et):lt):(at.flags|=33554434,et)):(at.flags|=1048576,et)}function P(at){return u&&at.alternate===null&&(at.flags|=33554434),at}function H(at,et,lt,xt){return et===null||et.tag!==6?(et=IT(lt,at.mode,xt),et.return=at,et):(et=M(et,lt),et.return=at,et)}function Q(at,et,lt,xt){var Pt=lt.type;return Pt===l?mt(at,et,lt.props.children,xt,lt.key):et!==null&&(et.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===D&&E2(Pt)===et.type)?(et=M(et,lt.props),Sy(et,lt),et.return=at,et):(et=P0(lt.type,lt.key,lt.props,null,at.mode,xt),Sy(et,lt),et.return=at,et)}function it(at,et,lt,xt){return et===null||et.tag!==4||et.stateNode.containerInfo!==lt.containerInfo||et.stateNode.implementation!==lt.implementation?(et=TT(lt,at.mode,xt),et.return=at,et):(et=M(et,lt.children||[]),et.return=at,et)}function mt(at,et,lt,xt,Pt){return et===null||et.tag!==7?(et=Wh(lt,at.mode,xt,Pt),et.return=at,et):(et=M(et,lt),et.return=at,et)}function Mt(at,et,lt){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return et=IT(""+et,at.mode,lt),et.return=at,et;if(typeof et=="object"&&et!==null){switch(et.$$typeof){case o:return lt=P0(et.type,et.key,et.props,null,at.mode,lt),Sy(lt,et),lt.return=at,lt;case r:return et=TT(et,at.mode,lt),et.return=at,et;case D:var xt=et._init;return et=xt(et._payload),Mt(at,et,lt)}if(J(et)||E(et))return et=Wh(et,at.mode,lt,null),et.return=at,et;if(typeof et.then=="function")return Mt(at,y0(et),lt);if(et.$$typeof===y)return Mt(at,O0(at,et),lt);m0(at,et)}return null}function ut(at,et,lt,xt){var Pt=et!==null?et.key:null;if(typeof lt=="string"&&lt!==""||typeof lt=="number"||typeof lt=="bigint")return Pt!==null?null:H(at,et,""+lt,xt);if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case o:return lt.key===Pt?Q(at,et,lt,xt):null;case r:return lt.key===Pt?it(at,et,lt,xt):null;case D:return Pt=lt._init,lt=Pt(lt._payload),ut(at,et,lt,xt)}if(J(lt)||E(lt))return Pt!==null?null:mt(at,et,lt,xt,null);if(typeof lt.then=="function")return ut(at,et,y0(lt),xt);if(lt.$$typeof===y)return ut(at,et,O0(at,lt),xt);m0(at,lt)}return null}function gt(at,et,lt,xt,Pt){if(typeof xt=="string"&&xt!==""||typeof xt=="number"||typeof xt=="bigint")return at=at.get(lt)||null,H(et,at,""+xt,Pt);if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case o:return at=at.get(xt.key===null?lt:xt.key)||null,Q(et,at,xt,Pt);case r:return at=at.get(xt.key===null?lt:xt.key)||null,it(et,at,xt,Pt);case D:var oe=xt._init;return xt=oe(xt._payload),gt(at,et,lt,xt,Pt)}if(J(xt)||E(xt))return at=at.get(lt)||null,mt(et,at,xt,Pt,null);if(typeof xt.then=="function")return gt(at,et,lt,y0(xt),Pt);if(xt.$$typeof===y)return gt(at,et,lt,O0(et,xt),Pt);m0(et,xt)}return null}function _t(at,et,lt,xt){for(var Pt=null,oe=null,Vt=et,Yt=et=0,_n=null;Vt!==null&&Yt<lt.length;Yt++){Vt.index>Yt?(_n=Vt,Vt=null):_n=Vt.sibling;var Ce=ut(at,Vt,lt[Yt],xt);if(Ce===null){Vt===null&&(Vt=_n);break}u&&Vt&&Ce.alternate===null&&d(at,Vt),et=C(Ce,et,Yt),oe===null?Pt=Ce:oe.sibling=Ce,oe=Ce,Vt=_n}if(Yt===lt.length)return g(at,Vt),Te&&Rh(at,Yt),Pt;if(Vt===null){for(;Yt<lt.length;Yt++)Vt=Mt(at,lt[Yt],xt),Vt!==null&&(et=C(Vt,et,Yt),oe===null?Pt=Vt:oe.sibling=Vt,oe=Vt);return Te&&Rh(at,Yt),Pt}for(Vt=x(Vt);Yt<lt.length;Yt++)_n=gt(Vt,at,Yt,lt[Yt],xt),_n!==null&&(u&&_n.alternate!==null&&Vt.delete(_n.key===null?Yt:_n.key),et=C(_n,et,Yt),oe===null?Pt=_n:oe.sibling=_n,oe=_n);return u&&Vt.forEach(function(mu){return d(at,mu)}),Te&&Rh(at,Yt),Pt}function Jt(at,et,lt,xt){if(lt==null)throw Error(n(151));for(var Pt=null,oe=null,Vt=et,Yt=et=0,_n=null,Ce=lt.next();Vt!==null&&!Ce.done;Yt++,Ce=lt.next()){Vt.index>Yt?(_n=Vt,Vt=null):_n=Vt.sibling;var mu=ut(at,Vt,Ce.value,xt);if(mu===null){Vt===null&&(Vt=_n);break}u&&Vt&&mu.alternate===null&&d(at,Vt),et=C(mu,et,Yt),oe===null?Pt=mu:oe.sibling=mu,oe=mu,Vt=_n}if(Ce.done)return g(at,Vt),Te&&Rh(at,Yt),Pt;if(Vt===null){for(;!Ce.done;Yt++,Ce=lt.next())Ce=Mt(at,Ce.value,xt),Ce!==null&&(et=C(Ce,et,Yt),oe===null?Pt=Ce:oe.sibling=Ce,oe=Ce);return Te&&Rh(at,Yt),Pt}for(Vt=x(Vt);!Ce.done;Yt++,Ce=lt.next())Ce=gt(Vt,at,Yt,Ce.value,xt),Ce!==null&&(u&&Ce.alternate!==null&&Vt.delete(Ce.key===null?Yt:Ce.key),et=C(Ce,et,Yt),oe===null?Pt=Ce:oe.sibling=Ce,oe=Ce);return u&&Vt.forEach(function(aX){return d(at,aX)}),Te&&Rh(at,Yt),Pt}function Oi(at,et,lt,xt){if(typeof lt=="object"&&lt!==null&&lt.type===l&&lt.key===null&&(lt=lt.props.children),typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case o:t:{for(var Pt=lt.key;et!==null;){if(et.key===Pt){if(Pt=lt.type,Pt===l){if(et.tag===7){g(at,et.sibling),xt=M(et,lt.props.children),xt.return=at,at=xt;break t}}else if(et.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===D&&E2(Pt)===et.type){g(at,et.sibling),xt=M(et,lt.props),Sy(xt,lt),xt.return=at,at=xt;break t}g(at,et);break}else d(at,et);et=et.sibling}lt.type===l?(xt=Wh(lt.props.children,at.mode,xt,lt.key),xt.return=at,at=xt):(xt=P0(lt.type,lt.key,lt.props,null,at.mode,xt),Sy(xt,lt),xt.return=at,at=xt)}return P(at);case r:t:{for(Pt=lt.key;et!==null;){if(et.key===Pt)if(et.tag===4&&et.stateNode.containerInfo===lt.containerInfo&&et.stateNode.implementation===lt.implementation){g(at,et.sibling),xt=M(et,lt.children||[]),xt.return=at,at=xt;break t}else{g(at,et);break}else d(at,et);et=et.sibling}xt=TT(lt,at.mode,xt),xt.return=at,at=xt}return P(at);case D:return Pt=lt._init,lt=Pt(lt._payload),Oi(at,et,lt,xt)}if(J(lt))return _t(at,et,lt,xt);if(E(lt)){if(Pt=E(lt),typeof Pt!="function")throw Error(n(150));return lt=Pt.call(lt),Jt(at,et,lt,xt)}if(typeof lt.then=="function")return Oi(at,et,y0(lt),xt);if(lt.$$typeof===y)return Oi(at,et,O0(at,lt),xt);m0(at,lt)}return typeof lt=="string"&&lt!==""||typeof lt=="number"||typeof lt=="bigint"?(lt=""+lt,et!==null&&et.tag===6?(g(at,et.sibling),xt=M(et,lt),xt.return=at,at=xt):(g(at,et),xt=IT(lt,at.mode,xt),xt.return=at,at=xt),P(at)):g(at,et)}return function(at,et,lt,xt){try{vy=0;var Pt=Oi(at,et,lt,xt);return _p=null,Pt}catch(Vt){if(Vt===xy)throw Vt;var oe=uo(29,Vt,null,at.mode);return oe.lanes=xt,oe.return=at,oe}finally{}}}var Bh=O2(!0),w2=O2(!1),jp=ct(null),x0=ct(0);function R2(u,d){u=Hl,ht(x0,u),ht(jp,d),Hl=u|d.baseLanes}function OI(){ht(x0,Hl),ht(jp,jp.current)}function wI(){Hl=x0.current,dt(jp),dt(x0)}var ro=ct(null),zr=null;function Jc(u){var d=u.alternate;ht(Mn,Mn.current&1),ht(ro,u),zr===null&&(d===null||jp.current!==null||d.memoizedState!==null)&&(zr=u)}function P2(u){if(u.tag===22){if(ht(Mn,Mn.current),ht(ro,u),zr===null){var d=u.alternate;d!==null&&d.memoizedState!==null&&(zr=u)}}else tu()}function tu(){ht(Mn,Mn.current),ht(ro,ro.current)}function Rl(u){dt(ro),zr===u&&(zr=null),dt(Mn)}var Mn=ct(0);function b0(u){for(var d=u;d!==null;){if(d.tag===13){var g=d.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if(d.flags&128)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===u)break;for(;d.sibling===null;){if(d.return===null||d.return===u)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var Y9=typeof AbortController<"u"?AbortController:function(){var u=[],d=this.signal={aborted:!1,addEventListener:function(g,x){u.push(x)}};this.abort=function(){d.aborted=!0,u.forEach(function(g){return g()})}},$9=t.unstable_scheduleCallback,K9=t.unstable_NormalPriority,An={$$typeof:y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function RI(){return{controller:new Y9,data:new Map,refCount:0}}function My(u){u.refCount--,u.refCount===0&&$9(K9,function(){u.controller.abort()})}var Ay=null,PI=0,Fp=0,Gp=null;function X9(u,d){if(Ay===null){var g=Ay=[];PI=0,Fp=GT(),Gp={status:"pending",value:void 0,then:function(x){g.push(x)}}}return PI++,d.then(B2,B2),d}function B2(){if(--PI===0&&Ay!==null){Gp!==null&&(Gp.status="fulfilled");var u=Ay;Ay=null,Fp=0,Gp=null;for(var d=0;d<u.length;d++)(0,u[d])()}}function Z9(u,d){var g=[],x={status:"pending",value:null,reason:null,then:function(M){g.push(M)}};return u.then(function(){x.status="fulfilled",x.value=d;for(var M=0;M<g.length;M++)(0,g[M])(d)},function(M){for(x.status="rejected",x.reason=M,M=0;M<g.length;M++)(0,g[M])(void 0)}),x}var z2=R.S;R.S=function(u,d){typeof d=="object"&&d!==null&&typeof d.then=="function"&&X9(u,d),z2!==null&&z2(u,d)};var zh=ct(null);function BI(){var u=zh.current;return u!==null?u:ei.pooledCache}function v0(u,d){d===null?ht(zh,zh.current):ht(zh,d.pool)}function _2(){var u=BI();return u===null?null:{parent:An._currentValue,pool:u}}var eu=0,se=null,Fe=null,rn=null,S0=!1,Vp=!1,_h=!1,M0=0,Dy=0,Up=null,q9=0;function Gi(){throw Error(n(321))}function zI(u,d){if(d===null)return!1;for(var g=0;g<d.length&&g<u.length;g++)if(!La(u[g],d[g]))return!1;return!0}function _I(u,d,g,x,M,C){return eu=C,se=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,R.H=u===null||u.memoizedState===null?jh:iu,_h=!1,C=g(x,M),_h=!1,Vp&&(C=F2(d,g,x,M)),j2(u),C}function j2(u){R.H=_r;var d=Fe!==null&&Fe.next!==null;if(eu=0,rn=Fe=se=null,S0=!1,Dy=0,Up=null,d)throw Error(n(300));u===null||Bn||(u=u.dependencies,u!==null&&E0(u)&&(Bn=!0))}function F2(u,d,g,x){se=u;var M=0;do{if(Vp&&(Up=null),Dy=0,Vp=!1,25<=M)throw Error(n(301));if(M+=1,rn=Fe=null,u.updateQueue!=null){var C=u.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}R.H=Fh,C=d(g,x)}while(Vp);return C}function Q9(){var u=R.H,d=u.useState()[0];return d=typeof d.then=="function"?Iy(d):d,u=u.useState()[0],(Fe!==null?Fe.memoizedState:null)!==u&&(se.flags|=1024),d}function jI(){var u=M0!==0;return M0=0,u}function FI(u,d,g){d.updateQueue=u.updateQueue,d.flags&=-2053,u.lanes&=~g}function GI(u){if(S0){for(u=u.memoizedState;u!==null;){var d=u.queue;d!==null&&(d.pending=null),u=u.next}S0=!1}eu=0,rn=Fe=se=null,Vp=!1,Dy=M0=0,Up=null}function ca(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rn===null?se.memoizedState=rn=u:rn=rn.next=u,rn}function ln(){if(Fe===null){var u=se.alternate;u=u!==null?u.memoizedState:null}else u=Fe.next;var d=rn===null?se.memoizedState:rn.next;if(d!==null)rn=d,Fe=u;else{if(u===null)throw se.alternate===null?Error(n(467)):Error(n(310));Fe=u,u={memoizedState:Fe.memoizedState,baseState:Fe.baseState,baseQueue:Fe.baseQueue,queue:Fe.queue,next:null},rn===null?se.memoizedState=rn=u:rn=rn.next=u}return rn}var A0;A0=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Iy(u){var d=Dy;return Dy+=1,Up===null&&(Up=[]),u=L2(Up,u,d),d=se,(rn===null?d.memoizedState:rn.next)===null&&(d=d.alternate,R.H=d===null||d.memoizedState===null?jh:iu),u}function D0(u){if(u!==null&&typeof u=="object"){if(typeof u.then=="function")return Iy(u);if(u.$$typeof===y)return ms(u)}throw Error(n(438,String(u)))}function VI(u){var d=null,g=se.updateQueue;if(g!==null&&(d=g.memoCache),d==null){var x=se.alternate;x!==null&&(x=x.updateQueue,x!==null&&(x=x.memoCache,x!=null&&(d={data:x.data.map(function(M){return M.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),g===null&&(g=A0(),se.updateQueue=g),g.memoCache=d,g=d.data[d.index],g===void 0)for(g=d.data[d.index]=Array(u),x=0;x<u;x++)g[x]=T;return d.index++,g}function Pl(u,d){return typeof d=="function"?d(u):d}function I0(u){var d=ln();return UI(d,Fe,u)}function UI(u,d,g){var x=u.queue;if(x===null)throw Error(n(311));x.lastRenderedReducer=g;var M=u.baseQueue,C=x.pending;if(C!==null){if(M!==null){var P=M.next;M.next=C.next,C.next=P}d.baseQueue=M=C,x.pending=null}if(C=u.baseState,M===null)u.memoizedState=C;else{d=M.next;var H=P=null,Q=null,it=d,mt=!1;do{var Mt=it.lane&-536870913;if(Mt!==it.lane?(xe&Mt)===Mt:(eu&Mt)===Mt){var ut=it.revertLane;if(ut===0)Q!==null&&(Q=Q.next={lane:0,revertLane:0,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null}),Mt===Fp&&(mt=!0);else if((eu&ut)===ut){it=it.next,ut===Fp&&(mt=!0);continue}else Mt={lane:0,revertLane:it.revertLane,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null},Q===null?(H=Q=Mt,P=C):Q=Q.next=Mt,se.lanes|=ut,hu|=ut;Mt=it.action,_h&&g(C,Mt),C=it.hasEagerState?it.eagerState:g(C,Mt)}else ut={lane:Mt,revertLane:it.revertLane,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null},Q===null?(H=Q=ut,P=C):Q=Q.next=ut,se.lanes|=Mt,hu|=Mt;it=it.next}while(it!==null&&it!==d);if(Q===null?P=C:Q.next=H,!La(C,u.memoizedState)&&(Bn=!0,mt&&(g=Gp,g!==null)))throw g;u.memoizedState=C,u.baseState=P,u.baseQueue=Q,x.lastRenderedState=C}return M===null&&(x.lanes=0),[u.memoizedState,x.dispatch]}function HI(u){var d=ln(),g=d.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=u;var x=g.dispatch,M=g.pending,C=d.memoizedState;if(M!==null){g.pending=null;var P=M=M.next;do C=u(C,P.action),P=P.next;while(P!==M);La(C,d.memoizedState)||(Bn=!0),d.memoizedState=C,d.baseQueue===null&&(d.baseState=C),g.lastRenderedState=C}return[C,x]}function G2(u,d,g){var x=se,M=ln(),C=Te;if(C){if(g===void 0)throw Error(n(407));g=g()}else g=d();var P=!La((Fe||M).memoizedState,g);if(P&&(M.memoizedState=g,Bn=!0),M=M.queue,$I(H2.bind(null,x,M,u),[u]),M.getSnapshot!==d||P||rn!==null&&rn.memoizedState.tag&1){if(x.flags|=2048,Hp(9,U2.bind(null,x,M,g,d),{destroy:void 0},null),ei===null)throw Error(n(349));C||eu&60||V2(x,d,g)}return g}function V2(u,d,g){u.flags|=16384,u={getSnapshot:d,value:g},d=se.updateQueue,d===null?(d=A0(),se.updateQueue=d,d.stores=[u]):(g=d.stores,g===null?d.stores=[u]:g.push(u))}function U2(u,d,g,x){d.value=g,d.getSnapshot=x,W2(d)&&Y2(u)}function H2(u,d,g){return g(function(){W2(d)&&Y2(u)})}function W2(u){var d=u.getSnapshot;u=u.value;try{var g=d();return!La(u,g)}catch{return!0}}function Y2(u){var d=Qc(u,2);d!==null&&Vs(d,u,2)}function WI(u){var d=ca();if(typeof u=="function"){var g=u;if(u=g(),_h){Bt(!0);try{g()}finally{Bt(!1)}}}return d.memoizedState=d.baseState=u,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pl,lastRenderedState:u},d}function $2(u,d,g,x){return u.baseState=g,UI(u,Fe,typeof x=="function"?x:Pl)}function J9(u,d,g,x,M){if(k0(u))throw Error(n(485));if(u=d.action,u!==null){var C={payload:M,action:u,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(P){C.listeners.push(P)}};R.T!==null?g(!0):C.isTransition=!1,x(C),g=d.pending,g===null?(C.next=d.pending=C,K2(d,C)):(C.next=g.next,d.pending=g.next=C)}}function K2(u,d){var g=d.action,x=d.payload,M=u.state;if(d.isTransition){var C=R.T,P={};R.T=P;try{var H=g(M,x),Q=R.S;Q!==null&&Q(P,H),X2(u,d,H)}catch(it){YI(u,d,it)}finally{R.T=C}}else try{C=g(M,x),X2(u,d,C)}catch(it){YI(u,d,it)}}function X2(u,d,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(x){Z2(u,d,x)},function(x){return YI(u,d,x)}):Z2(u,d,g)}function Z2(u,d,g){d.status="fulfilled",d.value=g,q2(d),u.state=g,d=u.pending,d!==null&&(g=d.next,g===d?u.pending=null:(g=g.next,d.next=g,K2(u,g)))}function YI(u,d,g){var x=u.pending;if(u.pending=null,x!==null){x=x.next;do d.status="rejected",d.reason=g,q2(d),d=d.next;while(d!==x)}u.action=null}function q2(u){u=u.listeners;for(var d=0;d<u.length;d++)(0,u[d])()}function Q2(u,d){return d}function J2(u,d){if(Te){var g=ei.formState;if(g!==null){t:{var x=se;if(Te){if(qn){e:{for(var M=qn,C=Br;M.nodeType!==8;){if(!C){M=null;break e}if(M=tr(M.nextSibling),M===null){M=null;break e}}C=M.data,M=C==="F!"||C==="F"?M:null}if(M){qn=tr(M.nextSibling),x=M.data==="F!";break t}}Ph(x)}x=!1}x&&(d=g[0])}}return g=ca(),g.memoizedState=g.baseState=d,x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Q2,lastRenderedState:d},g.queue=x,g=mP.bind(null,se,x),x.dispatch=g,x=WI(!1),C=QI.bind(null,se,!1,x.queue),x=ca(),M={state:d,dispatch:null,action:u,pending:null},x.queue=M,g=J9.bind(null,se,M,C,g),M.dispatch=g,x.memoizedState=u,[d,g,!1]}function tP(u){var d=ln();return eP(d,Fe,u)}function eP(u,d,g){d=UI(u,d,Q2)[0],u=I0(Pl)[0],d=typeof d=="object"&&d!==null&&typeof d.then=="function"?Iy(d):d;var x=ln(),M=x.queue,C=M.dispatch;return g!==x.memoizedState&&(se.flags|=2048,Hp(9,t8.bind(null,M,g),{destroy:void 0},null)),[d,C,u]}function t8(u,d){u.action=d}function iP(u){var d=ln(),g=Fe;if(g!==null)return eP(d,g,u);ln(),d=d.memoizedState,g=ln();var x=g.queue.dispatch;return g.memoizedState=u,[d,x,!1]}function Hp(u,d,g,x){return u={tag:u,create:d,inst:g,deps:x,next:null},d=se.updateQueue,d===null&&(d=A0(),se.updateQueue=d),g=d.lastEffect,g===null?d.lastEffect=u.next=u:(x=g.next,g.next=u,u.next=x,d.lastEffect=u),u}function nP(){return ln().memoizedState}function T0(u,d,g,x){var M=ca();se.flags|=u,M.memoizedState=Hp(1|d,g,{destroy:void 0},x===void 0?null:x)}function C0(u,d,g,x){var M=ln();x=x===void 0?null:x;var C=M.memoizedState.inst;Fe!==null&&x!==null&&zI(x,Fe.memoizedState.deps)?M.memoizedState=Hp(d,g,C,x):(se.flags|=u,M.memoizedState=Hp(1|d,g,C,x))}function sP(u,d){T0(8390656,8,u,d)}function $I(u,d){C0(2048,8,u,d)}function aP(u,d){return C0(4,2,u,d)}function oP(u,d){return C0(4,4,u,d)}function rP(u,d){if(typeof d=="function"){u=u();var g=d(u);return function(){typeof g=="function"?g():d(null)}}if(d!=null)return u=u(),d.current=u,function(){d.current=null}}function lP(u,d,g){g=g!=null?g.concat([u]):null,C0(4,4,rP.bind(null,d,u),g)}function KI(){}function cP(u,d){var g=ln();d=d===void 0?null:d;var x=g.memoizedState;return d!==null&&zI(d,x[1])?x[0]:(g.memoizedState=[u,d],u)}function uP(u,d){var g=ln();d=d===void 0?null:d;var x=g.memoizedState;if(d!==null&&zI(d,x[1]))return x[0];if(x=u(),_h){Bt(!0);try{u()}finally{Bt(!1)}}return g.memoizedState=[x,d],x}function XI(u,d,g){return g===void 0||eu&1073741824?u.memoizedState=d:(u.memoizedState=g,u=dB(),se.lanes|=u,hu|=u,g)}function hP(u,d,g,x){return La(g,d)?g:jp.current!==null?(u=XI(u,g,x),La(u,d)||(Bn=!0),u):eu&42?(u=dB(),se.lanes|=u,hu|=u,d):(Bn=!0,u.memoizedState=g)}function dP(u,d,g,x,M){var C=q.p;q.p=C!==0&&8>C?C:8;var P=R.T,H={};R.T=H,QI(u,!1,d,g);try{var Q=M(),it=R.S;if(it!==null&&it(H,Q),Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var mt=Z9(Q,x);Ty(u,d,mt,wa(u))}else Ty(u,d,x,wa(u))}catch(Mt){Ty(u,d,{then:function(){},status:"rejected",reason:Mt},wa())}finally{q.p=C,R.T=P}}function e8(){}function ZI(u,d,g,x){if(u.tag!==5)throw Error(n(476));var M=pP(u).queue;dP(u,M,d,nt,g===null?e8:function(){return fP(u),g(x)})}function pP(u){var d=u.memoizedState;if(d!==null)return d;d={memoizedState:nt,baseState:nt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pl,lastRenderedState:nt},next:null};var g={};return d.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pl,lastRenderedState:g},next:null},u.memoizedState=d,u=u.alternate,u!==null&&(u.memoizedState=d),d}function fP(u){var d=pP(u).next.queue;Ty(u,d,{},wa())}function qI(){return ms(Yy)}function gP(){return ln().memoizedState}function yP(){return ln().memoizedState}function i8(u){for(var d=u.return;d!==null;){switch(d.tag){case 24:case 3:var g=wa();u=au(g);var x=ou(d,u,g);x!==null&&(Vs(x,d,g),Ly(x,d,g)),d={cache:RI()},u.payload=d;return}d=d.return}}function n8(u,d,g){var x=wa();g={lane:x,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null},k0(u)?xP(d,g):(g=CI(u,d,g,x),g!==null&&(Vs(g,u,x),bP(g,d,x)))}function mP(u,d,g){var x=wa();Ty(u,d,g,x)}function Ty(u,d,g,x){var M={lane:x,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null};if(k0(u))xP(d,M);else{var C=u.alternate;if(u.lanes===0&&(C===null||C.lanes===0)&&(C=d.lastRenderedReducer,C!==null))try{var P=d.lastRenderedState,H=C(P,g);if(M.hasEagerState=!0,M.eagerState=H,La(H,P))return h0(u,d,M,0),ei===null&&u0(),!1}catch{}finally{}if(g=CI(u,d,M,x),g!==null)return Vs(g,u,x),bP(g,d,x),!0}return!1}function QI(u,d,g,x){if(x={lane:2,revertLane:GT(),action:x,hasEagerState:!1,eagerState:null,next:null},k0(u)){if(d)throw Error(n(479))}else d=CI(u,g,x,2),d!==null&&Vs(d,u,2)}function k0(u){var d=u.alternate;return u===se||d!==null&&d===se}function xP(u,d){Vp=S0=!0;var g=u.pending;g===null?d.next=d:(d.next=g.next,g.next=d),u.pending=d}function bP(u,d,g){if(g&4194176){var x=d.lanes;x&=u.pendingLanes,g|=x,d.lanes=g,NR(u,g)}}var _r={readContext:ms,use:D0,useCallback:Gi,useContext:Gi,useEffect:Gi,useImperativeHandle:Gi,useLayoutEffect:Gi,useInsertionEffect:Gi,useMemo:Gi,useReducer:Gi,useRef:Gi,useState:Gi,useDebugValue:Gi,useDeferredValue:Gi,useTransition:Gi,useSyncExternalStore:Gi,useId:Gi};_r.useCacheRefresh=Gi,_r.useMemoCache=Gi,_r.useHostTransitionStatus=Gi,_r.useFormState=Gi,_r.useActionState=Gi,_r.useOptimistic=Gi;var jh={readContext:ms,use:D0,useCallback:function(u,d){return ca().memoizedState=[u,d===void 0?null:d],u},useContext:ms,useEffect:sP,useImperativeHandle:function(u,d,g){g=g!=null?g.concat([u]):null,T0(4194308,4,rP.bind(null,d,u),g)},useLayoutEffect:function(u,d){return T0(4194308,4,u,d)},useInsertionEffect:function(u,d){T0(4,2,u,d)},useMemo:function(u,d){var g=ca();d=d===void 0?null:d;var x=u();if(_h){Bt(!0);try{u()}finally{Bt(!1)}}return g.memoizedState=[x,d],x},useReducer:function(u,d,g){var x=ca();if(g!==void 0){var M=g(d);if(_h){Bt(!0);try{g(d)}finally{Bt(!1)}}}else M=d;return x.memoizedState=x.baseState=M,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:M},x.queue=u,u=u.dispatch=n8.bind(null,se,u),[x.memoizedState,u]},useRef:function(u){var d=ca();return u={current:u},d.memoizedState=u},useState:function(u){u=WI(u);var d=u.queue,g=mP.bind(null,se,d);return d.dispatch=g,[u.memoizedState,g]},useDebugValue:KI,useDeferredValue:function(u,d){var g=ca();return XI(g,u,d)},useTransition:function(){var u=WI(!1);return u=dP.bind(null,se,u.queue,!0,!1),ca().memoizedState=u,[!1,u]},useSyncExternalStore:function(u,d,g){var x=se,M=ca();if(Te){if(g===void 0)throw Error(n(407));g=g()}else{if(g=d(),ei===null)throw Error(n(349));xe&60||V2(x,d,g)}M.memoizedState=g;var C={value:g,getSnapshot:d};return M.queue=C,sP(H2.bind(null,x,C,u),[u]),x.flags|=2048,Hp(9,U2.bind(null,x,C,g,d),{destroy:void 0},null),g},useId:function(){var u=ca(),d=ei.identifierPrefix;if(Te){var g=wl,x=Ol;g=(x&~(1<<32-te(x)-1)).toString(32)+g,d=":"+d+"R"+g,g=M0++,0<g&&(d+="H"+g.toString(32)),d+=":"}else g=q9++,d=":"+d+"r"+g.toString(32)+":";return u.memoizedState=d},useCacheRefresh:function(){return ca().memoizedState=i8.bind(null,se)}};jh.useMemoCache=VI,jh.useHostTransitionStatus=qI,jh.useFormState=J2,jh.useActionState=J2,jh.useOptimistic=function(u){var d=ca();d.memoizedState=d.baseState=u;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=g,d=QI.bind(null,se,!0,g),g.dispatch=d,[u,d]};var iu={readContext:ms,use:D0,useCallback:cP,useContext:ms,useEffect:$I,useImperativeHandle:lP,useInsertionEffect:aP,useLayoutEffect:oP,useMemo:uP,useReducer:I0,useRef:nP,useState:function(){return I0(Pl)},useDebugValue:KI,useDeferredValue:function(u,d){var g=ln();return hP(g,Fe.memoizedState,u,d)},useTransition:function(){var u=I0(Pl)[0],d=ln().memoizedState;return[typeof u=="boolean"?u:Iy(u),d]},useSyncExternalStore:G2,useId:gP};iu.useCacheRefresh=yP,iu.useMemoCache=VI,iu.useHostTransitionStatus=qI,iu.useFormState=tP,iu.useActionState=tP,iu.useOptimistic=function(u,d){var g=ln();return $2(g,Fe,u,d)};var Fh={readContext:ms,use:D0,useCallback:cP,useContext:ms,useEffect:$I,useImperativeHandle:lP,useInsertionEffect:aP,useLayoutEffect:oP,useMemo:uP,useReducer:HI,useRef:nP,useState:function(){return HI(Pl)},useDebugValue:KI,useDeferredValue:function(u,d){var g=ln();return Fe===null?XI(g,u,d):hP(g,Fe.memoizedState,u,d)},useTransition:function(){var u=HI(Pl)[0],d=ln().memoizedState;return[typeof u=="boolean"?u:Iy(u),d]},useSyncExternalStore:G2,useId:gP};Fh.useCacheRefresh=yP,Fh.useMemoCache=VI,Fh.useHostTransitionStatus=qI,Fh.useFormState=iP,Fh.useActionState=iP,Fh.useOptimistic=function(u,d){var g=ln();return Fe!==null?$2(g,Fe,u,d):(g.baseState=u,[u,g.queue.dispatch])};function JI(u,d,g,x){d=u.memoizedState,g=g(x,d),g=g==null?d:L({},d,g),u.memoizedState=g,u.lanes===0&&(u.updateQueue.baseState=g)}var tT={isMounted:function(u){return(u=u._reactInternals)?$(u)===u:!1},enqueueSetState:function(u,d,g){u=u._reactInternals;var x=wa(),M=au(x);M.payload=d,g!=null&&(M.callback=g),d=ou(u,M,x),d!==null&&(Vs(d,u,x),Ly(d,u,x))},enqueueReplaceState:function(u,d,g){u=u._reactInternals;var x=wa(),M=au(x);M.tag=1,M.payload=d,g!=null&&(M.callback=g),d=ou(u,M,x),d!==null&&(Vs(d,u,x),Ly(d,u,x))},enqueueForceUpdate:function(u,d){u=u._reactInternals;var g=wa(),x=au(g);x.tag=2,d!=null&&(x.callback=d),d=ou(u,x,g),d!==null&&(Vs(d,u,g),Ly(d,u,g))}};function vP(u,d,g,x,M,C,P){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(x,C,P):d.prototype&&d.prototype.isPureReactComponent?!py(g,x)||!py(M,C):!0}function SP(u,d,g,x){u=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(g,x),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(g,x),d.state!==u&&tT.enqueueReplaceState(d,d.state,null)}function Gh(u,d){var g=d;if("ref"in d){g={};for(var x in d)x!=="ref"&&(g[x]=d[x])}if(u=u.defaultProps){g===d&&(g=L({},g));for(var M in u)g[M]===void 0&&(g[M]=u[M])}return g}var L0=typeof reportError=="function"?reportError:function(u){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof u=="object"&&u!==null&&typeof u.message=="string"?String(u.message):String(u),error:u});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",u);return}console.error(u)};function MP(u){L0(u)}function AP(u){console.error(u)}function DP(u){L0(u)}function N0(u,d){try{var g=u.onUncaughtError;g(d.value,{componentStack:d.stack})}catch(x){setTimeout(function(){throw x})}}function IP(u,d,g){try{var x=u.onCaughtError;x(g.value,{componentStack:g.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(M){setTimeout(function(){throw M})}}function eT(u,d,g){return g=au(g),g.tag=3,g.payload={element:null},g.callback=function(){N0(u,d)},g}function TP(u){return u=au(u),u.tag=3,u}function CP(u,d,g,x){var M=g.type.getDerivedStateFromError;if(typeof M=="function"){var C=x.value;u.payload=function(){return M(C)},u.callback=function(){IP(d,g,x)}}var P=g.stateNode;P!==null&&typeof P.componentDidCatch=="function"&&(u.callback=function(){IP(d,g,x),typeof M!="function"&&(du===null?du=new Set([this]):du.add(this));var H=x.stack;this.componentDidCatch(x.value,{componentStack:H!==null?H:""})})}function s8(u,d,g,x,M){if(g.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){if(d=g.alternate,d!==null&&ky(d,g,M,!0),g=ro.current,g!==null){switch(g.tag){case 13:return zr===null?BT():g.alternate===null&&Ei===0&&(Ei=3),g.flags&=-257,g.flags|=65536,g.lanes=M,x===EI?g.flags|=16384:(d=g.updateQueue,d===null?g.updateQueue=new Set([x]):d.add(x),_T(u,x,M)),!1;case 22:return g.flags|=65536,x===EI?g.flags|=16384:(d=g.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([x])},g.updateQueue=d):(g=d.retryQueue,g===null?d.retryQueue=new Set([x]):g.add(x)),_T(u,x,M)),!1}throw Error(n(435,g.tag))}return _T(u,x,M),BT(),!1}if(Te)return d=ro.current,d!==null?(!(d.flags&65536)&&(d.flags|=256),d.flags|=65536,d.lanes=M,x!==NI&&(u=Error(n(422),{cause:x}),my(so(u,g)))):(x!==NI&&(d=Error(n(423),{cause:x}),my(so(d,g))),u=u.current.alternate,u.flags|=65536,M&=-M,u.lanes|=M,x=so(x,g),M=eT(u.stateNode,x,M),yT(u,M),Ei!==4&&(Ei=2)),!1;var C=Error(n(520),{cause:x});if(C=so(C,g),zy===null?zy=[C]:zy.push(C),Ei!==4&&(Ei=2),d===null)return!0;x=so(x,g),g=d;do{switch(g.tag){case 3:return g.flags|=65536,u=M&-M,g.lanes|=u,u=eT(g.stateNode,x,u),yT(g,u),!1;case 1:if(d=g.type,C=g.stateNode,(g.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(du===null||!du.has(C))))return g.flags|=65536,M&=-M,g.lanes|=M,M=TP(M),CP(M,u,g,x),yT(g,M),!1}g=g.return}while(g!==null);return!1}var kP=Error(n(461)),Bn=!1;function Qn(u,d,g,x){d.child=u===null?w2(d,null,g,x):Bh(d,u.child,g,x)}function LP(u,d,g,x,M){g=g.render;var C=d.ref;if("ref"in x){var P={};for(var H in x)H!=="ref"&&(P[H]=x[H])}else P=x;return Uh(d),x=_I(u,d,g,P,C,M),H=jI(),u!==null&&!Bn?(FI(u,d,M),Bl(u,d,M)):(Te&&H&&kI(d),d.flags|=1,Qn(u,d,x,M),d.child)}function NP(u,d,g,x,M){if(u===null){var C=g.type;return typeof C=="function"&&!DT(C)&&C.defaultProps===void 0&&g.compare===null?(d.tag=15,d.type=C,EP(u,d,C,x,M)):(u=P0(g.type,null,x,d,d.mode,M),u.ref=d.ref,u.return=d,d.child=u)}if(C=u.child,!uT(u,M)){var P=C.memoizedProps;if(g=g.compare,g=g!==null?g:py,g(P,x)&&u.ref===d.ref)return Bl(u,d,M)}return d.flags|=1,u=uu(C,x),u.ref=d.ref,u.return=d,d.child=u}function EP(u,d,g,x,M){if(u!==null){var C=u.memoizedProps;if(py(C,x)&&u.ref===d.ref)if(Bn=!1,d.pendingProps=x=C,uT(u,M))u.flags&131072&&(Bn=!0);else return d.lanes=u.lanes,Bl(u,d,M)}return iT(u,d,g,x,M)}function OP(u,d,g){var x=d.pendingProps,M=x.children,C=(d.stateNode._pendingVisibility&2)!==0,P=u!==null?u.memoizedState:null;if(Cy(u,d),x.mode==="hidden"||C){if(d.flags&128){if(x=P!==null?P.baseLanes|g:g,u!==null){for(M=d.child=u.child,C=0;M!==null;)C=C|M.lanes|M.childLanes,M=M.sibling;d.childLanes=C&~x}else d.childLanes=0,d.child=null;return wP(u,d,x,g)}if(g&536870912)d.memoizedState={baseLanes:0,cachePool:null},u!==null&&v0(d,P!==null?P.cachePool:null),P!==null?R2(d,P):OI(),P2(d);else return d.lanes=d.childLanes=536870912,wP(u,d,P!==null?P.baseLanes|g:g,g)}else P!==null?(v0(d,P.cachePool),R2(d,P),tu(),d.memoizedState=null):(u!==null&&v0(d,null),OI(),tu());return Qn(u,d,M,g),d.child}function wP(u,d,g,x){var M=BI();return M=M===null?null:{parent:An._currentValue,pool:M},d.memoizedState={baseLanes:g,cachePool:M},u!==null&&v0(d,null),OI(),P2(d),u!==null&&ky(u,d,x,!0),null}function Cy(u,d){var g=d.ref;if(g===null)u!==null&&u.ref!==null&&(d.flags|=2097664);else{if(typeof g!="function"&&typeof g!="object")throw Error(n(284));(u===null||u.ref!==g)&&(d.flags|=2097664)}}function iT(u,d,g,x,M){return Uh(d),g=_I(u,d,g,x,void 0,M),x=jI(),u!==null&&!Bn?(FI(u,d,M),Bl(u,d,M)):(Te&&x&&kI(d),d.flags|=1,Qn(u,d,g,M),d.child)}function RP(u,d,g,x,M,C){return Uh(d),d.updateQueue=null,g=F2(d,x,g,M),j2(u),x=jI(),u!==null&&!Bn?(FI(u,d,C),Bl(u,d,C)):(Te&&x&&kI(d),d.flags|=1,Qn(u,d,g,C),d.child)}function PP(u,d,g,x,M){if(Uh(d),d.stateNode===null){var C=Pp,P=g.contextType;typeof P=="object"&&P!==null&&(C=ms(P)),C=new g(x,C),d.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=tT,d.stateNode=C,C._reactInternals=d,C=d.stateNode,C.props=x,C.state=d.memoizedState,C.refs={},fT(d),P=g.contextType,C.context=typeof P=="object"&&P!==null?ms(P):Pp,C.state=d.memoizedState,P=g.getDerivedStateFromProps,typeof P=="function"&&(JI(d,g,P,x),C.state=d.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(P=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),P!==C.state&&tT.enqueueReplaceState(C,C.state,null),Ey(d,x,C,M),Ny(),C.state=d.memoizedState),typeof C.componentDidMount=="function"&&(d.flags|=4194308),x=!0}else if(u===null){C=d.stateNode;var H=d.memoizedProps,Q=Gh(g,H);C.props=Q;var it=C.context,mt=g.contextType;P=Pp,typeof mt=="object"&&mt!==null&&(P=ms(mt));var Mt=g.getDerivedStateFromProps;mt=typeof Mt=="function"||typeof C.getSnapshotBeforeUpdate=="function",H=d.pendingProps!==H,mt||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(H||it!==P)&&SP(d,C,x,P),su=!1;var ut=d.memoizedState;C.state=ut,Ey(d,x,C,M),Ny(),it=d.memoizedState,H||ut!==it||su?(typeof Mt=="function"&&(JI(d,g,Mt,x),it=d.memoizedState),(Q=su||vP(d,g,Q,x,ut,it,P))?(mt||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(d.flags|=4194308)):(typeof C.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=x,d.memoizedState=it),C.props=x,C.state=it,C.context=P,x=Q):(typeof C.componentDidMount=="function"&&(d.flags|=4194308),x=!1)}else{C=d.stateNode,gT(u,d),P=d.memoizedProps,mt=Gh(g,P),C.props=mt,Mt=d.pendingProps,ut=C.context,it=g.contextType,Q=Pp,typeof it=="object"&&it!==null&&(Q=ms(it)),H=g.getDerivedStateFromProps,(it=typeof H=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(P!==Mt||ut!==Q)&&SP(d,C,x,Q),su=!1,ut=d.memoizedState,C.state=ut,Ey(d,x,C,M),Ny();var gt=d.memoizedState;P!==Mt||ut!==gt||su||u!==null&&u.dependencies!==null&&E0(u.dependencies)?(typeof H=="function"&&(JI(d,g,H,x),gt=d.memoizedState),(mt=su||vP(d,g,mt,x,ut,gt,Q)||u!==null&&u.dependencies!==null&&E0(u.dependencies))?(it||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(x,gt,Q),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(x,gt,Q)),typeof C.componentDidUpdate=="function"&&(d.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof C.componentDidUpdate!="function"||P===u.memoizedProps&&ut===u.memoizedState||(d.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||P===u.memoizedProps&&ut===u.memoizedState||(d.flags|=1024),d.memoizedProps=x,d.memoizedState=gt),C.props=x,C.state=gt,C.context=Q,x=mt):(typeof C.componentDidUpdate!="function"||P===u.memoizedProps&&ut===u.memoizedState||(d.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||P===u.memoizedProps&&ut===u.memoizedState||(d.flags|=1024),x=!1)}return C=x,Cy(u,d),x=(d.flags&128)!==0,C||x?(C=d.stateNode,g=x&&typeof g.getDerivedStateFromError!="function"?null:C.render(),d.flags|=1,u!==null&&x?(d.child=Bh(d,u.child,null,M),d.child=Bh(d,null,g,M)):Qn(u,d,g,M),d.memoizedState=C.state,u=d.child):u=Bl(u,d,M),u}function BP(u,d,g,x){return yy(),d.flags|=256,Qn(u,d,g,x),d.child}var nT={dehydrated:null,treeContext:null,retryLane:0};function sT(u){return{baseLanes:u,cachePool:_2()}}function aT(u,d,g){return u=u!==null?u.childLanes&~g:0,d&&(u|=ho),u}function zP(u,d,g){var x=d.pendingProps,M=!1,C=(d.flags&128)!==0,P;if((P=C)||(P=u!==null&&u.memoizedState===null?!1:(Mn.current&2)!==0),P&&(M=!0,d.flags&=-129),P=(d.flags&32)!==0,d.flags&=-33,u===null){if(Te){if(M?Jc(d):tu(),Te){var H=qn,Q;if(Q=H){t:{for(Q=H,H=Br;Q.nodeType!==8;){if(!H){H=null;break t}if(Q=tr(Q.nextSibling),Q===null){H=null;break t}}H=Q}H!==null?(d.memoizedState={dehydrated:H,treeContext:wh!==null?{id:Ol,overflow:wl}:null,retryLane:536870912},Q=uo(18,null,null,0),Q.stateNode=H,Q.return=d,d.child=Q,Gs=d,qn=null,Q=!0):Q=!1}Q||Ph(d)}if(H=d.memoizedState,H!==null&&(H=H.dehydrated,H!==null))return H.data==="$!"?d.lanes=16:d.lanes=536870912,null;Rl(d)}return H=x.children,x=x.fallback,M?(tu(),M=d.mode,H=rT({mode:"hidden",children:H},M),x=Wh(x,M,g,null),H.return=d,x.return=d,H.sibling=x,d.child=H,M=d.child,M.memoizedState=sT(g),M.childLanes=aT(u,P,g),d.memoizedState=nT,x):(Jc(d),oT(d,H))}if(Q=u.memoizedState,Q!==null&&(H=Q.dehydrated,H!==null)){if(C)d.flags&256?(Jc(d),d.flags&=-257,d=lT(u,d,g)):d.memoizedState!==null?(tu(),d.child=u.child,d.flags|=128,d=null):(tu(),M=x.fallback,H=d.mode,x=rT({mode:"visible",children:x.children},H),M=Wh(M,H,g,null),M.flags|=2,x.return=d,M.return=d,x.sibling=M,d.child=x,Bh(d,u.child,null,g),x=d.child,x.memoizedState=sT(g),x.childLanes=aT(u,P,g),d.memoizedState=nT,d=M);else if(Jc(d),H.data==="$!"){if(P=H.nextSibling&&H.nextSibling.dataset,P)var it=P.dgst;P=it,x=Error(n(419)),x.stack="",x.digest=P,my({value:x,source:null,stack:null}),d=lT(u,d,g)}else if(Bn||ky(u,d,g,!1),P=(g&u.childLanes)!==0,Bn||P){if(P=ei,P!==null){if(x=g&-g,x&42)x=1;else switch(x){case 2:x=1;break;case 8:x=4;break;case 32:x=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:x=64;break;case 268435456:x=134217728;break;default:x=0}if(x=x&(P.suspendedLanes|g)?0:x,x!==0&&x!==Q.retryLane)throw Q.retryLane=x,Qc(u,x),Vs(P,u,x),kP}H.data==="$?"||BT(),d=lT(u,d,g)}else H.data==="$?"?(d.flags|=128,d.child=u.child,d=b8.bind(null,u),H._reactRetry=d,d=null):(u=Q.treeContext,qn=tr(H.nextSibling),Gs=d,Te=!0,Qo=null,Br=!1,u!==null&&(ao[oo++]=Ol,ao[oo++]=wl,ao[oo++]=wh,Ol=u.id,wl=u.overflow,wh=d),d=oT(d,x.children),d.flags|=4096);return d}return M?(tu(),M=x.fallback,H=d.mode,Q=u.child,it=Q.sibling,x=uu(Q,{mode:"hidden",children:x.children}),x.subtreeFlags=Q.subtreeFlags&31457280,it!==null?M=uu(it,M):(M=Wh(M,H,g,null),M.flags|=2),M.return=d,x.return=d,x.sibling=M,d.child=x,x=M,M=d.child,H=u.child.memoizedState,H===null?H=sT(g):(Q=H.cachePool,Q!==null?(it=An._currentValue,Q=Q.parent!==it?{parent:it,pool:it}:Q):Q=_2(),H={baseLanes:H.baseLanes|g,cachePool:Q}),M.memoizedState=H,M.childLanes=aT(u,P,g),d.memoizedState=nT,x):(Jc(d),g=u.child,u=g.sibling,g=uu(g,{mode:"visible",children:x.children}),g.return=d,g.sibling=null,u!==null&&(P=d.deletions,P===null?(d.deletions=[u],d.flags|=16):P.push(u)),d.child=g,d.memoizedState=null,g)}function oT(u,d){return d=rT({mode:"visible",children:d},u.mode),d.return=u,u.child=d}function rT(u,d){return cB(u,d,0,null)}function lT(u,d,g){return Bh(d,u.child,null,g),u=oT(d,d.pendingProps.children),u.flags|=2,d.memoizedState=null,u}function _P(u,d,g){u.lanes|=d;var x=u.alternate;x!==null&&(x.lanes|=d),dT(u.return,d,g)}function cT(u,d,g,x,M){var C=u.memoizedState;C===null?u.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:x,tail:g,tailMode:M}:(C.isBackwards=d,C.rendering=null,C.renderingStartTime=0,C.last=x,C.tail=g,C.tailMode=M)}function jP(u,d,g){var x=d.pendingProps,M=x.revealOrder,C=x.tail;if(Qn(u,d,x.children,g),x=Mn.current,x&2)x=x&1|2,d.flags|=128;else{if(u!==null&&u.flags&128)t:for(u=d.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&_P(u,g,d);else if(u.tag===19)_P(u,g,d);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===d)break t;for(;u.sibling===null;){if(u.return===null||u.return===d)break t;u=u.return}u.sibling.return=u.return,u=u.sibling}x&=1}switch(ht(Mn,x),M){case"forwards":for(g=d.child,M=null;g!==null;)u=g.alternate,u!==null&&b0(u)===null&&(M=g),g=g.sibling;g=M,g===null?(M=d.child,d.child=null):(M=g.sibling,g.sibling=null),cT(d,!1,M,g,C);break;case"backwards":for(g=null,M=d.child,d.child=null;M!==null;){if(u=M.alternate,u!==null&&b0(u)===null){d.child=M;break}u=M.sibling,M.sibling=g,g=M,M=u}cT(d,!0,g,null,C);break;case"together":cT(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Bl(u,d,g){if(u!==null&&(d.dependencies=u.dependencies),hu|=d.lanes,!(g&d.childLanes))if(u!==null){if(ky(u,d,g,!1),(g&d.childLanes)===0)return null}else return null;if(u!==null&&d.child!==u.child)throw Error(n(153));if(d.child!==null){for(u=d.child,g=uu(u,u.pendingProps),d.child=g,g.return=d;u.sibling!==null;)u=u.sibling,g=g.sibling=uu(u,u.pendingProps),g.return=d;g.sibling=null}return d.child}function uT(u,d){return u.lanes&d?!0:(u=u.dependencies,!!(u!==null&&E0(u)))}function a8(u,d,g){switch(d.tag){case 3:bt(d,d.stateNode.containerInfo),nu(d,An,u.memoizedState.cache),yy();break;case 27:case 5:Nt(d);break;case 4:bt(d,d.stateNode.containerInfo);break;case 10:nu(d,d.type,d.memoizedProps.value);break;case 13:var x=d.memoizedState;if(x!==null)return x.dehydrated!==null?(Jc(d),d.flags|=128,null):g&d.child.childLanes?zP(u,d,g):(Jc(d),u=Bl(u,d,g),u!==null?u.sibling:null);Jc(d);break;case 19:var M=(u.flags&128)!==0;if(x=(g&d.childLanes)!==0,x||(ky(u,d,g,!1),x=(g&d.childLanes)!==0),M){if(x)return jP(u,d,g);d.flags|=128}if(M=d.memoizedState,M!==null&&(M.rendering=null,M.tail=null,M.lastEffect=null),ht(Mn,Mn.current),x)break;return null;case 22:case 23:return d.lanes=0,OP(u,d,g);case 24:nu(d,An,u.memoizedState.cache)}return Bl(u,d,g)}function FP(u,d,g){if(u!==null)if(u.memoizedProps!==d.pendingProps)Bn=!0;else{if(!uT(u,g)&&!(d.flags&128))return Bn=!1,a8(u,d,g);Bn=!!(u.flags&131072)}else Bn=!1,Te&&d.flags&1048576&&D2(d,f0,d.index);switch(d.lanes=0,d.tag){case 16:t:{u=d.pendingProps;var x=d.elementType,M=x._init;if(x=M(x._payload),d.type=x,typeof x=="function")DT(x)?(u=Gh(x,u),d.tag=1,d=PP(null,d,x,u,g)):(d.tag=0,d=iT(null,d,x,u,g));else{if(x!=null){if(M=x.$$typeof,M===m){d.tag=11,d=LP(null,d,x,u,g);break t}else if(M===S){d.tag=14,d=NP(null,d,x,u,g);break t}}throw d=B(x)||x,Error(n(306,d,""))}}return d;case 0:return iT(u,d,d.type,d.pendingProps,g);case 1:return x=d.type,M=Gh(x,d.pendingProps),PP(u,d,x,M,g);case 3:t:{if(bt(d,d.stateNode.containerInfo),u===null)throw Error(n(387));var C=d.pendingProps;M=d.memoizedState,x=M.element,gT(u,d),Ey(d,C,null,g);var P=d.memoizedState;if(C=P.cache,nu(d,An,C),C!==M.cache&&pT(d,[An],g,!0),Ny(),C=P.element,M.isDehydrated)if(M={element:C,isDehydrated:!1,cache:P.cache},d.updateQueue.baseState=M,d.memoizedState=M,d.flags&256){d=BP(u,d,C,g);break t}else if(C!==x){x=so(Error(n(424)),d),my(x),d=BP(u,d,C,g);break t}else for(qn=tr(d.stateNode.containerInfo.firstChild),Gs=d,Te=!0,Qo=null,Br=!0,g=w2(d,null,C,g),d.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(yy(),C===x){d=Bl(u,d,g);break t}Qn(u,d,C,g)}d=d.child}return d;case 26:return Cy(u,d),u===null?(g=UB(d.type,null,d.pendingProps,null))?d.memoizedState=g:Te||(g=d.type,u=d.pendingProps,x=$0(vt.current).createElement(g),x[ys]=d,x[ra]=u,Jn(x,g,u),Pn(x),d.stateNode=x):d.memoizedState=UB(d.type,u.memoizedProps,d.pendingProps,u.memoizedState),null;case 27:return Nt(d),u===null&&Te&&(x=d.stateNode=FB(d.type,d.pendingProps,vt.current),Gs=d,Br=!0,qn=tr(x.firstChild)),x=d.pendingProps.children,u!==null||Te?Qn(u,d,x,g):d.child=Bh(d,null,x,g),Cy(u,d),d.child;case 5:return u===null&&Te&&((M=x=qn)&&(x=P8(x,d.type,d.pendingProps,Br),x!==null?(d.stateNode=x,Gs=d,qn=tr(x.firstChild),Br=!1,M=!0):M=!1),M||Ph(d)),Nt(d),M=d.type,C=d.pendingProps,P=u!==null?u.memoizedProps:null,x=C.children,ZT(M,C)?x=null:P!==null&&ZT(M,P)&&(d.flags|=32),d.memoizedState!==null&&(M=_I(u,d,Q9,null,null,g),Yy._currentValue=M),Cy(u,d),Qn(u,d,x,g),d.child;case 6:return u===null&&Te&&((u=g=qn)&&(g=B8(g,d.pendingProps,Br),g!==null?(d.stateNode=g,Gs=d,qn=null,u=!0):u=!1),u||Ph(d)),null;case 13:return zP(u,d,g);case 4:return bt(d,d.stateNode.containerInfo),x=d.pendingProps,u===null?d.child=Bh(d,null,x,g):Qn(u,d,x,g),d.child;case 11:return LP(u,d,d.type,d.pendingProps,g);case 7:return Qn(u,d,d.pendingProps,g),d.child;case 8:return Qn(u,d,d.pendingProps.children,g),d.child;case 12:return Qn(u,d,d.pendingProps.children,g),d.child;case 10:return x=d.pendingProps,nu(d,d.type,x.value),Qn(u,d,x.children,g),d.child;case 9:return M=d.type._context,x=d.pendingProps.children,Uh(d),M=ms(M),x=x(M),d.flags|=1,Qn(u,d,x,g),d.child;case 14:return NP(u,d,d.type,d.pendingProps,g);case 15:return EP(u,d,d.type,d.pendingProps,g);case 19:return jP(u,d,g);case 22:return OP(u,d,g);case 24:return Uh(d),x=ms(An),u===null?(M=BI(),M===null&&(M=ei,C=RI(),M.pooledCache=C,C.refCount++,C!==null&&(M.pooledCacheLanes|=g),M=C),d.memoizedState={parent:x,cache:M},fT(d),nu(d,An,M)):(u.lanes&g&&(gT(u,d),Ey(d,null,null,g),Ny()),M=u.memoizedState,C=d.memoizedState,M.parent!==x?(M={parent:x,cache:x},d.memoizedState=M,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=M),nu(d,An,x)):(x=C.cache,nu(d,An,x),x!==M.cache&&pT(d,[An],g,!0))),Qn(u,d,d.pendingProps.children,g),d.child;case 29:throw d.pendingProps}throw Error(n(156,d.tag))}var hT=ct(null),Vh=null,zl=null;function nu(u,d,g){ht(hT,d._currentValue),d._currentValue=g}function _l(u){u._currentValue=hT.current,dt(hT)}function dT(u,d,g){for(;u!==null;){var x=u.alternate;if((u.childLanes&d)!==d?(u.childLanes|=d,x!==null&&(x.childLanes|=d)):x!==null&&(x.childLanes&d)!==d&&(x.childLanes|=d),u===g)break;u=u.return}}function pT(u,d,g,x){var M=u.child;for(M!==null&&(M.return=u);M!==null;){var C=M.dependencies;if(C!==null){var P=M.child;C=C.firstContext;t:for(;C!==null;){var H=C;C=M;for(var Q=0;Q<d.length;Q++)if(H.context===d[Q]){C.lanes|=g,H=C.alternate,H!==null&&(H.lanes|=g),dT(C.return,g,u),x||(P=null);break t}C=H.next}}else if(M.tag===18){if(P=M.return,P===null)throw Error(n(341));P.lanes|=g,C=P.alternate,C!==null&&(C.lanes|=g),dT(P,g,u),P=null}else P=M.child;if(P!==null)P.return=M;else for(P=M;P!==null;){if(P===u){P=null;break}if(M=P.sibling,M!==null){M.return=P.return,P=M;break}P=P.return}M=P}}function ky(u,d,g,x){u=null;for(var M=d,C=!1;M!==null;){if(!C){if(M.flags&524288)C=!0;else if(M.flags&262144)break}if(M.tag===10){var P=M.alternate;if(P===null)throw Error(n(387));if(P=P.memoizedProps,P!==null){var H=M.type;La(M.pendingProps.value,P.value)||(u!==null?u.push(H):u=[H])}}else if(M===At.current){if(P=M.alternate,P===null)throw Error(n(387));P.memoizedState.memoizedState!==M.memoizedState.memoizedState&&(u!==null?u.push(Yy):u=[Yy])}M=M.return}u!==null&&pT(d,u,g,x),d.flags|=262144}function E0(u){for(u=u.firstContext;u!==null;){if(!La(u.context._currentValue,u.memoizedValue))return!0;u=u.next}return!1}function Uh(u){Vh=u,zl=null,u=u.dependencies,u!==null&&(u.firstContext=null)}function ms(u){return GP(Vh,u)}function O0(u,d){return Vh===null&&Uh(u),GP(u,d)}function GP(u,d){var g=d._currentValue;if(d={context:d,memoizedValue:g,next:null},zl===null){if(u===null)throw Error(n(308));zl=d,u.dependencies={lanes:0,firstContext:d},u.flags|=524288}else zl=zl.next=d;return g}var su=!1;function fT(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gT(u,d){u=u.updateQueue,d.updateQueue===u&&(d.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,callbacks:null})}function au(u){return{lane:u,tag:0,payload:null,callback:null,next:null}}function ou(u,d,g){var x=u.updateQueue;if(x===null)return null;if(x=x.shared,yi&2){var M=x.pending;return M===null?d.next=d:(d.next=M.next,M.next=d),x.pending=d,d=d0(u),M2(u,null,g),d}return h0(u,x,d,g),d0(u)}function Ly(u,d,g){if(d=d.updateQueue,d!==null&&(d=d.shared,(g&4194176)!==0)){var x=d.lanes;x&=u.pendingLanes,g|=x,d.lanes=g,NR(u,g)}}function yT(u,d){var g=u.updateQueue,x=u.alternate;if(x!==null&&(x=x.updateQueue,g===x)){var M=null,C=null;if(g=g.firstBaseUpdate,g!==null){do{var P={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};C===null?M=C=P:C=C.next=P,g=g.next}while(g!==null);C===null?M=C=d:C=C.next=d}else M=C=d;g={baseState:x.baseState,firstBaseUpdate:M,lastBaseUpdate:C,shared:x.shared,callbacks:x.callbacks},u.updateQueue=g;return}u=g.lastBaseUpdate,u===null?g.firstBaseUpdate=d:u.next=d,g.lastBaseUpdate=d}var mT=!1;function Ny(){if(mT){var u=Gp;if(u!==null)throw u}}function Ey(u,d,g,x){mT=!1;var M=u.updateQueue;su=!1;var C=M.firstBaseUpdate,P=M.lastBaseUpdate,H=M.shared.pending;if(H!==null){M.shared.pending=null;var Q=H,it=Q.next;Q.next=null,P===null?C=it:P.next=it,P=Q;var mt=u.alternate;mt!==null&&(mt=mt.updateQueue,H=mt.lastBaseUpdate,H!==P&&(H===null?mt.firstBaseUpdate=it:H.next=it,mt.lastBaseUpdate=Q))}if(C!==null){var Mt=M.baseState;P=0,mt=it=Q=null,H=C;do{var ut=H.lane&-536870913,gt=ut!==H.lane;if(gt?(xe&ut)===ut:(x&ut)===ut){ut!==0&&ut===Fp&&(mT=!0),mt!==null&&(mt=mt.next={lane:0,tag:H.tag,payload:H.payload,callback:null,next:null});t:{var _t=u,Jt=H;ut=d;var Oi=g;switch(Jt.tag){case 1:if(_t=Jt.payload,typeof _t=="function"){Mt=_t.call(Oi,Mt,ut);break t}Mt=_t;break t;case 3:_t.flags=_t.flags&-65537|128;case 0:if(_t=Jt.payload,ut=typeof _t=="function"?_t.call(Oi,Mt,ut):_t,ut==null)break t;Mt=L({},Mt,ut);break t;case 2:su=!0}}ut=H.callback,ut!==null&&(u.flags|=64,gt&&(u.flags|=8192),gt=M.callbacks,gt===null?M.callbacks=[ut]:gt.push(ut))}else gt={lane:ut,tag:H.tag,payload:H.payload,callback:H.callback,next:null},mt===null?(it=mt=gt,Q=Mt):mt=mt.next=gt,P|=ut;if(H=H.next,H===null){if(H=M.shared.pending,H===null)break;gt=H,H=gt.next,gt.next=null,M.lastBaseUpdate=gt,M.shared.pending=null}}while(!0);mt===null&&(Q=Mt),M.baseState=Q,M.firstBaseUpdate=it,M.lastBaseUpdate=mt,C===null&&(M.shared.lanes=0),hu|=P,u.lanes=P,u.memoizedState=Mt}}function VP(u,d){if(typeof u!="function")throw Error(n(191,u));u.call(d)}function UP(u,d){var g=u.callbacks;if(g!==null)for(u.callbacks=null,u=0;u<g.length;u++)VP(g[u],d)}function Oy(u,d){try{var g=d.updateQueue,x=g!==null?g.lastEffect:null;if(x!==null){var M=x.next;g=M;do{if((g.tag&u)===u){x=void 0;var C=g.create,P=g.inst;x=C(),P.destroy=x}g=g.next}while(g!==M)}}catch(H){$e(d,d.return,H)}}function ru(u,d,g){try{var x=d.updateQueue,M=x!==null?x.lastEffect:null;if(M!==null){var C=M.next;x=C;do{if((x.tag&u)===u){var P=x.inst,H=P.destroy;if(H!==void 0){P.destroy=void 0,M=d;var Q=g;try{H()}catch(it){$e(M,Q,it)}}}x=x.next}while(x!==C)}}catch(it){$e(d,d.return,it)}}function HP(u){var d=u.updateQueue;if(d!==null){var g=u.stateNode;try{UP(d,g)}catch(x){$e(u,u.return,x)}}}function WP(u,d,g){g.props=Gh(u.type,u.memoizedProps),g.state=u.memoizedState;try{g.componentWillUnmount()}catch(x){$e(u,d,x)}}function Hh(u,d){try{var g=u.ref;if(g!==null){var x=u.stateNode;switch(u.tag){case 26:case 27:case 5:var M=x;break;default:M=x}typeof g=="function"?u.refCleanup=g(M):g.current=M}}catch(C){$e(u,d,C)}}function Na(u,d){var g=u.ref,x=u.refCleanup;if(g!==null)if(typeof x=="function")try{x()}catch(M){$e(u,d,M)}finally{u.refCleanup=null,u=u.alternate,u!=null&&(u.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(M){$e(u,d,M)}else g.current=null}function YP(u){var d=u.type,g=u.memoizedProps,x=u.stateNode;try{t:switch(d){case"button":case"input":case"select":case"textarea":g.autoFocus&&x.focus();break t;case"img":g.src?x.src=g.src:g.srcSet&&(x.srcset=g.srcSet)}}catch(M){$e(u,u.return,M)}}function $P(u,d,g){try{var x=u.stateNode;N8(x,u.type,g,d),x[ra]=d}catch(M){$e(u,u.return,M)}}function KP(u){return u.tag===5||u.tag===3||u.tag===26||u.tag===27||u.tag===4}function xT(u){t:for(;;){for(;u.sibling===null;){if(u.return===null||KP(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==27&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue t;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function bT(u,d,g){var x=u.tag;if(x===5||x===6)u=u.stateNode,d?g.nodeType===8?g.parentNode.insertBefore(u,d):g.insertBefore(u,d):(g.nodeType===8?(d=g.parentNode,d.insertBefore(u,g)):(d=g,d.appendChild(u)),g=g._reactRootContainer,g!=null||d.onclick!==null||(d.onclick=Y0));else if(x!==4&&x!==27&&(u=u.child,u!==null))for(bT(u,d,g),u=u.sibling;u!==null;)bT(u,d,g),u=u.sibling}function w0(u,d,g){var x=u.tag;if(x===5||x===6)u=u.stateNode,d?g.insertBefore(u,d):g.appendChild(u);else if(x!==4&&x!==27&&(u=u.child,u!==null))for(w0(u,d,g),u=u.sibling;u!==null;)w0(u,d,g),u=u.sibling}var jl=!1,Ni=!1,vT=!1,XP=typeof WeakSet=="function"?WeakSet:Set,zn=null,ZP=!1;function o8(u,d){if(u=u.containerInfo,KT=J0,u=p2(u),MI(u)){if("selectionStart"in u)var g={start:u.selectionStart,end:u.selectionEnd};else t:{g=(g=u.ownerDocument)&&g.defaultView||window;var x=g.getSelection&&g.getSelection();if(x&&x.rangeCount!==0){g=x.anchorNode;var M=x.anchorOffset,C=x.focusNode;x=x.focusOffset;try{g.nodeType,C.nodeType}catch{g=null;break t}var P=0,H=-1,Q=-1,it=0,mt=0,Mt=u,ut=null;e:for(;;){for(var gt;Mt!==g||M!==0&&Mt.nodeType!==3||(H=P+M),Mt!==C||x!==0&&Mt.nodeType!==3||(Q=P+x),Mt.nodeType===3&&(P+=Mt.nodeValue.length),(gt=Mt.firstChild)!==null;)ut=Mt,Mt=gt;for(;;){if(Mt===u)break e;if(ut===g&&++it===M&&(H=P),ut===C&&++mt===x&&(Q=P),(gt=Mt.nextSibling)!==null)break;Mt=ut,ut=Mt.parentNode}Mt=gt}g=H===-1||Q===-1?null:{start:H,end:Q}}else g=null}g=g||{start:0,end:0}}else g=null;for(XT={focusedElem:u,selectionRange:g},J0=!1,zn=d;zn!==null;)if(d=zn,u=d.child,(d.subtreeFlags&1028)!==0&&u!==null)u.return=d,zn=u;else for(;zn!==null;){switch(d=zn,C=d.alternate,u=d.flags,d.tag){case 0:break;case 11:case 15:break;case 1:if(u&1024&&C!==null){u=void 0,g=d,M=C.memoizedProps,C=C.memoizedState,x=g.stateNode;try{var _t=Gh(g.type,M,g.elementType===g.type);u=x.getSnapshotBeforeUpdate(_t,C),x.__reactInternalSnapshotBeforeUpdate=u}catch(Jt){$e(g,g.return,Jt)}}break;case 3:if(u&1024){if(u=d.stateNode.containerInfo,g=u.nodeType,g===9)JT(u);else if(g===1)switch(u.nodeName){case"HEAD":case"HTML":case"BODY":JT(u);break;default:u.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(u&1024)throw Error(n(163))}if(u=d.sibling,u!==null){u.return=d.return,zn=u;break}zn=d.return}return _t=ZP,ZP=!1,_t}function qP(u,d,g){var x=g.flags;switch(g.tag){case 0:case 11:case 15:Gl(u,g),x&4&&Oy(5,g);break;case 1:if(Gl(u,g),x&4)if(u=g.stateNode,d===null)try{u.componentDidMount()}catch(H){$e(g,g.return,H)}else{var M=Gh(g.type,d.memoizedProps);d=d.memoizedState;try{u.componentDidUpdate(M,d,u.__reactInternalSnapshotBeforeUpdate)}catch(H){$e(g,g.return,H)}}x&64&&HP(g),x&512&&Hh(g,g.return);break;case 3:if(Gl(u,g),x&64&&(x=g.updateQueue,x!==null)){if(u=null,g.child!==null)switch(g.child.tag){case 27:case 5:u=g.child.stateNode;break;case 1:u=g.child.stateNode}try{UP(x,u)}catch(H){$e(g,g.return,H)}}break;case 26:Gl(u,g),x&512&&Hh(g,g.return);break;case 27:case 5:Gl(u,g),d===null&&x&4&&YP(g),x&512&&Hh(g,g.return);break;case 12:Gl(u,g);break;case 13:Gl(u,g),x&4&&tB(u,g);break;case 22:if(M=g.memoizedState!==null||jl,!M){d=d!==null&&d.memoizedState!==null||Ni;var C=jl,P=Ni;jl=M,(Ni=d)&&!P?lu(u,g,(g.subtreeFlags&8772)!==0):Gl(u,g),jl=C,Ni=P}x&512&&(g.memoizedProps.mode==="manual"?Hh(g,g.return):Na(g,g.return));break;default:Gl(u,g)}}function QP(u){var d=u.alternate;d!==null&&(u.alternate=null,QP(d)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(d=u.stateNode,d!==null&&oI(d)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}var cn=null,Ea=!1;function Fl(u,d,g){for(g=g.child;g!==null;)JP(u,d,g),g=g.sibling}function JP(u,d,g){if(Zn&&typeof Zn.onCommitFiberUnmount=="function")try{Zn.onCommitFiberUnmount(wr,g)}catch{}switch(g.tag){case 26:Ni||Na(g,d),Fl(u,d,g),g.memoizedState?g.memoizedState.count--:g.stateNode&&(g=g.stateNode,g.parentNode.removeChild(g));break;case 27:Ni||Na(g,d);var x=cn,M=Ea;for(cn=g.stateNode,Fl(u,d,g),g=g.stateNode,d=g.attributes;d.length;)g.removeAttributeNode(d[0]);oI(g),cn=x,Ea=M;break;case 5:Ni||Na(g,d);case 6:M=cn;var C=Ea;if(cn=null,Fl(u,d,g),cn=M,Ea=C,cn!==null)if(Ea)try{u=cn,x=g.stateNode,u.nodeType===8?u.parentNode.removeChild(x):u.removeChild(x)}catch(P){$e(g,d,P)}else try{cn.removeChild(g.stateNode)}catch(P){$e(g,d,P)}break;case 18:cn!==null&&(Ea?(d=cn,g=g.stateNode,d.nodeType===8?QT(d.parentNode,g):d.nodeType===1&&QT(d,g),Zy(d)):QT(cn,g.stateNode));break;case 4:x=cn,M=Ea,cn=g.stateNode.containerInfo,Ea=!0,Fl(u,d,g),cn=x,Ea=M;break;case 0:case 11:case 14:case 15:Ni||ru(2,g,d),Ni||ru(4,g,d),Fl(u,d,g);break;case 1:Ni||(Na(g,d),x=g.stateNode,typeof x.componentWillUnmount=="function"&&WP(g,d,x)),Fl(u,d,g);break;case 21:Fl(u,d,g);break;case 22:Ni||Na(g,d),Ni=(x=Ni)||g.memoizedState!==null,Fl(u,d,g),Ni=x;break;default:Fl(u,d,g)}}function tB(u,d){if(d.memoizedState===null&&(u=d.alternate,u!==null&&(u=u.memoizedState,u!==null&&(u=u.dehydrated,u!==null))))try{Zy(u)}catch(g){$e(d,d.return,g)}}function r8(u){switch(u.tag){case 13:case 19:var d=u.stateNode;return d===null&&(d=u.stateNode=new XP),d;case 22:return u=u.stateNode,d=u._retryCache,d===null&&(d=u._retryCache=new XP),d;default:throw Error(n(435,u.tag))}}function ST(u,d){var g=r8(u);d.forEach(function(x){var M=v8.bind(null,u,x);g.has(x)||(g.add(x),x.then(M,M))})}function lo(u,d){var g=d.deletions;if(g!==null)for(var x=0;x<g.length;x++){var M=g[x],C=u,P=d,H=P;t:for(;H!==null;){switch(H.tag){case 27:case 5:cn=H.stateNode,Ea=!1;break t;case 3:cn=H.stateNode.containerInfo,Ea=!0;break t;case 4:cn=H.stateNode.containerInfo,Ea=!0;break t}H=H.return}if(cn===null)throw Error(n(160));JP(C,P,M),cn=null,Ea=!1,C=M.alternate,C!==null&&(C.return=null),M.return=null}if(d.subtreeFlags&13878)for(d=d.child;d!==null;)eB(d,u),d=d.sibling}var Jo=null;function eB(u,d){var g=u.alternate,x=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:lo(d,u),co(u),x&4&&(ru(3,u,u.return),Oy(3,u),ru(5,u,u.return));break;case 1:lo(d,u),co(u),x&512&&(Ni||g===null||Na(g,g.return)),x&64&&jl&&(u=u.updateQueue,u!==null&&(x=u.callbacks,x!==null&&(g=u.shared.hiddenCallbacks,u.shared.hiddenCallbacks=g===null?x:g.concat(x))));break;case 26:var M=Jo;if(lo(d,u),co(u),x&512&&(Ni||g===null||Na(g,g.return)),x&4){var C=g!==null?g.memoizedState:null;if(x=u.memoizedState,g===null)if(x===null)if(u.stateNode===null){t:{x=u.type,g=u.memoizedProps,M=M.ownerDocument||M;e:switch(x){case"title":C=M.getElementsByTagName("title")[0],(!C||C[sy]||C[ys]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=M.createElement(x),M.head.insertBefore(C,M.querySelector("head > title"))),Jn(C,x,g),C[ys]=u,Pn(C),x=C;break t;case"link":var P=YB("link","href",M).get(x+(g.href||""));if(P){for(var H=0;H<P.length;H++)if(C=P[H],C.getAttribute("href")===(g.href==null?null:g.href)&&C.getAttribute("rel")===(g.rel==null?null:g.rel)&&C.getAttribute("title")===(g.title==null?null:g.title)&&C.getAttribute("crossorigin")===(g.crossOrigin==null?null:g.crossOrigin)){P.splice(H,1);break e}}C=M.createElement(x),Jn(C,x,g),M.head.appendChild(C);break;case"meta":if(P=YB("meta","content",M).get(x+(g.content||""))){for(H=0;H<P.length;H++)if(C=P[H],C.getAttribute("content")===(g.content==null?null:""+g.content)&&C.getAttribute("name")===(g.name==null?null:g.name)&&C.getAttribute("property")===(g.property==null?null:g.property)&&C.getAttribute("http-equiv")===(g.httpEquiv==null?null:g.httpEquiv)&&C.getAttribute("charset")===(g.charSet==null?null:g.charSet)){P.splice(H,1);break e}}C=M.createElement(x),Jn(C,x,g),M.head.appendChild(C);break;default:throw Error(n(468,x))}C[ys]=u,Pn(C),x=C}u.stateNode=x}else $B(M,u.type,u.stateNode);else u.stateNode=WB(M,x,u.memoizedProps);else C!==x?(C===null?g.stateNode!==null&&(g=g.stateNode,g.parentNode.removeChild(g)):C.count--,x===null?$B(M,u.type,u.stateNode):WB(M,x,u.memoizedProps)):x===null&&u.stateNode!==null&&$P(u,u.memoizedProps,g.memoizedProps)}break;case 27:if(x&4&&u.alternate===null){M=u.stateNode,C=u.memoizedProps;try{for(var Q=M.firstChild;Q;){var it=Q.nextSibling,mt=Q.nodeName;Q[sy]||mt==="HEAD"||mt==="BODY"||mt==="SCRIPT"||mt==="STYLE"||mt==="LINK"&&Q.rel.toLowerCase()==="stylesheet"||M.removeChild(Q),Q=it}for(var Mt=u.type,ut=M.attributes;ut.length;)M.removeAttributeNode(ut[0]);Jn(M,Mt,C),M[ys]=u,M[ra]=C}catch(_t){$e(u,u.return,_t)}}case 5:if(lo(d,u),co(u),x&512&&(Ni||g===null||Na(g,g.return)),u.flags&32){M=u.stateNode;try{kp(M,"")}catch(_t){$e(u,u.return,_t)}}x&4&&u.stateNode!=null&&(M=u.memoizedProps,$P(u,M,g!==null?g.memoizedProps:M)),x&1024&&(vT=!0);break;case 6:if(lo(d,u),co(u),x&4){if(u.stateNode===null)throw Error(n(162));x=u.memoizedProps,g=u.stateNode;try{g.nodeValue=x}catch(_t){$e(u,u.return,_t)}}break;case 3:if(Z0=null,M=Jo,Jo=K0(d.containerInfo),lo(d,u),Jo=M,co(u),x&4&&g!==null&&g.memoizedState.isDehydrated)try{Zy(d.containerInfo)}catch(_t){$e(u,u.return,_t)}vT&&(vT=!1,iB(u));break;case 4:x=Jo,Jo=K0(u.stateNode.containerInfo),lo(d,u),co(u),Jo=x;break;case 12:lo(d,u),co(u);break;case 13:lo(d,u),co(u),u.child.flags&8192&&u.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(NT=Ht()),x&4&&(x=u.updateQueue,x!==null&&(u.updateQueue=null,ST(u,x)));break;case 22:if(x&512&&(Ni||g===null||Na(g,g.return)),Q=u.memoizedState!==null,it=g!==null&&g.memoizedState!==null,mt=jl,Mt=Ni,jl=mt||Q,Ni=Mt||it,lo(d,u),Ni=Mt,jl=mt,co(u),d=u.stateNode,d._current=u,d._visibility&=-3,d._visibility|=d._pendingVisibility&2,x&8192&&(d._visibility=Q?d._visibility&-2:d._visibility|1,Q&&(d=jl||Ni,g===null||it||d||Wp(u)),u.memoizedProps===null||u.memoizedProps.mode!=="manual"))t:for(g=null,d=u;;){if(d.tag===5||d.tag===26||d.tag===27){if(g===null){it=g=d;try{if(M=it.stateNode,Q)C=M.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{P=it.stateNode,H=it.memoizedProps.style;var gt=H!=null&&H.hasOwnProperty("display")?H.display:null;P.style.display=gt==null||typeof gt=="boolean"?"":(""+gt).trim()}}catch(_t){$e(it,it.return,_t)}}}else if(d.tag===6){if(g===null){it=d;try{it.stateNode.nodeValue=Q?"":it.memoizedProps}catch(_t){$e(it,it.return,_t)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===u)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===u)break t;for(;d.sibling===null;){if(d.return===null||d.return===u)break t;g===d&&(g=null),d=d.return}g===d&&(g=null),d.sibling.return=d.return,d=d.sibling}x&4&&(x=u.updateQueue,x!==null&&(g=x.retryQueue,g!==null&&(x.retryQueue=null,ST(u,g))));break;case 19:lo(d,u),co(u),x&4&&(x=u.updateQueue,x!==null&&(u.updateQueue=null,ST(u,x)));break;case 21:break;default:lo(d,u),co(u)}}function co(u){var d=u.flags;if(d&2){try{if(u.tag!==27){t:{for(var g=u.return;g!==null;){if(KP(g)){var x=g;break t}g=g.return}throw Error(n(160))}switch(x.tag){case 27:var M=x.stateNode,C=xT(u);w0(u,C,M);break;case 5:var P=x.stateNode;x.flags&32&&(kp(P,""),x.flags&=-33);var H=xT(u);w0(u,H,P);break;case 3:case 4:var Q=x.stateNode.containerInfo,it=xT(u);bT(u,it,Q);break;default:throw Error(n(161))}}}catch(mt){$e(u,u.return,mt)}u.flags&=-3}d&4096&&(u.flags&=-4097)}function iB(u){if(u.subtreeFlags&1024)for(u=u.child;u!==null;){var d=u;iB(d),d.tag===5&&d.flags&1024&&d.stateNode.reset(),u=u.sibling}}function Gl(u,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)qP(u,d.alternate,d),d=d.sibling}function Wp(u){for(u=u.child;u!==null;){var d=u;switch(d.tag){case 0:case 11:case 14:case 15:ru(4,d,d.return),Wp(d);break;case 1:Na(d,d.return);var g=d.stateNode;typeof g.componentWillUnmount=="function"&&WP(d,d.return,g),Wp(d);break;case 26:case 27:case 5:Na(d,d.return),Wp(d);break;case 22:Na(d,d.return),d.memoizedState===null&&Wp(d);break;default:Wp(d)}u=u.sibling}}function lu(u,d,g){for(g=g&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var x=d.alternate,M=u,C=d,P=C.flags;switch(C.tag){case 0:case 11:case 15:lu(M,C,g),Oy(4,C);break;case 1:if(lu(M,C,g),x=C,M=x.stateNode,typeof M.componentDidMount=="function")try{M.componentDidMount()}catch(it){$e(x,x.return,it)}if(x=C,M=x.updateQueue,M!==null){var H=x.stateNode;try{var Q=M.shared.hiddenCallbacks;if(Q!==null)for(M.shared.hiddenCallbacks=null,M=0;M<Q.length;M++)VP(Q[M],H)}catch(it){$e(x,x.return,it)}}g&&P&64&&HP(C),Hh(C,C.return);break;case 26:case 27:case 5:lu(M,C,g),g&&x===null&&P&4&&YP(C),Hh(C,C.return);break;case 12:lu(M,C,g);break;case 13:lu(M,C,g),g&&P&4&&tB(M,C);break;case 22:C.memoizedState===null&&lu(M,C,g),Hh(C,C.return);break;default:lu(M,C,g)}d=d.sibling}}function MT(u,d){var g=null;u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),u=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(u=d.memoizedState.cachePool.pool),u!==g&&(u!=null&&u.refCount++,g!=null&&My(g))}function AT(u,d){u=null,d.alternate!==null&&(u=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==u&&(d.refCount++,u!=null&&My(u))}function cu(u,d,g,x){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)nB(u,d,g,x),d=d.sibling}function nB(u,d,g,x){var M=d.flags;switch(d.tag){case 0:case 11:case 15:cu(u,d,g,x),M&2048&&Oy(9,d);break;case 3:cu(u,d,g,x),M&2048&&(u=null,d.alternate!==null&&(u=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==u&&(d.refCount++,u!=null&&My(u)));break;case 12:if(M&2048){cu(u,d,g,x),u=d.stateNode;try{var C=d.memoizedProps,P=C.id,H=C.onPostCommit;typeof H=="function"&&H(P,d.alternate===null?"mount":"update",u.passiveEffectDuration,-0)}catch(Q){$e(d,d.return,Q)}}else cu(u,d,g,x);break;case 23:break;case 22:C=d.stateNode,d.memoizedState!==null?C._visibility&4?cu(u,d,g,x):wy(u,d):C._visibility&4?cu(u,d,g,x):(C._visibility|=4,Yp(u,d,g,x,(d.subtreeFlags&10256)!==0)),M&2048&&MT(d.alternate,d);break;case 24:cu(u,d,g,x),M&2048&&AT(d.alternate,d);break;default:cu(u,d,g,x)}}function Yp(u,d,g,x,M){for(M=M&&(d.subtreeFlags&10256)!==0,d=d.child;d!==null;){var C=u,P=d,H=g,Q=x,it=P.flags;switch(P.tag){case 0:case 11:case 15:Yp(C,P,H,Q,M),Oy(8,P);break;case 23:break;case 22:var mt=P.stateNode;P.memoizedState!==null?mt._visibility&4?Yp(C,P,H,Q,M):wy(C,P):(mt._visibility|=4,Yp(C,P,H,Q,M)),M&&it&2048&&MT(P.alternate,P);break;case 24:Yp(C,P,H,Q,M),M&&it&2048&&AT(P.alternate,P);break;default:Yp(C,P,H,Q,M)}d=d.sibling}}function wy(u,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var g=u,x=d,M=x.flags;switch(x.tag){case 22:wy(g,x),M&2048&&MT(x.alternate,x);break;case 24:wy(g,x),M&2048&&AT(x.alternate,x);break;default:wy(g,x)}d=d.sibling}}var Ry=8192;function $p(u){if(u.subtreeFlags&Ry)for(u=u.child;u!==null;)sB(u),u=u.sibling}function sB(u){switch(u.tag){case 26:$p(u),u.flags&Ry&&u.memoizedState!==null&&X8(Jo,u.memoizedState,u.memoizedProps);break;case 5:$p(u);break;case 3:case 4:var d=Jo;Jo=K0(u.stateNode.containerInfo),$p(u),Jo=d;break;case 22:u.memoizedState===null&&(d=u.alternate,d!==null&&d.memoizedState!==null?(d=Ry,Ry=16777216,$p(u),Ry=d):$p(u));break;default:$p(u)}}function aB(u){var d=u.alternate;if(d!==null&&(u=d.child,u!==null)){d.child=null;do d=u.sibling,u.sibling=null,u=d;while(u!==null)}}function Py(u){var d=u.deletions;if(u.flags&16){if(d!==null)for(var g=0;g<d.length;g++){var x=d[g];zn=x,rB(x,u)}aB(u)}if(u.subtreeFlags&10256)for(u=u.child;u!==null;)oB(u),u=u.sibling}function oB(u){switch(u.tag){case 0:case 11:case 15:Py(u),u.flags&2048&&ru(9,u,u.return);break;case 3:Py(u);break;case 12:Py(u);break;case 22:var d=u.stateNode;u.memoizedState!==null&&d._visibility&4&&(u.return===null||u.return.tag!==13)?(d._visibility&=-5,R0(u)):Py(u);break;default:Py(u)}}function R0(u){var d=u.deletions;if(u.flags&16){if(d!==null)for(var g=0;g<d.length;g++){var x=d[g];zn=x,rB(x,u)}aB(u)}for(u=u.child;u!==null;){switch(d=u,d.tag){case 0:case 11:case 15:ru(8,d,d.return),R0(d);break;case 22:g=d.stateNode,g._visibility&4&&(g._visibility&=-5,R0(d));break;default:R0(d)}u=u.sibling}}function rB(u,d){for(;zn!==null;){var g=zn;switch(g.tag){case 0:case 11:case 15:ru(8,g,d);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var x=g.memoizedState.cachePool.pool;x!=null&&x.refCount++}break;case 24:My(g.memoizedState.cache)}if(x=g.child,x!==null)x.return=g,zn=x;else t:for(g=u;zn!==null;){x=zn;var M=x.sibling,C=x.return;if(QP(x),x===g){zn=null;break t}if(M!==null){M.return=C,zn=M;break t}zn=C}}}function l8(u,d,g,x){this.tag=u,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function uo(u,d,g,x){return new l8(u,d,g,x)}function DT(u){return u=u.prototype,!(!u||!u.isReactComponent)}function uu(u,d){var g=u.alternate;return g===null?(g=uo(u.tag,d,u.key,u.mode),g.elementType=u.elementType,g.type=u.type,g.stateNode=u.stateNode,g.alternate=u,u.alternate=g):(g.pendingProps=d,g.type=u.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=u.flags&31457280,g.childLanes=u.childLanes,g.lanes=u.lanes,g.child=u.child,g.memoizedProps=u.memoizedProps,g.memoizedState=u.memoizedState,g.updateQueue=u.updateQueue,d=u.dependencies,g.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},g.sibling=u.sibling,g.index=u.index,g.ref=u.ref,g.refCleanup=u.refCleanup,g}function lB(u,d){u.flags&=31457282;var g=u.alternate;return g===null?(u.childLanes=0,u.lanes=d,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=g.childLanes,u.lanes=g.lanes,u.child=g.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=g.memoizedProps,u.memoizedState=g.memoizedState,u.updateQueue=g.updateQueue,u.type=g.type,d=g.dependencies,u.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),u}function P0(u,d,g,x,M,C){var P=0;if(x=u,typeof u=="function")DT(u)&&(P=1);else if(typeof u=="string")P=$8(u,g,yt.current)?26:u==="html"||u==="head"||u==="body"?27:5;else t:switch(u){case l:return Wh(g.children,M,C,d);case c:P=8,M|=24;break;case h:return u=uo(12,g,d,M|2),u.elementType=h,u.lanes=C,u;case b:return u=uo(13,g,d,M),u.elementType=b,u.lanes=C,u;case v:return u=uo(19,g,d,M),u.elementType=v,u.lanes=C,u;case I:return cB(g,M,C,d);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case p:case y:P=10;break t;case f:P=9;break t;case m:P=11;break t;case S:P=14;break t;case D:P=16,x=null;break t}P=29,g=Error(n(130,u===null?"null":typeof u,"")),x=null}return d=uo(P,g,d,M),d.elementType=u,d.type=x,d.lanes=C,d}function Wh(u,d,g,x){return u=uo(7,u,x,d),u.lanes=g,u}function cB(u,d,g,x){u=uo(22,u,x,d),u.elementType=I,u.lanes=g;var M={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var C=M._current;if(C===null)throw Error(n(456));if(!(M._pendingVisibility&2)){var P=Qc(C,2);P!==null&&(M._pendingVisibility|=2,Vs(P,C,2))}},attach:function(){var C=M._current;if(C===null)throw Error(n(456));if(M._pendingVisibility&2){var P=Qc(C,2);P!==null&&(M._pendingVisibility&=-3,Vs(P,C,2))}}};return u.stateNode=M,u}function IT(u,d,g){return u=uo(6,u,null,d),u.lanes=g,u}function TT(u,d,g){return d=uo(4,u.children!==null?u.children:[],u.key,d),d.lanes=g,d.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},d}function Vl(u){u.flags|=4}function uB(u,d){if(d.type!=="stylesheet"||d.state.loading&4)u.flags&=-16777217;else if(u.flags|=16777216,!KB(d)){if(d=ro.current,d!==null&&((xe&4194176)===xe?zr!==null:(xe&62914560)!==xe&&!(xe&536870912)||d!==zr))throw by=EI,C2;u.flags|=8192}}function B0(u,d){d!==null&&(u.flags|=4),u.flags&16384&&(d=u.tag!==22?kR():536870912,u.lanes|=d,Xp|=d)}function By(u,d){if(!Te)switch(u.tailMode){case"hidden":d=u.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?u.tail=null:g.sibling=null;break;case"collapsed":g=u.tail;for(var x=null;g!==null;)g.alternate!==null&&(x=g),g=g.sibling;x===null?d||u.tail===null?u.tail=null:u.tail.sibling=null:x.sibling=null}}function gi(u){var d=u.alternate!==null&&u.alternate.child===u.child,g=0,x=0;if(d)for(var M=u.child;M!==null;)g|=M.lanes|M.childLanes,x|=M.subtreeFlags&31457280,x|=M.flags&31457280,M.return=u,M=M.sibling;else for(M=u.child;M!==null;)g|=M.lanes|M.childLanes,x|=M.subtreeFlags,x|=M.flags,M.return=u,M=M.sibling;return u.subtreeFlags|=x,u.childLanes=g,d}function c8(u,d,g){var x=d.pendingProps;switch(LI(d),d.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gi(d),null;case 1:return gi(d),null;case 3:return g=d.stateNode,x=null,u!==null&&(x=u.memoizedState.cache),d.memoizedState.cache!==x&&(d.flags|=2048),_l(An),Rt(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(u===null||u.child===null)&&(gy(d)?Vl(d):u===null||u.memoizedState.isDehydrated&&!(d.flags&256)||(d.flags|=1024,Qo!==null&&(RT(Qo),Qo=null))),gi(d),null;case 26:return g=d.memoizedState,u===null?(Vl(d),g!==null?(gi(d),uB(d,g)):(gi(d),d.flags&=-16777217)):g?g!==u.memoizedState?(Vl(d),gi(d),uB(d,g)):(gi(d),d.flags&=-16777217):(u.memoizedProps!==x&&Vl(d),gi(d),d.flags&=-16777217),null;case 27:Ot(d),g=vt.current;var M=d.type;if(u!==null&&d.stateNode!=null)u.memoizedProps!==x&&Vl(d);else{if(!x){if(d.stateNode===null)throw Error(n(166));return gi(d),null}u=yt.current,gy(d)?I2(d):(u=FB(M,x,g),d.stateNode=u,Vl(d))}return gi(d),null;case 5:if(Ot(d),g=d.type,u!==null&&d.stateNode!=null)u.memoizedProps!==x&&Vl(d);else{if(!x){if(d.stateNode===null)throw Error(n(166));return gi(d),null}if(u=yt.current,gy(d))I2(d);else{switch(M=$0(vt.current),u){case 1:u=M.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:u=M.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":u=M.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":u=M.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":u=M.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof x.is=="string"?M.createElement("select",{is:x.is}):M.createElement("select"),x.multiple?u.multiple=!0:x.size&&(u.size=x.size);break;default:u=typeof x.is=="string"?M.createElement(g,{is:x.is}):M.createElement(g)}}u[ys]=d,u[ra]=x;t:for(M=d.child;M!==null;){if(M.tag===5||M.tag===6)u.appendChild(M.stateNode);else if(M.tag!==4&&M.tag!==27&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===d)break t;for(;M.sibling===null;){if(M.return===null||M.return===d)break t;M=M.return}M.sibling.return=M.return,M=M.sibling}d.stateNode=u;t:switch(Jn(u,g,x),g){case"button":case"input":case"select":case"textarea":u=!!x.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&Vl(d)}}return gi(d),d.flags&=-16777217,null;case 6:if(u&&d.stateNode!=null)u.memoizedProps!==x&&Vl(d);else{if(typeof x!="string"&&d.stateNode===null)throw Error(n(166));if(u=vt.current,gy(d)){if(u=d.stateNode,g=d.memoizedProps,x=null,M=Gs,M!==null)switch(M.tag){case 27:case 5:x=M.memoizedProps}u[ys]=d,u=!!(u.nodeValue===g||x!==null&&x.suppressHydrationWarning===!0||RB(u.nodeValue,g)),u||Ph(d)}else u=$0(u).createTextNode(x),u[ys]=d,d.stateNode=u}return gi(d),null;case 13:if(x=d.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(M=gy(d),x!==null&&x.dehydrated!==null){if(u===null){if(!M)throw Error(n(318));if(M=d.memoizedState,M=M!==null?M.dehydrated:null,!M)throw Error(n(317));M[ys]=d}else yy(),!(d.flags&128)&&(d.memoizedState=null),d.flags|=4;gi(d),M=!1}else Qo!==null&&(RT(Qo),Qo=null),M=!0;if(!M)return d.flags&256?(Rl(d),d):(Rl(d),null)}if(Rl(d),d.flags&128)return d.lanes=g,d;if(g=x!==null,u=u!==null&&u.memoizedState!==null,g){x=d.child,M=null,x.alternate!==null&&x.alternate.memoizedState!==null&&x.alternate.memoizedState.cachePool!==null&&(M=x.alternate.memoizedState.cachePool.pool);var C=null;x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(C=x.memoizedState.cachePool.pool),C!==M&&(x.flags|=2048)}return g!==u&&g&&(d.child.flags|=8192),B0(d,d.updateQueue),gi(d),null;case 4:return Rt(),u===null&&WT(d.stateNode.containerInfo),gi(d),null;case 10:return _l(d.type),gi(d),null;case 19:if(dt(Mn),M=d.memoizedState,M===null)return gi(d),null;if(x=(d.flags&128)!==0,C=M.rendering,C===null)if(x)By(M,!1);else{if(Ei!==0||u!==null&&u.flags&128)for(u=d.child;u!==null;){if(C=b0(u),C!==null){for(d.flags|=128,By(M,!1),u=C.updateQueue,d.updateQueue=u,B0(d,u),d.subtreeFlags=0,u=g,g=d.child;g!==null;)lB(g,u),g=g.sibling;return ht(Mn,Mn.current&1|2),d.child}u=u.sibling}M.tail!==null&&Ht()>z0&&(d.flags|=128,x=!0,By(M,!1),d.lanes=4194304)}else{if(!x)if(u=b0(C),u!==null){if(d.flags|=128,x=!0,u=u.updateQueue,d.updateQueue=u,B0(d,u),By(M,!0),M.tail===null&&M.tailMode==="hidden"&&!C.alternate&&!Te)return gi(d),null}else 2*Ht()-M.renderingStartTime>z0&&g!==536870912&&(d.flags|=128,x=!0,By(M,!1),d.lanes=4194304);M.isBackwards?(C.sibling=d.child,d.child=C):(u=M.last,u!==null?u.sibling=C:d.child=C,M.last=C)}return M.tail!==null?(d=M.tail,M.rendering=d,M.tail=d.sibling,M.renderingStartTime=Ht(),d.sibling=null,u=Mn.current,ht(Mn,x?u&1|2:u&1),d):(gi(d),null);case 22:case 23:return Rl(d),wI(),x=d.memoizedState!==null,u!==null?u.memoizedState!==null!==x&&(d.flags|=8192):x&&(d.flags|=8192),x?g&536870912&&!(d.flags&128)&&(gi(d),d.subtreeFlags&6&&(d.flags|=8192)):gi(d),g=d.updateQueue,g!==null&&B0(d,g.retryQueue),g=null,u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),x=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(x=d.memoizedState.cachePool.pool),x!==g&&(d.flags|=2048),u!==null&&dt(zh),null;case 24:return g=null,u!==null&&(g=u.memoizedState.cache),d.memoizedState.cache!==g&&(d.flags|=2048),_l(An),gi(d),null;case 25:return null}throw Error(n(156,d.tag))}function u8(u,d){switch(LI(d),d.tag){case 1:return u=d.flags,u&65536?(d.flags=u&-65537|128,d):null;case 3:return _l(An),Rt(),u=d.flags,u&65536&&!(u&128)?(d.flags=u&-65537|128,d):null;case 26:case 27:case 5:return Ot(d),null;case 13:if(Rl(d),u=d.memoizedState,u!==null&&u.dehydrated!==null){if(d.alternate===null)throw Error(n(340));yy()}return u=d.flags,u&65536?(d.flags=u&-65537|128,d):null;case 19:return dt(Mn),null;case 4:return Rt(),null;case 10:return _l(d.type),null;case 22:case 23:return Rl(d),wI(),u!==null&&dt(zh),u=d.flags,u&65536?(d.flags=u&-65537|128,d):null;case 24:return _l(An),null;case 25:return null;default:return null}}function hB(u,d){switch(LI(d),d.tag){case 3:_l(An),Rt();break;case 26:case 27:case 5:Ot(d);break;case 4:Rt();break;case 13:Rl(d);break;case 19:dt(Mn);break;case 10:_l(d.type);break;case 22:case 23:Rl(d),wI(),u!==null&&dt(zh);break;case 24:_l(An)}}var h8={getCacheForType:function(u){var d=ms(An),g=d.data.get(u);return g===void 0&&(g=u(),d.data.set(u,g)),g}},d8=typeof WeakMap=="function"?WeakMap:Map,yi=0,ei=null,le=null,xe=0,ii=0,Oa=null,Ul=!1,Kp=!1,CT=!1,Hl=0,Ei=0,hu=0,Yh=0,kT=0,ho=0,Xp=0,zy=null,jr=null,LT=!1,NT=0,z0=1/0,_0=null,du=null,j0=!1,$h=null,_y=0,ET=0,OT=null,jy=0,wT=null;function wa(){if(yi&2&&xe!==0)return xe&-xe;if(R.T!==null){var u=Fp;return u!==0?u:GT()}return OR()}function dB(){ho===0&&(ho=!(xe&536870912)||Te?CR():536870912);var u=ro.current;return u!==null&&(u.flags|=32),ho}function Vs(u,d,g){(u===ei&&ii===2||u.cancelPendingCommit!==null)&&(Zp(u,0),Wl(u,xe,ho,!1)),ny(u,g),(!(yi&2)||u!==ei)&&(u===ei&&(!(yi&2)&&(Yh|=g),Ei===4&&Wl(u,xe,ho,!1)),Fr(u))}function pB(u,d,g){if(yi&6)throw Error(n(327));var x=!g&&(d&60)===0&&(d&u.expiredLanes)===0||iy(u,d),M=x?g8(u,d):zT(u,d,!0),C=x;do{if(M===0){Kp&&!x&&Wl(u,d,0,!1);break}else if(M===6)Wl(u,d,0,!Ul);else{if(g=u.current.alternate,C&&!p8(g)){M=zT(u,d,!1),C=!1;continue}if(M===2){if(C=d,u.errorRecoveryDisabledLanes&C)var P=0;else P=u.pendingLanes&-536870913,P=P!==0?P:P&536870912?536870912:0;if(P!==0){d=P;t:{var H=u;M=zy;var Q=H.current.memoizedState.isDehydrated;if(Q&&(Zp(H,P).flags|=256),P=zT(H,P,!1),P!==2){if(CT&&!Q){H.errorRecoveryDisabledLanes|=C,Yh|=C,M=4;break t}C=jr,jr=M,C!==null&&RT(C)}M=P}if(C=!1,M!==2)continue}}if(M===1){Zp(u,0),Wl(u,d,0,!0);break}t:{switch(x=u,M){case 0:case 1:throw Error(n(345));case 4:if((d&4194176)===d){Wl(x,d,ho,!Ul);break t}break;case 2:jr=null;break;case 3:case 5:break;default:throw Error(n(329))}if(x.finishedWork=g,x.finishedLanes=d,(d&62914560)===d&&(C=NT+300-Ht(),10<C)){if(Wl(x,d,ho,!Ul),Xc(x,0)!==0)break t;x.timeoutHandle=zB(fB.bind(null,x,g,jr,_0,LT,d,ho,Yh,Xp,Ul,2,-0,0),C);break t}fB(x,g,jr,_0,LT,d,ho,Yh,Xp,Ul,0,-0,0)}}break}while(!0);Fr(u)}function RT(u){jr===null?jr=u:jr.push.apply(jr,u)}function fB(u,d,g,x,M,C,P,H,Q,it,mt,Mt,ut){var gt=d.subtreeFlags;if((gt&8192||(gt&16785408)===16785408)&&(Wy={stylesheets:null,count:0,unsuspend:K8},sB(d),d=Z8(),d!==null)){u.cancelPendingCommit=d(SB.bind(null,u,g,x,M,P,H,Q,1,Mt,ut)),Wl(u,C,P,!it);return}SB(u,g,x,M,P,H,Q,mt,Mt,ut)}function p8(u){for(var d=u;;){var g=d.tag;if((g===0||g===11||g===15)&&d.flags&16384&&(g=d.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var x=0;x<g.length;x++){var M=g[x],C=M.getSnapshot;M=M.value;try{if(!La(C(),M))return!1}catch{return!1}}if(g=d.child,d.subtreeFlags&16384&&g!==null)g.return=d,d=g;else{if(d===u)break;for(;d.sibling===null;){if(d.return===null||d.return===u)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Wl(u,d,g,x){d&=~kT,d&=~Yh,u.suspendedLanes|=d,u.pingedLanes&=~d,x&&(u.warmLanes|=d),x=u.expirationTimes;for(var M=d;0<M;){var C=31-te(M),P=1<<C;x[C]=-1,M&=~P}g!==0&&LR(u,g,d)}function F0(){return yi&6?!0:(Fy(0),!1)}function PT(){if(le!==null){if(ii===0)var u=le.return;else u=le,zl=Vh=null,GI(u),_p=null,vy=0,u=le;for(;u!==null;)hB(u.alternate,u),u=u.return;le=null}}function Zp(u,d){u.finishedWork=null,u.finishedLanes=0;var g=u.timeoutHandle;g!==-1&&(u.timeoutHandle=-1,O8(g)),g=u.cancelPendingCommit,g!==null&&(u.cancelPendingCommit=null,g()),PT(),ei=u,le=g=uu(u.current,null),xe=d,ii=0,Oa=null,Ul=!1,Kp=iy(u,d),CT=!1,Xp=ho=kT=Yh=hu=Ei=0,jr=zy=null,LT=!1,d&8&&(d|=d&32);var x=u.entangledLanes;if(x!==0)for(u=u.entanglements,x&=d;0<x;){var M=31-te(x),C=1<<M;d|=u[M],x&=~C}return Hl=d,u0(),g}function gB(u,d){se=null,R.H=_r,d===xy?(d=N2(),ii=3):d===C2?(d=N2(),ii=4):ii=d===kP?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,Oa=d,le===null&&(Ei=1,N0(u,so(d,u.current)))}function yB(){var u=R.H;return R.H=_r,u===null?_r:u}function mB(){var u=R.A;return R.A=h8,u}function BT(){Ei=4,Ul||(xe&4194176)!==xe&&ro.current!==null||(Kp=!0),!(hu&134217727)&&!(Yh&134217727)||ei===null||Wl(ei,xe,ho,!1)}function zT(u,d,g){var x=yi;yi|=2;var M=yB(),C=mB();(ei!==u||xe!==d)&&(_0=null,Zp(u,d)),d=!1;var P=Ei;t:do try{if(ii!==0&&le!==null){var H=le,Q=Oa;switch(ii){case 8:PT(),P=6;break t;case 3:case 2:case 6:ro.current===null&&(d=!0);var it=ii;if(ii=0,Oa=null,qp(u,H,Q,it),g&&Kp){P=0;break t}break;default:it=ii,ii=0,Oa=null,qp(u,H,Q,it)}}f8(),P=Ei;break}catch(mt){gB(u,mt)}while(!0);return d&&u.shellSuspendCounter++,zl=Vh=null,yi=x,R.H=M,R.A=C,le===null&&(ei=null,xe=0,u0()),P}function f8(){for(;le!==null;)xB(le)}function g8(u,d){var g=yi;yi|=2;var x=yB(),M=mB();ei!==u||xe!==d?(_0=null,z0=Ht()+500,Zp(u,d)):Kp=iy(u,d);t:do try{if(ii!==0&&le!==null){d=le;var C=Oa;e:switch(ii){case 1:ii=0,Oa=null,qp(u,d,C,1);break;case 2:if(k2(C)){ii=0,Oa=null,bB(d);break}d=function(){ii===2&&ei===u&&(ii=7),Fr(u)},C.then(d,d);break t;case 3:ii=7;break t;case 4:ii=5;break t;case 7:k2(C)?(ii=0,Oa=null,bB(d)):(ii=0,Oa=null,qp(u,d,C,7));break;case 5:var P=null;switch(le.tag){case 26:P=le.memoizedState;case 5:case 27:var H=le;if(!P||KB(P)){ii=0,Oa=null;var Q=H.sibling;if(Q!==null)le=Q;else{var it=H.return;it!==null?(le=it,G0(it)):le=null}break e}}ii=0,Oa=null,qp(u,d,C,5);break;case 6:ii=0,Oa=null,qp(u,d,C,6);break;case 8:PT(),Ei=6;break t;default:throw Error(n(462))}}y8();break}catch(mt){gB(u,mt)}while(!0);return zl=Vh=null,R.H=x,R.A=M,yi=g,le!==null?0:(ei=null,xe=0,u0(),Ei)}function y8(){for(;le!==null&&!St();)xB(le)}function xB(u){var d=FP(u.alternate,u,Hl);u.memoizedProps=u.pendingProps,d===null?G0(u):le=d}function bB(u){var d=u,g=d.alternate;switch(d.tag){case 15:case 0:d=RP(g,d,d.pendingProps,d.type,void 0,xe);break;case 11:d=RP(g,d,d.pendingProps,d.type.render,d.ref,xe);break;case 5:GI(d);default:hB(g,d),d=le=lB(d,Hl),d=FP(g,d,Hl)}u.memoizedProps=u.pendingProps,d===null?G0(u):le=d}function qp(u,d,g,x){zl=Vh=null,GI(d),_p=null,vy=0;var M=d.return;try{if(s8(u,M,d,g,xe)){Ei=1,N0(u,so(g,u.current)),le=null;return}}catch(C){if(M!==null)throw le=M,C;Ei=1,N0(u,so(g,u.current)),le=null;return}d.flags&32768?(Te||x===1?u=!0:Kp||xe&536870912?u=!1:(Ul=u=!0,(x===2||x===3||x===6)&&(x=ro.current,x!==null&&x.tag===13&&(x.flags|=16384))),vB(d,u)):G0(d)}function G0(u){var d=u;do{if(d.flags&32768){vB(d,Ul);return}u=d.return;var g=c8(d.alternate,d,Hl);if(g!==null){le=g;return}if(d=d.sibling,d!==null){le=d;return}le=d=u}while(d!==null);Ei===0&&(Ei=5)}function vB(u,d){do{var g=u8(u.alternate,u);if(g!==null){g.flags&=32767,le=g;return}if(g=u.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!d&&(u=u.sibling,u!==null)){le=u;return}le=u=g}while(u!==null);Ei=6,le=null}function SB(u,d,g,x,M,C,P,H,Q,it){var mt=R.T,Mt=q.p;try{q.p=2,R.T=null,m8(u,d,g,x,Mt,M,C,P,H,Q,it)}finally{R.T=mt,q.p=Mt}}function m8(u,d,g,x,M,C,P,H){do Qp();while($h!==null);if(yi&6)throw Error(n(327));var Q=u.finishedWork;if(x=u.finishedLanes,Q===null)return null;if(u.finishedWork=null,u.finishedLanes=0,Q===u.current)throw Error(n(177));u.callbackNode=null,u.callbackPriority=0,u.cancelPendingCommit=null;var it=Q.lanes|Q.childLanes;if(it|=TI,XK(u,x,it,C,P,H),u===ei&&(le=ei=null,xe=0),!(Q.subtreeFlags&10256)&&!(Q.flags&10256)||j0||(j0=!0,ET=it,OT=g,S8(Fs,function(){return Qp(),null})),g=(Q.flags&15990)!==0,Q.subtreeFlags&15990||g?(g=R.T,R.T=null,C=q.p,q.p=2,P=yi,yi|=4,o8(u,Q),eB(Q,u),G9(XT,u.containerInfo),J0=!!KT,XT=KT=null,u.current=Q,qP(u,Q.alternate,Q),Ie(),yi=P,q.p=C,R.T=g):u.current=Q,j0?(j0=!1,$h=u,_y=x):MB(u,it),it=u.pendingLanes,it===0&&(du=null),Ft(Q.stateNode),Fr(u),d!==null)for(M=u.onRecoverableError,Q=0;Q<d.length;Q++)it=d[Q],M(it.value,{componentStack:it.stack});return _y&3&&Qp(),it=u.pendingLanes,x&4194218&&it&42?u===wT?jy++:(jy=0,wT=u):jy=0,Fy(0),null}function MB(u,d){(u.pooledCacheLanes&=d)===0&&(d=u.pooledCache,d!=null&&(u.pooledCache=null,My(d)))}function Qp(){if($h!==null){var u=$h,d=ET;ET=0;var g=ER(_y),x=R.T,M=q.p;try{if(q.p=32>g?32:g,R.T=null,$h===null)var C=!1;else{g=OT,OT=null;var P=$h,H=_y;if($h=null,_y=0,yi&6)throw Error(n(331));var Q=yi;if(yi|=4,oB(P.current),nB(P,P.current,H,g),yi=Q,Fy(0,!1),Zn&&typeof Zn.onPostCommitFiberRoot=="function")try{Zn.onPostCommitFiberRoot(wr,P)}catch{}C=!0}return C}finally{q.p=M,R.T=x,MB(u,d)}}return!1}function AB(u,d,g){d=so(g,d),d=eT(u.stateNode,d,2),u=ou(u,d,2),u!==null&&(ny(u,2),Fr(u))}function $e(u,d,g){if(u.tag===3)AB(u,u,g);else for(;d!==null;){if(d.tag===3){AB(d,u,g);break}else if(d.tag===1){var x=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(du===null||!du.has(x))){u=so(g,u),g=TP(2),x=ou(d,g,2),x!==null&&(CP(g,x,d,u),ny(x,2),Fr(x));break}}d=d.return}}function _T(u,d,g){var x=u.pingCache;if(x===null){x=u.pingCache=new d8;var M=new Set;x.set(d,M)}else M=x.get(d),M===void 0&&(M=new Set,x.set(d,M));M.has(g)||(CT=!0,M.add(g),u=x8.bind(null,u,d,g),d.then(u,u))}function x8(u,d,g){var x=u.pingCache;x!==null&&x.delete(d),u.pingedLanes|=u.suspendedLanes&g,u.warmLanes&=~g,ei===u&&(xe&g)===g&&(Ei===4||Ei===3&&(xe&62914560)===xe&&300>Ht()-NT?!(yi&2)&&Zp(u,0):kT|=g,Xp===xe&&(Xp=0)),Fr(u)}function DB(u,d){d===0&&(d=kR()),u=Qc(u,d),u!==null&&(ny(u,d),Fr(u))}function b8(u){var d=u.memoizedState,g=0;d!==null&&(g=d.retryLane),DB(u,g)}function v8(u,d){var g=0;switch(u.tag){case 13:var x=u.stateNode,M=u.memoizedState;M!==null&&(g=M.retryLane);break;case 19:x=u.stateNode;break;case 22:x=u.stateNode._retryCache;break;default:throw Error(n(314))}x!==null&&x.delete(d),DB(u,g)}function S8(u,d){return zt(u,d)}var V0=null,Jp=null,jT=!1,U0=!1,FT=!1,Kh=0;function Fr(u){u!==Jp&&u.next===null&&(Jp===null?V0=Jp=u:Jp=Jp.next=u),U0=!0,jT||(jT=!0,A8(M8))}function Fy(u,d){if(!FT&&U0){FT=!0;do for(var g=!1,x=V0;x!==null;){if(u!==0){var M=x.pendingLanes;if(M===0)var C=0;else{var P=x.suspendedLanes,H=x.pingedLanes;C=(1<<31-te(42|u)+1)-1,C&=M&~(P&~H),C=C&201326677?C&201326677|1:C?C|2:0}C!==0&&(g=!0,CB(x,C))}else C=xe,C=Xc(x,x===ei?C:0),!(C&3)||iy(x,C)||(g=!0,CB(x,C));x=x.next}while(g);FT=!1}}function M8(){U0=jT=!1;var u=0;Kh!==0&&(E8()&&(u=Kh),Kh=0);for(var d=Ht(),g=null,x=V0;x!==null;){var M=x.next,C=IB(x,d);C===0?(x.next=null,g===null?V0=M:g.next=M,M===null&&(Jp=g)):(g=x,(u!==0||C&3)&&(U0=!0)),x=M}Fy(u)}function IB(u,d){for(var g=u.suspendedLanes,x=u.pingedLanes,M=u.expirationTimes,C=u.pendingLanes&-62914561;0<C;){var P=31-te(C),H=1<<P,Q=M[P];Q===-1?(!(H&g)||H&x)&&(M[P]=KK(H,d)):Q<=d&&(u.expiredLanes|=H),C&=~H}if(d=ei,g=xe,g=Xc(u,u===d?g:0),x=u.callbackNode,g===0||u===d&&ii===2||u.cancelPendingCommit!==null)return x!==null&&x!==null&&Gt(x),u.callbackNode=null,u.callbackPriority=0;if(!(g&3)||iy(u,g)){if(d=g&-g,d===u.callbackPriority)return d;switch(x!==null&&Gt(x),ER(g)){case 2:case 8:g=gs;break;case 32:g=Fs;break;case 268435456:g=oa;break;default:g=Fs}return x=TB.bind(null,u),g=zt(g,x),u.callbackPriority=d,u.callbackNode=g,d}return x!==null&&x!==null&&Gt(x),u.callbackPriority=2,u.callbackNode=null,2}function TB(u,d){var g=u.callbackNode;if(Qp()&&u.callbackNode!==g)return null;var x=xe;return x=Xc(u,u===ei?x:0),x===0?null:(pB(u,x,d),IB(u,Ht()),u.callbackNode!=null&&u.callbackNode===g?TB.bind(null,u):null)}function CB(u,d){if(Qp())return null;pB(u,d,!0)}function A8(u){w8(function(){yi&6?zt(Fi,u):u()})}function GT(){return Kh===0&&(Kh=CR()),Kh}function kB(u){return u==null||typeof u=="symbol"||typeof u=="boolean"?null:typeof u=="function"?u:n0(""+u)}function LB(u,d){var g=d.ownerDocument.createElement("input");return g.name=d.name,g.value=d.value,u.id&&g.setAttribute("form",u.id),d.parentNode.insertBefore(g,d),u=new FormData(u),g.parentNode.removeChild(g),u}function D8(u,d,g,x,M){if(d==="submit"&&g&&g.stateNode===M){var C=kB((M[ra]||null).action),P=x.submitter;P&&(d=(d=P[ra]||null)?kB(d.formAction):P.getAttribute("formAction"),d!==null&&(C=d,P=null));var H=new r0("action","action",null,x,M);u.push({event:H,listeners:[{instance:null,listener:function(){if(x.defaultPrevented){if(Kh!==0){var Q=P?LB(M,P):new FormData(M);ZI(g,{pending:!0,data:Q,method:M.method,action:C},null,Q)}}else typeof C=="function"&&(H.preventDefault(),Q=P?LB(M,P):new FormData(M),ZI(g,{pending:!0,data:Q,method:M.method,action:C},C,Q))},currentTarget:M}]})}}for(var VT=0;VT<S2.length;VT++){var UT=S2[VT],I8=UT.toLowerCase(),T8=UT[0].toUpperCase()+UT.slice(1);qo(I8,"on"+T8)}qo(y2,"onAnimationEnd"),qo(m2,"onAnimationIteration"),qo(x2,"onAnimationStart"),qo("dblclick","onDoubleClick"),qo("focusin","onFocus"),qo("focusout","onBlur"),qo(U9,"onTransitionRun"),qo(H9,"onTransitionStart"),qo(W9,"onTransitionCancel"),qo(b2,"onTransitionEnd"),Tp("onMouseEnter",["mouseout","mouseover"]),Tp("onMouseLeave",["mouseout","mouseover"]),Tp("onPointerEnter",["pointerout","pointerover"]),Tp("onPointerLeave",["pointerout","pointerover"]),Lh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Lh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Lh("onBeforeInput",["compositionend","keypress","textInput","paste"]),Lh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Lh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Lh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gy="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),C8=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gy));function NB(u,d){d=(d&4)!==0;for(var g=0;g<u.length;g++){var x=u[g],M=x.event;x=x.listeners;t:{var C=void 0;if(d)for(var P=x.length-1;0<=P;P--){var H=x[P],Q=H.instance,it=H.currentTarget;if(H=H.listener,Q!==C&&M.isPropagationStopped())break t;C=H,M.currentTarget=it;try{C(M)}catch(mt){L0(mt)}M.currentTarget=null,C=Q}else for(P=0;P<x.length;P++){if(H=x[P],Q=H.instance,it=H.currentTarget,H=H.listener,Q!==C&&M.isPropagationStopped())break t;C=H,M.currentTarget=it;try{C(M)}catch(mt){L0(mt)}M.currentTarget=null,C=Q}}}}function ge(u,d){var g=d[aI];g===void 0&&(g=d[aI]=new Set);var x=u+"__bubble";g.has(x)||(EB(d,u,2,!1),g.add(x))}function HT(u,d,g){var x=0;d&&(x|=4),EB(g,u,x,d)}var H0="_reactListening"+Math.random().toString(36).slice(2);function WT(u){if(!u[H0]){u[H0]=!0,RR.forEach(function(g){g!=="selectionchange"&&(C8.has(g)||HT(g,!1,u),HT(g,!0,u))});var d=u.nodeType===9?u:u.ownerDocument;d===null||d[H0]||(d[H0]=!0,HT("selectionchange",!1,d))}}function EB(u,d,g,x){switch(tz(d)){case 2:var M=J8;break;case 8:M=tX;break;default:M=sC}g=M.bind(null,d,g,u),M=void 0,!pI||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(M=!0),x?M!==void 0?u.addEventListener(d,g,{capture:!0,passive:M}):u.addEventListener(d,g,!0):M!==void 0?u.addEventListener(d,g,{passive:M}):u.addEventListener(d,g,!1)}function YT(u,d,g,x,M){var C=x;if(!(d&1)&&!(d&2)&&x!==null)t:for(;;){if(x===null)return;var P=x.tag;if(P===3||P===4){var H=x.stateNode.containerInfo;if(H===M||H.nodeType===8&&H.parentNode===M)break;if(P===4)for(P=x.return;P!==null;){var Q=P.tag;if((Q===3||Q===4)&&(Q=P.stateNode.containerInfo,Q===M||Q.nodeType===8&&Q.parentNode===M))return;P=P.return}for(;H!==null;){if(P=kh(H),P===null)return;if(Q=P.tag,Q===5||Q===6||Q===26||Q===27){x=C=P;continue t}H=H.parentNode}}x=x.return}YR(function(){var it=C,mt=hI(g),Mt=[];t:{var ut=v2.get(u);if(ut!==void 0){var gt=r0,_t=u;switch(u){case"keypress":if(a0(g)===0)break t;case"keydown":case"keyup":gt=v9;break;case"focusin":_t="focus",gt=mI;break;case"focusout":_t="blur",gt=mI;break;case"beforeblur":case"afterblur":gt=mI;break;case"click":if(g.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":gt=XR;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":gt=l9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":gt=A9;break;case y2:case m2:case x2:gt=h9;break;case b2:gt=I9;break;case"scroll":case"scrollend":gt=o9;break;case"wheel":gt=C9;break;case"copy":case"cut":case"paste":gt=p9;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":gt=qR;break;case"toggle":case"beforetoggle":gt=L9}var Jt=(d&4)!==0,Oi=!Jt&&(u==="scroll"||u==="scrollend"),at=Jt?ut!==null?ut+"Capture":null:ut;Jt=[];for(var et=it,lt;et!==null;){var xt=et;if(lt=xt.stateNode,xt=xt.tag,xt!==5&&xt!==26&&xt!==27||lt===null||at===null||(xt=oy(et,at),xt!=null&&Jt.push(Vy(et,xt,lt))),Oi)break;et=et.return}0<Jt.length&&(ut=new gt(ut,_t,null,g,mt),Mt.push({event:ut,listeners:Jt}))}}if(!(d&7)){t:{if(ut=u==="mouseover"||u==="pointerover",gt=u==="mouseout"||u==="pointerout",ut&&g!==uI&&(_t=g.relatedTarget||g.fromElement)&&(kh(_t)||_t[Ap]))break t;if((gt||ut)&&(ut=mt.window===mt?mt:(ut=mt.ownerDocument)?ut.defaultView||ut.parentWindow:window,gt?(_t=g.relatedTarget||g.toElement,gt=it,_t=_t?kh(_t):null,_t!==null&&(Oi=$(_t),Jt=_t.tag,_t!==Oi||Jt!==5&&Jt!==27&&Jt!==6)&&(_t=null)):(gt=null,_t=it),gt!==_t)){if(Jt=XR,xt="onMouseLeave",at="onMouseEnter",et="mouse",(u==="pointerout"||u==="pointerover")&&(Jt=qR,xt="onPointerLeave",at="onPointerEnter",et="pointer"),Oi=gt==null?ut:ay(gt),lt=_t==null?ut:ay(_t),ut=new Jt(xt,et+"leave",gt,g,mt),ut.target=Oi,ut.relatedTarget=lt,xt=null,kh(mt)===it&&(Jt=new Jt(at,et+"enter",_t,g,mt),Jt.target=lt,Jt.relatedTarget=Oi,xt=Jt),Oi=xt,gt&&_t)e:{for(Jt=gt,at=_t,et=0,lt=Jt;lt;lt=tf(lt))et++;for(lt=0,xt=at;xt;xt=tf(xt))lt++;for(;0<et-lt;)Jt=tf(Jt),et--;for(;0<lt-et;)at=tf(at),lt--;for(;et--;){if(Jt===at||at!==null&&Jt===at.alternate)break e;Jt=tf(Jt),at=tf(at)}Jt=null}else Jt=null;gt!==null&&OB(Mt,ut,gt,Jt,!1),_t!==null&&Oi!==null&&OB(Mt,Oi,_t,Jt,!0)}}t:{if(ut=it?ay(it):window,gt=ut.nodeName&&ut.nodeName.toLowerCase(),gt==="select"||gt==="input"&&ut.type==="file")var Pt=a2;else if(n2(ut))if(o2)Pt=j9;else{Pt=z9;var oe=B9}else gt=ut.nodeName,!gt||gt.toLowerCase()!=="input"||ut.type!=="checkbox"&&ut.type!=="radio"?it&&cI(it.elementType)&&(Pt=a2):Pt=_9;if(Pt&&(Pt=Pt(u,it))){s2(Mt,Pt,g,mt);break t}oe&&oe(u,ut,it),u==="focusout"&&it&&ut.type==="number"&&it.memoizedProps.value!=null&&lI(ut,"number",ut.value)}switch(oe=it?ay(it):window,u){case"focusin":(n2(oe)||oe.contentEditable==="true")&&(Op=oe,AI=it,fy=null);break;case"focusout":fy=AI=Op=null;break;case"mousedown":DI=!0;break;case"contextmenu":case"mouseup":case"dragend":DI=!1,f2(Mt,g,mt);break;case"selectionchange":if(V9)break;case"keydown":case"keyup":f2(Mt,g,mt)}var Vt;if(bI)t:{switch(u){case"compositionstart":var Yt="onCompositionStart";break t;case"compositionend":Yt="onCompositionEnd";break t;case"compositionupdate":Yt="onCompositionUpdate";break t}Yt=void 0}else Ep?e2(u,g)&&(Yt="onCompositionEnd"):u==="keydown"&&g.keyCode===229&&(Yt="onCompositionStart");Yt&&(QR&&g.locale!=="ko"&&(Ep||Yt!=="onCompositionStart"?Yt==="onCompositionEnd"&&Ep&&(Vt=$R()):(qc=mt,fI="value"in qc?qc.value:qc.textContent,Ep=!0)),oe=W0(it,Yt),0<oe.length&&(Yt=new ZR(Yt,u,null,g,mt),Mt.push({event:Yt,listeners:oe}),Vt?Yt.data=Vt:(Vt=i2(g),Vt!==null&&(Yt.data=Vt)))),(Vt=E9?O9(u,g):w9(u,g))&&(Yt=W0(it,"onBeforeInput"),0<Yt.length&&(oe=new ZR("onBeforeInput","beforeinput",null,g,mt),Mt.push({event:oe,listeners:Yt}),oe.data=Vt)),D8(Mt,u,it,g,mt)}NB(Mt,d)})}function Vy(u,d,g){return{instance:u,listener:d,currentTarget:g}}function W0(u,d){for(var g=d+"Capture",x=[];u!==null;){var M=u,C=M.stateNode;M=M.tag,M!==5&&M!==26&&M!==27||C===null||(M=oy(u,g),M!=null&&x.unshift(Vy(u,M,C)),M=oy(u,d),M!=null&&x.push(Vy(u,M,C))),u=u.return}return x}function tf(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5&&u.tag!==27);return u||null}function OB(u,d,g,x,M){for(var C=d._reactName,P=[];g!==null&&g!==x;){var H=g,Q=H.alternate,it=H.stateNode;if(H=H.tag,Q!==null&&Q===x)break;H!==5&&H!==26&&H!==27||it===null||(Q=it,M?(it=oy(g,C),it!=null&&P.unshift(Vy(g,it,Q))):M||(it=oy(g,C),it!=null&&P.push(Vy(g,it,Q)))),g=g.return}P.length!==0&&u.push({event:d,listeners:P})}var k8=/\r\n?/g,L8=/\u0000|\uFFFD/g;function wB(u){return(typeof u=="string"?u:""+u).replace(k8,`
`).replace(L8,"")}function RB(u,d){return d=wB(d),wB(u)===d}function Y0(){}function Ge(u,d,g,x,M,C){switch(g){case"children":typeof x=="string"?d==="body"||d==="textarea"&&x===""||kp(u,x):(typeof x=="number"||typeof x=="bigint")&&d!=="body"&&kp(u,""+x);break;case"className":t0(u,"class",x);break;case"tabIndex":t0(u,"tabindex",x);break;case"dir":case"role":case"viewBox":case"width":case"height":t0(u,g,x);break;case"style":HR(u,x,C);break;case"data":if(d!=="object"){t0(u,"data",x);break}case"src":case"href":if(x===""&&(d!=="a"||g!=="href")){u.removeAttribute(g);break}if(x==null||typeof x=="function"||typeof x=="symbol"||typeof x=="boolean"){u.removeAttribute(g);break}x=n0(""+x),u.setAttribute(g,x);break;case"action":case"formAction":if(typeof x=="function"){u.setAttribute(g,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(g==="formAction"?(d!=="input"&&Ge(u,d,"name",M.name,M,null),Ge(u,d,"formEncType",M.formEncType,M,null),Ge(u,d,"formMethod",M.formMethod,M,null),Ge(u,d,"formTarget",M.formTarget,M,null)):(Ge(u,d,"encType",M.encType,M,null),Ge(u,d,"method",M.method,M,null),Ge(u,d,"target",M.target,M,null)));if(x==null||typeof x=="symbol"||typeof x=="boolean"){u.removeAttribute(g);break}x=n0(""+x),u.setAttribute(g,x);break;case"onClick":x!=null&&(u.onclick=Y0);break;case"onScroll":x!=null&&ge("scroll",u);break;case"onScrollEnd":x!=null&&ge("scrollend",u);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(n(61));if(g=x.__html,g!=null){if(M.children!=null)throw Error(n(60));u.innerHTML=g}}break;case"multiple":u.multiple=x&&typeof x!="function"&&typeof x!="symbol";break;case"muted":u.muted=x&&typeof x!="function"&&typeof x!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(x==null||typeof x=="function"||typeof x=="boolean"||typeof x=="symbol"){u.removeAttribute("xlink:href");break}g=n0(""+x),u.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":x!=null&&typeof x!="function"&&typeof x!="symbol"?u.setAttribute(g,""+x):u.removeAttribute(g);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":x&&typeof x!="function"&&typeof x!="symbol"?u.setAttribute(g,""):u.removeAttribute(g);break;case"capture":case"download":x===!0?u.setAttribute(g,""):x!==!1&&x!=null&&typeof x!="function"&&typeof x!="symbol"?u.setAttribute(g,x):u.removeAttribute(g);break;case"cols":case"rows":case"size":case"span":x!=null&&typeof x!="function"&&typeof x!="symbol"&&!isNaN(x)&&1<=x?u.setAttribute(g,x):u.removeAttribute(g);break;case"rowSpan":case"start":x==null||typeof x=="function"||typeof x=="symbol"||isNaN(x)?u.removeAttribute(g):u.setAttribute(g,x);break;case"popover":ge("beforetoggle",u),ge("toggle",u),Jb(u,"popover",x);break;case"xlinkActuate":El(u,"http://www.w3.org/1999/xlink","xlink:actuate",x);break;case"xlinkArcrole":El(u,"http://www.w3.org/1999/xlink","xlink:arcrole",x);break;case"xlinkRole":El(u,"http://www.w3.org/1999/xlink","xlink:role",x);break;case"xlinkShow":El(u,"http://www.w3.org/1999/xlink","xlink:show",x);break;case"xlinkTitle":El(u,"http://www.w3.org/1999/xlink","xlink:title",x);break;case"xlinkType":El(u,"http://www.w3.org/1999/xlink","xlink:type",x);break;case"xmlBase":El(u,"http://www.w3.org/XML/1998/namespace","xml:base",x);break;case"xmlLang":El(u,"http://www.w3.org/XML/1998/namespace","xml:lang",x);break;case"xmlSpace":El(u,"http://www.w3.org/XML/1998/namespace","xml:space",x);break;case"is":Jb(u,"is",x);break;case"innerText":case"textContent":break;default:(!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(g=s9.get(g)||g,Jb(u,g,x))}}function $T(u,d,g,x,M,C){switch(g){case"style":HR(u,x,C);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(n(61));if(g=x.__html,g!=null){if(M.children!=null)throw Error(n(60));u.innerHTML=g}}break;case"children":typeof x=="string"?kp(u,x):(typeof x=="number"||typeof x=="bigint")&&kp(u,""+x);break;case"onScroll":x!=null&&ge("scroll",u);break;case"onScrollEnd":x!=null&&ge("scrollend",u);break;case"onClick":x!=null&&(u.onclick=Y0);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!PR.hasOwnProperty(g))t:{if(g[0]==="o"&&g[1]==="n"&&(M=g.endsWith("Capture"),d=g.slice(2,M?g.length-7:void 0),C=u[ra]||null,C=C!=null?C[g]:null,typeof C=="function"&&u.removeEventListener(d,C,M),typeof x=="function")){typeof C!="function"&&C!==null&&(g in u?u[g]=null:u.hasAttribute(g)&&u.removeAttribute(g)),u.addEventListener(d,x,M);break t}g in u?u[g]=x:x===!0?u.setAttribute(g,""):Jb(u,g,x)}}}function Jn(u,d,g){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ge("error",u),ge("load",u);var x=!1,M=!1,C;for(C in g)if(g.hasOwnProperty(C)){var P=g[C];if(P!=null)switch(C){case"src":x=!0;break;case"srcSet":M=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,d));default:Ge(u,d,C,P,g,null)}}M&&Ge(u,d,"srcSet",g.srcSet,g,null),x&&Ge(u,d,"src",g.src,g,null);return;case"input":ge("invalid",u);var H=C=P=M=null,Q=null,it=null;for(x in g)if(g.hasOwnProperty(x)){var mt=g[x];if(mt!=null)switch(x){case"name":M=mt;break;case"type":P=mt;break;case"checked":Q=mt;break;case"defaultChecked":it=mt;break;case"value":C=mt;break;case"defaultValue":H=mt;break;case"children":case"dangerouslySetInnerHTML":if(mt!=null)throw Error(n(137,d));break;default:Ge(u,d,x,mt,g,null)}}FR(u,C,H,Q,it,P,M,!1),e0(u);return;case"select":ge("invalid",u),x=P=C=null;for(M in g)if(g.hasOwnProperty(M)&&(H=g[M],H!=null))switch(M){case"value":C=H;break;case"defaultValue":P=H;break;case"multiple":x=H;default:Ge(u,d,M,H,g,null)}d=C,g=P,u.multiple=!!x,d!=null?Cp(u,!!x,d,!1):g!=null&&Cp(u,!!x,g,!0);return;case"textarea":ge("invalid",u),C=M=x=null;for(P in g)if(g.hasOwnProperty(P)&&(H=g[P],H!=null))switch(P){case"value":x=H;break;case"defaultValue":M=H;break;case"children":C=H;break;case"dangerouslySetInnerHTML":if(H!=null)throw Error(n(91));break;default:Ge(u,d,P,H,g,null)}VR(u,x,M,C),e0(u);return;case"option":for(Q in g)if(g.hasOwnProperty(Q)&&(x=g[Q],x!=null))switch(Q){case"selected":u.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:Ge(u,d,Q,x,g,null)}return;case"dialog":ge("cancel",u),ge("close",u);break;case"iframe":case"object":ge("load",u);break;case"video":case"audio":for(x=0;x<Gy.length;x++)ge(Gy[x],u);break;case"image":ge("error",u),ge("load",u);break;case"details":ge("toggle",u);break;case"embed":case"source":case"link":ge("error",u),ge("load",u);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(it in g)if(g.hasOwnProperty(it)&&(x=g[it],x!=null))switch(it){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,d));default:Ge(u,d,it,x,g,null)}return;default:if(cI(d)){for(mt in g)g.hasOwnProperty(mt)&&(x=g[mt],x!==void 0&&$T(u,d,mt,x,g,void 0));return}}for(H in g)g.hasOwnProperty(H)&&(x=g[H],x!=null&&Ge(u,d,H,x,g,null))}function N8(u,d,g,x){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var M=null,C=null,P=null,H=null,Q=null,it=null,mt=null;for(gt in g){var Mt=g[gt];if(g.hasOwnProperty(gt)&&Mt!=null)switch(gt){case"checked":break;case"value":break;case"defaultValue":Q=Mt;default:x.hasOwnProperty(gt)||Ge(u,d,gt,null,x,Mt)}}for(var ut in x){var gt=x[ut];if(Mt=g[ut],x.hasOwnProperty(ut)&&(gt!=null||Mt!=null))switch(ut){case"type":C=gt;break;case"name":M=gt;break;case"checked":it=gt;break;case"defaultChecked":mt=gt;break;case"value":P=gt;break;case"defaultValue":H=gt;break;case"children":case"dangerouslySetInnerHTML":if(gt!=null)throw Error(n(137,d));break;default:gt!==Mt&&Ge(u,d,ut,gt,x,Mt)}}rI(u,P,H,Q,it,mt,C,M);return;case"select":gt=P=H=ut=null;for(C in g)if(Q=g[C],g.hasOwnProperty(C)&&Q!=null)switch(C){case"value":break;case"multiple":gt=Q;default:x.hasOwnProperty(C)||Ge(u,d,C,null,x,Q)}for(M in x)if(C=x[M],Q=g[M],x.hasOwnProperty(M)&&(C!=null||Q!=null))switch(M){case"value":ut=C;break;case"defaultValue":H=C;break;case"multiple":P=C;default:C!==Q&&Ge(u,d,M,C,x,Q)}d=H,g=P,x=gt,ut!=null?Cp(u,!!g,ut,!1):!!x!=!!g&&(d!=null?Cp(u,!!g,d,!0):Cp(u,!!g,g?[]:"",!1));return;case"textarea":gt=ut=null;for(H in g)if(M=g[H],g.hasOwnProperty(H)&&M!=null&&!x.hasOwnProperty(H))switch(H){case"value":break;case"children":break;default:Ge(u,d,H,null,x,M)}for(P in x)if(M=x[P],C=g[P],x.hasOwnProperty(P)&&(M!=null||C!=null))switch(P){case"value":ut=M;break;case"defaultValue":gt=M;break;case"children":break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(n(91));break;default:M!==C&&Ge(u,d,P,M,x,C)}GR(u,ut,gt);return;case"option":for(var _t in g)if(ut=g[_t],g.hasOwnProperty(_t)&&ut!=null&&!x.hasOwnProperty(_t))switch(_t){case"selected":u.selected=!1;break;default:Ge(u,d,_t,null,x,ut)}for(Q in x)if(ut=x[Q],gt=g[Q],x.hasOwnProperty(Q)&&ut!==gt&&(ut!=null||gt!=null))switch(Q){case"selected":u.selected=ut&&typeof ut!="function"&&typeof ut!="symbol";break;default:Ge(u,d,Q,ut,x,gt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Jt in g)ut=g[Jt],g.hasOwnProperty(Jt)&&ut!=null&&!x.hasOwnProperty(Jt)&&Ge(u,d,Jt,null,x,ut);for(it in x)if(ut=x[it],gt=g[it],x.hasOwnProperty(it)&&ut!==gt&&(ut!=null||gt!=null))switch(it){case"children":case"dangerouslySetInnerHTML":if(ut!=null)throw Error(n(137,d));break;default:Ge(u,d,it,ut,x,gt)}return;default:if(cI(d)){for(var Oi in g)ut=g[Oi],g.hasOwnProperty(Oi)&&ut!==void 0&&!x.hasOwnProperty(Oi)&&$T(u,d,Oi,void 0,x,ut);for(mt in x)ut=x[mt],gt=g[mt],!x.hasOwnProperty(mt)||ut===gt||ut===void 0&&gt===void 0||$T(u,d,mt,ut,x,gt);return}}for(var at in g)ut=g[at],g.hasOwnProperty(at)&&ut!=null&&!x.hasOwnProperty(at)&&Ge(u,d,at,null,x,ut);for(Mt in x)ut=x[Mt],gt=g[Mt],!x.hasOwnProperty(Mt)||ut===gt||ut==null&&gt==null||Ge(u,d,Mt,ut,x,gt)}var KT=null,XT=null;function $0(u){return u.nodeType===9?u:u.ownerDocument}function PB(u){switch(u){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function BB(u,d){if(u===0)switch(d){case"svg":return 1;case"math":return 2;default:return 0}return u===1&&d==="foreignObject"?0:u}function ZT(u,d){return u==="textarea"||u==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.children=="bigint"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var qT=null;function E8(){var u=window.event;return u&&u.type==="popstate"?u===qT?!1:(qT=u,!0):(qT=null,!1)}var zB=typeof setTimeout=="function"?setTimeout:void 0,O8=typeof clearTimeout=="function"?clearTimeout:void 0,_B=typeof Promise=="function"?Promise:void 0,w8=typeof queueMicrotask=="function"?queueMicrotask:typeof _B<"u"?function(u){return _B.resolve(null).then(u).catch(R8)}:zB;function R8(u){setTimeout(function(){throw u})}function QT(u,d){var g=d,x=0;do{var M=g.nextSibling;if(u.removeChild(g),M&&M.nodeType===8)if(g=M.data,g==="/$"){if(x===0){u.removeChild(M),Zy(d);return}x--}else g!=="$"&&g!=="$?"&&g!=="$!"||x++;g=M}while(g);Zy(d)}function JT(u){var d=u.firstChild;for(d&&d.nodeType===10&&(d=d.nextSibling);d;){var g=d;switch(d=d.nextSibling,g.nodeName){case"HTML":case"HEAD":case"BODY":JT(g),oI(g);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(g.rel.toLowerCase()==="stylesheet")continue}u.removeChild(g)}}function P8(u,d,g,x){for(;u.nodeType===1;){var M=g;if(u.nodeName.toLowerCase()!==d.toLowerCase()){if(!x&&(u.nodeName!=="INPUT"||u.type!=="hidden"))break}else if(x){if(!u[sy])switch(d){case"meta":if(!u.hasAttribute("itemprop"))break;return u;case"link":if(C=u.getAttribute("rel"),C==="stylesheet"&&u.hasAttribute("data-precedence"))break;if(C!==M.rel||u.getAttribute("href")!==(M.href==null?null:M.href)||u.getAttribute("crossorigin")!==(M.crossOrigin==null?null:M.crossOrigin)||u.getAttribute("title")!==(M.title==null?null:M.title))break;return u;case"style":if(u.hasAttribute("data-precedence"))break;return u;case"script":if(C=u.getAttribute("src"),(C!==(M.src==null?null:M.src)||u.getAttribute("type")!==(M.type==null?null:M.type)||u.getAttribute("crossorigin")!==(M.crossOrigin==null?null:M.crossOrigin))&&C&&u.hasAttribute("async")&&!u.hasAttribute("itemprop"))break;return u;default:return u}}else if(d==="input"&&u.type==="hidden"){var C=M.name==null?null:""+M.name;if(M.type==="hidden"&&u.getAttribute("name")===C)return u}else return u;if(u=tr(u.nextSibling),u===null)break}return null}function B8(u,d,g){if(d==="")return null;for(;u.nodeType!==3;)if((u.nodeType!==1||u.nodeName!=="INPUT"||u.type!=="hidden")&&!g||(u=tr(u.nextSibling),u===null))return null;return u}function tr(u){for(;u!=null;u=u.nextSibling){var d=u.nodeType;if(d===1||d===3)break;if(d===8){if(d=u.data,d==="$"||d==="$!"||d==="$?"||d==="F!"||d==="F")break;if(d==="/$")return null}}return u}function jB(u){u=u.previousSibling;for(var d=0;u;){if(u.nodeType===8){var g=u.data;if(g==="$"||g==="$!"||g==="$?"){if(d===0)return u;d--}else g==="/$"&&d++}u=u.previousSibling}return null}function FB(u,d,g){switch(d=$0(g),u){case"html":if(u=d.documentElement,!u)throw Error(n(452));return u;case"head":if(u=d.head,!u)throw Error(n(453));return u;case"body":if(u=d.body,!u)throw Error(n(454));return u;default:throw Error(n(451))}}var po=new Map,GB=new Set;function K0(u){return typeof u.getRootNode=="function"?u.getRootNode():u.ownerDocument}var Yl=q.d;q.d={f:z8,r:_8,D:j8,C:F8,L:G8,m:V8,X:H8,S:U8,M:W8};function z8(){var u=Yl.f(),d=F0();return u||d}function _8(u){var d=Dp(u);d!==null&&d.tag===5&&d.type==="form"?fP(d):Yl.r(u)}var ef=typeof document>"u"?null:document;function VB(u,d,g){var x=ef;if(x&&typeof d=="string"&&d){var M=io(d);M='link[rel="'+u+'"][href="'+M+'"]',typeof g=="string"&&(M+='[crossorigin="'+g+'"]'),GB.has(M)||(GB.add(M),u={rel:u,crossOrigin:g,href:d},x.querySelector(M)===null&&(d=x.createElement("link"),Jn(d,"link",u),Pn(d),x.head.appendChild(d)))}}function j8(u){Yl.D(u),VB("dns-prefetch",u,null)}function F8(u,d){Yl.C(u,d),VB("preconnect",u,d)}function G8(u,d,g){Yl.L(u,d,g);var x=ef;if(x&&u&&d){var M='link[rel="preload"][as="'+io(d)+'"]';d==="image"&&g&&g.imageSrcSet?(M+='[imagesrcset="'+io(g.imageSrcSet)+'"]',typeof g.imageSizes=="string"&&(M+='[imagesizes="'+io(g.imageSizes)+'"]')):M+='[href="'+io(u)+'"]';var C=M;switch(d){case"style":C=nf(u);break;case"script":C=sf(u)}po.has(C)||(u=L({rel:"preload",href:d==="image"&&g&&g.imageSrcSet?void 0:u,as:d},g),po.set(C,u),x.querySelector(M)!==null||d==="style"&&x.querySelector(Uy(C))||d==="script"&&x.querySelector(Hy(C))||(d=x.createElement("link"),Jn(d,"link",u),Pn(d),x.head.appendChild(d)))}}function V8(u,d){Yl.m(u,d);var g=ef;if(g&&u){var x=d&&typeof d.as=="string"?d.as:"script",M='link[rel="modulepreload"][as="'+io(x)+'"][href="'+io(u)+'"]',C=M;switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=sf(u)}if(!po.has(C)&&(u=L({rel:"modulepreload",href:u},d),po.set(C,u),g.querySelector(M)===null)){switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(g.querySelector(Hy(C)))return}x=g.createElement("link"),Jn(x,"link",u),Pn(x),g.head.appendChild(x)}}}function U8(u,d,g){Yl.S(u,d,g);var x=ef;if(x&&u){var M=Ip(x).hoistableStyles,C=nf(u);d=d||"default";var P=M.get(C);if(!P){var H={loading:0,preload:null};if(P=x.querySelector(Uy(C)))H.loading=5;else{u=L({rel:"stylesheet",href:u,"data-precedence":d},g),(g=po.get(C))&&tC(u,g);var Q=P=x.createElement("link");Pn(Q),Jn(Q,"link",u),Q._p=new Promise(function(it,mt){Q.onload=it,Q.onerror=mt}),Q.addEventListener("load",function(){H.loading|=1}),Q.addEventListener("error",function(){H.loading|=2}),H.loading|=4,X0(P,d,x)}P={type:"stylesheet",instance:P,count:1,state:H},M.set(C,P)}}}function H8(u,d){Yl.X(u,d);var g=ef;if(g&&u){var x=Ip(g).hoistableScripts,M=sf(u),C=x.get(M);C||(C=g.querySelector(Hy(M)),C||(u=L({src:u,async:!0},d),(d=po.get(M))&&eC(u,d),C=g.createElement("script"),Pn(C),Jn(C,"link",u),g.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},x.set(M,C))}}function W8(u,d){Yl.M(u,d);var g=ef;if(g&&u){var x=Ip(g).hoistableScripts,M=sf(u),C=x.get(M);C||(C=g.querySelector(Hy(M)),C||(u=L({src:u,async:!0,type:"module"},d),(d=po.get(M))&&eC(u,d),C=g.createElement("script"),Pn(C),Jn(C,"link",u),g.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},x.set(M,C))}}function UB(u,d,g,x){var M=(M=vt.current)?K0(M):null;if(!M)throw Error(n(446));switch(u){case"meta":case"title":return null;case"style":return typeof g.precedence=="string"&&typeof g.href=="string"?(d=nf(g.href),g=Ip(M).hoistableStyles,x=g.get(d),x||(x={type:"style",instance:null,count:0,state:null},g.set(d,x)),x):{type:"void",instance:null,count:0,state:null};case"link":if(g.rel==="stylesheet"&&typeof g.href=="string"&&typeof g.precedence=="string"){u=nf(g.href);var C=Ip(M).hoistableStyles,P=C.get(u);if(P||(M=M.ownerDocument||M,P={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(u,P),(C=M.querySelector(Uy(u)))&&!C._p&&(P.instance=C,P.state.loading=5),po.has(u)||(g={rel:"preload",as:"style",href:g.href,crossOrigin:g.crossOrigin,integrity:g.integrity,media:g.media,hrefLang:g.hrefLang,referrerPolicy:g.referrerPolicy},po.set(u,g),C||Y8(M,u,g,P.state))),d&&x===null)throw Error(n(528,""));return P}if(d&&x!==null)throw Error(n(529,""));return null;case"script":return d=g.async,g=g.src,typeof g=="string"&&d&&typeof d!="function"&&typeof d!="symbol"?(d=sf(g),g=Ip(M).hoistableScripts,x=g.get(d),x||(x={type:"script",instance:null,count:0,state:null},g.set(d,x)),x):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,u))}}function nf(u){return'href="'+io(u)+'"'}function Uy(u){return'link[rel="stylesheet"]['+u+"]"}function HB(u){return L({},u,{"data-precedence":u.precedence,precedence:null})}function Y8(u,d,g,x){u.querySelector('link[rel="preload"][as="style"]['+d+"]")?x.loading=1:(d=u.createElement("link"),x.preload=d,d.addEventListener("load",function(){return x.loading|=1}),d.addEventListener("error",function(){return x.loading|=2}),Jn(d,"link",g),Pn(d),u.head.appendChild(d))}function sf(u){return'[src="'+io(u)+'"]'}function Hy(u){return"script[async]"+u}function WB(u,d,g){if(d.count++,d.instance===null)switch(d.type){case"style":var x=u.querySelector('style[data-href~="'+io(g.href)+'"]');if(x)return d.instance=x,Pn(x),x;var M=L({},g,{"data-href":g.href,"data-precedence":g.precedence,href:null,precedence:null});return x=(u.ownerDocument||u).createElement("style"),Pn(x),Jn(x,"style",M),X0(x,g.precedence,u),d.instance=x;case"stylesheet":M=nf(g.href);var C=u.querySelector(Uy(M));if(C)return d.state.loading|=4,d.instance=C,Pn(C),C;x=HB(g),(M=po.get(M))&&tC(x,M),C=(u.ownerDocument||u).createElement("link"),Pn(C);var P=C;return P._p=new Promise(function(H,Q){P.onload=H,P.onerror=Q}),Jn(C,"link",x),d.state.loading|=4,X0(C,g.precedence,u),d.instance=C;case"script":return C=sf(g.src),(M=u.querySelector(Hy(C)))?(d.instance=M,Pn(M),M):(x=g,(M=po.get(C))&&(x=L({},g),eC(x,M)),u=u.ownerDocument||u,M=u.createElement("script"),Pn(M),Jn(M,"link",x),u.head.appendChild(M),d.instance=M);case"void":return null;default:throw Error(n(443,d.type))}else d.type==="stylesheet"&&!(d.state.loading&4)&&(x=d.instance,d.state.loading|=4,X0(x,g.precedence,u));return d.instance}function X0(u,d,g){for(var x=g.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),M=x.length?x[x.length-1]:null,C=M,P=0;P<x.length;P++){var H=x[P];if(H.dataset.precedence===d)C=H;else if(C!==M)break}C?C.parentNode.insertBefore(u,C.nextSibling):(d=g.nodeType===9?g.head:g,d.insertBefore(u,d.firstChild))}function tC(u,d){u.crossOrigin==null&&(u.crossOrigin=d.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=d.referrerPolicy),u.title==null&&(u.title=d.title)}function eC(u,d){u.crossOrigin==null&&(u.crossOrigin=d.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=d.referrerPolicy),u.integrity==null&&(u.integrity=d.integrity)}var Z0=null;function YB(u,d,g){if(Z0===null){var x=new Map,M=Z0=new Map;M.set(g,x)}else M=Z0,x=M.get(g),x||(x=new Map,M.set(g,x));if(x.has(u))return x;for(x.set(u,null),g=g.getElementsByTagName(u),M=0;M<g.length;M++){var C=g[M];if(!(C[sy]||C[ys]||u==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var P=C.getAttribute(d)||"";P=u+P;var H=x.get(P);H?H.push(C):x.set(P,[C])}}return x}function $B(u,d,g){u=u.ownerDocument||u,u.head.insertBefore(g,d==="title"?u.querySelector("head > title"):null)}function $8(u,d,g){if(g===1||d.itemProp!=null)return!1;switch(u){case"meta":case"title":return!0;case"style":if(typeof d.precedence!="string"||typeof d.href!="string"||d.href==="")break;return!0;case"link":if(typeof d.rel!="string"||typeof d.href!="string"||d.href===""||d.onLoad||d.onError)break;switch(d.rel){case"stylesheet":return u=d.disabled,typeof d.precedence=="string"&&u==null;default:return!0}case"script":if(d.async&&typeof d.async!="function"&&typeof d.async!="symbol"&&!d.onLoad&&!d.onError&&d.src&&typeof d.src=="string")return!0}return!1}function KB(u){return!(u.type==="stylesheet"&&!(u.state.loading&3))}var Wy=null;function K8(){}function X8(u,d,g){if(Wy===null)throw Error(n(475));var x=Wy;if(d.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&!(d.state.loading&4)){if(d.instance===null){var M=nf(g.href),C=u.querySelector(Uy(M));if(C){u=C._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(x.count++,x=q0.bind(x),u.then(x,x)),d.state.loading|=4,d.instance=C,Pn(C);return}C=u.ownerDocument||u,g=HB(g),(M=po.get(M))&&tC(g,M),C=C.createElement("link"),Pn(C);var P=C;P._p=new Promise(function(H,Q){P.onload=H,P.onerror=Q}),Jn(C,"link",g),d.instance=C}x.stylesheets===null&&(x.stylesheets=new Map),x.stylesheets.set(d,u),(u=d.state.preload)&&!(d.state.loading&3)&&(x.count++,d=q0.bind(x),u.addEventListener("load",d),u.addEventListener("error",d))}}function Z8(){if(Wy===null)throw Error(n(475));var u=Wy;return u.stylesheets&&u.count===0&&iC(u,u.stylesheets),0<u.count?function(d){var g=setTimeout(function(){if(u.stylesheets&&iC(u,u.stylesheets),u.unsuspend){var x=u.unsuspend;u.unsuspend=null,x()}},6e4);return u.unsuspend=d,function(){u.unsuspend=null,clearTimeout(g)}}:null}function q0(){if(this.count--,this.count===0){if(this.stylesheets)iC(this,this.stylesheets);else if(this.unsuspend){var u=this.unsuspend;this.unsuspend=null,u()}}}var Q0=null;function iC(u,d){u.stylesheets=null,u.unsuspend!==null&&(u.count++,Q0=new Map,d.forEach(q8,u),Q0=null,q0.call(u))}function q8(u,d){if(!(d.state.loading&4)){var g=Q0.get(u);if(g)var x=g.get(null);else{g=new Map,Q0.set(u,g);for(var M=u.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<M.length;C++){var P=M[C];(P.nodeName==="LINK"||P.getAttribute("media")!=="not all")&&(g.set(P.dataset.precedence,P),x=P)}x&&g.set(null,x)}M=d.instance,P=M.getAttribute("data-precedence"),C=g.get(P)||x,C===x&&g.set(null,M),g.set(P,M),this.count++,x=q0.bind(this),M.addEventListener("load",x),M.addEventListener("error",x),C?C.parentNode.insertBefore(M,C.nextSibling):(u=u.nodeType===9?u.head:u,u.insertBefore(M,u.firstChild)),d.state.loading|=4}}var Yy={$$typeof:y,Provider:null,Consumer:null,_currentValue:nt,_currentValue2:nt,_threadCount:0};function Q8(u,d,g,x,M,C,P,H){this.tag=1,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=sI(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sI(0),this.hiddenUpdates=sI(null),this.identifierPrefix=x,this.onUncaughtError=M,this.onCaughtError=C,this.onRecoverableError=P,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function XB(u,d,g,x,M,C,P,H,Q,it,mt,Mt){return u=new Q8(u,d,g,P,H,Q,it,Mt),d=1,C===!0&&(d|=24),C=uo(3,null,null,d),u.current=C,C.stateNode=u,d=RI(),d.refCount++,u.pooledCache=d,d.refCount++,C.memoizedState={element:x,isDehydrated:g,cache:d},fT(C),u}function ZB(u){return u?(u=Pp,u):Pp}function qB(u,d,g,x,M,C){M=ZB(M),x.context===null?x.context=M:x.pendingContext=M,x=au(d),x.payload={element:g},C=C===void 0?null:C,C!==null&&(x.callback=C),g=ou(u,x,d),g!==null&&(Vs(g,u,d),Ly(g,u,d))}function QB(u,d){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var g=u.retryLane;u.retryLane=g!==0&&g<d?g:d}}function nC(u,d){QB(u,d),(u=u.alternate)&&QB(u,d)}function JB(u){if(u.tag===13){var d=Qc(u,67108864);d!==null&&Vs(d,u,67108864),nC(u,67108864)}}var J0=!0;function J8(u,d,g,x){var M=R.T;R.T=null;var C=q.p;try{q.p=2,sC(u,d,g,x)}finally{q.p=C,R.T=M}}function tX(u,d,g,x){var M=R.T;R.T=null;var C=q.p;try{q.p=8,sC(u,d,g,x)}finally{q.p=C,R.T=M}}function sC(u,d,g,x){if(J0){var M=aC(x);if(M===null)YT(u,d,x,tv,g),ez(u,x);else if(iX(M,u,d,g,x))x.stopPropagation();else if(ez(u,x),d&4&&-1<eX.indexOf(u)){for(;M!==null;){var C=Dp(M);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var P=Pr(C.pendingLanes);if(P!==0){var H=C;for(H.pendingLanes|=2,H.entangledLanes|=2;P;){var Q=1<<31-te(P);H.entanglements[1]|=Q,P&=~Q}Fr(C),!(yi&6)&&(z0=Ht()+500,Fy(0))}}break;case 13:H=Qc(C,2),H!==null&&Vs(H,C,2),F0(),nC(C,2)}if(C=aC(x),C===null&&YT(u,d,x,tv,g),C===M)break;M=C}M!==null&&x.stopPropagation()}else YT(u,d,x,null,g)}}function aC(u){return u=hI(u),oC(u)}var tv=null;function oC(u){if(tv=null,u=kh(u),u!==null){var d=$(u);if(d===null)u=null;else{var g=d.tag;if(g===13){if(u=X(d),u!==null)return u;u=null}else if(g===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;u=null}else d!==u&&(u=null)}}return tv=u,null}function tz(u){switch(u){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(on()){case Fi:return 2;case gs:return 8;case Fs:case Xn:return 32;case oa:return 268435456;default:return 32}default:return 32}}var rC=!1,pu=null,fu=null,gu=null,$y=new Map,Ky=new Map,yu=[],eX="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ez(u,d){switch(u){case"focusin":case"focusout":pu=null;break;case"dragenter":case"dragleave":fu=null;break;case"mouseover":case"mouseout":gu=null;break;case"pointerover":case"pointerout":$y.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ky.delete(d.pointerId)}}function Xy(u,d,g,x,M,C){return u===null||u.nativeEvent!==C?(u={blockedOn:d,domEventName:g,eventSystemFlags:x,nativeEvent:C,targetContainers:[M]},d!==null&&(d=Dp(d),d!==null&&JB(d)),u):(u.eventSystemFlags|=x,d=u.targetContainers,M!==null&&d.indexOf(M)===-1&&d.push(M),u)}function iX(u,d,g,x,M){switch(d){case"focusin":return pu=Xy(pu,u,d,g,x,M),!0;case"dragenter":return fu=Xy(fu,u,d,g,x,M),!0;case"mouseover":return gu=Xy(gu,u,d,g,x,M),!0;case"pointerover":var C=M.pointerId;return $y.set(C,Xy($y.get(C)||null,u,d,g,x,M)),!0;case"gotpointercapture":return C=M.pointerId,Ky.set(C,Xy(Ky.get(C)||null,u,d,g,x,M)),!0}return!1}function iz(u){var d=kh(u.target);if(d!==null){var g=$(d);if(g!==null){if(d=g.tag,d===13){if(d=X(g),d!==null){u.blockedOn=d,ZK(u.priority,function(){if(g.tag===13){var x=wa(),M=Qc(g,x);M!==null&&Vs(M,g,x),nC(g,x)}});return}}else if(d===3&&g.stateNode.current.memoizedState.isDehydrated){u.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}u.blockedOn=null}function ev(u){if(u.blockedOn!==null)return!1;for(var d=u.targetContainers;0<d.length;){var g=aC(u.nativeEvent);if(g===null){g=u.nativeEvent;var x=new g.constructor(g.type,g);uI=x,g.target.dispatchEvent(x),uI=null}else return d=Dp(g),d!==null&&JB(d),u.blockedOn=g,!1;d.shift()}return!0}function nz(u,d,g){ev(u)&&g.delete(d)}function nX(){rC=!1,pu!==null&&ev(pu)&&(pu=null),fu!==null&&ev(fu)&&(fu=null),gu!==null&&ev(gu)&&(gu=null),$y.forEach(nz),Ky.forEach(nz)}function iv(u,d){u.blockedOn===d&&(u.blockedOn=null,rC||(rC=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,nX)))}var nv=null;function sz(u){nv!==u&&(nv=u,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){nv===u&&(nv=null);for(var d=0;d<u.length;d+=3){var g=u[d],x=u[d+1],M=u[d+2];if(typeof x!="function"){if(oC(x||g)===null)continue;break}var C=Dp(g);C!==null&&(u.splice(d,3),d-=3,ZI(C,{pending:!0,data:M,method:g.method,action:x},x,M))}}))}function Zy(u){function d(Q){return iv(Q,u)}pu!==null&&iv(pu,u),fu!==null&&iv(fu,u),gu!==null&&iv(gu,u),$y.forEach(d),Ky.forEach(d);for(var g=0;g<yu.length;g++){var x=yu[g];x.blockedOn===u&&(x.blockedOn=null)}for(;0<yu.length&&(g=yu[0],g.blockedOn===null);)iz(g),g.blockedOn===null&&yu.shift();if(g=(u.ownerDocument||u).$$reactFormReplay,g!=null)for(x=0;x<g.length;x+=3){var M=g[x],C=g[x+1],P=M[ra]||null;if(typeof C=="function")P||sz(g);else if(P){var H=null;if(C&&C.hasAttribute("formAction")){if(M=C,P=C[ra]||null)H=P.formAction;else if(oC(M)!==null)continue}else H=P.action;typeof H=="function"?g[x+1]=H:(g.splice(x,3),x-=3),sz(g)}}}function lC(u){this._internalRoot=u}sv.prototype.render=lC.prototype.render=function(u){var d=this._internalRoot;if(d===null)throw Error(n(409));var g=d.current,x=wa();qB(g,x,u,d,null,null)},sv.prototype.unmount=lC.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var d=u.containerInfo;u.tag===0&&Qp(),qB(u.current,2,null,u,null,null),F0(),d[Ap]=null}};function sv(u){this._internalRoot=u}sv.prototype.unstable_scheduleHydration=function(u){if(u){var d=OR();u={blockedOn:null,target:u,priority:d};for(var g=0;g<yu.length&&d!==0&&d<yu[g].priority;g++);yu.splice(g,0,u),g===0&&iz(u)}};var az=e.version;if(az!=="19.0.0")throw Error(n(527,az,"19.0.0"));q.findDOMNode=function(u){var d=u._reactInternals;if(d===void 0)throw typeof u.render=="function"?Error(n(188)):(u=Object.keys(u).join(","),Error(n(268,u)));return u=V(d),u=u!==null?Y(u):null,u=u===null?null:u.stateNode,u};var sX={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:R,findFiberByHostInstance:kh,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var av=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!av.isDisabled&&av.supportsFiber)try{wr=av.inject(sX),Zn=av}catch{}}return Jy.createRoot=function(u,d){if(!s(u))throw Error(n(299));var g=!1,x="",M=MP,C=AP,P=DP,H=null;return d!=null&&(d.unstable_strictMode===!0&&(g=!0),d.identifierPrefix!==void 0&&(x=d.identifierPrefix),d.onUncaughtError!==void 0&&(M=d.onUncaughtError),d.onCaughtError!==void 0&&(C=d.onCaughtError),d.onRecoverableError!==void 0&&(P=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(H=d.unstable_transitionCallbacks)),d=XB(u,1,!1,null,null,g,x,M,C,P,H,null),u[Ap]=d.current,WT(u.nodeType===8?u.parentNode:u),new lC(d)},Jy.hydrateRoot=function(u,d,g){if(!s(u))throw Error(n(299));var x=!1,M="",C=MP,P=AP,H=DP,Q=null,it=null;return g!=null&&(g.unstable_strictMode===!0&&(x=!0),g.identifierPrefix!==void 0&&(M=g.identifierPrefix),g.onUncaughtError!==void 0&&(C=g.onUncaughtError),g.onCaughtError!==void 0&&(P=g.onCaughtError),g.onRecoverableError!==void 0&&(H=g.onRecoverableError),g.unstable_transitionCallbacks!==void 0&&(Q=g.unstable_transitionCallbacks),g.formState!==void 0&&(it=g.formState)),d=XB(u,1,!0,d,g??null,x,M,C,P,H,Q,it),d.context=ZB(null),g=d.current,x=wa(),M=au(x),M.callback=null,ou(g,M,x),d.current.lanes=x,ny(d,x),Fr(d),u[Ap]=d.current,WT(u),new sv(d)},Jy.version="19.0.0",Jy}var gz;function xX(){if(gz)return hC.exports;gz=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),hC.exports=mX(),hC.exports}var bX=xX();const Zm={black:"#000",white:"#fff"},af={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},of={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},rf={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},lf={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},cf={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},tm={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},vX={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Zu(t,...e){const i=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(n=>i.searchParams.append("args[]",n)),`Minified MUI error #${t}; visit ${i} for the full message.`}const kM="$$material";function GS(){return GS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)({}).hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},GS.apply(null,arguments)}function SX(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function MX(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var AX=function(){function t(i){var n=this;this._insertTag=function(s){var a;n.tags.length===0?n.insertionPoint?a=n.insertionPoint.nextSibling:n.prepend?a=n.container.firstChild:a=n.before:a=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(s,a),n.tags.push(s)},this.isSpeedy=i.speedy===void 0?!0:i.speedy,this.tags=[],this.ctr=0,this.nonce=i.nonce,this.key=i.key,this.container=i.container,this.prepend=i.prepend,this.insertionPoint=i.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(MX(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var a=SX(s);try{a.insertRule(n,a.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){var s;return(s=n.parentNode)==null?void 0:s.removeChild(n)}),this.tags=[],this.ctr=0},t}(),Ss="-ms-",VS="-moz-",we="-webkit-",qG="comm",xL="rule",bL="decl",DX="@import",QG="@keyframes",IX="@layer",TX=Math.abs,LM=String.fromCharCode,CX=Object.assign;function kX(t,e){return ss(t,0)^45?(((e<<2^ss(t,0))<<2^ss(t,1))<<2^ss(t,2))<<2^ss(t,3):0}function JG(t){return t.trim()}function LX(t,e){return(t=e.exec(t))?t[0]:t}function Re(t,e,i){return t.replace(e,i)}function nk(t,e){return t.indexOf(e)}function ss(t,e){return t.charCodeAt(e)|0}function qm(t,e,i){return t.slice(e,i)}function Kr(t){return t.length}function vL(t){return t.length}function ov(t,e){return e.push(t),t}function NX(t,e){return t.map(e).join("")}var NM=1,Kf=1,t5=0,va=0,pn=0,sg="";function EM(t,e,i,n,s,a,o){return{value:t,root:e,parent:i,type:n,props:s,children:a,line:NM,column:Kf,length:o,return:""}}function em(t,e){return CX(EM("",null,null,"",null,null,0),t,{length:-t.length},e)}function EX(){return pn}function OX(){return pn=va>0?ss(sg,--va):0,Kf--,pn===10&&(Kf=1,NM--),pn}function Fa(){return pn=va<t5?ss(sg,va++):0,Kf++,pn===10&&(Kf=1,NM++),pn}function nl(){return ss(sg,va)}function AS(){return va}function _x(t,e){return qm(sg,t,e)}function Qm(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function e5(t){return NM=Kf=1,t5=Kr(sg=t),va=0,[]}function i5(t){return sg="",t}function DS(t){return JG(_x(va-1,sk(t===91?t+2:t===40?t+1:t)))}function wX(t){for(;(pn=nl())&&pn<33;)Fa();return Qm(t)>2||Qm(pn)>3?"":" "}function RX(t,e){for(;--e&&Fa()&&!(pn<48||pn>102||pn>57&&pn<65||pn>70&&pn<97););return _x(t,AS()+(e<6&&nl()==32&&Fa()==32))}function sk(t){for(;Fa();)switch(pn){case t:return va;case 34:case 39:t!==34&&t!==39&&sk(pn);break;case 40:t===41&&sk(t);break;case 92:Fa();break}return va}function PX(t,e){for(;Fa()&&t+pn!==57;)if(t+pn===84&&nl()===47)break;return"/*"+_x(e,va-1)+"*"+LM(t===47?t:Fa())}function BX(t){for(;!Qm(nl());)Fa();return _x(t,va)}function zX(t){return i5(IS("",null,null,null,[""],t=e5(t),0,[0],t))}function IS(t,e,i,n,s,a,o,r,l){for(var c=0,h=0,p=o,f=0,y=0,m=0,b=1,v=1,S=1,D=0,I="",T=s,k=a,E=n,O=I;v;)switch(m=D,D=Fa()){case 40:if(m!=108&&ss(O,p-1)==58){nk(O+=Re(DS(D),"&","&\f"),"&\f")!=-1&&(S=-1);break}case 34:case 39:case 91:O+=DS(D);break;case 9:case 10:case 13:case 32:O+=wX(m);break;case 92:O+=RX(AS()-1,7);continue;case 47:switch(nl()){case 42:case 47:ov(_X(PX(Fa(),AS()),e,i),l);break;default:O+="/"}break;case 123*b:r[c++]=Kr(O)*S;case 125*b:case 59:case 0:switch(D){case 0:case 125:v=0;case 59+h:S==-1&&(O=Re(O,/\f/g,"")),y>0&&Kr(O)-p&&ov(y>32?mz(O+";",n,i,p-1):mz(Re(O," ","")+";",n,i,p-2),l);break;case 59:O+=";";default:if(ov(E=yz(O,e,i,c,h,s,r,I,T=[],k=[],p),a),D===123)if(h===0)IS(O,e,E,E,T,a,p,r,k);else switch(f===99&&ss(O,3)===110?100:f){case 100:case 108:case 109:case 115:IS(t,E,E,n&&ov(yz(t,E,E,0,0,s,r,I,s,T=[],p),k),s,k,p,r,n?T:k);break;default:IS(O,E,E,E,[""],k,0,r,k)}}c=h=y=0,b=S=1,I=O="",p=o;break;case 58:p=1+Kr(O),y=m;default:if(b<1){if(D==123)--b;else if(D==125&&b++==0&&OX()==125)continue}switch(O+=LM(D),D*b){case 38:S=h>0?1:(O+="\f",-1);break;case 44:r[c++]=(Kr(O)-1)*S,S=1;break;case 64:nl()===45&&(O+=DS(Fa())),f=nl(),h=p=Kr(I=O+=BX(AS())),D++;break;case 45:m===45&&Kr(O)==2&&(b=0)}}return a}function yz(t,e,i,n,s,a,o,r,l,c,h){for(var p=s-1,f=s===0?a:[""],y=vL(f),m=0,b=0,v=0;m<n;++m)for(var S=0,D=qm(t,p+1,p=TX(b=o[m])),I=t;S<y;++S)(I=JG(b>0?f[S]+" "+D:Re(D,/&\f/g,f[S])))&&(l[v++]=I);return EM(t,e,i,s===0?xL:r,l,c,h)}function _X(t,e,i){return EM(t,e,i,qG,LM(EX()),qm(t,2,-2),0)}function mz(t,e,i,n){return EM(t,e,i,bL,qm(t,0,n),qm(t,n+1,-1),n)}function _f(t,e){for(var i="",n=vL(t),s=0;s<n;s++)i+=e(t[s],s,t,e)||"";return i}function jX(t,e,i,n){switch(t.type){case IX:if(t.children.length)break;case DX:case bL:return t.return=t.return||t.value;case qG:return"";case QG:return t.return=t.value+"{"+_f(t.children,n)+"}";case xL:t.value=t.props.join(",")}return Kr(i=_f(t.children,n))?t.return=t.value+"{"+i+"}":""}function FX(t){var e=vL(t);return function(i,n,s,a){for(var o="",r=0;r<e;r++)o+=t[r](i,n,s,a)||"";return o}}function GX(t){return function(e){e.root||(e=e.return)&&t(e)}}function n5(t){var e=Object.create(null);return function(i){return e[i]===void 0&&(e[i]=t(i)),e[i]}}var VX=function(e,i,n){for(var s=0,a=0;s=a,a=nl(),s===38&&a===12&&(i[n]=1),!Qm(a);)Fa();return _x(e,va)},UX=function(e,i){var n=-1,s=44;do switch(Qm(s)){case 0:s===38&&nl()===12&&(i[n]=1),e[n]+=VX(va-1,i,n);break;case 2:e[n]+=DS(s);break;case 4:if(s===44){e[++n]=nl()===58?"&\f":"",i[n]=e[n].length;break}default:e[n]+=LM(s)}while(s=Fa());return e},HX=function(e,i){return i5(UX(e5(e),i))},xz=new WeakMap,WX=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var i=e.value,n=e.parent,s=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&i.charCodeAt(0)!==58&&!xz.get(n))&&!s){xz.set(e,!0);for(var a=[],o=HX(i,a),r=n.props,l=0,c=0;l<o.length;l++)for(var h=0;h<r.length;h++,c++)e.props[c]=a[l]?o[l].replace(/&\f/g,r[h]):r[h]+" "+o[l]}}},YX=function(e){if(e.type==="decl"){var i=e.value;i.charCodeAt(0)===108&&i.charCodeAt(2)===98&&(e.return="",e.value="")}};function s5(t,e){switch(kX(t,e)){case 5103:return we+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return we+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return we+t+VS+t+Ss+t+t;case 6828:case 4268:return we+t+Ss+t+t;case 6165:return we+t+Ss+"flex-"+t+t;case 5187:return we+t+Re(t,/(\w+).+(:[^]+)/,we+"box-$1$2"+Ss+"flex-$1$2")+t;case 5443:return we+t+Ss+"flex-item-"+Re(t,/flex-|-self/,"")+t;case 4675:return we+t+Ss+"flex-line-pack"+Re(t,/align-content|flex-|-self/,"")+t;case 5548:return we+t+Ss+Re(t,"shrink","negative")+t;case 5292:return we+t+Ss+Re(t,"basis","preferred-size")+t;case 6060:return we+"box-"+Re(t,"-grow","")+we+t+Ss+Re(t,"grow","positive")+t;case 4554:return we+Re(t,/([^-])(transform)/g,"$1"+we+"$2")+t;case 6187:return Re(Re(Re(t,/(zoom-|grab)/,we+"$1"),/(image-set)/,we+"$1"),t,"")+t;case 5495:case 3959:return Re(t,/(image-set\([^]*)/,we+"$1$`$1");case 4968:return Re(Re(t,/(.+:)(flex-)?(.*)/,we+"box-pack:$3"+Ss+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+we+t+t;case 4095:case 3583:case 4068:case 2532:return Re(t,/(.+)-inline(.+)/,we+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Kr(t)-1-e>6)switch(ss(t,e+1)){case 109:if(ss(t,e+4)!==45)break;case 102:return Re(t,/(.+:)(.+)-([^]+)/,"$1"+we+"$2-$3$1"+VS+(ss(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~nk(t,"stretch")?s5(Re(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(ss(t,e+1)!==115)break;case 6444:switch(ss(t,Kr(t)-3-(~nk(t,"!important")&&10))){case 107:return Re(t,":",":"+we)+t;case 101:return Re(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+we+(ss(t,14)===45?"inline-":"")+"box$3$1"+we+"$2$3$1"+Ss+"$2box$3")+t}break;case 5936:switch(ss(t,e+11)){case 114:return we+t+Ss+Re(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return we+t+Ss+Re(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return we+t+Ss+Re(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return we+t+Ss+t+t}return t}var $X=function(e,i,n,s){if(e.length>-1&&!e.return)switch(e.type){case bL:e.return=s5(e.value,e.length);break;case QG:return _f([em(e,{value:Re(e.value,"@","@"+we)})],s);case xL:if(e.length)return NX(e.props,function(a){switch(LX(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return _f([em(e,{props:[Re(a,/:(read-\w+)/,":"+VS+"$1")]})],s);case"::placeholder":return _f([em(e,{props:[Re(a,/:(plac\w+)/,":"+we+"input-$1")]}),em(e,{props:[Re(a,/:(plac\w+)/,":"+VS+"$1")]}),em(e,{props:[Re(a,/:(plac\w+)/,Ss+"input-$1")]})],s)}return""})}},KX=[$X],XX=function(e){var i=e.key;if(i==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(b){var v=b.getAttribute("data-emotion");v.indexOf(" ")!==-1&&(document.head.appendChild(b),b.setAttribute("data-s",""))})}var s=e.stylisPlugins||KX,a={},o,r=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+i+' "]'),function(b){for(var v=b.getAttribute("data-emotion").split(" "),S=1;S<v.length;S++)a[v[S]]=!0;r.push(b)});var l,c=[WX,YX];{var h,p=[jX,GX(function(b){h.insert(b)})],f=FX(c.concat(s,p)),y=function(v){return _f(zX(v),f)};l=function(v,S,D,I){h=D,y(v?v+"{"+S.styles+"}":S.styles),I&&(m.inserted[S.name]=!0)}}var m={key:i,sheet:new AX({key:i,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:l};return m.sheet.hydrate(r),m},gC={exports:{}},ze={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bz;function ZX(){if(bz)return ze;bz=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,i=t?Symbol.for("react.portal"):60106,n=t?Symbol.for("react.fragment"):60107,s=t?Symbol.for("react.strict_mode"):60108,a=t?Symbol.for("react.profiler"):60114,o=t?Symbol.for("react.provider"):60109,r=t?Symbol.for("react.context"):60110,l=t?Symbol.for("react.async_mode"):60111,c=t?Symbol.for("react.concurrent_mode"):60111,h=t?Symbol.for("react.forward_ref"):60112,p=t?Symbol.for("react.suspense"):60113,f=t?Symbol.for("react.suspense_list"):60120,y=t?Symbol.for("react.memo"):60115,m=t?Symbol.for("react.lazy"):60116,b=t?Symbol.for("react.block"):60121,v=t?Symbol.for("react.fundamental"):60117,S=t?Symbol.for("react.responder"):60118,D=t?Symbol.for("react.scope"):60119;function I(k){if(typeof k=="object"&&k!==null){var E=k.$$typeof;switch(E){case e:switch(k=k.type,k){case l:case c:case n:case a:case s:case p:return k;default:switch(k=k&&k.$$typeof,k){case r:case h:case m:case y:case o:return k;default:return E}}case i:return E}}}function T(k){return I(k)===c}return ze.AsyncMode=l,ze.ConcurrentMode=c,ze.ContextConsumer=r,ze.ContextProvider=o,ze.Element=e,ze.ForwardRef=h,ze.Fragment=n,ze.Lazy=m,ze.Memo=y,ze.Portal=i,ze.Profiler=a,ze.StrictMode=s,ze.Suspense=p,ze.isAsyncMode=function(k){return T(k)||I(k)===l},ze.isConcurrentMode=T,ze.isContextConsumer=function(k){return I(k)===r},ze.isContextProvider=function(k){return I(k)===o},ze.isElement=function(k){return typeof k=="object"&&k!==null&&k.$$typeof===e},ze.isForwardRef=function(k){return I(k)===h},ze.isFragment=function(k){return I(k)===n},ze.isLazy=function(k){return I(k)===m},ze.isMemo=function(k){return I(k)===y},ze.isPortal=function(k){return I(k)===i},ze.isProfiler=function(k){return I(k)===a},ze.isStrictMode=function(k){return I(k)===s},ze.isSuspense=function(k){return I(k)===p},ze.isValidElementType=function(k){return typeof k=="string"||typeof k=="function"||k===n||k===c||k===a||k===s||k===p||k===f||typeof k=="object"&&k!==null&&(k.$$typeof===m||k.$$typeof===y||k.$$typeof===o||k.$$typeof===r||k.$$typeof===h||k.$$typeof===v||k.$$typeof===S||k.$$typeof===D||k.$$typeof===b)},ze.typeOf=I,ze}var vz;function qX(){return vz||(vz=1,gC.exports=ZX()),gC.exports}var yC,Sz;function QX(){if(Sz)return yC;Sz=1;var t=qX(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};a[t.ForwardRef]=n,a[t.Memo]=s;function o(m){return t.isMemo(m)?s:a[m.$$typeof]||e}var r=Object.defineProperty,l=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;function y(m,b,v){if(typeof b!="string"){if(f){var S=p(b);S&&S!==f&&y(m,S,v)}var D=l(b);c&&(D=D.concat(c(b)));for(var I=o(m),T=o(b),k=0;k<D.length;++k){var E=D[k];if(!i[E]&&!(v&&v[E])&&!(T&&T[E])&&!(I&&I[E])){var O=h(b,E);try{r(m,E,O)}catch{}}}}return m}return yC=y,yC}QX();var JX=!0;function a5(t,e,i){var n="";return i.split(" ").forEach(function(s){t[s]!==void 0?e.push(t[s]+";"):s&&(n+=s+" ")}),n}var SL=function(e,i,n){var s=e.key+"-"+i.name;(n===!1||JX===!1)&&e.registered[s]===void 0&&(e.registered[s]=i.styles)},ML=function(e,i,n){SL(e,i,n);var s=e.key+"-"+i.name;if(e.inserted[i.name]===void 0){var a=i;do e.insert(i===a?"."+s:"",a,e.sheet,!0),a=a.next;while(a!==void 0)}};function tZ(t){for(var e=0,i,n=0,s=t.length;s>=4;++n,s-=4)i=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,i=(i&65535)*1540483477+((i>>>16)*59797<<16),i^=i>>>24,e=(i&65535)*1540483477+((i>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var eZ={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},iZ=/[A-Z]|^ms/g,nZ=/_EMO_([^_]+?)_([^]*?)_EMO_/g,o5=function(e){return e.charCodeAt(1)===45},Mz=function(e){return e!=null&&typeof e!="boolean"},mC=n5(function(t){return o5(t)?t:t.replace(iZ,"-$&").toLowerCase()}),Az=function(e,i){switch(e){case"animation":case"animationName":if(typeof i=="string")return i.replace(nZ,function(n,s,a){return Xr={name:s,styles:a,next:Xr},s})}return eZ[e]!==1&&!o5(e)&&typeof i=="number"&&i!==0?i+"px":i};function Jm(t,e,i){if(i==null)return"";var n=i;if(n.__emotion_styles!==void 0)return n;switch(typeof i){case"boolean":return"";case"object":{var s=i;if(s.anim===1)return Xr={name:s.name,styles:s.styles,next:Xr},s.name;var a=i;if(a.styles!==void 0){var o=a.next;if(o!==void 0)for(;o!==void 0;)Xr={name:o.name,styles:o.styles,next:Xr},o=o.next;var r=a.styles+";";return r}return sZ(t,e,i)}case"function":{if(t!==void 0){var l=Xr,c=i(t);return Xr=l,Jm(t,e,c)}break}}var h=i;if(e==null)return h;var p=e[h];return p!==void 0?p:h}function sZ(t,e,i){var n="";if(Array.isArray(i))for(var s=0;s<i.length;s++)n+=Jm(t,e,i[s])+";";else for(var a in i){var o=i[a];if(typeof o!="object"){var r=o;e!=null&&e[r]!==void 0?n+=a+"{"+e[r]+"}":Mz(r)&&(n+=mC(a)+":"+Az(a,r)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var l=0;l<o.length;l++)Mz(o[l])&&(n+=mC(a)+":"+Az(a,o[l])+";");else{var c=Jm(t,e,o);switch(a){case"animation":case"animationName":{n+=mC(a)+":"+c+";";break}default:n+=a+"{"+c+"}"}}}return n}var Dz=/label:\s*([^\s;{]+)\s*(;|$)/g,Xr;function jx(t,e,i){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var n=!0,s="";Xr=void 0;var a=t[0];if(a==null||a.raw===void 0)n=!1,s+=Jm(i,e,a);else{var o=a;s+=o[0]}for(var r=1;r<t.length;r++)if(s+=Jm(i,e,t[r]),n){var l=a;s+=l[r]}Dz.lastIndex=0;for(var c="",h;(h=Dz.exec(s))!==null;)c+="-"+h[1];var p=tZ(s)+c;return{name:p,styles:s,next:Xr}}var aZ=function(e){return e()},r5=ik.useInsertionEffect?ik.useInsertionEffect:!1,l5=r5||aZ,Iz=r5||ot.useLayoutEffect,c5=ot.createContext(typeof HTMLElement<"u"?XX({key:"css"}):null);c5.Provider;var AL=function(e){return ot.forwardRef(function(i,n){var s=ot.useContext(c5);return e(i,s,n)})},OM=ot.createContext({}),DL={}.hasOwnProperty,ak="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",oZ=function(e,i){var n={};for(var s in i)DL.call(i,s)&&(n[s]=i[s]);return n[ak]=e,n},rZ=function(e){var i=e.cache,n=e.serialized,s=e.isStringTag;return SL(i,n,s),l5(function(){return ML(i,n,s)}),null},lZ=AL(function(t,e,i){var n=t.css;typeof n=="string"&&e.registered[n]!==void 0&&(n=e.registered[n]);var s=t[ak],a=[n],o="";typeof t.className=="string"?o=a5(e.registered,a,t.className):t.className!=null&&(o=t.className+" ");var r=jx(a,void 0,ot.useContext(OM));o+=e.key+"-"+r.name;var l={};for(var c in t)DL.call(t,c)&&c!=="css"&&c!==ak&&(l[c]=t[c]);return l.className=o,i&&(l.ref=i),ot.createElement(ot.Fragment,null,ot.createElement(rZ,{cache:e,serialized:r,isStringTag:typeof s=="string"}),ot.createElement(s,l))}),cZ=lZ,Tz=function(e,i){var n=arguments;if(i==null||!DL.call(i,"css"))return ot.createElement.apply(void 0,n);var s=n.length,a=new Array(s);a[0]=cZ,a[1]=oZ(e,i);for(var o=2;o<s;o++)a[o]=n[o];return ot.createElement.apply(null,a)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(Tz||(Tz={}));var uZ=AL(function(t,e){var i=t.styles,n=jx([i],void 0,ot.useContext(OM)),s=ot.useRef();return Iz(function(){var a=e.key+"-global",o=new e.sheet.constructor({key:a,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),r=!1,l=document.querySelector('style[data-emotion="'+a+" "+n.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(r=!0,l.setAttribute("data-emotion",a),o.hydrate([l])),s.current=[o,r],function(){o.flush()}},[e]),Iz(function(){var a=s.current,o=a[0],r=a[1];if(r){a[1]=!1;return}if(n.next!==void 0&&ML(e,n.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",n,o,!1)},[e,n.name]),null});function IL(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return jx(e)}function Fx(){var t=IL.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var hZ=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,dZ=n5(function(t){return hZ.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),pZ=dZ,fZ=function(e){return e!=="theme"},Cz=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?pZ:fZ},kz=function(e,i,n){var s;if(i){var a=i.shouldForwardProp;s=e.__emotion_forwardProp&&a?function(o){return e.__emotion_forwardProp(o)&&a(o)}:a}return typeof s!="function"&&n&&(s=e.__emotion_forwardProp),s},gZ=function(e){var i=e.cache,n=e.serialized,s=e.isStringTag;return SL(i,n,s),l5(function(){return ML(i,n,s)}),null},yZ=function t(e,i){var n=e.__emotion_real===e,s=n&&e.__emotion_base||e,a,o;i!==void 0&&(a=i.label,o=i.target);var r=kz(e,i,n),l=r||Cz(s),c=!l("as");return function(){var h=arguments,p=n&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(a!==void 0&&p.push("label:"+a+";"),h[0]==null||h[0].raw===void 0)p.push.apply(p,h);else{var f=h[0];p.push(f[0]);for(var y=h.length,m=1;m<y;m++)p.push(h[m],f[m])}var b=AL(function(v,S,D){var I=c&&v.as||s,T="",k=[],E=v;if(v.theme==null){E={};for(var O in v)E[O]=v[O];E.theme=ot.useContext(OM)}typeof v.className=="string"?T=a5(S.registered,k,v.className):v.className!=null&&(T=v.className+" ");var B=jx(p.concat(k),S.registered,E);T+=S.key+"-"+B.name,o!==void 0&&(T+=" "+o);var R=c&&r===void 0?Cz(I):l,L={};for(var F in v)c&&F==="as"||R(F)&&(L[F]=v[F]);return L.className=T,D&&(L.ref=D),ot.createElement(ot.Fragment,null,ot.createElement(gZ,{cache:S,serialized:B,isStringTag:typeof I=="string"}),ot.createElement(I,L))});return b.displayName=a!==void 0?a:"Styled("+(typeof s=="string"?s:s.displayName||s.name||"Component")+")",b.defaultProps=e.defaultProps,b.__emotion_real=b,b.__emotion_base=s,b.__emotion_styles=p,b.__emotion_forwardProp=r,Object.defineProperty(b,"toString",{value:function(){return"."+o}}),b.withComponent=function(v,S){var D=t(v,GS({},i,S,{shouldForwardProp:kz(b,S,!0)}));return D.apply(void 0,p)},b}},mZ=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],ok=yZ.bind(null);mZ.forEach(function(t){ok[t]=ok(t)});function xZ(t){return t==null||Object.keys(t).length===0}function bZ(t){const{styles:e,defaultTheme:i={}}=t,n=typeof e=="function"?s=>e(xZ(s)?i:s):e;return tt.jsx(uZ,{styles:n})}/**
 * @mui/styled-engine v6.4.3
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function u5(t,e){return ok(t,e)}function vZ(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const Lz=[];function Nz(t){return Lz[0]=t,jx(Lz)}var xC={exports:{}},Ve={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ez;function SZ(){if(Ez)return Ve;Ez=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),r=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.for("react.offscreen"),y=Symbol.for("react.client.reference");function m(b){if(typeof b=="object"&&b!==null){var v=b.$$typeof;switch(v){case t:switch(b=b.type,b){case i:case s:case n:case l:case c:return b;default:switch(b=b&&b.$$typeof,b){case o:case r:case p:case h:return b;case a:return b;default:return v}}case e:return v}}}return Ve.ContextConsumer=a,Ve.ContextProvider=o,Ve.Element=t,Ve.ForwardRef=r,Ve.Fragment=i,Ve.Lazy=p,Ve.Memo=h,Ve.Portal=e,Ve.Profiler=s,Ve.StrictMode=n,Ve.Suspense=l,Ve.SuspenseList=c,Ve.isContextConsumer=function(b){return m(b)===a},Ve.isContextProvider=function(b){return m(b)===o},Ve.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===t},Ve.isForwardRef=function(b){return m(b)===r},Ve.isFragment=function(b){return m(b)===i},Ve.isLazy=function(b){return m(b)===p},Ve.isMemo=function(b){return m(b)===h},Ve.isPortal=function(b){return m(b)===e},Ve.isProfiler=function(b){return m(b)===s},Ve.isStrictMode=function(b){return m(b)===n},Ve.isSuspense=function(b){return m(b)===l},Ve.isSuspenseList=function(b){return m(b)===c},Ve.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===i||b===s||b===n||b===l||b===c||b===f||typeof b=="object"&&b!==null&&(b.$$typeof===p||b.$$typeof===h||b.$$typeof===o||b.$$typeof===a||b.$$typeof===r||b.$$typeof===y||b.getModuleId!==void 0)},Ve.typeOf=m,Ve}var Oz;function MZ(){return Oz||(Oz=1,xC.exports=SZ()),xC.exports}var h5=MZ();function Jr(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function d5(t){if(ot.isValidElement(t)||h5.isValidElementType(t)||!Jr(t))return t;const e={};return Object.keys(t).forEach(i=>{e[i]=d5(t[i])}),e}function Ga(t,e,i={clone:!0}){const n=i.clone?{...t}:t;return Jr(t)&&Jr(e)&&Object.keys(e).forEach(s=>{ot.isValidElement(e[s])||h5.isValidElementType(e[s])?n[s]=e[s]:Jr(e[s])&&Object.prototype.hasOwnProperty.call(t,s)&&Jr(t[s])?n[s]=Ga(t[s],e[s],i):i.clone?n[s]=Jr(e[s])?d5(e[s]):e[s]:n[s]=e[s]}),n}const AZ=t=>{const e=Object.keys(t).map(i=>({key:i,val:t[i]}))||[];return e.sort((i,n)=>i.val-n.val),e.reduce((i,n)=>({...i,[n.key]:n.val}),{})};function DZ(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:i="px",step:n=5,...s}=t,a=AZ(e),o=Object.keys(a);function r(f){return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${i})`}function l(f){return`@media (max-width:${(typeof e[f]=="number"?e[f]:f)-n/100}${i})`}function c(f,y){const m=o.indexOf(y);return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${i}) and (max-width:${(m!==-1&&typeof e[o[m]]=="number"?e[o[m]]:y)-n/100}${i})`}function h(f){return o.indexOf(f)+1<o.length?c(f,o[o.indexOf(f)+1]):r(f)}function p(f){const y=o.indexOf(f);return y===0?r(o[1]):y===o.length-1?l(o[y]):c(f,o[o.indexOf(f)+1]).replace("@media","@media not all and")}return{keys:o,values:a,up:r,down:l,between:c,only:h,not:p,unit:i,...s}}function IZ(t,e){if(!t.containerQueries)return e;const i=Object.keys(e).filter(n=>n.startsWith("@container")).sort((n,s)=>{var o,r;const a=/min-width:\s*([0-9.]+)/;return+(((o=n.match(a))==null?void 0:o[1])||0)-+(((r=s.match(a))==null?void 0:r[1])||0)});return i.length?i.reduce((n,s)=>{const a=e[s];return delete n[s],n[s]=a,n},{...e}):e}function TZ(t,e){return e==="@"||e.startsWith("@")&&(t.some(i=>e.startsWith(`@${i}`))||!!e.match(/^@\d/))}function CZ(t,e){const i=e.match(/^@([^/]+)?\/?(.+)?$/);if(!i)return null;const[,n,s]=i,a=Number.isNaN(+n)?n||0:+n;return t.containerQueries(s).up(a)}function kZ(t){const e=(a,o)=>a.replace("@media",o?`@container ${o}`:"@container");function i(a,o){a.up=(...r)=>e(t.breakpoints.up(...r),o),a.down=(...r)=>e(t.breakpoints.down(...r),o),a.between=(...r)=>e(t.breakpoints.between(...r),o),a.only=(...r)=>e(t.breakpoints.only(...r),o),a.not=(...r)=>{const l=e(t.breakpoints.not(...r),o);return l.includes("not all and")?l.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):l}}const n={},s=a=>(i(n,a),n);return i(s),{...t,containerQueries:s}}const LZ={borderRadius:4};function zm(t,e){return e?Ga(t,e,{clone:!1}):t}const wM={xs:0,sm:600,md:900,lg:1200,xl:1536},wz={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${wM[t]}px)`},NZ={containerQueries:t=>({up:e=>{let i=typeof e=="number"?e:wM[e]||e;return typeof i=="number"&&(i=`${i}px`),t?`@container ${t} (min-width:${i})`:`@container (min-width:${i})`}})};function zo(t,e,i){const n=t.theme||{};if(Array.isArray(e)){const a=n.breakpoints||wz;return e.reduce((o,r,l)=>(o[a.up(a.keys[l])]=i(e[l]),o),{})}if(typeof e=="object"){const a=n.breakpoints||wz;return Object.keys(e).reduce((o,r)=>{if(TZ(a.keys,r)){const l=CZ(n.containerQueries?n:NZ,r);l&&(o[l]=i(e[r],r))}else if(Object.keys(a.values||wM).includes(r)){const l=a.up(r);o[l]=i(e[r],r)}else{const l=r;o[l]=e[l]}return o},{})}return i(e)}function EZ(t={}){var i;return((i=t.keys)==null?void 0:i.reduce((n,s)=>{const a=t.up(s);return n[a]={},n},{}))||{}}function OZ(t,e){return t.reduce((i,n)=>{const s=i[n];return(!s||Object.keys(s).length===0)&&delete i[n],i},e)}function wZ(t,e){if(typeof t!="object")return{};const i={},n=Object.keys(e);return Array.isArray(t)?n.forEach((s,a)=>{a<t.length&&(i[s]=!0)}):n.forEach(s=>{t[s]!=null&&(i[s]=!0)}),i}function RM({values:t,breakpoints:e,base:i}){const n=i||wZ(t,e),s=Object.keys(n);if(s.length===0)return t;let a;return s.reduce((o,r,l)=>(Array.isArray(t)?(o[r]=t[l]!=null?t[l]:t[a],a=l):typeof t=="object"?(o[r]=t[r]!=null?t[r]:t[a],a=r):o[r]=t,o),{})}function Ct(t){if(typeof t!="string")throw new Error(Zu(7));return t.charAt(0).toUpperCase()+t.slice(1)}function PM(t,e,i=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&i){const n=`vars.${e}`.split(".").reduce((s,a)=>s&&s[a]?s[a]:null,t);if(n!=null)return n}return e.split(".").reduce((n,s)=>n&&n[s]!=null?n[s]:null,t)}function US(t,e,i,n=i){let s;return typeof t=="function"?s=t(i):Array.isArray(t)?s=t[i]||n:s=PM(t,i)||n,e&&(s=e(s,n,t)),s}function Xi(t){const{prop:e,cssProperty:i=t.prop,themeKey:n,transform:s}=t,a=o=>{if(o[e]==null)return null;const r=o[e],l=o.theme,c=PM(l,n)||{};return zo(o,r,p=>{let f=US(c,s,p);return p===f&&typeof p=="string"&&(f=US(c,s,`${e}${p==="default"?"":Ct(p)}`,p)),i===!1?f:{[i]:f}})};return a.propTypes={},a.filterProps=[e],a}function RZ(t){const e={};return i=>(e[i]===void 0&&(e[i]=t(i)),e[i])}const PZ={m:"margin",p:"padding"},BZ={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Rz={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},zZ=RZ(t=>{if(t.length>2)if(Rz[t])t=Rz[t];else return[t];const[e,i]=t.split(""),n=PZ[e],s=BZ[i]||"";return Array.isArray(s)?s.map(a=>n+a):[n+s]}),TL=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],CL=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...TL,...CL];function Gx(t,e,i,n){const s=PM(t,e,!0)??i;return typeof s=="number"||typeof s=="string"?a=>typeof a=="string"?a:typeof s=="string"?`calc(${a} * ${s})`:s*a:Array.isArray(s)?a=>{if(typeof a=="string")return a;const o=Math.abs(a),r=s[o];return a>=0?r:typeof r=="number"?-r:`-${r}`}:typeof s=="function"?s:()=>{}}function kL(t){return Gx(t,"spacing",8)}function Vx(t,e){return typeof e=="string"||e==null?e:t(e)}function _Z(t,e){return i=>t.reduce((n,s)=>(n[s]=Vx(e,i),n),{})}function jZ(t,e,i,n){if(!e.includes(i))return null;const s=zZ(i),a=_Z(s,n),o=t[i];return zo(t,o,a)}function p5(t,e){const i=kL(t.theme);return Object.keys(t).map(n=>jZ(t,e,n,i)).reduce(zm,{})}function wi(t){return p5(t,TL)}wi.propTypes={};wi.filterProps=TL;function Ri(t){return p5(t,CL)}Ri.propTypes={};Ri.filterProps=CL;function f5(t=8,e=kL({spacing:t})){if(t.mui)return t;const i=(...n)=>(n.length===0?[1]:n).map(a=>{const o=e(a);return typeof o=="number"?`${o}px`:o}).join(" ");return i.mui=!0,i}function BM(...t){const e=t.reduce((n,s)=>(s.filterProps.forEach(a=>{n[a]=s}),n),{}),i=n=>Object.keys(n).reduce((s,a)=>e[a]?zm(s,e[a](n)):s,{});return i.propTypes={},i.filterProps=t.reduce((n,s)=>n.concat(s.filterProps),[]),i}function Io(t){return typeof t!="number"?t:`${t}px solid`}function Fo(t,e){return Xi({prop:t,themeKey:"borders",transform:e})}const FZ=Fo("border",Io),GZ=Fo("borderTop",Io),VZ=Fo("borderRight",Io),UZ=Fo("borderBottom",Io),HZ=Fo("borderLeft",Io),WZ=Fo("borderColor"),YZ=Fo("borderTopColor"),$Z=Fo("borderRightColor"),KZ=Fo("borderBottomColor"),XZ=Fo("borderLeftColor"),ZZ=Fo("outline",Io),qZ=Fo("outlineColor"),zM=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Gx(t.theme,"shape.borderRadius",4),i=n=>({borderRadius:Vx(e,n)});return zo(t,t.borderRadius,i)}return null};zM.propTypes={};zM.filterProps=["borderRadius"];BM(FZ,GZ,VZ,UZ,HZ,WZ,YZ,$Z,KZ,XZ,zM,ZZ,qZ);const _M=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Gx(t.theme,"spacing",8),i=n=>({gap:Vx(e,n)});return zo(t,t.gap,i)}return null};_M.propTypes={};_M.filterProps=["gap"];const jM=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Gx(t.theme,"spacing",8),i=n=>({columnGap:Vx(e,n)});return zo(t,t.columnGap,i)}return null};jM.propTypes={};jM.filterProps=["columnGap"];const FM=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Gx(t.theme,"spacing",8),i=n=>({rowGap:Vx(e,n)});return zo(t,t.rowGap,i)}return null};FM.propTypes={};FM.filterProps=["rowGap"];const QZ=Xi({prop:"gridColumn"}),JZ=Xi({prop:"gridRow"}),t7=Xi({prop:"gridAutoFlow"}),e7=Xi({prop:"gridAutoColumns"}),i7=Xi({prop:"gridAutoRows"}),n7=Xi({prop:"gridTemplateColumns"}),s7=Xi({prop:"gridTemplateRows"}),a7=Xi({prop:"gridTemplateAreas"}),o7=Xi({prop:"gridArea"});BM(_M,jM,FM,QZ,JZ,t7,e7,i7,n7,s7,a7,o7);function jf(t,e){return e==="grey"?e:t}const r7=Xi({prop:"color",themeKey:"palette",transform:jf}),l7=Xi({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:jf}),c7=Xi({prop:"backgroundColor",themeKey:"palette",transform:jf});BM(r7,l7,c7);function za(t){return t<=1&&t!==0?`${t*100}%`:t}const u7=Xi({prop:"width",transform:za}),LL=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=i=>{var s,a,o,r,l;const n=((o=(a=(s=t.theme)==null?void 0:s.breakpoints)==null?void 0:a.values)==null?void 0:o[i])||wM[i];return n?((l=(r=t.theme)==null?void 0:r.breakpoints)==null?void 0:l.unit)!=="px"?{maxWidth:`${n}${t.theme.breakpoints.unit}`}:{maxWidth:n}:{maxWidth:za(i)}};return zo(t,t.maxWidth,e)}return null};LL.filterProps=["maxWidth"];const h7=Xi({prop:"minWidth",transform:za}),d7=Xi({prop:"height",transform:za}),p7=Xi({prop:"maxHeight",transform:za}),f7=Xi({prop:"minHeight",transform:za});Xi({prop:"size",cssProperty:"width",transform:za});Xi({prop:"size",cssProperty:"height",transform:za});const g7=Xi({prop:"boxSizing"});BM(u7,LL,h7,d7,p7,f7,g7);const Ux={border:{themeKey:"borders",transform:Io},borderTop:{themeKey:"borders",transform:Io},borderRight:{themeKey:"borders",transform:Io},borderBottom:{themeKey:"borders",transform:Io},borderLeft:{themeKey:"borders",transform:Io},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Io},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:zM},color:{themeKey:"palette",transform:jf},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:jf},backgroundColor:{themeKey:"palette",transform:jf},p:{style:Ri},pt:{style:Ri},pr:{style:Ri},pb:{style:Ri},pl:{style:Ri},px:{style:Ri},py:{style:Ri},padding:{style:Ri},paddingTop:{style:Ri},paddingRight:{style:Ri},paddingBottom:{style:Ri},paddingLeft:{style:Ri},paddingX:{style:Ri},paddingY:{style:Ri},paddingInline:{style:Ri},paddingInlineStart:{style:Ri},paddingInlineEnd:{style:Ri},paddingBlock:{style:Ri},paddingBlockStart:{style:Ri},paddingBlockEnd:{style:Ri},m:{style:wi},mt:{style:wi},mr:{style:wi},mb:{style:wi},ml:{style:wi},mx:{style:wi},my:{style:wi},margin:{style:wi},marginTop:{style:wi},marginRight:{style:wi},marginBottom:{style:wi},marginLeft:{style:wi},marginX:{style:wi},marginY:{style:wi},marginInline:{style:wi},marginInlineStart:{style:wi},marginInlineEnd:{style:wi},marginBlock:{style:wi},marginBlockStart:{style:wi},marginBlockEnd:{style:wi},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:_M},rowGap:{style:FM},columnGap:{style:jM},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:za},maxWidth:{style:LL},minWidth:{transform:za},height:{transform:za},maxHeight:{transform:za},minHeight:{transform:za},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function y7(...t){const e=t.reduce((n,s)=>n.concat(Object.keys(s)),[]),i=new Set(e);return t.every(n=>i.size===Object.keys(n).length)}function m7(t,e){return typeof t=="function"?t(e):t}function x7(){function t(i,n,s,a){const o={[i]:n,theme:s},r=a[i];if(!r)return{[i]:n};const{cssProperty:l=i,themeKey:c,transform:h,style:p}=r;if(n==null)return null;if(c==="typography"&&n==="inherit")return{[i]:n};const f=PM(s,c)||{};return p?p(o):zo(o,n,m=>{let b=US(f,h,m);return m===b&&typeof m=="string"&&(b=US(f,h,`${i}${m==="default"?"":Ct(m)}`,m)),l===!1?b:{[l]:b}})}function e(i){const{sx:n,theme:s={}}=i||{};if(!n)return null;const a=s.unstable_sxConfig??Ux;function o(r){let l=r;if(typeof r=="function")l=r(s);else if(typeof r!="object")return r;if(!l)return null;const c=EZ(s.breakpoints),h=Object.keys(c);let p=c;return Object.keys(l).forEach(f=>{const y=m7(l[f],s);if(y!=null)if(typeof y=="object")if(a[f])p=zm(p,t(f,y,s,a));else{const m=zo({theme:s},y,b=>({[f]:b}));y7(m,y)?p[f]=e({sx:y,theme:s}):p=zm(p,m)}else p=zm(p,t(f,y,s,a))}),IZ(s,OZ(h,p))}return Array.isArray(n)?n.map(o):o(n)}return e}const Od=x7();Od.filterProps=["sx"];function b7(t,e){var n;const i=this;if(i.vars){if(!((n=i.colorSchemes)!=null&&n[t])||typeof i.getColorSchemeSelector!="function")return{};let s=i.getColorSchemeSelector(t);return s==="&"?e:((s.includes("data-")||s.includes("."))&&(s=`*:where(${s.replace(/\s*&$/,"")}) &`),{[s]:e})}return i.palette.mode===t?e:{}}function NL(t={},...e){const{breakpoints:i={},palette:n={},spacing:s,shape:a={},...o}=t,r=DZ(i),l=f5(s);let c=Ga({breakpoints:r,direction:"ltr",components:{},palette:{mode:"light",...n},spacing:l,shape:{...LZ,...a}},o);return c=kZ(c),c.applyStyles=b7,c=e.reduce((h,p)=>Ga(h,p),c),c.unstable_sxConfig={...Ux,...o==null?void 0:o.unstable_sxConfig},c.unstable_sx=function(p){return Od({sx:p,theme:this})},c}function v7(t){return Object.keys(t).length===0}function S7(t=null){const e=ot.useContext(OM);return!e||v7(e)?t:e}const M7=NL();function EL(t=M7){return S7(t)}function A7({styles:t,themeId:e,defaultTheme:i={}}){const n=EL(i),s=typeof t=="function"?t(e&&n[e]||n):t;return tt.jsx(bZ,{styles:s})}const D7=t=>{var n;const e={systemProps:{},otherProps:{}},i=((n=t==null?void 0:t.theme)==null?void 0:n.unstable_sxConfig)??Ux;return Object.keys(t).forEach(s=>{i[s]?e.systemProps[s]=t[s]:e.otherProps[s]=t[s]}),e};function OL(t){const{sx:e,...i}=t,{systemProps:n,otherProps:s}=D7(i);let a;return Array.isArray(e)?a=[n,...e]:typeof e=="function"?a=(...o)=>{const r=e(...o);return Jr(r)?{...n,...r}:n}:a={...n,...e},{...s,sx:a}}const Pz=t=>t,I7=()=>{let t=Pz;return{configure(e){t=e},generate(e){return t(e)},reset(){t=Pz}}},g5=I7();function y5(t){var e,i,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(i=y5(t[e]))&&(n&&(n+=" "),n+=i)}else for(i in t)t[i]&&(n&&(n+=" "),n+=i);return n}function Qt(){for(var t,e,i=0,n="",s=arguments.length;i<s;i++)(t=arguments[i])&&(e=y5(t))&&(n&&(n+=" "),n+=e);return n}function T7(t={}){const{themeId:e,defaultTheme:i,defaultClassName:n="MuiBox-root",generateClassName:s}=t,a=u5("div",{shouldForwardProp:r=>r!=="theme"&&r!=="sx"&&r!=="as"})(Od);return ot.forwardRef(function(l,c){const h=EL(i),{className:p,component:f="div",...y}=OL(l);return tt.jsx(a,{as:f,ref:c,className:Qt(p,s?s(n):n),theme:e&&h[e]||h,...y})})}const C7={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Ii(t,e,i="Mui"){const n=C7[e];return n?`${i}-${n}`:`${g5.generate(t)}-${e}`}function di(t,e,i="Mui"){const n={};return e.forEach(s=>{n[s]=Ii(t,s,i)}),n}function m5(t){const{variants:e,...i}=t,n={variants:e,style:Nz(i),isProcessed:!0};return n.style===i||e&&e.forEach(s=>{typeof s.style!="function"&&(s.style=Nz(s.style))}),n}const k7=NL();function bC(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function L7(t){return t?(e,i)=>i[t]:null}function N7(t,e,i){t.theme=w7(t.theme)?i:t.theme[e]||t.theme}function TS(t,e){const i=typeof e=="function"?e(t):e;if(Array.isArray(i))return i.flatMap(n=>TS(t,n));if(Array.isArray(i==null?void 0:i.variants)){let n;if(i.isProcessed)n=i.style;else{const{variants:s,...a}=i;n=a}return x5(t,i.variants,[n])}return i!=null&&i.isProcessed?i.style:i}function x5(t,e,i=[]){var s;let n;t:for(let a=0;a<e.length;a+=1){const o=e[a];if(typeof o.props=="function"){if(n??(n={...t,...t.ownerState,ownerState:t.ownerState}),!o.props(n))continue}else for(const r in o.props)if(t[r]!==o.props[r]&&((s=t.ownerState)==null?void 0:s[r])!==o.props[r])continue t;typeof o.style=="function"?(n??(n={...t,...t.ownerState,ownerState:t.ownerState}),i.push(o.style(n))):i.push(o.style)}return i}function E7(t={}){const{themeId:e,defaultTheme:i=k7,rootShouldForwardProp:n=bC,slotShouldForwardProp:s=bC}=t;function a(r){N7(r,e,i)}return(r,l={})=>{vZ(r,k=>k.filter(E=>E!==Od));const{name:c,slot:h,skipVariantsResolver:p,skipSx:f,overridesResolver:y=L7(P7(h)),...m}=l,b=p!==void 0?p:h&&h!=="Root"&&h!=="root"||!1,v=f||!1;let S=bC;h==="Root"||h==="root"?S=n:h?S=s:R7(r)&&(S=void 0);const D=u5(r,{shouldForwardProp:S,label:O7(),...m}),I=k=>{if(typeof k=="function"&&k.__emotion_real!==k)return function(O){return TS(O,k)};if(Jr(k)){const E=m5(k);return E.variants?function(B){return TS(B,E)}:E.style}return k},T=(...k)=>{const E=[],O=k.map(I),B=[];if(E.push(a),c&&y&&B.push(function(j){var U,K;const W=(K=(U=j.theme.components)==null?void 0:U[c])==null?void 0:K.styleOverrides;if(!W)return null;const Z={};for(const $ in W)Z[$]=TS(j,W[$]);return y(j,Z)}),c&&!b&&B.push(function(j){var Z,U;const G=j.theme,W=(U=(Z=G==null?void 0:G.components)==null?void 0:Z[c])==null?void 0:U.variants;return W?x5(j,W):null}),v||B.push(Od),Array.isArray(O[0])){const F=O.shift(),j=new Array(E.length).fill(""),G=new Array(B.length).fill("");let W;W=[...j,...F,...G],W.raw=[...j,...F.raw,...G],E.unshift(W)}const R=[...E,...O,...B],L=D(...R);return r.muiName&&(L.muiName=r.muiName),L};return D.withConfig&&(T.withConfig=D.withConfig),T}}function O7(t,e){return void 0}function w7(t){for(const e in t)return!1;return!0}function R7(t){return typeof t=="string"&&t.charCodeAt(0)>96}function P7(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}function rk(t,e){const i={...e};for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const s=n;if(s==="components"||s==="slots")i[s]={...t[s],...i[s]};else if(s==="componentsProps"||s==="slotProps"){const a=t[s],o=e[s];if(!o)i[s]=a||{};else if(!a)i[s]=o;else{i[s]={...o};for(const r in a)if(Object.prototype.hasOwnProperty.call(a,r)){const l=r;i[s][l]=rk(a[l],o[l])}}}else i[s]===void 0&&(i[s]=t[s])}return i}const tx=typeof window<"u"?ot.useLayoutEffect:ot.useEffect;function B7(t,e=Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,i))}function wL(t,e=0,i=1){return B7(t,e,i)}function z7(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let i=t.match(e);return i&&i[0].length===1&&(i=i.map(n=>n+n)),i?`rgb${i.length===4?"a":""}(${i.map((n,s)=>s<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function qu(t){if(t.type)return t;if(t.charAt(0)==="#")return qu(z7(t));const e=t.indexOf("("),i=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(i))throw new Error(Zu(9,t));let n=t.substring(e+1,t.length-1),s;if(i==="color"){if(n=n.split(" "),s=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(s))throw new Error(Zu(10,s))}else n=n.split(",");return n=n.map(a=>parseFloat(a)),{type:i,values:n,colorSpace:s}}const _7=t=>{const e=qu(t);return e.values.slice(0,3).map((i,n)=>e.type.includes("hsl")&&n!==0?`${i}%`:i).join(" ")},Im=(t,e)=>{try{return _7(t)}catch{return t}};function GM(t){const{type:e,colorSpace:i}=t;let{values:n}=t;return e.includes("rgb")?n=n.map((s,a)=>a<3?parseInt(s,10):s):e.includes("hsl")&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),e.includes("color")?n=`${i} ${n.join(" ")}`:n=`${n.join(", ")}`,`${e}(${n})`}function b5(t){t=qu(t);const{values:e}=t,i=e[0],n=e[1]/100,s=e[2]/100,a=n*Math.min(s,1-s),o=(c,h=(c+i/30)%12)=>s-a*Math.max(Math.min(h-3,9-h,1),-1);let r="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(r+="a",l.push(e[3])),GM({type:r,values:l})}function lk(t){t=qu(t);let e=t.type==="hsl"||t.type==="hsla"?qu(b5(t)).values:t.values;return e=e.map(i=>(t.type!=="color"&&(i/=255),i<=.03928?i/12.92:((i+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function j7(t,e){const i=lk(t),n=lk(e);return(Math.max(i,n)+.05)/(Math.min(i,n)+.05)}function In(t,e){return t=qu(t),e=wL(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,GM(t)}function rv(t,e,i){try{return In(t,e)}catch{return t}}function VM(t,e){if(t=qu(t),e=wL(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let i=0;i<3;i+=1)t.values[i]*=1-e;return GM(t)}function Ke(t,e,i){try{return VM(t,e)}catch{return t}}function UM(t,e){if(t=qu(t),e=wL(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let i=0;i<3;i+=1)t.values[i]+=(255-t.values[i])*e;else if(t.type.includes("color"))for(let i=0;i<3;i+=1)t.values[i]+=(1-t.values[i])*e;return GM(t)}function Xe(t,e,i){try{return UM(t,e)}catch{return t}}function F7(t,e=.15){return lk(t)>.5?VM(t,e):UM(t,e)}function lv(t,e,i){try{return F7(t,e)}catch{return t}}function RL(t,e=166){let i;function n(...s){const a=()=>{t.apply(this,s)};clearTimeout(i),i=setTimeout(a,e)}return n.clear=()=>{clearTimeout(i)},n}function v5(t){return t&&t.ownerDocument||document}function HS(t){return v5(t).defaultView||window}function G7(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let Bz=0;function V7(t){const[e,i]=ot.useState(t),n=t||e;return ot.useEffect(()=>{e==null&&(Bz+=1,i(`mui-${Bz}`))},[e]),n}const U7={...ik},zz=U7.useId;function H7(t){if(zz!==void 0){const e=zz();return t??e}return V7(t)}function Cd(t){const e=ot.useRef(t);return tx(()=>{e.current=t}),ot.useRef((...i)=>(0,e.current)(...i)).current}function wd(...t){return ot.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(i=>{G7(i,e)})},t)}const _z={};function S5(t,e){const i=ot.useRef(_z);return i.current===_z&&(i.current=t(e)),i}const W7=[];function Y7(t){ot.useEffect(t,W7)}class PL{constructor(){qy(this,"currentId",null);qy(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});qy(this,"disposeEffect",()=>this.clear)}static create(){return new PL}start(e,i){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,i()},e)}}function $7(){const t=S5(PL.create).current;return Y7(t.disposeEffect),t}function jz(t){try{return t.matches(":focus-visible")}catch{}return!1}const M5=t=>{const e=ot.useRef({});return ot.useEffect(()=>{e.current=t}),e.current};function Pi(t,e,i=void 0){const n={};for(const s in t){const a=t[s];let o="",r=!0;for(let l=0;l<a.length;l+=1){const c=a[l];c&&(o+=(r===!0?"":" ")+e(c),r=!1,i&&i[c]&&(o+=" "+i[c]))}n[s]=o}return n}function K7(t){return typeof t=="string"}function A5(t,e,i){return t===void 0||K7(t)?e:{...e,ownerState:{...e.ownerState,...i}}}function X7(t,e=[]){if(t===void 0)return{};const i={};return Object.keys(t).filter(n=>n.match(/^on[A-Z]/)&&typeof t[n]=="function"&&!e.includes(n)).forEach(n=>{i[n]=t[n]}),i}function Fz(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(i=>!(i.match(/^on[A-Z]/)&&typeof t[i]=="function")).forEach(i=>{e[i]=t[i]}),e}function D5(t){const{getSlotProps:e,additionalProps:i,externalSlotProps:n,externalForwardedProps:s,className:a}=t;if(!e){const y=Qt(i==null?void 0:i.className,a,s==null?void 0:s.className,n==null?void 0:n.className),m={...i==null?void 0:i.style,...s==null?void 0:s.style,...n==null?void 0:n.style},b={...i,...s,...n};return y.length>0&&(b.className=y),Object.keys(m).length>0&&(b.style=m),{props:b,internalRef:void 0}}const o=X7({...s,...n}),r=Fz(n),l=Fz(s),c=e(o),h=Qt(c==null?void 0:c.className,i==null?void 0:i.className,a,s==null?void 0:s.className,n==null?void 0:n.className),p={...c==null?void 0:c.style,...i==null?void 0:i.style,...s==null?void 0:s.style,...n==null?void 0:n.style},f={...c,...i,...l,...r};return h.length>0&&(f.className=h),Object.keys(p).length>0&&(f.style=p),{props:f,internalRef:c.ref}}function I5(t,e,i){return typeof t=="function"?t(e,i):t}function Xf(t){var p;const{elementType:e,externalSlotProps:i,ownerState:n,skipResolvingSlotProps:s=!1,...a}=t,o=s?{}:I5(i,n),{props:r,internalRef:l}=D5({...a,externalSlotProps:o}),c=wd(l,o==null?void 0:o.ref,(p=t.additionalProps)==null?void 0:p.ref);return A5(e,{...r,ref:c},n)}const Z7=ot.createContext(),T5=()=>ot.useContext(Z7)??!1,q7=ot.createContext(void 0);function Q7(t){const{theme:e,name:i,props:n}=t;if(!e||!e.components||!e.components[i])return n;const s=e.components[i];return s.defaultProps?rk(s.defaultProps,n):!s.styleOverrides&&!s.variants?rk(s,n):n}function J7({props:t,name:e}){const i=ot.useContext(q7);return Q7({props:t,name:e,theme:{components:i}})}const Gz={theme:void 0};function tq(t){let e,i;return function(s){let a=e;return(a===void 0||s.theme!==i)&&(Gz.theme=s.theme,a=m5(t(Gz)),e=a,i=s.theme),a}}function eq(t=""){function e(...n){if(!n.length)return"";const s=n[0];return typeof s=="string"&&!s.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${s}${e(...n.slice(1))})`:`, ${s}`}return(n,...s)=>`var(--${t?`${t}-`:""}${n}${e(...s)})`}const Vz=(t,e,i,n=[])=>{let s=t;e.forEach((a,o)=>{o===e.length-1?Array.isArray(s)?s[Number(a)]=i:s&&typeof s=="object"&&(s[a]=i):s&&typeof s=="object"&&(s[a]||(s[a]=n.includes(a)?[]:{}),s=s[a])})},iq=(t,e,i)=>{function n(s,a=[],o=[]){Object.entries(s).forEach(([r,l])=>{(!i||i&&!i([...a,r]))&&l!=null&&(typeof l=="object"&&Object.keys(l).length>0?n(l,[...a,r],Array.isArray(l)?[...o,r]:o):e([...a,r],l,o))})}n(t)},nq=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(n=>t.includes(n))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function vC(t,e){const{prefix:i,shouldSkipGeneratingVar:n}=e||{},s={},a={},o={};return iq(t,(r,l,c)=>{if((typeof l=="string"||typeof l=="number")&&(!n||!n(r,l))){const h=`--${i?`${i}-`:""}${r.join("-")}`,p=nq(r,l);Object.assign(s,{[h]:p}),Vz(a,r,`var(${h})`,c),Vz(o,r,`var(${h}, ${p})`,c)}},r=>r[0]==="vars"),{css:s,vars:a,varsWithDefaults:o}}function sq(t,e={}){const{getSelector:i=v,disableCssColorScheme:n,colorSchemeSelector:s}=e,{colorSchemes:a={},components:o,defaultColorScheme:r="light",...l}=t,{vars:c,css:h,varsWithDefaults:p}=vC(l,e);let f=p;const y={},{[r]:m,...b}=a;if(Object.entries(b||{}).forEach(([I,T])=>{const{vars:k,css:E,varsWithDefaults:O}=vC(T,e);f=Ga(f,O),y[I]={css:E,vars:k}}),m){const{css:I,vars:T,varsWithDefaults:k}=vC(m,e);f=Ga(f,k),y[r]={css:I,vars:T}}function v(I,T){var E,O;let k=s;if(s==="class"&&(k=".%s"),s==="data"&&(k="[data-%s]"),s!=null&&s.startsWith("data-")&&!s.includes("%s")&&(k=`[${s}="%s"]`),I){if(k==="media")return t.defaultColorScheme===I?":root":{[`@media (prefers-color-scheme: ${((O=(E=a[I])==null?void 0:E.palette)==null?void 0:O.mode)||I})`]:{":root":T}};if(k)return t.defaultColorScheme===I?`:root, ${k.replace("%s",String(I))}`:k.replace("%s",String(I))}return":root"}return{vars:f,generateThemeVars:()=>{let I={...c};return Object.entries(y).forEach(([,{vars:T}])=>{I=Ga(I,T)}),I},generateStyleSheets:()=>{var B,R;const I=[],T=t.defaultColorScheme||"light";function k(L,F){Object.keys(F).length&&I.push(typeof L=="string"?{[L]:{...F}}:L)}k(i(void 0,{...h}),h);const{[T]:E,...O}=y;if(E){const{css:L}=E,F=(R=(B=a[T])==null?void 0:B.palette)==null?void 0:R.mode,j=!n&&F?{colorScheme:F,...L}:{...L};k(i(T,{...j}),j)}return Object.entries(O).forEach(([L,{css:F}])=>{var W,Z;const j=(Z=(W=a[L])==null?void 0:W.palette)==null?void 0:Z.mode,G=!n&&j?{colorScheme:j,...F}:{...F};k(i(L,{...G}),G)}),I}}}function aq(t){return function(i){return t==="media"?`@media (prefers-color-scheme: ${i})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${i}"] &`:t==="class"?`.${i} &`:t==="data"?`[data-${i}] &`:`${t.replace("%s",i)} &`:"&"}}function C5(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Zm.white,default:Zm.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const oq=C5();function k5(){return{text:{primary:Zm.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Zm.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const Uz=k5();function Hz(t,e,i,n){const s=n.light||n,a=n.dark||n*1.5;t[e]||(t.hasOwnProperty(i)?t[e]=t[i]:e==="light"?t.light=UM(t.main,s):e==="dark"&&(t.dark=VM(t.main,a)))}function rq(t="light"){return t==="dark"?{main:rf[200],light:rf[50],dark:rf[400]}:{main:rf[700],light:rf[400],dark:rf[800]}}function lq(t="light"){return t==="dark"?{main:of[200],light:of[50],dark:of[400]}:{main:of[500],light:of[300],dark:of[700]}}function cq(t="light"){return t==="dark"?{main:af[500],light:af[300],dark:af[700]}:{main:af[700],light:af[400],dark:af[800]}}function uq(t="light"){return t==="dark"?{main:lf[400],light:lf[300],dark:lf[700]}:{main:lf[700],light:lf[500],dark:lf[900]}}function hq(t="light"){return t==="dark"?{main:cf[400],light:cf[300],dark:cf[700]}:{main:cf[800],light:cf[500],dark:cf[900]}}function dq(t="light"){return t==="dark"?{main:tm[400],light:tm[300],dark:tm[700]}:{main:"#ed6c02",light:tm[500],dark:tm[900]}}function BL(t){const{mode:e="light",contrastThreshold:i=3,tonalOffset:n=.2,...s}=t,a=t.primary||rq(e),o=t.secondary||lq(e),r=t.error||cq(e),l=t.info||uq(e),c=t.success||hq(e),h=t.warning||dq(e);function p(b){return j7(b,Uz.text.primary)>=i?Uz.text.primary:oq.text.primary}const f=({color:b,name:v,mainShade:S=500,lightShade:D=300,darkShade:I=700})=>{if(b={...b},!b.main&&b[S]&&(b.main=b[S]),!b.hasOwnProperty("main"))throw new Error(Zu(11,v?` (${v})`:"",S));if(typeof b.main!="string")throw new Error(Zu(12,v?` (${v})`:"",JSON.stringify(b.main)));return Hz(b,"light",D,n),Hz(b,"dark",I,n),b.contrastText||(b.contrastText=p(b.main)),b};let y;return e==="light"?y=C5():e==="dark"&&(y=k5()),Ga({common:{...Zm},mode:e,primary:f({color:a,name:"primary"}),secondary:f({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:f({color:r,name:"error"}),warning:f({color:h,name:"warning"}),info:f({color:l,name:"info"}),success:f({color:c,name:"success"}),grey:vX,contrastThreshold:i,getContrastText:p,augmentColor:f,tonalOffset:n,...y},s)}function pq(t){const e={};return Object.entries(t).forEach(n=>{const[s,a]=n;typeof a=="object"&&(e[s]=`${a.fontStyle?`${a.fontStyle} `:""}${a.fontVariant?`${a.fontVariant} `:""}${a.fontWeight?`${a.fontWeight} `:""}${a.fontStretch?`${a.fontStretch} `:""}${a.fontSize||""}${a.lineHeight?`/${a.lineHeight} `:""}${a.fontFamily||""}`)}),e}function fq(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function gq(t){return Math.round(t*1e5)/1e5}const Wz={textTransform:"uppercase"},Yz='"Roboto", "Helvetica", "Arial", sans-serif';function yq(t,e){const{fontFamily:i=Yz,fontSize:n=14,fontWeightLight:s=300,fontWeightRegular:a=400,fontWeightMedium:o=500,fontWeightBold:r=700,htmlFontSize:l=16,allVariants:c,pxToRem:h,...p}=typeof e=="function"?e(t):e,f=n/14,y=h||(v=>`${v/l*f}rem`),m=(v,S,D,I,T)=>({fontFamily:i,fontWeight:v,fontSize:y(S),lineHeight:D,...i===Yz?{letterSpacing:`${gq(I/S)}em`}:{},...T,...c}),b={h1:m(s,96,1.167,-1.5),h2:m(s,60,1.2,-.5),h3:m(a,48,1.167,0),h4:m(a,34,1.235,.25),h5:m(a,24,1.334,0),h6:m(o,20,1.6,.15),subtitle1:m(a,16,1.75,.15),subtitle2:m(o,14,1.57,.1),body1:m(a,16,1.5,.15),body2:m(a,14,1.43,.15),button:m(o,14,1.75,.4,Wz),caption:m(a,12,1.66,.4),overline:m(a,12,2.66,1,Wz),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Ga({htmlFontSize:l,pxToRem:y,fontFamily:i,fontSize:n,fontWeightLight:s,fontWeightRegular:a,fontWeightMedium:o,fontWeightBold:r,...b},p,{clone:!1})}const mq=.2,xq=.14,bq=.12;function ui(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${mq})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${xq})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${bq})`].join(",")}const vq=["none",ui(0,2,1,-1,0,1,1,0,0,1,3,0),ui(0,3,1,-2,0,2,2,0,0,1,5,0),ui(0,3,3,-2,0,3,4,0,0,1,8,0),ui(0,2,4,-1,0,4,5,0,0,1,10,0),ui(0,3,5,-1,0,5,8,0,0,1,14,0),ui(0,3,5,-1,0,6,10,0,0,1,18,0),ui(0,4,5,-2,0,7,10,1,0,2,16,1),ui(0,5,5,-3,0,8,10,1,0,3,14,2),ui(0,5,6,-3,0,9,12,1,0,3,16,2),ui(0,6,6,-3,0,10,14,1,0,4,18,3),ui(0,6,7,-4,0,11,15,1,0,4,20,3),ui(0,7,8,-4,0,12,17,2,0,5,22,4),ui(0,7,8,-4,0,13,19,2,0,5,24,4),ui(0,7,9,-4,0,14,21,2,0,5,26,4),ui(0,8,9,-5,0,15,22,2,0,6,28,5),ui(0,8,10,-5,0,16,24,2,0,6,30,5),ui(0,8,11,-5,0,17,26,2,0,6,32,5),ui(0,9,11,-5,0,18,28,2,0,7,34,6),ui(0,9,12,-6,0,19,29,2,0,7,36,6),ui(0,10,13,-6,0,20,31,3,0,8,38,7),ui(0,10,13,-6,0,21,33,3,0,8,40,7),ui(0,10,14,-6,0,22,35,3,0,8,42,7),ui(0,11,14,-7,0,23,36,3,0,9,44,8),ui(0,11,15,-7,0,24,38,3,0,9,46,8)],Sq={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Mq={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function $z(t){return`${Math.round(t)}ms`}function Aq(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function Dq(t){const e={...Sq,...t.easing},i={...Mq,...t.duration};return{getAutoHeightDuration:Aq,create:(s=["all"],a={})=>{const{duration:o=i.standard,easing:r=e.easeInOut,delay:l=0,...c}=a;return(Array.isArray(s)?s:[s]).map(h=>`${h} ${typeof o=="string"?o:$z(o)} ${r} ${typeof l=="string"?l:$z(l)}`).join(",")},...t,easing:e,duration:i}}const Iq={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function Tq(t){return Jr(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function L5(t={}){const e={...t};function i(n){const s=Object.entries(n);for(let a=0;a<s.length;a++){const[o,r]=s[a];!Tq(r)||o.startsWith("unstable_")?delete n[o]:Jr(r)&&(n[o]={...r},i(n[o]))}}return i(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function ck(t={},...e){const{breakpoints:i,mixins:n={},spacing:s,palette:a={},transitions:o={},typography:r={},shape:l,...c}=t;if(t.vars)throw new Error(Zu(20));const h=BL(a),p=NL(t);let f=Ga(p,{mixins:fq(p.breakpoints,n),palette:h,shadows:vq.slice(),typography:yq(h,r),transitions:Dq(o),zIndex:{...Iq}});return f=Ga(f,c),f=e.reduce((y,m)=>Ga(y,m),f),f.unstable_sxConfig={...Ux,...c==null?void 0:c.unstable_sxConfig},f.unstable_sx=function(m){return Od({sx:m,theme:this})},f.toRuntimeSource=L5,f}function uk(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const Cq=[...Array(25)].map((t,e)=>{if(e===0)return"none";const i=uk(e);return`linear-gradient(rgba(255 255 255 / ${i}), rgba(255 255 255 / ${i}))`});function N5(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function E5(t){return t==="dark"?Cq:[]}function kq(t){const{palette:e={mode:"light"},opacity:i,overlays:n,...s}=t,a=BL(e);return{palette:a,opacity:{...N5(a.mode),...i},overlays:n||E5(a.mode),...s}}function Lq(t){var e;return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!((e=t[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const Nq=t=>[...[...Array(25)].map((e,i)=>`--${t?`${t}-`:""}overlays-${i}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],Eq=t=>(e,i)=>{const n=t.rootSelector||":root",s=t.colorSchemeSelector;let a=s;if(s==="class"&&(a=".%s"),s==="data"&&(a="[data-%s]"),s!=null&&s.startsWith("data-")&&!s.includes("%s")&&(a=`[${s}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const o={};return Nq(t.cssVarPrefix).forEach(r=>{o[r]=i[r],delete i[r]}),a==="media"?{[n]:i,"@media (prefers-color-scheme: dark)":{[n]:o}}:a?{[a.replace("%s",e)]:o,[`${n}, ${a.replace("%s",e)}`]:i}:{[n]:{...i,...o}}}if(a&&a!=="media")return`${n}, ${a.replace("%s",String(e))}`}else if(e){if(a==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[n]:i}};if(a)return a.replace("%s",String(e))}return n};function Oq(t,e){e.forEach(i=>{t[i]||(t[i]={})})}function ft(t,e,i){!t[e]&&i&&(t[e]=i)}function Tm(t){return typeof t!="string"||!t.startsWith("hsl")?t:b5(t)}function $l(t,e){`${e}Channel`in t||(t[`${e}Channel`]=Im(Tm(t[e])))}function wq(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const Gr=t=>{try{return t()}catch{}},Rq=(t="mui")=>eq(t);function SC(t,e,i,n){if(!e)return;e=e===!0?{}:e;const s=n==="dark"?"dark":"light";if(!i){t[n]=kq({...e,palette:{mode:s,...e==null?void 0:e.palette}});return}const{palette:a,...o}=ck({...i,palette:{mode:s,...e==null?void 0:e.palette}});return t[n]={...e,palette:a,opacity:{...N5(s),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||E5(s)},o}function Pq(t={},...e){const{colorSchemes:i={light:!0},defaultColorScheme:n,disableCssColorScheme:s=!1,cssVarPrefix:a="mui",shouldSkipGeneratingVar:o=Lq,colorSchemeSelector:r=i.light&&i.dark?"media":void 0,rootSelector:l=":root",...c}=t,h=Object.keys(i)[0],p=n||(i.light&&h!=="light"?"light":h),f=Rq(a),{[p]:y,light:m,dark:b,...v}=i,S={...v};let D=y;if((p==="dark"&&!("dark"in i)||p==="light"&&!("light"in i))&&(D=!0),!D)throw new Error(Zu(21,p));const I=SC(S,D,c,p);m&&!S.light&&SC(S,m,void 0,"light"),b&&!S.dark&&SC(S,b,void 0,"dark");let T={defaultColorScheme:p,...I,cssVarPrefix:a,colorSchemeSelector:r,rootSelector:l,getCssVar:f,colorSchemes:S,font:{...pq(I.typography),...I.font},spacing:wq(c.spacing)};Object.keys(T.colorSchemes).forEach(R=>{const L=T.colorSchemes[R].palette,F=j=>{const G=j.split("-"),W=G[1],Z=G[2];return f(j,L[W][Z])};if(L.mode==="light"&&(ft(L.common,"background","#fff"),ft(L.common,"onBackground","#000")),L.mode==="dark"&&(ft(L.common,"background","#000"),ft(L.common,"onBackground","#fff")),Oq(L,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),L.mode==="light"){ft(L.Alert,"errorColor",Ke(L.error.light,.6)),ft(L.Alert,"infoColor",Ke(L.info.light,.6)),ft(L.Alert,"successColor",Ke(L.success.light,.6)),ft(L.Alert,"warningColor",Ke(L.warning.light,.6)),ft(L.Alert,"errorFilledBg",F("palette-error-main")),ft(L.Alert,"infoFilledBg",F("palette-info-main")),ft(L.Alert,"successFilledBg",F("palette-success-main")),ft(L.Alert,"warningFilledBg",F("palette-warning-main")),ft(L.Alert,"errorFilledColor",Gr(()=>L.getContrastText(L.error.main))),ft(L.Alert,"infoFilledColor",Gr(()=>L.getContrastText(L.info.main))),ft(L.Alert,"successFilledColor",Gr(()=>L.getContrastText(L.success.main))),ft(L.Alert,"warningFilledColor",Gr(()=>L.getContrastText(L.warning.main))),ft(L.Alert,"errorStandardBg",Xe(L.error.light,.9)),ft(L.Alert,"infoStandardBg",Xe(L.info.light,.9)),ft(L.Alert,"successStandardBg",Xe(L.success.light,.9)),ft(L.Alert,"warningStandardBg",Xe(L.warning.light,.9)),ft(L.Alert,"errorIconColor",F("palette-error-main")),ft(L.Alert,"infoIconColor",F("palette-info-main")),ft(L.Alert,"successIconColor",F("palette-success-main")),ft(L.Alert,"warningIconColor",F("palette-warning-main")),ft(L.AppBar,"defaultBg",F("palette-grey-100")),ft(L.Avatar,"defaultBg",F("palette-grey-400")),ft(L.Button,"inheritContainedBg",F("palette-grey-300")),ft(L.Button,"inheritContainedHoverBg",F("palette-grey-A100")),ft(L.Chip,"defaultBorder",F("palette-grey-400")),ft(L.Chip,"defaultAvatarColor",F("palette-grey-700")),ft(L.Chip,"defaultIconColor",F("palette-grey-700")),ft(L.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),ft(L.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),ft(L.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),ft(L.LinearProgress,"primaryBg",Xe(L.primary.main,.62)),ft(L.LinearProgress,"secondaryBg",Xe(L.secondary.main,.62)),ft(L.LinearProgress,"errorBg",Xe(L.error.main,.62)),ft(L.LinearProgress,"infoBg",Xe(L.info.main,.62)),ft(L.LinearProgress,"successBg",Xe(L.success.main,.62)),ft(L.LinearProgress,"warningBg",Xe(L.warning.main,.62)),ft(L.Skeleton,"bg",`rgba(${F("palette-text-primaryChannel")} / 0.11)`),ft(L.Slider,"primaryTrack",Xe(L.primary.main,.62)),ft(L.Slider,"secondaryTrack",Xe(L.secondary.main,.62)),ft(L.Slider,"errorTrack",Xe(L.error.main,.62)),ft(L.Slider,"infoTrack",Xe(L.info.main,.62)),ft(L.Slider,"successTrack",Xe(L.success.main,.62)),ft(L.Slider,"warningTrack",Xe(L.warning.main,.62));const j=lv(L.background.default,.8);ft(L.SnackbarContent,"bg",j),ft(L.SnackbarContent,"color",Gr(()=>L.getContrastText(j))),ft(L.SpeedDialAction,"fabHoverBg",lv(L.background.paper,.15)),ft(L.StepConnector,"border",F("palette-grey-400")),ft(L.StepContent,"border",F("palette-grey-400")),ft(L.Switch,"defaultColor",F("palette-common-white")),ft(L.Switch,"defaultDisabledColor",F("palette-grey-100")),ft(L.Switch,"primaryDisabledColor",Xe(L.primary.main,.62)),ft(L.Switch,"secondaryDisabledColor",Xe(L.secondary.main,.62)),ft(L.Switch,"errorDisabledColor",Xe(L.error.main,.62)),ft(L.Switch,"infoDisabledColor",Xe(L.info.main,.62)),ft(L.Switch,"successDisabledColor",Xe(L.success.main,.62)),ft(L.Switch,"warningDisabledColor",Xe(L.warning.main,.62)),ft(L.TableCell,"border",Xe(rv(L.divider,1),.88)),ft(L.Tooltip,"bg",rv(L.grey[700],.92))}if(L.mode==="dark"){ft(L.Alert,"errorColor",Xe(L.error.light,.6)),ft(L.Alert,"infoColor",Xe(L.info.light,.6)),ft(L.Alert,"successColor",Xe(L.success.light,.6)),ft(L.Alert,"warningColor",Xe(L.warning.light,.6)),ft(L.Alert,"errorFilledBg",F("palette-error-dark")),ft(L.Alert,"infoFilledBg",F("palette-info-dark")),ft(L.Alert,"successFilledBg",F("palette-success-dark")),ft(L.Alert,"warningFilledBg",F("palette-warning-dark")),ft(L.Alert,"errorFilledColor",Gr(()=>L.getContrastText(L.error.dark))),ft(L.Alert,"infoFilledColor",Gr(()=>L.getContrastText(L.info.dark))),ft(L.Alert,"successFilledColor",Gr(()=>L.getContrastText(L.success.dark))),ft(L.Alert,"warningFilledColor",Gr(()=>L.getContrastText(L.warning.dark))),ft(L.Alert,"errorStandardBg",Ke(L.error.light,.9)),ft(L.Alert,"infoStandardBg",Ke(L.info.light,.9)),ft(L.Alert,"successStandardBg",Ke(L.success.light,.9)),ft(L.Alert,"warningStandardBg",Ke(L.warning.light,.9)),ft(L.Alert,"errorIconColor",F("palette-error-main")),ft(L.Alert,"infoIconColor",F("palette-info-main")),ft(L.Alert,"successIconColor",F("palette-success-main")),ft(L.Alert,"warningIconColor",F("palette-warning-main")),ft(L.AppBar,"defaultBg",F("palette-grey-900")),ft(L.AppBar,"darkBg",F("palette-background-paper")),ft(L.AppBar,"darkColor",F("palette-text-primary")),ft(L.Avatar,"defaultBg",F("palette-grey-600")),ft(L.Button,"inheritContainedBg",F("palette-grey-800")),ft(L.Button,"inheritContainedHoverBg",F("palette-grey-700")),ft(L.Chip,"defaultBorder",F("palette-grey-700")),ft(L.Chip,"defaultAvatarColor",F("palette-grey-300")),ft(L.Chip,"defaultIconColor",F("palette-grey-300")),ft(L.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),ft(L.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),ft(L.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),ft(L.LinearProgress,"primaryBg",Ke(L.primary.main,.5)),ft(L.LinearProgress,"secondaryBg",Ke(L.secondary.main,.5)),ft(L.LinearProgress,"errorBg",Ke(L.error.main,.5)),ft(L.LinearProgress,"infoBg",Ke(L.info.main,.5)),ft(L.LinearProgress,"successBg",Ke(L.success.main,.5)),ft(L.LinearProgress,"warningBg",Ke(L.warning.main,.5)),ft(L.Skeleton,"bg",`rgba(${F("palette-text-primaryChannel")} / 0.13)`),ft(L.Slider,"primaryTrack",Ke(L.primary.main,.5)),ft(L.Slider,"secondaryTrack",Ke(L.secondary.main,.5)),ft(L.Slider,"errorTrack",Ke(L.error.main,.5)),ft(L.Slider,"infoTrack",Ke(L.info.main,.5)),ft(L.Slider,"successTrack",Ke(L.success.main,.5)),ft(L.Slider,"warningTrack",Ke(L.warning.main,.5));const j=lv(L.background.default,.98);ft(L.SnackbarContent,"bg",j),ft(L.SnackbarContent,"color",Gr(()=>L.getContrastText(j))),ft(L.SpeedDialAction,"fabHoverBg",lv(L.background.paper,.15)),ft(L.StepConnector,"border",F("palette-grey-600")),ft(L.StepContent,"border",F("palette-grey-600")),ft(L.Switch,"defaultColor",F("palette-grey-300")),ft(L.Switch,"defaultDisabledColor",F("palette-grey-600")),ft(L.Switch,"primaryDisabledColor",Ke(L.primary.main,.55)),ft(L.Switch,"secondaryDisabledColor",Ke(L.secondary.main,.55)),ft(L.Switch,"errorDisabledColor",Ke(L.error.main,.55)),ft(L.Switch,"infoDisabledColor",Ke(L.info.main,.55)),ft(L.Switch,"successDisabledColor",Ke(L.success.main,.55)),ft(L.Switch,"warningDisabledColor",Ke(L.warning.main,.55)),ft(L.TableCell,"border",Ke(rv(L.divider,1),.68)),ft(L.Tooltip,"bg",rv(L.grey[700],.92))}$l(L.background,"default"),$l(L.background,"paper"),$l(L.common,"background"),$l(L.common,"onBackground"),$l(L,"divider"),Object.keys(L).forEach(j=>{const G=L[j];j!=="tonalOffset"&&G&&typeof G=="object"&&(G.main&&ft(L[j],"mainChannel",Im(Tm(G.main))),G.light&&ft(L[j],"lightChannel",Im(Tm(G.light))),G.dark&&ft(L[j],"darkChannel",Im(Tm(G.dark))),G.contrastText&&ft(L[j],"contrastTextChannel",Im(Tm(G.contrastText))),j==="text"&&($l(L[j],"primary"),$l(L[j],"secondary")),j==="action"&&(G.active&&$l(L[j],"active"),G.selected&&$l(L[j],"selected")))})}),T=e.reduce((R,L)=>Ga(R,L),T);const k={prefix:a,disableCssColorScheme:s,shouldSkipGeneratingVar:o,getSelector:Eq(T)},{vars:E,generateThemeVars:O,generateStyleSheets:B}=sq(T,k);return T.vars=E,Object.entries(T.colorSchemes[T.defaultColorScheme]).forEach(([R,L])=>{T[R]=L}),T.generateThemeVars=O,T.generateStyleSheets=B,T.generateSpacing=function(){return f5(c.spacing,kL(this))},T.getColorSchemeSelector=aq(r),T.spacing=T.generateSpacing(),T.shouldSkipGeneratingVar=o,T.unstable_sxConfig={...Ux,...c==null?void 0:c.unstable_sxConfig},T.unstable_sx=function(L){return Od({sx:L,theme:this})},T.toRuntimeSource=L5,T}function Kz(t,e,i){t.colorSchemes&&i&&(t.colorSchemes[e]={...i!==!0&&i,palette:BL({...i===!0?{}:i.palette,mode:e})})}function O5(t={},...e){const{palette:i,cssVariables:n=!1,colorSchemes:s=i?void 0:{light:!0},defaultColorScheme:a=i==null?void 0:i.mode,...o}=t,r=a||"light",l=s==null?void 0:s[r],c={...s,...i?{[r]:{...typeof l!="boolean"&&l,palette:i}}:void 0};if(n===!1){if(!("colorSchemes"in t))return ck(t,...e);let h=i;"palette"in t||c[r]&&(c[r]!==!0?h=c[r].palette:r==="dark"&&(h={mode:"dark"}));const p=ck({...t,palette:h},...e);return p.defaultColorScheme=r,p.colorSchemes=c,p.palette.mode==="light"&&(p.colorSchemes.light={...c.light!==!0&&c.light,palette:p.palette},Kz(p,"dark",c.dark)),p.palette.mode==="dark"&&(p.colorSchemes.dark={...c.dark!==!0&&c.dark,palette:p.palette},Kz(p,"light",c.light)),p}return!i&&!("light"in c)&&r==="light"&&(c.light=!0),Pq({...o,colorSchemes:c,defaultColorScheme:r,...typeof n!="boolean"&&n},...e)}const zL=O5();function _L(){const t=EL(zL);return t[kM]||t}function Bq(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const zq=t=>Bq(t)&&t!=="classes",he=E7({themeId:kM,defaultTheme:zL,rootShouldForwardProp:zq});function _q(t){return tt.jsx(A7,{...t,defaultTheme:zL,themeId:kM})}function jq(t){return function(i){return tt.jsx(_q,{styles:typeof t=="function"?n=>t({theme:n,...i}):t})}}function Fq(){return OL}const Ln=tq;function Ti(t){return J7(t)}function Gq(t){return Ii("MuiSvgIcon",t)}di("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Vq=t=>{const{color:e,fontSize:i,classes:n}=t,s={root:["root",e!=="inherit"&&`color${Ct(e)}`,`fontSize${Ct(i)}`]};return Pi(s,Gq,n)},Uq=he("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,i.color!=="inherit"&&e[`color${Ct(i.color)}`],e[`fontSize${Ct(i.fontSize)}`]]}})(Ln(({theme:t})=>{var e,i,n,s,a,o,r,l,c,h,p,f,y,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(s=(e=t.transitions)==null?void 0:e.create)==null?void 0:s.call(e,"fill",{duration:(n=(i=(t.vars??t).transitions)==null?void 0:i.duration)==null?void 0:n.shorter}),variants:[{props:b=>!b.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((o=(a=t.typography)==null?void 0:a.pxToRem)==null?void 0:o.call(a,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((l=(r=t.typography)==null?void 0:r.pxToRem)==null?void 0:l.call(r,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((h=(c=t.typography)==null?void 0:c.pxToRem)==null?void 0:h.call(c,35))||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,b])=>b&&b.main).map(([b])=>{var v,S;return{props:{color:b},style:{color:(S=(v=(t.vars??t).palette)==null?void 0:v[b])==null?void 0:S.main}}}),{props:{color:"action"},style:{color:(f=(p=(t.vars??t).palette)==null?void 0:p.action)==null?void 0:f.active}},{props:{color:"disabled"},style:{color:(m=(y=(t.vars??t).palette)==null?void 0:y.action)==null?void 0:m.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),hk=ot.forwardRef(function(e,i){const n=Ti({props:e,name:"MuiSvgIcon"}),{children:s,className:a,color:o="inherit",component:r="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:h=!1,titleAccess:p,viewBox:f="0 0 24 24",...y}=n,m=ot.isValidElement(s)&&s.type==="svg",b={...n,color:o,component:r,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:h,viewBox:f,hasSvgAsChild:m},v={};h||(v.viewBox=f);const S=Vq(b);return tt.jsxs(Uq,{as:r,className:Qt(S.root,a),focusable:"false",color:c,"aria-hidden":p?void 0:!0,role:p?"img":void 0,ref:i,...v,...y,...m&&s.props,ownerState:b,children:[m?s.props.children:s,p?tt.jsx("title",{children:p}):null]})});hk.muiName="SvgIcon";function hs(t,e){function i(n,s){return tt.jsx(hk,{"data-testid":`${e}Icon`,ref:s,...n,children:t})}return i.muiName=hk.muiName,ot.memo(ot.forwardRef(i))}function Hq(t,e){if(t==null)return{};var i={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;i[n]=t[n]}return i}function dk(t,e){return dk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,n){return i.__proto__=n,i},dk(t,e)}function Wq(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,dk(t,e)}const Xz=Ru.createContext(null);function Yq(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jL(t,e){var i=function(a){return e&&ot.isValidElement(a)?e(a):a},n=Object.create(null);return t&&ot.Children.map(t,function(s){return s}).forEach(function(s){n[s.key]=i(s)}),n}function $q(t,e){t=t||{},e=e||{};function i(h){return h in e?e[h]:t[h]}var n=Object.create(null),s=[];for(var a in t)a in e?s.length&&(n[a]=s,s=[]):s.push(a);var o,r={};for(var l in e){if(n[l])for(o=0;o<n[l].length;o++){var c=n[l][o];r[n[l][o]]=i(c)}r[l]=i(l)}for(o=0;o<s.length;o++)r[s[o]]=i(s[o]);return r}function Sd(t,e,i){return i[e]!=null?i[e]:t.props[e]}function Kq(t,e){return jL(t.children,function(i){return ot.cloneElement(i,{onExited:e.bind(null,i),in:!0,appear:Sd(i,"appear",t),enter:Sd(i,"enter",t),exit:Sd(i,"exit",t)})})}function Xq(t,e,i){var n=jL(t.children),s=$q(e,n);return Object.keys(s).forEach(function(a){var o=s[a];if(ot.isValidElement(o)){var r=a in e,l=a in n,c=e[a],h=ot.isValidElement(c)&&!c.props.in;l&&(!r||h)?s[a]=ot.cloneElement(o,{onExited:i.bind(null,o),in:!0,exit:Sd(o,"exit",t),enter:Sd(o,"enter",t)}):!l&&r&&!h?s[a]=ot.cloneElement(o,{in:!1}):l&&r&&ot.isValidElement(c)&&(s[a]=ot.cloneElement(o,{onExited:i.bind(null,o),in:c.props.in,exit:Sd(o,"exit",t),enter:Sd(o,"enter",t)}))}}),s}var Zq=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},qq={component:"div",childFactory:function(e){return e}},FL=function(t){Wq(e,t);function e(n,s){var a;a=t.call(this,n,s)||this;var o=a.handleExited.bind(Yq(a));return a.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},a}var i=e.prototype;return i.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},i.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(s,a){var o=a.children,r=a.handleExited,l=a.firstRender;return{children:l?Kq(s,r):Xq(s,o,r),firstRender:!1}},i.handleExited=function(s,a){var o=jL(this.props.children);s.key in o||(s.props.onExited&&s.props.onExited(a),this.mounted&&this.setState(function(r){var l=GS({},r.children);return delete l[s.key],{children:l}}))},i.render=function(){var s=this.props,a=s.component,o=s.childFactory,r=Hq(s,["component","childFactory"]),l=this.state.contextValue,c=Zq(this.state.children).map(o);return delete r.appear,delete r.enter,delete r.exit,a===null?Ru.createElement(Xz.Provider,{value:l},c):Ru.createElement(Xz.Provider,{value:l},Ru.createElement(a,r,c))},e}(Ru.Component);FL.propTypes={};FL.defaultProps=qq;function Qq(t){return Ii("MuiPaper",t)}di("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const Jq=t=>{const{square:e,elevation:i,variant:n,classes:s}=t,a={root:["root",n,!e&&"rounded",n==="elevation"&&`elevation${i}`]};return Pi(a,Qq,s)},tQ=he("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,e[i.variant],!i.square&&e.rounded,i.variant==="elevation"&&e[`elevation${i.elevation}`]]}})(Ln(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(t.vars||t).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),eQ=ot.forwardRef(function(e,i){var y;const n=Ti({props:e,name:"MuiPaper"}),s=_L(),{className:a,component:o="div",elevation:r=1,square:l=!1,variant:c="elevation",...h}=n,p={...n,component:o,elevation:r,square:l,variant:c},f=Jq(p);return tt.jsx(tQ,{as:o,ownerState:p,className:Qt(f.root,a),ref:i,...h,style:{...c==="elevation"&&{"--Paper-shadow":(s.vars||s).shadows[r],...s.vars&&{"--Paper-overlay":(y=s.vars.overlays)==null?void 0:y[r]},...!s.vars&&s.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${In("#fff",uk(r))}, ${In("#fff",uk(r))})`}},...h.style}})});function iQ(t,e){const{className:i,elementType:n,ownerState:s,externalForwardedProps:a,internalForwardedProps:o,shouldForwardComponentProp:r=!1,...l}=e,{component:c,slots:h={[t]:void 0},slotProps:p={[t]:void 0},...f}=a,y=h[t]||n,m=I5(p[t],s),{props:{component:b,...v},internalRef:S}=D5({className:i,...l,externalForwardedProps:void 0,externalSlotProps:m}),D=wd(S,m==null?void 0:m.ref,e.ref),I=b,T=A5(y,{...t==="root",...!h[t]&&o,...v,...I&&!r&&{as:I},...I&&r&&{component:I},ref:D},s);return[y,T]}class WS{constructor(){qy(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new WS}static use(){const e=S5(WS.create).current,[i,n]=ot.useState(!1);return e.shouldMount=i,e.setShouldMount=n,ot.useEffect(e.mountEffect,[i]),e}mount(){return this.mounted||(this.mounted=sQ(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...e){this.mount().then(()=>{var i;return(i=this.ref.current)==null?void 0:i.start(...e)})}stop(...e){this.mount().then(()=>{var i;return(i=this.ref.current)==null?void 0:i.stop(...e)})}pulsate(...e){this.mount().then(()=>{var i;return(i=this.ref.current)==null?void 0:i.pulsate(...e)})}}function nQ(){return WS.use()}function sQ(){let t,e;const i=new Promise((n,s)=>{t=n,e=s});return i.resolve=t,i.reject=e,i}function aQ(t){const{className:e,classes:i,pulsate:n=!1,rippleX:s,rippleY:a,rippleSize:o,in:r,onExited:l,timeout:c}=t,[h,p]=ot.useState(!1),f=Qt(e,i.ripple,i.rippleVisible,n&&i.ripplePulsate),y={width:o,height:o,top:-(o/2)+a,left:-(o/2)+s},m=Qt(i.child,h&&i.childLeaving,n&&i.childPulsate);return!r&&!h&&p(!0),ot.useEffect(()=>{if(!r&&l!=null){const b=setTimeout(l,c);return()=>{clearTimeout(b)}}},[l,r,c]),tt.jsx("span",{className:f,style:y,children:tt.jsx("span",{className:m})})}const Ao=di("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),pk=550,oQ=80,rQ=Fx`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,lQ=Fx`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,cQ=Fx`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,uQ=he("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),hQ=he(aQ,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${Ao.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${rQ};
    animation-duration: ${pk}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  &.${Ao.ripplePulsate} {
    animation-duration: ${({theme:t})=>t.transitions.duration.shorter}ms;
  }

  & .${Ao.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${Ao.childLeaving} {
    opacity: 0;
    animation-name: ${lQ};
    animation-duration: ${pk}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  & .${Ao.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${cQ};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,dQ=ot.forwardRef(function(e,i){const n=Ti({props:e,name:"MuiTouchRipple"}),{center:s=!1,classes:a={},className:o,...r}=n,[l,c]=ot.useState([]),h=ot.useRef(0),p=ot.useRef(null);ot.useEffect(()=>{p.current&&(p.current(),p.current=null)},[l]);const f=ot.useRef(!1),y=$7(),m=ot.useRef(null),b=ot.useRef(null),v=ot.useCallback(T=>{const{pulsate:k,rippleX:E,rippleY:O,rippleSize:B,cb:R}=T;c(L=>[...L,tt.jsx(hQ,{classes:{ripple:Qt(a.ripple,Ao.ripple),rippleVisible:Qt(a.rippleVisible,Ao.rippleVisible),ripplePulsate:Qt(a.ripplePulsate,Ao.ripplePulsate),child:Qt(a.child,Ao.child),childLeaving:Qt(a.childLeaving,Ao.childLeaving),childPulsate:Qt(a.childPulsate,Ao.childPulsate)},timeout:pk,pulsate:k,rippleX:E,rippleY:O,rippleSize:B},h.current)]),h.current+=1,p.current=R},[a]),S=ot.useCallback((T={},k={},E=()=>{})=>{const{pulsate:O=!1,center:B=s||k.pulsate,fakeElement:R=!1}=k;if((T==null?void 0:T.type)==="mousedown"&&f.current){f.current=!1;return}(T==null?void 0:T.type)==="touchstart"&&(f.current=!0);const L=R?null:b.current,F=L?L.getBoundingClientRect():{width:0,height:0,left:0,top:0};let j,G,W;if(B||T===void 0||T.clientX===0&&T.clientY===0||!T.clientX&&!T.touches)j=Math.round(F.width/2),G=Math.round(F.height/2);else{const{clientX:Z,clientY:U}=T.touches&&T.touches.length>0?T.touches[0]:T;j=Math.round(Z-F.left),G=Math.round(U-F.top)}if(B)W=Math.sqrt((2*F.width**2+F.height**2)/3),W%2===0&&(W+=1);else{const Z=Math.max(Math.abs((L?L.clientWidth:0)-j),j)*2+2,U=Math.max(Math.abs((L?L.clientHeight:0)-G),G)*2+2;W=Math.sqrt(Z**2+U**2)}T!=null&&T.touches?m.current===null&&(m.current=()=>{v({pulsate:O,rippleX:j,rippleY:G,rippleSize:W,cb:E})},y.start(oQ,()=>{m.current&&(m.current(),m.current=null)})):v({pulsate:O,rippleX:j,rippleY:G,rippleSize:W,cb:E})},[s,v,y]),D=ot.useCallback(()=>{S({},{pulsate:!0})},[S]),I=ot.useCallback((T,k)=>{if(y.clear(),(T==null?void 0:T.type)==="touchend"&&m.current){m.current(),m.current=null,y.start(0,()=>{I(T,k)});return}m.current=null,c(E=>E.length>0?E.slice(1):E),p.current=k},[y]);return ot.useImperativeHandle(i,()=>({pulsate:D,start:S,stop:I}),[D,S,I]),tt.jsx(uQ,{className:Qt(Ao.root,a.root,o),ref:b,...r,children:tt.jsx(FL,{component:null,exit:!0,children:l})})});function pQ(t){return Ii("MuiButtonBase",t)}const fQ=di("MuiButtonBase",["root","disabled","focusVisible"]),gQ=t=>{const{disabled:e,focusVisible:i,focusVisibleClassName:n,classes:s}=t,o=Pi({root:["root",e&&"disabled",i&&"focusVisible"]},pQ,s);return i&&n&&(o.root+=` ${n}`),o},yQ=he("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${fQ.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),ex=ot.forwardRef(function(e,i){const n=Ti({props:e,name:"MuiButtonBase"}),{action:s,centerRipple:a=!1,children:o,className:r,component:l="button",disabled:c=!1,disableRipple:h=!1,disableTouchRipple:p=!1,focusRipple:f=!1,focusVisibleClassName:y,LinkComponent:m="a",onBlur:b,onClick:v,onContextMenu:S,onDragLeave:D,onFocus:I,onFocusVisible:T,onKeyDown:k,onKeyUp:E,onMouseDown:O,onMouseLeave:B,onMouseUp:R,onTouchEnd:L,onTouchMove:F,onTouchStart:j,tabIndex:G=0,TouchRippleProps:W,touchRippleRef:Z,type:U,...K}=n,$=ot.useRef(null),X=nQ(),_=wd(X.ref,Z),[V,Y]=ot.useState(!1);c&&V&&Y(!1),ot.useImperativeHandle(s,()=>({focusVisible:()=>{Y(!0),$.current.focus()}}),[]);const J=X.shouldMount&&!h&&!c;ot.useEffect(()=>{V&&f&&!h&&X.pulsate()},[h,f,V,X]);const q=Kl(X,"start",O,p),nt=Kl(X,"stop",S,p),st=Kl(X,"stop",D,p),rt=Kl(X,"stop",R,p),ct=Kl(X,"stop",St=>{V&&St.preventDefault(),B&&B(St)},p),dt=Kl(X,"start",j,p),ht=Kl(X,"stop",L,p),yt=Kl(X,"stop",F,p),pt=Kl(X,"stop",St=>{jz(St.target)||Y(!1),b&&b(St)},!1),vt=Cd(St=>{$.current||($.current=St.currentTarget),jz(St.target)&&(Y(!0),T&&T(St)),I&&I(St)}),At=()=>{const St=$.current;return l&&l!=="button"&&!(St.tagName==="A"&&St.href)},bt=Cd(St=>{f&&!St.repeat&&V&&St.key===" "&&X.stop(St,()=>{X.start(St)}),St.target===St.currentTarget&&At()&&St.key===" "&&St.preventDefault(),k&&k(St),St.target===St.currentTarget&&At()&&St.key==="Enter"&&!c&&(St.preventDefault(),v&&v(St))}),Rt=Cd(St=>{f&&St.key===" "&&V&&!St.defaultPrevented&&X.stop(St,()=>{X.pulsate(St)}),E&&E(St),v&&St.target===St.currentTarget&&At()&&St.key===" "&&!St.defaultPrevented&&v(St)});let Nt=l;Nt==="button"&&(K.href||K.to)&&(Nt=m);const Ot={};Nt==="button"?(Ot.type=U===void 0?"button":U,Ot.disabled=c):(!K.href&&!K.to&&(Ot.role="button"),c&&(Ot["aria-disabled"]=c));const Xt=wd(i,$),zt={...n,centerRipple:a,component:l,disabled:c,disableRipple:h,disableTouchRipple:p,focusRipple:f,tabIndex:G,focusVisible:V},Gt=gQ(zt);return tt.jsxs(yQ,{as:Nt,className:Qt(Gt.root,r),ownerState:zt,onBlur:pt,onClick:v,onContextMenu:nt,onFocus:vt,onKeyDown:bt,onKeyUp:Rt,onMouseDown:q,onMouseLeave:ct,onMouseUp:rt,onDragLeave:st,onTouchEnd:ht,onTouchMove:yt,onTouchStart:dt,ref:Xt,tabIndex:c?-1:G,type:U,...Ot,...K,children:[o,J?tt.jsx(dQ,{ref:_,center:a,...W}):null]})});function Kl(t,e,i,n=!1){return Cd(s=>(i&&i(s),n||t[e](s),!0))}function mQ(t){return typeof t.main=="string"}function xQ(t,e=[]){if(!mQ(t))return!1;for(const i of e)if(!t.hasOwnProperty(i)||typeof t[i]!="string")return!1;return!0}function il(t=[]){return([,e])=>e&&xQ(e,t)}function bQ(t){return Ii("MuiCircularProgress",t)}di("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const xu=44,fk=Fx`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,gk=Fx`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,vQ=typeof fk!="string"?IL`
        animation: ${fk} 1.4s linear infinite;
      `:null,SQ=typeof gk!="string"?IL`
        animation: ${gk} 1.4s ease-in-out infinite;
      `:null,MQ=t=>{const{classes:e,variant:i,color:n,disableShrink:s}=t,a={root:["root",i,`color${Ct(n)}`],svg:["svg"],circle:["circle",`circle${Ct(i)}`,s&&"circleDisableShrink"]};return Pi(a,bQ,e)},AQ=he("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,e[i.variant],e[`color${Ct(i.color)}`]]}})(Ln(({theme:t})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:vQ||{animation:`${fk} 1.4s linear infinite`}},...Object.entries(t.palette).filter(il()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}}))]}))),DQ=he("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),IQ=he("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.circle,e[`circle${Ct(i.variant)}`],i.disableShrink&&e.circleDisableShrink]}})(Ln(({theme:t})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:SQ||{animation:`${gk} 1.4s ease-in-out infinite`}}]}))),yk=ot.forwardRef(function(e,i){const n=Ti({props:e,name:"MuiCircularProgress"}),{className:s,color:a="primary",disableShrink:o=!1,size:r=40,style:l,thickness:c=3.6,value:h=0,variant:p="indeterminate",...f}=n,y={...n,color:a,disableShrink:o,size:r,thickness:c,value:h,variant:p},m=MQ(y),b={},v={},S={};if(p==="determinate"){const D=2*Math.PI*((xu-c)/2);b.strokeDasharray=D.toFixed(3),S["aria-valuenow"]=Math.round(h),b.strokeDashoffset=`${((100-h)/100*D).toFixed(3)}px`,v.transform="rotate(-90deg)"}return tt.jsx(AQ,{className:Qt(m.root,s),style:{width:r,height:r,...v,...l},ownerState:y,ref:i,role:"progressbar",...S,...f,children:tt.jsx(DQ,{className:m.svg,ownerState:y,viewBox:`${xu/2} ${xu/2} ${xu} ${xu}`,children:tt.jsx(IQ,{className:m.circle,style:b,ownerState:y,cx:xu,cy:xu,r:(xu-c)/2,fill:"none",strokeWidth:c})})})});function TQ(t){return Ii("MuiIconButton",t)}const Zz=di("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),CQ=t=>{const{classes:e,disabled:i,color:n,edge:s,size:a,loading:o}=t,r={root:["root",o&&"loading",i&&"disabled",n!=="default"&&`color${Ct(n)}`,s&&`edge${Ct(s)}`,`size${Ct(a)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return Pi(r,TQ,e)},kQ=he(ex,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,i.loading&&e.loading,i.color!=="default"&&e[`color${Ct(i.color)}`],i.edge&&e[`edge${Ct(i.edge)}`],e[`size${Ct(i.size)}`]]}})(Ln(({theme:t})=>({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:In(t.palette.action.active,t.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),Ln(({theme:t})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter(il()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),...Object.entries(t.palette).filter(il()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":t.vars?`rgba(${(t.vars||t).palette[e].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:In((t.vars||t).palette[e].main,t.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],[`&.${Zz.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled},[`&.${Zz.loading}`]:{color:"transparent"}}))),LQ=he("span",{name:"MuiIconButton",slot:"LoadingIndicator",overridesResolver:(t,e)=>e.loadingIndicator})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(t.vars||t).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),NQ=ot.forwardRef(function(e,i){const n=Ti({props:e,name:"MuiIconButton"}),{edge:s=!1,children:a,className:o,color:r="default",disabled:l=!1,disableFocusRipple:c=!1,size:h="medium",id:p,loading:f=null,loadingIndicator:y,...m}=n,b=H7(p),v=y??tt.jsx(yk,{"aria-labelledby":b,color:"inherit",size:16}),S={...n,edge:s,color:r,disabled:l,disableFocusRipple:c,loading:f,loadingIndicator:v,size:h},D=CQ(S);return tt.jsxs(kQ,{id:b,className:Qt(D.root,o),centerRipple:!0,focusRipple:!c,disabled:l||f,ref:i,...m,ownerState:S,children:[typeof f=="boolean"&&tt.jsx("span",{className:D.loadingWrapper,style:{display:"contents"},children:tt.jsx(LQ,{className:D.loadingIndicator,ownerState:S,children:f&&v})}),a]})});function EQ(t){return Ii("MuiTypography",t)}di("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const OQ={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},wQ=Fq(),RQ=t=>{const{align:e,gutterBottom:i,noWrap:n,paragraph:s,variant:a,classes:o}=t,r={root:["root",a,t.align!=="inherit"&&`align${Ct(e)}`,i&&"gutterBottom",n&&"noWrap",s&&"paragraph"]};return Pi(r,EQ,o)},PQ=he("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,i.variant&&e[i.variant],i.align!=="inherit"&&e[`align${Ct(i.align)}`],i.noWrap&&e.noWrap,i.gutterBottom&&e.gutterBottom,i.paragraph&&e.paragraph]}})(Ln(({theme:t})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(([i,n])=>i!=="inherit"&&n&&typeof n=="object").map(([i,n])=>({props:{variant:i},style:n})),...Object.entries(t.palette).filter(il()).map(([i])=>({props:{color:i},style:{color:(t.vars||t).palette[i].main}})),...Object.entries(((e=t.palette)==null?void 0:e.text)||{}).filter(([,i])=>typeof i=="string").map(([i])=>({props:{color:`text${Ct(i)}`},style:{color:(t.vars||t).palette.text[i]}})),{props:({ownerState:i})=>i.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:i})=>i.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:i})=>i.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:i})=>i.paragraph,style:{marginBottom:16}}]}})),qz={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},bi=ot.forwardRef(function(e,i){const{color:n,...s}=Ti({props:e,name:"MuiTypography"}),a=!OQ[n],o=wQ({...s,...a&&{color:n}}),{align:r="inherit",className:l,component:c,gutterBottom:h=!1,noWrap:p=!1,paragraph:f=!1,variant:y="body1",variantMapping:m=qz,...b}=o,v={...o,align:r,color:n,className:l,component:c,gutterBottom:h,noWrap:p,paragraph:f,variant:y,variantMapping:m},S=c||(f?"p":m[y]||qz[y])||"span",D=RQ(v);return tt.jsx(PQ,{as:S,ref:i,className:Qt(D.root,l),...b,ownerState:v,style:{...r!=="inherit"&&{"--Typography-textAlign":r},...b.style}})});function BQ(t){return Ii("MuiAppBar",t)}di("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const zQ=t=>{const{color:e,position:i,classes:n}=t,s={root:["root",`color${Ct(e)}`,`position${Ct(i)}`]};return Pi(s,BQ,n)},Qz=(t,e)=>t?`${t==null?void 0:t.replace(")","")}, ${e})`:e,_Q=he(eQ,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,e[`position${Ct(i.position)}`],e[`color${Ct(i.color)}`]]}})(Ln(({theme:t})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[100],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[100]),...t.applyStyles("dark",{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[900],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[900])})}},...Object.entries(t.palette).filter(il(["contrastText"])).map(([e])=>({props:{color:e},style:{"--AppBar-background":(t.vars??t).palette[e].main,"--AppBar-color":(t.vars??t).palette[e].contrastText}})),{props:e=>e.enableColorOnDark===!0&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:e=>e.enableColorOnDark===!1&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...t.applyStyles("dark",{backgroundColor:t.vars?Qz(t.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:t.vars?Qz(t.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...t.applyStyles("dark",{backgroundImage:"none"})}}]}))),jQ=ot.forwardRef(function(e,i){const n=Ti({props:e,name:"MuiAppBar"}),{className:s,color:a="primary",enableColorOnDark:o=!1,position:r="fixed",...l}=n,c={...n,color:a,position:r,enableColorOnDark:o},h=zQ(c);return tt.jsx(_Q,{square:!0,component:"header",ownerState:c,elevation:4,className:Qt(h.root,s,r==="fixed"&&"mui-fixed"),ref:i,...l})}),FQ=hs(tt.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function GQ(t){return Ii("MuiChip",t)}const ce=di("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),VQ=t=>{const{classes:e,disabled:i,size:n,color:s,iconColor:a,onDelete:o,clickable:r,variant:l}=t,c={root:["root",l,i&&"disabled",`size${Ct(n)}`,`color${Ct(s)}`,r&&"clickable",r&&`clickableColor${Ct(s)}`,o&&"deletable",o&&`deletableColor${Ct(s)}`,`${l}${Ct(s)}`],label:["label",`label${Ct(n)}`],avatar:["avatar",`avatar${Ct(n)}`,`avatarColor${Ct(s)}`],icon:["icon",`icon${Ct(n)}`,`iconColor${Ct(a)}`],deleteIcon:["deleteIcon",`deleteIcon${Ct(n)}`,`deleteIconColor${Ct(s)}`,`deleteIcon${Ct(l)}Color${Ct(s)}`]};return Pi(c,GQ,e)},UQ=he("div",{name:"MuiChip",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t,{color:n,iconColor:s,clickable:a,onDelete:o,size:r,variant:l}=i;return[{[`& .${ce.avatar}`]:e.avatar},{[`& .${ce.avatar}`]:e[`avatar${Ct(r)}`]},{[`& .${ce.avatar}`]:e[`avatarColor${Ct(n)}`]},{[`& .${ce.icon}`]:e.icon},{[`& .${ce.icon}`]:e[`icon${Ct(r)}`]},{[`& .${ce.icon}`]:e[`iconColor${Ct(s)}`]},{[`& .${ce.deleteIcon}`]:e.deleteIcon},{[`& .${ce.deleteIcon}`]:e[`deleteIcon${Ct(r)}`]},{[`& .${ce.deleteIcon}`]:e[`deleteIconColor${Ct(n)}`]},{[`& .${ce.deleteIcon}`]:e[`deleteIcon${Ct(l)}Color${Ct(n)}`]},e.root,e[`size${Ct(r)}`],e[`color${Ct(n)}`],a&&e.clickable,a&&n!=="default"&&e[`clickableColor${Ct(n)})`],o&&e.deletable,o&&n!=="default"&&e[`deletableColor${Ct(n)}`],e[l],e[`${l}${Ct(n)}`]]}})(Ln(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[700]:t.palette.grey[300];return{maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${ce.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${ce.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:e,fontSize:t.typography.pxToRem(12)},[`& .${ce.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${ce.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${ce.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${ce.icon}`]:{marginLeft:5,marginRight:-6},[`& .${ce.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.26)`:In(t.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:In(t.palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${ce.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${ce.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(t.palette).filter(il(["contrastText"])).map(([i])=>({props:{color:i},style:{backgroundColor:(t.vars||t).palette[i].main,color:(t.vars||t).palette[i].contrastText,[`& .${ce.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[i].contrastTextChannel} / 0.7)`:In(t.palette[i].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[i].contrastText}}}})),{props:i=>i.iconColor===i.color,style:{[`& .${ce.icon}`]:{color:t.vars?t.vars.palette.Chip.defaultIconColor:e}}},{props:i=>i.iconColor===i.color&&i.color!=="default",style:{[`& .${ce.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${ce.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:In(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}}},...Object.entries(t.palette).filter(il(["dark"])).map(([i])=>({props:{color:i,onDelete:!0},style:{[`&.${ce.focusVisible}`]:{background:(t.vars||t).palette[i].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:In(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},[`&.${ce.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:In(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}}},...Object.entries(t.palette).filter(il(["dark"])).map(([i])=>({props:{color:i,clickable:!0},style:{[`&:hover, &.${ce.focusVisible}`]:{backgroundColor:(t.vars||t).palette[i].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${ce.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${ce.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${ce.avatar}`]:{marginLeft:4},[`& .${ce.avatarSmall}`]:{marginLeft:2},[`& .${ce.icon}`]:{marginLeft:4},[`& .${ce.iconSmall}`]:{marginLeft:2},[`& .${ce.deleteIcon}`]:{marginRight:5},[`& .${ce.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(t.palette).filter(il()).map(([i])=>({props:{variant:"outlined",color:i},style:{color:(t.vars||t).palette[i].main,border:`1px solid ${t.vars?`rgba(${t.vars.palette[i].mainChannel} / 0.7)`:In(t.palette[i].main,.7)}`,[`&.${ce.clickable}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[i].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:In(t.palette[i].main,t.palette.action.hoverOpacity)},[`&.${ce.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[i].mainChannel} / ${t.vars.palette.action.focusOpacity})`:In(t.palette[i].main,t.palette.action.focusOpacity)},[`& .${ce.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[i].mainChannel} / 0.7)`:In(t.palette[i].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[i].main}}}}))]}})),HQ=he("span",{name:"MuiChip",slot:"Label",overridesResolver:(t,e)=>{const{ownerState:i}=t,{size:n}=i;return[e.label,e[`label${Ct(n)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function Jz(t){return t.key==="Backspace"||t.key==="Delete"}const w5=ot.forwardRef(function(e,i){const n=Ti({props:e,name:"MuiChip"}),{avatar:s,className:a,clickable:o,color:r="default",component:l,deleteIcon:c,disabled:h=!1,icon:p,label:f,onClick:y,onDelete:m,onKeyDown:b,onKeyUp:v,size:S="medium",variant:D="filled",tabIndex:I,skipFocusWhenDisabled:T=!1,...k}=n,E=ot.useRef(null),O=wd(E,i),B=X=>{X.stopPropagation(),m&&m(X)},R=X=>{X.currentTarget===X.target&&Jz(X)&&X.preventDefault(),b&&b(X)},L=X=>{X.currentTarget===X.target&&m&&Jz(X)&&m(X),v&&v(X)},F=o!==!1&&y?!0:o,j=F||m?ex:l||"div",G={...n,component:j,disabled:h,size:S,color:r,iconColor:ot.isValidElement(p)&&p.props.color||r,onDelete:!!m,clickable:F,variant:D},W=VQ(G),Z=j===ex?{component:l||"div",focusVisibleClassName:W.focusVisible,...m&&{disableRipple:!0}}:{};let U=null;m&&(U=c&&ot.isValidElement(c)?ot.cloneElement(c,{className:Qt(c.props.className,W.deleteIcon),onClick:B}):tt.jsx(FQ,{className:Qt(W.deleteIcon),onClick:B}));let K=null;s&&ot.isValidElement(s)&&(K=ot.cloneElement(s,{className:Qt(W.avatar,s.props.className)}));let $=null;return p&&ot.isValidElement(p)&&($=ot.cloneElement(p,{className:Qt(W.icon,p.props.className)})),tt.jsxs(UQ,{as:j,className:Qt(W.root,a),disabled:F&&h?!0:void 0,onClick:y,onKeyDown:R,onKeyUp:L,ref:O,tabIndex:T&&h?-1:I,ownerState:G,...Z,...k,children:[K||$,tt.jsx(HQ,{className:Qt(W.label),ownerState:G,children:f}),U]})});function cv(t){return parseInt(t,10)||0}const WQ={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function YQ(t){for(const e in t)return!1;return!0}function $Q(t){return YQ(t)||t.outerHeightStyle===0&&!t.overflowing}const KQ=ot.forwardRef(function(e,i){const{onChange:n,maxRows:s,minRows:a=1,style:o,value:r,...l}=e,{current:c}=ot.useRef(r!=null),h=ot.useRef(null),p=wd(i,h),f=ot.useRef(null),y=ot.useRef(null),m=ot.useCallback(()=>{const D=h.current,I=y.current;if(!D||!I)return;const k=HS(D).getComputedStyle(D);if(k.width==="0px")return{outerHeightStyle:0,overflowing:!1};I.style.width=k.width,I.value=D.value||e.placeholder||"x",I.value.slice(-1)===`
`&&(I.value+=" ");const E=k.boxSizing,O=cv(k.paddingBottom)+cv(k.paddingTop),B=cv(k.borderBottomWidth)+cv(k.borderTopWidth),R=I.scrollHeight;I.value="x";const L=I.scrollHeight;let F=R;a&&(F=Math.max(Number(a)*L,F)),s&&(F=Math.min(Number(s)*L,F)),F=Math.max(F,L);const j=F+(E==="border-box"?O+B:0),G=Math.abs(F-R)<=1;return{outerHeightStyle:j,overflowing:G}},[s,a,e.placeholder]),b=ot.useCallback(()=>{const D=h.current,I=m();if(!D||!I||$Q(I))return;const T=I.outerHeightStyle;f.current!==T&&(f.current=T,D.style.height=`${T}px`),D.style.overflow=I.overflowing?"hidden":""},[m]),v=ot.useRef(-1);tx(()=>{const D=RL(()=>b()),I=h==null?void 0:h.current;if(!I)return;const T=HS(I);T.addEventListener("resize",D);let k;return typeof ResizeObserver<"u"&&(k=new ResizeObserver(()=>{k.unobserve(I),cancelAnimationFrame(v.current),b(),v.current=requestAnimationFrame(()=>{k.observe(I)})}),k.observe(I)),()=>{D.clear(),cancelAnimationFrame(v.current),T.removeEventListener("resize",D),k&&k.disconnect()}},[m,b]),tx(()=>{b()});const S=D=>{c||b(),n&&n(D)};return tt.jsxs(ot.Fragment,{children:[tt.jsx("textarea",{value:r,onChange:S,ref:p,rows:a,style:o,...l}),tt.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:y,tabIndex:-1,style:{...WQ.shadow,...o,paddingTop:0,paddingBottom:0}})]})});function t4(t){return typeof t=="string"}function XQ({props:t,states:e,muiFormControl:i}){return e.reduce((n,s)=>(n[s]=t[s],i&&typeof t[s]>"u"&&(n[s]=i[s]),n),{})}const R5=ot.createContext(void 0);function ZQ(){return ot.useContext(R5)}function e4(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function qQ(t,e=!1){return t&&(e4(t.value)&&t.value!==""||e&&e4(t.defaultValue)&&t.defaultValue!=="")}function QQ(t){return Ii("MuiInputBase",t)}const mk=di("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var i4;const JQ=(t,e)=>{const{ownerState:i}=t;return[e.root,i.formControl&&e.formControl,i.startAdornment&&e.adornedStart,i.endAdornment&&e.adornedEnd,i.error&&e.error,i.size==="small"&&e.sizeSmall,i.multiline&&e.multiline,i.color&&e[`color${Ct(i.color)}`],i.fullWidth&&e.fullWidth,i.hiddenLabel&&e.hiddenLabel]},tJ=(t,e)=>{const{ownerState:i}=t;return[e.input,i.size==="small"&&e.inputSizeSmall,i.multiline&&e.inputMultiline,i.type==="search"&&e.inputTypeSearch,i.startAdornment&&e.inputAdornedStart,i.endAdornment&&e.inputAdornedEnd,i.hiddenLabel&&e.inputHiddenLabel]},eJ=t=>{const{classes:e,color:i,disabled:n,error:s,endAdornment:a,focused:o,formControl:r,fullWidth:l,hiddenLabel:c,multiline:h,readOnly:p,size:f,startAdornment:y,type:m}=t,b={root:["root",`color${Ct(i)}`,n&&"disabled",s&&"error",l&&"fullWidth",o&&"focused",r&&"formControl",f&&f!=="medium"&&`size${Ct(f)}`,h&&"multiline",y&&"adornedStart",a&&"adornedEnd",c&&"hiddenLabel",p&&"readOnly"],input:["input",n&&"disabled",m==="search"&&"inputTypeSearch",h&&"inputMultiline",f==="small"&&"inputSizeSmall",c&&"inputHiddenLabel",y&&"inputAdornedStart",a&&"inputAdornedEnd",p&&"readOnly"]};return Pi(b,QQ,e)},iJ=he("div",{name:"MuiInputBase",slot:"Root",overridesResolver:JQ})(Ln(({theme:t})=>({...t.typography.body1,color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${mk.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:i})=>e.multiline&&i==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),nJ=he("input",{name:"MuiInputBase",slot:"Input",overridesResolver:tJ})(Ln(({theme:t})=>{const e=t.palette.mode==="light",i={color:"currentColor",...t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})},n={opacity:"0 !important"},s=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&::-ms-input-placeholder":i,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${mk.formControl} &`]:{"&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${mk.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},variants:[{props:({ownerState:a})=>!a.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:a})=>a.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),n4=jq({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),sJ=ot.forwardRef(function(e,i){const n=Ti({props:e,name:"MuiInputBase"}),{"aria-describedby":s,autoComplete:a,autoFocus:o,className:r,color:l,components:c={},componentsProps:h={},defaultValue:p,disabled:f,disableInjectingGlobalStyles:y,endAdornment:m,error:b,fullWidth:v=!1,id:S,inputComponent:D="input",inputProps:I={},inputRef:T,margin:k,maxRows:E,minRows:O,multiline:B=!1,name:R,onBlur:L,onChange:F,onClick:j,onFocus:G,onKeyDown:W,onKeyUp:Z,placeholder:U,readOnly:K,renderSuffix:$,rows:X,size:_,slotProps:V={},slots:Y={},startAdornment:J,type:q="text",value:nt,...st}=n,rt=I.value!=null?I.value:nt,{current:ct}=ot.useRef(rt!=null),dt=ot.useRef(),ht=ot.useCallback(je=>{},[]),yt=wd(dt,T,I.ref,ht),[pt,vt]=ot.useState(!1),At=ZQ(),bt=XQ({props:n,muiFormControl:At,states:["color","disabled","error","hiddenLabel","size","required","filled"]});bt.focused=At?At.focused:pt,ot.useEffect(()=>{!At&&f&&pt&&(vt(!1),L&&L())},[At,f,pt,L]);const Rt=At&&At.onFilled,Nt=At&&At.onEmpty,Ot=ot.useCallback(je=>{qQ(je)?Rt&&Rt():Nt&&Nt()},[Rt,Nt]);tx(()=>{ct&&Ot({value:rt})},[rt,Ot,ct]);const Xt=je=>{G&&G(je),I.onFocus&&I.onFocus(je),At&&At.onFocus?At.onFocus(je):vt(!0)},zt=je=>{L&&L(je),I.onBlur&&I.onBlur(je),At&&At.onBlur?At.onBlur(je):vt(!1)},Gt=(je,...Mp)=>{if(!ct){const wr=je.target||dt.current;if(wr==null)throw new Error(Zu(1));Ot({value:wr.value})}I.onChange&&I.onChange(je,...Mp),F&&F(je,...Mp)};ot.useEffect(()=>{Ot(dt.current)},[]);const St=je=>{dt.current&&je.currentTarget===je.target&&dt.current.focus(),j&&j(je)};let Ie=D,Ht=I;B&&Ie==="input"&&(X?Ht={type:void 0,minRows:X,maxRows:X,...Ht}:Ht={type:void 0,maxRows:E,minRows:O,...Ht},Ie=KQ);const on=je=>{Ot(je.animationName==="mui-auto-fill-cancel"?dt.current:{value:"x"})};ot.useEffect(()=>{At&&At.setAdornedStart(!!J)},[At,J]);const Fi={...n,color:bt.color||"primary",disabled:bt.disabled,endAdornment:m,error:bt.error,focused:bt.focused,formControl:At,fullWidth:v,hiddenLabel:bt.hiddenLabel,multiline:B,size:bt.size,startAdornment:J,type:q},gs=eJ(Fi),Fs=Y.root||c.Root||iJ,Xn=V.root||h.root||{},oa=Y.input||c.Input||nJ;return Ht={...Ht,...V.input??h.input},tt.jsxs(ot.Fragment,{children:[!y&&typeof n4=="function"&&(i4||(i4=tt.jsx(n4,{}))),tt.jsxs(Fs,{...Xn,ref:i,onClick:St,...st,...!t4(Fs)&&{ownerState:{...Fi,...Xn.ownerState}},className:Qt(gs.root,Xn.className,r,K&&"MuiInputBase-readOnly"),children:[J,tt.jsx(R5.Provider,{value:null,children:tt.jsx(oa,{"aria-invalid":bt.error,"aria-describedby":s,autoComplete:a,autoFocus:o,defaultValue:p,disabled:bt.disabled,id:S,onAnimationStart:on,name:R,placeholder:U,readOnly:K,required:bt.required,rows:X,value:rt,onKeyDown:W,onKeyUp:Z,type:q,...Ht,...!t4(oa)&&{as:Ie,ownerState:{...Fi,...Ht.ownerState}},ref:yt,className:Qt(gs.input,Ht.className,K&&"MuiInputBase-readOnly"),onBlur:zt,onChange:Gt,onFocus:Xt})}),m,$?$({...bt,startAdornment:J}):null]})]})}),aJ=hs(tt.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function oJ(t){return Ii("MuiAvatar",t)}di("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const rJ=t=>{const{classes:e,variant:i,colorDefault:n}=t;return Pi({root:["root",i,n&&"colorDefault"],img:["img"],fallback:["fallback"]},oJ,e)},lJ=he("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,e[i.variant],i.colorDefault&&e.colorDefault]}})(Ln(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(t.vars||t).palette.background.default,...t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:t.palette.grey[400],...t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})}}}]}))),cJ=he("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(t,e)=>e.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),uJ=he(aJ,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(t,e)=>e.fallback})({width:"75%",height:"75%"});function hJ({crossOrigin:t,referrerPolicy:e,src:i,srcSet:n}){const[s,a]=ot.useState(!1);return ot.useEffect(()=>{if(!i&&!n)return;a(!1);let o=!0;const r=new Image;return r.onload=()=>{o&&a("loaded")},r.onerror=()=>{o&&a("error")},r.crossOrigin=t,r.referrerPolicy=e,r.src=i,n&&(r.srcset=n),()=>{o=!1}},[t,e,i,n]),s}const dJ=ot.forwardRef(function(e,i){const n=Ti({props:e,name:"MuiAvatar"}),{alt:s,children:a,className:o,component:r="div",slots:l={},slotProps:c={},imgProps:h,sizes:p,src:f,srcSet:y,variant:m="circular",...b}=n;let v=null;const S={...n,component:r,variant:m},D=hJ({...h,...typeof c.img=="function"?c.img(S):c.img,src:f,srcSet:y}),I=f||y,T=I&&D!=="error";S.colorDefault=!T,delete S.ownerState;const k=rJ(S),[E,O]=iQ("img",{className:k.img,elementType:cJ,externalForwardedProps:{slots:l,slotProps:{img:{...h,...c.img}}},additionalProps:{alt:s,src:f,srcSet:y,sizes:p},ownerState:S});return T?v=tt.jsx(E,{...O}):a||a===0?v=a:I&&s?v=s[0]:v=tt.jsx(uJ,{ownerState:S,className:k.fallback}),tt.jsx(lJ,{as:r,className:Qt(k.root,o),ref:i,...b,ownerState:S,children:v})});function pJ(t){const{badgeContent:e,invisible:i=!1,max:n=99,showZero:s=!1}=t,a=M5({badgeContent:e,max:n});let o=i;i===!1&&e===0&&!s&&(o=!0);const{badgeContent:r,max:l=n}=o?a:t,c=r&&Number(r)>l?`${l}+`:r;return{badgeContent:r,invisible:o,max:l,displayValue:c}}function fJ(t){return Ii("MuiBadge",t)}const bu=di("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),MC=10,AC=4,gJ=t=>{const{color:e,anchorOrigin:i,invisible:n,overlap:s,variant:a,classes:o={}}=t,r={root:["root"],badge:["badge",a,n&&"invisible",`anchorOrigin${Ct(i.vertical)}${Ct(i.horizontal)}`,`anchorOrigin${Ct(i.vertical)}${Ct(i.horizontal)}${Ct(s)}`,`overlap${Ct(s)}`,e!=="default"&&`color${Ct(e)}`]};return Pi(r,fJ,o)},yJ=he("span",{name:"MuiBadge",slot:"Root",overridesResolver:(t,e)=>e.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),mJ=he("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.badge,e[i.variant],e[`anchorOrigin${Ct(i.anchorOrigin.vertical)}${Ct(i.anchorOrigin.horizontal)}${Ct(i.overlap)}`],i.color!=="default"&&e[`color${Ct(i.color)}`],i.invisible&&e.invisible]}})(Ln(({theme:t})=>({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(12),minWidth:MC*2,lineHeight:1,padding:"0 6px",height:MC*2,borderRadius:MC,zIndex:1,transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.enteringScreen}),variants:[...Object.entries(t.palette).filter(il(["contrastText"])).map(([e])=>({props:{color:e},style:{backgroundColor:(t.vars||t).palette[e].main,color:(t.vars||t).palette[e].contrastText}})),{props:{variant:"dot"},style:{borderRadius:AC,height:AC*2,minWidth:AC*2,padding:0}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${bu.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${bu.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${bu.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${bu.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${bu.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${bu.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${bu.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${bu.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.leavingScreen})}}]})));function s4(t){return{vertical:(t==null?void 0:t.vertical)??"top",horizontal:(t==null?void 0:t.horizontal)??"right"}}const xJ=ot.forwardRef(function(e,i){const n=Ti({props:e,name:"MuiBadge"}),{anchorOrigin:s,className:a,classes:o,component:r,components:l={},componentsProps:c={},children:h,overlap:p="rectangular",color:f="default",invisible:y=!1,max:m=99,badgeContent:b,slots:v,slotProps:S,showZero:D=!1,variant:I="standard",...T}=n,{badgeContent:k,invisible:E,max:O,displayValue:B}=pJ({max:m,invisible:y,badgeContent:b,showZero:D}),R=M5({anchorOrigin:s4(s),color:f,overlap:p,variant:I,badgeContent:b}),L=E||k==null&&I!=="dot",{color:F=f,overlap:j=p,anchorOrigin:G,variant:W=I}=L?R:n,Z=s4(G),U=W!=="dot"?B:void 0,K={...n,badgeContent:k,invisible:L,max:O,displayValue:U,showZero:D,anchorOrigin:Z,color:F,overlap:j,variant:W},$=gJ(K),X=(v==null?void 0:v.root)??l.Root??yJ,_=(v==null?void 0:v.badge)??l.Badge??mJ,V=(S==null?void 0:S.root)??c.root,Y=(S==null?void 0:S.badge)??c.badge,J=Xf({elementType:X,externalSlotProps:V,externalForwardedProps:T,additionalProps:{ref:i,as:r},ownerState:K,className:Qt(V==null?void 0:V.className,$.root,a)}),q=Xf({elementType:_,externalSlotProps:Y,ownerState:K,className:Qt($.badge,Y==null?void 0:Y.className)});return tt.jsxs(X,{...J,children:[h,tt.jsx(_,{...q,children:U})]})}),bJ=di("MuiBox",["root"]),vJ=O5(),be=T7({themeId:kM,defaultTheme:vJ,defaultClassName:bJ.root,generateClassName:g5.generate});function SJ(t){return Ii("MuiCardContent",t)}di("MuiCardContent",["root"]);const MJ=t=>{const{classes:e}=t;return Pi({root:["root"]},SJ,e)},AJ=he("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:16,"&:last-child":{paddingBottom:24}}),uv=ot.forwardRef(function(e,i){const n=Ti({props:e,name:"MuiCardContent"}),{className:s,component:a="div",...o}=n,r={...n,component:a},l=MJ(r);return tt.jsx(AJ,{as:a,className:Qt(l.root,s),ownerState:r,ref:i,...o})}),a4=ot.createContext();function DJ(t){return Ii("MuiGrid",t)}const IJ=[0,1,2,3,4,5,6,7,8,9,10],TJ=["column-reverse","column","row-reverse","row"],CJ=["nowrap","wrap-reverse","wrap"],im=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],ix=di("MuiGrid",["root","container","item","zeroMinWidth",...IJ.map(t=>`spacing-xs-${t}`),...TJ.map(t=>`direction-xs-${t}`),...CJ.map(t=>`wrap-xs-${t}`),...im.map(t=>`grid-xs-${t}`),...im.map(t=>`grid-sm-${t}`),...im.map(t=>`grid-md-${t}`),...im.map(t=>`grid-lg-${t}`),...im.map(t=>`grid-xl-${t}`)]);function kJ({theme:t,ownerState:e}){let i;return t.breakpoints.keys.reduce((n,s)=>{let a={};if(e[s]&&(i=e[s]),!i)return n;if(i===!0)a={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(i==="auto")a={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const o=RM({values:e.columns,breakpoints:t.breakpoints.values}),r=typeof o=="object"?o[s]:o;if(r==null)return n;const l=`${Math.round(i/r*1e8)/1e6}%`;let c={};if(e.container&&e.item&&e.columnSpacing!==0){const h=t.spacing(e.columnSpacing);if(h!=="0px"){const p=`calc(${l} + ${h})`;c={flexBasis:p,maxWidth:p}}}a={flexBasis:l,flexGrow:0,maxWidth:l,...c}}return t.breakpoints.values[s]===0?Object.assign(n,a):n[t.breakpoints.up(s)]=a,n},{})}function LJ({theme:t,ownerState:e}){const i=RM({values:e.direction,breakpoints:t.breakpoints.values});return zo({theme:t},i,n=>{const s={flexDirection:n};return n.startsWith("column")&&(s[`& > .${ix.item}`]={maxWidth:"none"}),s})}function P5({breakpoints:t,values:e}){let i="";Object.keys(e).forEach(s=>{i===""&&e[s]!==0&&(i=s)});const n=Object.keys(t).sort((s,a)=>t[s]-t[a]);return n.slice(0,n.indexOf(i))}function NJ({theme:t,ownerState:e}){const{container:i,rowSpacing:n}=e;let s={};if(i&&n!==0){const a=RM({values:n,breakpoints:t.breakpoints.values});let o;typeof a=="object"&&(o=P5({breakpoints:t.breakpoints.values,values:a})),s=zo({theme:t},a,(r,l)=>{const c=t.spacing(r);return c!=="0px"?{marginTop:`calc(-1 * ${c})`,[`& > .${ix.item}`]:{paddingTop:c}}:o!=null&&o.includes(l)?{}:{marginTop:0,[`& > .${ix.item}`]:{paddingTop:0}}})}return s}function EJ({theme:t,ownerState:e}){const{container:i,columnSpacing:n}=e;let s={};if(i&&n!==0){const a=RM({values:n,breakpoints:t.breakpoints.values});let o;typeof a=="object"&&(o=P5({breakpoints:t.breakpoints.values,values:a})),s=zo({theme:t},a,(r,l)=>{const c=t.spacing(r);if(c!=="0px"){const h=`calc(-1 * ${c})`;return{width:`calc(100% + ${c})`,marginLeft:h,[`& > .${ix.item}`]:{paddingLeft:c}}}return o!=null&&o.includes(l)?{}:{width:"100%",marginLeft:0,[`& > .${ix.item}`]:{paddingLeft:0}}})}return s}function OJ(t,e,i={}){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[i[`spacing-xs-${String(t)}`]];const n=[];return e.forEach(s=>{const a=t[s];Number(a)>0&&n.push(i[`spacing-${s}-${String(a)}`])}),n}const wJ=he("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t,{container:n,direction:s,item:a,spacing:o,wrap:r,zeroMinWidth:l,breakpoints:c}=i;let h=[];n&&(h=OJ(o,c,e));const p=[];return c.forEach(f=>{const y=i[f];y&&p.push(e[`grid-${f}-${String(y)}`])}),[e.root,n&&e.container,a&&e.item,l&&e.zeroMinWidth,...h,s!=="row"&&e[`direction-xs-${String(s)}`],r!=="wrap"&&e[`wrap-xs-${String(r)}`],...p]}})(({ownerState:t})=>({boxSizing:"border-box",...t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},...t.item&&{margin:0},...t.zeroMinWidth&&{minWidth:0},...t.wrap!=="wrap"&&{flexWrap:t.wrap}}),LJ,NJ,EJ,kJ);function RJ(t,e){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[`spacing-xs-${String(t)}`];const i=[];return e.forEach(n=>{const s=t[n];if(Number(s)>0){const a=`spacing-${n}-${String(s)}`;i.push(a)}}),i}const PJ=t=>{const{classes:e,container:i,direction:n,item:s,spacing:a,wrap:o,zeroMinWidth:r,breakpoints:l}=t;let c=[];i&&(c=RJ(a,l));const h=[];l.forEach(f=>{const y=t[f];y&&h.push(`grid-${f}-${String(y)}`)});const p={root:["root",i&&"container",s&&"item",r&&"zeroMinWidth",...c,n!=="row"&&`direction-xs-${String(n)}`,o!=="wrap"&&`wrap-xs-${String(o)}`,...h]};return Pi(p,DJ,e)},nm=ot.forwardRef(function(e,i){const n=Ti({props:e,name:"MuiGrid"}),{breakpoints:s}=_L(),a=OL(n),{className:o,columns:r,columnSpacing:l,component:c="div",container:h=!1,direction:p="row",item:f=!1,rowSpacing:y,spacing:m=0,wrap:b="wrap",zeroMinWidth:v=!1,...S}=a,D=y||m,I=l||m,T=ot.useContext(a4),k=h?r||12:T,E={},O={...S};s.keys.forEach(L=>{S[L]!=null&&(E[L]=S[L],delete O[L])});const B={...a,columns:k,container:h,direction:p,item:f,rowSpacing:D,columnSpacing:I,wrap:b,zeroMinWidth:v,spacing:m,...E,breakpoints:s.keys},R=PJ(B);return tt.jsx(a4.Provider,{value:k,children:tt.jsx(wJ,{ownerState:B,className:Qt(R.root,o),as:c,ref:i,...O})})});function BJ(t){return Ii("MuiTab",t)}const fo=di("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper","icon"]),zJ=t=>{const{classes:e,textColor:i,fullWidth:n,wrapped:s,icon:a,label:o,selected:r,disabled:l}=t,c={root:["root",a&&o&&"labelIcon",`textColor${Ct(i)}`,n&&"fullWidth",s&&"wrapped",r&&"selected",l&&"disabled"],icon:["iconWrapper","icon"]};return Pi(c,BJ,e)},_J=he(ex,{name:"MuiTab",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,i.label&&i.icon&&e.labelIcon,e[`textColor${Ct(i.textColor)}`],i.fullWidth&&e.fullWidth,i.wrapped&&e.wrapped,{[`& .${fo.iconWrapper}`]:e.iconWrapper},{[`& .${fo.icon}`]:e.icon}]}})(Ln(({theme:t})=>({...t.typography.button,maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center",lineHeight:1.25,variants:[{props:({ownerState:e})=>e.label&&(e.iconPosition==="top"||e.iconPosition==="bottom"),style:{flexDirection:"column"}},{props:({ownerState:e})=>e.label&&e.iconPosition!=="top"&&e.iconPosition!=="bottom",style:{flexDirection:"row"}},{props:({ownerState:e})=>e.icon&&e.label,style:{minHeight:72,paddingTop:9,paddingBottom:9}},{props:({ownerState:e,iconPosition:i})=>e.icon&&e.label&&i==="top",style:{[`& > .${fo.icon}`]:{marginBottom:6}}},{props:({ownerState:e,iconPosition:i})=>e.icon&&e.label&&i==="bottom",style:{[`& > .${fo.icon}`]:{marginTop:6}}},{props:({ownerState:e,iconPosition:i})=>e.icon&&e.label&&i==="start",style:{[`& > .${fo.icon}`]:{marginRight:t.spacing(1)}}},{props:({ownerState:e,iconPosition:i})=>e.icon&&e.label&&i==="end",style:{[`& > .${fo.icon}`]:{marginLeft:t.spacing(1)}}},{props:{textColor:"inherit"},style:{color:"inherit",opacity:.6,[`&.${fo.selected}`]:{opacity:1},[`&.${fo.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}}},{props:{textColor:"primary"},style:{color:(t.vars||t).palette.text.secondary,[`&.${fo.selected}`]:{color:(t.vars||t).palette.primary.main},[`&.${fo.disabled}`]:{color:(t.vars||t).palette.text.disabled}}},{props:{textColor:"secondary"},style:{color:(t.vars||t).palette.text.secondary,[`&.${fo.selected}`]:{color:(t.vars||t).palette.secondary.main},[`&.${fo.disabled}`]:{color:(t.vars||t).palette.text.disabled}}},{props:({ownerState:e})=>e.fullWidth,style:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"}},{props:({ownerState:e})=>e.wrapped,style:{fontSize:t.typography.pxToRem(12)}}]}))),jJ=ot.forwardRef(function(e,i){const n=Ti({props:e,name:"MuiTab"}),{className:s,disabled:a=!1,disableFocusRipple:o=!1,fullWidth:r,icon:l,iconPosition:c="top",indicator:h,label:p,onChange:f,onClick:y,onFocus:m,selected:b,selectionFollowsFocus:v,textColor:S="inherit",value:D,wrapped:I=!1,...T}=n,k={...n,disabled:a,disableFocusRipple:o,selected:b,icon:!!l,iconPosition:c,label:!!p,fullWidth:r,textColor:S,wrapped:I},E=zJ(k),O=l&&p&&ot.isValidElement(l)?ot.cloneElement(l,{className:Qt(E.icon,l.props.className)}):l,B=L=>{!b&&f&&f(L,D),y&&y(L)},R=L=>{v&&!b&&f&&f(L,D),m&&m(L)};return tt.jsxs(_J,{focusRipple:!o,className:Qt(E.root,s),ref:i,role:"tab","aria-selected":b,disabled:a,onClick:B,onFocus:R,ownerState:k,tabIndex:b?0:-1,...T,children:[c==="top"||c==="start"?tt.jsxs(ot.Fragment,{children:[O,p]}):tt.jsxs(ot.Fragment,{children:[p,O]}),h]})}),B5=ot.createContext();function FJ(t){return Ii("MuiTable",t)}di("MuiTable",["root","stickyHeader"]);const GJ=t=>{const{classes:e,stickyHeader:i}=t;return Pi({root:["root",i&&"stickyHeader"]},FJ,e)},VJ=he("table",{name:"MuiTable",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,i.stickyHeader&&e.stickyHeader]}})(Ln(({theme:t})=>({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...t.typography.body2,padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:({ownerState:e})=>e.stickyHeader,style:{borderCollapse:"separate"}}]}))),o4="table",UJ=ot.forwardRef(function(e,i){const n=Ti({props:e,name:"MuiTable"}),{className:s,component:a=o4,padding:o="normal",size:r="medium",stickyHeader:l=!1,...c}=n,h={...n,component:a,padding:o,size:r,stickyHeader:l},p=GJ(h),f=ot.useMemo(()=>({padding:o,size:r,stickyHeader:l}),[o,r,l]);return tt.jsx(B5.Provider,{value:f,children:tt.jsx(VJ,{as:a,role:a===o4?null:"table",ref:i,className:Qt(p.root,s),ownerState:h,...c})})}),HM=ot.createContext();function HJ(t){return Ii("MuiTableBody",t)}di("MuiTableBody",["root"]);const WJ=t=>{const{classes:e}=t;return Pi({root:["root"]},HJ,e)},YJ=he("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"table-row-group"}),$J={variant:"body"},r4="tbody",KJ=ot.forwardRef(function(e,i){const n=Ti({props:e,name:"MuiTableBody"}),{className:s,component:a=r4,...o}=n,r={...n,component:a},l=WJ(r);return tt.jsx(HM.Provider,{value:$J,children:tt.jsx(YJ,{className:Qt(l.root,s),as:a,ref:i,role:a===r4?null:"rowgroup",ownerState:r,...o})})});function XJ(t){return Ii("MuiTableCell",t)}const ZJ=di("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),qJ=t=>{const{classes:e,variant:i,align:n,padding:s,size:a,stickyHeader:o}=t,r={root:["root",i,o&&"stickyHeader",n!=="inherit"&&`align${Ct(n)}`,s!=="normal"&&`padding${Ct(s)}`,`size${Ct(a)}`]};return Pi(r,XJ,e)},QJ=he("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,e[i.variant],e[`size${Ct(i.size)}`],i.padding!=="normal"&&e[`padding${Ct(i.padding)}`],i.align!=="inherit"&&e[`align${Ct(i.align)}`],i.stickyHeader&&e.stickyHeader]}})(Ln(({theme:t})=>({...t.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?`1px solid ${t.vars.palette.TableCell.border}`:`1px solid
    ${t.palette.mode==="light"?UM(In(t.palette.divider,1),.88):VM(In(t.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(t.vars||t).palette.text.primary}},{props:{variant:"footer"},style:{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${ZJ.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:({ownerState:e})=>e.stickyHeader,style:{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default}}]}))),uf=ot.forwardRef(function(e,i){const n=Ti({props:e,name:"MuiTableCell"}),{align:s="inherit",className:a,component:o,padding:r,scope:l,size:c,sortDirection:h,variant:p,...f}=n,y=ot.useContext(B5),m=ot.useContext(HM),b=m&&m.variant==="head";let v;o?v=o:v=b?"th":"td";let S=l;v==="td"?S=void 0:!S&&b&&(S="col");const D=p||m&&m.variant,I={...n,align:s,component:v,padding:r||(y&&y.padding?y.padding:"normal"),size:c||(y&&y.size?y.size:"medium"),sortDirection:h,stickyHeader:D==="head"&&y&&y.stickyHeader,variant:D},T=qJ(I);let k=null;return h&&(k=h==="asc"?"ascending":"descending"),tt.jsx(QJ,{as:v,ref:i,className:Qt(T.root,a),"aria-sort":k,scope:S,ownerState:I,...f})});function JJ(t){return Ii("MuiTableContainer",t)}di("MuiTableContainer",["root"]);const ttt=t=>{const{classes:e}=t;return Pi({root:["root"]},JJ,e)},ett=he("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(t,e)=>e.root})({width:"100%",overflowX:"auto"}),itt=ot.forwardRef(function(e,i){const n=Ti({props:e,name:"MuiTableContainer"}),{className:s,component:a="div",...o}=n,r={...n,component:a},l=ttt(r);return tt.jsx(ett,{ref:i,as:a,className:Qt(l.root,s),ownerState:r,...o})});function ntt(t){return Ii("MuiTableHead",t)}di("MuiTableHead",["root"]);const stt=t=>{const{classes:e}=t;return Pi({root:["root"]},ntt,e)},att=he("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"table-header-group"}),ott={variant:"head"},l4="thead",rtt=ot.forwardRef(function(e,i){const n=Ti({props:e,name:"MuiTableHead"}),{className:s,component:a=l4,...o}=n,r={...n,component:a},l=stt(r);return tt.jsx(HM.Provider,{value:ott,children:tt.jsx(att,{as:a,className:Qt(l.root,s),ref:i,role:a===l4?null:"rowgroup",ownerState:r,...o})})}),ltt=hs(tt.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),ctt=hs(tt.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function utt(t){return Ii("MuiTableRow",t)}const c4=di("MuiTableRow",["root","selected","hover","head","footer"]),htt=t=>{const{classes:e,selected:i,hover:n,head:s,footer:a}=t;return Pi({root:["root",i&&"selected",n&&"hover",s&&"head",a&&"footer"]},utt,e)},dtt=he("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,i.head&&e.head,i.footer&&e.footer]}})(Ln(({theme:t})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${c4.hover}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${c4.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:In(t.palette.primary.main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:In(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)}}}))),u4="tr",h4=ot.forwardRef(function(e,i){const n=Ti({props:e,name:"MuiTableRow"}),{className:s,component:a=u4,hover:o=!1,selected:r=!1,...l}=n,c=ot.useContext(HM),h={...n,component:a,hover:o,selected:r,head:c&&c.variant==="head",footer:c&&c.variant==="footer"},p=htt(h);return tt.jsx(dtt,{as:a,ref:i,className:Qt(p.root,s),role:a===u4?null:"row",ownerState:h,...l})});function ptt(t){return(1+Math.sin(Math.PI*t-Math.PI/2))/2}function ftt(t,e,i,n={},s=()=>{}){const{ease:a=ptt,duration:o=300}=n;let r=null;const l=e[t];let c=!1;const h=()=>{c=!0},p=f=>{if(c){s(new Error("Animation cancelled"));return}r===null&&(r=f);const y=Math.min(1,(f-r)/o);if(e[t]=a(y)*(i-l)+l,y>=1){requestAnimationFrame(()=>{s(null)});return}requestAnimationFrame(p)};return l===i?(s(new Error("Element already at target position")),h):(requestAnimationFrame(p),h)}const gtt={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function ytt(t){const{onChange:e,...i}=t,n=ot.useRef(),s=ot.useRef(null),a=()=>{n.current=s.current.offsetHeight-s.current.clientHeight};return tx(()=>{const o=RL(()=>{const l=n.current;a(),l!==n.current&&e(n.current)}),r=HS(s.current);return r.addEventListener("resize",o),()=>{o.clear(),r.removeEventListener("resize",o)}},[e]),ot.useEffect(()=>{a(),e(n.current)},[e]),tt.jsx("div",{style:gtt,...i,ref:s})}function mtt(t){return Ii("MuiTabScrollButton",t)}const xtt=di("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),btt=t=>{const{classes:e,orientation:i,disabled:n}=t;return Pi({root:["root",i,n&&"disabled"]},mtt,e)},vtt=he(ex,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,i.orientation&&e[i.orientation]]}})({width:40,flexShrink:0,opacity:.8,[`&.${xtt.disabled}`]:{opacity:0},variants:[{props:{orientation:"vertical"},style:{width:"100%",height:40,"& svg":{transform:"var(--TabScrollButton-svgRotate)"}}}]}),Stt=ot.forwardRef(function(e,i){const n=Ti({props:e,name:"MuiTabScrollButton"}),{className:s,slots:a={},slotProps:o={},direction:r,orientation:l,disabled:c,...h}=n,p=T5(),f={isRtl:p,...n},y=btt(f),m=a.StartScrollButtonIcon??ltt,b=a.EndScrollButtonIcon??ctt,v=Xf({elementType:m,externalSlotProps:o.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:f}),S=Xf({elementType:b,externalSlotProps:o.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:f});return tt.jsx(vtt,{component:"div",className:Qt(y.root,s),ref:i,role:null,ownerState:f,tabIndex:null,...h,style:{...h.style,...l==="vertical"&&{"--TabScrollButton-svgRotate":`rotate(${p?-90:90}deg)`}},children:r==="left"?tt.jsx(m,{...v}):tt.jsx(b,{...S})})});function Mtt(t){return Ii("MuiTabs",t)}const DC=di("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),d4=(t,e)=>t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t.firstChild,p4=(t,e)=>t===e?t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t.lastChild,hv=(t,e,i)=>{let n=!1,s=i(t,e);for(;s;){if(s===t.firstChild){if(n)return;n=!0}const a=s.disabled||s.getAttribute("aria-disabled")==="true";if(!s.hasAttribute("tabindex")||a)s=i(t,s);else{s.focus();return}}},Att=t=>{const{vertical:e,fixed:i,hideScrollbar:n,scrollableX:s,scrollableY:a,centered:o,scrollButtonsHideMobile:r,classes:l}=t;return Pi({root:["root",e&&"vertical"],scroller:["scroller",i&&"fixed",n&&"hideScrollbar",s&&"scrollableX",a&&"scrollableY"],flexContainer:["flexContainer",e&&"flexContainerVertical",o&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",r&&"scrollButtonsHideMobile"],scrollableX:[s&&"scrollableX"],hideScrollbar:[n&&"hideScrollbar"]},Mtt,l)},Dtt=he("div",{name:"MuiTabs",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[{[`& .${DC.scrollButtons}`]:e.scrollButtons},{[`& .${DC.scrollButtons}`]:i.scrollButtonsHideMobile&&e.scrollButtonsHideMobile},e.root,i.vertical&&e.vertical]}})(Ln(({theme:t})=>({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex",variants:[{props:({ownerState:e})=>e.vertical,style:{flexDirection:"column"}},{props:({ownerState:e})=>e.scrollButtonsHideMobile,style:{[`& .${DC.scrollButtons}`]:{[t.breakpoints.down("sm")]:{display:"none"}}}}]}))),Itt=he("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.scroller,i.fixed&&e.fixed,i.hideScrollbar&&e.hideScrollbar,i.scrollableX&&e.scrollableX,i.scrollableY&&e.scrollableY]}})({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap",variants:[{props:({ownerState:t})=>t.fixed,style:{overflowX:"hidden",width:"100%"}},{props:({ownerState:t})=>t.hideScrollbar,style:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},{props:({ownerState:t})=>t.scrollableX,style:{overflowX:"auto",overflowY:"hidden"}},{props:({ownerState:t})=>t.scrollableY,style:{overflowY:"auto",overflowX:"hidden"}}]}),Ttt=he("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.flexContainer,i.vertical&&e.flexContainerVertical,i.centered&&e.centered]}})({display:"flex",variants:[{props:({ownerState:t})=>t.vertical,style:{flexDirection:"column"}},{props:({ownerState:t})=>t.centered,style:{justifyContent:"center"}}]}),Ctt=he("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(t,e)=>e.indicator})(Ln(({theme:t})=>({position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create(),variants:[{props:{indicatorColor:"primary"},style:{backgroundColor:(t.vars||t).palette.primary.main}},{props:{indicatorColor:"secondary"},style:{backgroundColor:(t.vars||t).palette.secondary.main}},{props:({ownerState:e})=>e.vertical,style:{height:"100%",width:2,right:0}}]}))),ktt=he(ytt)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),f4={},Ltt=ot.forwardRef(function(e,i){const n=Ti({props:e,name:"MuiTabs"}),s=_L(),a=T5(),{"aria-label":o,"aria-labelledby":r,action:l,centered:c=!1,children:h,className:p,component:f="div",allowScrollButtonsMobile:y=!1,indicatorColor:m="primary",onChange:b,orientation:v="horizontal",ScrollButtonComponent:S=Stt,scrollButtons:D="auto",selectionFollowsFocus:I,slots:T={},slotProps:k={},TabIndicatorProps:E={},TabScrollButtonProps:O={},textColor:B="primary",value:R,variant:L="standard",visibleScrollbar:F=!1,...j}=n,G=L==="scrollable",W=v==="vertical",Z=W?"scrollTop":"scrollLeft",U=W?"top":"left",K=W?"bottom":"right",$=W?"clientHeight":"clientWidth",X=W?"height":"width",_={...n,component:f,allowScrollButtonsMobile:y,indicatorColor:m,orientation:v,vertical:W,scrollButtons:D,textColor:B,variant:L,visibleScrollbar:F,fixed:!G,hideScrollbar:G&&!F,scrollableX:G&&!W,scrollableY:G&&W,centered:c&&!G,scrollButtonsHideMobile:!y},V=Att(_),Y=Xf({elementType:T.StartScrollButtonIcon,externalSlotProps:k.startScrollButtonIcon,ownerState:_}),J=Xf({elementType:T.EndScrollButtonIcon,externalSlotProps:k.endScrollButtonIcon,ownerState:_}),[q,nt]=ot.useState(!1),[st,rt]=ot.useState(f4),[ct,dt]=ot.useState(!1),[ht,yt]=ot.useState(!1),[pt,vt]=ot.useState(!1),[At,bt]=ot.useState({overflow:"hidden",scrollbarWidth:0}),Rt=new Map,Nt=ot.useRef(null),Ot=ot.useRef(null),Xt=()=>{const Ft=Nt.current;let Bt;if(Ft){const Se=Ft.getBoundingClientRect();Bt={clientWidth:Ft.clientWidth,scrollLeft:Ft.scrollLeft,scrollTop:Ft.scrollTop,scrollWidth:Ft.scrollWidth,top:Se.top,bottom:Se.bottom,left:Se.left,right:Se.right}}let te;if(Ft&&R!==!1){const Se=Ot.current.children;if(Se.length>0){const ci=Se[Rt.get(R)];te=ci?ci.getBoundingClientRect():null}}return{tabsMeta:Bt,tabMeta:te}},zt=Cd(()=>{const{tabsMeta:Ft,tabMeta:Bt}=Xt();let te=0,Se;W?(Se="top",Bt&&Ft&&(te=Bt.top-Ft.top+Ft.scrollTop)):(Se=a?"right":"left",Bt&&Ft&&(te=(a?-1:1)*(Bt[Se]-Ft[Se]+Ft.scrollLeft)));const ci={[Se]:te,[X]:Bt?Bt[X]:0};if(typeof st[Se]!="number"||typeof st[X]!="number")rt(ci);else{const Ja=Math.abs(st[Se]-ci[Se]),to=Math.abs(st[X]-ci[X]);(Ja>=1||to>=1)&&rt(ci)}}),Gt=(Ft,{animation:Bt=!0}={})=>{Bt?ftt(Z,Nt.current,Ft,{duration:s.transitions.duration.standard}):Nt.current[Z]=Ft},St=Ft=>{let Bt=Nt.current[Z];W?Bt+=Ft:Bt+=Ft*(a?-1:1),Gt(Bt)},Ie=()=>{const Ft=Nt.current[$];let Bt=0;const te=Array.from(Ot.current.children);for(let Se=0;Se<te.length;Se+=1){const ci=te[Se];if(Bt+ci[$]>Ft){Se===0&&(Bt=Ft);break}Bt+=ci[$]}return Bt},Ht=()=>{St(-1*Ie())},on=()=>{St(Ie())},Fi=ot.useCallback(Ft=>{bt({overflow:null,scrollbarWidth:Ft})},[]),gs=()=>{const Ft={};Ft.scrollbarSizeListener=G?tt.jsx(ktt,{onChange:Fi,className:Qt(V.scrollableX,V.hideScrollbar)}):null;const te=G&&(D==="auto"&&(ct||ht)||D===!0);return Ft.scrollButtonStart=te?tt.jsx(S,{slots:{StartScrollButtonIcon:T.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:Y},orientation:v,direction:a?"right":"left",onClick:Ht,disabled:!ct,...O,className:Qt(V.scrollButtons,O.className)}):null,Ft.scrollButtonEnd=te?tt.jsx(S,{slots:{EndScrollButtonIcon:T.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:J},orientation:v,direction:a?"left":"right",onClick:on,disabled:!ht,...O,className:Qt(V.scrollButtons,O.className)}):null,Ft},Fs=Cd(Ft=>{const{tabsMeta:Bt,tabMeta:te}=Xt();if(!(!te||!Bt)){if(te[U]<Bt[U]){const Se=Bt[Z]+(te[U]-Bt[U]);Gt(Se,{animation:Ft})}else if(te[K]>Bt[K]){const Se=Bt[Z]+(te[K]-Bt[K]);Gt(Se,{animation:Ft})}}}),Xn=Cd(()=>{G&&D!==!1&&vt(!pt)});ot.useEffect(()=>{const Ft=RL(()=>{Nt.current&&zt()});let Bt;const te=Ja=>{Ja.forEach(to=>{to.removedNodes.forEach(Rr=>{Bt==null||Bt.unobserve(Rr)}),to.addedNodes.forEach(Rr=>{Bt==null||Bt.observe(Rr)})}),Ft(),Xn()},Se=HS(Nt.current);Se.addEventListener("resize",Ft);let ci;return typeof ResizeObserver<"u"&&(Bt=new ResizeObserver(Ft),Array.from(Ot.current.children).forEach(Ja=>{Bt.observe(Ja)})),typeof MutationObserver<"u"&&(ci=new MutationObserver(te),ci.observe(Ot.current,{childList:!0})),()=>{Ft.clear(),Se.removeEventListener("resize",Ft),ci==null||ci.disconnect(),Bt==null||Bt.disconnect()}},[zt,Xn]),ot.useEffect(()=>{const Ft=Array.from(Ot.current.children),Bt=Ft.length;if(typeof IntersectionObserver<"u"&&Bt>0&&G&&D!==!1){const te=Ft[0],Se=Ft[Bt-1],ci={root:Nt.current,threshold:.99},Ja=Xc=>{dt(!Xc[0].isIntersecting)},to=new IntersectionObserver(Ja,ci);to.observe(te);const Rr=Xc=>{yt(!Xc[0].isIntersecting)},Pr=new IntersectionObserver(Rr,ci);return Pr.observe(Se),()=>{to.disconnect(),Pr.disconnect()}}},[G,D,pt,h==null?void 0:h.length]),ot.useEffect(()=>{nt(!0)},[]),ot.useEffect(()=>{zt()}),ot.useEffect(()=>{Fs(f4!==st)},[Fs,st]),ot.useImperativeHandle(l,()=>({updateIndicator:zt,updateScrollButtons:Xn}),[zt,Xn]);const oa=tt.jsx(Ctt,{...E,className:Qt(V.indicator,E.className),ownerState:_,style:{...st,...E.style}});let je=0;const Mp=ot.Children.map(h,Ft=>{if(!ot.isValidElement(Ft))return null;const Bt=Ft.props.value===void 0?je:Ft.props.value;Rt.set(Bt,je);const te=Bt===R;return je+=1,ot.cloneElement(Ft,{fullWidth:L==="fullWidth",indicator:te&&!q&&oa,selected:te,selectionFollowsFocus:I,onChange:b,textColor:B,value:Bt,...je===1&&R===!1&&!Ft.props.tabIndex?{tabIndex:0}:{}})}),wr=Ft=>{const Bt=Ot.current,te=v5(Bt).activeElement;if(te.getAttribute("role")!=="tab")return;let ci=v==="horizontal"?"ArrowLeft":"ArrowUp",Ja=v==="horizontal"?"ArrowRight":"ArrowDown";switch(v==="horizontal"&&a&&(ci="ArrowRight",Ja="ArrowLeft"),Ft.key){case ci:Ft.preventDefault(),hv(Bt,te,p4);break;case Ja:Ft.preventDefault(),hv(Bt,te,d4);break;case"Home":Ft.preventDefault(),hv(Bt,null,d4);break;case"End":Ft.preventDefault(),hv(Bt,null,p4);break}},Zn=gs();return tt.jsxs(Dtt,{className:Qt(V.root,p),ownerState:_,ref:i,as:f,...j,children:[Zn.scrollButtonStart,Zn.scrollbarSizeListener,tt.jsxs(Itt,{className:V.scroller,ownerState:_,style:{overflow:At.overflow,[W?`margin${a?"Left":"Right"}`:"marginBottom"]:F?void 0:-At.scrollbarWidth},ref:Nt,children:[tt.jsx(Ttt,{"aria-label":o,"aria-labelledby":r,"aria-orientation":v==="vertical"?"vertical":null,className:V.flexContainer,ownerState:_,onKeyDown:wr,ref:Ot,role:"tablist",children:Mp}),q&&oa]}),Zn.scrollButtonEnd]})}),Ntt=hs(tt.jsx("path",{d:"M6 6v2h8.59L5 17.59 6.41 19 16 9.41V18h2V6z"}),"ArrowOutward"),Ett=hs(tt.jsx("path",{d:"M19 9h-2v6.59L5.41 4 4 5.41 15.59 17H9v2h10z"}),"SouthEast"),as={primary:"#efe4db",secondary:"#f3eae6",black:"#000",white:"#fff",red:"red",green:"green"},Ott=({icon:t,heading:e,money:i,report:n,iconBgColor:s,id:a})=>tt.jsxs(be,{sx:{bgcolor:as.secondary,padding:2.5,borderRadius:3,boxShadow:"0px 2px 4px rgba(0,0,0,0.1)",minWidth:"calc(100% / 4 - 1%)",flex:"1 1 calc(25% - 8)"},children:[tt.jsx(bi,{sx:{width:40,height:40,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:s,borderRadius:"50%",color:as.white},children:t}),tt.jsx(bi,{fontSize:14,paddingY:1.4,color:"gray",children:e}),tt.jsxs(bi,{variant:"h4",component:"div",sx:{mb:1},fontSize:24,fontWeight:"600",children:[i.split("/")[0],"",tt.jsxs(bi,{component:"span",children:["/",i.split("/")[1]]})]}),tt.jsxs(bi,{fontSize:10,alignItems:"center",display:"flex",children:[" ",a===2?tt.jsx(Ett,{sx:{width:12,height:12,color:as.red}}):tt.jsx(Ntt,{sx:{width:12,height:12,color:as.green}}),n]})]}),wtt=hs(tt.jsx("path",{d:"M19.88 18.47c.44-.7.7-1.51.7-2.39 0-2.49-2.01-4.5-4.5-4.5s-4.5 2.01-4.5 4.5 2.01 4.5 4.49 4.5c.88 0 1.7-.26 2.39-.7L21.58 23 23 21.58zm-3.8.11c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5m-.36-8.5c-.74.02-1.45.18-2.1.45l-.55-.83-3.8 6.18-3.01-3.52-3.63 5.81L1 17l5-8 3 3.5L13 6zm2.59.5c-.64-.28-1.33-.45-2.05-.49L21.38 2 23 3.18z"}),"QueryStats"),Rtt=hs(tt.jsx("path",{d:"M10 16v-1H3.01L3 19c0 1.11.89 2 2 2h14c1.11 0 2-.89 2-2v-4h-7v1zm10-9h-4.01V5l-2-2h-4l-2 2v2H4c-1.1 0-2 .9-2 2v3c0 1.11.89 2 2 2h6v-2h4v2h6c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2m-6 0h-4V5h4z"}),"BusinessCenter"),Ptt=hs([tt.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),tt.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")],"QueryBuilder"),Btt=hs(tt.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person"),ztt=[{id:1,icon:wtt,heading:"Total Revenue",money:"$530,000",report:"12% increase from last month",color:"#cc9dd7"},{id:2,icon:Rtt,heading:"Projects",money:"92 /100",report:"12% increase from last month",color:"#bb6242"},{id:3,icon:Ptt,heading:"Time spent",money:"1022 /1300 Hrs",report:"12% increase from last month",color:"#6fa1e5"},{id:4,icon:Btt,heading:"Resources",money:"101 /120",report:"12% increase from last month",color:"#daa23e"}],_tt=["Name","Project Manager","Due Date","Status","Progress"],jtt=[{name:"Nelsa web development",manager:"Om Prakash Sao",dueDate:"May 25, 2023",status:"Completed",progress:100,color:"67, 155, 106"},{name:"Datascale AI app",manager:"Neilsan Mando",dueDate:"Jun 20, 2023",status:"Delayed",progress:35,color:"210, 153, 70"},{name:"Media channel branding",manager:"Tiruvelly Priya",dueDate:"July 13, 2023",status:"At risk",progress:68,color:"294, 94, 42"},{name:"Corlax iOS app development",manager:"Matte Hannery",dueDate:"Dec 20, 2023",status:"Completed",progress:100,color:"67, 155, 106"},{name:"Website builder development",manager:"Sukumar Rao",dueDate:"Mar 15, 2024",status:"On going",progress:50,color:"215, 95, 54"}],Ftt=[{task:"Create a user flow of social application design",status:"Approved",color:"67, 155, 106"},{task:"Create a user flow of social application design",status:"In review",color:"294, 94, 42"},{task:"Landing page design for Fintech project of Singapore",status:"In review",color:"294, 94, 42"},{task:"Interactive prototype for app screens of deltamime project",status:"On going",color:"215, 95, 54"},{task:"Interactive prototype for app screens of deltamime project",status:"Approved",color:"67, 155, 106"}],Gtt=[{name:"Sam",value:7},{name:"Meldy",value:8},{name:"Ken",value:2},{name:"Dmitry",value:10},{name:"Vego",value:8},{name:"Kadin",value:2},{name:"Melm",value:4}],Vtt=[{label:"All",count:10},{label:"Important",count:null},{label:"Notes",count:5},{label:"Links",count:10}],Utt=hs(tt.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),Cf=({text:t})=>tt.jsxs(be,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",bgcolor:"#fff",borderRadius:30,paddingX:2,paddingY:1},children:[tt.jsx(bi,{children:t}),tt.jsx(Utt,{})]}),Htt=()=>tt.jsxs(be,{paddingX:3,children:[tt.jsxs(be,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingY:2},children:[tt.jsx(bi,{fontSize:20,fontWeight:"500",children:"Overview"}),tt.jsx(Cf,{text:"Last 30 days"})]}),tt.jsx(be,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:1,flexWrap:"wrap"},children:ztt.map(t=>tt.jsx(Ott,{heading:t.heading,icon:tt.jsx(t.icon,{}),money:t.money,report:t.report,iconBgColor:t.color,id:t.id},t.id))})]}),Wtt=hs(tt.jsx("path",{d:"m7 10 5 5 5-5z"}),"ArrowDropDown"),Ytt=hs(tt.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle"),$tt=hs(tt.jsx("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu"),Ktt=hs(tt.jsx("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2m6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1z"}),"Notifications"),Xtt=hs(tt.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"RadioButtonUnchecked"),Ztt=hs(tt.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search"),qtt=()=>tt.jsx(jQ,{position:"static",sx:{boxShadow:"none",paddingX:3,paddingY:1,bgcolor:"transparent",borderBottom:"1px solid #ccc"},children:tt.jsxs(be,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[tt.jsx(bi,{variant:"h4",fontWeight:"bold",color:as.black,children:"Dashboard"}),tt.jsxs(be,{sx:{display:"flex","@media (max-width: 700px)":{display:"none"},justifyContent:"center",alignItems:"center",gap:2},children:[tt.jsxs(be,{sx:{display:"flex",alignItems:"center",backgroundColor:as.white,paddingX:2,paddingY:1,borderRadius:"40px",width:{xs:"200px",lg:"300px"},boxShadow:"0px 2px 4px rgba(0,0,0,0.1)"},children:[tt.jsx(Ztt,{sx:{color:"gray",marginRight:1}}),tt.jsx(sJ,{placeholder:"Search for anything...",fullWidth:!0})]}),tt.jsx(NQ,{sx:{background:"#fff",padding:1.4},children:tt.jsx(Ktt,{sx:{color:"black"}})}),tt.jsxs(be,{sx:{display:"flex",alignItems:"center",gap:1.5,background:as.white,borderRadius:"50px",padding:"4px 10px",boxShadow:"0px 2px 10px rgba(0,0,0,0.1)"},children:[tt.jsx(dJ,{src:"/path-to-image.jpg",sx:{width:30,height:30}}),tt.jsxs(be,{sx:{display:"flex",flexDirection:"column",lineHeight:1},children:[tt.jsx(bi,{fontWeight:"bold",color:as.black,sx:{fontSize:14},children:"Alex Meian"}),tt.jsx(bi,{variant:"caption",color:as.black,sx:{fontSize:10},children:"Product Manager"})]}),tt.jsx(Wtt,{sx:{fontSize:24,color:as.black}})]})]}),tt.jsx($tt,{sx:{color:as.black,display:"none","@media (max-width: 700px)":{display:"block"}}})]})}),IC=({heading:t,children:e,sx:i})=>tt.jsxs(be,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:2},children:[tt.jsx(bi,{variant:"h6",fontWeight:"bold",children:t}),tt.jsx(be,{display:"flex",gap:2,sx:{...i},children:e})]});var z5=Object.defineProperty,Qtt=Object.getOwnPropertyDescriptor,Go=(t,e)=>{for(var i in e)z5(t,i,{get:e[i],enumerable:!0})},N=(t,e,i,n)=>{for(var s=n>1?void 0:n?Qtt(e,i):e,a=t.length-1,o;a>=0;a--)(o=t[a])&&(s=(n?o(e,i,s):o(s))||s);return n&&s&&z5(e,i,s),s},It={};Go(It,{error:()=>j5,errorOnce:()=>iet,log:()=>Jtt,logGroup:()=>set,reset:()=>net,table:()=>tet,warn:()=>_5,warnOnce:()=>eet});var nx=new Set;function Jtt(...t){console.log(...t)}function _5(t,...e){console.warn(`AG Charts - ${t}`,...e)}function j5(t,...e){typeof t=="object"?console.error("AG Charts error",t,...e):console.error(`AG Charts - ${t}`,...e)}function tet(...t){console.table(...t)}function eet(t,...e){const i=`Logger.warn: ${t}`;nx.has(i)||(_5(t,...e),nx.add(i))}function iet(t,...e){const i=`Logger.error: ${t}`;nx.has(i)||(j5(t,...e),nx.add(i))}function net(){nx.clear()}function set(t,e){console.groupCollapsed(t);try{return e()}finally{console.groupEnd()}}var kd=class{static[Symbol.iterator](){return this.registeredModules.values()}static register(t){const e=this.registeredModules.get(t.name);if(e&&(e.enterprise||!t.enterprise))throw new Error(`AG Charts - Module '${t.name}' already registered`);this.registeredModules.set(t.name,t)}static registerMany(t){for(const e of t)this.register(e)}static reset(){this.registeredModules.clear()}static detectChartDefinition(t){return this.detectDefinition("chart",t)}static detectSeriesDefinition(t){return this.detectDefinition("series",t)}static detectDefinition(t,e){for(const i of this.registeredModules.values())if(i.type===t&&i.detect(e))return i;throw new Error(`AG Charts - Unknown ${t} type; Check options are correctly structured and series types are specified`)}};kd.registeredModules=new Map;var GL=class{constructor(){this.events=new Map}on(t,e){var i;return this.events.has(t)||this.events.set(t,new Set),(i=this.events.get(t))==null||i.add(e),()=>this.off(t,e)}off(t,e){const i=this.events.get(t);i&&(i.delete(e),i.size===0&&this.events.delete(t))}emit(t,e){var i;(i=this.events.get(t))==null||i.forEach(n=>n(e))}clear(t){t?this.events.delete(t):this.events.clear()}};function YS(t){return typeof t>"u"?[]:Array.isArray(t)?t:[t]}function aet(t){return Array.from(new Set(t))}function VL(t,e){return t.reduce((i,n)=>{const s=e(n);return i[s]??(i[s]=[]),i[s].push(n),i},{})}function sl(t,e){if(t==null||e==null||t.length!==e.length)return!1;for(let i=0;i<t.length;i++)if(Array.isArray(t[i])&&Array.isArray(e[i])){if(!sl(t[i],e[i]))return!1}else if(t[i]!==e[i])return!1;return!0}function g4(t,e,i=0){if(t.length===0)return[];const n=[];for(let s=0;s<e;s++)n.push(t.at((s+i)%t.length));return n}function oet(t,e){const i=new Map;return e.forEach((n,s)=>{i.set(n,s)}),t.sort((n,s)=>{const a=i.get(n)??1/0,o=i.get(s)??1/0;return a-o})}function F5(t,e,i){if(t>e)return;let n;for(;e>=t;){const s=Math.floor((e+t)/2);i(s)?(n=s,t=s+1):e=s-1}return n}function G5(t,e,i){if(t>e)return;let n;for(;e>=t;){const s=Math.floor((e+t)/2);i(s)?(n=s,e=s-1):t=s+1}return n}function ret(t,e,i){if(t>e)return;let n;for(;e>=t;){const s=Math.floor((e+t)/2),a=i(s);a==null?t=s+1:(n=a,e=s-1)}return n}function cet(t,e){const i=Math.max(t.length,e.length),n=new Set,s=new Set;for(let a=0;a<i;a++){const o=t[a],r=e[a];o!==r&&(s.has(r)?s.delete(r):r&&n.add(r),n.has(o)?n.delete(o):o&&s.add(o))}return{changed:n.size>0||s.size>0,added:n,removed:s}}function y4(t,e,i){const{leading:n=!0,trailing:s=!0}=i??{};let a,o,r=!1;function l(){s&&o?(a=setTimeout(l,e),t(...o)):r=!1,o=null}function c(...h){r?o=h:(r=!0,a=setTimeout(l,e),n?t(...h):o=h)}return Object.assign(c,{cancel(){clearTimeout(a),r=!1,o=null}})}function*Md(...t){for(const e of t)yield*e}function uet(t){return t!=null&&typeof t=="object"&&Symbol.iterator in t?t:[t]}function sm(t){for(const e of t)return e;throw new Error("AG Charts - no first() value found")}function het(t,e="and",i=String,n=1/0){if(t.length===1)return i(t[0]);t=t.map(i);const s=t.pop();if(t.length>=n){const a=t.length-(n-1);return`${t.slice(0,n-1).join(", ")}, and ${a} more ${e} ${s}`}return`${t.join(", ")} ${e} ${s}`}function _m(t,e=1/0){switch(typeof t){case"undefined":return"undefined";case"number":if(isNaN(t))return"NaN";if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity";default:return t=JSON.stringify(t),t.length>e?`${t.slice(0,e)}... (+${t.length-e} characters)`:t}}function det(t){let e=1;for(let i=0;i<t.length;i++)t.charCodeAt(i)===10&&e++;return e}function CS(t){return t!=null}function Je(t){return Array.isArray(t)}function V5(t){return typeof t=="boolean"}function ag(t){return t instanceof Date}function Hx(t){return ag(t)&&!isNaN(Number(t))}function pet(t){return t instanceof RegExp}function Gd(t){return typeof t=="function"}function Gn(t){return typeof t=="object"&&t!==null&&!Je(t)}function Ls(t){return typeof t=="object"&&t!==null&&Object.getPrototypeOf(t)===Object.prototype}function xa(t){return typeof t=="string"}function No(t){return typeof t=="number"}function ye(t){return Number.isFinite(t)}function fet(t){return typeof window<"u"&&t instanceof HTMLElement}function get(t,e){return Object.values(t).includes(e)}function yet(t){return typeof t=="symbol"}var Wx=Symbol("description"),met=Symbol("required");function WM(t,e,i=""){if(!Gn(t))return{valid:null,errors:[{path:i,value:t,message:m4(i,t,"an object")}]};const n=new Set(Object.keys(t)),s=[],a={};function o(r){return Je(e)?`${i}[${r}]`:i?`${i}.${r}`:r}for(const[r,l]of Object.entries(e)){n.delete(r);const c=t[r];if(!(!l[met]&&typeof c>"u"))if(Gd(l))l(c,t)?a[r]=c:s.push({key:r,path:i,value:c,message:m4(o(r),c,l)});else{const h=WM(c,l,o(r));a[r]=h.valid,s.push(...h.errors)}}for(const r of n)s.push({key:r,path:i,unknown:!0,message:`Unknown option \`${o(r)}\`, ignoring.`});return{valid:a,errors:s}}function m4(t,e,i){const n=xa(i)?i:i[Wx],s=n?`; expecting ${n}`:"";return`${t?`Option \`${t}\``:"Value"} cannot be set to \`${_m(e)}\`${s}, ignoring.`}function Ns(t,e){return Object.assign((i,n)=>t(i,n),{[Wx]:e})}var dv=(...t)=>Ns((e,i)=>t.every(n=>n(e,i)),t.map(e=>e[Wx]).filter(Boolean).join(" and ")),Ad=(...t)=>Ns((e,i)=>t.some(n=>n(e,i)),t.map(e=>e[Wx]).filter(Boolean).join(" or "));Ns(Je,"an array");Ns(V5,"a boolean");Ns(Gd,"a function");var cc=Ns(ye,"a number"),TC=Ns(Gn,"an object"),Ra=Ns(xa,"a string"),pv=Ns(t=>ag(t)||(ye(t)||xa(t))&&Hx(new Date(t)),"a date"),xet=(t,e=!0)=>Ns(i=>ye(i)&&(i>t||e&&i===t),`a number greater than ${e?"or equal to ":""}${t}`),bet=(t,e)=>Ns(i=>ye(i)&&i>=t&&i<=e,`a number between ${t} and ${e} inclusive`);xet(0);var fv=bet(0,1),x4=t=>ye(t)||Hx(t),b4=t=>Ns((e,i)=>!x4(e)||!x4(i[t])||e<i[t],`to be less than ${t}`);function vet(...t){Gn(t[0])&&(t=Object.values(t[0]));const e=het(t,"or",i=>`'${i}'`,6);return Ns(i=>t.includes(i),`a keyword such as ${e}`)}var xk=(t,e)=>Ns((i,n)=>Je(i)&&i.every(s=>t(s,n)),`${t[Wx]} array`),U5={};Go(U5,{NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>hr,fromToMotion:()=>vi,staticFromToMotion:()=>Mc});var ll={};typeof window<"u"?ll.window=window:typeof global<"u"&&(ll.window=global.window);typeof document<"u"?ll.document=document:typeof global<"u"&&(ll.document=global.document);function mc(t){var e;return t?(e=ll.document)==null?void 0:e[t]:ll.document}function Qe(t){var e;return t?(e=ll.window)==null?void 0:e[t]:ll.window}function H5(t){ll.document=t}function W5(t){ll.window=t}function ae(t,e,i){const n=mc().createElement(t);if(typeof e=="object"&&(i=e,e=void 0),e)for(const s of e.split(" "))n.classList.add(s);return i&&Object.assign(n.style,i),n}function Ro(t){return mc().createElementNS("http://www.w3.org/2000/svg",t)}function Y5(t,e){const i=mc("body"),n=ae("a",{display:"none"});n.href=t,n.download=e,i.appendChild(n),n.click(),setTimeout(()=>i.removeChild(n))}var bk=new Map;function Met(){bk.clear()}function Vo(t){const e=t.constructor,i=Object.hasOwn(e,"className")?e.className:e.name;if(!i)throw new Error(`The ${e} is missing the 'className' property.`);const n=(bk.get(i)??0)+1;return bk.set(i,n),`${i}-${n}`}function Aet(){var t;return((t=crypto.randomUUID)==null?void 0:t.call(crypto))??Det()}function Det(){const t=new Uint8Array(16);crypto.getRandomValues(t),t[6]=t[6]&15|64,t[8]=t[8]&63|128;let e="";for(let i=0;i<t.length;i++)(i===4||i===6||i===8||i===10)&&(e+="-"),e+=t[i].toString(16).padStart(2,"0");return e}var YM={containsPoint:Iet,isEmpty:Tet,normalize:Cet};function Iet(t,e,i){return e>=t.x&&e<=t.x+t.width&&i>=t.y&&i<=t.y+t.height}function Tet(t){return t==null||t.height===0||t.width===0||isNaN(t.height)||isNaN(t.width)}function Cet(t){let{x:e,y:i,width:n,height:s}=t;return(n==null||n>0)&&(s==null||s>0)?t:(e!=null&&n!=null&&n<0&&(n=-n,e=e-n),i!=null&&s!=null&&s<0&&(s=-s,i=i-s),{x:e,y:i,width:n,height:s})}var $M=Symbol("interpolate"),$S=t=>t[$M]!=null;function KM(t,e,i,n=1/0){const s={nearest:void 0,distanceSquared:n};for(const a of i){const o=a.distanceSquared(t,e);if(o===0)return{nearest:a,distanceSquared:0};o<s.distanceSquared&&(s.nearest=a,s.distanceSquared=o)}return s}function ket(t,e,i,n=1/0){var r;const{x:s=t,y:a=e}=((r=i.transformPoint)==null?void 0:r.call(i,t,e))??{},o={nearest:void 0,distanceSquared:n};for(const l of i.children){const{nearest:c,distanceSquared:h}=l.nearestSquared(s,a,o.distanceSquared);if(h===0)return{nearest:c,distanceSquared:h};h<o.distanceSquared&&(o.nearest=c,o.distanceSquared=h)}return o}function qt(t,e,i){return Math.min(i,Math.max(t,e))}function vk(t,e){const[i,n]=Vn(e);return qt(i,t,n)}function Vn(t){if(t.length===0)return[];const e=[1/0,-1/0];for(const i of t)i<e[0]&&(e[0]=i),i>e[1]&&(e[1]=i);return e}function Zf(t){const[e,i]=Vn(t);return i-e}function $5(t,e,i=1e-10){return t>=e[0]-i&&t<=e[1]+i}function lr(t,e,i=1e-10){return t===e||Math.abs(t-e)<i}function XM(t){return Math.sign(t)===-1||Object.is(t,-0)}function K5(t){return t%1===0}function Let(t,e=2){const i=10**e;return Math.round(t*i)/i}function UL(t,e){return Math.floor(t%e+(t<0?e:0))}function ZM(t){var s;if(Math.floor(t)===t)return 0;let e=String(t),i=0;if(t<1e-6||t>=1e21){let a;[e,a]=e.split("e"),a!=null&&(i=Number(a))}const n=((s=e.split(".")[1])==null?void 0:s.length)??0;return Math.max(n-i,0)}var sx=class kf{constructor(e,i,n,s){this.x=e,this.y=i,this.width=n,this.height=s}static fromDOMRect({x:e,y:i,width:n,height:s}){return new kf(e,i,n,s)}static merge(e){let i=1/0,n=1/0,s=-1/0,a=-1/0;for(const o of e)o.x<i&&(i=o.x),o.y<n&&(n=o.y),o.x+o.width>s&&(s=o.x+o.width),o.y+o.height>a&&(a=o.y+o.height);return new kf(i,n,s-i,a-n)}static nearestBox(e,i,n){return KM(e,i,n)}toDOMRect(){return{x:this.x,y:this.y,width:this.width,height:this.height,top:this.y,left:this.x,right:this.x+this.width,bottom:this.y+this.height,toJSON(){return{}}}}clone(){const{x:e,y:i,width:n,height:s}=this;return new kf(e,i,n,s)}equals(e){return this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height}containsPoint(e,i){return YM.containsPoint(this,e,i)}intersection(e){if(!this.collidesBBox(e))return;const i=qt(e.x,this.x,e.x+e.width),n=qt(e.y,this.y,e.y+e.height),s=qt(e.x,this.x+this.width,e.x+e.width),a=qt(e.y,this.y+this.height,e.y+e.height);return new kf(i,n,s-i,a-n)}collidesBBox(e){return this.x<e.x+e.width&&this.x+this.width>e.x&&this.y<e.y+e.height&&this.y+this.height>e.y}computeCenter(){return{x:this.x+this.width/2,y:this.y+this.height/2}}isFinite(){return Number.isFinite(this.x)&&Number.isFinite(this.y)&&Number.isFinite(this.width)&&Number.isFinite(this.height)}distanceSquared(e,i){if(this.containsPoint(e,i))return 0;const n=e-qt(this.x,e,this.x+this.width),s=i-qt(this.y,i,this.y+this.height);return n*n+s*s}shrink(e,i){if(typeof e=="number")this.applyMargin(e,i);else for(const[n,s]of Object.entries(e))this.applyMargin(s,n);return this.width<0&&(this.width=0),this.height<0&&(this.height=0),this}grow(e,i){if(typeof e=="number")this.applyMargin(-e,i);else for(const[n,s]of Object.entries(e))this.applyMargin(-s,n);return this}applyMargin(e,i){switch(i){case"top":this.y+=e;case"bottom":this.height-=e;break;case"left":this.x+=e;case"right":this.width-=e;break;case"vertical":this.y+=e,this.height-=e*2;break;case"horizontal":this.x+=e,this.width-=e*2;break;case void 0:this.x+=e,this.y+=e,this.width-=e*2,this.height-=e*2;break}}translate(e,i){return this.x+=e,this.y+=i,this}[$M](e,i){return new kf(this.x*(1-i)+e.x*i,this.y*(1-i)+e.y*i,this.width*(1-i)+e.width*i,this.height*(1-i)+e.height*i)}};sx.zero=Object.freeze(new sx(0,0,0,0));sx.NaN=Object.freeze(new sx(NaN,NaN,NaN,NaN));var Et=sx;function Lt(t){return function(e,i){const n=`__${i}`;e[i]||Net(e,i,n,t)}}function Net(t,e,i,n){const{type:s="normal",changeCb:a,convertor:o,checkDirtyOnAssignment:r=!1}=n??{},l={changeCb:a,checkDirtyOnAssignment:r,convertor:o};let c;switch(s){case"normal":c=Ret(i,l);break;case"transform":c=Pet(i);break;case"path":c=Bet(i);break}c=wet(Oet(Eet(c,l),l),l),Object.defineProperty(t,e,{set:c,get:function(){return this[i]},enumerable:!0,configurable:!0})}function Eet(t,e){const{convertor:i}=e;return i?function(n){t.call(this,i(n))}:t}var qM=Symbol("no-change");function Oet(t,e){const{changeCb:i}=e;return i?function(n){const s=t.call(this,n);return s!==qM&&i.call(this,this),s}:t}function wet(t,e){const{checkDirtyOnAssignment:i}=e;return i?function(n){const s=t.call(this,n);return(n==null?void 0:n._dirty)===!0&&this.markDirty(),s}:t}function Ret(t,e){const{changeCb:i}=e;return function(n){const s=this[t];return n!==s?(this[t]=n,this.markDirty(),i==null||i(this),n):qM}}function Pet(t){return function(e){const i=this[t];return e!==i?(this[t]=e,this.markDirtyTransform(),e):qM}}function Bet(t){return function(e){const i=this[t];return e!==i?(this[t]=e,this._dirtyPath||(this._dirtyPath=!0,this.markDirty()),e):qM}}var X5=(t=>(t[t.All=0]="All",t[t.None=1]="None",t))(X5||{}),QM=class Z5{constructor(e){this.serialNumber=Z5._nextSerialNumber++,this.childNodeCounts={groups:0,nonGroups:0,thisComplexity:0,complexity:0},this.id=Vo(this),this.pointerEvents=0,this._dirty=!0,this.dirtyZIndex=!1,this.isContainerNode=!1,this.visible=!0,this.zIndex=0,this.name=e==null?void 0:e.name,this.tag=(e==null?void 0:e.tag)??NaN,this.zIndex=(e==null?void 0:e.zIndex)??0}static toSVG(e,i,n){var o,r;const s=e==null?void 0:e.toSVG();if(s==null||!s.elements.length&&!((o=s.defs)!=null&&o.length))return;const a=Ro("svg");if(a.setAttribute("width",String(i)),a.setAttribute("height",String(n)),a.setAttribute("viewBox",`0 0 ${i} ${n}`),(r=s.defs)!=null&&r.length){const l=Ro("defs");l.append(...s.defs),a.append(l)}return a.append(...s.elements),a.outerHTML}static*extractBBoxes(e,i){for(const n of e)if(!i||n.visible&&!n.transitionOut){const s=n.getBBox();s&&(yield s)}}get datum(){var e;return this._datum??((e=this.parentNode)==null?void 0:e.datum)}set datum(e){this._datum!==e&&(this._previousDatum=this._datum,this._datum=e)}get previousDatum(){return this._previousDatum}get layerManager(){return this._layerManager}get dirty(){return this._dirty}preRender(e,i=1){this.childNodeCounts.groups=0,this.childNodeCounts.nonGroups=1,this.childNodeCounts.complexity=i,this.childNodeCounts.thisComplexity=i;for(const n of this.children()){const s=n.preRender(e);this.childNodeCounts.groups+=s.groups,this.childNodeCounts.nonGroups+=s.nonGroups,this.childNodeCounts.complexity+=s.complexity}return this.childNodeCounts}render(e){const{stats:i}=e;if(this._dirty=!1,e.debugNodeSearch){const n=this.name??this.id;e.debugNodeSearch.some(s=>typeof s=="string"?s===n:s.test(n))&&(e.debugNodes[this.name??this.id]=this)}i&&(i.nodesRendered++,i.opsPerformed+=this.childNodeCounts.thisComplexity)}_setLayerManager(e){this._layerManager=e,this._debug=e==null?void 0:e.debug;for(const i of this.children())i._setLayerManager(e)}sortChildren(e){if(this.dirtyZIndex=!1,!this.childNodes)return;const i=[...this.childNodes].sort(e);this.childNodes.clear();for(const n of i)this.childNodes.add(n)}*traverseUp(e){let i=this;for(e&&(yield i);i=i.parentNode;)yield i}*children(){if(this.childNodes)for(const e of this.childNodes)yield e}*descendants(){for(const e of this.children())yield e,yield*e.descendants()}isLeaf(){var e;return!((e=this.childNodes)!=null&&e.size)}isRoot(){return!this.parentNode}append(e){var i;this.childNodes??(this.childNodes=new Set);for(const n of uet(e))(i=n.parentNode)==null||i.removeChild(n),this.childNodes.add(n),n.parentNode=this,n._setLayerManager(this.layerManager);this.invalidateCachedBBox(),this.dirtyZIndex=!0,this.markDirty()}appendChild(e){return this.append(e),e}removeChild(e){var i;return(i=this.childNodes)!=null&&i.delete(e)?(delete e.parentNode,e._setLayerManager(),this.invalidateCachedBBox(),this.dirtyZIndex=!0,this.markDirty(),!0):!1}remove(){var e;return((e=this.parentNode)==null?void 0:e.removeChild(this))??!1}clear(){var e;for(const i of this.children())delete i.parentNode,i._setLayerManager();(e=this.childNodes)==null||e.clear(),this.invalidateCachedBBox()}destroy(){var e;(e=this.parentNode)==null||e.removeChild(this)}setProperties(e,i){if(i)for(const n of i)this[n]=e[n];else Object.assign(this,e);return this}containsPoint(e,i){return!1}pickNode(e,i,n=!1){if(!this.visible||this.pointerEvents===1||!this.containsPoint(e,i))return;const s=[...this.children()];if(s.length>1e3)for(let a=s.length-1;a>=0;a--){const o=s[a],l=o.containsPoint(e,i)?o.pickNode(e,i):void 0;if(l)return l}else if(s.length)for(let a=s.length-1;a>=0;a--){const o=s[a].pickNode(e,i);if(o)return o}else if(!this.isContainerNode)return this}invalidateCachedBBox(){var e;this.cachedBBox!=null&&(this.cachedBBox=void 0,(e=this.parentNode)==null||e.invalidateCachedBBox())}getBBox(){return this.cachedBBox==null&&(this.cachedBBox=Object.freeze(this.computeBBox())),this.cachedBBox}computeBBox(){}markDirty(){const{_dirty:e}=this;this.cachedBBox==null&&e||(this.invalidateCachedBBox(),this._dirty=!0,this.parentNode&&this.parentNode.markDirty())}markClean(){if(this._dirty){this._dirty=!1;for(const e of this.children())e.markClean()}}onZIndexChange(){const{parentNode:e}=this;e&&(e.dirtyZIndex=!0)}toSVG(){}};QM._nextSerialNumber=0;N([Lt()],QM.prototype,"visible",2);N([Lt({changeCb:t=>t.onZIndexChange()})],QM.prototype,"zIndex",2);var Qu=QM,gv=(t,e,i)=>t*(1-i)+e*i,CC=t=>{const e=t<0?-1:1,i=Math.abs(t);return i<=.04045?t/12.92:e*((i+.055)/1.055)**2.4},kC=t=>{const e=t<0?-1:1,i=Math.abs(t);return i>.0031308?e*(1.055*i**(1/2.4)-.055):12.92*t},q5=class Ze{constructor(e,i,n,s=1){this.r=qt(0,e||0,1),this.g=qt(0,i||0,1),this.b=qt(0,n||0,1),this.a=qt(0,s||0,1)}static validColorString(e){return e.indexOf("#")>=0?!!Ze.parseHex(e):e.indexOf("rgb")>=0?!!Ze.stringToRgba(e):Ze.nameToHex.has(e.toLowerCase())}static fromString(e){if(e.indexOf("#")>=0)return Ze.fromHexString(e);const i=Ze.nameToHex.get(e.toLowerCase());if(i)return Ze.fromHexString(i);if(e.indexOf("rgb")>=0)return Ze.fromRgbaString(e);throw new Error(`Invalid color string: '${e}'`)}static parseHex(e){e=e.replace(/ /g,"").slice(1);let i;switch(e.length){case 6:case 8:i=[];for(let n=0;n<e.length;n+=2)i.push(parseInt(`${e[n]}${e[n+1]}`,16));break;case 3:case 4:i=e.split("").map(n=>parseInt(n,16)).map(n=>n+n*16);break}if((i==null?void 0:i.length)>=3&&i.every(n=>n>=0))return i.length===3&&i.push(255),i}static fromHexString(e){const i=Ze.parseHex(e);if(i){const[n,s,a,o]=i;return new Ze(n/255,s/255,a/255,o/255)}throw new Error(`Malformed hexadecimal color string: '${e}'`)}static stringToRgba(e){let i=-1,n=-1;for(let r=0;r<e.length;r++){const l=e[r];if(i===-1&&l==="(")i=r;else if(l===")"){n=r;break}}if(i===-1||n===-1)return;const a=e.substring(i+1,n).split(","),o=[];for(let r=0;r<a.length;r++){const l=a[r];let c=parseFloat(l);if(!Number.isFinite(c))return;l.indexOf("%")>=0?(c=qt(0,c,100),c/=100):r===3?c=qt(0,c,1):(c=qt(0,c,255),c/=255),o.push(c)}return o}static fromRgbaString(e){const i=Ze.stringToRgba(e);if(i){if(i.length===3)return new Ze(i[0],i[1],i[2]);if(i.length===4)return new Ze(i[0],i[1],i[2],i[3])}throw new Error(`Malformed rgb/rgba color string: '${e}'`)}static fromArray(e){if(e.length===4)return new Ze(e[0],e[1],e[2],e[3]);if(e.length===3)return new Ze(e[0],e[1],e[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")}static fromHSB(e,i,n,s=1){const a=Ze.HSBtoRGB(e,i,n);return new Ze(a[0],a[1],a[2],s)}static fromHSL(e,i,n,s=1){const a=Ze.HSLtoRGB(e,i,n);return new Ze(a[0],a[1],a[2],s)}static fromOKLCH(e,i,n,s=1){const a=Ze.OKLCHtoRGB(e,i,n);return new Ze(a[0],a[1],a[2],s)}static padHex(e){return e.length===1?"0"+e:e}toHexString(){let e="#"+Ze.padHex(Math.round(this.r*255).toString(16))+Ze.padHex(Math.round(this.g*255).toString(16))+Ze.padHex(Math.round(this.b*255).toString(16));return this.a<1&&(e+=Ze.padHex(Math.round(this.a*255).toString(16))),e}toRgbaString(e=3){const i=[Math.round(this.r*255),Math.round(this.g*255),Math.round(this.b*255)],n=Math.pow(10,e);return this.a!==1?(i.push(Math.round(this.a*n)/n),`rgba(${i.join(", ")})`):`rgb(${i.join(", ")})`}toString(){return this.a===1?this.toHexString():this.toRgbaString()}toHSB(){return Ze.RGBtoHSB(this.r,this.g,this.b)}static RGBtoOKLCH(e,i,n){const s=CC(e),a=CC(i),o=CC(n),r=Math.cbrt(.4122214708*s+.5363325363*a+.0514459929*o),l=Math.cbrt(.2119034982*s+.6806995451*a+.1073969566*o),c=Math.cbrt(.0883024619*s+.2817188376*a+.6299787005*o),h=.2104542553*r+.793617785*l-.0040720468*c,p=1.9779984951*r-2.428592205*l+.4505937099*c,f=.0259040371*r+.7827717662*l-.808675766*c,y=Math.atan2(f,p)*180/Math.PI,m=h,b=Math.hypot(p,f),v=y>=0?y:y+360;return[m,b,v]}static OKLCHtoRGB(e,i,n){const s=e,a=i*Math.cos(n*Math.PI/180),o=i*Math.sin(n*Math.PI/180),r=(s+.3963377774*a+.2158037573*o)**3,l=(s-.1055613458*a-.0638541728*o)**3,c=(s-.0894841775*a-1.291485548*o)**3,h=4.0767416621*r-3.3077115913*l+.2309699292*c,p=-1.2684380046*r+2.6097574011*l-.3413193965*c,f=-.0041960863*r-.7034186147*l+1.707614701*c,y=kC(h),m=kC(p),b=kC(f);return[y,m,b]}static RGBtoHSL(e,i,n){const s=Math.min(e,i,n),a=Math.max(e,i,n),o=(a+s)/2;let r,l;if(a===s)r=0,l=0;else{const c=a-s;l=o>.5?c/(2-a-s):c/(a+s),a===e?r=(i-n)/c+(i<n?6:0):a===i?r=(n-e)/c+2:r=(e-i)/c+4,r*=360/6}return[r,l,o]}static HSLtoRGB(e,i,n){if(e=(e%360+360)%360,i===0)return[n,n,n];const s=n<.5?n*(1+i):n+i-n*i,a=2*n-s;function o(h){return h<0&&(h+=1),h>1&&(h-=1),h<1/6?a+(s-a)*6*h:h<1/2?s:h<2/3?a+(s-a)*(2/3-h)*6:a}const r=o(e/360+1/3),l=o(e/360),c=o(e/360-1/3);return[r,l,c]}static RGBtoHSB(e,i,n){const s=Math.min(e,i,n),a=Math.max(e,i,n),o=a===0?0:(a-s)/a;let r=0;if(s!==a){const l=a-s,c=(a-e)/l,h=(a-i)/l,p=(a-n)/l;e===a?r=p-h:i===a?r=2+c-p:r=4+h-c,r/=6,r<0&&(r=r+1)}return[r*360,o,a]}static HSBtoRGB(e,i,n){e=(e%360+360)%360/360;let s=0,a=0,o=0;if(i===0)s=a=o=n;else{const r=(e-Math.floor(e))*6,l=r-Math.floor(r),c=n*(1-i),h=n*(1-i*l),p=n*(1-i*(1-l));switch(r>>0){case 0:s=n,a=p,o=c;break;case 1:s=h,a=n,o=c;break;case 2:s=c,a=n,o=p;break;case 3:s=c,a=h,o=n;break;case 4:s=p,a=c,o=n;break;case 5:s=n,a=c,o=h;break}}return[s,a,o]}static mix(e,i,n){return new Ze(gv(e.r,i.r,n),gv(e.g,i.g,n),gv(e.b,i.b,n),gv(e.a,i.a,n))}};q5.nameToHex=new Map([["aliceblue","#F0F8FF"],["antiquewhite","#FAEBD7"],["aqua","#00FFFF"],["aquamarine","#7FFFD4"],["azure","#F0FFFF"],["beige","#F5F5DC"],["bisque","#FFE4C4"],["black","#000000"],["blanchedalmond","#FFEBCD"],["blue","#0000FF"],["blueviolet","#8A2BE2"],["brown","#A52A2A"],["burlywood","#DEB887"],["cadetblue","#5F9EA0"],["chartreuse","#7FFF00"],["chocolate","#D2691E"],["coral","#FF7F50"],["cornflowerblue","#6495ED"],["cornsilk","#FFF8DC"],["crimson","#DC143C"],["cyan","#00FFFF"],["darkblue","#00008B"],["darkcyan","#008B8B"],["darkgoldenrod","#B8860B"],["darkgray","#A9A9A9"],["darkgreen","#006400"],["darkgrey","#A9A9A9"],["darkkhaki","#BDB76B"],["darkmagenta","#8B008B"],["darkolivegreen","#556B2F"],["darkorange","#FF8C00"],["darkorchid","#9932CC"],["darkred","#8B0000"],["darksalmon","#E9967A"],["darkseagreen","#8FBC8F"],["darkslateblue","#483D8B"],["darkslategray","#2F4F4F"],["darkslategrey","#2F4F4F"],["darkturquoise","#00CED1"],["darkviolet","#9400D3"],["deeppink","#FF1493"],["deepskyblue","#00BFFF"],["dimgray","#696969"],["dimgrey","#696969"],["dodgerblue","#1E90FF"],["firebrick","#B22222"],["floralwhite","#FFFAF0"],["forestgreen","#228B22"],["fuchsia","#FF00FF"],["gainsboro","#DCDCDC"],["ghostwhite","#F8F8FF"],["gold","#FFD700"],["goldenrod","#DAA520"],["gray","#808080"],["green","#008000"],["greenyellow","#ADFF2F"],["grey","#808080"],["honeydew","#F0FFF0"],["hotpink","#FF69B4"],["indianred","#CD5C5C"],["indigo","#4B0082"],["ivory","#FFFFF0"],["khaki","#F0E68C"],["lavender","#E6E6FA"],["lavenderblush","#FFF0F5"],["lawngreen","#7CFC00"],["lemonchiffon","#FFFACD"],["lightblue","#ADD8E6"],["lightcoral","#F08080"],["lightcyan","#E0FFFF"],["lightgoldenrodyellow","#FAFAD2"],["lightgray","#D3D3D3"],["lightgreen","#90EE90"],["lightgrey","#D3D3D3"],["lightpink","#FFB6C1"],["lightsalmon","#FFA07A"],["lightseagreen","#20B2AA"],["lightskyblue","#87CEFA"],["lightslategray","#778899"],["lightslategrey","#778899"],["lightsteelblue","#B0C4DE"],["lightyellow","#FFFFE0"],["lime","#00FF00"],["limegreen","#32CD32"],["linen","#FAF0E6"],["magenta","#FF00FF"],["maroon","#800000"],["mediumaquamarine","#66CDAA"],["mediumblue","#0000CD"],["mediumorchid","#BA55D3"],["mediumpurple","#9370DB"],["mediumseagreen","#3CB371"],["mediumslateblue","#7B68EE"],["mediumspringgreen","#00FA9A"],["mediumturquoise","#48D1CC"],["mediumvioletred","#C71585"],["midnightblue","#191970"],["mintcream","#F5FFFA"],["mistyrose","#FFE4E1"],["moccasin","#FFE4B5"],["navajowhite","#FFDEAD"],["navy","#000080"],["oldlace","#FDF5E6"],["olive","#808000"],["olivedrab","#6B8E23"],["orange","#FFA500"],["orangered","#FF4500"],["orchid","#DA70D6"],["palegoldenrod","#EEE8AA"],["palegreen","#98FB98"],["paleturquoise","#AFEEEE"],["palevioletred","#DB7093"],["papayawhip","#FFEFD5"],["peachpuff","#FFDAB9"],["peru","#CD853F"],["pink","#FFC0CB"],["plum","#DDA0DD"],["powderblue","#B0E0E6"],["purple","#800080"],["rebeccapurple","#663399"],["red","#FF0000"],["rosybrown","#BC8F8F"],["royalblue","#4169E1"],["saddlebrown","#8B4513"],["salmon","#FA8072"],["sandybrown","#F4A460"],["seagreen","#2E8B57"],["seashell","#FFF5EE"],["sienna","#A0522D"],["silver","#C0C0C0"],["skyblue","#87CEEB"],["slateblue","#6A5ACD"],["slategray","#708090"],["slategrey","#708090"],["snow","#FFFAFA"],["springgreen","#00FF7F"],["steelblue","#4682B4"],["tan","#D2B48C"],["teal","#008080"],["thistle","#D8BFD8"],["tomato","#FF6347"],["transparent","#00000000"],["turquoise","#40E0D0"],["violet","#EE82EE"],["wheat","#F5DEB3"],["white","#FFFFFF"],["whitesmoke","#F5F5F5"],["yellow","#FFFF00"],["yellowgreen","#9ACD32"]]);var xi=q5;function zet(t,e){return i=>Number(t)*(1-i)+Number(e)*i}function Q5(t,e){if(typeof t=="string")try{t=xi.fromString(t)}catch{t=xi.fromArray([0,0,0])}if(typeof e=="string")try{e=xi.fromString(e)}catch{e=xi.fromArray([0,0,0])}return i=>xi.mix(t,e,i).toRgbaString()}var KS=Symbol("BREAK"),Ff="__decorator_config";function J5(t,e){Object.getOwnPropertyDescriptor(t,Ff)==null&&Object.defineProperty(t,Ff,{value:{}});const i=t[Ff],n=e.toString();if(typeof i[n]<"u")return i[n];const s=new WeakMap;i[n]={setters:[],getters:[],observers:[],valuesMap:s};const a=Object.getOwnPropertyDescriptor(t,e),o=a==null?void 0:a.set,r=a==null?void 0:a.get;return Object.defineProperty(t,e,{set:function(h){const{setters:p,observers:f}=i[n];let y;p.some(m=>m.length>2)&&(y=r?r.call(this):s.get(this));for(const m of p)if(h=m(this,e,h,y),h===KS)return;o?o.call(this,h):s.set(this,h);for(const m of f)m(this,h,y)},get:function(){let h=r?r.call(this):s.get(this);for(const p of i[n].getters)if(h=p(this,e,h),h===KS)return;return h},enumerable:!0,configurable:!1}),i[n]}function xc(t,e,i){return(n,s)=>{const a=J5(n,s);a.setters.push(t),e&&a.getters.unshift(e),i&&Object.assign(a,i)}}function tV(t){return(e,i)=>{J5(e,i).observers.push(t)}}function JM(t){return typeof t<"u"&&Ff in t}function Ld(t){const e=new Set;for(;JM(t);)e.add(t==null?void 0:t[Ff]),t=Object.getPrototypeOf(t);return Array.from(e).flatMap(i=>Object.keys(i))}function eV(t){return Ld(t).reduce((e,i)=>(e[i]=t[i]??null,e),{})}function _et(t,e){const i=e.toString();for(;JM(t);){const n=t[Ff];if(Object.hasOwn(n,i))return n[i];t=Object.getPrototypeOf(t)}}function Rd(t,e){return Array.isArray(t)?!Array.isArray(e)||t.length!==e.length?!1:t.every((i,n)=>Rd(i,e[n])):Ls(t)?Ls(e)?HL(t,e,Rd):!1:t===e}function HL(t,e,i){for(const n of Object.keys(e))if(!(n in t))return!1;for(const n of Object.keys(t))if(!(n in e)||!i(t[n],e[n]))return!1;return!0}function ie(...t){const e={};for(const i of t){if(!Gn(i))continue;const n=JM(i)?Ld(i):Object.keys(i);for(const s of n)Ls(e[s])&&Ls(i[s])?e[s]=ie(e[s],i[s]):e[s]??(e[s]=i[s])}return e}function XS(t,...e){return e&&Je(t)?t.map(i=>ie(i,...e)):t}function jet(t,e){return Object.entries(t).reduce((i,[n,s])=>(i[n]=e(s,n,t),i),{})}function Sk(t,e){const i={...t};for(const n of e)delete i[n];return i}function WL(t,e){return(Je(e)?e:e.split(".")).reduce((n,s)=>n[s],t)}var YL=new Set(["__proto__","constructor","prototype"]);function $L(t,e,i){const n=Je(e)?e.slice():e.split("."),s=n.pop();if(n.some(o=>YL.has(o)))return;const a=n.reduce((o,r)=>o[r],t);return a[s]=i,a[s]}function Mk(t,e,i){if(i===void 0)return e;for(const n of t){const s=i[n];s!==void 0&&(e[n]=s)}return e}function jm(t){return Object.freeze(t),Object.getOwnPropertyNames(t).forEach(e=>{const i=t[e];i!==null&&(typeof i=="object"||typeof i=="function")&&!Object.isFrozen(i)&&jm(i)}),t}var Ak={};Go(Ak,{easeIn:()=>Fet,easeInOut:()=>Get,easeInOutQuad:()=>Het,easeInQuad:()=>Vet,easeOut:()=>ax,easeOutQuad:()=>Uet,inverseEaseOut:()=>nV,linear:()=>iV});var iV=t=>t,Fet=t=>1-Math.cos(t*Math.PI/2),ax=t=>Math.sin(t*Math.PI/2),Get=t=>-(Math.cos(t*Math.PI)-1)/2,Vet=t=>t*t,Uet=t=>1-(1-t)**2,Het=t=>t<.5?2*t*t:1-(-2*t+2)**2/2,nV=t=>2*Math.asin(t)/Math.PI,ZS=.2,Lf=["initial","remove","update","add","trailing","end","none"],ox={initial:{animationDuration:1,animationDelay:0},add:{animationDuration:.25,animationDelay:.75},remove:{animationDuration:.25,animationDelay:0},update:{animationDuration:.5,animationDelay:.25},trailing:{animationDuration:ZS,animationDelay:1,skipIfNoEarlierAnimations:!0},end:{animationDelay:1+ZS,animationDuration:0,skipIfNoEarlierAnimations:!0},none:{animationDuration:0,animationDelay:0}},sV=(t=>(t.Loop="loop",t.Reverse="reverse",t))(sV||{});function Wet(t){return t.every(e=>e instanceof Qu)}function tA(t){return Wet(t)?{nodes:t,selections:[]}:{nodes:[],selections:t}}function Dk(t,e){return t===e?!0:Array.isArray(t)&&Array.isArray(e)?t.length===e.length&&t.every((i,n)=>Dk(i,e[n])):$S(t)&&$S(e)?t.equals(e):Ls(t)&&Ls(e)?HL(t,e,Dk):!1}var aV=class{constructor(e){var n,s,a;this.isComplete=!1,this.elapsed=0,this.iteration=0,this.isPlaying=!1,this.isReverse=!1,this.id=e.id,this.groupId=e.groupId,this.autoplay=e.autoplay??!0,this.ease=e.ease??iV,this.phase=e.phase;const i=e.duration??ox[this.phase].animationDuration;this.duration=i*e.defaultDuration,this.delay=(e.delay??0)*e.defaultDuration,this.onComplete=e.onComplete,this.onPlay=e.onPlay,this.onStop=e.onStop,this.onUpdate=e.onUpdate,this.interpolate=this.createInterpolator(e.from,e.to),this.from=e.from,e.skip===!0&&((n=this.onUpdate)==null||n.call(this,e.to,!1,this),(s=this.onStop)==null||s.call(this,this),(a=this.onComplete)==null||a.call(this,this),this.isComplete=!0),e.collapsable!==!1&&(this.duration=this.checkCollapse(e,this.duration))}checkCollapse(e,i){return Dk(e.from,e.to)?0:i}play(e=!1){var i,n;this.isPlaying||this.isComplete||(this.isPlaying=!0,(i=this.onPlay)==null||i.call(this,this),this.autoplay&&(this.autoplay=!1,e&&((n=this.onUpdate)==null||n.call(this,this.from,!0,this))))}stop(){var e;this.isPlaying=!1,this.isComplete||(this.isComplete=!0,(e=this.onStop)==null||e.call(this,this))}update(e){var a,o;if(this.isComplete)return e;!this.isPlaying&&this.autoplay&&this.play(!0);const i=this.elapsed;if(this.elapsed+=e,this.delay>this.elapsed)return 0;const n=this.interpolate(this.isReverse?1-this.delta:this.delta);(a=this.onUpdate)==null||a.call(this,n,!1,this);const s=this.delay+this.duration;return this.elapsed>=s?(this.stop(),this.isComplete=!0,(o=this.onComplete)==null||o.call(this,this),e-(s-i)):0}get delta(){return this.ease(qt(0,(this.elapsed-this.delay)/this.duration,1))}createInterpolator(e,i){if(typeof i!="object"||$S(i))return this.interpolateValue(e,i);const n=[];for(const s of Object.keys(i)){const a=this.interpolateValue(e[s],i[s]);a!=null&&n.push([s,a])}return s=>{const a={};for(const[o,r]of n)a[o]=r(s);return a}}interpolateValue(e,i){if(!(e==null||i==null)){if($S(e))return n=>e[$M](i,n);try{switch(typeof e){case"number":return zet(e,i);case"string":return Q5(e,i);case"boolean":if(e===i)return()=>e;break}}catch{}throw new Error(`Unable to interpolate values: ${e}, ${i}`)}}},hr={added:"add",updated:"update",removed:"remove",unknown:"initial","no-op":"none"};function vi(t,e,i,n,s,a,o){const{fromFn:r,toFn:l,applyFn:c=(m,b)=>m.setProperties(b)}=s,{nodes:h,selections:p}=tA(n),f=(m,b)=>{let v,S=0,D=0;for(const I of b){const T=m[S]===I,k={last:D>=b.length-1,lastLive:S>=m.length-1,prev:b[D-1],prevFromProps:v,prevLive:m[S-1],next:b[D+1],nextLive:m[S+(T?1:0)]},E=`${t}_${e}_${I.id}`;i.stopByAnimationId(E);let O="unknown";T?a&&o&&(O=Yet(I,I.datum,a,o)):O="removed",I.transitionOut=O==="removed";const{phase:B,start:R,finish:L,delay:F,duration:j,...G}=r(I,I.datum,O,k),{phase:W,start:Z,finish:U,delay:K,duration:$,...X}=l(I,I.datum,O,k),_=L==null;i.animate({id:E,groupId:t,phase:B??W??"update",duration:j??$,delay:F??K,from:G,to:X,ease:ax,collapsable:_,onPlay:()=>{const V={...R,...Z,...G};c(I,V,"start")},onUpdate(V){c(I,V,"update")},onStop:()=>{const V={...R,...Z,...G,...X,...L,...U};c(I,V,"end")}}),T&&S++,D++,v=G}};let y=0;for(const m of p){const b=m.nodes(),v=b.filter(S=>!m.isGarbage(S));f(v,b),i.animate({id:`${t}_${e}_selection_${y}`,groupId:t,phase:"end",from:0,to:1,ease:ax,onStop(){m.cleanup()}}),y++}f(h,h)}function Mc(t,e,i,n,s,a,o){const{nodes:r,selections:l}=tA(n),{start:c,finish:h,phase:p}=o;i.animate({id:`${t}_${e}`,groupId:t,phase:p??"update",from:s,to:a,ease:ax,onPlay:()=>{if(c){for(const f of r)f.setProperties(c);for(const f of l)for(const y of f.nodes())y.setProperties(c)}},onUpdate(f){for(const y of r)y.setProperties(f);for(const y of l)for(const m of y.nodes())m.setProperties(f)},onStop:()=>{for(const f of r)f.setProperties({...a,...h});for(const f of l){for(const y of f.nodes())y.setProperties({...a,...h});f.cleanup()}}})}function Yet(t,e,i,n){const s=i(t,e);return n.added.has(s)?"added":n.removed.has(s)?"removed":"updated"}var eA=class{ticks(t,e,i){}niceDomain(t,e=this.domain){return e}tickFormatter(t){}datumFormatter(t){}get bandwidth(){}get step(){}get inset(){}},oV=class rV extends eA{constructor(e=[],i=[]){super(),this.domain=e,this.range=i,this.defaultClamp=!1}static is(e){return e instanceof rV}normalizeDomains(...e){let i,n=1/0,s,a=-1/0;for(const o of e)for(const r of o){const l=r.valueOf();l<n&&(n=l,i=r),l>a&&(a=l,s=r)}return i!=null&&s!=null?{domain:[i,s],animatable:!0}:{domain:[],animatable:!1}}transform(e){return e}transformInvert(e){return e}calcBandwidth(e=1){const{domain:i}=this,n=this.getPixelRange();if(i.length===0)return n;const s=Math.abs(i[1].valueOf()-i[0].valueOf())/e+1,a=Math.floor(n),o=Math.min(s,a);return n/Math.max(1,o)}convert(e,i=this.defaultClamp){const{domain:n}=this;if(!n||n.length<2)return NaN;const s=Number(this.transform(n[0])),a=Number(this.transform(n[1])),o=Number(this.transform(e)),{range:r}=this,[l,c]=r;if(i){const[h,p]=Vn([s,a]);if(o<h)return l;if(o>p)return c}return s===a?(l+c)/2:o===s?l:o===a?c:l+(o-s)/(a-s)*(c-l)}invert(e,i){const n=this.domain.map(h=>this.transform(h)),[s,a]=n,{range:o}=this,[r,l]=o;let c;return r===l?c=this.toDomain((Number(s)+Number(a))/2):c=this.toDomain(Number(s)+(e-r)/(l-r)*(Number(a)-Number(s))),this.transformInvert(c)}getPixelRange(){const[e,i]=this.range;return Math.abs(i-e)}};oV.defaultTickCount=5;var ke=oV,$et={};Go($et,{TimeInterval:()=>qf,day:()=>qS,friday:()=>lit,hour:()=>wf,millisecond:()=>lV,minute:()=>Of,monday:()=>sit,month:()=>bd,saturday:()=>cit,second:()=>Ef,sunday:()=>Fm,thursday:()=>rit,tuesday:()=>ait,utcDay:()=>Mit,utcHour:()=>bit,utcMinute:()=>yit,utcMonth:()=>Iit,utcYear:()=>kit,wednesday:()=>oit,year:()=>iA});var qf=class{constructor(t,e,i){this._encode=t,this._decode=e,this._rangeCallback=i}floor(t){const e=new Date(t),i=this._encode(e);return this._decode(i)}ceil(t){const e=new Date(Number(t)-1),i=this._encode(e);return this._decode(i+1)}range(t,e,{extend:i=!1,visibleRange:n=[0,1]}={}){var f;let s=!1;t.getTime()>e.getTime()&&([t,e]=[e,t],s=!0);const a=(f=this._rangeCallback)==null?void 0:f.call(this,t,e),o=this._encode(i?this.floor(t):this.ceil(t)),r=this._encode(i?this.ceil(e):this.floor(e));if(r<o)return[];const l=r-o;let c,h;s?(c=Math.ceil(o+(1-n[1])*l),h=Math.floor(o+(1-n[0])*l)):(c=Math.floor(o+n[0]*l),h=Math.ceil(o+n[1]*l));const p=[];for(let y=c;y<=h;y+=1){const m=this._decode(y);p.push(m)}return a==null||a(),p}},Ua=class extends qf{getOffset(t,e){return Math.floor(this._encode(new Date(t)))%e}every(t,e){let i=0,n;const s=t;t=Math.max(1,Math.round(t)),s!==t&&It.warnOnce(`interval step of [${s}] rounded to [${t}].`);const{snapTo:a="start"}=e??{};if(typeof a=="string"){const l=i;n=(c,h)=>{const p=a==="start"?c:h;return i=this.getOffset(p,t),()=>i=l}}else typeof a=="number"?i=this.getOffset(new Date(a),t):a instanceof Date&&(i=this.getOffset(a,t));const o=l=>Math.floor((this._encode(l)-i)/t),r=l=>this._decode(l*t+i);return new qf(o,r,n)}};function Ket(t){return t.getTime()}function Xet(t){return new Date(t)}var lV=new Ua(Ket,Xet),Pu=1e3,rs=Pu*60,Qs=rs*60,Po=Qs*24,hc=Po*7,am=Po*30,Qf=Po*365,cV=new Date().getTimezoneOffset()*rs;function Zet(t){return Math.floor((t.getTime()-cV)/Pu)}function qet(t){return new Date(cV+t*Pu)}var Ef=new Ua(Zet,qet),uV=new Date().getTimezoneOffset()*rs;function Qet(t){return Math.floor((t.getTime()-uV)/rs)}function Jet(t){return new Date(uV+t*rs)}var Of=new Ua(Qet,Jet),hV=new Date().getTimezoneOffset()*rs;function tit(t){return Math.floor((t.getTime()-hV)/Qs)}function eit(t){return new Date(hV+t*Qs)}var wf=new Ua(tit,eit);function iit(t){const e=t.getTimezoneOffset()*rs;return Math.floor((t.getTime()-e)/Po)}function nit(t){const e=new Date(1970,0,1);return e.setDate(e.getDate()+t),e}var qS=new Ua(iit,nit);function Vd(t){const i=(7+t-4)%7;function n(a){const o=a.getTimezoneOffset()*rs;return Math.floor((a.getTime()-o)/hc-i/7)}function s(a){const o=new Date(1970,0,1);return o.setDate(o.getDate()+a*7+i),o}return new Ua(n,s)}var Fm=Vd(0),sit=Vd(1),ait=Vd(2),oit=Vd(3),rit=Vd(4),lit=Vd(5),cit=Vd(6);function uit(t){return t.getFullYear()*12+t.getMonth()}function hit(t){const e=Math.floor(t/12),i=t-e*12;return new Date(e,i,1)}var bd=new Ua(uit,hit);function dit(t){return t.getFullYear()}function pit(t){const e=new Date;return e.setFullYear(t),e.setMonth(0,1),e.setHours(0,0,0,0),e}var iA=new Ua(dit,pit);function fit(t){return Math.floor(t.getTime()/rs)}function git(t){return new Date(t*rs)}var yit=new Ua(fit,git);function mit(t){return Math.floor(t.getTime()/Qs)}function xit(t){return new Date(t*Qs)}var bit=new Ua(mit,xit);function vit(t){return Math.floor(t.getTime()/Po)}function Sit(t){const e=new Date(0);return e.setUTCDate(e.getUTCDate()+t),e.setUTCHours(0,0,0,0),e}var Mit=new Ua(vit,Sit);function Ait(t){return t.getUTCFullYear()*12+t.getUTCMonth()}function Dit(t){const e=Math.floor(t/12),i=t-e*12;return new Date(Date.UTC(e,i,1))}var Iit=new Ua(Ait,Dit);function Tit(t){return t.getUTCFullYear()}function Cit(t){const e=new Date;return e.setUTCFullYear(t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0),e}var kit=new Ua(Tit,Cit),yv={days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]};function KL(t,e=new Date(t.getFullYear(),0,1)){const i=t.getTimezoneOffset()-e.getTimezoneOffset(),n=t.getTime()-e.getTime()+i*6e4,s=36e5*24;return Math.floor(n/s)}function v4(t,e){const n=new Date(t.getFullYear(),0,1).getDay(),s=(e-n+7)%7,a=new Date(t.getFullYear(),0,s+1);return a<=t?Math.floor(KL(t,a)/7)+1:0}var Lit=0,dV=1,S4=4;function pV(t,e=t.getFullYear()){const n=new Date(e,0,1).getDay(),s=(S4-n+7)%7,a=new Date(e,0,s-(S4-dV)+1);return a<=t?Math.floor(KL(t,a)/7)+1:pV(t,e-1)}function Nit(t){const e=t.getTimezoneOffset(),i=Math.abs(e);return`${e>0?"-":"+"}${is(Math.floor(i/60),2,"0")}${is(Math.floor(i%60),2,"0")}`}var Eit={a:t=>yv.shortDays[t.getDay()],A:t=>yv.days[t.getDay()],b:t=>yv.shortMonths[t.getMonth()],B:t=>yv.months[t.getMonth()],c:"%x, %X",d:(t,e)=>is(t.getDate(),2,e??"0"),e:"%_d",f:(t,e)=>is(t.getMilliseconds()*1e3,6,e??"0"),H:(t,e)=>is(t.getHours(),2,e??"0"),I:(t,e)=>{const i=t.getHours()%12;return i===0?"12":is(i,2,e??"0")},j:(t,e)=>is(KL(t)+1,3,e??"0"),m:(t,e)=>is(t.getMonth()+1,2,e??"0"),M:(t,e)=>is(t.getMinutes(),2,e??"0"),L:(t,e)=>is(t.getMilliseconds(),3,e??"0"),p:t=>t.getHours()<12?"AM":"PM",Q:t=>String(t.getTime()),s:t=>String(Math.floor(t.getTime()/1e3)),S:(t,e)=>is(t.getSeconds(),2,e??"0"),u:t=>{let e=t.getDay();return e<1&&(e+=7),String(e%7)},U:(t,e)=>is(v4(t,Lit),2,e??"0"),V:(t,e)=>is(pV(t),2,e??"0"),w:(t,e)=>is(t.getDay(),2,e??"0"),W:(t,e)=>is(v4(t,dV),2,e??"0"),x:"%-m/%-d/%Y",X:"%-I:%M:%S %p",y:(t,e)=>is(t.getFullYear()%100,2,e??"0"),Y:(t,e)=>is(t.getFullYear(),4,e??"0"),Z:t=>Nit(t),"%":()=>"%"},Oit={_:" ",0:"0","-":""};function is(t,e,i){const n=String(Math.floor(t));return n.length>=e?n:`${i.repeat(e-n.length)}${n}`}function Yx(t){const e=[];for(;t.length>0;){let i=t.indexOf("%");if(i!==0){const r=i>0?t.substring(0,i):t;e.push(r)}if(i<0)break;const n=t[i+1],s=Oit[n];s!=null&&i++;const a=t[i+1],o=Eit[a];if(typeof o=="function")e.push([o,s]);else if(typeof o=="string"){const r=Yx(o);e.push([r,s])}else e.push(`${s??""}${a}`);t=t.substring(i+2)}return i=>{const n=typeof i=="number"?new Date(i):i;return e.map(s=>typeof s=="string"?s:s[0](n,s[1])).join("")}}function Is(t){return t instanceof Date?t.getTime():t}function XL(t,e,i){const n=fV(t,e,i),s=Yx(n);return a=>s(a)}function fV(t,e,i=0){let n=1/0;for(let h=1;h<t.length;h++)n=Math.min(n,Math.abs(t[h].valueOf()-t[h-1].valueOf()));const[s,a]=e.length===0?[0,0]:Vn([e[0].valueOf(),e[e.length-1].valueOf()]),o=new Date(s).getFullYear(),l=new Date(a).getFullYear()-o>0,c=isFinite(n)?wit(n,t):Rit(t[0]);return Bit(Math.max(c-i,0),l,t)}function wit(t,e){return t<Pu?0:t<rs?1:t<Qs?2:t<Po?3:t<hc?4:t<Po*28||t<Po*31&&Pit(e)?5:t<Qf?6:7}function Rit(t){return Ef.floor(t)<t?0:Of.floor(t)<t?1:wf.floor(t)<t?2:qS.floor(t)<t?3:bd.floor(t)<t?Fm.floor(t)<t?4:5:iA.floor(t)<t?6:7}function Pit(t){let e=new Date(t[0]).getMonth();for(let i=1;i<t.length;i++){const n=new Date(t[i]).getMonth();if(e===n)return!0;e=n}return!1}function Bit(t,e,i){const n=Is(i[0]),s=Is(i.at(-1)),a=Math.abs(s-n),o=e||t===7,r=a===0,c=[["hour",6*Qs,14*Po,3,"%I %p"],["hour",rs,6*Qs,3,"%I:%M"],["second",1e3,6*Qs,1,":%S"],["ms",0,6*Qs,0,".%L"],["am/pm",rs,6*Qs,3,"%p"]," ",["day",Po,hc,4,"%a"],["month",r?0:hc,52*hc,5,"%b %d"],["month",5*hc,10*Qf,6,"%B"]," ",["year",o?0:Qf,1/0,7,"%Y"]].filter(f=>{if(typeof f=="string")return!0;const[y,m,b,v]=f;return v>=t&&m<=a&&a<b}).reduce((f,y)=>(typeof y=="string"?f.result.push(y):f.used.has(y[0])||(f.result.push(y),f.used.add(y[0])),f),{result:[],used:new Set}).result,h=c.findIndex(f=>typeof f!="string"),p=c.findLastIndex(f=>typeof f!="string");return c.slice(h,p+1).map(f=>typeof f=="string"?f:f[4]).join("").replaceAll(/\s+/g," ").trim()}var og=(t,e)=>{const i=Symbol(String(e));t[i]=void 0,Object.defineProperty(t,e,{get(){return this[i]},set(n){this[i]!==n&&(this[i]=n,this.invalid=!0)},enumerable:!0,configurable:!1})};function gV(t,e,i){if(i==null||i[0]===0&&i[1]===1)return t;const n=qt(0,Math.floor(i[0]*t.length),t.length),s=qt(0,Math.ceil(i[1]*t.length),t.length),a=e?t.length-s:n,o=e?t.length-n:s;return t.slice(a,o)}var nA=class yV extends eA{constructor(){super(...arguments),this.invalid=!0,this.range=[0,1],this.round=!1,this.interval=void 0,this._bandwidth=1,this._step=1,this._inset=1,this._rawBandwidth=1,this._paddingInner=0,this._paddingOuter=0}static is(e){return e instanceof yV}get bandwidth(){return this.refresh(),this._bandwidth}get step(){return this.refresh(),this._step}get inset(){return this.refresh(),this._inset}get rawBandwidth(){return this.refresh(),this._rawBandwidth}set padding(e){e=qt(0,e,1),this._paddingInner=e,this._paddingOuter=e}get padding(){return this._paddingInner}set paddingInner(e){this.invalid=!0,this._paddingInner=qt(0,e,1)}get paddingInner(){return this._paddingInner}set paddingOuter(e){this.invalid=!0,this._paddingOuter=qt(0,e,1)}get paddingOuter(){return this._paddingOuter}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&It.warnOnce("Expected update to not invalidate scale"))}ticks(e,i=this.domain,n){return gV(i,!1,n)}convert(e,i){this.refresh();const n=this.getIndex(e);return n==null||n<0||n>=this.domain.length?NaN:this.ordinalRange(n)}invertNearestIndex(e){this.refresh();const{domain:i}=this;if(i.length===0)return-1;let n=0,s=i.length-1,a=1/0,o=0;for(;n<=s;){const r=(s+n)/2|0,l=this.ordinalRange(r),c=Math.abs(l-e);if(c===0)return r;c<a&&(a=c,o=r),l<e?n=r+1:s=r-1}return o}update(){const e=this.domain.length;if(e===0)return;const[i,n]=this.range;let{_paddingInner:s}=this;const{_paddingOuter:a,round:o}=this,r=n-i;let l;e===1?(s=0,l=r*(1-a*2)):l=r/Math.max(1,e-s+a*2);const c=o?Math.floor(l):l;let h=i+(r-c*(e-s))/2,p=c*(1-s);o&&(h=Math.round(h),p=Math.round(p)),this._step=c,this._inset=h,this._bandwidth=p,this._rawBandwidth=l*(1-s)}ordinalRange(e){const{_inset:i,_step:n,range:s}=this,a=Math.min(s[0],s[1]),o=Math.max(s[0],s[1]);return qt(a,i+n*e,o)}};N([og],nA.prototype,"range",2);N([og],nA.prototype,"round",2);N([og],nA.prototype,"interval",2);var $x=nA,Kx=class extends $x{constructor(){super(...arguments),this.type="band",this.index=void 0,this._domain=[]}set domain(e){this._domain!==e&&(this.invalid=!0,this._domain=e,this.index=void 0)}get domain(){return this._domain}normalizeDomains(...e){let i;const n=new Set;let s=!0;for(const a of e)n.has(a)||(n.add(a),i==null?i=M4(a):(s&&(s=zit(a,i)),i=M4([...i,...a])));return i??(i=[]),{domain:i,animatable:s}}toDomain(e){}invert(e,i=!1){this.refresh();const n=i?this.bandwidth/2:0,s=this.invertNearestIndex(Math.max(0,e-n));return i||e===this.ordinalRange(s)?this.domain[s]:void 0}getIndex(e){let{index:i}=this;if(i==null){const{domain:n}=this;i=new Map;for(let s=0;s<n.length;s++)i.set(Is(n[s]),s);this.index=i}return i.get(Is(e))}};function M4(t){let e;const i=new Set;for(const n of t){const s=Is(n),a=i.size;i.add(s),i.size!==a?e==null||e.push(n):e??(e=t.slice(0,i.size))}return e??t}function zit(t,e){let i=-1;for(const n of t){const s=e.indexOf(n);if(s===-1)i=1/0;else{if(s<=i)return!1;i=s}}return!0}var Zt=class{set(e){const{className:i=this.constructor.name}=this.constructor;if(typeof e!="object")return It.warn(`unable to set ${i} - expecting a properties object`),this;const n=new Set(Object.keys(e));for(const s of Ld(this))if(n.has(s)){const a=e[s],o=this;if(cl(o[s]))if(o[s]instanceof Xx){const r=o[s].reset(a);r!=null?o[s]=r:It.warn(`unable to set [${s}] - expecting a properties array`)}else o[s].set(a);else o[s]=a;n.delete(s)}for(const s of n)It.warn(`unable to set [${s}] in ${i} - property is unknown`);return this}isValid(e){return Ld(this).every(i=>{const{optional:n}=_et(this,i),s=n===!0||typeof this[i]<"u";return s||It.warnOnce(`${e??""}[${i}] is required.`),s})}toJson(){return Ld(this).reduce((e,i)=>{const n=this[i];return e[i]=cl(n)?n.toJson():n,e},{})}},Xx=class mV extends Array{constructor(e,...i){super(i.length);const s=(a=>{var o,r;return!!((r=(o=a==null?void 0:a.prototype)==null?void 0:o.constructor)!=null&&r.name)})(e)?a=>new e().set(a):e;Object.defineProperty(this,"itemFactory",{value:s,enumerable:!1,configurable:!1}),this.set(i)}set(e){if(Je(e)){this.length=e.length;for(let i=0;i<e.length;i++)this[i]=this.itemFactory(e[i])}return this}reset(e){if(Array.isArray(e))return new mV(this.itemFactory,...e)}toJson(){return this.map(e=>{var i;return((i=e==null?void 0:e.toJson)==null?void 0:i.call(e))??e})}};function cl(t){return t instanceof Zt||t instanceof Xx}function w(t,e={}){const{optional:i=!1,property:n}=e;return xc((s,a,o)=>{const r={...e,target:s,property:a};if(i&&typeof o>"u"||t(o,r))return cl(s[a])&&!cl(o)?(s[a].set(o),s[a]):o;const l=n??String(a).replace(/^_*/,""),c=s.constructor.className??s.constructor.name.replace(/Properties$/,""),h=_m(o,50);return It.warn(`Property [${l}] of [${c}] cannot be set to [${h}]${t.message?`; expecting ${Jx(t,r)}`:""}, ignoring.`),KS},void 0,{optional:i})}var dl=(...t)=>{const e=[];return Pe((i,n)=>(e.length=0,t.every(s=>{const a=s(i,n);return a||e.push(Jx(s,n)),a})),()=>e.filter(Boolean).join(" AND "))},eh=(...t)=>Pe((e,i)=>t.some(n=>n(e,i)),e=>t.map($it(e)).filter(Boolean).join(" OR ")),kt=eN(Pe((t,e)=>cl(t)||Gn(t)&&cl(e.target[e.property]),"a properties object")),xV=eN(Pe(t=>Gn(t),"an object")),jt=Pe(V5,"a boolean"),ta=Pe(Gd,"a function"),Dt=Pe(xa,"a string"),de=Xit(Pe(ye,"a number")),bV=Pe(t=>No(t)&&!isNaN(t),"a real number"),sA=Pe(t=>No(t)&&isNaN(t),"NaN"),Tt=de.restrict({min:0}),Le=de.restrict({min:0,max:1}),rg=eh(de,sA),Zx=Kit(Pe(Je,"an array")),Ac=(t,e)=>Pe((i,n)=>Je(i)&&i.every(s=>t(s,n)),i=>{const n=Jx(Zx,i)??"";return typeof e=="function"?`${n} of ${e(i)}`:e?`${n} of ${e}`:n}),QS=t=>ye(t)||Hx(t),qx=t=>Pe((e,i)=>!QS(e)||!QS(i.target[t])||e<i.target[t],`to be less than ${t}`),Qx=t=>Pe((e,i)=>!QS(e)||!QS(i.target[t])||e>i.target[t],`to be greater than ${t}`),ZL=Pe(Hx,"Date object"),qL=eh(ZL,Tt),vV="A color string can be in one of the following formats to be valid: #rgb, #rrggbb, rgb(r, g, b), rgba(r, g, b, a) or a CSS color name such as 'white', 'orange', 'cyan', etc",Ae=Pe(t=>xa(t)&&xi.validColorString(t),`color String. ${vV}`),SV=eN(Pe(t=>Gn(t)&&t.type==="gradient","a color gradient object")),Ha=Pe(Ac(Ae),`color strings. ${vV}`),_it=Ac(jt,"boolean values"),aA=Ac(de,"numbers"),MV=Ac(Dt,"strings"),jit=Pe(Ac(ZL),"Date objects"),QL=Pe(Ac(kt),"objects"),Fit=Ye(["butt","round","square"],"a line cap"),Git=Ye(["round","bevel","miter"],"a line join"),Vit=Ye(["solid","dashed","dotted"],"a line style"),pl=Pe(Ac(Tt),"numbers specifying the length in pixels of alternating dashes and gaps, for example, [6, 3] means dashes with a length of 6 pixels with gaps between of 3 pixels."),JL=Ye(["top","right","bottom","left"],"a position"),Dc=Ye(["normal","italic","oblique"],"a font style"),Ic=eh(Ye(["normal","bold","bolder","lighter"],"a font weight"),de.restrict({min:1,max:1e3})),oA=Ye(["never","always","hyphenate","on-space"],"a text wrap strategy"),AV=Ye(["left","center","right"],"a text align"),Uit=Ye(["top","middle","bottom"],"a vertical align"),Hit=Ye(["ellipsis","hide"],"an overflow strategy"),DV=Ye(["horizontal","vertical"],"a direction"),Wit=Ye(["inside","outside"],"a placement"),rA=eh(Ye(["exact","nearest"],"interaction range"),de),tN=Ye(["top","bottom","left","right"]);function Ye(t,e="a"){return Pe((i,n)=>{const s=t.find(a=>{const o=typeof a=="string"?a:a.value;return i===o});if(s==null)return!1;if(typeof s!="string"&&(s.deprecated===!0||s.deprecatedTo!=null)){const a=[`Property [%s] with value '${s.value}' is deprecated.`];s.deprecatedTo&&a.push(`Use ${s.deprecatedTo} instead.`),It.warnOnce(a.join(" "),n.property)}return!0},`${e} keyword such as ${Yit(t)}`)}var IV=eh(dl(de.restrict({min:1}),qx("maxSpacing")),sA),TV=eh(dl(de.restrict({min:1}),Qx("minSpacing")),sA);function Pe(t,e){return t.message=e,t}function Yit(t){const e=t.filter(n=>typeof n=="string"||n.undocumented!==!0).map(n=>`'${typeof n=="string"?n:n.value}'`);if(e.length===1)return e[0];const i=e.pop();return`${e.join(", ")} or ${i}`}function Jx(t,e){return Gd(t.message)?t.message(e):t.message}function $it(t){return e=>Jx(e,t)}function Kit(t){return Object.assign(t,{restrict({length:e,minLength:i}={}){let n="an array";return No(i)&&i>0?n="a non-empty array":No(e)&&(n=`an array of length ${e}`),Pe(s=>Je(s)&&(No(e)?s.length===e:!0)&&(No(i)?s.length>=i:!0),n)}})}function Xit(t){return Object.assign(t,{restrict({min:e,max:i}={}){const n=["a number"],s=No(e),a=No(i);return s&&a?n.push(`between ${e} and ${i} inclusive`):s?n.push(`greater than or equal to ${e}`):a&&n.push(`less than or equal to ${i}`),Pe(o=>ye(o)&&(s?o>=e:!0)&&(a?o<=i:!0),n.join(" "))}})}function eN(t){return Object.assign(t,{restrict(e){return Pe(i=>i instanceof e,i=>Jx(t,i)??`an instance of ${e.name}`)}})}var CV={};Go(CV,{resetMotion:()=>Fn});function Fn(t,e){const{nodes:i,selections:n}=tA(t);for(const s of n){for(const a of s.nodes()){const o=e(a,a.datum);a.setProperties(o)}s.cleanup()}for(const s of i){const a=e(s,s.datum);s.setProperties(a)}}var Zit=2e3,A4=Date.now(),qit=()=>{const t=Date.now()-A4;if(t>Zit){const e=(Math.floor(t/100)/10).toFixed(1);It.log(`**** ${e}s since last log message ****`)}A4=Date.now()},We={create(...t){return Object.assign((...i)=>{We.check(...t)&&(typeof i[0]=="function"&&(i=YS(i[0]())),qit(),It.log(...i))},{check:()=>We.check(...t),group:(i,n)=>We.check(...t)?It.logGroup(i,n):n()})},check(...t){return t.length===0&&t.push(!0),YS(Qe("agChartsDebug")).some(i=>t.includes(i))}};function kV({context:t,pixelRatio:e,width:i,height:n}){t.save(),t.resetTransform(),t.clearRect(0,0,Math.ceil(i*e),Math.ceil(n*e)),t.restore()}function LV(t){if(We.check("canvas")){const e=t.save.bind(t),i=t.restore.bind(t);let n=0;Object.assign(t,{save(){e(),n++},restore(){if(n===0)throw new Error("AG Charts - Unable to restore() past depth 0");i(),n--},verifyDepthZero(){if(n!==0)throw new Error(`AG Charts - Save/restore depth is non-zero: ${n}`)}})}}function D4(t,e,i){return[Math.round(t*i),Math.round(e*i)]}var NV=class{constructor(t){const{width:e,height:i,pixelRatio:n,willReadFrequently:s=!1}=t;this.width=e,this.height=i,this.pixelRatio=n;const[a,o]=D4(e,i,n);this.canvas=new OffscreenCanvas(a,o),this.context=this.canvas.getContext("2d",{willReadFrequently:s}),this.context.setTransform(n,0,0,n,0,0),LV(this.context)}drawImage(t,e=0,i=0){return t.drawImage(this.canvas,e,i)}transferToImageBitmap(){return this.canvas.transferToImageBitmap()}resize(t,e,i){if(!(t>0&&e>0))return;const{canvas:n,context:s}=this;if(t!==this.width||e!==this.height||i!==this.pixelRatio){const[a,o]=D4(t,e,i);n.width=a,n.height=o}s.setTransform(i,0,0,i,0,0),this.width=t,this.height=e,this.pixelRatio=i}clear(){kV(this)}destroy(){this.canvas.width=0,this.canvas.height=0,this.context.clearRect(0,0,0,0),this.canvas=null,this.context=null,Object.freeze(this)}},I4=t=>{const e=xi.fromString(t),[i,n,s]=xi.RGBtoOKLCH(e.r,e.g,e.b);return{l:i,c:n,h:s,a:e.a}},LC=1e-6,T4=t=>t.c<LC||t.l<LC||t.l>1-LC,Qit=(t,e,i)=>{i=qt(0,i,1);let n;if(T4(t))n=e.h;else if(T4(e))n=t.h;else{const r=t.h;let l=e.h;const c=e.h-t.h;c>180?l-=360:c<-180&&(l+=360),n=r*(1-i)+l*i}const s=t.c*(1-i)+e.c*i,a=t.l*(1-i)+e.l*i,o=t.a*(1-i)+e.a*i;return xi.fromOKLCH(a,s,n,o)},ih=class extends eA{constructor(){super(...arguments),this.type="color",this.invalid=!0,this.domain=[0,1],this.range=["red","blue"],this.parsedRange=this.range.map(I4)}update(){const{domain:e,range:i}=this;e.length<2&&(It.warnOnce("`colorDomain` should have at least 2 values."),e.length===0?e.push(0,1):e.length===1&&e.push(e[0]+1));for(let n=1;n<e.length;n++){const s=e[n-1],a=e[n];if(s>=a){It.warnOnce("`colorDomain` values should be supplied in ascending order."),e.sort((o,r)=>o-r);break}}if(i.length<e.length)for(let n=i.length;n<e.length;n++)i.push(i.length>0?i[0]:"black");this.parsedRange=this.range.map(I4)}normalizeDomains(...e){return{domain:e.flat(),animatable:!0}}toDomain(){}convert(e){this.refresh();const{domain:i,range:n,parsedRange:s}=this,a=i[0],o=i.at(-1),r=n[0],l=n[n.length-1];if(e<=a)return r;if(e>=o)return l;let c,h;if(i.length===2){const y=(e-a)/(o-a),m=1/(n.length-1);c=n.length<=2?0:Math.min(Math.floor(y*(n.length-1)),n.length-2),h=(y-c*m)/m}else{for(c=0;c<i.length-2&&!(e<i[c+1]);c++);const y=i[c],m=i[c+1];h=(e-y)/(m-y)}const p=s[c],f=s[c+1];return Qit(p,f,h).toRgbaString()}invert(){}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&It.warnOnce("Expected update to not invalidate scale"))}};N([og],ih.prototype,"domain",2);N([og],ih.prototype,"range",2);var lA=class{constructor(t,e=[],i){this.colorSpace=t,this.stops=e,this.bbox=i,this._cache=void 0}createGradient(t,e){const i=this.bbox??e;if(this._cache!=null&&this._cache.ctx===t&&this._cache.bbox.equals(i))return this._cache.gradient;const{stops:n,colorSpace:s}=this;if(n.length===0)return;if(n.length===1)return n[0].color;let a=this.createCanvasGradient(t,i);if(a==null)return;const o=s==="oklch",r=.05;let l=n[0];a.addColorStop(l.offset,l.color);for(let c=1;c<n.length;c+=1){const h=n[c];if(o){const p=new ih;p.domain=[l.offset,h.offset],p.range=[l.color,h.color];for(let f=l.offset+r;f<h.offset;f+=r)a.addColorStop(f,p.convert(f))}a.addColorStop(h.offset,h.color),l=h}return"createPattern"in a&&(a=a.createPattern()),this._cache={ctx:t,bbox:i,gradient:a},a}},Eo=Math.PI*2,om=Math.PI/2;function qe(t){return t%=Eo,t+=Eo,t%=Eo,t}function Jit(t){return t%=Eo,t+=Eo,t!==Eo&&(t%=Eo),t}function rx(t){return t%=Eo,t<-Math.PI?t+=Eo:t>=Math.PI&&(t-=Eo),t}function Bu(t,e,i){const n=qe(t),s=qe(e),a=qe(i);return s<a?s<=n&&n<=a:s>a?s<=n||n<=a:!0}function yn(t){return t/180*Math.PI}function tnt(t){return t/Math.PI*180}function cA(t,e){return t=qe(t),e=qe(e),e-t+(t>e?Eo:0)}function EV(t){const e=qe(t);return e<=om?e/om:e<=Math.PI?(Math.PI-e)/om:e<=1.5*Math.PI?(e-Math.PI)/om:(Eo-e)/om}var Ik=class extends lA{constructor(e,i,n=0,s){super(e,i,s),this.angle=n}createCanvasGradient(e,i){const{angle:s}=this,a=qe(yn(s+90)),o=Math.cos(a),r=Math.sin(a),l=i.width,c=i.height,h=i.x+l*.5,p=i.y+c*.5,f=Math.sqrt(c*c+l*l)/2,y=Math.atan2(c,l);let m;a<Math.PI/2?m=a:a<Math.PI?m=Math.PI-a:a<1.5*Math.PI?m=a-Math.PI:m=2*Math.PI-a;const b=f*Math.abs(Math.cos(m-y));return e.createLinearGradient(h+o*b,p+r*b,h-o*b,p-r*b)}},iN=class extends Zt{constructor(){super(...arguments),this.color="black"}};N([w(de,{optional:!0})],iN.prototype,"stop",2);N([w(Ae,{optional:!0})],iN.prototype,"color",2);function ent(t){let e;for(const{stop:i}of t)if(i!=null){if(e!=null&&i<e)return!1;e=i}return!0}function OV(t){return t.flatMap((e,i)=>{var a;const{offset:n}=e,s=(a=t.at(i+1))==null?void 0:a.color;return s!=null?[e,{offset:n,color:s}]:[e]})}function int(t,e){const i=e==="discrete"?1:0,n=t.map((s,a,{length:o})=>({offset:(a+i)/(o-1+i),color:s}));return e==="discrete"?OV(n):n}function wV(t,e,i,n="continuous"){var y;if(t.length===0)return int(e,n);if(!ent(t))return It.warnOnce("[fills] must have the stops defined in ascending order"),[];const s=Math.min(...i),a=Math.max(...i),o=n==="discrete",r=new Float64Array(t.length);let l=0,c=-1;for(let m=0;m<t.length;m+=1){const b=t[m];if(m>=c){c=t.length-1;for(let S=m+1;S<t.length;S+=1)if(t[S].stop!=null){c=S;break}}let{stop:v}=b;if(v==null){const S=t[l].stop,D=t[c].stop,I=S??s,T=D??a,k=o&&S==null?1:0;v=I+(T-I)*(m-l+k)/(c-l+k)}else l=m;r[m]=Math.max(0,Math.min(1,(v-s)/(a-s)))}let h=(y=t.find(m=>m.color!=null))==null?void 0:y.color,p;const f=t.map(({color:m},b)=>{const v=r[b];return m!=null?h=m:h!=null?m=h:(p==null&&(p=new ih,p.domain=[0,1],p.range=e),m=p.convert(v)),{offset:v,color:m}});return n==="discrete"?OV(f):f}function RV(t){return t!==null&&Gn(t)&&t.type=="gradient"}function Jl(t,e,i){const n=Math.round(e*t)/t;return i==null?n:i===0?0:i<1?Math.ceil(i*t)/t:Math.round((i+e)*t)/t-n}function C4(t,e){return Math.floor(e*t)/t}var nnt=/^linear-gradient\((-?[\d.]+)deg,(.*?)\)$/i,ea=class rr extends Qu{constructor(){super(...arguments),this.fillOpacity=1,this.strokeOpacity=1,this.fill=rr.defaultStyles.fill,this.stroke=rr.defaultStyles.stroke,this.strokeWidth=rr.defaultStyles.strokeWidth,this.lineDash=rr.defaultStyles.lineDash,this.lineDashOffset=rr.defaultStyles.lineDashOffset,this.lineCap=rr.defaultStyles.lineCap,this.lineJoin=rr.defaultStyles.lineJoin,this.miterLimit=void 0,this.opacity=rr.defaultStyles.opacity,this.fillShadow=rr.defaultStyles.fillShadow,this.gradientFillOptions={domain:[0,1],defaultColorRange:rr.defaultStyles.defaultColorRange}}restoreOwnStyles(){const{defaultStyles:e}=this.constructor;Object.assign(this,e)}getGradient(e){let i;if(e instanceof lA)return e;if(typeof e=="string"&&(e!=null&&e.startsWith("linear-gradient"))&&(i=nnt.exec(e))){const n=parseFloat(i[1]),s=[],a=i[2],o=/(#[0-9a-f]+)|(rgba?\(.+?\))|([a-z]+)/gi;let r;for(;r=o.exec(a);)s.push(r[0]);return new Ik("rgb",s.map((l,c)=>({color:l,offset:c/(s.length-1)})),n)}else if(RV(e))return this.createLinearGradient(e)}createLinearGradient(e){const{colorStops:i=[],direction:n}=e,s=n==="horizontal",{domain:a,defaultColorRange:o=[]}=this.gradientFillOptions,r=wV(i,o,a);return new Ik("oklch",r,s?0:90)}onFillChange(){this.fillGradient=this.getGradient(this.fill)}onStrokeChange(){this.strokeGradient=this.getGradient(this.stroke)}align(e,i){var n,s;return Jl(((s=(n=this.layerManager)==null?void 0:n.canvas)==null?void 0:s.pixelRatio)??1,e,i)}fillStroke(e,i){this.renderFill(e,i),this.renderStroke(e,i)}renderFill(e,i){if(this.fill){const{globalAlpha:n}=e;this.applyFill(e),this.applyFillAlpha(e),this.applyShadow(e),this.executeFill(e,i),e.globalAlpha=n}e.shadowColor="rgba(0, 0, 0, 0)"}executeFill(e,i){i?e.fill(i):e.fill()}applyFill(e){var n;const i=this.gradientFillOptions.bbox??this.getBBox();e.fillStyle=((n=this.fillGradient)==null?void 0:n.createGradient(e,i))??(typeof this.fill=="string"?this.fill:void 0)??"black"}applyStroke(e){var i;e.strokeStyle=((i=this.strokeGradient)==null?void 0:i.createGradient(e,this.getBBox()))??(typeof this.stroke=="string"?this.stroke:void 0)??"black"}applyFillAlpha(e){e.globalAlpha*=this.opacity*this.fillOpacity}applyShadow(e){var s;const i=((s=this.layerManager)==null?void 0:s.canvas.pixelRatio)??1,n=this.fillShadow;n!=null&&n.enabled&&(e.shadowColor=n.color,e.shadowOffsetX=n.xOffset*i,e.shadowOffsetY=n.yOffset*i,e.shadowBlur=n.blur*i)}renderStroke(e,i){if(this.stroke&&this.strokeWidth){const{globalAlpha:n}=e;this.applyStroke(e),e.globalAlpha*=this.opacity*this.strokeOpacity,e.lineWidth=this.strokeWidth,this.lineDash&&e.setLineDash(this.lineDash),this.lineDashOffset&&(e.lineDashOffset=this.lineDashOffset),this.lineCap&&(e.lineCap=this.lineCap),this.lineJoin&&(e.lineJoin=this.lineJoin),this.miterLimit!=null&&(e.miterLimit=this.miterLimit),this.executeStroke(e,i),e.globalAlpha=n}}executeStroke(e,i){i?e.stroke(i):e.stroke()}containsPoint(e,i){return this.isPointInPath(e,i)}applySvgFillAttributes(e){const{fill:i,fillOpacity:n}=this;e.setAttribute("fill",typeof i=="string"?i:"none"),e.setAttribute("fill-opacity",String(n))}applySvgStrokeAttributes(e){const{stroke:i,strokeOpacity:n,strokeWidth:s,lineDash:a,lineDashOffset:o}=this;if(i!=null&&(e.setAttribute("stroke",typeof i=="string"?i:"none"),e.setAttribute("stroke-opacity",String(n)),e.setAttribute("stroke-width",String(s))),(a==null?void 0:a.some(r=>r!==0))===!0){const r=a.length%2===1?[...a,...a]:a;e.setAttribute("stroke-dasharray",r.join(" ")),e.setAttribute("stroke-dashoffset",String(o))}}};ea.defaultStyles={fill:"black",stroke:void 0,strokeWidth:0,lineDash:void 0,lineDashOffset:0,lineCap:void 0,lineJoin:void 0,opacity:1,fillShadow:void 0,defaultColorRange:["#5090dc","#ef5452"]};N([Lt()],ea.prototype,"fillOpacity",2);N([Lt()],ea.prototype,"strokeOpacity",2);N([Lt({changeCb:t=>t.onFillChange()})],ea.prototype,"fill",2);N([Lt({changeCb:t=>t.onStrokeChange()})],ea.prototype,"stroke",2);N([Lt()],ea.prototype,"strokeWidth",2);N([Lt()],ea.prototype,"lineDash",2);N([Lt()],ea.prototype,"lineDashOffset",2);N([Lt()],ea.prototype,"lineCap",2);N([Lt()],ea.prototype,"lineJoin",2);N([Lt()],ea.prototype,"miterLimit",2);N([Lt({convertor:t=>qt(0,t,1)})],ea.prototype,"opacity",2);N([Lt({checkDirtyOnAssignment:!0})],ea.prototype,"fillShadow",2);N([Lt({changeCb:t=>t.onFillChange()})],ea.prototype,"gradientFillOptions",2);var _o=ea,PV=[1,0,0,1,0,0],yr=class kS{get e(){return[...this.elements]}constructor(e=PV){this.elements=[...e]}setElements(e){const i=this.elements;return i[0]=e[0],i[1]=e[1],i[2]=e[2],i[3]=e[3],i[4]=e[4],i[5]=e[5],this}get identity(){const e=this.elements;return lr(e[0],1)&&lr(e[1],0)&&lr(e[2],0)&&lr(e[3],1)&&lr(e[4],0)&&lr(e[5],0)}AxB(e,i,n){const s=e[0]*i[0]+e[2]*i[1],a=e[1]*i[0]+e[3]*i[1],o=e[0]*i[2]+e[2]*i[3],r=e[1]*i[2]+e[3]*i[3],l=e[0]*i[4]+e[2]*i[5]+e[4],c=e[1]*i[4]+e[3]*i[5]+e[5];n=n??e,n[0]=s,n[1]=a,n[2]=o,n[3]=r,n[4]=l,n[5]=c}multiplySelf(e){return this.AxB(this.elements,e.elements),this}multiply(e){const i=new Array(6);return e instanceof kS?this.AxB(this.elements,e.elements,i):this.AxB(this.elements,[e.a,e.b,e.c,e.d,e.e,e.f],i),new kS(i)}preMultiplySelf(e){return this.AxB(e.elements,this.elements,this.elements),this}inverse(){const e=this.elements;let i=e[0],n=e[1],s=e[2],a=e[3];const o=e[4],r=e[5],l=1/(i*a-n*s);return i*=l,n*=l,s*=l,a*=l,new kS([a,-n,-s,i,s*r-a*o,n*o-i*r])}invertSelf(){const e=this.elements;let i=e[0],n=e[1],s=e[2],a=e[3];const o=e[4],r=e[5],l=1/(i*a-n*s);return i*=l,n*=l,s*=l,a*=l,e[0]=a,e[1]=-n,e[2]=-s,e[3]=i,e[4]=s*r-a*o,e[5]=n*o-i*r,this}transformPoint(e,i){const n=this.elements;return{x:e*n[0]+i*n[2]+n[4],y:e*n[1]+i*n[3]+n[5]}}transformBBox(e,i){const n=this.elements,s=n[0],a=n[1],o=n[2],r=n[3],l=e.width*.5,c=e.height*.5,h=e.x+l,p=e.y+c,f=Math.abs(l*s)+Math.abs(c*o),y=Math.abs(l*a)+Math.abs(c*r);return i??(i=new Et(0,0,0,0)),i.x=h*s+p*o+n[4]-f,i.y=h*a+p*r+n[5]-y,i.width=f+f,i.height=y+y,i}toContext(e){if(this.identity)return;const i=this.elements;e.transform(i[0],i[1],i[2],i[3],i[4],i[5])}static updateTransformMatrix(e,i,n,s,a,o,r){const l=i,c=n;let h,p;l===1&&c===1?(h=0,p=0):(h=(r==null?void 0:r.scalingCenterX)??0,p=(r==null?void 0:r.scalingCenterY)??0);const f=s,y=Math.cos(f),m=Math.sin(f);let b,v;f===0?(b=0,v=0):(b=(r==null?void 0:r.rotationCenterX)??0,v=(r==null?void 0:r.rotationCenterY)??0);const S=a,D=o,I=h*(1-l)-b,T=p*(1-c)-v;return e.setElements([y*l,m*l,-m*c,y*c,y*I-m*T+b+S,m*I+y*T+v+D]),e}};function vu(t){return zV(t.constructor)}var BV=Symbol("isMatrixTransform");function zV(t){return t[BV]===!0}function nN(t){var e,i;const n=t;if(zV(t))return t;const s=Symbol("matrix_combined_transform");class a extends n{constructor(){super(...arguments),this[i]=new yr,this._dirtyTransform=!0}markDirtyTransform(){this._dirtyTransform=!0,super.markDirty()}updateMatrix(r){}computeTransformMatrix(){this._dirtyTransform&&(this[s].setElements(PV),this.updateMatrix(this[s]),this._dirtyTransform=!1)}toParent(r){return this.computeTransformMatrix(),this[s].identity?r.clone():this[s].transformBBox(r)}toParentPoint(r,l){return this.computeTransformMatrix(),this[s].identity?{x:r,y:l}:this[s].transformPoint(r,l)}fromParent(r){return this.computeTransformMatrix(),this[s].identity?r.clone():this[s].inverse().transformBBox(r)}fromParentPoint(r,l){return this.computeTransformMatrix(),this[s].identity?{x:r,y:l}:this[s].inverse().transformPoint(r,l)}computeBBox(){const r=super.computeBBox();return r&&this.toParent(r)}computeBBoxWithoutTransforms(){return super.computeBBox()}pickNode(r,l,c=!1){return c||({x:r,y:l}=this.fromParentPoint(r,l)),super.pickNode(r,l)}render(r){this.computeTransformMatrix();const{ctx:l}=r,c=this[s];let h=!1;c.identity||(l.save(),h=!0,c.toContext(l)),super.render(r),h&&l.restore()}toSVG(){this.computeTransformMatrix();const r=super.toSVG(),l=this[s];if(l.identity||r==null)return r;const c=Ro("g");c.append(...r.elements);const[h,p,f,y,m,b]=l.e;return c.setAttribute("transform",`matrix(${h} ${p} ${f} ${y} ${m} ${b})`),{elements:[c],defs:r.defs}}}return e=BV,i=s,a[e]=!0,a}function lg(t){var e;const i=t,n=Symbol("matrix_rotation");class s extends nN(i){constructor(){super(...arguments),this[e]=new yr,this.rotationCenterX=null,this.rotationCenterY=null,this.rotation=0}updateMatrix(o){super.updateMatrix(o);const{rotation:r,rotationCenterX:l,rotationCenterY:c}=this;r!==0&&(yr.updateTransformMatrix(this[n],1,1,r,0,0,{rotationCenterX:l,rotationCenterY:c}),o.multiplySelf(this[n]))}}return e=n,N([Lt({type:"transform"})],s.prototype,"rotationCenterX",2),N([Lt({type:"transform"})],s.prototype,"rotationCenterY",2),N([Lt({type:"transform"})],s.prototype,"rotation",2),s}function sN(t){var e;const i=t,n=Symbol("matrix_scale");class s extends nN(i){constructor(){super(...arguments),this[e]=new yr,this.scalingX=1,this.scalingY=1,this.scalingCenterX=null,this.scalingCenterY=null}updateMatrix(o){super.updateMatrix(o);const{scalingX:r,scalingY:l,scalingCenterX:c,scalingCenterY:h}=this;r===1&&l===1||(yr.updateTransformMatrix(this[n],r,l,0,0,0,{scalingCenterX:c,scalingCenterY:h}),o.multiplySelf(this[n]))}}return e=n,N([Lt({type:"transform"})],s.prototype,"scalingX",2),N([Lt({type:"transform"})],s.prototype,"scalingY",2),N([Lt({type:"transform"})],s.prototype,"scalingCenterX",2),N([Lt({type:"transform"})],s.prototype,"scalingCenterY",2),s}function Ud(t){var e;const i=t,n=Symbol("matrix_translation");class s extends nN(i){constructor(){super(...arguments),this[e]=new yr,this.translationX=0,this.translationY=0}updateMatrix(o){super.updateMatrix(o);const{translationX:r,translationY:l}=this;r===0&&l===0||(yr.updateTransformMatrix(this[n],1,1,0,r,l),o.multiplySelf(this[n]))}}return e=n,N([Lt({type:"transform"})],s.prototype,"translationX",2),N([Lt({type:"transform"})],s.prototype,"translationY",2),s}var Di=class{static fromCanvas(e,i){const n=[];for(const s of e.traverseUp())vu(s)&&n.unshift(s);for(const s of n)i=s.fromParent(i);return vu(e)&&(i=e.fromParent(i)),i}static toCanvas(e,i){i==null?i=e.getBBox():vu(e)&&(i=e.toParent(i));for(const n of e.traverseUp())vu(n)&&(i=n.toParent(i));return i}static fromCanvasPoint(e,i,n){const s=[];for(const a of e.traverseUp())vu(a)&&s.unshift(a);for(const a of s)({x:i,y:n}=a.fromParentPoint(i,n));return vu(e)&&({x:i,y:n}=e.fromParentPoint(i,n)),{x:i,y:n}}static toCanvasPoint(e,i,n){vu(e)&&({x:i,y:n}=e.toParentPoint(i,n));for(const s of e.traverseUp())vu(s)&&({x:i,y:n}=s.toParentPoint(i,n));return{x:i,y:n}}},NC=(t,e)=>Math.sign(t-e);function _V(t,e){if(typeof t=="number"&&typeof e=="number")return NC(t,e);const i=typeof t=="number"?[t]:t,n=typeof e=="number"?[e]:e,s=Math.min(i.length,n.length);for(let a=0;a<s;a+=1){const o=NC(i[a],n[a]);if(o!==0)return o}return NC(i.length,n.length)}var rm,aN=class Cm extends Qu{constructor(e){super(e),this.opacity=1,this.renderToOffscreenCanvas=!1,this.optimizeForInfrequentRedraws=!1,this.layer=void 0,this.image=void 0,this._lastWidth=NaN,this._lastHeight=NaN,this._lastDevicePixelRatio=NaN,this.isContainerNode=!0,this.renderToOffscreenCanvas=(e==null?void 0:e.renderToOffscreenCanvas)===!0}static is(e){return e instanceof Cm}static computeChildrenBBox(e,i=!0){return Et.merge(Qu.extractBBoxes(e,i))}static compareChildren(e,i){return _V(e.zIndex,i.zIndex)||e.serialNumber-i.serialNumber}containsPoint(e,i){return!0}computeBBox(){return Cm.computeChildrenBBox(this.children())}computeSafeClippingBBox(e){const i=this.computeBBox();if(!i.isFinite())return;let n=0;const s=4;for(const f of this.descendants())f instanceof _o&&(n=Math.max(n,f.strokeWidth));const a=Math.max(1,n/2*s),{x:o,y:r}=Di.toCanvasPoint(this,0,0),l=C4(e,o+i.x-a)-o,c=C4(e,r+i.y-a)-r,h=Math.ceil(i.x+i.width-l+a),p=Math.ceil(i.y+i.height-c+a);return new Et(l,c,h,p)}prepareSharedCanvas(e,i,n){return rm==null||rm.pixelRatio!==n?rm=new NV({width:e,height:i,pixelRatio:n}):rm.resize(e,i,n),rm}isDirty(e){const{width:i,height:n,devicePixelRatio:s}=e,{dirty:a,dirtyZIndex:o,layer:r}=this,l=r!=null&&(this._lastWidth!==i||this._lastHeight!==n),c=this._lastDevicePixelRatio!==s;if(this._lastWidth=i,this._lastHeight=n,this._lastDevicePixelRatio=s,a||o||l||c)return!0;for(const h of this.children())if(h.dirty)return!0;return!1}preRender(e){var n,s;const i=super.preRender(e,0);return i.groups+=1,i.nonGroups-=1,this.renderToOffscreenCanvas&&!this.optimizeForInfrequentRedraws&&i.nonGroups>0&&this.getVisibility()?this.layer??(this.layer=(n=this._layerManager)==null?void 0:n.addLayer({name:this.name})):this.layer!=null&&((s=this._layerManager)==null||s.removeLayer(this.layer),this.layer=void 0),i}render(e){const{layer:i,renderToOffscreenCanvas:n}=this,s={...e};if(!n){this.renderInContext(s),super.render(s);return}const{ctx:a,stats:o,devicePixelRatio:r}=e;let{image:l}=this;if(this.isDirty(e)){l==null||l.bitmap.close(),l=void 0;const h=i?void 0:this.computeSafeClippingBBox(r),p=(f,...y)=>{var b;const m=f.context;s.ctx=m,f.clear(),m.save(),m.setTransform(...y),m.globalAlpha=1,this.renderInContext(s),m.restore(),(b=m.verifyDepthZero)==null||b.call(m)};if(i)p(i,a.getTransform());else if(h){const{x:f,y,width:m,height:b}=h,v=this.prepareSharedCanvas(m,b,r);p(v,r,0,0,r,-f*r,-y*r),l={bitmap:v.transferToImageBitmap(),x:f,y,width:m,height:b}}else this.dirtyZIndex&&this.sortChildren(Cm.compareChildren);this.image=l,o&&o.layersRendered++}else this.skipRender(s),o&&o.layersSkipped++;const{globalAlpha:c}=a;if(a.globalAlpha=c*this.opacity,i)a.save(),a.resetTransform(),i.drawImage(a),a.restore();else if(l){const{bitmap:h,x:p,y:f,width:y,height:m}=l;a.drawImage(h,0,0,y*r,m*r,p,f,y,m)}a.globalAlpha=c,super.render(s)}skipRender(e){const{stats:i}=e;for(const n of this.children())n.markClean(),i&&(i.nodesSkipped+=this.childNodeCounts.groups+this.childNodeCounts.nonGroups,i.opsSkipped+=this.childNodeCounts.complexity)}applyClip(e,i){const{x:n,y:s,width:a,height:o}=i;e.beginPath(),e.rect(n,s,a,o),e.clip()}renderInContext(e){const{ctx:i,stats:n}=e;this.dirtyZIndex&&this.sortChildren(Cm.compareChildren),i.save(),i.globalAlpha*=this.opacity,this.clipRect!=null&&(this.applyClip(i,this.clipRect),e.clipBBox=Di.toCanvas(this,this.clipRect));for(const s of this.children()){if(!s.visible){s.markClean(),n&&(n.nodesSkipped+=s.childNodeCounts.nonGroups+s.childNodeCounts.groups,n.opsSkipped+=s.childNodeCounts.complexity);continue}i.save(),s.render(e),i.restore()}i.restore()}setClipRect(e){this.clipRect=e?Di.fromCanvas(this,e):void 0}setClipRectCanvasSpace(e){this.clipRect=e}_setLayerManager(e){var i;this.layer&&((i=this._layerManager)==null||i.removeLayer(this.layer),this.layer=void 0),super._setLayerManager(e)}getVisibility(){for(const e of this.traverseUp(!0))if(!e.visible)return!1;return!0}toSVG(){if(!this.visible)return;const e=[],i=[];for(const n of this.children()){const s=n.toSVG();s!=null&&(i.push(...s.elements),s.defs!=null&&e.push(...s.defs))}return{elements:i,defs:e}}};aN.className="Group";N([Lt({convertor:t=>qt(0,t,1)})],aN.prototype,"opacity",2);var Wt=aN,snt=class extends sN(Wt){},ant=class extends lg(Wt){},Js=class extends Ud(Wt){},lm=class extends lg(Ud(Wt)){};function ont(t=0,e=0){return new OffscreenCanvas(t,e).getContext("2d")}var oN=class{constructor(t=5){this.maxCacheSize=t,this.store=new Map}get(t){if(!this.store.has(t))return;const e=this.store.get(t);return this.store.delete(t),this.store.set(t,e),e}has(t){return this.store.has(t)}set(t,e){if(this.store.set(t,e),this.store.size>this.maxCacheSize){const i=this.store.keys();let n=this.store.size-this.maxCacheSize;for(;n>0;){const s=i.next();s.done||this.store.delete(s.value),n--}}return e}clear(){this.store.clear()}},Tc=class{static measureText(e,i){return this.getMeasurer(i).measureText(e)}static measureLines(e,i){return this.getMeasurer(i).measureLines(e)}static getMeasurer(e){const i=typeof e.font=="string"?e.font:hi.toFontString(e.font),n=`${i}-${e.textAlign??"start"}-${e.textBaseline??"alphabetic"}`;return this.instanceMap.get(n)??this.createFontMeasurer(i,e,n)}static createFontMeasurer(e,i,n){const s=ont();s.font=e,s.textAlign=i.textAlign??"start",s.textBaseline=i.textBaseline??"alphabetic";const a=new jV(s,i);return this.instanceMap.set(n,a),a}};Tc.instanceMap=new oN(10);var jV=class{constructor(t,e){this.ctx=t,this.measureMap=new oN(100),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline),t.font=typeof e.font=="string"?e.font:hi.toFontString(e.font),this.textMeasurer=new rN(i=>this.cachedCtxMeasureText(i),e.textBaseline??"alphabetic")}textWidth(t,e){return this.textMeasurer.textWidth(t,e)}measureText(t){return this.textMeasurer.measureText(t)}measureLines(t){return this.textMeasurer.measureLines(t)}cachedCtxMeasureText(t){if(!this.measureMap.has(t)){const e=this.ctx.measureText(t);this.measureMap.set(t,{actualBoundingBoxAscent:e.actualBoundingBoxAscent,emHeightAscent:e.emHeightAscent,emHeightDescent:e.emHeightDescent,actualBoundingBoxDescent:e.actualBoundingBoxDescent,actualBoundingBoxLeft:e.actualBoundingBoxLeft,actualBoundingBoxRight:e.actualBoundingBoxRight,alphabeticBaseline:e.alphabeticBaseline,fontBoundingBoxAscent:e.fontBoundingBoxAscent,fontBoundingBoxDescent:e.fontBoundingBoxDescent,hangingBaseline:e.hangingBaseline,ideographicBaseline:e.ideographicBaseline,width:e.width})}return this.measureMap.get(t)}},hi=class{static toFontString({fontSize:e=10,fontStyle:i,fontWeight:n,fontFamily:s,lineHeight:a}){let o="";return i&&(o+=`${i} `),n&&(o+=`${n} `),o+=`${e}px`,a&&(o+=`/${a}px`),o+=` ${s}`,o.trim()}static getLineHeight(e){return Math.ceil(e*this.defaultLineHeight)}static getVerticalModifier(e){switch(e){case"hanging":case"top":return 0;case"middle":return .5;case"alphabetic":case"bottom":case"ideographic":default:return 1}}};hi.EllipsisChar="";hi.defaultLineHeight=1.15;hi.lineSplitter=/\r?\n/g;var rN=class{constructor(t,e="alphabetic"){this.measureTextFn=t,this.textBaseline=e,this.charMap=new Map}getMetrics(t){const e=this.measureTextFn(t);return e.fontBoundingBoxAscent??(e.fontBoundingBoxAscent=e.emHeightAscent),e.fontBoundingBoxDescent??(e.fontBoundingBoxDescent=e.emHeightDescent),{width:e.width,height:e.actualBoundingBoxAscent+e.actualBoundingBoxDescent,lineHeight:e.fontBoundingBoxAscent+e.fontBoundingBoxDescent,offsetTop:e.actualBoundingBoxAscent,offsetLeft:e.actualBoundingBoxLeft}}getMultilineMetrics(t){let e=0,i=0,n=0,s=0,a=0;const o=hi.getVerticalModifier(this.textBaseline),r=[];let l=0;const c=t.length;for(const h of t){const p=this.measureTextFn(h);p.fontBoundingBoxAscent??(p.fontBoundingBoxAscent=p.emHeightAscent),p.fontBoundingBoxDescent??(p.fontBoundingBoxDescent=p.emHeightDescent),e<p.width&&(e=p.width),s<p.actualBoundingBoxLeft&&(s=p.actualBoundingBoxLeft),l===0?(i+=p.actualBoundingBoxAscent,n+=p.actualBoundingBoxAscent):a+=p.fontBoundingBoxAscent,l===c-1?i+=p.actualBoundingBoxDescent:a+=p.fontBoundingBoxDescent,r.push({text:h,width:p.width,height:p.actualBoundingBoxAscent+p.actualBoundingBoxDescent,lineHeight:p.fontBoundingBoxAscent+p.fontBoundingBoxDescent,offsetTop:p.actualBoundingBoxAscent,offsetLeft:p.actualBoundingBoxLeft}),l++}return i+=a,n+=a*o,{width:e,height:i,offsetTop:n,offsetLeft:s,lineMetrics:r}}textWidth(t,e){if(e){let i=0;for(let n=0;n<t.length;n++)i+=this.textWidth(t.charAt(n));return i}return t.length>1?this.measureTextFn(t).width:this.charMap.get(t)??this.charWidth(t)}measureText(t){return this.getMetrics(t)}measureLines(t){const e=typeof t=="string"?t.split(hi.lineSplitter):t;return this.getMultilineMetrics(e)}charWidth(t){const{width:e}=this.measureTextFn(t);return this.charMap.set(t,e),e}},Wa=class LS extends _o{constructor(){super(...arguments),this.x=0,this.y=0,this.lines=[],this.text=void 0,this.fontSize=10,this.fontFamily="sans-serif",this.textAlign=LS.defaultStyles.textAlign,this.textBaseline=LS.defaultStyles.textBaseline}onTextChange(){var e;this.lines=((e=this.text)==null?void 0:e.split(`
`).map(i=>i.trim()))??[]}static computeBBox(e,i,n,s){const{offsetTop:a,offsetLeft:o,width:r,height:l}=Tc.measureLines(e,s);return new Et(i-o,n-a,r,l)}computeBBox(){const{x:e,y:i,lines:n,textBaseline:s,textAlign:a}=this;return LS.computeBBox(n,e,i,{font:this,textBaseline:s,textAlign:a})}isPointInPath(e,i){const n=this.getBBox();return n?n.containsPoint(e,i):!1}render(e){const{ctx:i,stats:n}=e;if(!this.lines.length||!this.layerManager)return n&&(n.nodesSkipped+=1),super.render(e);const{fill:s,stroke:a,strokeWidth:o}=this,{pixelRatio:r}=this.layerManager.canvas;if(i.font=hi.toFontString(this),i.textAlign=this.textAlign,i.textBaseline=this.textBaseline,s){this.applyFill(i),i.globalAlpha*=this.opacity*this.fillOpacity;const{fillShadow:l}=this;l!=null&&l.enabled&&(i.shadowColor=l.color,i.shadowOffsetX=l.xOffset*r,i.shadowOffsetY=l.yOffset*r,i.shadowBlur=l.blur*r),this.renderLines((c,h,p)=>i.fillText(c,h,p))}if(a&&o){this.applyStroke(i),i.lineWidth=o,i.globalAlpha*=this.opacity*this.strokeOpacity;const{lineDash:l,lineDashOffset:c,lineCap:h,lineJoin:p}=this;l&&i.setLineDash(l),c&&(i.lineDashOffset=c),h&&(i.lineCap=h),p&&(i.lineJoin=p),this.renderLines((f,y,m)=>i.strokeText(f,y,m))}super.render(e)}renderLines(e){const{lines:i,x:n,y:s}=this,a=this.lineHeight??hi.getLineHeight(this.fontSize);let o=(a-a*i.length)*hi.getVerticalModifier(this.textBaseline);for(const r of i)e(r,n,s+o),o+=a}setFont(e){this.fontFamily=e.fontFamily,this.fontSize=e.fontSize,this.fontStyle=e.fontStyle,this.fontWeight=e.fontWeight}setAlign(e){this.textAlign=e.textAlign,this.textBaseline=e.textBaseline}toSVG(){var i;if(!this.visible||!this.text)return;const e=Ro("text");return this.applySvgFillAttributes(e),e.setAttribute("font-family",((i=this.fontFamily)==null?void 0:i.split(",")[0])??""),e.setAttribute("font-size",String(this.fontSize)),e.setAttribute("font-style",this.fontStyle??""),e.setAttribute("font-weight",String(this.fontWeight??"")),e.setAttribute("text-anchor",{center:"middle",left:"start",right:"end",start:"start",end:"end"}[this.textAlign??"start"]),e.setAttribute("alignment-baseline",{alphabetic:"alphabetic",top:"top",bottom:"bottom",hanging:"hanging",middle:"middle",ideographic:"ideographic"}[this.textBaseline??"alphabetic"]),e.setAttribute("x",String(this.x)),e.setAttribute("y",String(this.y)),e.textContent=this.text??"",{elements:[e]}}};Wa.className="Text";Wa.defaultStyles={..._o.defaultStyles,textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"};N([Lt()],Wa.prototype,"x",2);N([Lt()],Wa.prototype,"y",2);N([Lt({changeCb:t=>t.onTextChange()})],Wa.prototype,"text",2);N([Lt()],Wa.prototype,"fontStyle",2);N([Lt()],Wa.prototype,"fontWeight",2);N([Lt()],Wa.prototype,"fontSize",2);N([Lt()],Wa.prototype,"fontFamily",2);N([Lt()],Wa.prototype,"textAlign",2);N([Lt()],Wa.prototype,"textBaseline",2);N([Lt()],Wa.prototype,"lineHeight",2);var Cn=Wa,FV=class extends lg(Cn){},Jf=class extends lg(Ud(Cn)){},EC="color: green",OC="color: grey";function rnt(){return tV(()=>{})}function Tk(t,e){const i=Ld(e);if(i.length===0)return;const n=eV(t);for(const s of i)s in n&&(e[s]=n[s])}var GV=class{transitionRoot(t,e){this.parent?this.parent.transitionRoot(t,e):this.transition(t,e)}},lN=class ha extends GV{constructor(e,i,n){super(),this.defaultState=e,this.states=i,this.enterEach=n,this.debug=We.create(!0,"animation"),this.state=e,this.debug(`%c${this.constructor.name} | init -> ${e}`,EC)}transition(e,i){var h,p,f,y;if(!this.transitionChild(e,i)||this.state===ha.child||this.state===ha.parent)return;const s=this.state,a=this.states[this.state];let o=a[e];const r=`%c${this.constructor.name} | ${this.state} -> ${e} ->`;if(Array.isArray(o))o=o.find(m=>{if(!m.guard)return!0;const b=m.guard(i);return b||this.debug(`${r} (guarded)`,m.target,OC),b});else if(typeof o=="object"&&!(o instanceof ha)&&o.guard&&!o.guard(i)){this.debug(`${r} (guarded)`,o.target,OC);return}if(!o){this.debug(`${r} ${this.state}`,OC);return}const l=this.getDestinationState(o),c=l===this.state?void 0:a.onExit;this.debug(`${r} ${l}`,EC),this.state=l,typeof o=="function"?o(i):typeof o=="object"&&!(o instanceof ha)&&((h=o.action)==null||h.call(o,i)),c==null||c(),(p=this.enterEach)==null||p.call(this,s,l),l!==s&&l!==ha.child&&l!==ha.parent&&((y=(f=this.states[l]).onEnter)==null||y.call(f,s,i))}transitionAsync(e,i){setTimeout(()=>{this.transition(e,i)},0)}is(e){return this.state===ha.child&&this.childState?this.childState.is(e):this.state===e}resetHierarchy(){this.debug(`%c${this.constructor.name} | ${this.state} -> [resetHierarchy] -> ${this.defaultState}`,"color: green"),this.state=this.defaultState}transitionChild(e,i){var n,s;return this.state!==ha.child||!this.childState||(Tk(this,this.childState),this.childState.transition(e,i),!this.childState.is(ha.parent))?!0:(this.debug(`%c${this.constructor.name} | ${this.state} -> ${e} -> ${this.defaultState}`,EC),this.state=this.defaultState,(s=(n=this.states[this.state]).onEnter)==null||s.call(n),this.childState.resetHierarchy(),!1)}getDestinationState(e){let i=this.state;return typeof e=="string"?i=e:e instanceof ha?(this.childState=e,this.childState.parent=this,i=ha.child):typeof e=="object"&&(e.target instanceof ha?(this.childState=e.target,this.childState.parent=this,i=ha.child):e.target!=null&&(i=e.target)),i}};lN.child="__child";lN.parent="__parent";var tb=lN,lnt=class extends GV{constructor(...e){super(),this.stateMachines=e;for(const i of e)i.parent=this}transition(e,i){for(const n of this.stateMachines)Tk(this,n),n.transition(e,i)}transitionAsync(e,i){for(const n of this.stateMachines)Tk(this,n),n.transitionAsync(e,i)}};function ni(t,e){const i=Je(t)?t:t.split(".");if(i.length===1){const[n]=i;return xc((s,a,o)=>s[n]=o,s=>s[n],e)}return xc((n,s,a)=>$L(n,i,a),n=>WL(n,i),e)}function cnt(t){return xc((e,i,n)=>e[t]=n)}function Hn(t,e){return xc((i,n,s)=>i[t][e??n]=s)}function Sa(t){const{newValue:e,oldValue:i,changeValue:n}=t;return xc((s,a,o,r)=>(o!==r&&(r!==void 0&&(i==null||i.call(s,r)),o!==void 0&&(e==null||e.call(s,o)),n==null||n.call(s,o,r)),o))}function nh(t){return tV(t)}var cN=class{static wrapText(e,i){return this.wrapLines(e,i).join(`
`)}static wrapLines(e,i){const n=this.textWrap(e,i);return i.overflow==="hide"&&n.some(s=>s.endsWith(hi.EllipsisChar))?[]:n}static appendEllipsis(e){return e.replace(/[.,]{1,5}$/,"")+hi.EllipsisChar}static truncateLine(e,i,n,s){const a=i.textWidth(hi.EllipsisChar);let o=0,r=0;for(;r<e.length;r++){const l=i.textWidth(e.charAt(r));if(o+l>n)break;o+=l}if(e.length===r&&(!s||o+a<=n))return s?e+hi.EllipsisChar:e;for(e=e.slice(0,r).trimEnd();e.length&&i.textWidth(e)+a>n;)e=e.slice(0,-1).trimEnd();return e+hi.EllipsisChar}static textWrap(e,i){const n=e.split(hi.lineSplitter),s=Tc.getMeasurer(i);if(i.textWrap==="never")return n.map(l=>this.truncateLine(l.trimEnd(),s,i.maxWidth));const a=[],o=i.textWrap==="hyphenate",r=i.textWrap==null||i.textWrap==="on-space";for(const l of n){let c=l.trimEnd();if(c===""){a.push(c);continue}let h=0,p=0,f=0;for(;h<c.length;){const y=c.charAt(h);if(p+=s.textWidth(y),y===" "&&(f=h),p>i.maxWidth){if(h===0)break;const m=s.textWidth(c.slice(0,h+1));if(m<=i.maxWidth){p=m,h++;continue}if(f){const S=this.getWordAt(c,f+1),D=s.textWidth(S);if(D<=i.maxWidth){a.push(c.slice(0,f).trimEnd()),c=c.slice(f).trimStart(),h=0,p=0,f=0;continue}else r&&D>i.maxWidth&&a.push(c.slice(0,f).trimEnd(),this.truncateLine(c.slice(f).trimStart(),s,i.maxWidth,!0))}else r&&a.push(this.truncateLine(c,s,i.maxWidth,!0));if(r){c="";break}const b=o?"-":"";let v=c.slice(0,h).trim();for(;v.length&&s.textWidth(v+b)>i.maxWidth;)v=v.slice(0,-1).trimEnd();if(a.push(v+b),!v.length){c="";break}c=c.slice(v.length).trimStart(),h=-1,p=0,f=0}h++}c&&a.push(c)}return this.avoidOrphans(a,s,i),this.clipLines(a,s,i)}static getWordAt(e,i){const n=e.indexOf(" ",i);return n===-1?e.slice(i):e.slice(i,n)}static clipLines(e,i,n){if(!n.maxHeight)return e;const{height:s,lineMetrics:a}=i.measureLines(e);if(s<=n.maxHeight)return e;for(let o=0,r=0;o<a.length;o++){const{lineHeight:l}=a[o];if(r+=l,r>n.maxHeight){if(n.overflow==="hide")return[];const c=e.slice(0,o||1),h=c.pop();return c.concat(this.truncateLine(h,i,n.maxWidth,!0))}}return e}static avoidOrphans(e,i,n){if(n.avoidOrphans===!1||e.length<2)return;const{length:s}=e,a=e[s-1],o=e[s-2];if(o.length<a.length)return;const r=o.lastIndexOf(" ");if(r===-1||r===o.indexOf(" ")||a.includes(" "))return;const l=o.slice(r+1);i.textWidth(a+l)<=n.maxWidth&&(e[s-2]=o.slice(0,r),e[s-1]=l+" "+a)}},He=class extends Zt{constructor(){super(...arguments),this.id=Vo(this),this.node=new FV({zIndex:1}).setProperties({textAlign:"center",pointerEvents:1}),this.enabled=!1,this.textAlign="center",this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always",this.padding=0,this.layoutStyle="block",this.truncated=!1}registerInteraction(e,i){return e.layoutManager.addListener("layout:complete",()=>this.updateA11yText(e,i))}computeTextWrap(e,i){const{text:n,padding:s,wrapping:a}=this,o=Math.min(this.maxWidth??1/0,e)-s*2,r=this.maxHeight??i-s*2;if(!isFinite(o)&&!isFinite(r)){this.node.text=n;return}const l=cN.wrapText(n??"",{maxWidth:o,maxHeight:r,font:this,textWrap:a});this.node.text=l,this.truncated=l.includes(hi.EllipsisChar)}updateA11yText(e,i){var s;const{proxyInteractionService:n}=e;if(this.enabled&&this.text){const a=Di.toCanvas(this.node);if(a){const{id:o}=this;this.proxyText??(this.proxyText=n.createProxyElement({type:"text",domManagerId:o,where:i})),this.proxyText.textContent=this.text,this.proxyText.setBounds(a),this.proxyText.addListener("mousemove",r=>this.handleMouseMove(e,r)),this.proxyText.addListener("mouseleave",r=>this.handleMouseLeave(e,r))}}else(s=this.proxyText)==null||s.destroy(),this.proxyText=void 0}handleMouseMove(e,i){if(i!=null&&this.enabled&&this.node.visible&&this.truncated){const{x:n,y:s}=Di.toCanvas(this.node),a=i.sourceEvent.offsetX+n,o=i.sourceEvent.offsetY+s,r={type:"pointermove",canvasX:a,canvasY:o};e.tooltipManager.updateTooltip(this.id,{canvasX:a,canvasY:o,lastPointerEvent:r,showArrow:!1},{type:"structured",title:this.text})}}handleMouseLeave(e,i){e.tooltipManager.removeTooltip(this.id)}};He.SMALL_PADDING=10;He.LARGE_PADDING=20;N([w(jt),Hn("node","visible")],He.prototype,"enabled",2);N([w(Dt,{optional:!0}),Hn("node")],He.prototype,"text",2);N([w(AV,{optional:!0}),Hn("node")],He.prototype,"textAlign",2);N([w(Dc,{optional:!0}),Hn("node")],He.prototype,"fontStyle",2);N([w(Ic,{optional:!0}),Hn("node")],He.prototype,"fontWeight",2);N([w(Tt),Hn("node")],He.prototype,"fontSize",2);N([w(Dt),Hn("node")],He.prototype,"fontFamily",2);N([w(Ae,{optional:!0}),Hn("node","fill")],He.prototype,"color",2);N([w(Tt,{optional:!0})],He.prototype,"spacing",2);N([w(Tt,{optional:!0})],He.prototype,"maxWidth",2);N([w(Tt,{optional:!0})],He.prototype,"maxHeight",2);N([w(oA)],He.prototype,"wrapping",2);N([w(Tt)],He.prototype,"padding",2);N([w(Dt)],He.prototype,"layoutStyle",2);var uN=(t=>(t.X="x",t.Y="y",t))(uN||{}),hN=class{constructor(){this.moduleMap=new Map}*modules(){for(const t of this.moduleMap.values())yield t.moduleInstance}addModule(t,e){if(this.moduleMap.has(t.optionsKey))throw new Error(`AG Charts - module already initialised: ${t.optionsKey}`);this.moduleMap.set(t.optionsKey,{module:t,moduleInstance:e(t)})}removeModule(t){var i;const e=xa(t)?t:t.optionsKey;(i=this.moduleMap.get(e))==null||i.moduleInstance.destroy(),this.moduleMap.delete(e)}getModule(t){var e;return(e=this.moduleMap.get(xa(t)?t:t.optionsKey))==null?void 0:e.moduleInstance}isEnabled(t){return this.moduleMap.has(xa(t)?t:t.optionsKey)}mapModules(t){return Array.from(this.moduleMap.values(),(e,i)=>t(e.moduleInstance,i))}destroy(){var t;for(const e of this.moduleMap.keys())(t=this.moduleMap.get(e))==null||t.moduleInstance.destroy();this.moduleMap.clear()}};function VV(t,e){return t.valueOf()-e.valueOf()}function unt(t){let e=NaN;const i=[];for(const n of t){const s=n.valueOf();e!==s&&i.push(n),e=s}return i}function Ck(t){const e=t.slice().sort(VV);return dN(e)==null?unt(e):e}function dN(t){if(t.length===0)return 1;const e=Number(t[t.length-1])>Number(t[0])?1:-1;let i=-1/0*e;for(const n of t){const s=n.valueOf();if(Math.sign(s-i)!==e)return;i=s}return e}function UV(t){let e,i;const n=dnt.exec(t);n&&([,e,t,i]=n);const s=hnt.exec(t);if(!s)throw new Error(`The number formatter is invalid: ${t}`);const[,a,o,r,l,c,h,p,f,y,m]=s;return{fill:a,align:o,sign:r,symbol:l,zero:c,width:parseInt(h),comma:p,precision:parseInt(f),trim:!!y,type:m,prefix:e,suffix:i}}function HV(t){const e=typeof t=="string"?UV(t):t,{fill:i,align:n,sign:s="-",symbol:a,zero:o,width:r,comma:l,type:c,prefix:h="",suffix:p="",precision:f}=e;let{trim:y}=e;const m=f==null||isNaN(f);let b;if(!c)b=Do.g,y=!0;else if(c in Do&&c in Rf)b=m?Rf[c]:Do[c];else if(c in Do)b=Do[c];else if(c in Rf)b=Rf[c];else throw new Error(`The number formatter type is invalid: ${c}`);let v;return f==null||m?v=c?6:12:v=f,S=>{let D=b(S,v);return y&&(D=gnt(D)),l&&(D=ynt(D,l)),D=xnt(S,D,s),a&&a!=="#"&&(D=`${a}${D}`),a==="#"&&c==="x"&&(D=`0x${D}`),c==="s"&&(D=`${D}${mnt(S)}`),(c==="%"||c==="p")&&(D=`${D}%`),r!=null&&!isNaN(r)&&(D=bnt(D,r,i??o,n)),D=`${h}${D}${p}`,D}}var hnt=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(?:\.(\d+))?(~)?([%a-z])?$/i,dnt=/^((?:[^#]|#[^{])*)#{([^}]+)}(.*)$/,Rf={b:t=>mv(t).toString(2),c:t=>String.fromCharCode(t),d:t=>Math.round(Math.abs(t)).toFixed(0),o:t=>mv(t).toString(8),x:t=>mv(t).toString(16),X:t=>Rf.x(t).toUpperCase(),n:t=>Rf.d(t),"%":t=>`${mv(t*100).toFixed(0)}`},Do={e:(t,e)=>Math.abs(t).toExponential(e),E:(t,e)=>Do.e(t,e).toUpperCase(),f:(t,e)=>Math.abs(t).toFixed(e),F:(t,e)=>Do.f(t,e).toUpperCase(),g:(t,e)=>{if(t===0)return"0";const i=Math.abs(t),n=Math.floor(Math.log10(i));return n>=-4&&n<e?i.toFixed(e-1-n):i.toExponential(e-1)},G:(t,e)=>Do.g(t,e).toUpperCase(),n:(t,e)=>Do.g(t,e),p:(t,e)=>Do.r(t*100,e),r:(t,e)=>{if(t===0)return"0";const i=Math.abs(t),s=Math.floor(Math.log10(i))-(e-1);if(s<=0)return i.toFixed(-s);const a=10**s;return(Math.round(i/a)*a).toFixed()},s:(t,e)=>{const i=$V(t);return Do.r(t/10**i,e)},"%":(t,e)=>Do.f(t*100,e)},WV=-24,YV=24,pnt={[WV]:"y",[-21]:"z",[-18]:"a",[-15]:"f",[-12]:"p",[-9]:"n",[-6]:"",[-3]:"m",0:"",3:"k",6:"M",9:"G",12:"T",15:"P",18:"E",21:"Z",[YV]:"Y"},fnt="";function mv(t){return Math.floor(Math.abs(t))}function gnt(t){return t.replace(/\.0+$/,"").replace(/(\.[1-9])0+$/,"$1")}function ynt(t,e){let i=t.indexOf(".");i<0&&(i=t.length);const n=t.substring(0,i).split(""),s=t.substring(i);for(let a=n.length-3;a>0;a-=3)n.splice(a,0,e);return`${n.join("")}${s}`}function mnt(t){return pnt[$V(t)]}function $V(t){return qt(WV,t?Math.floor(Math.log10(Math.abs(t))/3)*3:0,YV)}function xnt(t,e,i=""){if(i==="(")return t>=0?e:`(${e})`;const n=i==="+"?"+":"";return`${t>=0?n:fnt}${e}`}function bnt(t,e,i=" ",n=">"){let s=t;if(n===">"||!n)s=s.padStart(e,i);else if(n==="<")s=s.padEnd(e,i);else if(n==="^"){const a=Math.max(0,e-s.length),o=Math.ceil(a/2),r=Math.floor(a/2);s=s.padStart(o+s.length,i),s=s.padEnd(r+s.length,i)}return s}var mi=(t,e,i)=>({duration:e*i,timeInterval:t,step:i}),km=[mi(Ef,Pu,1),mi(Ef,Pu,5),mi(Ef,Pu,15),mi(Ef,Pu,30),mi(Of,rs,1),mi(Of,rs,5),mi(Of,rs,15),mi(Of,rs,30),mi(wf,Qs,1),mi(wf,Qs,3),mi(wf,Qs,6),mi(wf,Qs,12),mi(qS,Po,1),mi(qS,Po,2),mi(Fm,hc,1),mi(Fm,hc,2),mi(Fm,hc,3),mi(bd,am,1),mi(bd,am,2),mi(bd,am,3),mi(bd,am,4),mi(bd,am,6),mi(iA,Qf,1)],KV=[1,2,5,10];function k4(t,e){return Math.abs(Math.round(t)-t)<e}function pN(t,e,i,n,s,a){if(i<2)return[t,e];const o=lx(t,e,i,n,s);if(!Number.isFinite(o))return[];if(k4(t/o,1e-12)||(t=Math.ceil(t/o)*o),k4(e/o,1e-12)||(e=Math.floor(e/o)*o),a!=null&&a[0]!==0&&a[1]!==1){const r=e-t,l=t+r*a[0],c=e-r*(1-a[1]);return cx(l-l%o,c+c%o,o)}return cx(t,e,o)}function XV(t,e,i,n,s,a){const o=a??Math.abs(e-t)/Math.max(i,1);let r=0;for(const f of km){if(o<=f.duration)break;r++}if(r===0){const f=Math.max(lx(t,e,i,n,s),1);return lV.every(f)}else if(r===km.length){const f=lx(t/Qf,e/Qf,i,n,s);return iA.every(f)}const l=km[r-1],c=km[r],{timeInterval:h,step:p}=o-l.duration<c.duration-o?l:c;return h.every(p)}function lx(t,e,i,n=0,s=1/0){if(t===e)return qt(1,n,s);if(i<1)return NaN;const a=Math.abs(e-t),o=10**Math.floor(Math.log10(a/i));let r=NaN,l=1/0,c=!1;for(const h of KV){const p=Math.ceil(a/(h*o)),f=p>=n&&p<=s;if(c&&!f)continue;const y=Math.abs(p-i);(l>y||c!==f)&&(c||(c=f),l=y,r=h)}return r*o}function L4(t){for(let e=t.length-1;e>=0;e-=1)if(t[e]!=="0")return e+1;return 0}function N4(t,e){const i=UV(e??",f");(i.precision==null||isNaN(i.precision))&&(!i.type||"eEFgGnprs".includes(i.type)?i.precision=Math.max(...t.map(s=>{if(!Number.isFinite(s))return 0;const[a,o]=s.toExponential((i.type?6:12)-1).split(/[.e]/g);return(a!=="1"&&a!=="-1"?1:0)+L4(o)+1})):"f%".includes(i.type)&&(i.precision=Math.max(...t.map(s=>{if(!Number.isFinite(s)||s===0)return 0;const a=Math.floor(Math.log10(Math.abs(s))),o=i.type?6:12,r=s.toExponential(o-1).split(/[.e]/g)[1],l=L4(r);return Math.max(0,l-a)}))));const n=HV(i);return s=>n(Number(s))}function cx(t,e,i){if(!Number.isFinite(i)||i<=0)return[];const n=10**ZM(i),s=Math.min(t,e),a=Math.max(t,e),o=[];for(let r=0;;r+=1){const l=Math.round((s+i*r)*n)/n;if(l>a)break;o.push(l)}return o}function ux(t,e){return t>=e?(It.warnOnce("the configured interval results in more than 1 item per pixel, ignoring. Supply a larger interval or omit this configuration"),!0):!1}function vnt(t,e){const i=Math.abs(e-t),n=10**Math.floor(Math.log10(i));let s=1/0,a=[t,e];for(const o of KV){const r=o*n,l=Math.floor(t/r)*r,c=Math.ceil(e/r)*r,h=1-i/Math.abs(c-l);s>h&&(s=h,a=[l,c])}return a}function ZV(t,e,i,n,s,a){a=Math.max(a,t/(s+1)),isNaN(i)&&(i=a),isNaN(n)&&(n=t),i>n&&(i===a?i=n:n=i);const o=Math.max(1,Math.floor(t/(e*i))),r=Math.min(o,Math.ceil(t/(e*n))),l=qt(r,Math.floor(s/e),o);return{minTickCount:r,maxTickCount:o,tickCount:l}}var qV=class extends ke{constructor(){super([],[0,1]),this.type="time"}toDomain(t){return new Date(t)}convert(t,e){return t instanceof Date||(t=new Date(t)),super.convert(t,e)}invert(t){return new Date(super.invert(t))}niceDomain(t,e=this.domain){if(e.length<2)return[];const i=4;let[n,s]=e;for(let a=0;a<i;a++){const[o,r]=Snt(n,s,t);if(Is(n)===Is(o)&&Is(s)===Is(r))break;n=o,s=r}return[n,s]}ticks(t,e=this.domain,i=[0,1]){const{nice:n,interval:s,tickCount:a=ke.defaultTickCount,minTickCount:o,maxTickCount:r}=t;if(e.length<2)return[];const l=e.map(Is),c=l[0],h=l[l.length-1];if(s!=null){const p=this.getPixelRange();return fN({start:c,stop:h,interval:s,availableRange:p,visibleRange:i})??E4({start:c,stop:h,tickCount:a,minTickCount:o,maxTickCount:r,visibleRange:i})}else{if(n&&a===2)return e;if(n&&a===1)return e.slice(0,1)}return E4({start:c,stop:h,tickCount:a,minTickCount:o,maxTickCount:r,visibleRange:i})}_tickFormatter({domain:t,ticks:e,specifier:i},n){return i!=null?Yx(i):XL(e,t,n)}tickFormatter(t){return this._tickFormatter(t)}datumFormatter(t){return this._tickFormatter(t,1)}};function E4({start:t,stop:e,tickCount:i,minTickCount:n,maxTickCount:s,visibleRange:a}){const o=XV(t,e,i,n,s);return o?o.range(new Date(t),new Date(e),{visibleRange:a}):[]}function fN({start:t,stop:e,interval:i,availableRange:n,visibleRange:s}){if(!i)return[];if(i instanceof qf){const h=i.range(new Date(t),new Date(e),{visibleRange:s});return ux(h.length,n)?void 0:h}const a=Math.abs(i);if(ux(Math.abs(e-t)/a,n))return;const o=km.findLast(h=>a%h.duration===0);if(o)return o.timeInterval.every(a/(o.duration/o.step)).range(new Date(t),new Date(e),{visibleRange:s});let r=new Date(Math.min(t,e));const l=new Date(Math.max(t,e)),c=[];for(;r<=l;)c.push(r),r=new Date(r),r.setMilliseconds(r.getMilliseconds()+a);return c}function Snt(t,e,i){const{interval:n}=i,s=Math.min(Is(t),Is(e)),a=Math.max(Is(t),Is(e)),o=t>e;let r;if(n instanceof qf)r=n;else{const l=typeof n=="number"?(a-s)/Math.max(n,1):i.tickCount??ke.defaultTickCount;r=XV(s,a,l,i.minTickCount,i.maxTickCount)}if(r){const l=r.range(new Date(s),new Date(a),{extend:!0}),c=o?[...l].reverse():l,h=c[0],p=c.at(-1);return[h,p]}else return[t,e]}var al=class QV extends $x{constructor(){super(...arguments),this.type="ordinal-time",this._domain=[],this.isReversed=!1}static is(e){return e instanceof QV}set domain(e){e!==this._domain&&(this.invalid=!0,this._domain=e,this.isReversed=e.length>0&&e[0]>e[e.length-1],this.sortedTimestamps=void 0,this.precomputedSteps=void 0)}get domain(){return this._domain}toDomain(e){return new Date(e)}normalizeDomains(...e){const i=e.filter(s=>s.length>0).map(s=>{let a=dN(s);return a==null&&(s=Ck(s.slice()),a=1),{domain:s,sortOrder:a}});if(i.length===0)return{domain:[],animatable:!1};if(i.length===1)return{domain:i[0].domain,animatable:!0};let n=i.flatMap(s=>s.domain);return n=Ck(n),i.every(s=>s.sortOrder===-1)&&n.reverse(),{domain:n,animatable:!0}}ticks({interval:e,maxTickCount:i},n=this.domain,s=[0,1]){if(!n.length)return[];this.refresh();const{isReversed:a}=this;if(e==null)return Mnt(n,i,a,s);const[o,r]=[n[0].valueOf(),n.at(-1).valueOf()],l=Math.min(o,r),c=Math.max(o,r),[h,p]=this.range,f=Math.abs(p-h),y=fN({start:l,stop:c,interval:e,availableRange:f,visibleRange:s})??[];let m=-1;return y.filter(b=>{const v=this.findInterval(b.valueOf()),S=v===m;return m=v,!S})}getSortedTimestamps(){let{sortedTimestamps:e}=this;return e==null&&(e=this.domain.map(Is),this.isReversed&&e.reverse(),this.sortedTimestamps=e),e}getPrecomputedSteps(){const{domain:e}=this;let{precomputedSteps:i}=this;const n=e.length<1e4?e.length:Math.ceil(e.length/16);if(i!=null||n<=1)return i;const s=this.getSortedTimestamps();i=new Int32Array(n);const a=s[0],r=s[s.length-1]-a,l=0,c=s.length-1;for(let h=0;h<i.length;h+=1)i[h]=this.findIntervalInRange(a+h/n*r,l,c);this.precomputedSteps=i}findIntervalInRange(e,i,n){const s=this.getSortedTimestamps();for(;i<=n;){const a=(i+n)/2|0;if(s[a]===e)return a;s[a]<e?i=a+1:n=a-1}return i}findInterval(e){const i=this.getPrecomputedSteps();let n,s;if(i==null)n=0,s=this.domain.length-1;else{const a=this.getSortedTimestamps(),o=a[0],r=a[a.length-1],l=Math.min((e-o)/(r-o)*i.length|0,i.length-1|0);n=i[l],s=l<i.length-2?i[l+1]:a.length-1}return this.findIntervalInRange(e,n,s)}tickFormatter({domain:e,ticks:i,specifier:n}){return n!=null?Yx(n):XL(i,e)}datumFormatter(e){return this.tickFormatter(e)}invert(e,i=!1){this.refresh();const{domain:n}=this;if(i){const a=this.invertNearestIndex(e-this.bandwidth/2);return a!=null?n[a]:void 0}return ret(0,n.length-1,a=>this.ordinalRange(a)>=e?n[a]:void 0)??n[0]}getIndex(e){const i=this.getSortedTimestamps(),n=Number(e);if(n<i[0])return;let s=this.findInterval(n);return this.isReversed&&(s=this.domain.length-s-1),s}};function Mnt(t,e,i,n){const s=[],a=Math.ceil(t.length/e),o=Math.floor(a/2),r=Math.floor(n[0]*t.length),l=Math.ceil(n[1]*t.length);for(let c=r;c<l;c+=1){const h=i?t.length-1-c:c;(a<=0||(h+o)%a===0)&&s.push(t[c])}return i&&s.reverse(),s}var Yi=class gd{constructor(e,i,n=!0){this.parentNode=e,this.autoCleanup=n,this.garbageBin=new Set,this._nodesMap=new Map,this._nodes=[],this.data=[],this.debug=We.create(!0,"scene","scene:selections"),this.nodeFactory=Object.prototype.isPrototypeOf.call(Qu,i)?()=>new i:i}static select(e,i,n=!0){return new gd(e,i,n)}static selectAll(e,i){const n=[],s=a=>{i(a)&&n.push(a);for(const o of a.children())s(o)};return s(e),n}static selectByClass(e,...i){return gd.selectAll(e,n=>i.some(s=>n instanceof s))}static selectByTag(e,i){return gd.selectAll(e,n=>n.tag===i)}createNode(e,i,n){const s=this.nodeFactory(e);return s.datum=e,i==null||i(s),n==null?this._nodes.push(s):this._nodes.splice(n,0,s),this.parentNode.appendChild(s),s}update(e,i,n){if(this.garbageBin.size>0&&this.debug("Selection - update() called with pending garbage",e),n){const s=new Map(e.map((a,o)=>[n(a),[a,o]]));for(const[a,o]of this._nodesMap.entries())if(s.has(o)){const[r]=s.get(o);a.datum=r,this.garbageBin.delete(a),s.delete(o)}else this.garbageBin.add(a);for(const[a,[o,r]]of s.entries())this._nodesMap.set(this.createNode(o,i,r),a)}else{const s=Math.max(e.length,this.data.length);for(let a=0;a<s;a++)a>=e.length?this.garbageBin.add(this._nodes[a]):a>=this._nodes.length?this.createNode(e[a],i):(this._nodes[a].datum=e[a],this.garbageBin.delete(this._nodes[a]))}return this.data=e.slice(),this.autoCleanup&&this.cleanup(),this}cleanup(){return this.garbageBin.size===0?this:(this._nodes=this._nodes.filter(e=>this.garbageBin.has(e)?(this._nodesMap.delete(e),this.garbageBin.delete(e),e.destroy(),!1):!0),this)}clear(){return this.update([]),this}isGarbage(e){return this.garbageBin.has(e)}each(e){for(const i of this._nodes.entries())e(i[1],i[1].datum,i[0]);return this}*[Symbol.iterator](){for(let e=0;e<this._nodes.length;e++){const i=this._nodes[e];yield{node:i,datum:i.datum,index:e}}}select(e){return gd.selectAll(this.parentNode,e)}selectByClass(e){return gd.selectByClass(this.parentNode,e)}selectByTag(e){return gd.selectByTag(this.parentNode,e)}nodes(){return this._nodes}at(e){return this._nodes.at(e)}get length(){return this._nodes.length}};function Gm(t,e,i,n){const s=t-i,a=e-n;return s*s+a*a}function Vm(t,e,i,n,s,a,o){if(i===s&&n===a)return Math.min(o,Gm(t,e,i,n));const r=s-i,l=a-n,c=Math.max(0,Math.min(1,((t-i)*r+(e-n)*l)/(r*r+l*l))),h=i+c*r,p=n+c*l;return Math.min(o,Gm(t,e,h,p))}function Ant(t,e,i,n,s,a,o,r,l){r&&([o,a]=[a,o]);const c=Math.atan2(e-n,t-i);if(!Bu(c,a,o)){const p=i+Math.cos(a)*s,f=n+Math.sin(a)*s,y=i+Math.cos(a)*s,m=n+Math.sin(a)*s;return Math.min(l,Gm(t,e,p,f),Gm(t,e,y,m))}const h=s-Math.sqrt(Gm(t,e,i,n));return Math.min(l,h*h)}var Ya=class extends _o{constructor(e={}){super(e),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.restoreOwnStyles()}set x(e){this.x1=e,this.x2=e}set y(e){this.y1=e,this.y2=e}get midPoint(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}}computeBBox(){return new Et(Math.min(this.x1,this.x2),Math.min(this.y1,this.y2),Math.abs(this.x2-this.x1),Math.abs(this.y2-this.y1))}isPointInPath(e,i){return this.x1===this.x2||this.y1===this.y2?this.getBBox().clone().grow(this.strokeWidth/2).containsPoint(e,i):!1}distanceSquared(e,i){const{x1:n,y1:s,x2:a,y2:o}=this;return Vm(e,i,n,s,a,o,1/0)}render(e){var l;const{ctx:i,devicePixelRatio:n}=e;let{x1:s,y1:a,x2:o,y2:r}=this;if(s===o){const{strokeWidth:c}=this,h=Math.round(s*n)/n+Math.trunc(c*n)%2/(n*2);s=h,o=h}else if(a===r){const{strokeWidth:c}=this,h=Math.round(a*n)/n+Math.trunc(c*n)%2/(n*2);a=h,r=h}i.beginPath(),i.moveTo(s,a),i.lineTo(o,r),this.fillStroke(i),(l=this.fillShadow)==null||l.markClean(),super.render(e)}toSVG(){if(!this.visible)return;const e=Ro("line");return e.setAttribute("x1",String(this.x1)),e.setAttribute("y1",String(this.y1)),e.setAttribute("x2",String(this.x2)),e.setAttribute("y2",String(this.y2)),this.applySvgStrokeAttributes(e),{elements:[e]}}};Ya.className="Line";Ya.defaultStyles={..._o.defaultStyles,fill:void 0,strokeWidth:1};N([Lt()],Ya.prototype,"x1",2);N([Lt()],Ya.prototype,"y1",2);N([Lt()],Ya.prototype,"x2",2);N([Lt()],Ya.prototype,"y2",2);var Dnt=new Intl.NumberFormat("en-US",{maximumFractionDigits:2,useGrouping:!1}),Int=new Intl.NumberFormat("en-US",{style:"percent"});function bc(t,e=2){return typeof t=="number"?tU(t,e):String(t??"")}function JV(t){return Int.format(t)}function tU(t,e){return e===2?Dnt.format(t):new Intl.NumberFormat("en-US",{maximumFractionDigits:e,useGrouping:!1}).format(t)}var vr=class extends _o{constructor(t={}){super(t),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.startLine=!1,this.endLine=!1,this.isRange=!1,this.restoreOwnStyles()}computeBBox(){return new Et(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)}isPointInPath(t,e){return!1}render(t){var b;const{ctx:e}=t;let{x1:i,y1:n,x2:s,y2:a}=this;i=this.align(i),n=this.align(n),s=this.align(s),a=this.align(a);const{fill:o,opacity:r,isRange:l}=this;if(!!(l&&o)){const{fillOpacity:v}=this;this.applyFill(e),e.globalAlpha=r*v,e.beginPath(),e.moveTo(i,n),e.lineTo(s,n),e.lineTo(s,a),e.lineTo(i,a),e.closePath(),e.fill()}const{stroke:h,strokeWidth:p,startLine:f,endLine:y}=this;if(!!((f||y)&&h&&p)){const{strokeOpacity:v,lineDash:S,lineDashOffset:D,lineCap:I,lineJoin:T}=this;this.applyStroke(e),e.globalAlpha=r*v,e.lineWidth=p,S&&e.setLineDash(S),D&&(e.lineDashOffset=D),I&&(e.lineCap=I),T&&(e.lineJoin=T),e.beginPath(),f&&(e.moveTo(i,n),e.lineTo(s,n)),y&&(e.moveTo(s,a),e.lineTo(i,a)),e.stroke()}(b=this.fillShadow)==null||b.markClean(),super.render(t)}};vr.className="Range";vr.defaultStyles={..._o.defaultStyles,strokeWidth:1};N([Lt()],vr.prototype,"x1",2);N([Lt()],vr.prototype,"y1",2);N([Lt()],vr.prototype,"x2",2);N([Lt()],vr.prototype,"y2",2);N([Lt()],vr.prototype,"startLine",2);N([Lt()],vr.prototype,"endLine",2);N([Lt()],vr.prototype,"isRange",2);var Nn=class extends Zt{constructor(){super(...arguments),this.enabled=!0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}getFont(){return hi.toFontString(this)}};N([w(jt)],Nn.prototype,"enabled",2);N([w(Ae,{optional:!0})],Nn.prototype,"color",2);N([w(Dc,{optional:!0})],Nn.prototype,"fontStyle",2);N([w(Ic,{optional:!0})],Nn.prototype,"fontWeight",2);N([w(Tt)],Nn.prototype,"fontSize",2);N([w(Dt)],Nn.prototype,"fontFamily",2);N([w(ta,{optional:!0})],Nn.prototype,"formatter",2);function JS(t){const{parallelFlipRotation:e=0,regularFlipRotation:i=0}=t,n=t.rotation?qe(yn(t.rotation)):0,s=!n&&e>=0&&e<=Math.PI?-1:1,a=!n&&i>=0&&i<=Math.PI?-1:1;let o=0;return t.parallel?o=s*Math.PI/2:a===-1&&(o=Math.PI),{configuredRotation:n,defaultRotation:o,parallelFlipFlag:s,regularFlipFlag:a}}function Tnt(t,e){return isNaN(t)?e?0:10:t}function Cnt(t,e,i,n){return t&&!e?i*n===-1?"hanging":"bottom":"middle"}function O4(t,e,i,n,s){const a=e>0&&e<=Math.PI,o=i>0&&i<=Math.PI,r=a||o?-1:1;if(t)if(e||i){if(n*r===-1)return"end"}else return"center";else if(n*s===-1)return"end";return"start"}function knt(t,e,i,n){const s=[];for(const{tickLabel:a,translationY:o}of t){if(!a)continue;const{width:r,height:l}=n.measureLines(a),c=new Et(e,o,r,l),h=new Et(e,o,0,0);i.transformBBox(h,c);const{x:p,y:f}=c;s.push({point:{x:p,y:f},label:{text:a,width:r,height:l}})}return s}function Lnt(t){return t!=null&&Object.hasOwn(t,"toString")&&xa(t.toString())}function Nnt(t){return t!=null&&Object.hasOwn(t,"valueOf")&&ye(t.valueOf())}function uA(t){return ye(t)||Hx(t)||Nnt(t)}function w4(t,e){return t!=null&&(!e||uA(t))}function kk(t){return Lnt(t)&&Object.hasOwn(t,"id")?t.id:t}var gN=t=>t==="value"?Pe((e,i)=>i.target.type==="line",e=>e.target.type==="range"?"crossLine type 'range' to have a 'range' property instead of 'value'":"crossLine property 'type' to be 'line'"):Pe((e,i)=>i.target.type==="range",e=>e.target.type==="line"?"crossLine type 'line' to have a 'value' property instead of 'range'":"crossLine property 'type' to be 'range'"),eU=(t,e,i,n,s)=>{const a=t==="line"&&e!==void 0,o=t==="range"&&i!==void 0;if(!a&&!o)return!0;const[r,l]=i??[e,void 0],c=ke.is(n)||al.is(n),h=w4(r,c)&&!isNaN(n.convert(r)),p=w4(l,c)&&!isNaN(n.convert(l));if(a&&h||o&&h&&p)return(s==null?void 0:s())??!0;const f=["Expecting crossLine"];return o?(h||f.push(`range start ${_m(r)}`),p||f.push(`${h?"":"and "}range end ${_m(l)}`)):f.push(`value ${_m(r)}`),f.push("to match the axis scale domain."),It.warnOnce(f.join(" ")),!1},Ent={top:{xTranslationDirection:0,yTranslationDirection:-1},bottom:{xTranslationDirection:0,yTranslationDirection:1},left:{xTranslationDirection:-1,yTranslationDirection:0},right:{xTranslationDirection:1,yTranslationDirection:0},"top-left":{xTranslationDirection:1,yTranslationDirection:-1},"top-right":{xTranslationDirection:-1,yTranslationDirection:-1},"bottom-left":{xTranslationDirection:1,yTranslationDirection:1},"bottom-right":{xTranslationDirection:-1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},"inside-left":{xTranslationDirection:1,yTranslationDirection:0},"inside-right":{xTranslationDirection:-1,yTranslationDirection:0},"inside-top":{xTranslationDirection:0,yTranslationDirection:1},"inside-bottom":{xTranslationDirection:0,yTranslationDirection:-1},"inside-top-left":{xTranslationDirection:1,yTranslationDirection:1},"inside-bottom-left":{xTranslationDirection:1,yTranslationDirection:-1},"inside-top-right":{xTranslationDirection:-1,yTranslationDirection:1},"inside-bottom-right":{xTranslationDirection:-1,yTranslationDirection:-1}},Ont={top:{xTranslationDirection:1,yTranslationDirection:0},bottom:{xTranslationDirection:-1,yTranslationDirection:0},left:{xTranslationDirection:0,yTranslationDirection:-1},right:{xTranslationDirection:0,yTranslationDirection:1},"top-left":{xTranslationDirection:-1,yTranslationDirection:-1},"top-right":{xTranslationDirection:-1,yTranslationDirection:1},"bottom-left":{xTranslationDirection:1,yTranslationDirection:-1},"bottom-right":{xTranslationDirection:1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},"inside-left":{xTranslationDirection:0,yTranslationDirection:1},"inside-right":{xTranslationDirection:0,yTranslationDirection:-1},"inside-top":{xTranslationDirection:-1,yTranslationDirection:0},"inside-bottom":{xTranslationDirection:1,yTranslationDirection:0},"inside-top-left":{xTranslationDirection:-1,yTranslationDirection:1},"inside-bottom-left":{xTranslationDirection:1,yTranslationDirection:1},"inside-top-right":{xTranslationDirection:-1,yTranslationDirection:-1},"inside-bottom-right":{xTranslationDirection:1,yTranslationDirection:-1}};function Lk({yDirection:t,padding:e=0,position:i="top",bbox:n}){const s=t?Ent:Ont,{xTranslationDirection:a,yTranslationDirection:o}=s[i],r=a*(e+n.width/2),l=o*(e+n.height/2);return{xTranslation:r,yTranslation:l}}function iU({yDirection:t,bbox:e,padding:i=0,position:n="top"}){const s={};return n.startsWith("inside")||(n==="top"&&!t?s.top=i+e.height:n==="bottom"&&!t?s.bottom=i+e.height:n==="left"&&t?s.left=i+e.width:n==="right"&&t&&(s.right=i+e.width)),s}var tM=({direction:t,xEnd:e,yStart:i,yEnd:n})=>t==="y"?{x:e/2,y:i}:{x:e,y:isNaN(n)?i:(i+n)/2},R4=({direction:t,xStart:e,xEnd:i,yStart:n,yEnd:s})=>t==="y"?{x:e,y:isNaN(s)?n:(n+s)/2}:{x:i/2,y:n},P4=({direction:t,xEnd:e,yStart:i,yEnd:n})=>t==="y"?{x:e,y:isNaN(n)?i:(i+n)/2}:{x:e/2,y:isNaN(n)?i:n},B4=({direction:t,xStart:e,xEnd:i,yStart:n,yEnd:s})=>t==="y"?{x:i/2,y:isNaN(s)?n:s}:{x:e,y:isNaN(s)?n:(n+s)/2},wnt=({xEnd:t,yStart:e,yEnd:i})=>({x:t/2,y:isNaN(i)?e:(e+i)/2}),z4=({direction:t,xStart:e,xEnd:i,yStart:n})=>t==="y"?{x:e/2,y:n}:{x:i,y:n},_4=({direction:t,xStart:e,yStart:i,yEnd:n})=>t==="y"?{x:e,y:isNaN(n)?i:n}:{x:e,y:i},j4=({direction:t,xEnd:e,yStart:i,yEnd:n})=>t==="y"?{x:e,y:i}:{x:e,y:isNaN(n)?i:n},F4=({direction:t,xStart:e,xEnd:i,yStart:n,yEnd:s})=>t==="y"?{x:i,y:isNaN(s)?n:s}:{x:e,y:isNaN(s)?n:s},nU={top:{c:tM},bottom:{c:B4},left:{c:R4},right:{c:P4},"top-left":{c:z4},"top-right":{c:j4},"bottom-left":{c:_4},"bottom-right":{c:F4},inside:{c:wnt},"inside-left":{c:R4},"inside-right":{c:P4},"inside-top":{c:tM},"inside-bottom":{c:B4},"inside-top-left":{c:z4},"inside-bottom-left":{c:_4},"inside-top-right":{c:j4},"inside-bottom-right":{c:F4}},Rnt=Ye(["top","left","right","bottom","top-left","top-right","bottom-left","bottom-right","inside","inside-left","inside-right","inside-top","inside-bottom","inside-top-left","inside-bottom-left","inside-top-right","inside-bottom-right"],"crossLine label position"),Uo=class extends Zt{constructor(){super(...arguments),this.fontSize=14,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)"}};N([w(jt,{optional:!0})],Uo.prototype,"enabled",2);N([w(Dt,{optional:!0})],Uo.prototype,"text",2);N([w(Dc,{optional:!0})],Uo.prototype,"fontStyle",2);N([w(Ic,{optional:!0})],Uo.prototype,"fontWeight",2);N([w(Tt)],Uo.prototype,"fontSize",2);N([w(Dt)],Uo.prototype,"fontFamily",2);N([w(de)],Uo.prototype,"padding",2);N([w(Ae,{optional:!0})],Uo.prototype,"color",2);N([w(Rnt,{optional:!0})],Uo.prototype,"position",2);N([w(de,{optional:!0})],Uo.prototype,"rotation",2);N([w(jt,{optional:!0})],Uo.prototype,"parallel",2);var Ma=class extends Zt{constructor(){super(),this.id=Vo(this),this.label=new Uo,this.scale=void 0,this.clippedRange=[-1/0,1/0],this.gridLength=0,this.sideFlag=-1,this.parallelFlipRotation=0,this.regularFlipRotation=0,this.direction="x",this.rangeGroup=new Wt({name:this.id}),this.lineGroup=new Wt({name:this.id}),this.labelGroup=new Wt({name:this.id}),this.crossLineRange=new vr,this.crossLineLabel=new Jf,this.labelPoint=void 0,this.data=[],this.startLine=!1,this.endLine=!1,this.isRange=!1,this._isRange=void 0,this.lineGroup.append(this.crossLineRange),this.labelGroup.append(this.crossLineLabel),this.crossLineRange.pointerEvents=1}update(t){const{enabled:e,data:i,type:n,value:s,range:a,scale:o}=this;if(!n||!o||!e||!t||!eU(n,s,a,o)||i.length===0){this.rangeGroup.visible=!1,this.lineGroup.visible=!1,this.labelGroup.visible=!1;return}this.rangeGroup.visible=t,this.lineGroup.visible=t,this.labelGroup.visible=t,this.updateNodes();const{isRange:r}=this;r!==this._isRange&&(r?this.rangeGroup.appendChild(this.crossLineRange):this.lineGroup.appendChild(this.crossLineRange)),this._isRange=r}calculateLayout(t,e){if(!t)return;const{scale:i,gridLength:n,sideFlag:s,direction:a,label:{position:o="top"},clippedRange:r,strokeWidth:l=0}=this;if(this.data=[],!i)return;const c=i.bandwidth??0,h=i.step??0,p=(e?-1:1)*(i instanceof $x?(h-c)/2:0),[f,y]=[0,s*n];let[m,b]=this.getRange();const v=b===void 0&&al.is(i)?c/2+p:0;let[S,D]=[Number(i.convert(m,!0))-p+v,i.convert(b,!0)+c+p];S=vk(S,r),D=vk(D,r),[m,b]=[Number(i.convert(m))+v,i.convert(b)+c];const I=(m===S||b===D||S!==D)&&Math.abs(D-S)>0;if(I&&S>D&&([S,D]=[D,S],[m,b]=[b,m]),m-p>=S&&(m-=p),b+p<=D&&(b+=p),this.isRange=I,this.startLine=l>0&&m>=S&&m<=S+p,this.endLine=l>0&&b>=D-c-p&&b<=D,!I&&!this.startLine&&!this.endLine||(this.data=[S,D],!this.label.enabled))return;const{c:T=tM}=nU[o]??{},{x:k,y:E}=T({direction:a,xStart:f,xEnd:y,yStart:S,yEnd:D});this.labelPoint={x:k,y:E}}updateNodes(){this.updateRangeNode(),this.label.enabled&&(this.updateLabel(),this.positionLabel())}updateRangeNode(){const{crossLineRange:t,sideFlag:e,gridLength:i,data:n,startLine:s,endLine:a,isRange:o,fill:r,fillOpacity:l,stroke:c,strokeWidth:h,lineDash:p}=this;t.x1=0,t.x2=e*i,t.y1=n[0],t.y2=n[1],t.startLine=s,t.endLine=a,t.isRange=o,t.fill=r,t.fillOpacity=l??1,t.stroke=c,t.strokeWidth=h??1,t.strokeOpacity=this.strokeOpacity??1,t.lineDash=p}updateLabel(){const{crossLineLabel:t,label:e}=this;e.text&&(t.fontStyle=e.fontStyle,t.fontWeight=e.fontWeight,t.fontSize=e.fontSize,t.fontFamily=e.fontFamily,t.fill=e.color,t.text=e.text)}positionLabel(){const{crossLineLabel:t,labelPoint:{x:e=void 0,y:i=void 0}={},label:{parallel:n,rotation:s,position:a="top",padding:o=0},direction:r,parallelFlipRotation:l,regularFlipRotation:c}=this;if(e===void 0||i===void 0)return;const{defaultRotation:h,configuredRotation:p}=JS({rotation:s,parallel:n,regularFlipRotation:c,parallelFlipRotation:l});t.rotation=h+p,t.textBaseline="middle",t.textAlign="center";const f=t.getBBox();if(!f)return;const y=r==="y",{xTranslation:m,yTranslation:b}=Lk({yDirection:y,padding:o,position:a,bbox:f});t.translationX=e+m,t.translationY=i+b}getRange(){const{value:t,range:e,scale:i}=this,n=ke.is(i)||al.is(i),s=(e==null?void 0:e[0])??t;let a=e==null?void 0:e[1];return!n&&a===void 0&&(a=s),n&&s===a&&(a=void 0),[s,a]}computeLabelBBox(){const{label:t}=this;if(!t.enabled)return;const e=new Jf;e.fontFamily=t.fontFamily,e.fontSize=t.fontSize,e.fontStyle=t.fontStyle,e.fontWeight=t.fontWeight,e.text=t.text;const{labelPoint:{x:i=void 0,y:n=void 0}={},label:{parallel:s,rotation:a,position:o="top",padding:r=0},direction:l,parallelFlipRotation:c,regularFlipRotation:h}=this;if(i===void 0||n===void 0)return;const{configuredRotation:p}=JS({rotation:a,parallel:s,regularFlipRotation:h,parallelFlipRotation:c});e.rotation=p,e.textBaseline="middle",e.textAlign="center";const f=e.getBBox();if(!f)return;const y=l==="y",{xTranslation:m,yTranslation:b}=Lk({yDirection:y,padding:r,position:o,bbox:f});return e.x=i+m,e.y=n+b,e.getBBox()}calculatePadding(t){const{isRange:e,startLine:i,endLine:n,direction:s,label:{padding:a=0,position:o="top"}}=this;if(!e&&!i&&!n)return;const r=this.computeLabelBBox();if((r==null?void 0:r.x)==null||(r==null?void 0:r.y)==null)return;const l=iU({yDirection:s==="y",padding:a,position:o,bbox:r});t.left=Math.max(t.left??0,l.left??0),t.right=Math.max(t.right??0,l.right??0),t.top=Math.max(t.top??0,l.top??0),t.bottom=Math.max(t.bottom??0,l.bottom??0)}};Ma.className="CrossLine";N([w(jt,{optional:!0})],Ma.prototype,"enabled",2);N([w(Ye(["range","line"],"a crossLine type"),{optional:!0})],Ma.prototype,"type",2);N([w(dl(gN("range"),Zx.restrict({length:2})),{optional:!0})],Ma.prototype,"range",2);N([w(gN("value"),{optional:!0})],Ma.prototype,"value",2);N([w(Ae,{optional:!0})],Ma.prototype,"fill",2);N([w(Le,{optional:!0})],Ma.prototype,"fillOpacity",2);N([w(Ae,{optional:!0})],Ma.prototype,"stroke",2);N([w(de,{optional:!0})],Ma.prototype,"strokeWidth",2);N([w(Le,{optional:!0})],Ma.prototype,"strokeOpacity",2);N([w(pl,{optional:!0})],Ma.prototype,"lineDash",2);N([w(kt)],Ma.prototype,"label",2);var sU=(t=>(t[t.CHART_BACKGROUND=0]="CHART_BACKGROUND",t[t.AXIS_GRID=1]="AXIS_GRID",t[t.AXIS=2]="AXIS",t[t.ZOOM_SELECTION=3]="ZOOM_SELECTION",t[t.SERIES_CROSSLINE_RANGE=4]="SERIES_CROSSLINE_RANGE",t[t.SERIES_LAYER=5]="SERIES_LAYER",t[t.AXIS_FOREGROUND=6]="AXIS_FOREGROUND",t[t.SERIES_CROSSHAIR=7]="SERIES_CROSSHAIR",t[t.SERIES_CROSSLINE_LINE=8]="SERIES_CROSSLINE_LINE",t[t.SERIES_ANNOTATION=9]="SERIES_ANNOTATION",t[t.CHART_ANNOTATION=10]="CHART_ANNOTATION",t[t.CHART_ANNOTATION_FOCUSED=11]="CHART_ANNOTATION_FOCUSED",t[t.STATUS_BAR=12]="STATUS_BAR",t[t.SERIES_LABEL=13]="SERIES_LABEL",t[t.LEGEND=14]="LEGEND",t[t.NAVIGATOR=15]="NAVIGATOR",t[t.FOREGROUND=16]="FOREGROUND",t))(sU||{}),Pnt=["stroke","lineDash"],Bnt=Ac(t=>Gn(t)&&Object.keys(t).every(e=>Pnt.includes(e)),"objects with gridline style properties such as 'stroke' or 'lineDash'"),hA=class{constructor(){this.enabled=!0,this.width=1,this.style=[{stroke:void 0,lineDash:[]}]}};N([w(jt)],hA.prototype,"enabled",2);N([w(Tt)],hA.prototype,"width",2);N([w(Bnt)],hA.prototype,"style",2);function sh(t,e=[void 0]){return xc((i,n,s)=>e.includes(s)?Gd(t)?t(s):t:s)}var aU=Pe(t=>ye(t)&&t>0||t instanceof qf,"a non-zero positive Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'"),Hd=class extends Zt{constructor(){super(...arguments),this.minSpacing=NaN,this.maxSpacing=NaN}};N([w(aU,{optional:!0})],Hd.prototype,"step",2);N([w(Zx,{optional:!0})],Hd.prototype,"values",2);N([w(IV),sh(NaN)],Hd.prototype,"minSpacing",2);N([w(TV),sh(NaN)],Hd.prototype,"maxSpacing",2);var En=class extends Zt{constructor(){super(...arguments),this.enabled=!0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.spacing=5,this.minSpacing=NaN,this.color="#575757",this.avoidCollisions=!0,this.mirrored=!1,this.parallel=!1}getSideFlag(){return this.mirrored?1:-1}};N([w(jt)],En.prototype,"enabled",2);N([w(Dc,{optional:!0})],En.prototype,"fontStyle",2);N([w(Ic,{optional:!0})],En.prototype,"fontWeight",2);N([w(de.restrict({min:1}))],En.prototype,"fontSize",2);N([w(Dt)],En.prototype,"fontFamily",2);N([w(Tt)],En.prototype,"spacing",2);N([w(rg),sh(NaN)],En.prototype,"minSpacing",2);N([w(Ae,{optional:!0})],En.prototype,"color",2);N([w(de,{optional:!0})],En.prototype,"rotation",2);N([w(jt)],En.prototype,"avoidCollisions",2);N([w(jt)],En.prototype,"mirrored",2);N([w(jt)],En.prototype,"parallel",2);N([w(ta,{optional:!0})],En.prototype,"itemStyler",2);N([w(ta,{optional:!0})],En.prototype,"formatter",2);N([w(Dt,{optional:!0})],En.prototype,"format",2);var dA=class{constructor(){this.enabled=!0,this.width=1,this.stroke=void 0}};N([w(jt)],dA.prototype,"enabled",2);N([w(Tt)],dA.prototype,"width",2);N([w(Ae,{optional:!0})],dA.prototype,"stroke",2);var cg=class extends Zt{constructor(){super(...arguments),this.enabled=!0,this.width=1,this.size=6}};N([w(jt)],cg.prototype,"enabled",2);N([w(Tt)],cg.prototype,"width",2);N([w(Tt)],cg.prototype,"size",2);N([w(Ae,{optional:!0})],cg.prototype,"stroke",2);var Sr=class extends Zt{constructor(){super(...arguments),this.caption=new He,this.enabled=!1,this.spacing=He.SMALL_PADDING,this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always"}};N([w(jt)],Sr.prototype,"enabled",2);N([w(Dt,{optional:!0})],Sr.prototype,"text",2);N([w(Tt,{optional:!0})],Sr.prototype,"spacing",2);N([w(Dc,{optional:!0})],Sr.prototype,"fontStyle",2);N([w(Ic,{optional:!0})],Sr.prototype,"fontWeight",2);N([w(Tt)],Sr.prototype,"fontSize",2);N([w(Dt)],Sr.prototype,"fontFamily",2);N([w(Ae,{optional:!0})],Sr.prototype,"color",2);N([w(oA)],Sr.prototype,"wrapping",2);N([w(ta,{optional:!0})],Sr.prototype,"formatter",2);var oU=(t=>(t[t.TickAndDomain=0]="TickAndDomain",t[t.TicksOnly=1]="TicksOnly",t[t.Off=2]="Off",t))(oU||{});function eM(t){const[e,i]=Vn(t.range),n=Math.floor(e),s=Math.ceil(i);return{min:n,max:s,visible:n!==s}}var Nk=Math.PI*2,znt=Nk/2;function _nt(t,e){return Math.abs(e-t)<znt?e:t>e?e+Nk:e-Nk}function rU(t){const e=(o,r)=>{const[l=t.min,c=t.max]=Vn(r??[]);return o<l||o>c};return{tick:{fromFn(o,r,l){let c=o.y1+o.translationY,h=o.opacity;return(l==="added"||e(o.datum.translationY,o.datum.range))&&(c=r.translationY,h=0),{y:0,translationY:c,opacity:h,phase:hr[l]}},toFn(o,r,l){const c=r.translationY;let h=1;return l==="removed"&&(h=0),{y:0,translationY:c,opacity:h,finish:{y:c,translationY:0}}},applyFn(o,r){o.setProperties(r),o.visible=!e(o.y)}},line:{fromFn(o,r){return{...o.previousDatum??r,phase:hr.updated}},toFn(o,r){return{...r}}},label:{fromFn(o,r,l){const c=o.previousDatum??r,h=c.x,p=c.y,f=c.rotationCenterX;let y=Math.round(o.translationY),m=c.rotation,b=o.opacity;return l==="removed"||e(c.y,c.range)?m=r.rotation:(l==="added"||e(o.datum.y,o.datum.range))&&(y=Math.round(c.translationY),b=0,m=r.rotation),{x:h,y:p,rotationCenterX:f,translationY:y,rotation:m,opacity:b,phase:hr[l]}},toFn(o,r,l){var b;const c=r.x,h=r.y,p=r.rotationCenterX,f=Math.round(r.translationY);let y=0,m=1;return l==="added"?y=r.rotation:l==="removed"?(m=0,y=r.rotation):y=_nt(((b=o.previousDatum)==null?void 0:b.rotation)??r.rotation,r.rotation),{x:c,y:h,rotationCenterX:p,translationY:f,rotation:y,opacity:m,finish:{rotation:r.rotation}}}},group:{fromFn(o,r){const{rotation:l,translationX:c,translationY:h}=o;return{rotation:l,translationX:c,translationY:h,phase:hr.updated}},toFn(o,r){const{rotation:l,translationX:c,translationY:h}=r;return{rotation:l,translationX:c,translationY:h}}}}}function lU(){return(t,e)=>({rotation:e.rotation,rotationCenterX:e.rotationCenterX,rotationCenterY:e.rotationCenterY,translationX:e.translationX,translationY:e.translationY})}function yN(t){const{visible:e,min:i,max:n}=t;return(s,a)=>{const o=a.translationY,r=e&&o>=i&&o<=n;return{y:o,translationY:0,opacity:1,visible:r}}}function mN(){return(t,e)=>({x:e.x,y:e.y,translationY:e.translationY,rotation:e.rotation,rotationCenterX:e.rotationCenterX})}function cU(){return(t,e)=>({...e})}var iM=class extends Ud(Ya){},uU=(t=>(t[t.TickLines=0]="TickLines",t[t.AxisLine=1]="AxisLine",t[t.TickLabels=2]="TickLabels",t))(uU||{}),Cc=class hU{constructor(e,i){this.moduleCtx=e,this.scale=i,this.id=Vo(this),this.nice=!0,this.reverse=!1,this.keys=[],this.interval=new Hd,this.dataDomain={domain:[],clipped:!1},this.layoutConstraints={stacked:!0,align:"start",width:100,unit:"percent"},this.boundSeries=[],this.includeInvisibleDomains=!1,this.interactionEnabled=!0,this.axisGroup=new lm({name:`${this.id}-axis`}),this.tickLineGroup=this.axisGroup.appendChild(new Wt({name:`${this.id}-Axis-tick-lines`,zIndex:0})),this.tickLabelGroup=this.axisGroup.appendChild(new Wt({name:`${this.id}-Axis-tick-labels`,zIndex:2})),this.labelGroup=new Wt({name:`${this.id}-Labels`,zIndex:9}),this.gridGroup=new lm({name:`${this.id}-Axis-grid`,zIndex:1}),this.gridLineGroup=this.gridGroup.appendChild(new Wt({name:`${this.id}-gridLines`})),this.crossLineRangeGroup=new lm({name:`${this.id}-CrossLines-Range`,zIndex:4}),this.crossLineLineGroup=new lm({name:`${this.id}-CrossLines-Line`,zIndex:8}),this.crossLineLabelGroup=new lm({name:`${this.id}-CrossLines-Label`,zIndex:13}),this.tickLineGroupSelection=Yi.select(this.tickLineGroup,iM,!1),this.tickLabelGroupSelection=Yi.select(this.tickLabelGroup,Jf,!1),this.gridLineGroupSelection=Yi.select(this.gridLineGroup,iM,!1),this._crossLines=[],this.line=new dA,this.tick=new cg,this.gridLine=new hA,this.label=this.createLabel(),this.defaultTickMinSpacing=hU.defaultTickMinSpacing,this.translation={x:0,y:0},this.rotation=0,this.layout={label:{fractionDigits:0,spacing:this.label.spacing,format:this.label.format}},this.axisContext=void 0,this.labelFormatter=void 0,this.datumFormatter=void 0,this.scaleFormatterParams=void 0,this.destroyFns=[],this.range=[0,1],this.visibleRange=[0,1],this.title=new Sr,this.gridLength=0,this.gridPadding=0,this.seriesAreaPadding=0,this.animatable=!0,this._scaleNiceDomainInputDomain=void 0,this._scaleNiceDomainRangeExtent=NaN,this.moduleMap=new hN,this.range=this.scale.range.slice(),this.crossLines.forEach(n=>this.initCrossLine(n))}get type(){return this.constructor.type??""}get labelNodes(){return this.tickLabelGroupSelection.nodes()}set crossLines(e){const{CrossLineConstructor:i}=this.constructor;this._crossLines.forEach(n=>this.detachCrossLine(n)),this._crossLines=e.map(n=>{const s=new i;return s.set(n),s}),this._crossLines.forEach(n=>{this.attachCrossLine(n),this.initCrossLine(n)})}get crossLines(){return this._crossLines}resetAnimation(e){}attachCrossLine(e){this.crossLineRangeGroup.appendChild(e.rangeGroup),this.crossLineLineGroup.appendChild(e.lineGroup),this.crossLineLabelGroup.appendChild(e.labelGroup)}detachCrossLine(e){this.crossLineRangeGroup.removeChild(e.rangeGroup),this.crossLineLineGroup.removeChild(e.lineGroup),this.crossLineLabelGroup.removeChild(e.labelGroup)}destroy(){this.moduleMap.destroy(),this.destroyFns.forEach(e=>e())}updateScale(){const{range:e,visibleRange:i,scale:n}=this,s=(e[1]-e[0])/(i[1]-i[0]),a=s*i[0],o=e[0]-a;n.range=[o,o+s],this.crossLines.forEach(r=>{r.clippedRange=[e[0],e[1]]})}setCrossLinesVisible(e){this.crossLineRangeGroup.visible=e,this.crossLineLineGroup.visible=e,this.crossLineLabelGroup.visible=e}attachAxis(e){e.gridNode.appendChild(this.gridGroup),e.axisNode.appendChild(this.axisGroup),e.labelNode.appendChild(this.labelGroup),e.crossLineRangeNode.appendChild(this.crossLineRangeGroup),e.crossLineLineNode.appendChild(this.crossLineLineGroup),e.crossLineLabelNode.appendChild(this.crossLineLabelGroup)}detachAxis(e){e.gridNode.removeChild(this.gridGroup),e.axisNode.removeChild(this.axisGroup),e.labelNode.removeChild(this.labelGroup),e.crossLineRangeNode.removeChild(this.crossLineRangeGroup),e.crossLineLineNode.removeChild(this.crossLineLineGroup),e.crossLineLabelNode.removeChild(this.crossLineLabelGroup)}attachLabel(e){this.labelGroup.append(e)}inRange(e,i=0){const[n,s]=Vn(this.range);return e>=n-i&&e<=s+i}defaultDatumFormatter(e,i){return bc(e,i+1)}defaultLabelFormatter(e,i){return bc(e,i)}onGridLengthChange(e,i){i^e&&this.onGridVisibilityChange(),this.crossLines.forEach(n=>this.initCrossLine(n))}onGridVisibilityChange(){this.gridLineGroupSelection.clear()}createLabel(){return new En}update(){this.updatePosition(),this.updateSelections(),this.tickLineGroup.visible=this.tick.enabled,this.gridLineGroup.visible=this.gridLine.enabled,this.tickLabelGroup.visible=this.label.enabled,this.updateLabels(),this.updateGridLines(),this.updateTickLines(),this.updateCrossLines()}getAxisLineCoordinates(){const[e,i]=Vn(this.range);return{x:0,y1:e,y2:i}}getLabelStyles(e,i){const{label:n}=this,s={color:n.color,spacing:n.spacing,fontFamily:n.fontFamily,fontSize:n.fontSize,fontStyle:n.fontStyle,fontWeight:n.fontWeight};let a;n.itemStyler&&(a=this.moduleCtx.callbackCache.call(n.itemStyler,{...e,...s}));const{color:o,fontFamily:r,fontSize:l,fontStyle:c,fontWeight:h,spacing:p}=ie(a,i,s);return{fill:o,fontFamily:r,fontSize:l,fontStyle:c,fontWeight:h,spacing:p}}getTickSize(){return this.tick.enabled?this.tick.size:0}setTitleProps(e,i){const{title:n}=this;if(!n.enabled){e.enabled=!1,e.node.visible=!1;return}e.enabled=!0,e.color=n.color,e.fontFamily=n.fontFamily,e.fontSize=n.fontSize,e.fontStyle=n.fontStyle,e.fontWeight=n.fontWeight,e.wrapping=n.wrapping;const s=e.node,a=(n.spacing??0)+i.spacing,o=this.label.getSideFlag(),r=qe(this.rotation),l=o===-1&&r>Math.PI&&r<Math.PI*2?-1:1,c=l*o*Math.PI/2,h=l===1?"bottom":"top",{range:p}=this,f=Math.floor(l*o*(p[0]+p[1])/2),y=Math.floor(o===-1?l*-a:-a),{callbackCache:m}=this.moduleCtx,{formatter:b=S=>S.defaultValue}=n,v=m.call(b,this.getTitleFormatterParams());e.text=v,s.setProperties({visible:!0,text:v,textBaseline:h,x:f,y,rotation:c})}processData(){const{includeInvisibleDomains:e,boundSeries:i,direction:n}=this,a=(e?i:i.filter(o=>o.isEnabled())).map(o=>o.getDomain(n));this.setDomains(...a)}setDomains(...e){let i,n;e.length>0?{domain:i,animatable:n}=this.scale.normalizeDomains(...e):(i=[],n=!0),this.dataDomain=this.normaliseDataDomain(i),this.reverse&&this.dataDomain.domain.reverse(),this.animatable=n}calculateLayout(e){const{scale:i,label:n,visibleRange:s,nice:a}=this;this.updateScale();const o=Zf(this.range),r=this.dataDomain.domain;let l;s[0]===0&&s[1]===1?l=void 0:a?this._scaleNiceDomainInputDomain===r&&this._scaleNiceDomainRangeExtent===o?l=this.scale.domain:l=this.calculateTickLayout(r,0,[0,1]).niceDomain:l=r;let c;a?l==null?c=0:c=1:c=2;const{niceDomain:h,primaryTickCount:p,ticks:f,tickDomain:y,fractionDigits:m,bbox:b}=this.calculateTickLayout(l??r,c,s,e);this.scale.domain=h,this._scaleNiceDomainInputDomain=a?r:void 0,this._scaleNiceDomainRangeExtent=a?o:NaN;const v=n.format;this.labelFormatter=i.tickFormatter({domain:y,specifier:v,ticks:f,fractionDigits:m})??(E=>this.defaultLabelFormatter(E,m)),this.datumFormatter=i.datumFormatter({domain:y,specifier:v,ticks:f,fractionDigits:m})??(E=>this.defaultDatumFormatter(E,m)),this.scaleFormatterParams={domain:y,ticks:f,fractionDigits:m},this.layout.label={fractionDigits:m,spacing:this.label.spacing,format:this.label.format};const S=n.getSideFlag(),D=this.isAnySeriesActive(),{rotation:I,parallelFlipRotation:T,regularFlipRotation:k}=this.calculateRotations();return this.crossLines.forEach(E=>{var B;var O;E.sideFlag=-S,E.direction=I===-Math.PI/2?"x":"y",E instanceof Ma&&((O=E.label).parallel??(O.parallel=n.parallel)),E.parallelFlipRotation=T,E.regularFlipRotation=k,(B=E.calculateLayout)==null||B.call(E,D,this.reverse)}),{primaryTickCount:p,bbox:b}}getTransformBox(e){const i=new yr,{rotation:n,translationX:s,translationY:a}=this.getAxisTransform();return yr.updateTransformMatrix(i,1,1,n,s,a),i.transformBBox(e)}calculateRotations(){const e=yn(this.rotation),i=qe(e),n=qe(e-Math.PI/2);return{rotation:e,parallelFlipRotation:i,regularFlipRotation:n}}updateCrossLines(){const e=this.isAnySeriesActive();this.crossLines.forEach(i=>{i.update(e)})}updateTickLines(){const{tick:e,label:i}=this,n=i.getSideFlag();this.tickLineGroupSelection.each((s,a)=>{s.strokeWidth=a.tickWidth??e.width,s.stroke=a.tickStroke??e.stroke,s.x1=n*(a.tickSize??this.getTickSize()),s.x2=0})}getAxisTransform(){return{rotation:yn(this.rotation),translationX:Math.floor(this.translation.x),translationY:Math.floor(this.translation.y)}}updatePosition(){const{crossLineRangeGroup:e,crossLineLineGroup:i,crossLineLabelGroup:n,gridGroup:s,translation:a}=this,{rotation:o}=this.calculateRotations(),r=Math.floor(a.x),l=Math.floor(a.y);e.setProperties({rotation:o,translationX:r,translationY:l}),i.setProperties({rotation:o,translationX:r,translationY:l}),n.setProperties({rotation:o,translationX:r,translationY:l}),s.setProperties({rotation:o,translationX:r,translationY:l})}updateGridLines(){const e=this.label.getSideFlag(),{gridLine:{style:i,width:n},gridPadding:s,gridLength:a}=this;a===0||i.length===0||this.gridLineGroupSelection.each((o,r,l)=>{const{stroke:c,lineDash:h}=i[l%i.length];o.setProperties({x1:s,x2:-e*a+s,stroke:c,strokeWidth:n,lineDash:h})})}formatTick(e,i,n,s){const{labelFormatter:a,label:{formatter:o},moduleCtx:{callbackCache:r}}=this;let l;return o?l=r.call(o,{value:e,index:i,fractionDigits:n}):s?l=s(e):a&&(l=a(e)),String(l??e)}formatDatum(e){const{label:{formatter:i},moduleCtx:{callbackCache:n},datumFormatter:s=this.labelFormatter}=this;let a;return i?a=n.call(i,{value:e,index:NaN}):s?a=n.call(s,e):Je(e)&&(a=e.filter(Boolean).join(" - ")),String(a??e)}getScaleValueFormatter(e){const{scaleFormatterParams:i}=this;let n;try{e!=null&&i!=null&&(n=this.scale.tickFormatter({...i,specifier:e}))}catch{It.warnOnce(`the format string ${e} is invalid, ignoring.`)}return n??(n=s=>this.formatDatum(s)),n}getBBox(){return this.axisGroup.getBBox()}initCrossLine(e){e.scale=this.scale,e.gridLength=this.gridLength}isAnySeriesActive(){return this.boundSeries.some(e=>this.includeInvisibleDomains||e.isEnabled())}clipTickLines(e,i,n,s){this.tickLineGroup.setClipRect(new Et(e,i,n,s))}clipGrid(e,i,n,s){this.gridGroup.setClipRect(new Et(e,i,n,s))}getTitleFormatterParams(){var n;const{direction:e}=this,i=[];for(const s of this.boundSeries){const a=s.getKeys(e),o=s.getNames(e);for(let r=0;r<a.length;r++)i.push({key:a[r],name:o[r]})}return{direction:e,boundSeries:i,defaultValue:(n=this.title)==null?void 0:n.text}}normaliseDataDomain(e){return{domain:[...e],clipped:!1}}getLayoutState(){return{id:this.id,rect:this.getBBox(),gridPadding:this.gridPadding,seriesAreaPadding:this.seriesAreaPadding,tickSize:this.getTickSize(),direction:this.direction,domain:this.dataDomain.domain,scale:this.scale,...this.layout}}getModuleMap(){return this.moduleMap}createModuleContext(){return this.axisContext??(this.axisContext=this.createAxisContext()),{...this.moduleCtx,parent:this.axisContext}}createAxisContext(){const{scale:e}=this;return{axisId:this.id,scale:this.scale,direction:this.direction,continuous:ke.is(e)||al.is(e),getCanvasBounds:()=>Di.toCanvas(this.axisGroup),seriesKeyProperties:()=>this.boundSeries.reduce((i,n)=>(n.getKeyProperties(this.direction).forEach(a=>i.add(a)),i),new Set),seriesIds:()=>this.boundSeries.map(i=>i.id),scaleValueFormatter:i=>this.getScaleValueFormatter(i),scaleInvert:i=>e.invert(i,!0),scaleInvertNearest:i=>e.invert(i,!0),attachLabel:i=>this.attachLabel(i),inRange:(i,n)=>this.inRange(i,n)}}isReversed(){return this.reverse}};Cc.defaultTickMinSpacing=50;Cc.CrossLineConstructor=Ma;N([w(jt)],Cc.prototype,"nice",2);N([w(jt)],Cc.prototype,"reverse",2);N([w(MV)],Cc.prototype,"keys",2);N([w(kt)],Cc.prototype,"interval",2);N([w(kt)],Cc.prototype,"title",2);N([nh((t,e,i)=>t.onGridLengthChange(e,i))],Cc.prototype,"gridLength",2);var xN=Cc;function jnt(t,e,i,n,s,a){if(t.size===0)return!1;let o=t.x,r=t.y;e!=null&&(o-=(e.x-.5)*t.size,r-=(e.y-.5)*t.size);let l=o;o<i?l=i:o>i+s&&(l=i+s);let c=r;r<n?c=n:r>n+a&&(c=n+a);const h=o-l,p=r-c;return Math.sqrt(h*h+p*p)<=t.size*.5}function dU(t,e,i,n,s){const a=t.x+t.width>e&&t.x<e+n,o=t.y+t.height>i&&t.y<i+s;return a&&o}function Fnt(t,e,i,n,s){return e+n<t.x+t.width&&e>t.x&&i>t.y&&i+s<t.y+t.height}function Gnt(t){return t!=null&&typeof t.point=="object"&&typeof t.label=="object"}var Vnt={top:{x:0,y:-1},bottom:{x:0,y:1},left:{x:-1,y:0},right:{x:1,y:0},"top-left":{x:-1,y:-1},"top-right":{x:1,y:-1},"bottom-left":{x:-1,y:1},"bottom-right":{x:1,y:1}};function Unt(t,e,i=5){var r;const n=new Map,s=[],a=new Map([...t.entries()].map(([l,c])=>[l,c.toSorted((h,p)=>p.point.size-h.point.size)])),o=[...a.values()].flat();for(const[l,c]of a.entries()){const h=[];if((r=c[0])!=null&&r.label){for(let p=0,f=c.length;p<f;p++){const y=c[p],{point:m,label:b,anchor:v}=y,{text:S,width:D,height:I}=b,T=m.size*.5;let k=0,E=0;if(T>0&&y.placement!=null){const G=Vnt[y.placement];k=(D*.5+T+i)*G.x,E=(I*.5+T+i)*G.y}const O=m.x-D*.5+k-(((v==null?void 0:v.x)??.5)-.5)*m.size,B=m.y-I*.5+E-(((v==null?void 0:v.y)??.5)-.5)*m.size;if(!(!e||Fnt(e,O,B,D,I))||o.some(G=>jnt(G.point,G.anchor,O,B,D,I))||s.some(G=>dU(G,O,B,D,I)))continue;const j={index:p,text:S,x:O,y:B,width:D,height:I,datum:y};h.push(j),s.push(j)}n.set(l,h)}}return n}function Hnt(t,e=0){const i=[];for(let n=0;n<t.length;n++){const s=t[n],{point:{x:a,y:o},label:{text:r}}=s;let{width:l,height:c}=s.label;if(l+=e,c+=e,i.some(h=>dU(h,a,o,l,c)))return!0;i.push({index:n,text:r,x:a,y:o,width:l,height:c,datum:s})}return!1}function Wnt(t,e,i){let[n,s]=Vn(t);n=Ynt(Math.floor(n),s,e);const a=Knt(n,s,e),o=e-1;s=n+o*a;const r=i?[s,n]:[n,s],l=$nt(n,a,e);return{domain:r,ticks:l}}function Ynt(t,e,i){const n=Math.abs(e-t)/(i-1),s=Math.floor(Math.log10(n)),a=Math.pow(10,s);return Math.floor(t/a)*a}function $nt(t,e,i){const n=Math.floor(Math.log10(e)),s=e>0&&e<1?Math.abs(n):0,a=Math.pow(10,s),o=[];for(let r=0;r<i;r++){const l=t+e*r;o[r]=Math.round(l*a)/a}return o}function Knt(t,e,i){const n=i-1,s=(e-t)/n;return Xnt(s)}function Xnt(t){const e=Math.floor(Math.log10(t)),i=Math.pow(10,e),n=t/i*10;return n>0&&n<=1?i/10:n>1&&n<=2?2*i/10:n>1&&n<=5?5*i/10:n>5&&n<=10?10*i/10:n>10&&n<=20?20*i/10:n>20&&n<=40?40*i/10:n>40&&n<=50?50*i/10:n>50&&n<=100?100*i/10:n}function bN(){const t=new Map;return e=>{const i=t.get(e);return i?(t.set(e,i+1),`${e}_${i}`):(t.set(e,1),e)}}var pU=class{constructor(e){this.axis=e}estimateTickCount(e,i,n){return ZV(Zf(this.axis.range),Zf(e),i,n,ke.defaultTickCount,this.axis.defaultTickMinSpacing)}filterTicks(e,i){const{minSpacing:n,maxSpacing:s}=this.axis.interval,o=!isNaN(n)||!isNaN(s)?Math.ceil(e.length/i):2,r=e.length%o?-1:0;return e.filter((l,c)=>(c+r)%o===0)}generateTicks({domain:e,primaryTickCount:i,visibleRange:n,niceMode:s,parallelFlipRotation:a,regularFlipRotation:o,labelX:r,sideFlag:l}){const{scale:c,label:h,interval:{minSpacing:p,maxSpacing:f}}=this.axis,{parallel:y,rotation:m,fontFamily:b,fontSize:v,fontStyle:S,fontWeight:D}=h,I=i!==void 0,{defaultRotation:T,configuredRotation:k,parallelFlipFlag:E,regularFlipFlag:O}=JS({rotation:m,parallel:y,regularFlipRotation:o,parallelFlipRotation:a}),B=k+T,R=new yr,{maxTickCount:L}=this.estimateTickCount(n,p,f),j=!(ke.is(c)||al.is(c))||isNaN(L)?10:L;let G=O4(y,k,0,l,O);const W=Cnt(y,k,l,E),Z=hi.toFontString({fontFamily:b,fontSize:v,fontStyle:S,fontWeight:D}),U=Tc.getMeasurer({font:Z}),K={fontFamily:b,fontSize:v,fontStyle:S,fontWeight:D,textBaseline:W,textAlign:G},$=h.enabled&&h.avoidCollisions,X=({ticks:st},rt)=>{if(!$)return!1;const ct=k!==0||rt!==0,dt=B+rt,ht=Tnt(h.minSpacing,ct);yr.updateTransformMatrix(R,1,1,dt,0,0);const yt=knt(st,r,R,U);return Hnt(yt,ht)};let _={tickDomain:[],ticks:[],rawTicks:[],fractionDigits:0,niceDomain:void 0},V=0,Y=0,J=!0,q=!1;for(;!q&&J&&V<=j;){Y=0;for(const st of this.getTickStrategies({domain:e,niceMode:s,secondaryAxis:I,index:V}))({tickData:_,index:V,autoRotation:Y,terminate:q}=st({index:V,tickData:_,textProps:K,terminate:q,primaryTickCount:i,visibleRange:n,get labelOverlap(){return X(_,Y)}}));J=X(_,Y)}G=O4(y,k,Y,l,O);const nt=T+k+Y;return!I&&_.rawTicks.length>0&&(i=_.rawTicks.length),{tickData:_,primaryTickCount:i,combinedRotation:nt,textBaseline:W,textAlign:G}}getTickStrategies({domain:e,niceMode:i,index:n,secondaryAxis:s}){const{scale:a,label:o,interval:r}=this.axis,{minSpacing:l}=r,c=ke.is(a)||al.is(a),h=o.enabled&&o.avoidCollisions,p=!c&&n!==0&&h,f=o.autoRotate===!0&&o.rotation===void 0,y=[];let m;r.values?m=3:s?m=1:p?m=2:m=0;const b=({index:v,tickData:S,primaryTickCount:D,visibleRange:I,terminate:T})=>this.createTickData(e,i,I,D,m,v,S,T);if(y.push(b),!c&&!isNaN(l)){const v=({index:S,tickData:D,primaryTickCount:I,visibleRange:T,terminate:k})=>this.createTickData(e,i,T,I,2,S,D,k);y.push(v)}if(h&&f){const v=({index:S,tickData:D,labelOverlap:I,terminate:T})=>({index:S,tickData:D,autoRotation:I?qe(yn(o.autoRotateAngle??0)):0,terminate:T});y.push(v)}return y}createTickData(e,i,n,s,a,o,r,l){const{scale:c,interval:h}=this.axis,{step:p,values:f,minSpacing:y,maxSpacing:m}=h,{maxTickCount:b,minTickCount:v,tickCount:S}=this.estimateTickCount(n,y,m),D=ke.is(c)||al.is(c),I=!D||isNaN(b)?10:b,T=E=>D?Math.max(S-E,v):b,k=p==null&&f==null&&T(o)>v&&(D||a===2);for(;o<=I;){const E=r.rawTicks;if(r=this.getTicks({domain:e,niceMode:i,visibleRange:n,tickGenerationType:a,previousTicks:E,minTickCount:v,maxTickCount:b,primaryTickCount:s,tickCount:T(o)}),o++,!k||!sl(r.rawTicks,E))break}return l||(l=p!=null||f!=null),{tickData:r,index:o,autoRotation:0,terminate:l}}getTicks({domain:e,niceMode:i,visibleRange:n,tickGenerationType:s,previousTicks:a,tickCount:o,minTickCount:r,maxTickCount:l,primaryTickCount:c}){const{axis:h}=this,{label:p,range:f,scale:y,interval:m}=h,b=bN(),v={nice:i===0,interval:m.step,tickCount:o,minTickCount:r,maxTickCount:l},S={...v,nice:i===0||i===1};let D=i===0?y.niceDomain(v,e):e,I=D,T;switch(s){case 3:if(I=m.values,T=m.values,ke.is(y)){const[F,j]=Vn(D.map(Number));T=T.filter(G=>Number(G)>=F&&Number(G)<=j).sort((G,W)=>Number(G)-Number(W))}break;case 1:if(ke.is(y)){const F=Wnt(e.map(Number),c??0,h.reverse);T=F.ticks,D=F.domain.map(j=>y.toDomain(j))}else T=y.ticks(S,D,n)??[];break;case 2:T=this.filterTicks(a,o);break;default:T=y.ticks(S,D,n)??[]}const k=T.reduce((F,j)=>Math.max(F,typeof j=="number"?ZM(j):0),0),E={domain:I,ticks:T,fractionDigits:k,specifier:p.format},O=y.tickFormatter(E),B=y.domain;y.domain=D;const R=(y.bandwidth??0)/2,L=[];for(let F=0;F<T.length;F++){const j=T[F],G=y.convert(j)+R;if(f.length>0&&!h.inRange(G,.001))continue;const W=p.enabled?h.formatTick(j,F,k,O):"";L.push({tick:j,tickId:b(W),tickLabel:W,translationY:Math.floor(G)})}return y.domain=B,{tickDomain:I,rawTicks:T,fractionDigits:k,ticks:L,niceDomain:D}}},vN=class extends En{constructor(){super(...arguments),this.autoRotateAngle=335}};N([w(jt,{optional:!0})],vN.prototype,"autoRotate",2);N([w(de)],vN.prototype,"autoRotateAngle",2);var SN=class fU extends xN{constructor(e,i){super(e,i),this.lineNode=this.axisGroup.appendChild(new iM({name:`${this.id}-Axis-line`,zIndex:1})),this.tempText=new Jf,this.tempCaption=new He,this.tickGenerator=new pU(this),this.generatedTicks=void 0,this.animationManager=e.animationManager,this.animationState=new tb("empty",{empty:{update:{target:"ready",action:()=>this.resetSelectionNodes()},reset:"empty"},ready:{update:s=>this.animateReadyUpdate(s),resize:()=>this.resetSelectionNodes(),reset:"empty"}}),this.axisGroup.appendChild(this.title.caption.node);let n;this.destroyFns.push(e.layoutManager.addListener("layout:complete",s=>{const a=[s.chart.width,s.chart.height];n!=null&&!sl(a,n)&&this.animationState.transition("resize"),n=a}),this.title.caption.registerInteraction(this.moduleCtx,"afterend"))}static is(e){return e instanceof fU}resetAnimation(e){e==="initial"&&this.animationState.transition("reset")}get direction(){return this.position==="top"||this.position==="bottom"?"x":"y"}createAxisContext(){return{...super.createAxisContext(),position:this.position}}createLabel(){return new vN}updateDirection(){switch(this.position){case"top":this.rotation=-90,this.label.mirrored=!0,this.label.parallel=!0;break;case"right":this.rotation=0,this.label.mirrored=!0,this.label.parallel=!1;break;case"bottom":this.rotation=-90,this.label.mirrored=!1,this.label.parallel=!0;break;case"left":this.rotation=0,this.label.mirrored=!1,this.label.parallel=!1;break}this.axisContext&&(this.axisContext.position=this.position,this.axisContext.direction=this.direction)}calculateLayout(e){return this.updateDirection(),super.calculateLayout(e)}calculateTickLayout(e,i,n,s){const a=this.label.getSideFlag(),{parallelFlipRotation:o,regularFlipRotation:r}=this.calculateRotations(),l=a*(this.getTickSize()+this.label.spacing+this.seriesAreaPadding),c=this.tickGenerator.generateTicks({domain:e,niceMode:i,visibleRange:n,primaryTickCount:s,parallelFlipRotation:o,regularFlipRotation:r,labelX:l,sideFlag:a}),{tickData:h,primaryTickCount:p=s}=c,{ticks:f,tickDomain:y,rawTicks:m,fractionDigits:b,niceDomain:v=e}=h,S=f.map(I=>this.getTickLabelProps(I,c)),D=this.tickBBox(f,S);return this.generatedTicks={ticks:f,labels:S},{ticks:m,tickDomain:y,niceDomain:v,primaryTickCount:p,fractionDigits:b,bbox:D}}update(){var a;this.updateDirection();const e=Array.from(this.tickLabelGroupSelection.nodes(),o=>o.datum.tickId);if(super.update(),this.animatable||this.moduleCtx.animationManager.skipCurrentBatch(),this.generatedTicks){const{ticks:o}=this.generatedTicks;if(this.animationManager.isSkipped())this.resetSelectionNodes();else{const r=o.map(c=>c.tickId),l=cet(e,r);this.animationState.transition("update",l)}}const{enabled:i,stroke:n,width:s}=this.line;this.lineNode.setProperties({stroke:n,strokeWidth:i?s:0}),this.updateTitle(!((a=this.generatedTicks)!=null&&a.ticks.length))}updatePosition(){super.updatePosition(),this.axisGroup.datum=this.getAxisTransform()}tickBBox(e,i){var p;const n=this.label.getSideFlag(),s=[],{x:a,y1:o,y2:r}=this.getAxisLineCoordinates(),l=new Et(a+Math.min(n*this.seriesAreaPadding,0),o,this.seriesAreaPadding,r-o);if(s.push(l),this.tick.enabled)for(const f of e){const{x1:y,x2:m,y:b}=this.getTickLineCoordinates(f),v=new Et(y,b,m-y,0);s.push(v)}const{tempText:c}=this;if(this.label.enabled)for(const f of i){if(!f.visible)continue;c.setProperties({...f,translationY:Math.round(f.translationY)});const y=c.getBBox();y&&s.push(y)}if((p=this.title)!=null&&p.enabled){const f=Et.merge(s).width;this.setTitleProps(this.tempCaption,{spacing:f});const y=this.tempCaption.node.getBBox();y&&s.push(y)}const h=Et.merge(s);return this.getTransformBox(h)}getTickLabelProps(e,i){const{combinedRotation:n,textBaseline:s,textAlign:a}=i,{range:o}=this.scale,r=e.tickLabel,c=this.label.getSideFlag()*(this.getTickSize()+this.label.spacing+this.seriesAreaPadding),h=r!==""&&r!=null;return{...this.getLabelStyles({value:e.tickLabel}),tickId:e.tickId,rotation:n,rotationCenterX:c,translationY:e.translationY,text:r,textAlign:a,textBaseline:s,visible:h,x:c,y:0,range:o}}getTickLineCoordinates(e){const n=this.label.getSideFlag()*this.getTickSize(),s=Math.min(0,n),a=s+Math.abs(n),o=e.translationY;return{x1:s,x2:a,y:o}}updateSelections(){if(!this.generatedTicks)return;const e=this.getAxisLineCoordinates(),{ticks:i,labels:n}=this.generatedTicks,s=a=>a.tickId;this.lineNode.datum=e,this.gridLineGroupSelection.update(this.gridLength?i:[],void 0,s),this.tickLineGroupSelection.update(i,void 0,s),this.tickLabelGroupSelection.update(n,void 0,s)}updateTitle(e,i){const{title:n,tickLineGroup:s,tickLabelGroup:a,lineNode:o}=this;n.enabled&&!e&&i==null&&(i=Wt.computeChildrenBBox([s,a,o]).width+(a.visible?0:this.seriesAreaPadding)),i??(i=0),this.setTitleProps(n.caption,{spacing:i})}updateLabels(){this.label.enabled&&this.tickLabelGroupSelection.each((e,i)=>{e.fill=i.fill,e.fontFamily=i.fontFamily,e.fontSize=i.fontSize,e.fontStyle=i.fontStyle,e.fontWeight=i.fontWeight,e.text=i.text,e.textBaseline=i.textBaseline,e.textAlign=i.textAlign??"center"})}animateReadyUpdate(e){const{animationManager:i}=this.moduleCtx,n=eM(this),s=rU(n);vi(this.id,"axis-group",i,[this.axisGroup],s.group),vi(this.id,"line",i,[this.lineNode],s.line),vi(this.id,"line-paths",i,[this.gridLineGroupSelection,this.tickLineGroupSelection],s.tick,(a,o)=>o.tickId,e),vi(this.id,"tick-labels",i,[this.tickLabelGroupSelection],s.label,(a,o)=>o.tickId,e)}resetSelectionNodes(){const e=eM(this);Fn([this.axisGroup],lU()),Fn([this.gridLineGroupSelection,this.tickLineGroupSelection],yN(e)),Fn([this.tickLabelGroupSelection],mN()),Fn([this.lineNode],cU())}};N([w(Tt,{optional:!0})],SN.prototype,"thickness",2);N([w(JL)],SN.prototype,"position",2);var eb=SN,ug=class gU extends eb{constructor(e,i=new Kx){super(e,i),this.groupPaddingInner=.1,this.includeInvisibleDomains=!0}static is(e){return e instanceof gU}normaliseDataDomain(e){return{domain:e,clipped:!1}}updateScale(){super.updateScale();let{paddingInner:e,paddingOuter:i}=this;if(!ye(e)||!ye(i)){const n=this.reduceBandScalePadding();e??(e=n.inner),i??(i=n.outer)}this.scale.paddingInner=e??0,this.scale.paddingOuter=i??0}reduceBandScalePadding(){return this.boundSeries.reduce((e,i)=>{var s;const n=(s=i.getBandScalePadding)==null?void 0:s.call(i);return n&&(e.inner>n.inner&&(e.inner=n.inner),e.outer<n.outer&&(e.outer=n.outer)),e},{inner:1/0,outer:-1/0})}};ug.className="CategoryAxis";ug.type="category";N([w(Le)],ug.prototype,"groupPaddingInner",2);N([w(Le,{optional:!0})],ug.prototype,"paddingInner",2);N([w(Le,{optional:!0})],ug.prototype,"paddingOuter",2);var hg=ug,pA=class{constructor(){this.destroyFns=[]}destroy(){for(const e of this.destroyFns)e()}},Znt=class{constructor(){this.modules=[],this.dependencies=new Map,this.modulesByOptionKey=new Map}register(...t){for(const e of t){this.registerDependencies(e);const i=this.modules.find(n=>e.type===n.type&&("optionsKey"in e&&"optionsKey"in n?e.optionsKey===n.optionsKey:!0)&&e.identifier===n.identifier);if(i){if(e.packageType==="enterprise"&&i.packageType==="community"){const n=this.modules.indexOf(i);this.modules.splice(n,1,e),"optionsKey"in e&&this.modulesByOptionKey.set(e.optionsKey,e)}}else this.modules.push(e),"optionsKey"in e&&this.modulesByOptionKey.set(e.optionsKey,e)}}hasEnterpriseModules(){return this.modules.some(t=>t.packageType==="enterprise")}*byType(...t){const e=new Set,i=this.modules.filter(a=>t.includes(a.type)),n=a=>{const o=this.dependencies.get(a);return(o==null?void 0:o.flatMap(n).concat(o))??[]},s=[];for(const a of i){const o="optionsKey"in a?a.optionsKey:a.contextKey;if(!e.has(o)){for(const r of n(o)){if(e.has(r))continue;const l=this.modulesByOptionKey.get(r);if(!l){s.push(r);continue}t.includes(l.type)&&(yield l,e.add(r))}yield a,e.add(o)}}if(s.length>0)throw new Error(`Could not resolve module dependencies: ${s}`)}registerDependencies(t){if(t.dependencies==null||t.dependencies.length===0)return;const e="optionsKey"in t?t.optionsKey:t.contextKey;this.dependencies.set(e,t.dependencies)}},ol=new Znt,G4=class{constructor(){this.queue=[]}await(t=50){return new Promise(e=>{const i=()=>{clearTimeout(s),e(!0)},s=setTimeout(()=>{const a=this.queue.indexOf(i);a<0||(this.queue.splice(a,1),e(!1))},t);this.queue.push(i)})}notify(){this.queue.splice(0).forEach(t=>t())}};function qnt(){return new Promise(t=>{setTimeout(t,0)})}function nM(t,e){t&&(e=YM.normalize(e),e.width==null?t.style.removeProperty("width"):t.style.width=`${e.width}px`,e.height==null?t.style.removeProperty("height"):t.style.height=`${e.height}px`,e.x==null?t.style.removeProperty("left"):t.style.left=`${e.x}px`,e.y==null?t.style.removeProperty("top"):t.style.top=`${e.y}px`)}function yU(t){const e=parseFloat(t.style.width)||t.offsetWidth,i=parseFloat(t.style.height)||t.offsetHeight,n=parseFloat(t.style.left)||t.offsetLeft,s=parseFloat(t.style.top)||t.offsetTop;return{x:n,y:s,width:e,height:i}}function Qnt(t){var n;if(t.focus({preventScroll:!0}),((n=t.lastChild)==null?void 0:n.textContent)==null)return;const e=mc().createRange();e.setStart(t.lastChild,t.lastChild.textContent.length),e.setEnd(t.lastChild,t.lastChild.textContent.length);const i=Qe().getSelection();i==null||i.removeAllRanges(),i==null||i.addRange(e)}var Jnt=0;function tst(t){return`${t??"ag-charts-element"}-${Jnt++}`}function mU(){const t=Qe("navigator");if("scheduling"in t){const e=t.scheduling;if("isInputPending"in e)return e.isInputPending({includeContinuous:!0})}return!1}function fA(t){return`ag-charts-icon ag-charts-icon-${t}`}var Ek="class-instance";function vc(t,e,i){if(Je(e)){if(!Je(t)||t.length!==e.length||e.some((n,s)=>vc(t[s],n)!=null))return e}else if(Ls(e)){if(!Ls(t))return e;const n={},s=new Set([...Object.keys(t),...Object.keys(e)]);for(const a of s)if(!(t[a]===e[a]||i!=null&&i.includes(a)))if(typeof t[a]==typeof e[a]){const o=vc(t[a],e[a]);o!==null&&(n[a]=o)}else n[a]=e[a];return Object.keys(n).length?n:null}else if(t!==e)return e;return null}function xU(t,e){for(const i of Object.keys(t))if(t[i]!==(e==null?void 0:e[i]))return!1;return!0}function fn(t,e){return Je(t)?t.map(i=>fn(i,e)):Ls(t)?est(t,e):t instanceof Map?new Map(fn(Array.from(t))):MN(t)}function est(t,e){const i={};for(const n of Object.keys(t))i[n]=e!=null&&e.has(n)?MN(t[n]):fn(t[n],e);return i}function MN(t){return Je(t)?t.slice(0):Ls(t)?{...t}:ag(t)?new Date(t):pet(t)?new RegExp(t.source,t.flags):t}function dc(t,e,i,n,s,a){if(Je(t)){a=e(t,n,s,a);let o=0;for(const r of t)a=dc(r,e,i,n==null?void 0:n[o],s,a),o++}else if(Ls(t)){a=e(t,n,s,a);for(const o of Object.keys(t)){if(i!=null&&i.has(o))continue;const r=t[o];a=dc(r,e,i,n==null?void 0:n[o],s,a)}}return a}function Um(t,e,i={}){const{path:n,matcherPath:s=n==null?void 0:n.replace(/(\[[0-9+]+])/i,"[]"),skip:a=[]}=i;if(t==null)throw new Error(`AG Charts - target is uninitialised: ${n??"<root>"}`);if(e==null)return t;if(cl(t))return t.set(e);const o=t,r=wC(t);for(const l of Object.keys(e)){if(YL.has(l))continue;const c=`${s?s+".":""}${l}`;if(a.includes(c))continue;const h=e[l],p=`${n?n+".":""}${l}`,f=o.constructor,y=o[l];try{const m=wC(y),b=wC(h);if(r===Ek&&!(l in t)){if(h===void 0)continue;It.warn(`unable to set [${p}] in ${f==null?void 0:f.name} - property is unknown`);continue}if(m!=null&&b!=null&&b!==m&&(m!==Ek||b!=="object")){It.warn(`unable to set [${p}] in ${f==null?void 0:f.name} - can't apply type of [${b}], allowed types are: [${m}]`);continue}if(cl(y))o[l].set(h);else if(b==="object"){if(y==null){It.warn(`unable to set [${p}] in ${f==null?void 0:f.name} - property is unknown`);continue}Um(y,h,{...i,path:p,matcherPath:c})}else o[l]=h}catch(m){It.warn(`unable to set [${p}] in [${f==null?void 0:f.name}]; nested error is: ${m.message}`)}}return t}function wC(t){return t==null?null:fet(t)||ag(t)?"primitive":Je(t)?"array":Gn(t)?Ls(t)?"object":Ek:Gd(t)?"function":"primitive"}function bU(t,e,i){return Ok(t,e,t,i)}function Ok(t,e,i,n,s=[],a={}){if(Je(t)){V4(t,e,i,s,a);let o=0;for(const r of t)Ok(r,e,i,n,[...s,`${o}`],a),o++}else if(Ls(t)){V4(t,e,i,s,a);for(const o of Object.keys(t)){if(n!=null&&n.has(o))continue;const r=t[o];Ok(r,e,i,n,[...s,o],a)}}return a}function V4(t,e,i,n,s){if(Je(t))for(let a=0;a<t.length;a++)t[a]=U4(t[a],e,i,[...n,`${a}`],s);else for(const[a,o]of Object.entries(t))t[a]=U4(o,e,i,[...n,a],s)}function U4(t,e,i,n,s){const{operation:a,values:o}=AN(t);return a?(s[n.join(".")]=t,SU(a,o,e,i,n,new Set)):t}var vU=(t=>(t.Ref="$ref",t.Path="$path",t.If="$if",t.Eq="$eq",t.Not="$not",t.Or="$or",t.And="$and",t.Mul="$mul",t.Round="$round",t.Rem="$rem",t.Mix="$mix",t.ForegroundBackgroundMix="$foregroundBackgroundMix",t.ForegroundBackgroundAccentMix="$foregroundBackgroundAccentMix",t))(vU||{}),ist=new Set(Object.values(vU));function AN(t){if(!Ls(t))return{};const[e,...i]=Object.keys(t);return i.length!==0||!ist.has(e)?{}:{operation:e,values:t[e]}}function SU(t,e,i,n,s,a){return Je(e)&&(e=e.map(o=>{const{operation:r,values:l}=AN(o);return r?SU(r,l,i,n,s,a):o})),MU[t](e,i,n,s,a)}function xv(t){return No(t)&&t>=0&&t<=1}var MU={$ref:(t,e,i,n,s)=>{if(xa(t)&&t in e){const{operation:a,values:o}=AN(e[t]);if(a!=="$ref")return e[t];if(s!=null&&s.has(o)){It.warnOnce(`\`$ref\` json operation failed on [${String(t)}] at [${n.join(".")}], circular reference detected with [${[...s].join(", ")}].`);return}return s==null||s.add(o),MU.$ref(o,e,i,n,s)}It.warnOnce(`\`$ref\` json operation failed on [${String(t)}] at [${n.join(".")}], expecting one of [${Object.keys(e).join(", ")}].`)},$path:(t,e,i,n)=>{if(!xa(t)){It.warnOnce(`\`$path\` json operation failed on [${String(t)}] at [${n.join(".")}], expecting a string.`);return}const s=t.split("/"),a=[...n];for(const r of s)r===".."?(a.pop(),a.pop()):r==="."?a.pop():a.push(r);let o=i;for(const r of a){if(!(r in o)){It.warnOnce(`\`$path\` json operation failed on [${String(t)}] at [${n.join(".")}], could not find path in object.`);return}o=o[r]}return o},$if:([t,e,i])=>t?e:i,$eq:([t,e])=>t===e,$not:([t,e])=>t!==e,$or:([t,e])=>t||e,$and:([t,e])=>t&&e,$mul:([t,e],i,n,s)=>{if(typeof t=="number"&&typeof e=="number")return t*e;It.warnOnce(`\`$mul\` json operation failed on [${String(t)}] and [${String(e)}] at [${s.join(".")}], expecting two numbers.`)},$round:([t],e,i,n)=>{if(typeof t=="number")return Math.round(t);It.warnOnce(`\`$round\` json operation failed on [${String(t)}] at [${n.join(".")}], expecting a number.`)},$rem:([t],e)=>{if(typeof t=="number")return Math.round(t*e.fontSize)},$mix:([t,e,i],n,s,a)=>{if(typeof t=="string"&&typeof e=="string"&&xv(i))try{return xi.mix(xi.fromString(t),xi.fromString(e),i).toString()}catch{}It.warnOnce(`\`$mix\` json operation failed on [${String(t)}, ${String(e)}, ${String(i)}] at [${a.join(".")}], expecting two colors and a number between 0 and 1.`)},$foregroundBackgroundMix:([t],e,i,n)=>{if(xv(t))return xi.mix(xi.fromString(e.foregroundColor),xi.fromString(e.backgroundColor),t).toString();It.warnOnce(`\`$foregroundBackgroundMix\` json operation failed on [${String(t)}}}] at [${n.join(".")}], expecting a number between 0 and 1.`)},$foregroundBackgroundAccentMix:([t,e],i,n,s)=>{if(xv(t)&&xv(e))return xi.mix(xi.mix(xi.fromString(i.foregroundColor),xi.fromString(i.backgroundColor),t),xi.fromString(i.accentColor),e).toString();It.warnOnce(`\`$foregroundBackgroundAccentMix\` json operation failed on [${String(t)}, ${String(e)}}] at [${s.join(".")}], expecting two numbers between 0 and 1.`)}},nst=class{constructor(){this.available=!0,this.acquireQueue=[]}acquire(t){return new Promise(e=>{this.acquireQueue.push([t,e]),this.available&&this.dispatchNext().catch(i=>It.errorOnce(i))})}async acquireImmediately(t){return this.available?(await this.acquire(t),!0):!1}async waitForClearAcquireQueue(){return this.acquire(()=>Promise.resolve(void 0))}async dispatchNext(){this.available=!1;let[t,e]=this.acquireQueue.shift()??[];for(;t;){try{await t(),e==null||e()}catch(i){It.error("mutex callback error",i),e==null||e()}[t,e]=this.acquireQueue.shift()??[]}this.available=!0}},AU=class{constructor(){this.eventListeners=new Map}addEventListener(t,e){if(typeof e!="function")throw new Error("AG Charts - listener must be a Function");const i=this.eventListeners.get(t);i?i.add(e):this.eventListeners.set(t,new Set([e]))}removeEventListener(t,e){var i;(i=this.eventListeners.get(t))==null||i.delete(e),this.eventListeners.size===0&&this.eventListeners.delete(t)}hasEventListener(t){return this.eventListeners.has(t)}clearEventListeners(){this.eventListeners.clear()}fireEvent(t){var e;(e=this.eventListeners.get(t.type))==null||e.forEach(i=>i(t))}},ah=class extends Zt{constructor(e=0,i=e,n=e,s=i){super(),this.top=e,this.right=i,this.bottom=n,this.left=s}};N([w(Tt)],ah.prototype,"top",2);N([w(Tt)],ah.prototype,"right",2);N([w(Tt)],ah.prototype,"bottom",2);N([w(Tt)],ah.prototype,"left",2);function sst(t){return DU((e,i)=>Qe().requestAnimationFrame(e),t)}function ast(t){return DU((e,i=0)=>{i===0?queueMicrotask(e):setTimeout(e,i)},t)}function DU(t,e){let i=0,n=!1,s,a;const o=()=>n,r=()=>{n=!1,a==null||a(),a=void 0,s=void 0,i>0&&t(l)},l=()=>{const c=i;i=0,n=!0;const h=e({count:c});if(!h){r();return}h.then(r,r)};return{schedule(c){i===0&&!o()&&t(l,c),i++},async await(){if(o())for(s==null&&(s=new Promise(c=>{a=c}));o();)await s}}}function Xh(t){return t==="true"}function ost(t){return Number(t)}function er(t){return t}var RC={role:er,"aria-checked":Xh,"aria-controls":er,"aria-describedby":er,"aria-disabled":Xh,"aria-expanded":Xh,"aria-haspopup":Xh,"aria-hidden":Xh,"aria-label":er,"aria-labelledby":er,"aria-live":er,"aria-orientation":er,"aria-selected":Xh,"data-preventdefault":Xh,class:er,id:er,tabindex:ost,title:er,placeholder:er};function _e(t,e,i){i==null||i===""||i===""?t==null||t.removeAttribute(e):t==null||t.setAttribute(e,i.toString())}function Pd(t,e){if(e!=null)for(const[i,n]of Object.entries(e))i!=="class"&&_e(t,i,n)}function gA(t,e,i){var s;if(!(t instanceof HTMLElement))return;const n=t.getAttribute(e);return n===null?i:((s=RC[e])==null?void 0:s.call(RC,n))??void 0}function dr(t,e,i){t!=null&&(i==null?t.style.removeProperty(e):t.style.setProperty(e,i.toString()))}function rst(t,e){for(const[i,n]of Object.entries(e))dr(t,i,n)}var DN=["blur","change","contextmenu","focus","keydown","keyup","click","dblclick","mouseenter","mousemove","mouseleave","wheel","touchstart","touchmove","touchend","touchcancel"];function hf(t,e,i){const{offsetX:n,offsetY:s,clientX:a,clientY:o}=e,{currentX:r,currentY:l}=pc.calcCurrentXY(i,e);return{type:t,offsetX:n,offsetY:s,clientX:a,clientY:o,currentX:r,currentY:l,sourceEvent:e}}function bv(t,e,i){return{type:t,sourceEvent:e}}var lst={blur:t=>({type:"blur",sourceEvent:t}),change:t=>({type:"change",sourceEvent:t}),contextmenu:(t,e)=>hf("contextmenu",t,e),focus:t=>({type:"focus",sourceEvent:t}),keydown:t=>({type:"keydown",sourceEvent:t}),keyup:t=>({type:"keyup",sourceEvent:t}),click:(t,e)=>hf("click",t,e),dblclick:(t,e)=>hf("dblclick",t,e),mouseenter:(t,e)=>hf("mouseenter",t,e),mousemove:(t,e)=>hf("mousemove",t,e),mouseleave:(t,e)=>hf("mouseleave",t,e),wheel:t=>{const{offsetX:e,offsetY:i,clientX:n,clientY:s}=t,a=t.deltaMode===0?.01:1,o=t.deltaX*a,r=t.deltaY*a;return{type:"wheel",offsetX:e,offsetY:i,clientX:n,clientY:s,deltaX:o,deltaY:r,sourceEvent:t}},touchstart:(t,e)=>bv("touchstart",t),touchmove:(t,e)=>bv("touchmove",t),touchend:(t,e)=>bv("touchend",t),touchcancel:(t,e)=>bv("touchcancel",t)},pc=class{static alloc(t,e,i){return lst[t](e,i)}static isHTMLEvent(t){return DN.includes(t)}static calcCurrentXY(t,e){const i=t.getBoundingClientRect();return{currentX:e.clientX-i.x,currentY:e.clientY-i.y}}},cst=class{constructor(){this.widgetListeners={},this.sourceListeners={}}initSourceHandler(t,e){this.sourceListeners??(this.sourceListeners={}),this.sourceListeners[t]=e}lazyGetWidgetListeners(t,e){var i;if(!(t in(this.sourceListeners??{}))){const n=a=>{var r;const o=pc.alloc(t,a,e.getElement());for(const l of((r=this.widgetListeners)==null?void 0:r[t])??[])l(o,e)},s={};t.startsWith("touch")&&(s.passive=!1),this.initSourceHandler(t,n),e.getElement().addEventListener(t,n,s)}return this.widgetListeners??(this.widgetListeners={}),(i=this.widgetListeners)[t]??(i[t]=[]),this.widgetListeners[t]}add(t,e,i){this.lazyGetWidgetListeners(t,e).push(i)}remove(t,e,i){const n=this.lazyGetWidgetListeners(t,e),s=n.indexOf(i);s>-1&&n.splice(s,1)}destroy(t){for(const[e,i]of Object.entries(this.sourceListeners??{})){const n=e;t.getElement().removeEventListener(n,i)}this.widgetListeners=void 0,this.sourceListeners=void 0}},ust=class{constructor(t,e,i,n){this.glob=t,this.self=e,this.window=Qe(),this.mousegeneral=l=>{l.stopPropagation(),l.stopImmediatePropagation()},this.mousemove=l=>{var c;l.stopPropagation(),l.stopImmediatePropagation(),(c=this.glob.globalMouseDragCallbacks)==null||c.mousemove(l)},this.mouseup=l=>{var c;l.button===0&&(l.stopPropagation(),l.stopImmediatePropagation(),(c=this.glob.globalMouseDragCallbacks)==null||c.mouseup(l),this.destroy())};const{window:s,mousegeneral:a,mousemove:o,mouseup:r}=this;s.addEventListener("mousedown",a,{capture:!0}),s.addEventListener("mouseenter",a,{capture:!0}),s.addEventListener("mouseleave",a,{capture:!0}),s.addEventListener("mouseout",a,{capture:!0}),s.addEventListener("mouseover",a,{capture:!0}),s.addEventListener("mousemove",o,{capture:!0}),s.addEventListener("mouseup",r,{capture:!0}),e.mouseDragger=this,t.globalMouseDragCallbacks=i,t.globalMouseDragCallbacks.mousedown(n)}destroy(){const{window:t,mousegeneral:e,mousemove:i,mouseup:n}=this;t.removeEventListener("mousedown",e,{capture:!0}),t.removeEventListener("mouseenter",e,{capture:!0}),t.removeEventListener("mouseleave",e,{capture:!0}),t.removeEventListener("mouseout",e,{capture:!0}),t.removeEventListener("mouseover",e,{capture:!0}),t.removeEventListener("mousemove",i,{capture:!0}),t.removeEventListener("mouseup",n,{capture:!0}),this.glob.globalMouseDragCallbacks=void 0,this.self.mouseDragger=void 0}};function hst(t,e,i,n){if(t.globalMouseDragCallbacks==null)return new ust(t,e,i,n)}var dst=500,pst=100;function fst(t,e){const i=t.clientX-e.clientX,n=t.clientY-e.clientY;return i*i+n*n}var wk=!1,gst=class{constructor(t,e,i,n,s){this.glob=t,this.self=e,this.initialTouch=n,this.target=s,this.longTapInterrupted=!1,this.longtap=()=>{const{target:r,initialTouch:l}=this;if(!this.longTapInterrupted){r.dispatchEvent(new TouchEvent("touchcancel",{touches:[l],bubbles:!0})),wk=!0;const c=m=>{m.preventDefault()},h=m=>{wk=!1,m.preventDefault(),r.removeEventListener("touchmove",c),r.removeEventListener("touchend",h),r.removeEventListener("touchcancel",h)};r.addEventListener("touchmove",c,{passive:!1}),r.addEventListener("touchend",h,{passive:!1}),r.addEventListener("touchcancel",h,{passive:!1});const{clientX:p,clientY:f}=l,y=new PointerEvent("contextmenu",{bubbles:!0,cancelable:!0,view:Qe(),clientX:p,clientY:f,pointerType:"touch"});r.dispatchEvent(y)}},this.touchmove=r=>{var f;const{glob:l,self:c,initialTouch:h}=this,p=this.findInitialFinger(r.targetTouches);p!=null&&(this.longTapInterrupted=this.longTapInterrupted||fst(h,p)>pst,c.dragTouchEnabled&&p!=null&&((f=l.globalTouchDragCallbacks)==null||f.touchmove(r,p)))},this.touchend=r=>{var c;this.longTapInterrupted=!0;const l=this.findInitialFinger(r.changedTouches,r.touches);l!=null&&((c=this.glob.globalTouchDragCallbacks)==null||c.touchend(r,l)),this.destroy()},this.longtapTimer=setTimeout(this.longtap,dst);const{touchmove:a,touchend:o}=this;s.addEventListener("touchmove",a,{passive:!1}),s.addEventListener("touchstart",o,{passive:!1}),s.addEventListener("touchend",o,{passive:!1}),s.addEventListener("touchcancel",o,{passive:!1}),e.touchDragger=this,t.globalTouchDragCallbacks=i}destroy(){const{longtapTimer:t,touchmove:e,touchend:i}=this;clearTimeout(t),this.target.removeEventListener("touchstart",i),this.target.removeEventListener("touchmove",e),this.target.removeEventListener("touchend",i),this.target.removeEventListener("touchcancel",i),this.glob.globalTouchDragCallbacks=void 0,this.self.touchDragger=void 0}findInitialFinger(...t){const e=t.map(i=>Array.from(i)).flat();return Array.from(e).find(i=>i.identifier===this.initialTouch.identifier)}};function yst(t,e,i,n,s){if(!(t.globalTouchDragCallbacks!=null||wk))return new gst(t,e,i,n,s)}function PC(t,e,i,n){const{currentX:s,currentY:a}=pc.calcCurrentXY(t.getElement(),n),o=n.pageX-i.pageX,r=n.pageY-i.pageY;return{type:e,device:"mouse",offsetX:i.offsetX+o,offsetY:i.offsetY+r,clientX:n.clientX,clientY:n.clientY,currentX:s,currentY:a,originDeltaX:o,originDeltaY:r,sourceEvent:n}}function mst(t,{pageX:e,pageY:i}){const{x:n,y:s}=t.getElement().getBoundingClientRect();return{offsetX:e-n,offsetY:i-s}}function BC(t,e,i,n,s){const{currentX:a,currentY:o}=pc.calcCurrentXY(t.getElement(),s),r=s.pageX-i.pageX,l=s.pageY-i.pageY;return{type:e,device:"touch",offsetX:i.offsetX+r,offsetY:i.offsetY+l,clientX:s.clientX,clientY:s.clientY,currentX:a,currentY:o,originDeltaX:r,originDeltaY:l,sourceEvent:n}}var H4={},W4=class{constructor(t){this.dispatchCallback=t,this.dragTouchEnabled=!0}destroy(){var t,e,i;(t=this.dragTriggerRemover)==null||t.call(this),this.dragTriggerRemover=void 0,this.dragStartListeners=void 0,this.dragMoveListeners=void 0,this.dragEndListeners=void 0,(e=this.mouseDragger)==null||e.destroy(),(i=this.touchDragger)==null||i.destroy()}add(t,e,i){switch(t){case"drag-start":{this.dragStartListeners??(this.dragStartListeners=[]),this.dragStartListeners.push(i),this.registerDragTrigger(e);break}case"drag-move":{this.dragMoveListeners??(this.dragMoveListeners=[]),this.dragMoveListeners.push(i),this.registerDragTrigger(e);break}case"drag-end":{this.dragEndListeners??(this.dragEndListeners=[]),this.dragEndListeners.push(i),this.registerDragTrigger(e);break}}}remove(t,e,i){switch(t){case"drag-start":return this.removeHandler(this.dragStartListeners,i);case"drag-move":return this.removeHandler(this.dragMoveListeners,i);case"drag-end":return this.removeHandler(this.dragEndListeners,i)}}removeHandler(t,e){const i=t==null?void 0:t.indexOf(e);i!==void 0&&(t==null||t.splice(i,1))}registerDragTrigger(t){if(this.dragTriggerRemover==null){const e=n=>this.triggerMouseDrag(t,n),i=n=>this.triggerTouchDrag(t,n);t.getElement().addEventListener("mousedown",e),t.getElement().addEventListener("touchstart",i,{passive:!1}),this.dragTriggerRemover=()=>{t.getElement().removeEventListener("mousedown",e),t.getElement().removeEventListener("touchstart",i)}}}triggerMouseDrag(t,e){e.button===0&&this.startMouseDrag(t,e)}startMouseDrag(t,e){const i={pageX:NaN,pageY:NaN,offsetX:NaN,offsetY:NaN};Mk(["pageX","pageY","offsetX","offsetY"],i,e);const n={mousedown:s=>{const a=PC(t,"drag-start",i,s);this.dispatch("drag-start",t,a)},mousemove:s=>{const a=PC(t,"drag-move",i,s);this.dispatch("drag-move",t,a)},mouseup:s=>{const a=PC(t,"drag-end",i,s);this.dispatch("drag-end",t,a),this.endDrag(t,a)}};this.mouseDragger=hst(H4,this,n,e)}endDrag(t,{sourceEvent:e,clientX:i,clientY:n}){var o;const s=t.getElement(),a=s.getBoundingClientRect();YM.containsPoint(a,i,n)||(s.dispatchEvent(new MouseEvent("mouseleave",e)),(o=e.target)==null||o.dispatchEvent(new MouseEvent("mouseenter",e)))}triggerTouchDrag(t,e){const i=e.targetTouches.item(0);e.targetTouches.length===1&&i!=null&&this.startOneFingerTouch(t,e,i)}startOneFingerTouch(t,e,i){const n={pageX:NaN,pageY:NaN,...mst(t,i)};Mk(["pageX","pageY"],n,i);const s={touchmove:(r,l)=>{const c=BC(t,"drag-move",n,r,l);this.dispatch("drag-move",t,c)},touchend:(r,l)=>{const c=BC(t,"drag-end",n,r,l);this.dispatch("drag-end",t,c)}},a=t.getElement();this.touchDragger=yst(H4,this,s,i,a);const o=BC(t,"drag-start",n,e,i);this.dispatch("drag-start",t,o)}dispatch(t,e,i){var n,s,a;switch(t){case"drag-start":(n=this.dragStartListeners)==null||n.forEach(o=>o(i,e));break;case"drag-move":(s=this.dragMoveListeners)==null||s.forEach(o=>o(i,e));break;case"drag-end":(a=this.dragEndListeners)==null||a.forEach(o=>o(i,e));break}this.dispatchCallback(t,i)}},xst=class{constructor(t){this.elem=t}setBounds(t){nM(this.elemContainer??this.elem,t)}getBounds(){return yU(this.elemContainer??this.elem)}static setElementContainer(t,e){const i=t.getBounds();nM(e,i),rst(t.elem,{width:"100%",height:"100%"}),t.elem.remove(),t.elemContainer=e,t.elemContainer.replaceChildren(t.elem)}},fl=class extends xst{constructor(t){super(t),this.elem=t,this.index=NaN,this.children=[]}getElement(){return this.elem}getBoundingClientRect(){return this.elem.getBoundingClientRect()}get clientWidth(){return this.elem.clientWidth}get clientHeight(){return this.elem.clientHeight}destroy(){var t,e,i,n;(t=this.parent)==null||t.removeChild(this),this.children.forEach(s=>{s.parent=void 0,s.destroy()}),this.children.length=0,this.destructor(),this.elem.remove(),(e=this.elemContainer)==null||e.remove(),(i=this.internalListener)==null||i.destroy(),(n=this.htmlListener)==null||n.destroy(this)}setHidden(t){dr(this.elem,"display",t?"none":void 0)}isHidden(){var t,e;return((e=(t=Qe())==null?void 0:t.getComputedStyle)==null?void 0:e.call(t,this.elem).display)==="none"}setCursor(t){dr(this.elem,"cursor",t)}setTextContent(t){this.elem.textContent=t??null}setAriaDescribedBy(t){_e(this.elem,"aria-describedby",t)}setAriaHidden(t){_e(this.elem,"aria-hidden",t)}setAriaLabel(t){_e(this.elem,"aria-label",t)}setInnerHTML(t){this.elem.innerHTML=t}isDisabled(){return gA(this.elem,"aria-disabled",!1)}parseFloat(t){return t===""?0:parseFloat(t)}cssLeft(){return this.parseFloat(this.elem.style.left)}cssTop(){return this.parseFloat(this.elem.style.top)}cssWidth(){return this.parseFloat(this.elem.style.width)}cssHeight(){return this.parseFloat(this.elem.style.height)}focus(){this.elem.focus()}setPreventsDefault(t){_e(this.elem,"data-preventdefault",t)}setTabIndex(t){_e(this.elem,"tabindex",t)}addChild(t){this.addChildToDOM(t,this.getBefore(t)),this.children.push(t),t.index=this.children.length-1,t.parent=this,this.onChildAdded(t)}removeChild(t){const e=this.children.findIndex(i=>i===t);this.children.splice(e,1),this.removeChildFromDOM(t),this.onChildRemoved(t)}moveChild(t,e){t.domIndex!==e&&(t.domIndex=e,this.removeChildFromDOM(t),this.addChildToDOM(t,this.getBefore(t)))}addClass(...t){this.elem.classList.add(...t)}removeClass(...t){this.elem.classList.remove(...t)}toggleClass(t,e){this.elem.classList.toggle(t,e)}appendOrInsert(t,e){e?e.getElement().insertAdjacentElement("beforebegin",t):this.elem.appendChild(t)}addChildToDOM(t,e){this.appendOrInsert(t.getElement(),e)}removeChildFromDOM(t){this.elem.removeChild(t.getElement())}onChildAdded(t){}onChildRemoved(t){}getBefore({domIndex:t}){if(t!==void 0)return this.children.filter(e=>e.domIndex!==void 0&&e.domIndex>t).reduce((e,i)=>!e||i.domIndex<e.domIndex?i:e,void 0)}addListener(t,e){return pc.isHTMLEvent(t)?(this.htmlListener??(this.htmlListener=new cst),this.htmlListener.add(t,this,e)):(this.internalListener??(this.internalListener=new W4(this.onDispatch.bind(this))),this.internalListener.add(t,this,e)),()=>this.removeListener(t,e)}removeListener(t,e){var i,n;pc.isHTMLEvent(t)?(i=this.htmlListener)==null||i.remove(t,this,e):this.htmlListener!=null&&((n=this.internalListener)==null||n.remove(t,this,e))}setDragTouchEnabled(t){this.internalListener??(this.internalListener=new W4(this.onDispatch.bind(this))),this.internalListener.dragTouchEnabled=t}onDispatch(t,e){if(!e.sourceEvent.bubbles)return;let{parent:i}=this;for(;i!=null;){const{internalListener:n}=i;if(n!=null){const s={...e,...pc.calcCurrentXY(i.getElement(),e)};n.dispatch(t,i,s)}i=i.parent}}static addWindowEvent(t,e){const i=n=>{n.persisted||e()};return Qe().addEventListener("pagehide",i),()=>Qe().removeEventListener("pagehide",i)}},IN=(t=>(t[t.Caption=0]="Caption",t[t.Legend=1]="Legend",t[t.ToolbarLeft=2]="ToolbarLeft",t[t.ToolbarBottom=3]="ToolbarBottom",t[t.Navigator=4]="Navigator",t[t.Overlay=5]="Overlay",t))(IN||{}),IU=class{constructor(){this.events=new GL,this.elements=new Map}addListener(t,e){return this.events.on(t,e)}registerElement(t,e){return this.elements.has(t)?this.elements.get(t).add(e):this.elements.set(t,new Set([e])),()=>{var i;return(i=this.elements.get(t))==null?void 0:i.delete(e)}}createContext(t,e){var n;const i=new bst(t,e);for(const s of Object.values(IN))typeof s=="number"&&((n=this.elements.get(s))==null||n.forEach(a=>a(i)));return i}emitLayoutComplete(t,e){const i="layout:complete",{width:n,height:s}=t;this.events.emit(i,{type:i,axes:e.axes??[],chart:{width:n,height:s},clipSeries:e.clipSeries??!1,series:e.series})}},bst=class{constructor(t,e){this.width=t,this.height=e,this.layoutBox=new Et(0,0,t,e)}},yA=class{constructor(){this.title=new He,this.subtitle=new He,this.footnote=new He}positionCaptions(t){const{title:e,subtitle:i,footnote:n}=this,s=t.layoutBox.height/10;if(e.enabled){const{spacing:a=i.enabled?He.SMALL_PADDING:He.LARGE_PADDING}=e;this.positionCaption("top",e,t.layoutBox,s),this.shrinkLayoutByCaption("top",e,t.layoutBox,a)}i.enabled&&(this.positionCaption("top",i,t.layoutBox,s),this.shrinkLayoutByCaption("top",i,t.layoutBox,i.spacing)),n.enabled&&(this.positionCaption("bottom",n,t.layoutBox,s),this.shrinkLayoutByCaption("bottom",n,t.layoutBox,n.spacing))}positionAbsoluteCaptions(t){const{title:e,subtitle:i,footnote:n}=this,{rect:s}=t.series;for(const a of[e,i,n])if(a.layoutStyle==="overlay"){if(a.textAlign==="left")a.node.x=s.x+a.padding;else if(a.textAlign==="right"){const o=a.node.getBBox();a.node.x=s.x+s.width-o.width-a.padding}}}computeX(t,e){return t==="left"?e.x:t==="right"?e.x+e.width:e.x+e.width/2}positionCaption(t,e,i,n){const s=Math.max(hi.getLineHeight(e.fontSize),n);e.node.x=this.computeX(e.textAlign,i)+e.padding,e.node.y=i.y+(t==="top"?0:i.height)+e.padding,e.node.textBaseline=t,e.computeTextWrap(i.width,s)}shrinkLayoutByCaption(t,e,i,n=0){if(e.layoutStyle==="block"){const s=e.node.getBBox();i.shrink(Math.ceil(t==="top"?s.y-i.y+s.height+n:i.y+i.height-s.y+n),t)}}};N([w(kt)],yA.prototype,"title",2);N([w(kt)],yA.prototype,"subtitle",2);N([w(kt)],yA.prototype,"footnote",2);var vst=["candlestick","hollow-candlestick","ohlc","line","step-line","hlc","high-low"],Sst=class{constructor(t){this.chartService=t,this.mementoOriginatorKey="chartType"}createMemento(){var e,i;let t=(i=(e=this.chartService.publicApi)==null?void 0:e.getOptions())==null?void 0:i.chartType;return t==null&&(t="candlestick"),t}guardMemento(t){return t==null||vst.includes(t)}restoreMemento(t,e,i){var s;if(i==null)return;const n={chartType:i};(s=this.chartService.publicApi)==null||s.updateDelta(n).catch(a=>It.error("error restoring state",a))}},TU=class{constructor(){this.destroyFns=[]}destroy(){this.destroyFns.forEach(t=>t()),this.destroyFns.length=0}setFns(t){this.destroy(),this.destroyFns=t}push(...t){this.destroyFns.push(...t)}},sM="11.1.0",Y4=Symbol("previous-memento-not-found"),Mst=class{constructor(t){this.history=[],this.historyIndex=-1,this.originators=new Map,this.clearState=new Map,this.maxHistoryLength=100,this.debug=We.create(!0,"history"),this.destroyFns=new TU,this.destroyFns.setFns([t.addListener("series-undo",this.undo.bind(this)),t.addListener("series-redo",this.redo.bind(this))])}destroy(){this.destroyFns.destroy()}addMementoOriginator(t){this.originators.set(t.mementoOriginatorKey,t),this.clearState.set(t.mementoOriginatorKey,t.createMemento()),this.debugEvent("History add originator:",t.mementoOriginatorKey)}clear(){this.debug("History clear:",Object.keys(this.originators)),this.history=[],this.historyIndex=-1;for(const[t,e]of this.originators.entries())this.clearState.set(t,e.createMemento())}record(t,...e){this.historyIndex<this.history.length-1&&(this.history=this.history.slice(0,this.historyIndex+1)),this.history.length>this.maxHistoryLength&&(this.history=this.history.slice(-this.maxHistoryLength));const i=new Map;for(const n of e){if(!this.originators.has(n.mementoOriginatorKey))throw new Error(`Originator [${n.mementoOriginatorKey}] has not been added to the HistoryManager.`);i.set(n.mementoOriginatorKey,n.createMemento())}this.history.push({label:t,mementos:i}),this.historyIndex=this.history.length-1,this.debugEvent(`History record: [${t}]`)}undo(){const t=this.history[this.historyIndex];if(t){for(const e of t.mementos.keys()){const i=this.findPreviousMemento(e);if(i===Y4)throw new Error(`Could not find previous memento for [${e}].`);this.restoreMemento(e,i)}this.historyIndex-=1,this.debugEvent(`History undo: [${t.label}]`)}}redo(){const t=this.history[this.historyIndex+1];if(t){for(const[e,i]of t.mementos.entries())this.restoreMemento(e,i);this.historyIndex+=1,this.debugEvent(`History redo: [${t.label}]`)}}findPreviousMemento(t){for(let e=this.historyIndex-1;e>=0;e--)if(this.history[e].mementos.has(t))return this.history[e].mementos.get(t);return this.clearState.has(t)?this.clearState.get(t):Y4}restoreMemento(t,e){var i;(i=this.originators.get(t))==null||i.restoreMemento(sM,sM,e)}debugEvent(...t){this.debug(...t,this.history.map((e,i)=>i===this.historyIndex?`** ${e.label} **`:e.label))}},CU=class Rk{constructor(e){this.version=e.split("-")[0]}save(...e){const i={version:this.version};for(const n of Object.values(e))i[n.mementoOriginatorKey]=this.encode(n,n.createMemento());return i}restore(e,...i){if(typeof e!="object"){It.warnOnce(`Could not restore data of type [${typeof e}], expecting an object, ignoring.`);return}if(e==null){It.warnOnce("Could not restore data of type [null], expecting an object, ignoring.");return}if(!("version"in e)||typeof e.version!="string"){It.warnOnce("Could not restore data, missing [version] string in object, ignoring.");return}for(const n of i){const s=this.decode(n,e[n.mementoOriginatorKey]),a=[];if(!n.guardMemento(s,a)){const o=a.length>0?`

${a.join(`

`)}

`:"";It.warnOnce(`Could not restore [${n.mementoOriginatorKey}] data, value was invalid, ignoring.${o}`,s);return}n.restoreMemento(this.version,e.version,s)}}encode(e,i){try{return JSON.parse(JSON.stringify(i,Rk.encodeTypes))}catch(n){throw new Error(`Failed to encode [${e.mementoOriginatorKey}] value [${n}].`,{cause:n})}}decode(e,i){if(i==null)return i;try{return JSON.parse(JSON.stringify(i),Rk.decodeTypes)}catch(n){throw new Error(`Failed to decode [${e.mementoOriginatorKey}] value [${n}].`,{cause:n})}}static encodeTypes(e,i){return ag(this[e])?{__type:"date",value:this[e].toISOString()}:i}static decodeTypes(e,i){return Gn(this[e])&&"__type"in this[e]&&this[e].__type==="date"?new Date(this[e].value):i}},Ast=class{constructor(){this.caretaker=new CU(sM),this.state=new Map}setState(t,e){Rd(this.state.get(t.mementoOriginatorKey),e)||this.setStateAndRestore(t,e)}setStateAndRestore(t,e){this.state.set(t.mementoOriginatorKey,e),this.restoreState(t)}restoreState(t){const{caretaker:e,state:i}=this;if(!i.has(t.mementoOriginatorKey))return;const n=i.get(t.mementoOriginatorKey);e.restore({version:e.version,[t.mementoOriginatorKey]:n},t)}},Dst=`.ag-charts-wrapper,.ag-charts-wrapper:after,.ag-charts-wrapper:before,.ag-charts-wrapper *,.ag-charts-wrapper *:after,.ag-charts-wrapper *:before{box-sizing:border-box}.ag-charts-wrapper{--align-items: center;--justify-content: center;position:relative;user-select:none;-webkit-user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.ag-charts-wrapper--safe-horizontal{--justify-content: flex-start}.ag-charts-wrapper--safe-vertical{--align-items: flex-start}.ag-charts-tab-guard{width:0%;height:0%;position:absolute;pointer-events:none}.ag-charts-canvas-center{width:100%;height:100%;position:absolute;touch-action:auto;pointer-events:auto;display:flex;align-items:var(--align-items);justify-content:var(--justify-content)}.ag-charts-canvas-container,.ag-charts-canvas{position:relative;user-select:none;-webkit-user-select:none}.ag-charts-canvas-container>*,.ag-charts-canvas>*{display:block;pointer-events:none}.ag-charts-series-area{outline:none;pointer-events:auto;position:absolute}.ag-charts-swapchain{outline:none;opacity:0;pointer-events:none;position:absolute;width:100%;height:100%}.ag-charts-swapchain:focus-visible{opacity:1}.ag-charts-canvas-proxy,.ag-charts-canvas-overlay{inset:0;pointer-events:none;position:absolute;user-select:none;-webkit-user-select:none}.ag-charts-canvas-overlay>*{position:absolute;pointer-events:auto}.ag-charts-theme-default,.ag-charts-theme-default-dark{--ag-charts-accent-color: #2196f3;--ag-charts-background-color: #fff;--ag-charts-border-color: #dddddd;--ag-charts-foreground-color: #464646;--ag-charts-font-family: Verdana, sans-serif;--ag-charts-font-size: 12px;--ag-charts-font-weight: 400;--ag-charts-padding: 20px;--ag-charts-shadow-color: #00000080;--ag-charts-subtle-text-color: #8c8c8c;--ag-charts-text-color: #464646;--ag-charts-chrome-background-color: #fafafa;--ag-charts-chrome-font-family: Verdana, sans-serif;--ag-charts-chrome-font-size: 12px;--ag-charts-chrome-font-weight: 400;--ag-charts-chrome-subtle-text-color: #8c8c8c;--ag-charts-chrome-text-color: #181d1f;--ag-charts-input-background-color: #fff;--ag-charts-input-text-color: #464646;--ag-charts-crosshair-label-background-color: #fff;--ag-charts-crosshair-label-text-color: #464646;--ag-charts-spacing: 4px;--ag-charts-border-radius: 4px;--ag-charts-shadow: 0 2px 8px 0 color-mix(in srgb, black 8%, transparent);--ag-charts-focus-shadow: 0 0 0 3px var(--ag-charts-accent-color);--ag-charts-focus-color: color-mix(in srgb, var(--ag-charts-background-color), var(--ag-charts-accent-color) 12%);--ag-charts-input-border-color: var(--ag-charts-border-color);--ag-charts-input-border-radius: var(--ag-charts-border-radius);--ag-charts-input-focus-border-color: var(--ag-charts-accent-color);--ag-charts-input-focus-text-color: var(--ag-charts-accent-color);--ag-charts-input-disabled-background-color: color-mix( in srgb, var(--ag-charts-chrome-background-color), var(--ag-charts-foreground-color) 6% );--ag-charts-input-disabled-border-color: var(--ag-charts-border-color);--ag-charts-input-disabled-text-color: color-mix( in srgb, var(--ag-charts-chrome-background-color), var(--ag-charts-input-text-color) 50% );--ag-charts-input-placeholder-text-color: color-mix( in srgb, var(--ag-charts-input-background-color), var(--ag-charts-input-text-color) 60% );--ag-charts-button-background-color: var(--ag-charts-background-color);--ag-charts-button-border-color: var(--ag-charts-border-color);--ag-charts-button-border-radius: var(--ag-charts-border-radius);--ag-charts-button-text-color: var(--ag-charts-text-color);--ag-charts-button-focus-background-color: color-mix( in srgb, var(--ag-charts-button-background-color), var(--ag-charts-accent-color) 12% );--ag-charts-button-focus-border-color: var(--ag-charts-accent-color);--ag-charts-button-focus-text-color: var(--ag-charts-accent-color);--ag-charts-button-disabled-background-color: color-mix( in srgb, var(--ag-charts-chrome-background-color), var(--ag-charts-foreground-color) 6% );--ag-charts-button-disabled-border-color: var(--ag-charts-border-color);--ag-charts-button-disabled-text-color: color-mix( in srgb, var(--ag-charts-chrome-background-color), var(--ag-charts-chrome-text-color) 50% );--ag-charts-checkbox-background-color: color-mix( in srgb, var(--ag-charts-background-color), var(--ag-charts-foreground-color) 35% );--ag-charts-checkbox-checked-background-color: var(--ag-charts-accent-color);--ag-charts-chrome-font-size-small: var(--ag-charts-chrome-font-size);--ag-charts-chrome-font-size-medium: calc(var(--ag-charts-chrome-font-size) * (13 / 12));--ag-charts-chrome-font-size-large: calc(var(--ag-charts-chrome-font-size) * (14 / 12));--ag-charts-border: solid 1px var(--ag-charts-border-color);--ag-charts-focus-border: solid 1px var(--ag-charts-accent-color);--ag-charts-focus-border-shadow: 0 0 0 3px color-mix(in srgb, transparent, var(--ag-charts-accent-color) 20%);--ag-charts-layer-menu: 6;--ag-charts-layer-ui-overlay: 5;--ag-charts-layer-tooltip: 4;--ag-charts-layer-toolbar: 3;--ag-charts-layer-crosshair: 2;--ag-charts-layer-annotations: 1}.ag-charts-theme-default-dark{--ag-charts-shadow: 0 2px 12px 0 color-mix(in srgb, black 33.3%, transparent);--ag-charts-focus-color: color-mix(in srgb, var(--ag-charts-background-color), var(--ag-charts-accent-color) 22%)}.ag-chart-canvas-wrapper .ag-charts-theme-default{--ag-charts-border-radius: var(--ag-border-radius, 4px);--ag-charts-border: var(--ag-borders-critical, solid 1px) var(--ag-charts-border-color);--ag-charts-focus-shadow: var(--ag-focus-shadow, 0 0 0 3px var(--ag-charts-accent-color));--ag-charts-focus-border-shadow: var( --ag-focus-shadow, 0 0 0 3px color-mix(in srgb, transparent, var(--ag-charts-accent-color) 20%) )}.ag-charts-icon{display:block;width:20px;height:20px;speak:none;speak:never;mask:var(--icon) center / contain no-repeat;background-color:currentColor;transition:background-color .25s ease-in-out}.ag-charts-icon-align-center{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNNyAxMGg2djFIN3pNNCA3aDEydjFINHptMSA2aDEwdjFINXoiLz48L3N2Zz4=)}.ag-charts-icon-align-left{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNNCAxMGg2djFINHptMC0zaDEydjFINHptMCA2aDEwdjFINHoiLz48L3N2Zz4=)}.ag-charts-icon-align-right{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMTAgMTBoNnYxaC02ek00IDdoMTJ2MUg0em0yIDZoMTB2MUg2eiIvPjwvc3ZnPg==)}.ag-charts-icon-arrow-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTE1LjI5MyA0LjVIMTIuNXYtMUgxN3Y0aC0xVjUuMjA3bC05LjY0NiA5LjY0Ny0uNzA4LS43MDh6IiBmaWxsPSIjMDAwIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDE2YTIuNSAyLjUgMCAxIDEtNSAwIDIuNSAyLjUgMCAwIDEgNSAwbS0yLjUgMS41YTEuNSAxLjUgMCAxIDAgMC0zIDEuNSAxLjUgMCAwIDAgMCAzIiBmaWxsPSIjMDAwIi8+PC9zdmc+)}.ag-charts-icon-arrow-down-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02IDhMMS41IDhMMTAgMThMMTguNSA4TDE0IDhMMTQgM0w2IDNMNiA4Wk03IDRMNyA5SDMuNjYyNDRMMTAgMTYuNDU2TDE2LjMzNzYgOUwxMyA5TDEzIDRMNyA0WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==)}.ag-charts-icon-arrow-up-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNCAxMkgxOC41TDEwIDJMMS41IDEySDZMNi4wMDAwMiAxN0gxNFYxMlpNMTMgMTZWMTFIMTYuMzM3NkwxMCAzLjU0NDA1TDMuNjYyNDQgMTFIN0w3LjAwMDAyIDE2SDEzWiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==)}.ag-charts-icon-callout-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMyA0LjVBMS41IDEuNSAwIDAgMSA0LjUgM2gxMUExLjUgMS41IDAgMCAxIDE3IDQuNXY4YTEuNSAxLjUgMCAwIDEtMS41IDEuNWgtNC41MTRhMjYgMjYgMCAwIDAtMi4wMTcgMS41NGwtLjMxNC4yNmMtLjU1LjQ1Ny0xLjExNS45MjYtMS43NiAxLjQtLjY2OS40OTEtMS41NjItLjAxMi0xLjU2Mi0uOFYxNEg0LjVBMS41IDEuNSAwIDAgMSAzIDEyLjV6TTQuNSA0YS41LjUgMCAwIDAtLjUuNXY4YS41LjUgMCAwIDAgLjUuNWgxLjgzM3YzLjM3MmEzNiAzNiAwIDAgMCAxLjY3OC0xLjMzOGwuMzItLjI2NWEyNiAyNiAwIDAgMSAyLjIyNS0xLjY4NWwuMTI2LS4wODRIMTUuNWEuNS41IDAgMCAwIC41LS41di04YS41LjUgMCAwIDAtLjUtLjV6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-candlestick-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNyAxdjNoMnYxMkg3djNINnYtM0g0VjRoMlYxek01IDVoM3YxMEg1ek0xMSAxNFY2aDJWMy4yNWgxVjZoMnY4aC0ydjIuNzVoLTFWMTR6bTEtN2gzdjZoLTN6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-close{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJtNSA1IDEwIDEwTTUgMTUgMTUgNSIgc3Ryb2tlPSIjMDAwIi8+PC9zdmc+)}.ag-charts-icon-comment-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNy41MTMgMy45OTVhNi41IDYuNSAwIDAgMSA2LjA5OCAxMS40MWMtLjU4OC4zOTMtMS4yMTcuNTM2LTEuODI5LjU4NWExMyAxMyAwIDAgMS0xLjI3LjAxN0EyNyAyNyAwIDAgMCAxMCAxNkg0LjVhLjUuNSAwIDAgMS0uNS0uNVYxMHEwLS4yNDctLjAwNy0uNTEzYy0uMDA4LS40MTYtLjAxNi0uODU3LjAxNy0xLjI2OS4wNS0uNjEyLjE5Mi0xLjI0LjU4NS0xLjgzYTYuNSA2LjUgMCAwIDEgMi45MTgtMi4zOTNtMy41Ni42MWE1LjUgNS41IDAgMCAwLTUuNjQ2IDIuMzRjLS4yNjYuMzk3LS4zNzkuODQyLS40MiAxLjM1NC0uMDMuMzYtLjAyMi43MTgtLjAxNSAxLjEwOFE1IDkuNjg5IDUgMTB2NWg1cS4zMTEuMDAxLjU5My4wMDhjLjM5LjAwNy43NDcuMDE1IDEuMTA4LS4wMTUuNTEyLS4wNDEuOTU3LS4xNTQgMS4zNTUtLjQyYTUuNSA1LjUgMCAwIDAtMS45ODMtOS45NjciIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-crosshair-add-line{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTEwIDUuNWEuNS41IDAgMCAxIC41LjV2My41aDMuODc1YS41LjUgMCAwIDEgMCAxSDEwLjV2NC4yNWEuNS41IDAgMSAxLTEgMFYxMC41SDUuNjI1YS41LjUgMCAxIDEgMC0xSDkuNVY2YS41LjUgMCAwIDEgLjUtLjUiLz48L3N2Zz4=)}.ag-charts-icon-date-range-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMiAyaDF2MTZIMnptMTUgMGgxdjE2aC0xeiIgZmlsbD0iIzE4MUQxRiIvPjxwYXRoIGQ9Ik0xMy4xNTcgMTFINXYtMWg3Ljc5M0wxMSA4LjIwN2wuNzA3LS43MDcgMy4xODIgMy4xODItMy4xODIgMy4xODItLjcwNy0uNzA3eiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-date-price-range-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMyAySDJ2MTZoMXptMy41MDcgNC44OUw4LjUgNC44OTVWMTBINXYxaDMuNXY3aDF2LTdoNS4wODhsLTEuOTU3IDEuOTU3LjcwNy43MDcgMy4xODItMy4xODJMMTMuMzM4IDcuM2wtLjcwNy43MDdMMTQuNjI0IDEwSDkuNVY0LjkzMmwxLjk1NyAxLjk1Ny43MDctLjcwN0w4Ljk4MiAzIDUuOCA2LjE4MnoiIGZpbGw9IiMxODFEMUYiLz48L3N2Zz4=)}.ag-charts-icon-delete{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZD0iTTguNDk2IDguOTk2QS41LjUgMCAwIDEgOSA5LjQ5MnY0YS41LjUgMCAxIDEtMSAuMDA4di00YS41LjUgMCAwIDEgLjQ5Ni0uNTA0TTEyIDkuNWEuNS41IDAgMCAwLTEgMHY0YS41LjUgMCAwIDAgMSAweiIvPjxwYXRoIGZpbGw9IiMxMzE3MjIiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTYgNVYzLjVBMi41IDIuNSAwIDAgMSA4LjUgMWgzQTIuNSAyLjUgMCAwIDEgMTQgMy41VjVoMi44MzNhLjUuNSAwIDAgMSAwIDFIMTV2MTAuMjVjMCAuNDE1LS4wNjYuODYzLS4zIDEuMjIxLS4yNTcuMzk0LS42NzIuNjEyLTEuMi42MTJoLTdjLS41MjggMC0uOTQzLS4yMTgtMS4yLS42MTItLjIzNC0uMzU4LS4zLS44MDYtLjMtMS4yMjFWNkgzLjMzM2EuNS41IDAgMCAxIDAtMXptMS0xLjVBMS41IDEuNSAwIDAgMSA4LjUgMmgzQTEuNSAxLjUgMCAwIDEgMTMgMy41VjVIN3pNNiAxNi4yNVY2aDh2MTAuMjVjMCAuMzM1LS4wNTkuNTU0LS4xMzguNjc1LS4wNTUuMDg1LS4xNC4xNTgtLjM2Mi4xNThoLTdjLS4yMjIgMC0uMzA3LS4wNzMtLjM2Mi0uMTU4LS4wOC0uMTIxLS4xMzgtLjM0LS4xMzgtLjY3NSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-disjoint-channel,.ag-charts-icon-disjoint-channel-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTkuMDI4IDE3LjQ2YTIuMjUgMi4yNSAwIDAgMC00LjA5Mi0xLjg1bC05LjUxMS0yLjM3OGEyLjI1IDIuMjUgMCAxIDAtLjIyNS45NzRsOS40NzUgMi4zNjlhMi4yNTEgMi4yNTEgMCAwIDAgNC4zNTMuODg2bS0xLjY2Mi0xLjk2NWExLjI1IDEuMjUgMCAxIDEtLjg4NSAyLjMzOCAxLjI1IDEuMjUgMCAwIDEgLjg4NS0yLjMzOE00LjM0MyAxMy42NjlhMS4yNSAxLjI1IDAgMSAwLTIuMzM4LS44ODUgMS4yNSAxLjI1IDAgMCAwIDIuMzM4Ljg4NU0zLjk3IDguNzY5YTIuMjUgMi4yNSAwIDAgMCAxLjQ1NS0yLjExbDkuNTExLTIuMzc4YTIuMjUgMi4yNSAwIDEgMC0uMjYtLjk2NUw1LjIgNS42ODVhMi4yNSAyLjI1IDAgMSAwLTEuMjMgMy4wODRtLjM3My0yLjU0N2ExLjI1IDEuMjUgMCAxIDEtMi4zMzguODg1IDEuMjUgMS4yNSAwIDAgMSAyLjMzOC0uODg1bTEzLjc1LTMuNDM4YTEuMjUgMS4yNSAwIDEgMS0yLjMzOC44ODUgMS4yNSAxLjI1IDAgMCAxIDIuMzM4LS44ODUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-drag-handle{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48Y2lyY2xlIGN4PSI1Ljc1IiBjeT0iNy43NSIgcj0iLjc1IiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii41Ii8+PGNpcmNsZSBjeD0iOS43NSIgY3k9IjcuNzUiIHI9Ii43NSIgZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuNSIvPjxjaXJjbGUgY3g9IjEzLjc1IiBjeT0iNy43NSIgcj0iLjc1IiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii41Ii8+PGNpcmNsZSBjeD0iMTMuNzUiIGN5PSIxMS43NSIgcj0iLjc1IiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii41Ii8+PGNpcmNsZSBjeD0iOS43NSIgY3k9IjExLjc1IiByPSIuNzUiIGZpbGw9IiMwMDAiIGZpbGwtb3BhY2l0eT0iLjUiLz48Y2lyY2xlIGN4PSI1Ljc1IiBjeT0iMTEuNzUiIHI9Ii43NSIgZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuNSIvPjwvc3ZnPg==)}.ag-charts-icon-fibonacci-retracement-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMiA1aDEydjFIMnoiLz48Y2lyY2xlIGN4PSIxNS43NSIgY3k9IjUuNSIgcj0iMS43NSIgc3Ryb2tlPSIjMDAwIi8+PGNpcmNsZSBjeD0iNC4yNSIgY3k9IjE0LjUiIHI9IjEuNzUiIHN0cm9rZT0iIzAwMCIvPjxwYXRoIGZpbGw9IiMwMDAiIGQ9Ik0xOCAxNUg2di0xaDEyem0wLTQuNUgydi0xaDE2eiIvPjwvc3ZnPg==)}.ag-charts-icon-fibonacci-retracement-trend-based-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJtNC45OTYgMTIuNjc0IDMuMjkxLTUuNzQzLjg2OC40OTctMy4yOTEgNS43NDN6Ii8+PGNpcmNsZSBjeD0iOS43NSIgY3k9IjUuNSIgcj0iMS43NSIgc3Ryb2tlPSIjMDAwIi8+PGNpcmNsZSBjeD0iNC4zNTEiIGN5PSIxNC41IiByPSIxLjc1IiBzdHJva2U9IiMwMDAiLz48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMTggNmgtN1Y1aDd6bTAgNC41aC03di0xaDd6bTAgNC41SDZ2LTFoMTJ6Ii8+PC9zdmc+)}.ag-charts-icon-fill-color{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtOC4wNzEgNC4wNi0uOTI0LS45MjQuNzA3LS43MDcgNy4yODggNy4yODgtNC45NSA0Ljk1YTMuNSAzLjUgMCAwIDEtNC45NSAwbC0xLjQxNC0xLjQxNGEzLjUgMy41IDAgMCAxIDAtNC45NXptLjcwNy43MDhMNC41MzYgOS4wMWEyLjUgMi41IDAgMCAwIDAgMy41MzZMNS45NSAxMy45NmEyLjUgMi41IDAgMCAwIDMuNTM1IDBsNC4yNDMtNC4yNDN6bTYuOSA3LjIwMi0uMzQ1LjM2My0uMzQ0LS4zNjNhLjUuNSAwIDAgMSAuNjg4IDBtLS4zNDUgMS4wOGE4IDggMCAwIDAtLjI4LjMyMyA0LjMgNC4zIDAgMCAwLS40MDkuNTgyYy0uMTEzLjIwMS0uMTQ0LjMyNi0uMTQ0LjM3OGEuODMzLjgzMyAwIDAgMCAxLjY2NyAwYzAtLjA1Mi0uMDMxLS4xNzctLjE0NC0uMzc4YTQuMyA0LjMgMCAwIDAtLjQxLS41ODIgOCA4IDAgMCAwLS4yOC0uMzIybS0uMzQ0LTEuMDguMzQ0LjM2My4zNDQtLjM2My4wMDIuMDAyLjAwNC4wMDQuMDEzLjAxMmE2IDYgMCAwIDEgLjIwNi4yMDhjLjEzMS4xMzYuMzA4LjMyNy40ODUuNTQ1LjE3Ni4yMTUuMzYzLjQ2Ny41MDcuNzI0LjEzNy4yNDMuMjczLjU1My4yNzMuODY4YTEuODMzIDEuODMzIDAgMSAxLTMuNjY3IDBjMC0uMzE1LjEzNi0uNjI1LjI3My0uODY4LjE0NC0uMjU3LjMzLS41MDkuNTA3LS43MjRhOSA5IDAgMCAxIC42NDUtLjcwOGwuMDQ2LS4wNDUuMDEzLS4wMTIuMDA0LS4wMDR6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-hollow-candlestick-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1vcGFjaXR5PSIuMTUiIGQ9Ik01IDVoM3YxMEg1eiIvPjxwYXRoIGZpbGw9IiMxMzE3MjIiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTcgMXYzaDJ2MTJIN3YzSDZ2LTNINFY0aDJWMXpNNSA1aDN2MTBINXptNyAyaDN2NmgtM3ptLTEgN1Y2aDJWMy4yNWgxVjZoMnY4aC0ydjIuNzVoLTFWMTR6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-horizontal-line,.ag-charts-icon-horizontal-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNLjUgOS41aDcuMzA2YTIuMjUgMi4yNSAwIDAgMSA0LjM4OCAwSDE5LjV2MWgtNy4zMDZhMi4yNSAyLjI1IDAgMCAxLTQuMzg4IDBILjV6bTkuNSAxLjc1YTEuMjUgMS4yNSAwIDEgMCAwLTIuNSAxLjI1IDEuMjUgMCAwIDAgMCAyLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-line-color{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTQuMjQyIDIuNzIyYy0uNjEyIDAtMS4yLjI0My0xLjYzMi42NzVsLTEuMzQzIDEuMzQ0YS41LjUgMCAwIDAtLjExMi4xMTJMNC4wNSAxMS45NTljLS4yMDcuMjA3LS4zNi40Ni0uNDQ2Ljc0di4wMDFsLS42OSAyLjc2N3YuMDAyYS44Mi44MiAwIDAgMCAxLjAyMiAxLjAyMWguMDAybDIuNjM0LS44MjJjLjI4LS4wODUuNTM0LS4yMzcuNzQtLjQ0M2w3LjEwNy03LjEwOGEuNS41IDAgMCAwIC4xMTItLjExMmwxLjM0My0xLjM0M2EyLjMwOCAyLjMwOCAwIDAgMC0xLjYzMi0zLjk0TTE0LjEyMiA3bDEuMDQ0LTEuMDQ1YTEuMzA4IDEuMzA4IDAgMSAwLTEuODQ5LTEuODVMMTIuMjcxIDUuMTV6bS0yLjU1OC0xLjE0Mi02LjgwNyA2LjgwOWEuOC44IDAgMCAwLS4xOTYuMzI1bC0uNzUgMi40NjggMi40Ny0uNzQ5YS44LjggMCAwIDAgLjMyNS0uMTk0bDYuODA4LTYuODF6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-line-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTcuMzYyIDQuODczLTQuNTk0IDYuNjU0LTQuODUtMy4zMTctNC4yNTEgNi45NzctLjg1NC0uNTJMNy42MTIgNi43OWw0Ljg5OSAzLjM1IDQuMDI4LTUuODM2eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-line-style-dashed{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMiA5aDR2MUgyem0xMiAwaDR2MWgtNHpNOCA5aDR2MUg4eiIvPjwvc3ZnPg==)}.ag-charts-icon-line-style-dotted{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48Y2lyY2xlIGN4PSIyLjUiIGN5PSI5LjUiIHI9Ii41IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iNC41IiBjeT0iOS41IiByPSIuNSIgZmlsbD0iIzAwMCIvPjxjaXJjbGUgY3g9IjYuNSIgY3k9IjkuNSIgcj0iLjUiIGZpbGw9IiMwMDAiLz48Y2lyY2xlIGN4PSI4LjUiIGN5PSI5LjUiIHI9Ii41IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iMTAuNSIgY3k9IjkuNSIgcj0iLjUiIGZpbGw9IiMwMDAiLz48Y2lyY2xlIGN4PSIxMi41IiBjeT0iOS41IiByPSIuNSIgZmlsbD0iIzAwMCIvPjxjaXJjbGUgY3g9IjE0LjUiIGN5PSI5LjUiIHI9Ii41IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iMTYuNSIgY3k9IjkuNSIgcj0iLjUiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-line-style-solid{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMiA5aDE2djFIMnoiLz48L3N2Zz4=)}.ag-charts-icon-line-with-markers-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTguMTk4IDQuODg4LTMuNTU2IDQuOTE4YTIuMjUgMi4yNSAwIDEgMS0zLjg2Ni43NWwtMS40MzItLjlhMi4yNCAyLjI0IDAgMCAxLTIuMDA5LjQzNWwtMy44MjggNi40MjgtLjg2LS41MTJMNi40NSA5LjYyM2EyLjI1IDIuMjUgMCAxIDEgMy41MS0uNzYxbDEuMzI5LjgzNWEyLjI0IDIuMjQgMCAwIDEgMi41NTctLjQ5N2wzLjU0Mi00Ljg5OHptLTQuOTYgNS4xNTNhMS4yNSAxLjI1IDAgMSAwLS42NCAyLjQxOSAxLjI1IDEuMjUgMCAwIDAgLjY0LTIuNDE5TTkuMSA4LjMyMXEuMDY2LS4xOTIuMDY3LS40MDRhMS4yNSAxLjI1IDAgMSAwLS4wNjcuNDA0IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-lock,.ag-charts-icon-locked{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuMjA3IDMuNzY0YTIuODk0IDIuODk0IDAgMCAwLTIuODk1IDIuODk0VjloNS43ODlWNi42NThhMi44OTQgMi44OTQgMCAwIDAtMi44OTUtMi44OTRNMTQuMSA5VjYuNjU4YTMuODk0IDMuODk0IDAgMSAwLTcuNzg5IDB2Mi4zNDlBMi41IDIuNSAwIDAgMCA0IDExLjV2M0EyLjUgMi41IDAgMCAwIDYuNSAxN2g4YTIuNSAyLjUgMCAwIDAgMi41LTIuNXYtM0EyLjUgMi41IDAgMCAwIDE0LjUgOXpNNi41IDEwQTEuNSAxLjUgMCAwIDAgNSAxMS41djNBMS41IDEuNSAwIDAgMCA2LjUgMTZoOGExLjUgMS41IDAgMCAwIDEuNS0xLjV2LTNhMS41IDEuNSAwIDAgMC0xLjUtMS41eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-measurer-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibTQuNDYxIDEyLjcxIDEuNTMyLTEuNTMxIDEuNDE0IDEuNDE0LjcwNy0uNzA3TDYuNyAxMC40NzJsMS41MzItMS41MzMgMiAyIC43MDctLjcwNy0yLTIgNi4wMS02LjAxIDIuODMgMi44MjhMNS4wNSAxNy43NzggMi4yMjIgMTQuOTVsMS41MzItMS41MzIgMS40MTQgMS40MTQuNzA3LS43MDd6TS44MDggMTQuOTVsLjcwNy0uNzA3TDE0LjI0MyAxLjUxNWwuNzA3LS43MDcuNzA3LjcwNyAyLjgyOCAyLjgyOC43MDcuNzA3LS43MDcuNzA3TDUuNzU3IDE4LjQ4NWwtLjcwNy43MDctLjcwNy0uNzA3LTIuODI4LTIuODI4em0xMS4wNzgtNi44MzVMMTAuNDcgNi43bC43MDctLjcwNyAxLjQxNSAxLjQxNHptLjgyNC0zLjY1NCAxIDEgLjcwOC0uNzA3LTEtMXoiIGZpbGw9IiMxODFEMUYiLz48L3N2Zz4=)}.ag-charts-icon-note-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMyA0LjVBMS41IDEuNSAwIDAgMSA0LjUgM2gxMUExLjUgMS41IDAgMCAxIDE3IDQuNXY4YTEuNSAxLjUgMCAwIDEtMS41IDEuNWgtMy4yMWwtMS40NjkgMi41N2ExIDEgMCAwIDEtMS42ODIuMDg1TDcuMjQzIDE0SDQuNUExLjUgMS41IDAgMCAxIDMgMTIuNXpNNC41IDRhLjUuNSAwIDAgMC0uNS41djhhLjUuNSAwIDAgMCAuNS41aDMuMjU3bDIuMTk2IDMuMDc0TDExLjcxIDEzaDMuNzlhLjUuNSAwIDAgMCAuNS0uNXYtOGEuNS41IDAgMCAwLS41LS41eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNi41IDYuNUEuNS41IDAgMCAxIDcgNmg2YS41LjUgMCAwIDEgMCAxSDdhLjUuNSAwIDAgMS0uNS0uNU02LjUgOS41QS41LjUgMCAwIDEgNyA5aDZhLjUuNSAwIDAgMSAwIDFIN2EuNS41IDAgMCAxLS41LS41IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-ohlc-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZD0iTTEzIDExaC0zdi0xaDNWM2gxdjJoNHYxaC00djExaC0xek02IDE3di0yaDN2LTFINlY0SDV2MUgydjFoM3YxMXoiLz48L3N2Zz4=)}.ag-charts-icon-pan-end{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0ibTYuNjQ2IDEzLjgxMy0uMzUzLjM1NC43MDcuNzA3LjM1NC0uMzU0ek0xMS4xNjYgMTBsLjM1NC4zNTQuMzU0LS4zNTQtLjM1NC0uMzU0ek03LjM1NSA1LjQ4IDcgNS4xMjZsLS43MDcuNzA3LjM1My4zNTR6bTAgOS4wNCA0LjE2Ni00LjE2Ni0uNzA3LS43MDgtNC4xNjcgNC4xNjd6bTQuMTY2LTQuODc0TDcuMzU0IDUuNDhsLS43MDguNzA3IDQuMTY3IDQuMTY3ek0xMy4wODMgNXYxMGgxVjV6Ii8+PC9zdmc+)}.ag-charts-icon-pan-left{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTIuNzkgNS44MzMgOC42MjUgMTBsNC4xNjYgNC4xNjctLjcwNy43MDdMNy4yMSAxMGw0Ljg3My00Ljg3NHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-pan-right{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNy4yMSAxNC4xNjcgMTEuMzc2IDEwIDcuMjEgNS44MzNsLjcwNy0uNzA3TDEyLjc5IDEwbC00Ljg3MyA0Ljg3NHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-pan-start{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTYgNXYxMGgxVjV6TTkuNjI0IDEwbDQuMTY2LTQuMTY3LS43MDctLjcwN0w4LjIxIDEwbDQuODc0IDQuODc0LjcwNy0uNzA3eiIvPjwvc3ZnPg==)}.ag-charts-icon-parallel-channel,.ag-charts-icon-parallel-channel-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTcuNzIgNS4zMzFBMi4yNSAyLjI1IDAgMSAwIDE0LjcwNSAzLjZsLTkuNDkgNC41NjJhMi4yNSAyLjI1IDAgMSAwIC4yMDkgMS4wMWw5LjY2Mi00LjY0NmEyLjI1IDIuMjUgMCAwIDAgMi42MzQuODA1bS4zNzMtMi41NDdhMS4yNSAxLjI1IDAgMSAxLTIuMzM4Ljg4NSAxLjI1IDEuMjUgMCAwIDEgMi4zMzgtLjg4NU00LjM0MyA4LjY3YTEuMjUgMS4yNSAwIDEgMS0yLjMzOC44ODUgMS4yNSAxLjI1IDAgMCAxIDIuMzM4LS44ODVNNS4zMDcgMTYuNzI4YTIuMjUgMi4yNSAwIDEgMS0uNTI1LS44NThsOS45MjMtNC43N2EyLjI1IDIuMjUgMCAxIDEgLjM4MS45MjZ6bS0uOTY0LjI3NGExLjI1IDEuMjUgMCAxIDEtMi4zMzguODg1IDEuMjUgMS4yNSAwIDAgMSAyLjMzOC0uODg1bTEzLjAyMy01LjEwNmExLjI1IDEuMjUgMCAxIDAtLjg4NS0yLjMzOSAxLjI1IDEuMjUgMCAwIDAgLjg4NSAyLjMzOSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-position-bottom{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii4yNSIgZD0iTTMgMTBoMTR2MUgzem0zLTNoOHYxSDZ6Ii8+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTYgMTNoOHYxSDZ6Ii8+PC9zdmc+)}.ag-charts-icon-position-center{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMyAxMGgxNHYxSDN6Ii8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuMjUiIGQ9Ik02IDdoOHYxSDZ6bTAgNmg4djFINnoiLz48L3N2Zz4=)}.ag-charts-icon-position-top{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii4yNSIgZD0iTTMgMTBoMTR2MUgzeiIvPjxwYXRoIGZpbGw9IiMwMDAiIGQ9Ik02IDdoOHYxSDZ6Ii8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuMjUiIGQ9Ik02IDEzaDh2MUg2eiIvPjwvc3ZnPg==)}.ag-charts-icon-price-label-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNC41IDNBMS41IDEuNSAwIDAgMCAzIDQuNVYxM2ExLjUgMS41IDAgMCAwIDEuNSAxLjVoLjgzM3YuMDU3Yy4yNDItLjI5OS41OTctLjUwMyAxLS41NDhWMTMuNUg0LjVBLjUuNSAwIDAgMSA0IDEzVjQuNWEuNS41IDAgMCAxIC41LS41aDExYS41LjUgMCAwIDEgLjUuNXY4YS41LjUgMCAwIDEtLjUuNWgtNC44MThsLS4xMjYuMDg0YTI2IDI2IDAgMCAwLTIuMjI1IDEuNjg1bC0uMzIuMjY1LS4wNjguMDU2YTEuNSAxLjUgMCAwIDEtMi42MDkgMS4zNTRjLjAzMy43NjMuOTA1IDEuMjM4IDEuNTYuNzU2LjY0Ni0uNDc0IDEuMjEtLjk0MyAxLjc2MS0xLjRsLjMxMy0uMjZBMjYgMjYgMCAwIDEgMTAuOTg2IDE0SDE1LjVhMS41IDEuNSAwIDAgMCAxLjUtMS41di04QTEuNSAxLjUgMCAwIDAgMTUuNSAzeiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNOC43MTYgMTQuODE1YTIuMjUgMi4yNSAwIDEgMS00LjIxIDEuNTkzIDIuMjUgMi4yNSAwIDAgMSA0LjIxLTEuNTkzbS0xLjY2MiAxLjk2NmExLjI1IDEuMjUgMCAxIDAtLjg4NS0yLjMzOSAxLjI1IDEuMjUgMCAwIDAgLjg4NSAyLjMzOSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-price-range-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNOS4wNDYgMTVWNS44NzdoLjk0MlYxNXoiIGZpbGw9IiMxODFEMUYiLz48cGF0aCBkPSJNOS4wNDYgMTVWNS44NzdoLjk0MlYxNXoiIGZpbGw9IiMxODFEMUYiLz48cGF0aCBkPSJNOS41IDYuMjI4IDcuMTY3IDguMzc2IDYuNSA3Ljc2MiA5LjUgNWwzIDIuNzYyLS42NjcuNjE0eiIgZmlsbD0iIzAwMCIvPjxwYXRoIGQ9Ik0yIDE4di0xaDE2djF6TTIgM1YyaDE2djF6IiBmaWxsPSIjMTgxRDFGIi8+PC9zdmc+)}.ag-charts-icon-reset{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTIuMDQgNC40NDVhNS44MSA1LjgxIDAgMCAwLTcuMjU3IDIuNDUzLjUuNSAwIDAgMS0uODY1LS41MDJBNi44MSA2LjgxIDAgMSAxIDMgOS44MTNhLjUuNSAwIDAgMSAxIDAgNS44MSA1LjgxIDAgMSAwIDguMDQtNS4zNjgiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiMwMDAiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTQuMjg5IDMuMDAyYS41LjUgMCAwIDEgLjUuNXYyLjY1NWgyLjY1NWEuNS41IDAgMCAxIDAgMUg0LjI5YS41LjUgMCAwIDEtLjUtLjVWMy41MDJhLjUuNSAwIDAgMSAuNS0uNSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-settings{--icon: url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgc3R5bGU9ImZpbGwtcnVsZTpldmVub2RkIj48cGF0aCBkPSJNMTAgMTNhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2bTAtMWEyIDIgMCAxIDEtLjAwMS0zLjk5OUEyIDIgMCAwIDEgMTAgMTIiLz48cGF0aCBkPSJNMi4zMSAxNC4zNDVjLS44MTctMS40OTEuMDI3LTIuNDk5LjQ3NC0yLjg2NS41MzEtLjQzNC45NjktLjM2NS45NzItMS40OC0uMDAzLTEuMTE1LS40NDEtMS4wNDYtLjk3Mi0xLjQ4MS0uNDU0LS4zNzEtMS4zMTctMS40MDUtLjQzNC0yLjkzNmwuMDA1LS4wMDljLjg4NC0xLjUyIDIuMjA3LTEuMjkgMi43NTUtMS4wODMuNjQxLjI0My44MDEuNjU2IDEuNzY4LjEwMS45NjQtLjU2LjY4Ni0uOTA0Ljc5Ni0xLjU4Mi4wOTQtLjU3OC41NTktMS44NDMgMi4zMjYtMS44NDNoLjAxYzEuNzU5LjAwNSAyLjIyMiAxLjI2NiAyLjMxNiAxLjg0My4xMS42NzgtLjE2OCAxLjAyMi43OTYgMS41ODIuOTY3LjU1NSAxLjEyNy4xNDIgMS43NjgtLjEwMS41NDktLjIwOCAxLjg3Ni0uNDM4IDIuNzYgMS4wOTJzLjAyIDIuNTY1LS40MzQgMi45MzZjLS41MzEuNDM1LS45NjkuMzY2LS45NzIgMS40ODEuMDAzIDEuMTE1LjQ0MSAxLjA0Ni45NzIgMS40OC40NTQuMzcyIDEuMzE3IDEuNDA2LjQzNCAyLjkzN2wtLjAwNS4wMDljLS44ODQgMS41Mi0yLjIwNyAxLjI5LTIuNzU1IDEuMDgzLS42NDEtLjI0My0uODAxLS42NTYtMS43NjgtLjEwMS0uOTY0LjU2LS42ODYuOTA0LS43OTYgMS41ODEtLjA5NC41NzktLjU1OSAxLjg0NC0yLjMyNiAxLjg0NGgtLjAxYy0xLjc1OS0uMDA1LTIuMjIyLTEuMjY2LTIuMzE2LTEuODQ0LS4xMS0uNjc3LjE2OC0xLjAyMS0uNzk2LTEuNTgxLS45NjctLjU1NS0xLjEyNy0uMTQyLTEuNzY4LjEwMS0uNTQ5LjIwOC0xLjg3Ni40MzgtMi43Ni0xLjA5MmwtLjAyLS4wMzZ6TTkuOTg0IDIuMTYySDEwYzEuMzU1IDAgMS4zNDIgMS4wMzkgMS4zNTMgMS40MjUuMDA4LjMxMi4wNCAxLjE2IDEuMjU5IDEuODcybC4wMTUuMDA4YzEuMjI1LjcgMS45NzYuMzA0IDIuMjUxLjE1NS4zMzctLjE4MyAxLjIyNi0uNzExIDEuOTAyLjQ0NWwuMDA4LjAxNGMuNjc4IDEuMTczLS4yMjkgMS42ODItLjU1OCAxLjg4NC0uMjY2LjE2My0uOTg0LjYxNS0uOTkxIDIuMDI3di4wMTZjLjAwNyAxLjQxMi43MjUgMS44NjQuOTkxIDIuMDI3LjMyOC4yMDEgMS4yMjkuNzA3LjU2NiAxLjg3bC0uMDA4LjAxNGMtLjY3NyAxLjE3NC0xLjU3MS42NDMtMS45MS40NTktLjI3NS0uMTQ5LTEuMDI2LS41NDUtMi4yNTEuMTU0bC0uMDE1LjAwOWMtMS4yMTkuNzEyLTEuMjUxIDEuNTYtMS4yNTkgMS44NzItLjAxMS4zODYuMDAyIDEuNDI1LTEuMzUzIDEuNDI1cy0xLjM0Mi0xLjAzOS0xLjM1My0xLjQyNWMtLjAwOC0uMzEyLS4wNC0xLjE2LTEuMjU5LTEuODcybC0uMDE1LS4wMDljLTEuMjI1LS42OTktMS45NzYtLjMwMy0yLjI1MS0uMTU0LS4zMzYuMTgzLTEuMjE5LjcwNi0xLjg5NC0uNDMybC0uMDE2LS4wMjdjLS42NzgtMS4xNzQuMjI5LTEuNjgyLjU1OC0xLjg4NC4yNjYtLjE2My45ODQtLjYxNS45OTEtMi4wMjd2LS4wMTZjLS4wMDctMS40MTItLjcyNS0xLjg2NC0uOTkxLTIuMDI3LS4zMjgtLjIwMS0xLjIyOS0uNzA3LS41NjYtMS44N2wuMDA4LS4wMTRjLjY3Ny0xLjE3NCAxLjU3MS0uNjQzIDEuOTEtLjQ1OS4yNzUuMTQ5IDEuMDI2LjU0NSAyLjI1MS0uMTU1bC4wMTUtLjAwOGMxLjIxOS0uNzEyIDEuMjUxLTEuNTYgMS4yNTktMS44NzIuMDEtLjM4NC0uMDAyLTEuNDE3IDEuMzM3LTEuNDI1Ii8+PC9zdmc+)}.ag-charts-icon-step-line-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzE4MUQxRiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNiA0aDV2OGgzVjhoNXYxaC00djRoLTVWNUg3djEwSDJ2LTFoNHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-text-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00IDRIMTZWN0gxNVY1SDEwLjVWMTVIMTRWMTZINlYxNUg5LjVWNUg1VjdINFY0WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==)}.ag-charts-icon-trend-line,.ag-charts-icon-trend-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNS4zMTQgMTAuOTM4YTIuMjUgMi4yNSAwIDEgMSAuMDEtMWg5LjM1MmEyLjI1IDIuMjUgMCAxIDEgLjAxIDF6bS0yLjE4OS43MjlhMS4yNSAxLjI1IDAgMSAwIDAtMi41IDEuMjUgMS4yNSAwIDAgMCAwIDIuNW0xMy43NSAwYTEuMjUgMS4yNSAwIDEgMCAwLTIuNSAxLjI1IDEuMjUgMCAwIDAgMCAyLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-unlock,.ag-charts-icon-unlocked{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuNjUxIDMuNWEyLjg5NCAyLjg5NCAwIDAgMC0yLjg5NCAyLjg5NFY5SDE0LjVhMi41IDIuNSAwIDAgMSAyLjUgMi41djNhMi41IDIuNSAwIDAgMS0yLjUgMi41aC04QTIuNSAyLjUgMCAwIDEgNCAxNC41di0zQTIuNSAyLjUgMCAwIDEgNi41IDloLjI1N1Y2LjM5NGEzLjg5NCAzLjg5NCAwIDEgMSA3Ljc4OSAwIC41LjUgMCAwIDEtMSAwQTIuODk0IDIuODk0IDAgMCAwIDEwLjY1IDMuNU02LjUgMTBBMS41IDEuNSAwIDAgMCA1IDExLjV2M0ExLjUgMS41IDAgMCAwIDYuNSAxNmg4YTEuNSAxLjUgMCAwIDAgMS41LTEuNXYtM2ExLjUgMS41IDAgMCAwLTEuNS0xLjV6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-vertical-line,.ag-charts-icon-vertical-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuNSA3LjgwNmEyLjI1IDIuMjUgMCAwIDEgMCA0LjM4OFYxOS41aC0xdi03LjMwNmEyLjI1IDIuMjUgMCAwIDEgMC00LjM4OFYuNWgxem0tLjUuOTQ0YTEuMjUgMS4yNSAwIDEgMSAwIDIuNSAxLjI1IDEuMjUgMCAwIDEgMC0yLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-zoom-in{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTEwIDUuNWEuNS41IDAgMCAxIC41LjV2My41aDMuODc1YS41LjUgMCAwIDEgMCAxSDEwLjV2NC4yNWEuNS41IDAgMSAxLTEgMFYxMC41SDUuNjI1YS41LjUgMCAxIDEgMC0xSDkuNVY2YS41LjUgMCAwIDEgLjUtLjUiLz48L3N2Zz4=)}.ag-charts-icon-zoom-out{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNS41IDEwYS41LjUgMCAwIDEgLjUtLjVoOGEuNS41IDAgMCAxIDAgMUg2YS41LjUgMCAwIDEtLjUtLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-high-low-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNyA0aDJ2MTJINFY0aDNNNSA1aDN2MTBINXpNMTEgMTRWNmg1djhoLTVtMS03aDN2NmgtM3oiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-hlc-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTguMTYzIDEuODM3LTUuMzM0IDExLjYyMUw2Ljk1NyA4LjEybC00LjE5OSA5LjYyMi0uOTE2LS40IDQuNzU2LTEwLjlMMTIuNDkgMTEuOCAxNy4yNTQgMS40MnoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiMwMDAiIGZpbGwtb3BhY2l0eT0iLjQiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTUuODI1IDIuNzA0LjU1IDEzLjc4NWwuOTAyLjQzIDQuNzI0LTkuOTE5IDYuMDM0IDUuMDI5IDMuMjU1LTguMTQtLjkyOC0uMzctMi43NDUgNi44NnptNy44NTIgMTQuNjM2IDUuNzgtMTMuMTM5LS45MTUtLjQwMi01LjIxOSAxMS44Ni02LjAwNS01LjUwNC0zLjI3OCA3LjY0OC45Mi4zOTQgMi43MjItNi4zNTJ6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-zoom-in-alt{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXpvb20taW4iPjxjaXJjbGUgY3g9IjExIiBjeT0iMTEiIHI9IjgiLz48bGluZSB4MT0iMjEiIHgyPSIxNi42NSIgeTE9IjIxIiB5Mj0iMTYuNjUiLz48bGluZSB4MT0iMTEiIHgyPSIxMSIgeTE9IjgiIHkyPSIxNCIvPjxsaW5lIHgxPSI4IiB4Mj0iMTQiIHkxPSIxMSIgeTI9IjExIi8+PC9zdmc+)}.ag-charts-icon-zoom-out-alt{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXpvb20tb3V0Ij48Y2lyY2xlIGN4PSIxMSIgY3k9IjExIiByPSI4Ii8+PGxpbmUgeDE9IjIxIiB4Mj0iMTYuNjUiIHkxPSIyMSIgeTI9IjE2LjY1Ii8+PGxpbmUgeDE9IjgiIHgyPSIxNCIgeTE9IjExIiB5Mj0iMTEiLz48L3N2Zz4=)}.ag-charts-input{--input-layer-active: 1;--input-layer-focus: 2;--input-padding: calc(var(--ag-charts-spacing) * 2);--input-padding-large: calc(var(--ag-charts-spacing) * 2.5);color:var(--ag-charts-input-text-color);font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size-large);transition-duration:.25s;transition-property:none;transition-timing-function:ease-out}.ag-charts-input:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow);z-index:var(--input-layer-focus)}.ag-charts-button{background:var(--ag-charts-button-background-color);border:1px solid var(--ag-charts-border-color);border-radius:var(--ag-charts-button-border-radius);color:var(--ag-charts-button-text-color);cursor:pointer;padding:var(--input-padding);transition-property:background,border-color}.ag-charts-button:hover{background:var(--ag-charts-focus-color)}.ag-charts-button:has(.ag-charts-icon){padding:2px}.ag-charts-checkbox{--checkbox-transition-duration: .1s;appearance:none;background:var(--ag-charts-checkbox-background-color);border-radius:calc(var(--ag-charts-border-radius) * 9);cursor:pointer;height:18px;margin:0;transition-duration:var(--checkbox-transition-duration);transition-property:margin;width:29px}.ag-charts-checkbox:before{display:block;background:var(--ag-charts-input-background-color);border-radius:calc(var(--ag-charts-border-radius) * 7);content:" ";height:14px;margin:2px;transition-duration:var(--checkbox-transition-duration);transition-property:margin;transition-timing-function:var(--ag-charts-input-transition-easing);width:14px}.ag-charts-checkbox:checked{background:var(--ag-charts-checkbox-checked-background-color)}.ag-charts-checkbox:checked:before{margin-left:13px}.ag-charts-select{background:var(--ag-charts-input-background-color);border:1px solid var(--ag-charts-input-border-color);border-radius:var(--ag-charts-input-border-radius);padding:3px 2px 4px;font-size:inherit}.ag-charts-textarea{--textarea-line-height: 1.38;background:var(--ag-charts-input-background-color);border:1px solid var(--ag-charts-border-color);border-radius:var(--ag-charts-input-border-radius);line-height:var(--textarea-line-height);font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size-large);padding:var(--input-padding-large) var(--input-padding)}.ag-charts-textarea::placeholder{color:var(--ag-charts-input-placeholder-text-color)}.ag-charts-proxy-container{pointer-events:none;position:absolute}.ag-charts-proxy-elem{-webkit-appearance:none;appearance:none;background:none;border:none;color:#0000;overflow:hidden;pointer-events:auto;position:absolute}.ag-charts-proxy-elem::-moz-range-thumb,.ag-charts-proxy-elem::-moz-range-track{opacity:0}.ag-charts-proxy-elem::-webkit-slider-runnable-track,.ag-charts-proxy-elem::-webkit-slider-thumb{opacity:0}.ag-charts-proxy-elem:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow)}.ag-charts-focus-indicator{position:absolute;display:block;pointer-events:none;user-select:none;-webkit-user-select:none;width:100%;height:100%}.ag-charts-focus-indicator>div{position:absolute;outline:solid 1px var(--ag-charts-chrome-background-color);box-shadow:var(--ag-charts-focus-shadow)}.ag-charts-focus-indicator>svg{width:100%;height:100%;fill:none;overflow:visible}.ag-charts-focus-svg-outer-path{stroke:var(--ag-charts-chrome-background-color);stroke-width:4px}.ag-charts-focus-svg-inner-path{stroke:var(--ag-charts-accent-color);stroke-width:2px}.ag-charts-overlay{color:#181d1f;pointer-events:none}.ag-charts-overlay.ag-charts-dark-overlay{color:#fff}.ag-charts-overlay--loading{color:#8c8c8c}.ag-charts-overlay__loading-background{background:#fff;pointer-events:none}.ag-charts-overlay.ag-charts-dark-overlay .ag-charts-overlay__loading-background{background:#192232}.ag-charts-tooltip{--tooltip-arrow-size: 8px;position:fixed;inset:unset;margin:0;padding:0;overflow:visible;width:max-content;max-width:100%;font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size);font-weight:var(--ag-charts-chrome-font-weight);color:var(--ag-charts-chrome-text-color);background:var(--ag-charts-chrome-background-color);border:var(--ag-charts-border);border-radius:var(--ag-charts-border-radius);box-shadow:var(--ag-charts-shadow)}.ag-charts-tooltip--compact .ag-charts-tooltip-content{padding:3px 6px}.ag-charts-tooltip--arrow:before{content:"";position:absolute;top:100%;left:50%;margin:0 auto;transform:translate(-50%) translateY(calc(var(--tooltip-arrow-size) * -.5)) rotate(45deg);display:block;width:var(--tooltip-arrow-size);height:var(--tooltip-arrow-size);border:inherit;border-top:none;border-left:none;clip-path:polygon(0% 100%,100% 0%,100% 100%)}.ag-charts-tooltip--arrow:after{--tooltip-inner-size: calc(var(--tooltip-arrow-size) - 2px);content:"";position:absolute;top:100%;left:50%;margin:0 auto;transform:translate(-50%) translateY(calc(var(--tooltip-inner-size) * -.5)) rotate(45deg);display:block;width:var(--tooltip-inner-size);height:var(--tooltip-inner-size);border:inherit;border-color:transparent;background:inherit;clip-path:polygon(-10% 100%,100% -10%,100% 100%)}.ag-charts-tooltip--no-interaction{pointer-events:none;user-select:none;-webkit-user-select:none}.ag-charts-tooltip--wrap-always{overflow-wrap:break-word;word-break:break-word;hyphens:none}.ag-charts-tooltip--wrap-hyphenate{overflow-wrap:break-word;word-break:break-word;hyphens:auto}.ag-charts-tooltip--wrap-on-space{overflow-wrap:normal;word-break:normal}.ag-charts-tooltip--wrap-never{white-space:nowrap}.ag-charts-tooltip-heading,.ag-charts-tooltip-title,.ag-charts-tooltip-label,.ag-charts-tooltip-value{overflow:hidden;text-overflow:ellipsis}.ag-charts-tooltip-content{display:grid;grid:auto-flow minmax(1em,auto) / 1fr;padding:8px 12px;gap:8px}.ag-charts-tooltip-content:has(.ag-charts-tooltip-symbol){grid:auto-flow minmax(1em,auto) / auto 1fr}.ag-charts-tooltip-heading{grid-column:1 / -1}.ag-charts-tooltip-symbol{grid-column:1 / 2;align-self:center}.ag-charts-tooltip-symbol svg{display:block}.ag-charts-tooltip-title{grid-column:-2 / -1}.ag-charts-tooltip-row{grid-column:1 / -1;display:flex;gap:16px;align-items:baseline;justify-content:space-between;overflow:hidden}.ag-charts-tooltip-row--inline{grid-column:-2 / -1}.ag-charts-tooltip-label{flex:1;min-width:0}.ag-charts-tooltip-value{min-width:0}.ag-charts-popover{position:absolute;border:var(--ag-charts-border);border-radius:var(--ag-charts-border-radius);background:var(--ag-charts-chrome-background-color);color:var(--ag-charts-chrome-text-color);font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size);font-weight:var(--ag-charts-chrome-font-weight);box-shadow:var(--ag-charts-shadow);z-index:var(--ag-charts-layer-ui-overlay)}.ag-charts-menu{--item-padding: 6px 12px;--icon-color: var(--ag-charts-chrome-text-color);display:grid;grid:auto-flow auto / 1fr;column-gap:12px;font-size:var(--ag-charts-chrome-font-size)}.ag-charts-menu:has(.ag-charts-menu__icon,.ag-charts-menu__row--stroke-width-visible){grid:auto-flow auto / auto 1fr}.ag-charts-menu__row--stroke-width-visible:before{content:"";height:var(--strokeWidth);width:12px;background:var(--icon-color)}.ag-charts-menu__row--stroke-width-visible[aria-disabled=true]:before{filter:grayscale(1);opacity:.5}.ag-charts-menu__row{display:grid;grid-column:1 / -1;grid-template-columns:subgrid;align-items:center;padding:var(--item-padding)}.ag-charts-menu__row:not(.ag-charts-menu__row--active){cursor:pointer}.ag-charts-menu__row:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.ag-charts-menu__row:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.ag-charts-menu__row:focus{background:var(--ag-charts-focus-color)}.ag-charts-menu__row:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow);z-index:var(--ag-charts-layer-menu)}.ag-charts-menu__row--active{--icon-color: var(--ag-charts-accent-color);background:var(--ag-charts-focus-color);color:var(--ag-charts-accent-color)}.ag-charts-menu__label{grid-column:-1 / span 1}.ag-charts-toolbar{--toolbar-gap: calc(var(--ag-charts-spacing) * 2);--toolbar-size: 34px;--toolbar-button-padding: 6px;align-items:center;display:flex;flex-wrap:nowrap;position:absolute}.ag-charts-toolbar__button{align-items:center;background:var(--ag-charts-chrome-background-color);border:var(--ag-charts-border);color:var(--ag-charts-chrome-text-color);cursor:pointer;display:flex;font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size-medium);font-weight:var(--ag-charts-chrome-font-weight);justify-content:center;min-height:var(--toolbar-size);min-width:var(--toolbar-size);padding:var(--toolbar-button-padding);position:relative;transition:background-color .25s ease-in-out,border-color .25s ease-in-out,color .25s ease-in-out;white-space:nowrap}.ag-charts-toolbar__button:hover{background:var(--ag-charts-focus-color);z-index:1}.ag-charts-toolbar__button:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow);z-index:calc(var(--ag-charts-layer-ui-overlay) + 1)}.ag-charts-toolbar__button--active{background:var(--ag-charts-focus-color);border-color:var(--ag-charts-accent-color);color:var(--ag-charts-accent-color);z-index:2}.ag-charts-toolbar__button[aria-disabled=true]{background:var(--ag-charts-button-disabled-background-color);color:var(--ag-charts-button-disabled-text-color);cursor:default}.ag-charts-toolbar--horizontal{flex-direction:row;.ag-charts-toolbar__button{margin:0 0 0 -1px}.ag-charts-toolbar__button--first{border-bottom-left-radius:var(--ag-charts-border-radius);border-top-left-radius:var(--ag-charts-border-radius);margin:0}.ag-charts-toolbar__button--last{border-bottom-right-radius:var(--ag-charts-border-radius);border-top-right-radius:var(--ag-charts-border-radius)}}.ag-charts-toolbar--vertical{flex-direction:column;.ag-charts-toolbar__button{margin:-1px 0 0;max-width:100%}.ag-charts-toolbar__button--first{border-top-left-radius:var(--ag-charts-border-radius);border-top-right-radius:var(--ag-charts-border-radius);margin:0}.ag-charts-toolbar__button--last{border-bottom-left-radius:var(--ag-charts-border-radius);border-bottom-right-radius:var(--ag-charts-border-radius)}}.ag-charts-toolbar__icon+.ag-charts-toolbar__label{margin-left:var(--toolbar-gap)}.ag-charts-toolbar__icon,.ag-charts-toolbar__label{pointer-events:none}.ag-charts-floating-toolbar{border:none;display:flex;.ag-charts-toolbar{align-items:unset;position:unset}}.ag-charts-floating-toolbar__drag-handle{align-items:center;background:var(--ag-charts-chrome-background-color);border:var(--ag-charts-border);border-bottom-left-radius:var(--ag-charts-border-radius);border-top-left-radius:var(--ag-charts-border-radius);cursor:grab;display:flex;justify-content:center;min-width:24px;padding-left:0;padding-right:0}.ag-charts-floating-toolbar__drag-handle--dragging{cursor:grabbing}
`,kc=class{constructor(){this.registeredListeners=new Map}addListener(e,i){const n={symbol:Symbol(e),handler:i};return this.registeredListeners.has(e)?this.registeredListeners.get(e).push(n):this.registeredListeners.set(e,[n]),()=>this.removeListener(n.symbol)}removeListener(e){for(const[i,n]of this.registeredListeners.entries()){const s=n.findIndex(a=>a.symbol===e);if(s>=0){n.splice(s,1),n.length===0&&this.registeredListeners.delete(i);break}}}dispatch(e,...i){for(const n of this.getListenersByType(e))try{n.handler(...i)}catch(s){It.errorOnce(String(s))}}getListenersByType(e){return this.registeredListeners.get(e)??[]}destroy(){this.registeredListeners.clear()}},oh=class{constructor(){this.listeners=new kc,this.destroyFns=[]}addListener(t,e){return this.listeners.addListener(t,e)}destroy(){this.listeners.destroy(),this.destroyFns.forEach(t=>t())}},Ist=class NS{constructor(e,i,n){this.element=e,this.topTabGuard=i,this.bottomTabGuard=n,this.destroyFns=[],this.guardTabIndex=0,this.hasFocus=!1,this.initTabGuard(this.topTabGuard,s=>this.onTab(s,!1)),this.initTabGuard(this.bottomTabGuard,s=>this.onTab(s,!0)),this.element.addEventListener("focus",()=>this.onFocus(),{capture:!0}),this.element.addEventListener("blur",s=>this.onBlur(s),{capture:!0})}set tabIndex(e){this.guardTabIndex=e,this.guardTabIndex===0?this.setGuardIndices(void 0):this.hasFocus||this.setGuardIndices(this.guardTabIndex)}destroy(){for(const e of this.destroyFns)e();this.destroyFns.length=0}initTabGuard(e,i){const n=()=>i(e);e.addEventListener("focus",n),this.destroyFns.push(()=>e.removeEventListener("focus",n))}setGuardIndices(e){const i=e;_e(this.topTabGuard,"tabindex",i),_e(this.bottomTabGuard,"tabindex",i)}onFocus(){this.hasFocus=!0,this.guardTabIndex!==0&&this.setGuardIndices(0)}onBlur({relatedTarget:e}){const{topTabGuard:i,bottomTabGuard:n}=this;this.hasFocus=!1,this.guardTabIndex!==0&&e!==i&&e!==n&&this.setGuardIndices(this.guardTabIndex)}onTab(e,i){if(this.guardTabIndex!==0){let n;e.tabIndex===0?(n=this.findExitTarget(!i),this.setGuardIndices(this.guardTabIndex)):n=this.findEnterTarget(i),n==null||n.focus()}}static queryFocusable(e,i){const n=Qe();return Array.from(e.querySelectorAll(i)).filter(s=>{if(s instanceof HTMLElement){const a=n.getComputedStyle(s);return a.display!=="none"&&a.visibility!=="none"}return!1})}findEnterTarget(e){const i=NS.queryFocusable(this.element,'[tabindex="0"]'),n=e?i.length-1:0;return i[n]}findExitTarget(e){const i=NS.queryFocusable(mc(),"[tabindex]").filter(a=>a.tabIndex>0).sort((a,o)=>a.tabIndex-o.tabIndex),{before:n,after:s}=NS.findBeforeAndAfter(i,this.guardTabIndex);return e?n:s}static findBeforeAndAfter(e,i){let n=0,s=e.length-1,a,o;for(;n<=s;){const r=Math.floor((n+s)/2),l=e[r].tabIndex;if(l===i){a=e[r-1]||void 0,o=e[r+1]||void 0;break}else l<i?(a=e[r],n=r+1):(o=e[r],s=r-1)}return{before:a,after:o}}};function pr(t,e,i,n,s){e.addEventListener(i,n);const a=()=>e.removeEventListener(i,n,s);return t.push(a),a}function kU(t,e,i){pr(t,e,"keydown",n=>{n.key==="Escape"&&i(n)})}function Tst(t,e,i){const n=pr(t,window,"mousedown",s=>{[0,2].includes(s.button)&&!LU(e,s)&&(i(),n())});return n}function Cst(t,e,i){const n=pr(t,window,"touchstart",s=>{Array.from(s.targetTouches).some(o=>!LU(e,o))&&(i(),n())});return n}function LU(t,e){if(e.target instanceof Element){const{x:i,y:n,width:s,height:a}=t.getBoundingClientRect(),{clientX:o,clientY:r}=e;return o>=i&&r>=n&&o<=i+s&&r<=n+a}return!1}function mA(t){return!(t.shiftKey||t.altKey||t.ctrlKey||t.metaKey)}function TN(t,e,...i){return mA(t)&&(t.key===e||i.some(n=>t.key===n))}function $4(t,e,i,n){i&&pr(t,e,"keydown",s=>{TN(s,n)&&i.focus()})}function kst(t,e,i,n,s,a){$4(t,e,s,a),$4(t,e,i,n),pr(t,e,"keydown",o=>{TN(o,n,a)&&o.preventDefault()})}var Gf={horizontal:{nextKey:"ArrowRight",prevKey:"ArrowLeft"},vertical:{nextKey:"ArrowDown",prevKey:"ArrowUp"}};function NU(t){const{orientation:e,buttons:i,wrapAround:n=!1,onEscape:s,onFocus:a,onBlur:o}=t,{nextKey:r,prevKey:l}=Gf[e],c=y=>{y.target&&"tabIndex"in y.target&&(i.forEach(m=>m.tabIndex=-1),y.target.tabIndex=0)},[h,p]=n?[i.length,i.length]:[0,1/0],f=[];for(let y=0;y<i.length;y++){const m=i[(h+y-1)%p],b=i[y],v=i[(h+y+1)%p];pr(f,b,"focus",c),a&&pr(f,b,"focus",a),o&&pr(f,b,"blur",o),s&&kU(f,b,s),kst(f,b,v,r,m,l),b.tabIndex=y===0?0:-1}return f}var Lst=class{constructor(t,e,i){this.lastFocus=e,this.closeCallback=i,this.destroyFns=[],this.destroyFns.push(Tst(this.destroyFns,t,()=>this.close(!0))),this.destroyFns.push(Cst(this.destroyFns,t,()=>this.close(!0)))}close(t){this.destroyFns.forEach(e=>e()),this.destroyFns.length=0,this.closeCallback(),this.finishClosing(t)}finishClosing(t){var e;this.destroyFns.forEach(i=>i()),this.destroyFns.length=0,_e(this.lastFocus,"aria-expanded",!1),t||(e=this.lastFocus)==null||e.focus({preventScroll:!0}),this.lastFocus=void 0}};function EU(t){var m;const{sourceEvent:e,orientation:i,menu:n,buttons:s,closeCallback:a,overrideFocusVisible:o,autoCloseOnBlur:r=!1}=t,{nextKey:l,prevKey:c}=Gf[i],h=kN(e);_e(h,"aria-expanded",!0);const p=new Lst(n,h,a),f=()=>p.close(),{destroyFns:y}=p;if(n.role="menu",n.ariaOrientation=i,y.push(...NU({orientation:i,buttons:s,onEscape:f,wrapAround:!0})),n.tabIndex=-1,kU(y,n,f),pr(y,n,"keydown",b=>{var v;b.target===n&&(b.key===l||b.key===c)&&(b.preventDefault(),(v=s[0])==null||v.focus())}),r){const b=v=>{!s.includes(v.relatedTarget)&&f()};for(const v of s)pr(y,v,"blur",b)}return(m=s[0])==null||m.focus({preventScroll:!0}),o!==void 0&&(s.forEach(v=>v.setAttribute("data-focus-visible-override",o.toString())),pr(y,n,"keydown",()=>{s.forEach(v=>v.setAttribute("data-focus-visible-override","true"))},{once:!0})),p}function Nst(t,e){return i=>{if(t.ariaDisabled==="true")return i.preventDefault();e(i)}}function CN(t){return"button"in t?t.button===0:mA(t)&&(t.code==="Space"||t.key==="Enter")}function kN(t){if((t==null?void 0:t.target)instanceof HTMLElement&&"tabindex"in t.target.attributes)return t.target}function OU(t){const e=i=>{if(i.defaultPrevented)return;gA(i.target,"data-preventdefault",!0)&&TN(i,"ArrowRight","ArrowLeft","ArrowDown","ArrowUp")&&i.preventDefault()};return t.addEventListener("keydown",e),()=>t.removeEventListener("keydown",e)}var Est=class{constructor(t){this.callback=t,this.devicePixelRatio=Qe("devicePixelRatio")??1,this.devicePixelRatioMediaQuery=void 0,this.devicePixelRatioListener=e=>{e.matches||(this.devicePixelRatio=Qe("devicePixelRatio")??1,this.unregisterDevicePixelRatioListener(),this.registerDevicePixelRatioListener(),this.callback(this.pixelRatio))}}get pixelRatio(){return this.devicePixelRatio}observe(){this.registerDevicePixelRatioListener()}disconnect(){this.unregisterDevicePixelRatioListener()}unregisterDevicePixelRatioListener(){var t;(t=this.devicePixelRatioMediaQuery)==null||t.removeEventListener("change",this.devicePixelRatioListener),this.devicePixelRatioMediaQuery=void 0}registerDevicePixelRatioListener(){var e;const t=(e=Qe("matchMedia"))==null?void 0:e(`(resolution: ${this.pixelRatio}dppx)`);t==null||t.addEventListener("change",this.devicePixelRatioListener),this.devicePixelRatioMediaQuery=t}},Ost=class{constructor(){var e;this.elements=new Map,this.documentReady=!1,this.queuedObserveRequests=[],this.onLoad=()=>{this.documentReady=!0,this.queuedObserveRequests.forEach(([i,n])=>this.observe(i,n)),this.queuedObserveRequests=[],this.observeWindow()},typeof ResizeObserver<"u"&&(this.resizeObserver=new ResizeObserver(i=>{for(const{target:n,contentRect:{width:s,height:a}}of i){const o=this.elements.get(n);this.checkSize(o,n,s,a)}}));let t;this.pixelRatioObserver=new Est(()=>{clearTimeout(t),t=setTimeout(()=>this.checkPixelRatio(),0)}),this.documentReady=mc("readyState")==="complete",this.documentReady?this.observeWindow():(e=Qe())==null||e.addEventListener("load",this.onLoad)}destroy(){var t,e,i;(t=Qe())==null||t.removeEventListener("load",this.onLoad),(e=this.resizeObserver)==null||e.disconnect(),this.resizeObserver=void 0,(i=this.pixelRatioObserver)==null||i.disconnect(),this.pixelRatioObserver=void 0}observeWindow(){var t;(t=this.pixelRatioObserver)==null||t.observe()}checkPixelRatio(){var e;const t=((e=this.pixelRatioObserver)==null?void 0:e.pixelRatio)??1;for(const[i,n]of this.elements)if(n.size!=null&&n.size.pixelRatio!==t){const{width:s,height:a}=n.size;n.size={width:s,height:a,pixelRatio:t},n.cb(n.size,i)}}checkSize(t,e,i,n){var s,a,o;if(t&&(i!==((s=t.size)==null?void 0:s.width)||n!==((a=t.size)==null?void 0:a.height))){const r=((o=this.pixelRatioObserver)==null?void 0:o.pixelRatio)??1;t.size={width:i,height:n,pixelRatio:r},t.cb(t.size,e)}}observe(t,e){var n;if(!this.documentReady){this.queuedObserveRequests.push([t,e]);return}this.elements.has(t)?this.removeFromQueue(t):(n=this.resizeObserver)==null||n.observe(t);const i={cb:e};this.elements.set(t,i)}unobserve(t){var e;(e=this.resizeObserver)==null||e.unobserve(t),this.elements.delete(t),this.removeFromQueue(t),this.elements.size||this.destroy()}removeFromQueue(t){this.queuedObserveRequests=this.queuedObserveRequests.filter(([e])=>e!==t)}},tg=class extends Map{constructor(t,e){super(),this.defaultValue=t,this.defaultState=e}set(t,e){return this.delete(t),typeof e<"u"&&super.set(t,e),this}stateId(){return Array.from(this.keys()).pop()??this.defaultState}stateValue(){return Array.from(this.values()).pop()??this.defaultValue}},wst='<div role="presentation" class="ag-charts-wrapper ag-charts-styles" data-ag-charts><div role="presentation" class="ag-charts-canvas-center"><div role="presentation" class="ag-charts-canvas-container"><div role="presentation" class="ag-charts-canvas" aria-hidden="true"></div><div role="figure" class="ag-charts-canvas-proxy"><div role="presentation" class="ag-charts-series-area"></div></div><div role="presentation" class="ag-charts-canvas-overlay"></div></div></div></div>',Rst=["styles","canvas","canvas-center","canvas-container","canvas-overlay","canvas-proxy","series-area"],K4={safeHorizontal:"ag-charts-wrapper--safe-horizontal",safeVertical:"ag-charts-wrapper--safe-vertical"},Pst=new Map([["styles",{childElementType:"style"}],["canvas",{childElementType:"canvas"}],["canvas-proxy",{childElementType:"div"}],["canvas-overlay",{childElementType:"div"}],["canvas-center",{childElementType:"div"}],["series-area",{childElementType:"div"}]]);function Bst(t,e){if(typeof IntersectionObserver>"u")return;const i=new IntersectionObserver(n=>{for(const s of n)s.target===t&&e(s.intersectionRatio)},{root:t});return i.observe(t),i}var wU={x:0,y:0,width:0,height:0,top:0,bottom:0,left:0,right:0,toJSON(){return wU}};function X4(t,e){const i=ae("div");return i.className="ag-charts-tab-guard",t.insertAdjacentElement(e,i),i}var RU=class extends oh{constructor(t,e){super(),this.styles=new Map,this.container=void 0,this.containerSize=void 0,this.sizeMonitor=new Ost,this.cursorState=new tg("default"),this.minWidth=0,this.minHeight=0;const i=ae("div");i.innerHTML=wst,this.element=i.children.item(0),this.styleRootElement=e,this.rootElements=Rst.reduce((r,l)=>{const c=`ag-charts-${l}`,h=this.element.classList.contains(c)?this.element:this.element.querySelector(`.${c}`);if(!h)throw new Error(`AG Charts - unable to find DOM element ${c}`);return r[l]={element:h,children:new Map,listeners:[]},r},{});let n=!1;this.observer=Bst(this.element,r=>{r===0&&!n&&this.listeners.dispatch("hidden",{type:"hidden"}),n=r===0}),this.setSizeOptions(),this.updateContainerSize(),this.addStyles("ag-charts-community",Dst),t&&this.setContainer(t),this.destroyFns.push(OU(this.element));const s=this.element.querySelector(".ag-charts-canvas-center");if(s==null)throw new Error("Error initializing tab guards");const a=X4(s,"beforebegin"),o=X4(s,"afterend");this.tabGuards=new Ist(s,a,o)}destroy(){var t;super.destroy(),(t=this.observer)==null||t.unobserve(this.element),this.container&&this.sizeMonitor.unobserve(this.container),Object.values(this.rootElements).forEach(e=>{e.children.forEach(i=>i.remove()),e.element.remove()}),this.element.remove()}setSizeOptions(t=300,e=300,i,n){const{style:s}=this.element;s.width=`${i??t}px`,s.height=`${n??e}px`,this.minWidth=i??t,this.minHeight=n??e,this.updateContainerClassName()}updateContainerSize(){const{style:t}=this.rootElements["canvas-center"].element;t.visibility=this.containerSize==null?"hidden":"",this.containerSize?(t.width=`${this.containerSize.width??0}px`,t.height=`${this.containerSize.height??0}px`):(t.width="",t.height=""),this.updateContainerClassName()}setTabGuardIndex(t){this.tabGuards.tabIndex=t}setContainer(t){if(t===this.container)return;if(this.container&&(this.container.removeChild(this.element),this.sizeMonitor.unobserve(this.container)),!(this.getShadowDocumentRoot(t)!=null))for(const i of this.rootElements.styles.children.keys())this.removeChild("styles",i);this.container=t;for(const[i,n]of this.styles)this.addStyles(i,n);t.appendChild(this.element),this.sizeMonitor.observe(t,i=>{this.containerSize=i,this.updateContainerSize(),this.listeners.dispatch("resize",{type:"resize"})}),this.listeners.dispatch("container-changed",{type:"container-changed"})}setThemeClass(t){const e="ag-charts-theme-";this.element.classList.forEach(i=>{i.startsWith(e)&&i!==t&&this.element.classList.remove(i)}),this.element.classList.add(t)}setThemeParameters(t){const e={accentColor:"accent-color",axisColor:"axis-color",backgroundColor:"background-color",borderColor:"border-color",foregroundColor:"foreground-color",fontFamily:"font-family",fontSize:"font-size",fontWeight:"font-weight",gridLineColor:"grid-line-color",padding:"padding",subtleTextColor:"subtle-text-color",textColor:"text-color",chromeBackgroundColor:"chrome-background-color",chromeFontFamily:"chrome-font-family",chromeFontSize:"chrome-font-size",chromeFontWeight:"chrome-font-weight",chromeSubtleTextColor:"chrome-subtle-text-color",chromeTextColor:"chrome-text-color",inputBackgroundColor:"input-background-color",inputTextColor:"input-text-color",crosshairLabelBackgroundColor:"crosshair-label-background-color",crosshairLabelTextColor:"crosshair-label-text-color"},i=["fontSize","chromeFontSize"];for(const[n,s]of Object.entries(t)){let a=`${s}`;i.includes(n)&&(a=`${s}px`),this.element.style.setProperty(`--ag-charts-${e[n]}`,a)}}updateCanvasLabel(t){_e(this.rootElements["canvas-proxy"].element,"aria-label",t)}getEventElement(t,e){return["focus","blur","keydown","keyup"].includes(e)?this.rootElements["series-area"].element:t}addEventListener(t,e,i){this.getEventElement(this.element,t).addEventListener(t,e,i)}removeEventListener(t,e,i){this.getEventElement(this.element,t).removeEventListener(t,e,i)}getBoundingClientRect(){return this.rootElements.canvas.element.getBoundingClientRect()}getOverlayClientRect(){var n;const t=Qe(),e=new Et(0,0,t.innerWidth,t.innerHeight),i=this.getRawOverlayClientRect();return((n=e.intersection(i))==null?void 0:n.toDOMRect())??wU}getRawOverlayClientRect(){var s,a;let t=this.element;for(;t!=null;){const o=(s=t.computedStyleMap)==null?void 0:s.call(t),r=(a=o==null?void 0:o.get("overflow-y"))==null?void 0:a.toString();if(r==="auto"||r==="scroll")return Et.fromDOMRect(t.getBoundingClientRect());t=t.parentElement}const e=this.getShadowDocumentRoot();if(e!=null)return Et.fromDOMRect(e.getBoundingClientRect());const{innerWidth:i,innerHeight:n}=Qe();return new Et(0,0,i,n)}getShadowDocumentRoot(t=this.container){var i;const e=((i=t==null?void 0:t.ownerDocument)==null?void 0:i.body)??mc("body");for(;t!=null;){if(t===e)return;if(t.parentNode instanceof DocumentFragment)return t;t=t.parentNode}return this.container}getParent(t){return this.rootElements[t].element}getChildBoundingClientRect(t){const{children:e}=this.rootElements[t],i=[];for(const n of e.values())i.push(Et.fromDOMRect(n.getBoundingClientRect()));return Et.merge(i)}isManagedChildDOMElement(t,e,i){const{children:n}=this.rootElements[e],s=n==null?void 0:n.get(i);return s!=null&&t.contains(s)}contains(t,e){return e==null?this.element.contains(t):this.rootElements[e].element.contains(t)}addStyles(t,e){const i="data-ag-charts";if(this.styles.set(t,e),this.container==null)return;const n=o=>o.getAttribute(i)===t,s=o=>{const r=new Set(["TITLE","META"]);let l=!0,c;for(const p of o.children){if(l&&r.has(p.tagName)){c=p;continue}if(l=!1,n(p))return;p.hasAttribute(i)&&(c=p)}const h=ae("style");return c!=null?o.insertBefore(h,c.nextSibling):o.prepend(h),h};let a;this.styleRootElement?a=s(this.styleRootElement):this.getShadowDocumentRoot(this.container)!=null?a=this.addChild("styles",t):a=s(mc("head")),!(a==null||n(a))&&(a.setAttribute(i,t),a.innerHTML=e)}removeStyles(t){this.removeChild("styles",t)}updateCursor(t,e){this.cursorState.set(t,e),this.element.style.cursor=this.cursorState.stateValue()}getCursor(){return this.element.style.cursor}addChild(t,e,i,n){const{element:s,children:a,listeners:o}=this.rootElements[t];if(!a)throw new Error("AG Charts - unable to create DOM elements after destroy()");if(a.has(e))return a.get(e);const{childElementType:r="div"}=Pst.get(t)??{};if(i&&i.tagName.toLowerCase()!==r.toLowerCase())throw new Error("AG Charts - mismatching DOM element type");const l=i??ae(r);for(const[c,h,p]of o)l.addEventListener(c,h,p);if(a.set(e,l),n){const c=s.querySelector(n.query);if(c==null)throw new Error(`AG Charts - addChild query failed ${n.query}`);c.insertAdjacentElement(n.where,l)}else s==null||s.appendChild(l);return l}removeChild(t,e){var n;const{children:i}=this.rootElements[t];i&&((n=i.get(e))==null||n.remove(),i.delete(e))}incrementDataCounter(t){const{dataset:e}=this.element;e[t]??(e[t]="0"),e[t]=String(Number(e[t])+1)}setDataBoolean(t,e){this.element.dataset[t]=String(e)}updateContainerClassName(){const{element:t,containerSize:e,minWidth:i,minHeight:n}=this;t.classList.toggle(K4.safeHorizontal,i>=((e==null?void 0:e.width)??1/0)),t.classList.toggle(K4.safeVertical,n>=((e==null?void 0:e.height)??1/0))}},zst=class extends fl{constructor(){super(ae("div")),this.textElement=Ro("text"),this.textElement.role="presentation",this.svgElement=Ro("svg"),this.svgElement.appendChild(this.textElement),this.svgElement.style.width="100%",this.svgElement.style.opacity="0",this.svgElement.role="presentation",this.elem.appendChild(this.svgElement),this.elem.role="presentation"}set textContent(t){var n;this.textElement.textContent=t;const e=this.textElement,i=(n=e.getBBox)==null?void 0:n.call(e);i&&this.svgElement.setAttribute("viewBox",`${i.x} ${i.y} ${i.width} ${i.height}`)}get textContent(){return this.textElement.textContent}destructor(){}},ib=class extends fl{constructor(){super(ae("button")),this.setEnabled(!0)}destructor(){}setEnabled(t){_e(this.elem,"aria-disabled",!t),dr(this.elem,"pointer-events",t?void 0:"none")}addListener(t,e){return super.addListener(t,(i,n)=>{(t==="click"||t==="dblclick")&&this.isDisabled()||e(i,n)})}},_st=class extends fl{constructor(){super(ae("div")),_e(this.elem,"role","group")}destructor(){}},PU=class extends fl{constructor(t,e){super(ae("div")),this.focusedChildIndex=0,this.onChildFocus=(i,n)=>{const s=this.children[this.focusedChildIndex];this.focusedChildIndex=n.index,s==null||s.setTabIndex(-1),n.setTabIndex(0)},this.onChildKeyDown=(i,n)=>{var l;const s=this.orientation,[a,o]=s==="both"?[Gf.horizontal,Gf.vertical]:[Gf[s],void 0];let r=-1;if(mA(i.sourceEvent)){const c=i.sourceEvent.key;c===a.nextKey||c===(o==null?void 0:o.nextKey)?r=n.index+1:(c===a.prevKey||c===(o==null?void 0:o.prevKey))&&(r=n.index-1)}(l=this.children[r])==null||l.focus()},this.orientation=t,_e(this.elem,"role",e)}get orientation(){return gA(this.elem,"aria-orientation")??"both"}set orientation(t){_e(this.elem,"aria-orientation",t!=="both"?t:void 0)}focus(){var t;(t=this.children[this.focusedChildIndex])==null||t.focus()}onChildAdded(t){t.addListener("focus",this.onChildFocus),t.addListener("keydown",this.onChildKeyDown),t.setTabIndex(this.children.length===1?0:-1)}onChildRemoved(t){t.removeListener("focus",this.onChildFocus),t.removeListener("keydown",this.onChildKeyDown)}},jst=class extends PU{constructor(){super("both","list"),this.setHidden(!0)}destructor(){this.children.forEach(t=>t.getElement().parentElement.remove())}addChildToDOM(t,e){const i=ae("div");_e(i,"role","listitem"),dr(i,"position","absolute"),fl.setElementContainer(t,i),this.appendOrInsert(i,e),this.setHidden(!1)}removeChildFromDOM(t){t.getElement().parentElement.remove(),this.setHidden(this.children.length===0)}setHidden(t){this.children.length===0&&(t=!0),super.setHidden(t)}},eg=class extends fl{constructor(e){super(e)}destructor(){}},LN=class Lm extends fl{constructor(){super(ae("input")),this._step=Lm.STEP_ONE,this.orientation="both"}get step(){return this._step}set step(e){this._step=e,this.getElement().step=e.attributeValue}get keyboardStep(){var e;return((e=this._keyboardStep)==null?void 0:e.step)??this._step}set keyboardStep(e){var i;if(e!==((i=this._keyboardStep)==null?void 0:i.step)&&(this._keyboardStep!==void 0&&(this.removeListener("keydown",this._keyboardStep.onKeyDown),this.removeListener("keyup",this._keyboardStep.onKeyUp),this.removeListener("blur",this._keyboardStep.onBlur),this._keyboardStep=void 0),e!==void 0)){const n=()=>this.getElement().step=e.attributeValue,s=()=>this.getElement().step=this._step.attributeValue;this._keyboardStep={step:e,onKeyDown:n,onKeyUp:s,onBlur:s},this.addListener("keydown",this._keyboardStep.onKeyDown),this.addListener("keyup",this._keyboardStep.onKeyUp),this.addListener("blur",this._keyboardStep.onBlur)}}get orientation(){return gA(this.elem,"aria-orientation")??"both"}set orientation(e){_e(this.elem,"aria-orientation",e!=="both"?e:void 0),Lm.registerDefaultPreventers(this,e)}destructor(){}clampValueRatio(e,i){const n=this.getValueRatio(),s=qt(e,n,i);return s!==n&&this.setValueRatio(s),s}setValueRatio(e,i){const{divider:n}=this.step,s=Math.round(e*1e4)/n,{ariaValueText:a=JV(s/n)}=i??{},o=this.getElement();o.value=`${s}`,o.ariaValueText=a}getValueRatio(){return parseFloat(this.getElement().value)/this.step.divider}static registerDefaultPreventers(e,i){i==="both"?e.removeListener("keydown",Lm.onKeyDown):e.addListener("keydown",Lm.onKeyDown)}static onKeyDown(e,i){let n=[];const{orientation:s}=i;s==="horizontal"?n=["ArrowUp","ArrowDown"]:s==="vertical"&&(n=["ArrowLeft","ArrowRight"]),n.includes(e.sourceEvent.code)&&e.sourceEvent.preventDefault()}};LN.STEP_ONE={attributeValue:"1",divider:1};LN.STEP_HUNDRETH={attributeValue:"0.01",divider:100};var NN=LN,Fst=class extends ib{constructor(){super(),_e(this.elem,"role","switch"),this.setChecked(!1)}setChecked(t){_e(this.elem,"aria-checked",t)}},xA=class extends PU{constructor(t="horizontal"){super(t,"toolbar")}destructor(){}};function df(t,e){var i;return((i=e.params)==null?void 0:i.type)===t}function Gst(t){if(t==="button")return new ib;if(t==="slider")return new NN;if(t==="toolbar")return new xA;if(t==="group")return new _st;if(t==="list")return new jst;if(t==="region")return new eg(ae("div"));if(t==="text")return new zst;if(t==="listswitch")return new Fst;throw Error("AG Charts - error allocating meta")}function Z4(t){const e={params:t,result:void 0};return e.result=Gst(e.params.type),e}var BU=class{constructor(t,e){this.localeManager=t,this.domManager=e,this.destroyFns=[]}destroy(){this.destroyFns.forEach(t=>t())}addLocalisation(t){t(),this.destroyFns.push(this.localeManager.addListener("locale-changed",t))}createProxyContainer(t){const e=Z4(t),{params:i,result:n}=e,s=n.getElement();return this.domManager.addChild("canvas-proxy",i.domManagerId,s),s.classList.add(...i.classList,"ag-charts-proxy-container"),s.role=i.type,"ariaOrientation"in i&&(s.ariaOrientation=i.ariaOrientation),df("toolbar",e)&&(e.result.orientation=e.params.orientation),this.addLocalisation(()=>{s.ariaLabel=this.localeManager.t(i.ariaLabel.id,i.ariaLabel.params)}),n}createProxyElement(t){const e=Z4(t);if(df("button",e)){const{params:i,result:n}=e,s=n.getElement();if(this.initInteract(i,n),typeof i.textContent=="string")s.textContent=i.textContent;else{const{textContent:a}=i;this.addLocalisation(()=>{s.textContent=this.localeManager.t(a.id,a.params)})}this.setParent(e.params,e.result)}if(df("slider",e)){const{params:i,result:n}=e,s=n.getElement();this.initInteract(i,n),s.type="range",s.role="presentation",s.style.margin="0px",this.addLocalisation(()=>{s.ariaLabel=this.localeManager.t(i.ariaLabel.id,i.ariaLabel.params)}),this.setParent(e.params,e.result)}if(df("text",e)){const{params:i,result:n}=e;this.initElement(i,n),this.setParent(e.params,e.result)}if(df("listswitch",e)){const{params:i,result:n}=e;this.initInteract(i,n),n.setTextContent(i.textContent),n.setChecked(i.ariaChecked),n.setAriaDescribedBy(i.ariaDescribedBy),this.setParent(e.params,e.result)}if(df("region",e)){const{params:i,result:n}=e,s=n.getElement();this.initInteract(i,n),s.role="region",this.setParent(e.params,e.result)}return e.result}initElement(t,e){const i=e.getElement();return _e(i,"id",t.id),dr(i,"cursor",t.cursor),i.classList.toggle("ag-charts-proxy-elem",!0),i}initInteract(t,e){const{tabIndex:i,domIndex:n}=t,s=this.initElement(t,e);i!==void 0&&(s.tabIndex=i),n!==void 0&&(e.domIndex=n)}setParent(t,e){var i;if("parent"in t)(i=t.parent)==null||i.addChild(e);else{const n={where:t.where,query:".ag-charts-series-area"};this.domManager.addChild("canvas-proxy",t.domManagerId,e.getElement(),n)}}},Vst={ariaAnnounceHoverDatum:"${datum}",ariaAnnounceChart:"chart, ${seriesCount}[number] series",ariaAnnounceHierarchyChart:"hierarchy chart, ${caption}",ariaAnnounceGaugeChart:"gauge chart, ${caption}",ariaAnnounceHierarchyDatum:"level ${level}[number], ${count}[number] children, ${description}",ariaAnnounceFlowProportionLink:"link ${index} of ${count}, from ${from} to ${to}, ${sizeName} ${size}",ariaAnnounceFlowProportionNode:"node ${index} of ${count}, ${description}",ariaDescriptionLegendItem:"Press Space or Enter to toggle visibility",ariaLabelAddHorizontalLine:"Add Horizontal Line",ariaLabelAnnotationOptionsToolbar:"Annotation Options",ariaLabelAnnotationSettingsDialog:"Annotation Settings",ariaLabelColorPicker:"Color picker",ariaLabelFinancialCharts:"Financial Charts",ariaLabelLegend:"Legend",ariaLabelLegendPagination:"Legend Pagination",ariaLabelLegendPagePrevious:"Previous Legend Page",ariaLabelLegendPageNext:"Next Legend Page",ariaLabelLegendItem:"${label}, Legend item ${index}[number] of ${count}[number]",ariaLabelLegendItemUnknown:"Unknown legend item",ariaLabelNavigator:"Navigator",ariaLabelNavigatorRange:"Range",ariaLabelNavigatorMinimum:"Minimum",ariaLabelNavigatorMaximum:"Maximum",ariaLabelRangesToolbar:"Ranges",ariaLabelSettingsTabBar:"Settings",ariaLabelZoomToolbar:"Zoom",ariaValuePanRange:"${min}[percent] to ${max}[percent]",iconAltTextLineStyleSolid:"Solid",iconAltTextLineStyleDashed:"Long-dashed",iconAltTextLineStyleDotted:"Short-dashed",iconAltTextPositionTop:"Top",iconAltTextPositionCenter:"Center",iconAltTextPositionBottom:"Bottom",iconAltTextAlignLeft:"Left",iconAltTextAlignCenter:"Center",iconAltTextAlignRight:"Right",iconAltTextClose:"Close",overlayLoadingData:"Loading data...",overlayNoData:"No data to display",overlayNoVisibleSeries:"No visible series",overlayUnsupportedBrowser:"Incompatible browser version. Please upgrade your browser.",seriesHistogramTooltipFrequency:"Frequency",seriesHistogramTooltipSum:"${yName} (sum)",seriesHistogramTooltipCount:"${yName} (count)",seriesHistogramTooltipMean:"${yName} (mean)",toolbarSeriesTypeDropdown:"Chart Type",toolbarSeriesTypeOHLC:"OHLC",toolbarSeriesTypeHLC:"HLC",toolbarSeriesTypeHighLow:"High Low",toolbarSeriesTypeCandles:"Candles",toolbarSeriesTypeHollowCandles:"Hollow Candles",toolbarSeriesTypeLine:"Line",toolbarSeriesTypeLineWithMarkers:"Line with Markers",toolbarSeriesTypeStepLine:"Step Line",toolbarAnnotationsTrendLine:"Trend Line",toolbarAnnotationsFibonacciRetracement:"Fib Retracement",toolbarAnnotationsFibonacciRetracementTrendBased:"Fib Trend Based",toolbarAnnotationsHorizontalLine:"Horizontal Line",toolbarAnnotationsVerticalLine:"Vertical Line",toolbarAnnotationsParallelChannel:"Parallel Channel",toolbarAnnotationsDisjointChannel:"Disjoint Channel",toolbarAnnotationsClearAll:"Clear All",toolbarAnnotationsFillColor:"Fill Color",toolbarAnnotationsLineColor:"Line Color",toolbarAnnotationsLineStyle:"Line Style",toolbarAnnotationsLineStrokeWidth:"Line Stroke Width",toolbarAnnotationsSettings:"Settings",toolbarAnnotationsTextColor:"Text Color",toolbarAnnotationsTextSize:"Text Size",toolbarAnnotationsLock:"Lock",toolbarAnnotationsUnlock:"Unlock",toolbarAnnotationsDelete:"Delete",toolbarAnnotationsDragHandle:"Drag Toolbar",toolbarAnnotationsLineAnnotations:"Trend Lines",toolbarAnnotationsFibonacciAnnotations:"Fibonacci",toolbarAnnotationsTextAnnotations:"Text Annotations",toolbarAnnotationsShapeAnnotations:"Arrows",toolbarAnnotationsMeasurerAnnotations:"Measurers",toolbarAnnotationsCallout:"Callout",toolbarAnnotationsComment:"Comment",toolbarAnnotationsNote:"Note",toolbarAnnotationsText:"Text",toolbarAnnotationsArrow:"Arrow",toolbarAnnotationsArrowUp:"Arrow Up",toolbarAnnotationsArrowDown:"Arrow Down",toolbarAnnotationsDateRange:"Date Range",toolbarAnnotationsPriceRange:"Price Range",toolbarAnnotationsDatePriceRange:"Date and Price",toolbarAnnotationsQuickDatePriceRange:"Measure",toolbarRange1Month:"1M",toolbarRange1MonthAria:"1 month",toolbarRange3Months:"3M",toolbarRange3MonthsAria:"3 months",toolbarRange6Months:"6M",toolbarRange6MonthsAria:"6 months",toolbarRangeYearToDate:"YTD",toolbarRangeYearToDateAria:"Year to date",toolbarRange1Year:"1Y",toolbarRange1YearAria:"1 year",toolbarRangeAll:"All",toolbarRangeAllAria:"All",toolbarZoomZoomOut:"Zoom out",toolbarZoomZoomIn:"Zoom in",toolbarZoomPanLeft:"Pan left",toolbarZoomPanRight:"Pan right",toolbarZoomPanStart:"Pan to the start",toolbarZoomPanEnd:"Pan to the end",toolbarZoomReset:"Reset the zoom",contextMenuDownload:"Download",contextMenuToggleSeriesVisibility:"Toggle Visibility",contextMenuToggleOtherSeries:"Toggle Other Series",contextMenuZoomToCursor:"Zoom to here",contextMenuPanToCursor:"Pan to here",dialogHeaderChannel:"Channel",dialogHeaderLine:"Line",dialogHeaderFibonacciRange:"Fib Retracement",dialogHeaderDateRange:"Date Range",dialogHeaderPriceRange:"Price Range",dialogHeaderDatePriceRange:"Date and Price",dialogHeaderText:"Text",dialogInputAlign:"Align",dialogInputColorPicker:"Color",dialogInputColorPickerAltText:"Text Color",dialogInputFillColorPicker:"Fill",dialogInputFillColorPickerAltText:"Fill Color",dialogInputExtendChannelStart:"Extend channel start",dialogInputExtendChannelEnd:"Extend channel end",dialogInputExtendLineStart:"Extend line start",dialogInputExtendLineEnd:"Extend line end",dialogInputExtendAbove:"Extend above",dialogInputExtendBelow:"Extend below",dialogInputExtendLeft:"Extend left",dialogInputExtendRight:"Extend right",dialogInputReverse:"Reverse",dialogInputShowFill:"Show Fill",dialogInputFontSize:"Size",dialogInputFontSizeAltText:"Font Size",dialogInputLineStyle:"Dash",dialogInputPosition:"Position",dialogInputStrokeWidth:"Weight",dialogInputStrokeWidthAltText:"Line Weight",dialogInputFibonacciBands:"Bands",dialogInputFibonacciBandsAltText:"Fibonacci Bands",inputTextareaPlaceholder:"Add Text",measurerDateRangeBars:"${value}[number] bars",measurerPriceRangeValue:"${value}[number]",measurerPriceRangePercent:"${value}[percent]",measurerVolume:"Vol ${value}"},Ust=/\$\{(\w+)}(?:\[(\w+)])?/gi,zC={number:new Intl.NumberFormat("en-US"),percent:new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2}),date:new Intl.DateTimeFormat("en-US",{dateStyle:"full"}),time:new Intl.DateTimeFormat("en-US",{timeStyle:"full"}),datetime:new Intl.DateTimeFormat("en-US",{dateStyle:"full",timeStyle:"full"})},Hst=({defaultValue:t,variables:e})=>t==null?void 0:t.replaceAll(Ust,(i,n,s)=>{const a=e[n],o=s!=null?zC[s]:null;return s!=null&&o==null&&It.warnOnce(`Format style [${s}] is not supported`),o!=null?o.format(a):typeof a=="number"?zC.number.format(a):a instanceof Date?zC.datetime.format(a):String(a)}),Wst=class extends kc{constructor(){super(...arguments),this.localeText=void 0,this.getLocaleText=void 0}setLocaleText(t){this.localeText!==t&&(this.localeText=t,this.dispatch("locale-changed"))}setLocaleTextFormatter(t){this.getLocaleText=t,this.getLocaleText!==t&&(this.getLocaleText=t,this.dispatch("locale-changed"))}t(t,e={}){const{localeText:i=Vst,getLocaleText:n}=this,s=i[t];return(n==null?void 0:n({key:t,defaultValue:s,variables:e}))??Hst({defaultValue:s,variables:e})??t}},EN=class{constructor(t){this.enabled=!0,this.width=600,this.height=300;const{width:e,height:i,canvasElement:n,willReadFrequently:s=!1}=t;this.pixelRatio=t.pixelRatio??Qe("devicePixelRatio")??1,this.element=n??ae("canvas"),this.element.style.display="block",this.element.style.width=(e??this.width)+"px",this.element.style.height=(i??this.height)+"px",this.element.width=Math.round((e??this.width)*this.pixelRatio),this.element.height=Math.round((i??this.height)*this.pixelRatio),this.context=this.element.getContext("2d",{willReadFrequently:s}),this.onEnabledChange(),this.resize(e??0,i??0,this.pixelRatio),LV(this.context)}drawImage(t,e=0,i=0){return t.drawImage(this.context.canvas,e,i)}toDataURL(t){return this.element.toDataURL(t)}resize(t,e,i){if(!(t>0&&e>0))return;const{element:n,context:s}=this;n.width=Math.round(t*i),n.height=Math.round(e*i),s.setTransform(i,0,0,i,0,0),n.style.width=t+"px",n.style.height=e+"px",this.width=t,this.height=e,this.pixelRatio=i}clear(){kV(this)}destroy(){this.element.remove(),this.element.width=0,this.element.height=0,this.context.clearRect(0,0,0,0),Object.freeze(this)}onEnabledChange(){this.element&&(this.element.style.display=this.enabled?"":"none")}};N([nh(t=>t.onEnabledChange())],EN.prototype,"enabled",2);var Yst=class{constructor(t){this.canvas=t,this.debug=We.create(!0,"scene"),this.layersMap=new Map,this.nextLayerId=0}get size(){return this.layersMap.size}resize(t,e,i){this.canvas.resize(t,e,i),this.layersMap.forEach(({canvas:n})=>n.resize(t,e,i))}addLayer(t){const{width:e,height:i,pixelRatio:n}=this.canvas,{name:s}=t,a=new NV({width:e,height:i,pixelRatio:n});return this.layersMap.set(a,{id:this.nextLayerId++,name:s,canvas:a}),this.debug("Scene.addLayer() - layers",this.layersMap),a}removeLayer(t){this.layersMap.has(t)&&(this.layersMap.delete(t),t.destroy(),this.debug("Scene.removeLayer() -  layers",this.layersMap))}clear(){for(const t of this.layersMap.values())t.canvas.destroy();this.layersMap.clear()}};function $st(t){for(const e of["B","KB","MB","GB"]){if(t<1536)return`${t.toFixed(1)}${e}`;t/=1024}return`${t.toFixed(1)}TB}`}function Kst(){if(!("memory"in performance))return;const{totalJSHeapSize:t,usedJSHeapSize:e,jsHeapSizeLimit:i}=performance.memory,n=[];for(const s of[e,t,i])typeof s=="number"&&n.push($st(s));return`Heap ${n.join(" / ")}`}function q4(t,e,i,n,s={},a=Et.zero){if(!We.check("scene:stats","scene:stats:verbose"))return;const{layersRendered:o=0,layersSkipped:r=0,nodesRendered:l=0,nodesSkipped:c=0,opsPerformed:h=0,opsSkipped:p=0}=n??{},f=performance.now(),{start:y,...m}=e,b=Object.entries(m).map(([L,F])=>Q4(L,F)).filter(L=>L!=null).join(" + "),v=Object.entries(s).map(([L,F])=>`${L}: ${JSON.stringify(F)}`).join(" ; "),S=We.check("scene:stats:verbose"),D=Kst(),I=[`${Q4("",y,f)} (${b})`,`${v}`,`Layers: ${S?_C(o,r):t.size}`,S?`Nodes: ${_C(l,c)}`:null,S?`Ops: ${_C(h,p)}`:null,S&&D?D:null].filter(xa),T=new rN(L=>i.measureText(L)),k=new Map(I.map(L=>[L,T.measureLines(L)])),E=Math.max(...Array.from(k.values(),L=>L.width)),O=tat(k.values(),L=>L.height),B=2+a.x;i.save(),i.fillStyle="white",i.fillRect(B,0,E,O),i.fillStyle="black";let R=0;for(const[L,F]of k.entries())R+=F.height,i.fillText(L,B,R);i.restore()}function Xst(t){const e=YS(Qe("agChartsSceneDebug")),i=[];for(const n of e)n==="layout"?i.push("seriesRoot","legend","root",/.*Axis-\d+-axis.*/):i.push(n);t.debugNodeSearch=i}function Zst(t,e){t.save();for(const[i,n]of Object.entries(e)){const s=Di.toCanvas(n);if(!s){It.log(`Scene.render() - no bbox for debugged node [${i}].`);continue}t.globalAlpha=.8,t.strokeStyle="red",t.lineWidth=1,t.strokeRect(s.x,s.y,s.width,s.height),t.fillStyle="red",t.strokeStyle="white",t.font="16px sans-serif",t.textBaseline="top",t.textAlign="left",t.lineWidth=2,t.strokeText(i,s.x,s.y,s.width),t.fillText(i,s.x,s.y,s.width)}t.restore()}var qst=new Set,Qst=new Set(["gradient","zIndex","clipRect","cachedBBox","childNodeCounts","path","__zIndex","name","__scalingCenterX","__scalingCenterY","__rotationCenterX","__rotationCenterY","_previousDatum","__fill","__lineDash","borderPath","borderClipPath","_clipPath"]);function Jst(t){const{...e}=t;for(const i of Object.keys(e))Qst.has(i)||typeof e[i]!="number"&&typeof e[i]!="string"&&typeof e[i]!="boolean"&&(qst.add(i),delete e[i]);return e}function ES(t,e){if(!We.check(!0,"scene"))return{};let i=0;return{node:e==="json"?Jst(t):t,name:t.name??t.id,dirty:t.dirty,...Array.from(t.children(),n=>ES(n,e)).reduce((n,s)=>{let{name:a}=s;const{node:{visible:o,opacity:r,zIndex:l,translationX:c,translationY:h,rotation:p,scalingX:f,scalingY:y},node:m}=s;(!o||r<=0)&&(a=`(${a})`),Wt.is(m)&&m.renderToOffscreenCanvas&&(a=`*${a}*`);const b=Array.isArray(l)?`(${l.join(", ")})`:l,v=[`${(i++).toString().padStart(3,"0")}|`,`${a??"<unknown>"}`,`z: ${b}`,c&&`x: ${c}`,h&&`y: ${h}`,p&&`r: ${p}`,f!=null&&f!==1&&`sx: ${f}`,y!=null&&y!==1&&`sy: ${y}`].filter(I=>!!I).join(" ");let S=v,D=1;for(;n[S]!=null&&D<100;)S=`${v} (${D++})`;return n[S]=s,n},{})}}function zU(t){if(!t.dirty)return{dirtyTree:{},paths:[]};const e=Array.from(t.children(),s=>zU(s)).filter(s=>s.paths.length>0),i=Wt.is(t)?t.name??t.id:t.id,n=e.length?e.flatMap(s=>s.paths).map(s=>`${i}.${s}`):[i];return{dirtyTree:{name:i,node:t,dirty:t.dirty,...e.map(s=>s.dirtyTree).filter(s=>s.dirty!=null).reduce((s,a)=>(s[a.name??"<unknown>"]=a,s),{})},paths:n}}function _C(t,e){const i=t+e;return`${t} / ${i} (${Math.round(100*t/i)}%)`}function Q4(t,e,i){const n=i!=null?i-e:e;return`${t}: ${Math.round(n*100)/100}ms`}function tat(t,e){let i=0;for(const n of t)i+=e(n);return i}var bA=class{constructor(t){this.debug=We.create(!0,"scene"),this.id=Vo(this),this.root=null,this.pendingSize=null,this.isDirty=!1,this.canvas=new EN(t),this.layersManager=new Yst(this.canvas)}get width(){var t;return((t=this.pendingSize)==null?void 0:t[0])??this.canvas.width}get height(){var t;return((t=this.pendingSize)==null?void 0:t[1])??this.canvas.height}get pixelRatio(){var t;return((t=this.pendingSize)==null?void 0:t[2])??this.canvas.pixelRatio}setContainer(t){var i;const{element:e}=this.canvas;return(i=e.parentElement)==null||i.removeChild(e),t.appendChild(e),this}setRoot(t){var e;return this.root===t?this:(this.isDirty=!0,(e=this.root)==null||e._setLayerManager(),this.root=t,t&&(t.visible=!0,t._setLayerManager(this.layersManager)),this)}clear(){this.canvas.clear()}attachNode(t){return this.appendChild(t),()=>this.removeChild(t)}appendChild(t){var e;return(e=this.root)==null||e.appendChild(t),this}removeChild(t){var e;return(e=this.root)==null||e.removeChild(t),this}download(t,e){Y5(this.canvas.toDataURL(e),(t==null?void 0:t.trim())??"image")}getDataURL(t){return this.canvas.toDataURL(t)}resize(t,e,i){return t=Math.round(t),e=Math.round(e),i??(i=this.pixelRatio),t>0&&e>0&&(t!==this.width||e!==this.height||i!==this.pixelRatio)?(this.pendingSize=[t,e,i],this.isDirty=!0,!0):!1}render(t){var m;const{debugSplitTimes:e={start:performance.now()},extraDebugStats:i,seriesRect:n}=t??{},{canvas:s,canvas:{context:a}={},root:o,pendingSize:r,width:l,height:c,pixelRatio:h}=this;if(!a)return;const p=performance.now();if(r&&(this.layersManager.resize(...r),this.pendingSize=null),o&&!o.visible){this.isDirty=!1;return}if((o==null?void 0:o.dirty)===!1&&!this.isDirty){this.debug.check()&&this.debug("Scene.render() - no-op",{tree:ES(o,"console")}),q4(this.layersManager,e,a,void 0,i,n);return}const f={ctx:a,width:l,height:c,devicePixelRatio:h,debugNodes:{}};We.check("scene:stats:verbose")&&(f.stats={layersRendered:0,layersSkipped:0,nodesRendered:0,nodesSkipped:0,opsPerformed:0,opsSkipped:0}),Xst(f);let y=!1;if((o==null?void 0:o.dirty)!==!1&&(y=!0,s.clear()),o&&We.check("scene:dirtyTree")){const{dirtyTree:b,paths:v}=zU(o);We.create("scene:dirtyTree")("Scene.render() - dirtyTree",{dirtyTree:b,paths:v})}if(o&&y){if(o.visible&&o.preRender(f),this.debug.check()){const b=ES(o,"console");this.debug("Scene.render() - before",{canvasCleared:y,tree:b})}o.visible&&(a.save(),o.render(f),a.restore())}e[""]=performance.now()-p,(m=a.verifyDepthZero)==null||m.call(a),this.isDirty=!1,q4(this.layersManager,e,a,f.stats,i,n),Zst(a,f.debugNodes),o&&this.debug.check()&&this.debug("Scene.render() - after",{tree:ES(o,"console"),canvasCleared:y})}toSVG(){const{root:t,width:e,height:i}=this;if(t!=null)return Qu.toSVG(t,e,i)}strip(){const{context:t,pixelRatio:e}=this.canvas;t.setTransform(e,0,0,e,0,0),this.layersManager.clear(),this.setRoot(null),this.isDirty=!1}destroy(){this.strip(),this.canvas.destroy(),Object.assign(this,{canvas:void 0})}};bA.className="Scene";var eat=class{constructor(){this.cache=new WeakMap}call(t,...e){let i,n=this.cache.get(t);try{i=JSON.stringify(e)}catch{return this.invoke(t,e,n)}return n==null&&(n=new Map,this.cache.set(t,n)),n.has(i)?n.get(i):this.invoke(t,e,n,i)}invoke(t,e,i,n){try{const s=t(...e);return i&&n!=null&&i.set(n,s),s}catch(s){It.warnOnce("User callback errored, ignoring",s);return}}invalidateCache(){this.cache=new WeakMap}},iat=class extends oh{constructor(t){super(),this.annotationRoot=t,this.mementoOriginatorKey="annotations",this.annotations=[]}createMemento(){return this.annotations}guardMemento(t){return t==null||Je(t)}restoreMemento(t,e,i){this.annotations=this.cleanData(i??[]).map(n=>{const s=this.getAnnotationTypeStyles(n.type);return ie(n,s)}),this.listeners.dispatch("restore-annotations",{type:"restore-annotations",annotations:this.annotations})}updateData(t){this.annotations=this.cleanData(t??[])}attachNode(t){return this.annotationRoot.append(t),()=>{var e;return(e=this.annotationRoot)==null||e.removeChild(t),this}}setAnnotationStyles(t){this.styles=t}getAnnotationTypeStyles(t){var e;return(e=this.styles)==null?void 0:e[t]}cleanData(t){for(const e of t)"textAlign"in e&&delete e.textAlign;return t}},nat=class{constructor(t){this.sceneRoot=t,this.axes=new Map,this.axisGridGroup=new Wt({name:"Axes-Grids",zIndex:1}),this.axisGroup=new Wt({name:"Axes",zIndex:2}),this.axisLabelGroup=new Wt({name:"Axes-Labels",zIndex:13}),this.axisCrosslineRangeGroup=new Wt({name:"Axes-Crosslines-Range",zIndex:4}),this.axisCrosslineLineGroup=new Wt({name:"Axes-Crosslines-Line",zIndex:8}),this.axisCrosslineLabelGroup=new Wt({name:"Axes-Crosslines-Label",zIndex:13}),this.sceneRoot.appendChild(this.axisGroup),this.sceneRoot.appendChild(this.axisGridGroup),this.sceneRoot.appendChild(this.axisLabelGroup),this.sceneRoot.appendChild(this.axisCrosslineRangeGroup),this.sceneRoot.appendChild(this.axisCrosslineLineGroup),this.sceneRoot.appendChild(this.axisCrosslineLabelGroup)}updateAxes(t,e){var n;const i={axisNode:this.axisGroup,gridNode:this.axisGridGroup,labelNode:this.axisLabelGroup,crossLineRangeNode:this.axisCrosslineRangeGroup,crossLineLineNode:this.axisCrosslineLineGroup,crossLineLabelNode:this.axisCrosslineLabelGroup};for(const s of t)e.includes(s)||(s.detachAxis(i),s.destroy());for(const s of e)t!=null&&t.includes(s)||s.attachAxis(i);this.axes.clear();for(const s of e){const a=s.createAxisContext();this.axes.has(a.direction)?(n=this.axes.get(a.direction))==null||n.push(a):this.axes.set(a.direction,[a])}}getAxisContext(t){return this.axes.get(t)??[]}destroy(){this.axes.clear(),this.sceneRoot.removeChild(this.axisGroup),this.sceneRoot.removeChild(this.axisGridGroup)}},vA=class extends kc{constructor(t){super(),this.animationManager=t,this.dispatchOnlyLatest=!0,this.dispatchThrottle=0,this.requestThrottle=300,this.isLoadingInitialData=!1,this.isLoadingData=!1,this.freshRequests=[],this.requestCounter=0,this.debug=We.create(!0,"data-model","data-source"),this.throttledFetch=this.createThrottledFetch(this.requestThrottle),this.throttledDispatch=this.createThrottledDispatch(this.dispatchThrottle)}updateCallback(t){typeof t=="function"&&(this.debug("DataService - updated data source callback"),this.dataSourceCallback=t,this.isLoadingInitialData=!0,this.animationManager.skip(),this.dispatch("data-source-change"))}clearCallback(){this.dataSourceCallback=void 0}load(t){this.isLoadingData=!0,this.throttledFetch(t)}isLazy(){return this.dataSourceCallback!=null}isLoading(){return this.isLazy()&&(this.isLoadingInitialData||this.isLoadingData)}createThrottledFetch(t){return y4(e=>this.fetch(e).catch(i=>It.error("callback failed",i)),t,{leading:!1,trailing:!0})}createThrottledDispatch(t){return y4((e,i)=>{this.debug(`DataService - dispatching 'data-load' | ${e}`),this.dispatch("data-load",{type:"data-load",data:i})},t,{leading:!0,trailing:!0})}async fetch(t){if(!this.dataSourceCallback)throw new Error("DataService - [dataSource.getData] callback not initialised");const e=performance.now(),i=this.requestCounter++;this.debug(`DataService - requesting | ${i}`),this.freshRequests.push(i);let n;try{n=await this.dataSourceCallback(t),this.debug(`DataService - response | ${performance.now()-e}ms | ${i}`)}catch(a){this.debug(`DataService - request failed | ${i}`),It.errorOnce(`DataService - request failed | [${a}]`)}this.isLoadingInitialData=!1;const s=this.freshRequests.findIndex(a=>a===i);if(s===-1||this.dispatchOnlyLatest&&s!==this.freshRequests.length-1){this.debug(`DataService - discarding stale request | ${i}`);return}this.freshRequests=this.freshRequests.slice(s+1),this.freshRequests.length===0&&(this.isLoadingData=!1),Array.isArray(n)?this.throttledDispatch(i,n):this.dispatch("data-error")}};N([Sa({newValue(t){this.throttledDispatch=this.createThrottledDispatch(t)}})],vA.prototype,"dispatchThrottle",2);N([Sa({newValue(t){this.throttledFetch=this.createThrottledFetch(t)}})],vA.prototype,"requestThrottle",2);var J4=class{constructor(t){this.maxAnimationTime=t,this.debug=We.create(!0,"animation"),this.controllers=new Map,this.stoppedCbs=new Set,this.currentPhase=0,this.phases=new Map(Lf.map(e=>[e,[]])),this.skipAnimations=!1,this.animationTimeConsumed=0,this.isReady=!1}get size(){return this.controllers.size}get consumedTimeMs(){return this.animationTimeConsumed}isActive(){return this.controllers.size>0}getActiveControllers(){return this.phases.get(Lf[this.currentPhase])??[]}checkOverlappingId(t){t!=null&&this.controllers.has(t)&&(this.controllers.get(t).stop(),this.debug(`Skipping animation batch due to update of existing animation: ${t}`),this.skip())}addAnimation(t){var i;if(t.isComplete)return;if(Lf.indexOf(t.phase)<this.currentPhase){this.debug("Skipping animation due to being for an earlier phase",t.id),t.stop();return}this.controllers.set(t.id,t),(i=this.phases.get(t.phase))==null||i.push(t)}removeAnimation(t){this.controllers.delete(t.id);const e=this.phases.get(t.phase),i=e==null?void 0:e.indexOf(t);i!=null&&i>=0&&(e==null||e.splice(i,1))}progress(t){if(!this.isReady)return;let e=t===0?.01:t;const i=()=>{const c=Lf[this.currentPhase];return{phaseControllers:[...this.getActiveControllers()],phase:c,phaseMeta:ox[c]}};let{phase:n,phaseControllers:s,phaseMeta:a}=i();const o=()=>Lf[this.currentPhase]==null,r=()=>{for({phase:n,phaseControllers:s,phaseMeta:a}=i();!o()&&s.length===0;)this.currentPhase++,{phase:n,phaseControllers:s,phaseMeta:a}=i(),this.debug(`AnimationBatch - phase changing to ${n}`,{unusedTime:e},s)},l=this.controllers.size;this.debug(`AnimationBatch - ${t}ms; phase ${n} with ${s==null?void 0:s.length} of ${l}`);do{const c=e,h=a.skipIfNoEarlierAnimations&&this.animationTimeConsumed===0;let p=0;for(const f of s)h?f.stop():e=Math.min(f.update(c),e),f.isComplete&&(p++,this.removeAnimation(f));this.animationTimeConsumed+=c-e,this.debug(`AnimationBatch - updated ${s.length} controllers; ${p} completed`),this.debug(`AnimationBatch - animationTimeConsumed: ${this.animationTimeConsumed}`),r()}while(e>0&&!o());this.animationTimeConsumed>this.maxAnimationTime&&(this.debug("Animation batch exceeded max animation time, skipping",[...this.controllers]),this.stop())}ready(){if(this.isReady)return;this.isReady=!0,this.debug(`AnimationBatch - ready; skipped: ${this.skipAnimations}`,[...this.controllers]);let t=!0;for(const[,e]of this.controllers)if(e.duration>0&&ox[e.phase].skipIfNoEarlierAnimations!==!0){t=!1;break}if(!t)for(const[,e]of this.controllers)e.autoplay&&e.play(!0)}skip(t=!0){if(this.skipAnimations===!1&&t===!0){for(const e of this.controllers.values())e.stop();this.controllers.clear()}this.skipAnimations=t}play(){for(const t of this.controllers.values())t.play()}stop(){for(const t of this.controllers.values())try{t.stop(),this.removeAnimation(t)}catch(e){It.error("Error during animation stop",e)}this.dispatchStopped()}stopByAnimationId(t){if(t!=null&&this.controllers.has(t)){const e=this.controllers.get(t);e&&(e.stop(),this.removeAnimation(e))}}stopByAnimationGroupId(t){for(const e of this.controllers.values())e.groupId===t&&this.stopByAnimationId(e.id)}dispatchStopped(){this.stoppedCbs.forEach(t=>t()),this.stoppedCbs.clear()}isSkipped(){return this.skipAnimations}destroy(){this.stop(),this.controllers.clear()}},_U=(t=>(t[t.Default=32]="Default",t[t.ZoomDrag=16]="ZoomDrag",t[t.Annotations=8]="Annotations",t[t.ContextMenu=4]="ContextMenu",t[t.Animation=2]="Animation",t[t.AnnotationsSelected=1]="AnnotationsSelected",t[t.Clickable=41]="Clickable",t[t.Focusable=34]="Focusable",t[t.Keyable=43]="Keyable",t[t.ContextMenuable=36]="ContextMenuable",t[t.AnnotationsMoveable=9]="AnnotationsMoveable",t[t.AnnotationsDraggable=57]="AnnotationsDraggable",t[t.ZoomDraggable=50]="ZoomDraggable",t[t.ZoomClickable=34]="ZoomClickable",t[t.ZoomWheelable=59]="ZoomWheelable",t[t.All=63]="All",t))(_U||{}),jU=class{constructor(){this.stateQueue=34}pushState(t){this.stateQueue|=t}popState(t){this.stateQueue&=~t}isState(t){return!!(this.stateQueue&-this.stateQueue&t)}};function t_(t){return t==null?!0:!isNaN(t)&&t>=0&&t<=2}var FU=class{constructor(t,e){this.interactionManager=t,this.chartUpdateMutex=e,this.defaultDuration=1e3,this.batch=new J4(this.defaultDuration*1.5),this.debug=We.create(!0,"animation"),this.events=new GL,this.rafAvailable=typeof requestAnimationFrame<"u",this.isPlaying=!0,this.requestId=null,this.skipAnimations=!0,this.currentAnonymousAnimationId=0}addListener(t,e){return this.events.on(t,e)}animate(t){const e=this.batch;try{e.checkOverlappingId(t.id)}catch(r){this.failsafeOnError(r);return}let{id:i}=t;i==null&&(i=`__${this.currentAnonymousAnimationId}`,this.currentAnonymousAnimationId+=1);const n=this.isSkipped()||t.phase==="none";n&&this.debug("AnimationManager - skipping animation");const{delay:s,duration:a}=t;if(!t_(s))throw new Error(`Animation delay of ${s} is unsupported (${i})`);if(!t_(a))throw new Error(`Animation duration of ${a} is unsupported (${i})`);const o=new aV({...t,id:i,skip:n,autoplay:this.isPlaying?t.autoplay:!1,phase:t.phase,defaultDuration:this.defaultDuration});if(!this.forceTimeJump(o,this.defaultDuration))return this.batch.addAnimation(o),o}play(){if(!this.isPlaying){this.isPlaying=!0,this.debug("AnimationManager.play()");try{this.batch.play()}catch(t){this.failsafeOnError(t)}this.requestAnimation()}}stop(){this.isPlaying=!1,this.cancelAnimation(),this.debug("AnimationManager.stop()"),this.batch.stop()}stopByAnimationId(t){try{this.batch.stopByAnimationId(t)}catch(e){this.failsafeOnError(e)}}stopByAnimationGroupId(t){try{this.batch.stopByAnimationGroupId(t)}catch(e){this.failsafeOnError(e)}}reset(){this.isPlaying?(this.stop(),this.play()):this.stop()}skip(t=!0){this.skipAnimations=t}isSkipped(){return!this.rafAvailable||this.skipAnimations||this.batch.isSkipped()}isActive(){return this.isPlaying&&this.batch.isActive()}skipCurrentBatch(){this.debug.check()&&this.debug("AnimationManager - skipCurrentBatch()",{stack:new Error().stack}),this.batch.skip()}isSkippingFrames(){return!0}scheduleAnimationFrame(t){this.requestId=Qe().requestAnimationFrame(e=>{t(e).catch(i=>It.error(i))})}forceTimeJump(t,e){return!1}requestAnimation(){if(!this.rafAvailable||!this.batch.isActive()||this.requestId!==null)return;let t;const e=async i=>{const n=()=>{const s=i-(t??i);t=i,this.debug("AnimationManager - onAnimationFrame()",{controllersCount:this.batch.size,deltaTime:s}),this.interactionManager.pushState(2);try{this.batch.progress(s)}catch(a){this.failsafeOnError(a)}this.events.emit("animation-frame",{type:"animation-frame",deltaMs:s})};this.isSkippingFrames()?await this.chartUpdateMutex.acquireImmediately(n):await this.chartUpdateMutex.acquire(n),this.batch.isActive()?this.scheduleAnimationFrame(e):(this.batch.stop(),this.events.emit("animation-stop",{type:"animation-stop",deltaMs:this.batch.consumedTimeMs}))};this.events.emit("animation-start",{type:"animation-start",deltaMs:0}),this.scheduleAnimationFrame(e)}cancelAnimation(){this.requestId!==null&&(cancelAnimationFrame(this.requestId),this.requestId=null,this.startBatch())}failsafeOnError(t,e=!0){It.error("Error during animation, skipping animations",t),e&&this.cancelAnimation()}startBatch(t){this.debug(`AnimationManager - startBatch() with skipAnimations=${t}.`),this.reset(),this.batch.destroy(),this.batch=new J4(this.defaultDuration*1.5),t===!0&&this.batch.skip()}endBatch(){this.batch.isActive()?(this.batch.ready(),this.requestAnimation()):(this.interactionManager.popState(2),this.batch.isSkipped()&&this.batch.skip(!1))}onBatchStop(t){this.batch.stoppedCbs.add(t)}destroy(){this.stop(),this.events.clear()}},GU=class extends oh{seriesEvent(t){this.listeners.dispatch(t,{type:t})}seriesKeyNavZoom(t,e){const i={type:"series-keynav-zoom",delta:t,widgetEvent:e};this.listeners.dispatch("series-keynav-zoom",i)}legendItemClick(t,e,i,n,s){const a={type:"legend-item-click",legendType:t,series:e,itemId:i,enabled:n,legendItemName:s};this.listeners.dispatch("legend-item-click",a)}legendItemDoubleClick(t,e,i,n,s,a){const o={type:"legend-item-double-click",legendType:t,series:e,itemId:i,enabled:n,legendItemName:a,numVisibleItems:s};this.listeners.dispatch("legend-item-double-click",o)}},VU=class{constructor(){this.defaultActions=[],this.disabledActions=new Set,this.hiddenActions=new Set,this.listeners=new kc}static check(e,i){return i.type===e}static checkCallback(e,i,n){return e===i}dispatchContext(e,i,n,s){const{sourceEvent:a}=i,o=(s==null?void 0:s.x)??i.canvasX,r=(s==null?void 0:s.y)??i.canvasY;a.stopPropagation();const l={type:e,x:o,y:r,context:n,sourceEvent:a};this.listeners.dispatch("",l)}addListener(e){return this.listeners.addListener("",e)}filterActions(e){return this.defaultActions.filter(i=>i.id!=null&&!this.hiddenActions.has(i.id)&&["all",e].includes(i.type))}registerDefaultAction(e){const i=e.id!=null&&!this.defaultActions.some(({id:n})=>n===e.id);return i&&this.defaultActions.push(e),()=>{const n=i?this.defaultActions.findIndex(({id:s})=>s===e.id):-1;n!==-1&&this.defaultActions.splice(n,1)}}enableAction(e){this.disabledActions.delete(e)}disableAction(e){this.disabledActions.add(e)}showAction(e){this.hiddenActions.add(e)}hideAction(e){this.hiddenActions.delete(e)}isDisabled(e){return this.disabledActions.has(e)}},UU=class extends oh{constructor(){super(...arguments),this.highlightStates=new tg}updateHighlight(t,e){const{activeHighlight:i}=this;this.highlightStates.set(t,e),this.activeHighlight=this.highlightStates.stateValue(),this.isEqual(this.activeHighlight,i)||this.listeners.dispatch("highlight-change",{type:"highlight-change",currentHighlight:this.activeHighlight,previousHighlight:i,callerId:t})}getActiveHighlight(){return this.activeHighlight}isEqual(t,e){return t===e||t!=null&&e!=null&&(t==null?void 0:t.series)===(e==null?void 0:e.series)&&(t==null?void 0:t.itemId)===(e==null?void 0:e.itemId)&&(t==null?void 0:t.datum)===(e==null?void 0:e.datum)}};function e_(t,e){if(t==null||e.length===0)return[!1,!1];const i=t.valueOf(),n=e[0],s=e[e.length-1];if(typeof n=="string")return[i===n,i===s];let a=n.valueOf(),o=s.valueOf();return a>o&&([a,o]=[o,a]),[i===a,i===o]}function Wu(t,e,i,n,s){const{xValue:a,yValue:o}=t,[r,l]=e_(o,s),[c,h]=e_(a,n);return{datum:t,xKey:e,yKey:i,xValue:a,yValue:o,first:c,last:h,min:r,max:l}}function HU(t,[e,i],n){const s=G5(0,t-1,o=>{var l;const r=((l=n(o))==null?void 0:l[1])??NaN;return!Number.isFinite(r)||r>e})??0;let a=F5(0,t-1,o=>{var l;const r=((l=n(o))==null?void 0:l[0])??NaN;return!Number.isFinite(r)||r<i})??t-1;return a=Math.min(a+1,t),[s,a]}function ON(t,e){var n,s;const i=((n=e.yBar)==null?void 0:n.upperPoint)??e.midPoint??((s=t.datumMidPoint)==null?void 0:s.call(t,e));if(i){const{x:a,y:o}=Di.toCanvasPoint(t.contentGroup,i.x,i.y);return{canvasX:Math.round(a),canvasY:Math.round(o)}}}function WU(t,e,i,n,s){let a=-1,o=0,r=0,l=!1;for(;o<n&&a<=e-t;){a+=1;const c=i+r;if(l||(r*=-1),r>=0&&(r+=1),l&&r<0&&(r-=1),c<t||c>e){l=!0;continue}s(c)&&(o+=1)}return o}var aM=class{constructor(e,i){this.domManager=e,this.tooltip=i,this.stateTracker=new tg,this.suppressState=new tg(!1),this.appliedState=null,i.setup(e),e.addListener("hidden",()=>this.tooltip.hide())}updateTooltip(e,i,n){var s;this.tooltip.enabled&&(n??(n=(s=this.stateTracker.get(e))==null?void 0:s.content),this.stateTracker.set(e,{content:n,meta:i}),this.applyStates())}removeTooltip(e){this.tooltip.enabled&&(this.stateTracker.delete(e),this.applyStates())}suppressTooltip(e){this.suppressState.set(e,!0)}unsuppressTooltip(e){this.suppressState.delete(e)}destroy(){this.domManager.removeStyles("tooltip")}applyStates(){var a;const e=this.stateTracker.stateId(),i=e?this.stateTracker.get(e):null;if(this.suppressState.stateValue()||(i==null?void 0:i.meta)==null||(i==null?void 0:i.content)==null){this.appliedState=null,this.tooltip.hide();return}const n=this.domManager.getBoundingClientRect(),s=this.tooltip.bounds==="extended"?this.domManager.getOverlayClientRect():n;if(((a=this.appliedState)==null?void 0:a.content)===(i==null?void 0:i.content)){const o=this.tooltip.isVisible();this.tooltip.show(s,n,i==null?void 0:i.meta,null,o)}else this.tooltip.show(s,n,i==null?void 0:i.meta,i==null?void 0:i.content);this.appliedState=i}static makeTooltipMeta(e,i,n){var c;const{canvasX:s,canvasY:a}=e,o=i.properties.tooltip,r={canvasX:s,canvasY:a,enableInteraction:((c=o.interaction)==null?void 0:c.enabled)??!1,lastPointerEvent:{type:e.type,canvasX:s,canvasY:a},showArrow:o.showArrow,position:{type:o.position.type,xOffset:o.position.xOffset,yOffset:o.position.yOffset}},l=ON(i,n);return(o.position.type==="node"||o.position.type==="sparkline")&&l?{...r,canvasX:l.canvasX,canvasY:l.canvasY}:r}isEnteringInteractiveTooltip(e){const{tooltip:i}=this,n=e.sourceEvent.relatedTarget;return i.interactive&&i.enabled&&i.isVisible()&&i.contains(n)}},i_=3,sat=505;function jC(t,e,i){const{offsetX:n,offsetY:s,clientX:a,clientY:o,currentX:r,currentY:l,sourceEvent:c}=i;return{type:e,device:t,offsetX:n,offsetY:s,clientX:a,clientY:o,currentX:r,currentY:l,sourceEvent:c}}function n_(t,e){const i=t*t+e*e,n=i_*i_;return i>=n}var YU=class{constructor(t){this.destroyFns=[],this.listeners=new kc,this.isDragging=!1,this.touch={distanceTravelledX:0,distanceTravelledY:0,clientX:0,clientY:0},this.destroyFns.push(t.addListener("touchstart",this.onTouchStart.bind(this)),t.addListener("touchmove",this.onTouchMove.bind(this)),t.addListener("touchend",this.onTouchEnd.bind(this)),t.addListener("mousemove",this.onMouseMove.bind(this)),t.addListener("dblclick",this.onDblClick.bind(this)),t.addListener("drag-start",this.onDragStart.bind(this)),t.addListener("drag-move",this.onDragMove.bind(this)),t.addListener("drag-end",this.onDragEnd.bind(this)))}destroy(){this.destroyFns.forEach(t=>t()),this.listeners.destroy()}addListener(t,e){return this.listeners.addListener(t,e)}dispatch(t){this.listeners.dispatch(t.type,t)}onTouchStart(t){const{clientX:e,clientY:i}=t.sourceEvent.targetTouches.item(0)??{clientX:1/0,clientY:1/0};this.touch.distanceTravelledX=0,this.touch.distanceTravelledY=0,this.touch.clientX=e,this.touch.clientY=i}onTouchMove(t){const{clientX:e,clientY:i}=t.sourceEvent.targetTouches.item(0)??{clientX:1/0,clientY:1/0};this.touch.distanceTravelledX+=Math.abs(this.touch.clientX-e),this.touch.distanceTravelledY+=Math.abs(this.touch.clientY-i),this.touch.clientX=e,this.touch.clientY=i}onTouchEnd(t){t.sourceEvent.preventDefault()}onMouseMove(t){this.dispatch(t)}onDblClick(t){this.dispatch({device:"mouse",...t})}onDragStart(t){this.dragStartEvent=t}onDragMove(t){this.dragStartEvent!=null&&n_(t.originDeltaX,t.originDeltaY)&&(this.dispatch(this.dragStartEvent),this.dispatch({...this.dragStartEvent,type:"drag-move"}),this.dragStartEvent=void 0,this.isDragging=!0),this.isDragging&&this.dispatch(t)}onDragEnd(t){if(this.isDragging){this.dispatch(t),this.isDragging=!1;return}if(t.device==="mouse"){const e=jC("mouse","click",t);this.dispatch(e)}else if(t.sourceEvent.type==="touchend"){if(n_(this.touch.distanceTravelledX,this.touch.distanceTravelledY))return;const e=jC("touch","click",t);this.dispatch(e);const i=Date.now();if(this.lastClickTime!==void 0&&i-this.lastClickTime<=sat){const n=jC(t.device,"dblclick",t);this.dispatch(n),this.lastClickTime=void 0}else this.lastClickTime=i}}},FC=class extends eg{constructor(t){super(t)}addChildToDOM(){}removeChildFromDOM(){}},aat=class{constructor(t){this.seriesWidget=new FC(t.getParent("series-area")),this.chartWidget=new FC(t.getParent("canvas-proxy")),this.containerWidget=new FC(t.getParent("canvas-container")),this.containerWidget.addChild(this.chartWidget),this.chartWidget.addChild(this.seriesWidget),this.seriesDragInterpreter=new YU(this.seriesWidget)}destroy(){this.seriesDragInterpreter.destroy(),this.seriesWidget.destroy(),this.chartWidget.destroy(),this.containerWidget.destroy()}},Pk={bottomCenter:uat,center:cat,clone:fat,collides:gat,end:rat,from:yat,height:dat,round:pat,start:oat,topCenter:lat,origin:mat,width:hat};function oat(t){return{x:t.x1,y:t.y1}}function rat(t){return{x:t.x2,y:t.y2}}function lat(t){return{x:(t.x1+t.x2)/2,y:Math.min(t.y1,t.y2)}}function cat(t){return{x:(t.x1+t.x2)/2,y:(t.y1+t.y2)/2}}function uat(t){return{x:(t.x1+t.x2)/2,y:Math.max(t.y1,t.y2)}}function hat(t){return Math.abs(t.x2-t.x1)}function dat(t){return Math.abs(t.y2-t.y1)}function pat(t){return{x1:Math.round(t.x1),y1:Math.round(t.y1),x2:Math.round(t.x2),y2:Math.round(t.y2)}}function fat(t){return{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2}}function gat(t,e){const i=s_(t),n=s_(e);return i.x1<=n.x2&&i.x2>=n.x1&&i.y1<=n.y2&&i.y2>=n.y1}function s_(t){return{x1:Math.min(t.x1,t.x2),x2:Math.max(t.x1,t.x2),y1:Math.min(t.y1,t.y2),y2:Math.max(t.y1,t.y2)}}function yat(t,e,i,n){if(typeof t=="number")return{x1:t,y1:e,x2:i,y2:n};if("width"in t)return{x1:t.x,y1:t.y,x2:t.x+t.width,y2:t.y+t.height};throw new Error(`Values can not be converted into a vector4: [${JSON.stringify(t)}] [${e}] [${i}] [${n}]`)}function mat(){return{x1:0,y1:0,x2:0,y2:0}}function vv(t,e,i,n,s){return e+(n-e)*((s-t)/(i-t))}function a_(t,e,i,n,s){return t+(s-e)*((i-t)/(n-e))}function o_(t,e,i){return[a_(t,i.min,e,i.max,0),a_(t,i.min,e,i.max,1)]}function xat(t,e,i){const[n,s]=o_(t.x1,t.x2,e),[a,o]=o_(t.y1,t.y2,i);return{x1:n,x2:s,y1:a,y2:o}}function r_(t,e,i,n,s,a){if(i<=s&&a<=n)return i;const o=s-i,r=a-n,l=Math.abs(o)<Math.abs(r)?o:r;return qt(t,i+l,e)}function bat(t,e,i){const{x:n={min:0,max:1},y:s={min:0,max:1}}=e,a=Pk.from(i),o=Pk.from(t),r=xat(o,n,s),l=r_(r.x1,r.x2,o.x1,o.x2,a.x1,a.x2),c=r_(r.y1,r.y2,o.y1,o.y2,a.y1,a.y2);return{x:{min:vv(o.x1,n.min,o.x2,n.max,l),max:vv(o.x1,n.min,o.x2,n.max,l+t.width)},y:{min:vv(o.y1,s.min,o.y2,s.max,c),max:vv(o.y1,s.min,o.y2,s.max,c+t.height)}}}var vat=["rangeX","rangeY","ratioX","ratioY","autoScaledAxes"],Sat=class{constructor(){this.enabled=!1,this.padding=0,this.manuallyAdjusted=!1}},l_=t=>Ns((e,i)=>!ke.is(t==null?void 0:t.scale)&&!al.is(t==null?void 0:t.scale)||e==null||i.end==null?!0:e<=i.end,"to be less than end"),$U=class extends oh{constructor(t,e){super(),this.fireChartEvent=t,this.mementoOriginatorKey="zoom",this.axisZoomManagers=new Map,this.state=new tg(void 0,"initial"),this.axes=[],this.didLayoutAxes=!1,this.autoScaleYAxis=new Sat,this.lastRestoredState=void 0,this.independentAxes=!1,this.navigatorModule=!1,this.zoomModule=!1,this.pendingMemento=void 0,this.destroyFns.push(e.addListener("layout:complete",()=>{const{pendingMemento:i}=this,n=!this.didLayoutAxes;this.didLayoutAxes=!0,i?this.restoreMemento(i.version,i.mementoVersion,i.memento):n&&this.autoScaleYZoom("zoom-manager")}))}createMemento(){return this.getMementoRanges()}guardMemento(t,e){if(t==null)return!0;if(!Gn(t))return!1;for(const o of Object.keys(t))if(!vat.includes(o))return!1;const i=this.getPrimaryAxis("x"),n=this.getPrimaryAxis("y"),s={rangeX:{start:dv(Ad(cc,pv),l_(i)),end:Ad(cc,pv)},rangeY:{start:dv(Ad(cc,pv),l_(n)),end:Ad(cc,pv)},ratioX:{start:dv(fv,b4("end")),end:fv},ratioY:{start:dv(fv,b4("end")),end:fv},autoScaledAxes:xk(vet("y"))},a=WM(t,s);return a.errors.length>0?(e.push(...a.errors.map(o=>o.message)),!1):!0}restoreMemento(t,e,i){var r;const{independentAxes:n}=this;if(!this.axes||!this.didLayoutAxes){this.pendingMemento={version:t,mementoVersion:e,memento:i};return}this.pendingMemento=void 0;const s=this.getDefinedZoom();if(i!=null&&i.rangeX?s.x=this.rangeToRatio(i.rangeX,"x")??{min:0,max:1}:i!=null&&i.ratioX?s.x={min:i.ratioX.start??0,max:i.ratioX.end??1}:s.x={min:0,max:1},!this.navigatorModule||this.zoomModule){let l=(r=i==null?void 0:i.autoScaledAxes)==null?void 0:r.includes("y");i!=null&&i.rangeY?(s.y=this.rangeToRatio(i.rangeY,"y")??{min:0,max:1},l??(l=!1)):i!=null&&i.ratioY?(s.y={min:i.ratioY.start??0,max:i.ratioY.end??1},l??(l=!1)):(s.y={min:0,max:1},l??(l=!0)),s.autoScaleYAxis=l}if(this.lastRestoredState=s,n!==!0){this.updateZoom("zoom-manager",s);return}const a=this.getPrimaryAxis("x"),o=this.getPrimaryAxis("y");for(const l of[a,o])l&&this.updateAxisZoom("zoom-manager",l.id,s[l.direction])}updateAxes(t){this.axes=t;const e=new Map(t.map(i=>[i.id,this.axisZoomManagers.get(i.id)]));this.axisZoomManagers.clear();for(const i of t)this.axisZoomManagers.set(i.id,e.get(i.id)??new Mat(i));this.state.size>0&&t.length>0&&this.updateZoom(this.state.stateId(),this.state.stateValue())}setIndependentAxes(t=!0){this.independentAxes=t}setAutoScaleYAxis(t,e){this.autoScaleYAxis.enabled=t,this.autoScaleYAxis.padding=e}setNavigatorEnabled(t=!0){this.navigatorModule=t}setZoomModuleEnabled(t=!0){this.zoomModule=t}isZoomEnabled(){return this.zoomModule}updateZoom(t,e){if(e!=null&&e.x&&(e.x.min<0||e.x.max>1)&&(It.warnOnce(`Attempted to update x-axis zoom to an invalid ratio of [{ min: ${e.x.min}, max: ${e.x.max} }], expecting a ratio of 0 to 1, ignoring.`),e.x=void 0),e!=null&&e.y&&(e.y.min<0||e.y.max>1)&&(It.warnOnce(`Attempted to update y-axis zoom to an invalid ratio of [{ min: ${e.y.min}, max: ${e.y.max} }], expecting a ratio of 0 to 1, ignoring.`),e.y=void 0),this.axisZoomManagers.size===0){const n=this.state.stateId();(n==="initial"||n===t)&&this.state.set(t,e);return}this.state.set(t,e);const i=e==null?void 0:e.autoScaleYAxis;i!=null&&(this.autoScaleYAxis.manuallyAdjusted=!i),this.axisZoomManagers.forEach(n=>{n.updateZoom(t,e==null?void 0:e[n.getDirection()])}),this.applyChanges(t)}updateAxisZoom(t,e,i){var n;(n=this.axisZoomManagers.get(e))==null||n.updateZoom(t,i),this.applyChanges(t)}resetZoom(t){var i,n,s,a;this.autoScaleYAxis.manuallyAdjusted=!1;const e=this.getRestoredZoom();this.updateZoom(t,{x:{min:((i=e==null?void 0:e.x)==null?void 0:i.min)??0,max:((n=e==null?void 0:e.x)==null?void 0:n.max)??1},y:{min:((s=e==null?void 0:e.y)==null?void 0:s.min)??0,max:((a=e==null?void 0:e.y)==null?void 0:a.max)??1},autoScaleYAxis:(e==null?void 0:e.autoScaleYAxis)??!0})}resetAxisZoom(t,e){const i=this.axisZoomManagers.get(e),n=i==null?void 0:i.getDirection();if(n==null)return;const s=this.getRestoredZoom();if(n==="y"){const a=(s==null?void 0:s.autoScaleYAxis)??!0;this.autoScaleYAxis.manuallyAdjusted=!a}this.updateAxisZoom(t,e,(s==null?void 0:s[n])??{min:0,max:1})}setAxisManuallyAdjusted(t,e){var n;((n=this.axisZoomManagers.get(e))==null?void 0:n.getDirection())==="y"&&(this.autoScaleYAxis.manuallyAdjusted=!0)}updatePrimaryAxisZoom(t,e,i){const n=this.getPrimaryAxis(e);n&&this.updateAxisZoom(t,n.id,i)}panToBBox(t,e,i){if(!this.isZoomEnabled())return!1;const n=this.getZoom();if(n===void 0||!n.x&&!n.y)return!1;if(!(e.width>0&&e.height>0&&Math.abs(i.width)<=Math.abs(e.width)&&Math.abs(i.height)<=Math.abs(e.height)))return It.warnOnce("cannot pan to target BBox - chart too small?"),!1;const a=bat(e,n,i);return this.independentAxes?(this.updatePrimaryAxisZoom(t,"x",a.x),this.updatePrimaryAxisZoom(t,"y",a.y)):this.updateZoom(t,a),!0}fireZoomPanStartEvent(t){this.listeners.dispatch("zoom-pan-start",{type:"zoom-pan-start",callerId:t})}extendToEnd(t,e,i){return this.extendWith(t,e,n=>Number(n)-i)}extendWith(t,e,i){const n=this.getPrimaryAxis(e);if(!n)return;const s=this.getDomainExtents(n);if(!s)return;const[,a]=s,o=i(a),r=this.rangeToRatio({start:o,end:a},e);r&&this.updateZoom(t,{[e]:r})}updateWith(t,e,i){const n=this.getPrimaryAxis(e);if(!n)return;const s=this.getDomainExtents(n);if(!s)return;let[a,o]=s;[a,o]=i(a,o);const r=this.rangeToRatio({start:a,end:o},e);r&&this.updateZoom(t,{[e]:r})}getZoom(){let t,e;if(this.axisZoomManagers.forEach(i=>{i.getDirection()==="x"?t??(t=i.getZoom()):i.getDirection()==="y"&&(e??(e=i.getZoom()))}),t||e)return{x:t,y:e}}getAxisZoom(t){var e;return((e=this.axisZoomManagers.get(t))==null?void 0:e.getZoom())??{min:0,max:1}}getAxisZooms(){const t={};for(const[e,i]of this.axisZoomManagers.entries())t[e]={direction:i.getDirection(),zoom:i.getZoom()};return t}getRestoredZoom(){return this.lastRestoredState}getPrimaryAxisId(t){var e;return(e=this.getPrimaryAxis(t))==null?void 0:e.id}isVisibleItemsCountAtLeast(t,e){const i=this.getPrimaryAxis("x"),n=this.getPrimaryAxis("y"),s=new Set;let a=0;const o=[t.x.min,t.x.max],r=[t.y.min,t.y.max];for(const l of(i==null?void 0:i.boundSeries)??[]){s.add(l.id);const c=e-(a??0),h=l.getVisibleItems(o,r,c);if(a+=h,a>=e)return!0}for(const l of(n==null?void 0:n.boundSeries)??[]){if(s.has(l.id))continue;const c=e-(a??0),h=l.getVisibleItems(o,r,c);if(a+=h,a>=e)return!0}return s.size===0}getMementoRanges(){const t=this.getDefinedZoom();let e;return this.autoScaleYAxis.enabled&&(e=this.autoScaleYAxis.manuallyAdjusted?[]:["y"]),{rangeX:this.getRangeDirection(t.x,"x"),rangeY:this.getRangeDirection(t.y,"y"),ratioX:{start:t.x.min,end:t.x.max},ratioY:{start:t.y.min,end:t.y.max},autoScaledAxes:e}}autoScaleYZoom(t,e=!0){var r,l;if(!this.isZoomEnabled())return;const{independentAxes:i,autoScaleYAxis:n}=this,s=this.getZoom();if((s==null?void 0:s.x)==null||!n.enabled||n.manuallyAdjusted)return;const{padding:a}=n;let o;if(((r=s.x)==null?void 0:r.min)===0&&((l=s.x)==null?void 0:l.max)===1?o={min:0,max:1}:i?o=this.primaryAxisZoom("y",s.x,{padding:a}):o=this.combinedAxisZoom("y",s.x,{padding:a}),o!=null){if(i){const c=this.getPrimaryAxis("y"),h=c==null?void 0:this.axisZoomManagers.get(c.id);h==null||h.updateZoom("zoom-manager",o)}else for(const c of this.axisZoomManagers.values())c.getDirection()==="y"&&c.updateZoom("zoom-manager",o);e&&this.applyChanges(t)}}applyChanges(t){if(this.autoScaleYZoom(t,!1),!Array.from(this.axisZoomManagers.values(),n=>n.applyChanges()).includes(!0))return;const i={};for(const[n,s]of this.axisZoomManagers.entries())i[n]=s.getZoom();this.listeners.dispatch("zoom-change",{type:"zoom-change",...this.getZoom(),axes:i,callerId:t}),this.fireChartEvent({type:"zoom",...this.getMementoRanges()})}getRangeDirection(t,e){const i=this.getPrimaryAxis(e);if(!i||!ke.is(i.scale)&&!al.is(i.scale))return;const n=this.getDomainPixelExtents(i);if(!n)return;const[s,a]=n;let o,r;return s<=a?(o=i.scale.invert(0),r=i.scale.invert(s+(a-s)*t.max)):(o=i.scale.invert(s-(s-a)*t.min),r=i.scale.invert(0)),{start:o,end:r}}rangeToRatio(t,e){var y,m,b,v,S,D,I,T,k,E,O,B;const i=this.getPrimaryAxis(e);if(!i)return;const n=this.getDomainPixelExtents(i);if(!n)return;const[s,a]=n;let o=t.start==null?s:(m=(y=i.scale).convert)==null?void 0:m.call(y,t.start),r=t.end==null?a:(v=(b=i.scale).convert)==null?void 0:v.call(b,t.end);if(!ye(o)||!ye(r))return;const[l,c]=[Math.min(s,a),Math.max(s,a)];if(o<l||o>c){It.warnOnce(`Invalid range start [${t.start}], expecting a value between [${(D=(S=i.scale).invert)==null?void 0:D.call(S,s)}] and [${(T=(I=i.scale).invert)==null?void 0:T.call(I,a)}], ignoring.`);return}if(r<l||r>c){It.warnOnce(`Invalid range end [${t.end}], expecting a value between [${(E=(k=i.scale).invert)==null?void 0:E.call(k,s)}] and [${(B=(O=i.scale).invert)==null?void 0:B.call(O,a)}], ignoring.`);return}o=Math.min(c,Math.max(l,o)),r=Math.min(c,Math.max(l,r));const h=a-s,p=Math.abs((o-s)/h),f=Math.abs((r-s)/h);return{min:p,max:f}}getPrimaryAxis(t){var e;return(e=this.axes)==null?void 0:e.find(i=>i.direction===t)}getDomainExtents(t){const{domain:e}=t.scale,i=e.at(0),n=e.at(-1);if(!(i==null||n==null))return[i,n]}getDomainPixelExtents(t){var s,a,o,r;const{domain:e}=t.scale,i=(a=(s=t.scale).convert)==null?void 0:a.call(s,e.at(0)),n=(r=(o=t.scale).convert)==null?void 0:r.call(o,e.at(-1));if(!(!ye(i)||!ye(n)))return[i,n]}getDefinedZoom(){var e,i,n,s;const t=this.getZoom();return{x:{min:((e=t==null?void 0:t.x)==null?void 0:e.min)??0,max:((i=t==null?void 0:t.x)==null?void 0:i.max)??1},y:{min:((n=t==null?void 0:t.y)==null?void 0:n.min)??0,max:((s=t==null?void 0:t.y)==null?void 0:s.max)??1}}}zoomBounds(t,e,i,n){const s=t.scale,a=s.range;s.range=[0,1];const o=e.scale,r=o.range;o.range=[0,1];let l=1,c=!1,h=0,p=!1;for(const m of e.boundSeries){const{connectsToYAxis:b}=m,v=m.getRange("y",[i.min,i.max]);for(const S of v){const D=o.convert(S);Number.isFinite(D)&&(D<l&&(l=D,c=!b||S<0),D>h&&(h=D,p=!b||S>0))}}if(ye(e.min)&&(l=0),ye(e.max)&&(h=1),s.range=a,o.range=r,l>=h)return;const f=(c?n:0)+(p?n:0),y=Math.min((h-l)*(1+f),1);if(!(y<=0)){if(c&&p){const m=(h+l)/2;l=m-y/2,h=m+y/2}else!c&&p?h=l+y:c&&!p&&(l=h-y);return l<0?(h+=-l,l=0):h>1&&(l-=h-1,h=1),{min:l,max:h}}}primaryAxisZoom(t,e,{padding:i=0}={}){const n=t==="x"?"y":"x",s=this.getPrimaryAxis(n),a=this.getPrimaryAxis(t);if(!(s==null||a==null))return this.zoomBounds(s,a,e,i)}combinedAxisZoom(t,e,{padding:i=0}={}){const n=t==="x"?"y":"x",s=new Map;for(const l of this.axes)if(l.direction===n)for(const c of l.boundSeries)s.set(c,l);let a=1,o=0;for(const l of this.axes)if(l.direction===t)for(const c of l.boundSeries){const h=s.get(c);if(h==null)continue;const p=this.zoomBounds(h,l,e,i);if(p==null)return;a=Math.min(a,p.min),o=Math.max(o,p.max)}const r=1e-6;if(a<r&&(a=0),o>1-r&&(o=1),!(a>o))return{min:a,max:o}}},Mat=class{constructor(t){this.axis=t;const[e=0,i=1]=t.visibleRange;this.state=new tg({min:e,max:i}),this.currentZoom=this.state.stateValue()}getDirection(){return this.axis.direction}updateZoom(t,e){this.state.set(t,e)}getZoom(){return fn(this.state.stateValue())}hasChanges(){const t=this.currentZoom,e=this.state.stateValue();return t.min!==e.min||t.max!==e.max}applyChanges(){const t=this.hasChanges();return this.currentZoom=this.state.stateValue(),t}},Aat=class{constructor(){this.labelData=new Map}updateLabels(t,e,i=Et.zero){var o;const n={x:-e.left,y:-e.top,width:i.width+e.left+e.right,height:i.height+e.top+e.bottom},s=new Set(t.map(r=>r.id));for(const r of this.labelData.keys())s.has(r)||this.labelData.delete(r);for(const r of t){const l=r.getLabelData();l.every(Gnt)&&this.labelData.set(r.id,l)}const a=Unt(this.labelData,n,5);for(const r of t)(o=r.updatePlacedLabelData)==null||o.call(r,a.get(r.id)??[])}},Dat=class extends oh{constructor(){super(...arguments),this.mementoOriginatorKey="legend",this.legendDataMap=new Map}createMemento(){return this.getData().filter(({hideInLegend:t,isFixed:e})=>!t&&!e).map(({enabled:t,seriesId:e,itemId:i,legendItemName:n})=>({visible:t,seriesId:e,itemId:i,legendItemName:n}))}guardMemento(t){return t==null||Je(t)}restoreMemento(t,e,i){i==null||i.forEach(n=>{const{seriesId:s,data:a}=this.getRestoredData(n)??{};!s||!a||this.updateData(s,a)}),this.update()}getRestoredData(t){const{seriesId:e,itemId:i,legendItemName:n,visible:s}=t;if(e){const o=(this.legendDataMap.get(e)??[]).map(r=>{const l=r.seriesId===e&&(!i||r.itemId===i);return l&&r.isFixed&&this.warnFixed(r.seriesId,r.itemId),!r.isFixed&&l?{...r,enabled:s}:r});return{seriesId:e,data:o}}if(!(i==null&&n==null))for(const a of this.getData()){if(i!=null&&a.itemId!==i||n!=null&&a.legendItemName!==n)continue;if(a.isFixed){this.warnFixed(a.seriesId,i);return}const o=(this.legendDataMap.get(a.seriesId)??[]).map(r=>r.itemId===i||r.legendItemName===n?{...r,enabled:s}:r);return{seriesId:a.seriesId,data:o}}}warnFixed(t,e){It.warnOnce(`The legend item with seriesId [${t}] and itemId [${e}] is not configurable, this series item cannot be toggled through the legend.`)}update(t){this.listeners.dispatch("legend-change",{type:"legend-change",legendData:t??this.getData()})}updateData(t,e=[]){this.legendDataMap.set(t,e)}clearData(){this.legendDataMap.clear()}toggleItem({enabled:t,seriesId:e,itemId:i,legendItemName:n}){if(n){this.getData().forEach(r=>{const l=(this.legendDataMap.get(r.seriesId)??[]).map(c=>c.legendItemName===n?{...c,enabled:t}:c);this.updateData(r.seriesId,l)});return}const s=this.getData(e),a=s.length===1,o=s.map(r=>i==null&&a||r.itemId===i?{...r,enabled:t}:r);this.updateData(e,o)}getData(t){return t?this.legendDataMap.get(t)??[]:[...this.legendDataMap].reduce((e,[i,n])=>e.concat(n),[])}getDatum({seriesId:t,itemId:e}={}){return this.getData(t).find(i=>i.itemId===e)}getSeriesEnabled(t){const e=this.getData(t);if(e.length>0)return e.some(i=>i.enabled)}getItemEnabled({seriesId:t,itemId:e}={}){var i;return((i=this.getDatum({seriesId:t,itemId:e}))==null?void 0:i.enabled)??!0}},Iat=class{constructor(){this.groups={}}registerSeries({internalId:t,seriesGrouping:e,visible:i,type:n}){var s;e&&((s=this.groups)[n]??(s[n]={}),this.groups[n][t]={grouping:e,visible:i})}updateSeries({internalId:t,seriesGrouping:e,visible:i,type:n}){var a;if(!e)return;const s=(a=this.groups[n])==null?void 0:a[t];s&&(s.grouping=e,s.visible=i)}deregisterSeries({internalId:t,type:e}){this.groups[e]&&delete this.groups[e][t],this.groups[e]&&Object.keys(this.groups[e]).length===0&&delete this.groups[e]}getVisiblePeerGroupIndex({type:t,seriesGrouping:e,visible:i}){if(!e)return{visibleGroupCount:i?1:0,visibleSameStackCount:i?1:0,index:0};const n=new Set,s=new Set;for(const o of Object.values(this.groups[t]??{}))o.visible&&(n.add(o.grouping.groupIndex),o.grouping.groupIndex===e.groupIndex&&s.add(o.grouping.stackIndex));const a=Array.from(n);return a.sort((o,r)=>o-r),{visibleGroupCount:a.length,visibleSameStackCount:s.size,index:a.indexOf(e.groupIndex)}}},Hm=(t=>(t[t.FULL=0]="FULL",t[t.UPDATE_DATA=1]="UPDATE_DATA",t[t.PROCESS_DATA=2]="PROCESS_DATA",t[t.PERFORM_LAYOUT=3]="PERFORM_LAYOUT",t[t.SERIES_UPDATE=4]="SERIES_UPDATE",t[t.PRE_SCENE_RENDER=5]="PRE_SCENE_RENDER",t[t.SCENE_RENDER=6]="SCENE_RENDER",t[t.NONE=7]="NONE",t))(Hm||{}),KU=class{constructor(t){this.updateCallback=t,this.events=new GL}addListener(t,e){return this.events.on(t,e)}removeListener(t,e){return this.events.on(t,e)}destroy(){this.events.clear()}update(t=0,e){this.updateCallback(t,e)}dispatchUpdateComplete(){this.events.emit("update-complete",{type:"update-complete"})}dispatchPreDomUpdate(){this.events.emit("pre-dom-update",{type:"pre-dom-update"})}dispatchPreSceneRender(){this.events.emit("pre-scene-render",{type:"pre-scene-render"})}dispatchProcessData({series:t}){this.events.emit("process-data",{type:"process-data",series:t})}},Tat=class{constructor(t,e){this.callbackCache=new eat,this.chartEventManager=new GU,this.highlightManager=new UU,this.layoutManager=new IU,this.localeManager=new Wst,this.seriesStateManager=new Iat,this.stateManager=new Ast,this.seriesLabelLayoutManager=new Aat,this.contextModules=[];const{scene:i,root:n,syncManager:s,container:a,fireEvent:o,updateCallback:r,updateMutex:l,styleContainer:c,chartType:h}=e;this.chartService=t,this.syncManager=s,this.domManager=new RU(a,c),this.widgets=new aat(this.domManager);const p=this.domManager.addChild("canvas","scene-canvas",i==null?void 0:i.canvas.element);this.scene=i??new bA({canvasElement:p}),this.scene.setRoot(n),this.axisManager=new nat(n),this.legendManager=new Dat,this.annotationManager=new iat(t.annotationRoot),this.chartTypeOriginator=new Sst(t),this.interactionManager=new jU,this.contextMenuRegistry=new VU,this.updateService=new KU(r),this.proxyInteractionService=new BU(this.localeManager,this.domManager),this.historyManager=new Mst(this.chartEventManager),this.animationManager=new FU(this.interactionManager,l),this.dataService=new vA(this.animationManager),this.tooltipManager=new aM(this.domManager,t.tooltip),this.zoomManager=new $U(o,this.layoutManager);for(const f of ol.byType("context")){if(!f.chartTypes.includes(h))continue;const y=f.moduleFactory(this);this.contextModules.push(y),this[f.contextKey]=y}}destroy(){this.animationManager.destroy(),this.highlightManager.destroy(),this.axisManager.destroy(),this.callbackCache.invalidateCache(),this.chartEventManager.destroy(),this.domManager.destroy(),this.highlightManager.destroy(),this.proxyInteractionService.destroy(),this.syncManager.destroy(),this.tooltipManager.destroy(),this.zoomManager.destroy(),this.widgets.destroy(),this.contextModules.forEach(t=>t.destroy())}},XU=class extends Zt{constructor(){super(...arguments),this.range="tooltip"}};N([w(Ye(["tooltip","node"],"a range"))],XU.prototype,"range",2);function Cat(t,e){if(t.size!==e.size)return!1;for(const i of t)if(!e.has(i))return!1;return!0}function kat(t,e){if(t==null||e==null)return t===e;if(t.size!==e.size)return!1;for(const[i,n]of t){const s=e.get(i);if(s==null||!Cat(n,s))return!1}return!0}function Lat(t,e){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i+=1){const{type:n,idsMap:s,scopes:a,data:o,...r}=t[i],{type:l,idsMap:c,scopes:h,data:p,...f}=e[i];if(n!==l||a&&h&&!sl(a,h)||o&&p&&o!==p||!Rd(r,f)||!kat(s,c))return!1}return!0}function Nat(t,e){const{props:i,...n}=t,{props:s,...a}=e;return Rd(n,a)&&Lat(i,s)}function Eat(t,e,i,n){return e===t.data&&sl(i,t.ids)&&Nat(n,t.opts)}var c_=class ZU{constructor(){this.domain=new Set}static is(e){return e instanceof ZU}extend(e){this.domain.add(e)}getDomain(){return Array.from(this.domain)}},ku=class qU{constructor(){this.domain=[1/0,-1/0]}static is(e){return e instanceof qU}static extendDomain(e,i=[1/0,-1/0]){for(const n of e)typeof n=="number"&&(i[0]>n&&(i[0]=n),i[1]<n&&(i[1]=n));return i}extend(e){this.domain[0]>e&&(this.domain[0]=e),this.domain[1]<e&&(this.domain[1]=e)}getDomain(){return[...this.domain]}},pf=0,ff=1,Vr=2,Oat=class{constructor(t){const e=t.reduce((a,o)=>Math.max(a,o.length),0);let n=1<<32-Math.clz32(e);e===n/2&&(n=n>>>1),this.maxLevelSize=n;const s=new Float64Array((n*2-1)*2).fill(NaN);for(const a of t)for(let o=0;o<a.length;o+=1){const r=Number(a[o]),l=n+o-1,c=(l*Vr|0)+pf,h=(l*Vr|0)+ff,p=s[c],f=s[h];(!Number.isFinite(p)||r<p)&&(s[c]=r),(!Number.isFinite(f)||r>f)&&(s[h]=r)}for(let a=n/2|0;a>=1;a=a/2|0){const o=a-1|0,r=o+a|0;for(let l=0;l<a;l+=1){const c=o+l,h=r+l*2,p=h+1,f=s[(h*Vr|0)+pf],y=s[(p*Vr|0)+pf];s[(c*Vr|0)+pf]=!Number.isFinite(y)||f<y?f:y;const m=s[(h*Vr|0)+ff],b=s[(p*Vr|0)+ff];s[(c*Vr|0)+ff]=!Number.isFinite(b)||m>b?m:b}}this.buffer=s}computeRangeInto(t,e,i,n,s,a,o){const r=s+a-1;if(r<e||s>=i)return o;if(s>=e&&r<i){const l=t[(n*Vr|0)+pf],c=t[(n*Vr|0)+ff];Number.isFinite(l)&&(o[0]=Math.min(o[0],l)),Number.isFinite(c)&&(o[1]=Math.max(o[1],c))}else a>1&&(n=n*2|0,a=a/2|0,this.computeRangeInto(t,e,i,n+1|0,s,a,o),this.computeRangeInto(t,e,i,n+2|0,s+a,a,o));return o}rangeBetween(t,e){if(t>e)return[NaN,NaN];const{maxLevelSize:i,buffer:n}=this,s=[1/0,-1/0];return this.computeRangeInto(n,t,e,0,0,i,s),s}get range(){const{buffer:t}=this;return[t[pf],t[ff]]}},u_=Symbol("domain-ranges");function wat(t){return t.map(e=>Gn(e)?JSON.stringify(e):e).join("-")}function h_(t){return Number.isInteger(t)?t:Math.abs(t)>1e4?Math.trunc(t):Math.round(t*1e4)/1e4}function ba(t){const e=t==null?void 0:t.map(Number);return e!=null&&e.every(Number.isFinite)?e:[]}function wN(t,e){return(e==null?void 0:e.get(t.id))??0}function Rat(t){return"scopes"in t&&Array.isArray(t.scopes)}var Sv=Symbol("invalid");function GC(t,e){const i=[];for(let n=0;n<t;n+=1)i[n]=e;return i}function oM(t,e,i){var s;const n=[];for(const a of t){const o=(s=a.get(e))==null?void 0:s[i];if(o==null)return;n.push(o)}return n}function QU(t){const e=[];let i=0,n;const s=new RegExp(`((?:(?:^|\\.)\\s*\\w+|\\[\\s*(?:'(?:[^']|(?<!\\\\)\\\\')*'|"(?:[^"]|(?<!\\\\)\\\\")*"|-?\\d+)\\s*\\])\\s*)`,"g");for(;n=s.exec(t);){if(n.index!==i)return;i=n.index+n[0].length;const a=n[1].trim();if(a.startsWith("."))e.push(a.slice(1).trim());else if(a.startsWith("[")){const o=a.slice(1,-1).trim();o.startsWith("'")?e.push(o.slice(1,-1).replace(new RegExp("(?<!\\\\)\\\\'","g"),"'")):o.startsWith('"')?e.push(o.slice(1,-1).replace(new RegExp('(?<!\\\\)\\\\"',"g"),'"')):e.push(o)}else e.push(a)}if(i===t.length)return e}function Pat(t){return e=>{let i=e;for(const n of t)i=i[n];return i}}var JU=class{constructor(t,e="standalone",i=!1){var r;this.opts=t,this.mode=e,this.suppressFieldDotNotation=i,this.debug=We.create(!0,"data-model"),this.scopeCache=new Map,this.keys=[],this.values=[],this.aggregates=[],this.groupProcessors=[],this.propertyProcessors=[],this.reducers=[],this.processors=[],this.markScopeDatumInvalid=function(l,c,h,p){for(const f of l)p.has(f)||p.set(f,GC(c.length,!1)),p.get(f)[h]=!0};let n=!0;for(const l of t.props){if(l.type==="key"&&!n)throw new Error("AG Charts - internal config error: keys must come before values.");l.type==="value"&&n&&(n=!1)}const s=({matchGroupIds:l=[]})=>{for(const c of l)if(this.values.every(h=>h.groupId!==c))throw new Error(`AG Charts - internal config error: matchGroupIds properties must match defined groups (${c}).`)},a=new Set,o=new Set;for(const l of t.props){const c=l.type==="key"?a:o;switch(Rat(l)&&((r=l.scopes)==null||r.forEach(h=>c.add(h))),l.type){case"key":this.keys.push({...l,index:this.keys.length,missing:new Map});break;case"value":if(l.property==null)throw new Error(`AG Charts - internal config error: no properties specified for value definitions: ${JSON.stringify(l)}`);this.values.push({...l,index:this.values.length,missing:new Map});break;case"aggregate":s(l),this.aggregates.push({...l,index:this.aggregates.length});break;case"group-value-processor":s(l),this.groupProcessors.push({...l,index:this.groupProcessors.length});break;case"property-value-processor":this.propertyProcessors.push({...l,index:this.propertyProcessors.length});break;case"reducer":this.reducers.push({...l,index:this.reducers.length});break;case"processor":this.processors.push({...l,index:this.processors.length});break}}if(this.opts.groupByKeys||this.opts.groupByFn!=null){const l=new Set(o.values());if(a.forEach(c=>l.delete(c)),l.size>0)throw new Error(`AG Charts - scopes missing key for grouping, illegal configuration: ${[...l.values()]}`)}}resolveProcessedDataDefById(t,e){var n;const i=(n=this.scopeCache.get(t.id))==null?void 0:n.get(e);if(!i)throw new Error(`AG Charts - didn't find property definition for [${e}, ${t.id}]`);return{index:i.index,def:i}}resolveProcessedDataIndexById(t,e){return this.resolveProcessedDataDefById(t,e).index}resolveKeysById(t,e,i){const n=this.resolveProcessedDataIndexById(t,e),s=i.keys[n];if(s==null)throw new Error(`AG Charts - didn't find keys for [${e}, ${t.id}]`);return s.get(t.id)}hasColumnById(t,e){var i;return((i=this.scopeCache.get(t.id))==null?void 0:i.get(e))!=null}resolveColumnById(t,e,i){var a;const n=this.resolveProcessedDataIndexById(t,e),s=(a=i.columns)==null?void 0:a[n];if(s==null)throw new Error(`AG Charts - didn't find column for [${e}, ${t.id}]`);return s}*forEachDatum(t,e,i){const n=e.columnScopes.findIndex(s=>s.has(t.id));for(const s of i.datumIndices[n]??[])yield e.columns[n][s]}*forEachGroupDatum(t,e){const i=e.columnScopes.findIndex(a=>a.has(t.id)),n={groupIndex:0,columnIndex:i},s=[];for(const a of e.groups){n.group=a;let o=0;for(const r of a.datumIndices[i]??s)n.datumIndex=r,n.valueIndex=o++,yield n;n.groupIndex++}}*forEachGroupDatumTuple(t,e){const n={columnIndex:e.columnScopes.findIndex(s=>s.has(t.id)),datumIndexes:[void 0,void 0,void 0]};for(const s of this.forEachGroupDatum(t,e))n.group=n.nextGroup,n.groupIndex=n.nextGroupIndex,n.nextGroup=s.group,n.nextGroupIndex=s.groupIndex,n.datumIndexes[0]=n.datumIndexes[1],n.datumIndexes[1]=n.datumIndexes[2],n.datumIndexes[2]=s.datumIndex,n.group!=null&&n.datumIndexes[1]!=null&&(yield n);n.group=n.nextGroup,n.groupIndex=n.nextGroupIndex,n.nextGroup=void 0,n.nextGroupIndex=void 0,n.datumIndexes[0]=n.datumIndexes[1],n.datumIndexes[1]=n.datumIndexes[2],n.datumIndexes[2]=void 0,n.group!=null&&n.datumIndexes[1]!=null&&(yield n)}getDomain(t,e,i,n){const s=this.getDomainsByType(i??"value",n);return(s==null?void 0:s[this.resolveProcessedDataIndexById(t,e)])??[]}getDomainBetweenRange(t,e,[i,n],s){const a=e.map(c=>this.resolveProcessedDataIndexById(t,c)),o=a.join(":"),r=s[u_];let l=r.get(o);if(l==null){const c=a.map(h=>s.columns[h]);l=new Oat(c),r.set(o,l)}return l.rangeBetween(i,n)}getDomainsByType(t,e){switch(t){case"key":return e.domain.keys;case"value":return e.domain.values;case"aggregate":return e.domain.aggValues;case"group-value-processor":return e.domain.groups;default:return null}}processData(t){const{opts:{groupByKeys:e,groupByFn:i},aggregates:n,groupProcessors:s,reducers:a,processors:o,propertyProcessors:r}=this,l=performance.now();if(e&&this.keys.length===0)return;let c=this.extractData(t);e?c=this.groupData(c):i&&(c=this.groupData(c,i(c))),s.length>0&&c.type==="grouped"&&this.postProcessGroups(c),n.length>0&&c.type==="ungrouped"?this.aggregateUngroupedData(c):n.length>0&&c.type==="grouped"&&this.aggregateGroupedData(c),r.length>0&&this.postProcessProperties(c),a.length>0&&this.reduceData(c),o.length>0&&this.postProcessData(c),this.warnDataMissingProperties(t);const h=performance.now();return c.time=h-l,this.debug.check()&&Bat(c),this.processScopeCache(),c}warnDataMissingProperties(t){var e;if(t.size!==0)for(const i of Md(this.keys,this.values))for(const[n,s]of i.missing){if(s<(((e=t.get(n))==null?void 0:e.length)??1/0))continue;const a=n==null?"":` for ${n}`;It.warnOnce(`the key '${i.property}' was not found in any data element${a}.`)}}processScopeCache(){var t;this.scopeCache.clear();for(const e of Md(this.keys,this.values,this.aggregates))if(e.idsMap)for(const[i,n]of e.idsMap)for(const s of n)if(!this.scopeCache.has(i))this.scopeCache.set(i,new Map([[s,e]]));else{if((t=this.scopeCache.get(i))!=null&&t.has(s))throw new Error("duplicate definition ids on the same scope are not allowed.");this.scopeCache.get(i).set(s,e)}}valueGroupIdxLookup({matchGroupIds:t}){const e=[];for(const[i,n]of this.values.entries())(!t||n.groupId&&t.includes(n.groupId))&&e.push(i);return e}valueIdxLookup(t,e){const i=t==null||t.length===0,n=typeof e=="string"?e:e.id,s=o=>{if(o.idsMap){for(const[r,l]of o.idsMap)if(t!=null&&t.includes(r)&&l.has(n))return!0}return!1},a=this.values.reduce((o,r,l)=>((r.scopes==null||i&&!r.scopes.length||r.scopes.some(h=>t==null?void 0:t.includes(h)))&&(r.property===n||r.id===n||s(r))&&o.push(l),o),[]);if(a.length===0)throw new Error(`AG Charts - configuration error, unknown property ${JSON.stringify(e)} in scope(s) ${JSON.stringify(t)}`);return a}extractData(t){const{dataDomain:e,processValue:i,allScopesHaveSameDefs:n}=this.initDataDomainProcessor(),{keys:s,values:a}=this,{invalidData:o,invalidKeys:r,allKeyMappings:l}=this.extractKeys(s,t,i),{columns:c,columnScopes:h,partialValidDataCount:p,maxDataLength:f}=this.extractValues(o,a,t,r,i),y=m=>{const b=e.get(m),v=b.getDomain();return ku.is(b)&&v[0]>v[1]?[]:v};return{type:"ungrouped",input:{count:f},scopes:new Set(t.keys()),dataSources:t,aggregation:void 0,keys:[...l.values()],columns:c,columnScopes:h,invalidKeys:r,invalidData:o,domain:{keys:s.map(y),values:a.map(y)},defs:{allScopesHaveSameDefs:n,keys:s,values:a},partialValidDataCount:p,time:0,[u_]:new Map}}extractKeys(t,e,i){const n=new Map,s=new Map,a=new Map;let o,r;const l=(c,h)=>{const p=r.get(c);o.set(h,o.get(p)),n.has(p)&&(n.set(h,n.get(p)),s.set(h,s.get(p)))};for(const c of t){const{invalidValue:h,scopes:p}=c;o=new Map,r=new Map,a.set(c,o);for(const f of p??[]){const y=e.get(f)??[];if(r.has(y)){l(y,f);continue}const m=[];o.set(f,m),r.set(y,f);let b,v;for(let S=0;S<y.length;S++){const D=i(c,y[S],S,f);if(D!==Sv){m.push(D);continue}m.push(h),b??(b=GC(y.length,!1)),v??(v=GC(y.length,!1)),b[S]=!0,v[S]=!0}b&&v&&(n.set(f,b),s.set(f,v))}}return{invalidData:s,invalidKeys:n,allKeyMappings:a}}extractValues(t,e,i,n,s){let a=0;const o=[],r=[];let l=0;for(const c of e){const{invalidValue:h}=c;if(new Set(c.scopes.map(v=>i.get(v))).size>1)throw new Error(`AG Charts - more than one data source for: ${JSON.stringify(c)}`);const f=new Set(c.scopes),y=sm(c.scopes),m=i.get(y),b=m.map((v,S)=>{var T;const D=(T=n.get(y))==null?void 0:T[S];let I=s(c,v,S,c.scopes);return(D||I===Sv)&&this.markScopeDatumInvalid(c.scopes,m,S,t),D?I=h:I===Sv&&(a+=1,I=h),I});o.push(b),r.push(f),l=Math.max(l,b.length)}return{columns:o,columnScopes:r,partialValidDataCount:a,maxDataLength:l}}groupData(t,e){var i;const n=new Map,{keys:s,columns:a,columnScopes:o,invalidKeys:r,invalidData:l}=t,c=t.scopes,h=new Set;for(const y of c){const m=a.map((T,k)=>k).filter(T=>!h.has(T)&&o[T].has(y));if(m.length===0)continue;for(const T of m)h.add(T);const b=new Set;for(const T of m)for(const k of o[T])b.add(k);const v=s.map(T=>T.get(y)).filter(T=>T!=null),S=a[sm(m)],D=l==null?void 0:l.get(y),I=r==null?void 0:r.get(y);for(let T=0;T<S.length;T++){if((I==null?void 0:I[T])===!0)continue;const k=v.map(R=>R[T]);if(k==null||k.length===0)throw new Error("AG Charts - no keys found for scope: "+y);const E=(e==null?void 0:e(k))??k,O=wat(E),B=n.get(O)??{keys:E,datumIndices:[],validScopes:c};if(n.has(O)||n.set(O,B),(D==null?void 0:D[T])===!0){B.validScopes===c&&(B.validScopes=new Set(c.values()));for(const R of b)B.validScopes.delete(R)}if(B.validScopes.size!==0)for(const R of m)(i=B.datumIndices)[R]??(i[R]=[]),B.datumIndices[R].push(T)}}const p=[],f=[];for(const{keys:y,datumIndices:m,validScopes:b}of n.values())(b==null?void 0:b.size)!==0&&(p.push(y),f.push({datumIndices:m,keys:y,aggregation:[],validScopes:b}));return{...t,type:"grouped",domain:{...t.domain,groups:p},groups:f}}aggregateUngroupedData(t){const e=this.aggregates.map(()=>[1/0,-1/0]);t.domain.aggValues=e;const{keys:i,columns:n,dataSources:s}=t,a=sm(s.keys()),o=s.get(a);t.aggregation=o==null?void 0:o.map((r,l)=>{var h,p,f;const c=[];for(const[y,m]of this.aggregates.entries()){const b=this.valueGroupIdxLookup(m);let v=((h=m.groupAggregateFunction)==null?void 0:h.call(m))??[1/0,-1/0];const S=b.map(k=>n[k][l]),D=oM(i,a,l),I=D!=null?m.aggregateFunction(S,D):void 0;I&&(v=((p=m.groupAggregateFunction)==null?void 0:p.call(m,I,v))??ku.extendDomain(I,v));const T=((f=m.finalFunction)==null?void 0:f.call(m,v))??v;if(m.round===!0)for(const k in T)T[k]=h_(T[k]);c[y]=T,ku.extendDomain(T,e[y])}return c})}aggregateGroupedData(t){var n,s,a,o;const e=this.aggregates.map(()=>[1/0,-1/0]);t.domain.aggValues=e;const{columns:i}=t;for(const[r,l]of this.aggregates.entries()){const c=this.valueGroupIdxLookup(l);for(const h of t.groups){if(h.aggregation??(h.aggregation=[]),((n=h.validScopes)==null?void 0:n.size)===0)continue;const p=h.keys;let f=((s=l.groupAggregateFunction)==null?void 0:s.call(l))??[1/0,-1/0];const y=Math.max(...c.map(b=>{var v;return((v=h.datumIndices[b])==null?void 0:v.length)??0}));for(let b=0;b<y;b++){const v=c.map(D=>{var I;return i[D][(I=h.datumIndices[D])==null?void 0:I[b]]}),S=l.aggregateFunction(v,p);S&&(f=((a=l.groupAggregateFunction)==null?void 0:a.call(l,S,f))??ku.extendDomain(S,f))}const m=((o=l.finalFunction)==null?void 0:o.call(l,f))??f;if(l.round===!0)for(const b in m)m[b]=h_(m[b]);h.aggregation[r]=m,ku.extendDomain(m,e[r])}}}postProcessGroups(t){const{groupProcessors:e}=this,{columnScopes:i,columns:n,invalidData:s,scopes:a}=t;for(const o of e){const r=this.valueGroupIdxLookup(o),l=o.adjust()();for(const c of t.groups)c.validScopes===a&&l(n,r,c);for(const c of r){const p=this.values[c].valueType==="category",f=n[c],y=sm(i[c]),m=s==null?void 0:s.get(y),b=p?new c_:new ku;for(let v=0;v<f.length;v+=1)(m==null?void 0:m[v])!==!0&&b.extend(f[v]);t.domain.values[c]=b.getDomain()}}}postProcessProperties(t){for(const{adjust:e,property:i,scopes:n}of this.propertyProcessors)for(const s of this.valueIdxLookup(n,i))e()(t,s)}reduceData(t){var n;t.reduced??(t.reduced={});const{dataSources:e,keys:i}=t;for(const s of this.reducers){const a=s.reducer();let o=s.initialValue;if(t.type==="grouped")for(const r of t.groups)o=a(o,r.keys);else{const r=sm(e.keys()),l=i.map(p=>p.get(r)).filter(p=>p!=null),c=l.map(()=>{}),h=e.get(r);for(let p=0;p<h.length;p+=1){for(let f=0;f<c.length;f++)c[f]=(n=l[f])==null?void 0:n[p];o=a(o,c)}}t.reduced[s.property]=o}}postProcessData(t){t.reduced??(t.reduced={});for(const e of this.processors)t.reduced[e.property]=e.calculate(t,t.reduced[e.property])}initDataDomainProcessor(){const{keys:t,values:e}=this,i=new Set;for(const c of e)if(c.scopes)for(const h of c.scopes)i.add(h);const n=new Map,s=new Map;let a=!0;const o=()=>{for(const c of Md(t,e))c.valueType==="category"?n.set(c,new c_):(n.set(c,new ku),a&&(a=(c.scopes??[]).length===i.size))};o();const r=this.buildAccessors(Md(t,e));return{dataDomain:n,processValue:(c,h,p,f)=>{var v,S,D;let y,m;if(r.has(c.property)){try{m=r.get(c.property)(h)}catch{}y=m!=null}else y=c.property in h,m=y?h[c.property]:c.missingValue;c.forceValue!=null&&(m=y&&XM(m)?-1*c.forceValue:c.forceValue,y=!0);const b="missingValue"in c;if(!y&&!b)if(typeof f=="string"){const I=c.missing.get(f)??0;c.missing.set(f,I+1)}else for(const I of f){const T=c.missing.get(I)??0;c.missing.set(I,T+1)}if(n.has(c)||o(),y&&((v=c.validation)==null?void 0:v.call(c,m,h,p))===!1)if("invalidValue"in c)m=c.invalidValue;else return this.mode!=="integrated"&&It.warnOnce(`invalid value of type [${typeof m}] for [${c.scopes} / ${c.id}] ignored:`,`[${m}]`),Sv;return c.processor&&(s.has(c)||s.set(c,c.processor()),m=(S=s.get(c))==null?void 0:S(m)),(D=n.get(c))==null||D.extend(m),m},initDataDomain:o,scopes:i,allScopesHaveSameDefs:a}}buildAccessors(t){const e=new Map;if(this.suppressFieldDotNotation)return e;for(const i of t){if(!(i.property.includes(".")||i.property.includes("[")))continue;const s=QU(i.property);if(s==null){It.warnOnce("Invalid property path [%s]",i.property);continue}const a=Pat(s);e.set(i.property,a)}return e}};function Bat(t){const e=(i,n)=>{n.length>0&&(It.log(`DataModel.processData() - ${i}`),It.table(n))};It.log("DataModel.processData() - processedData",t),e("Key Domains",t.domain.keys),e("Group Domains",t.domain.groups??[]),e("Value Domains",t.domain.values),e("Aggregate Domains",t.domain.aggValues??[])}var tH=class tc{constructor(e,i){this.mode=e,this.suppressFieldDotNotation=i,this.debug=We.create(!0,"data-model"),this.requested=[],this.status="setup"}async request(e,i,n){if(this.status!=="setup")throw new Error("AG Charts - data request after data setup phase.");return new Promise((s,a)=>{this.requested.push({id:e,opts:n,data:i,resolve:s,reject:a})})}execute(e){if(this.status!=="setup")throw new Error("AG Charts - data request after data setup phase.");this.status="executed",this.debug("DataController.execute() - requested",this.requested);const i=this.validateRequests(this.requested);this.debug("DataController.execute() - validated",i);const n=this.mergeRequested(i);this.debug("DataController.execute() - merged",n),this.debug.check()&&(Qe().processedData=[]);const s=[];for(const{data:a,ids:o,opts:r,resolves:l,rejects:c}of n){const h=e==null?void 0:e.find(y=>Eat(y,a,o,r));let p,f;if(h==null)try{p=new JU(r,this.mode,this.suppressFieldDotNotation);const y=new Map(i.map(m=>[m.id,m.data]));f=p.processData(y)}catch(y){c.forEach(m=>m(y));continue}else({dataModel:p,processedData:f}=h);s.push({opts:r,data:a,ids:o,dataModel:p,processedData:f}),this.debug.check()&&Qe("processedData").push(f),(f==null?void 0:f.partialValidDataCount)===0?l.forEach(y=>y({dataModel:p,processedData:f})):f?this.splitResult(p,f,o,l):c.forEach(y=>y(new Error("AG Charts - no processed data generated")))}return s}validateRequests(e){const i=[];for(const[n,s]of e.entries())n>0&&s.data.length!==e[0].data.length&&s.opts.groupByData===!1&&s.opts.groupByKeys===!1?s.reject(new Error("all series[].data arrays must be of the same length and have matching keys.")):i.push(s);return i}mergeRequested(e){const i=[];for(const n of e){const s=i.find(tc.groupMatch(n));s?s.push(n):i.push([n])}return i.map(tc.mergeRequests)}splitResult(e,i,n,s){for(let a=0;a<n.length;a++){const o=s[a];o({dataModel:e,processedData:i})}}static groupMatch({data:e,opts:i}){function n(c){return c.filter(h=>h.type==="key").map(h=>h.property).join(";")}const{groupByData:s,groupByKeys:a=!1,groupByFn:o,props:r}=i,l=n(r);return([c])=>(s===!1||c.data===e)&&(c.opts.groupByKeys??!1)===a&&c.opts.groupByFn===o&&n(c.opts.props)===l}static mergeRequests(e){const i=new Set(["key","group-value-processor"]);return e.reduce((n,{id:s,data:a,resolve:o,reject:r,opts:{props:l,...c}})=>{var h;n.ids.push(s),n.rejects.push(r),n.resolves.push(o),n.data??(n.data=a),n.opts??(n.opts={...c,props:[]});for(const p of l){const f={...p,scopes:[s],data:a};tc.createIdsMap(s,f);const y=n.opts.props.find(m=>m.type===f.type&&(i.has(m.type)||m.data===f.data)&&tc.deepEqual(m,f));if(!y){n.opts.props.push(f);continue}y.scopes??(y.scopes=[]),y.scopes.push(...f.scopes??[]),(y.type==="key"||y.type==="value")&&((h=f.idsMap)!=null&&h.size)&&tc.mergeIdsMap(f.idsMap,y.idsMap)}return n},{ids:[],rejects:[],resolves:[],data:null,opts:null})}static mergeIdsMap(e,i){for(const[n,s]of e){const a=i.get(n);if(a==null)i.set(n,new Set(s));else for(const o of s)a.add(o)}}static createIdsMap(e,i){i.id!=null&&(i.idsMap??(i.idsMap=new Map),i.idsMap.has(e)?i.idsMap.get(e).add(i.id):i.idsMap.set(e,new Set([i.id])))}static deepEqual(e,i){if(e===i)return!0;if(e&&i&&typeof e=="object"&&typeof i=="object"){if(e.constructor!==i.constructor)return!1;let n,s;if(Array.isArray(e)){if(s=e.length,s!==i.length)return!1;for(n=s-1;n>=0;n--)if(!tc.deepEqual(e[n],i[n]))return!1;return!0}const a=Object.keys(e);if(s=a.length,s!==Object.keys(i).length)return!1;for(n=s-1;n>=0;n--){const o=a[n];if(!tc.skipKeys.has(o)&&(!Object.hasOwn(i,o)||!tc.deepEqual(e[o],i[o])))return!1}return!0}return!1}};tH.skipKeys=new Set(["id","idsMap","type","scopes","data"]);var eH=tH,zat=class{constructor(){this.axesMap=new Map,this.themeTemplates=new Map}register(t,e){this.axesMap.set(t,e.moduleFactory),e.themeTemplate&&this.setThemeTemplate(t,e.themeTemplate)}create(t,e){const i=this.axesMap.get(t);if(i)return i(e);throw new Error(`AG Charts - unknown axis type: ${t}`)}has(t){return this.axesMap.has(t)}keys(){return this.axesMap.keys()}setThemeTemplate(t,e){return this.themeTemplates.set(t,e),this}getThemeTemplate(t){return this.themeTemplates.get(t)}},fc=new zat,dg=[{type:"root",optionsKey:"animation",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"]},{type:"root",optionsKey:"annotations",chartTypes:["cartesian"]},{type:"root",optionsKey:"background",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],optionsInnerKey:"image"},{type:"root",optionsKey:"foreground",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],optionsInnerKey:"image"},{type:"root",optionsKey:"chartToolbar",chartTypes:["cartesian"]},{type:"root",optionsKey:"contextMenu",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"]},{type:"root",optionsKey:"statusBar",chartTypes:["cartesian"],identifier:"status-bar"},{type:"root",optionsKey:"dataSource",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"]},{type:"root",optionsKey:"sync",chartTypes:["cartesian"]},{type:"root",optionsKey:"zoom",chartTypes:["cartesian","topology"]},{type:"root",optionsKey:"ranges",chartTypes:["cartesian"]},{type:"legend",optionsKey:"gradientLegend",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],identifier:"gradient"},{type:"root",optionsKey:"navigator",chartTypes:["cartesian"]},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-number"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-number"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"bar",community:!0},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"line",community:!0},{type:"axis",optionsKey:"axes[]",chartTypes:["cartesian"],identifier:"ordinal-time"},{type:"axis-option",optionsKey:"crosshair",chartTypes:["cartesian"]},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"box-plot"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"candlestick"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"cone-funnel"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"funnel"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"ohlc"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"heatmap"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-area"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-bar"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"waterfall"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"nightingale"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-area"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-line"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-bar"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-column"},{type:"series",optionsKey:"series[]",chartTypes:["hierarchy"],identifier:"sunburst"},{type:"series",optionsKey:"series[]",chartTypes:["hierarchy"],identifier:"treemap"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-shape"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-line"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-marker"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-shape-background"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-line-background"},{type:"series",optionsKey:"series[]",chartTypes:["flow-proportion"],identifier:"chord"},{type:"series",optionsKey:"series[]",chartTypes:["flow-proportion"],identifier:"sankey"},{type:"series",optionsKey:"series[]",chartTypes:["standalone"],identifier:"pyramid"},{type:"series",optionsKey:"series[]",chartTypes:["gauge"],identifier:"linear-gauge"},{type:"series",optionsKey:"series[]",chartTypes:["gauge"],identifier:"radial-gauge"},{type:"series-option",optionsKey:"errorBar",chartTypes:["cartesian"],identifier:"error-bars"},{type:"context",contextKey:"sharedToolbar",chartTypes:["cartesian"]}];function _at(t){return dg.some(e=>e.type==="series"&&e.identifier===t)}function Wd(t){var e;return(e=dg.find(i=>i.type==="series"&&i.identifier===t))==null?void 0:e.chartTypes}function jat(t){var i;return((i=Wd(t))==null?void 0:i.find(n=>n==="cartesian"))==="cartesian"}function Fat(t){var i;return((i=Wd(t))==null?void 0:i.find(n=>n==="polar"))==="polar"}function Gat(t){var i;return((i=Wd(t))==null?void 0:i.find(n=>n==="hierarchy"))==="hierarchy"}function Vat(t){var i;return((i=Wd(t))==null?void 0:i.find(n=>n==="topology"))==="topology"}function Uat(t){var i;return((i=Wd(t))==null?void 0:i.find(n=>n==="flow-proportion"))==="flow-proportion"}function Hat(t){var i;return((i=Wd(t))==null?void 0:i.find(n=>n==="standalone"))==="standalone"}function Wat(t){var i;return((i=Wd(t))==null?void 0:i.find(n=>n==="gauge"))==="gauge"}function Yat(t){return t.packageType==="enterprise"}function $at(t){if(!Yat(t))throw new Error("AG Charts - internal configuration error, only enterprise modules need verification.");const e=dg.find(i=>i.type===t.type&&("optionsKey"in i&&"optionsKey"in t?i.optionsKey===t.optionsKey:!0)&&("contextKey"in i&&"contextKey"in t?i.contextKey===t.contextKey:!0)&&i.identifier===t.identifier&&t.chartTypes.every(n=>i.chartTypes.includes(n)));return e&&(e.useCount??(e.useCount=0),e.useCount++),e!=null}function Kat(){return dg.filter(({useCount:t})=>t==null||t===0)}var Xat=class{constructor(){this.legendMap=new Map,this.themeTemplates=new Map}register(t,{optionsKey:e,moduleFactory:i,themeTemplate:n}){this.legendMap.set(t,{optionsKey:e,moduleFactory:i}),this.themeTemplates.set(e,n)}create(t,e){var n;const i=(n=this.legendMap.get(t))==null?void 0:n.moduleFactory;if(i)return i(e);throw new Error(`AG Charts - unknown legend type: ${t}`)}getThemeTemplates(){return Object.fromEntries(this.themeTemplates)}getKeys(){return Array.from(this.legendMap.entries()).reduce((t,[e,i])=>(t[e]=i.optionsKey,t),{})}},RN=new Xat,iH=class extends Map{get(t){return super.get(t)??"unknown"}isCartesian(t){return this.get(t)==="cartesian"}isPolar(t){return this.get(t)==="polar"}isHierarchy(t){return this.get(t)==="hierarchy"}isTopology(t){return this.get(t)==="topology"}isFlowProportion(t){return this.get(t)==="flow-proportion"}isStandalone(t){return this.get(t)==="standalone"}isGauge(t){return this.get(t)==="gauge"}get seriesTypes(){return Array.from(this.keys())}get cartesianTypes(){return this.seriesTypes.filter(t=>this.isCartesian(t))}get polarTypes(){return this.seriesTypes.filter(t=>this.isPolar(t))}get hierarchyTypes(){return this.seriesTypes.filter(t=>this.isHierarchy(t))}get topologyTypes(){return this.seriesTypes.filter(t=>this.isTopology(t))}get flowProportionTypes(){return this.seriesTypes.filter(t=>this.isFlowProportion(t))}get standaloneTypes(){return this.seriesTypes.filter(t=>this.isStandalone(t))}get gaugeTypes(){return this.seriesTypes.filter(t=>this.isGauge(t))}},Zat=class extends Map{set(t,e){return super.set(t,ie(e,this.get(t)))}},ai=new iH,nH=new iH,Bk=new Zat,qat=class{constructor(){this.seriesMap=new Map,this.themeTemplates=new Map}register(t,{chartTypes:[e],moduleFactory:i,tooltipDefaults:n,defaultAxes:s,themeTemplate:a,paletteFactory:o,solo:r,stackable:l,groupable:c,stackedByDefault:h,hidden:p}){this.setThemeTemplate(t,a),this.seriesMap.set(t,{moduleFactory:i,tooltipDefaults:n,defaultAxes:s,paletteFactory:o,solo:r,stackable:l,groupable:c,stackedByDefault:h}),ai.set(t,e),p||nH.set(t,e)}create(t,e){var n;const i=(n=this.seriesMap.get(t))==null?void 0:n.moduleFactory;if(i)return i(e);throw new Error(`AG Charts - unknown series type: ${t}`)}cloneDefaultAxes(t,e){var s;const i=(s=this.seriesMap.get(t))==null?void 0:s.defaultAxes;if(i==null)return null;const n=typeof i=="function"?i(e):i;return{axes:fn(n)}}isDerivedDefaultAxes(t){var e;return typeof((e=this.seriesMap.get(t))==null?void 0:e.defaultAxes)=="function"}setThemeTemplate(t,e){const i=this.themeTemplates.get(t);this.themeTemplates.set(t,ie(e,i))}getThemeTemplate(t){return this.themeTemplates.get(t)}getPaletteFactory(t){var e;return(e=this.seriesMap.get(t))==null?void 0:e.paletteFactory}getTooltipDefauls(t){var e;return(e=this.seriesMap.get(t))==null?void 0:e.tooltipDefaults}isSolo(t){var e;return((e=this.seriesMap.get(t))==null?void 0:e.solo)??!1}isGroupable(t){var e;return((e=this.seriesMap.get(t))==null?void 0:e.groupable)??!1}isStackable(t){var e;return((e=this.seriesMap.get(t))==null?void 0:e.stackable)??!1}isStackedByDefault(t){var e;return((e=this.seriesMap.get(t))==null?void 0:e.stackedByDefault)??!1}},pa=new qat,PN=class yd extends oh{constructor(e){super(),this.chart=e}subscribe(e=yd.DEFAULT_GROUP){let i=this.get(e);return i||(i=new Set,yd.chartsGroups.set(e,i)),i.add(this.chart),this}unsubscribe(e=yd.DEFAULT_GROUP){var i;return(i=this.get(e))==null||i.delete(this.chart),this}getChart(){return this.chart}getGroup(e=yd.DEFAULT_GROUP){const i=this.get(e);return i?Array.from(i):[]}getGroupSiblings(e=yd.DEFAULT_GROUP){return this.getGroup(e).filter(i=>i!==this.chart)}get(e){return yd.chartsGroups.get(e)}};PN.chartsGroups=new Map;PN.DEFAULT_GROUP=Symbol("sync-group-default");var Qat=PN,BN=class extends Zt{constructor(){super(...arguments),this.enabled=!1}};N([w(jt)],BN.prototype,"enabled",2);N([w(de)],BN.prototype,"tabIndex",2);var sH=["top","right","bottom","left"];function Jat(t){return typeof t=="string"&&sH.includes(t)}function tot(t){const e=[],i=[],n=[...sH];for(const s of t)s instanceof eb&&(Jat(s.position)?i.push(s.position):e.push(s));for(const s of e){let a;do a=n.pop();while(a&&i.includes(a));if(a==null)break;s.position=a}}var eot=["direction","xKey","yKey","sizeKey","angleKey","radiusKey","normalizedTo"];function iot(t,e,i){var c,h;const n=(p,f,y)=>{const m=[p];for(const b of eot)b in f&&f[b]!=null&&m.push(`${b}=${f[b]}`);return y!=null&&y.seriesGrouping&&m.push(`seriesGrouping.groupId=${y==null?void 0:y.seriesGrouping.groupId}`),m.join(";")},s=new Map;let a=0;for(const p of t){const f=n(p.type,p.properties,i==null?void 0:i[a]);s.has(f)||s.set(f,[]),(c=s.get(f))==null||c.push([p,a++])}const o=new Map;a=0;for(const p of e){const f=n(p.type,p,p);o.has(f)||o.set(f,[]),(h=o.get(f))==null||h.push([p,a++])}if(![...s.keys()].some(p=>o.has(p)))return{status:"no-overlap",oldKeys:s.keys(),newKeys:o.keys()};const l=[];for(const[p,f]of o.entries())for(const[y,m]of f){const b=s.get(p);if(b==null||b.length<1){l.push({opts:y,targetIdx:m,idx:m,status:"add"}),s.delete(p);continue}const[v,S]=b.shift(),D=(i==null?void 0:i[S])??{},I=vc(D,y??{}),{groupIndex:T,stackIndex:k}=(I==null?void 0:I.seriesGrouping)??{};T!=null||k!=null?l.push({opts:y,series:v,diff:I,targetIdx:m,idx:S,status:"series-grouping"}):I?l.push({opts:y,series:v,diff:I,targetIdx:m,idx:S,status:"update"}):l.push({opts:y,series:v,targetIdx:m,idx:S,status:"no-op"}),b.length===0&&s.delete(p)}for(const p of s.values())for(const[f,y]of p)l.push({series:f,idx:y,targetIdx:-1,status:"remove"});return{status:"overlap",changes:l}}function Lc(t){var i;const{series:e}=t;if(e)return((i=e[0])==null?void 0:i.type)??"line"}function zN(t){const e=Lc(t);return e==null?!1:ai.isCartesian(e)||jat(e)}function aH(t){const e=Lc(t);return e==null?!1:ai.isPolar(e)||Fat(e)}function not(t){const e=Lc(t);return e==null?!1:ai.isHierarchy(e)||Gat(e)}function sot(t){const e=Lc(t);return e==null?!1:ai.isTopology(e)||Vat(e)}function aot(t){const e=Lc(t);return e==null?!1:ai.isFlowProportion(e)||Uat(e)}function oH(t){const e=Lc(t);return e==null?!1:ai.isStandalone(e)||Hat(e)}function rH(t){const e=Lc(t);return e==null?!1:ai.isGauge(e)||Wat(e)}function oot(t){const e=Lc(t);return aH(t)&&e!=="pie"&&e!=="donut"}function rot(t){return t==null?!1:ai.has(t)}function lot(t){return t==null?!1:fc.has(t)}var cot=class extends hN{applyOptions(t){for(const e of this.moduleMap.values())e.module.optionsKey in t&&cl(e.moduleInstance)&&e.moduleInstance.set(t[e.module.optionsKey])}*legends(){for(const{module:t,moduleInstance:e}of this.moduleMap.values())t.type==="legend"&&(yield{legendType:t.identifier,legend:e})}},zk="ag-charts-overlay",d_="ag-charts-dark-overlay",Dd=class extends Zt{constructor(t,e){super(),this.className=t,this.defaultMessageId=e,this.enabled=!0}getText(t){return t.t(this.text??this.defaultMessageId)}getElement(t,e,i){var n;if((n=this.content)==null||n.remove(),this.focusBox=i,this.renderer){const s=this.renderer();if(s instanceof HTMLElement)this.content=s;else{const a=ae("div");a.innerHTML=s,this.content=a.firstElementChild}}else{const s=ae("div",{display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",height:"100%",margin:"8px",fontFamily:"var(--ag-charts-font-family)",fontSize:"var(--ag-charts-font-size)",fontWeight:"var(--ag-charts-font-weight)"});s.innerText=this.getText(e),this.content=s,t==null||t.animate({from:0,to:1,id:"overlay",phase:"add",groupId:"opacity",onUpdate(a){s.style.opacity=String(a)},onStop(){s.style.opacity="1"}})}return this.content}removeElement(t=()=>{var i;return(i=this.content)==null?void 0:i.remove()},e){if(this.content){if(e){const{content:i}=this;e.animate({from:1,to:0,phase:"remove",id:"overlay",groupId:"opacity",onUpdate(n){i.style.opacity=String(n)},onStop(){t==null||t()}})}else t==null||t();this.content=void 0,this.focusBox=void 0}}};N([w(jt)],Dd.prototype,"enabled",2);N([w(Dt,{optional:!0})],Dd.prototype,"text",2);N([w(ta,{optional:!0})],Dd.prototype,"renderer",2);var pg=class extends Zt{constructor(){super(...arguments),this.darkTheme=!1,this.loading=new Dd("ag-charts-loading-overlay","overlayLoadingData"),this.noData=new Dd("ag-charts-no-data-overlay","overlayNoData"),this.noVisibleSeries=new Dd("ag-charts-no-visible-series","overlayNoVisibleSeries"),this.unsupportedBrowser=new Dd("ag-charts-unsupported-browser","overlayUnsupportedBrowser")}getFocusInfo(t){for(const e of[this.loading,this.noData,this.noVisibleSeries,this.unsupportedBrowser])if(e.focusBox!==void 0)return{text:e.getText(t),rect:e.focusBox}}destroy(){this.loading.removeElement(),this.noData.removeElement(),this.noVisibleSeries.removeElement(),this.unsupportedBrowser.removeElement()}};N([w(jt)],pg.prototype,"darkTheme",2);N([w(kt)],pg.prototype,"loading",2);N([w(kt)],pg.prototype,"noData",2);N([w(kt)],pg.prototype,"noVisibleSeries",2);N([w(kt)],pg.prototype,"unsupportedBrowser",2);function uot(t,e){const{animationDuration:i}=ox.add,n=i*e,s=ae("div",`${zk}--loading`,{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",height:"100%",boxSizing:"border-box",font:"13px Verdana, sans-serif",userSelect:"none",animation:`ag-charts-loading ${n}ms linear 50ms both`}),a=ae("span",{width:"45px",height:"40px",backgroundImage:["linear-gradient(#0000 calc(1 * 100% / 6), #ccc 0 calc(3 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(2 * 100% / 6), #ccc 0 calc(4 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(3 * 100% / 6), #ccc 0 calc(5 * 100% / 6), #0000 0)"].join(""),backgroundSize:"10px 400%",backgroundRepeat:"no-repeat",animation:"ag-charts-loading-matrix 1s infinite linear"}),o=ae("p",{marginTop:"1em"});o.innerText=t;const r=ae("div",`${zk}__loading-background`,{position:"absolute",inset:"0",opacity:"0.5",zIndex:"-1"}),l=ae("style");return l.innerText=["@keyframes ag-charts-loading { from { opacity: 0 } to { opacity: 1 } }","@keyframes ag-charts-loading-matrix {","0% { background-position: 0% 0%, 50% 0%, 100% 0%; }","100% { background-position: 0% 100%, 50% 100%, 100% 100%; }","}"].join(" "),s.replaceChildren(l,a,o,r),s}var lH=(t=>(t[t.BACKGROUND=0]="BACKGROUND",t[t.ANY_CONTENT=1]="ANY_CONTENT",t))(lH||{}),cH=(t=>(t[t.FOREGROUND=0]="FOREGROUND",t[t.HIGHLIGHT=1]="HIGHLIGHT",t[t.LABEL=2]="LABEL",t))(cH||{}),uH=(t=>(t[t.EXACT_SHAPE_MATCH=0]="EXACT_SHAPE_MATCH",t[t.NEAREST_NODE=1]="NEAREST_NODE",t[t.AXIS_ALIGNED=2]="AXIS_ALIGNED",t))(uH||{}),hot=.25,dot=.125,nb=class{constructor(t,e,{datum:i},n){this.type=t,this.event=e,this.datum=i,this.seriesId=n.id}},_N=class{constructor(t,e,i){this.series=t,this.seriesGrouping=e,this.oldGrouping=i,this.type="groupingChanged"}},SA=class extends AU{constructor(e){super(),this.destroyFns=[],this.usesPlacedLabels=!1,this.seriesGrouping=void 0,this.NodeEvent=nb,this.internalId=Vo(this),this.contentGroup=new Js({name:`${this.internalId}-content`,zIndex:1}),this.highlightGroup=new Js({name:`${this.internalId}-highlight`,zIndex:1}),this.annotationGroup=new Js({name:`${this.internalId}-annotation`}),this.labelGroup=new Js({name:`${this.internalId}-series-labels`}),this.axes={x:void 0,y:void 0},this.directions=["x","y"],this.nodeDataRefresh=!0,this.moduleMap=new hN,this.datumCallbackCache=new Map,this.connectsToYAxis=!1,this._declarationOrder=-1,this.seriesListeners=new kc,this._pickNodeCache=new oN;const{moduleCtx:i,pickModes:n,directionKeys:s={},directionNames:a={},canHaveAxes:o=!1,usesPlacedLabels:r=!1}=e;this.ctx=i,this.directionKeys=s,this.directionNames=a,this.canHaveAxes=o,this.usesPlacedLabels=r,this.highlightGroup=new Js({name:`${this.internalId}-highlight`}),this.highlightNode=this.highlightGroup.appendChild(new Wt({name:"highlightNode",zIndex:0})),this.highlightLabel=this.highlightGroup.appendChild(new Wt({name:"highlightLabel",zIndex:10})),this.pickModes=n}get pickModeAxis(){return"main"}get id(){var e;return((e=this.properties)==null?void 0:e.id)??this.internalId}get type(){return this.constructor.type??""}get focusable(){return!0}get data(){return this._data??this._chartData}set visible(e){this.properties.visible=e,this.ctx.legendManager.toggleItem({enabled:e,seriesId:this.id}),this.ctx.legendManager.update(),this.visibleMaybeChanged()}get visible(){return this.ctx.legendManager.getSeriesEnabled(this.id)??this.properties.visible}get hasData(){return this.data!=null&&this.data.length>0}get tooltipEnabled(){var e;return((e=this.properties.tooltip)==null?void 0:e.enabled)??!1}onDataChange(){this.nodeDataRefresh=!0,this._pickNodeCache.clear()}setOptionsData(e){this._data=e,this.onDataChange()}setChartData(e){this._chartData=e,this.data===e&&this.onDataChange()}onSeriesGroupingChange(e,i){const{internalId:n,type:s,visible:a}=this;e&&this.ctx.seriesStateManager.deregisterSeries(this),i&&this.ctx.seriesStateManager.registerSeries({internalId:n,type:s,visible:a,seriesGrouping:i}),this.fireEvent(new _N(this,i,e))}getBandScalePadding(){return{inner:1,outer:0}}attachSeries(e,i,n){e.appendChild(this.contentGroup),i.appendChild(this.highlightGroup),i.appendChild(this.labelGroup),n==null||n.appendChild(this.annotationGroup)}detachSeries(e,i,n){e==null||e.removeChild(this.contentGroup),i.removeChild(this.highlightGroup),i.removeChild(this.labelGroup),n==null||n.removeChild(this.annotationGroup)}setSeriesIndex(e){return e===this._declarationOrder?!1:(this._declarationOrder=e,this.contentGroup.zIndex=[1,e,0],this.highlightGroup.zIndex=[1,e,1],this.labelGroup.zIndex=[1,e,2],this.annotationGroup.zIndex=e,!0)}renderToOffscreenCanvas(){return!1}addEventListener(e,i){return super.addEventListener(e,i)}addListener(e,i){return this.seriesListeners.addListener(e,i)}dispatch(e,i){this.seriesListeners.dispatch(e,i)}addChartEventListeners(){}destroy(){this.destroyFns.forEach(e=>e()),this.destroyFns=[],this.resetDatumCallbackCache(),this.ctx.seriesStateManager.deregisterSeries(this)}getDirectionValues(e,i){const n=this.resolveKeyDirection(e),s=i==null?void 0:i[n],a=[];if(!s)return a;const o=(...r)=>{for(const l of r)Array.isArray(l)?o(...l):typeof l=="object"?o(...Object.values(l)):a.push(l)};return o(...s.map(r=>this.properties[r])),a}getKeys(e){return this.getDirectionValues(e,this.directionKeys)}getKeyProperties(e){return this.directionKeys[this.resolveKeyDirection(e)]??[]}getNames(e){return this.getDirectionValues(e,this.directionNames)}resolveKeyDirection(e){return e}getDomain(e){const i=this.getSeriesDomain(e),n=this.moduleMap.mapModules(s=>s.getDomain(e)).flat();return n.length!==0?i.concat(n):i}getRange(e,i){return this.getSeriesRange(e,i)}getVisibleItems(e,i,n){return 1/0}getGradientFillOptions({bounds:e},i){const{axes:n}=this,s=n.x,a=n.y,o=(s==null?void 0:s.range)??[0,1],r=(a==null?void 0:a.range)??[0,1],[l,c]=Vn(o),[h,p]=Vn(r),f=c-l,y=p-h;let m=[0,1];return e==="series"?m=this.getSeriesDomain("y"):e==="axes"&&(m=(a==null?void 0:a.scale.domain)??[0,1]),{bbox:new Et(l,h,f,y),domain:m,defaultColorRange:i}}markNodeDataDirty(){this.nodeDataRefresh=!0,this._pickNodeCache.clear(),this.visibleMaybeChanged()}visibleMaybeChanged(){this.ctx.seriesStateManager.updateSeries(this)}getOpacity(){const{dimOpacity:i=1,enabled:n=!0}=this.properties.highlightStyle.series;if(!n||i===1)return 1;switch(this.isItemIdHighlighted()){case 0:case 1:return 1;case 2:default:return i}}getStrokeWidth(e){const{strokeWidth:i,enabled:n=!0}=this.properties.highlightStyle.series;if(!n||i===void 0)return e;switch(this.isItemIdHighlighted()){case 1:return i;case 0:case 2:return e}}isItemIdHighlighted(){var i,n;const e=(n=(i=this.ctx.highlightManager)==null?void 0:i.getActiveHighlight())==null?void 0:n.series;return e==null?0:e!==this?2:1}getModuleTooltipParams(){return this.moduleMap.mapModules(e=>e.getTooltipParams()).reduce((e,i)=>Object.assign(e,i),{})}pickNode(e,i,n=!1){const{pickModes:s,pickModeAxis:a,visible:o,contentGroup:r}=this;if(!o||!r.visible||i==="highlight"&&!this.properties.highlight.enabled||i==="highlight-tooltip"&&!this.properties.highlight.enabled)return;let l=1/0;if(i==="tooltip"||i==="highlight-tooltip"){const{tooltip:y}=this.properties;l=typeof y.range=="number"?y.range:1/0,n||(n=y.range==="exact")}else if(i==="event"||i==="context-menu"){const{nodeClickRange:y}=this.properties;l=typeof y=="number"?y:1/0,n||(n=y==="exact")}const c=s.filter(y=>!n||y===0),{x:h,y:p}=e,f=JSON.stringify({x:h,y:p,maxDistance:l,selectedPickModes:c});if(this._pickNodeCache.has(f))return this._pickNodeCache.get(f);for(const y of c){let m;switch(y){case 0:m=this.pickNodeExactShape(e);break;case 1:m=this.pickNodeClosestDatum(e);break;case 2:m=a!=null?this.pickNodeMainAxisFirst(e,a==="main-category"):void 0;break}if(m&&m.distance<=l)return this._pickNodeCache.set(f,{pickMode:y,match:m.datum,distance:m.distance})}return this._pickNodeCache.set(f,void 0)}pickNodeExactShape(e){const i=this.contentGroup.pickNode(e.x,e.y);if(i&&i.datum.missing!==!0)return{datum:i.datum,distance:0}}pickNodeClosestDatum(e){throw new Error("AG Charts - Series.pickNodeClosestDatum() not implemented")}pickNodeNearestDistantObject(e,i){const n=KM(e.x,e.y,i);if(n.nearest!==void 0&&n.nearest.datum.missing!==!0)return{datum:n.nearest.datum,distance:Math.sqrt(n.distanceSquared)}}pickNodeMainAxisFirst(e,i){throw new Error("AG Charts - Series.pickNodeMainAxisFirst() not implemented")}getLabelData(){return[]}updatePlacedLabelData(e){}fireNodeClickEvent(e,i){this.fireEvent(new this.NodeEvent("nodeClick",e,i,this))}fireNodeDoubleClickEvent(e,i){this.fireEvent(new this.NodeEvent("nodeDoubleClick",e,i,this))}createNodeContextMenuActionEvent(e,i){return new this.NodeEvent("nodeContextMenuAction",e,i,this)}onLegendInitialState(e,i){const{visible:n=!0,itemId:s,legendItemName:a}=i??{};this.toggleSeriesItem(n,e,s,a)}onLegendItemClick(e){const{enabled:i,itemId:n,series:s,legendType:a}=e,o="legendItemName"in this.properties?this.properties.legendItemName:void 0,r="legendItemKey"in this.properties?this.properties.legendItemKey:void 0,l=o!=null&&o===e.legendItemName;(s.id===this.id||l||r!=null)&&this.toggleSeriesItem(i,a,n,o,e)}onLegendItemDoubleClick(e){const{enabled:i,itemId:n,series:s,numVisibleItems:a,legendType:o}=e,r="legendItemName"in this.properties?this.properties.legendItemName:void 0,l="legendItemKey"in this.properties?this.properties.legendItemKey:void 0,c=r!=null&&r===e.legendItemName;s.id===this.id||c||l!=null?this.toggleSeriesItem(!0,o,n,r,e):i&&a===1?this.toggleSeriesItem(!0,o,void 0,r):this.toggleSeriesItem(!1,o,void 0,r)}toggleSeriesItem(e,i,n,s,a){const o=this.id;(e||i!=="category")&&(this.visible=e),this.nodeDataRefresh=!0,this._pickNodeCache.clear();const r={type:"seriesVisibilityChange",seriesId:o,itemId:n,legendItemName:(a==null?void 0:a.legendItemName)??s,visible:e};this.fireEvent(r),this.ctx.legendManager.toggleItem({enabled:e,seriesId:o,itemId:n,legendItemName:s})}isEnabled(){return this.visible}getModuleMap(){return this.moduleMap}createModuleContext(){return{...this.ctx,series:this}}getLabelText(e,i,n=bc){return e.formatter?this.ctx.callbackCache.call(e.formatter,{seriesId:this.id,...i})??n(i.value):n(i.value)}getMarkerStyle(e,i,n=e.getStyle()){var o;const s={size:((o=i.datum.point)==null?void 0:o.size)??0},a=ie(s,n);if(e.itemStyler){const r=this.ctx.callbackCache.call(e.itemStyler,{seriesId:this.id,...a,...i,datum:i.datum.datum});return ie(r,a)}return a}updateMarkerStyle(e,i,n,s=i.getStyle(),{applyTranslation:a=!0,selected:o=!0}={}){const{point:r}=n.datum,l=this.getMarkerStyle(i,n,s),c=this.visible&&l.size>0&&r&&!isNaN(r.x)&&!isNaN(r.y);if(a?e.setProperties({visible:c,...l,translationX:r==null?void 0:r.x,translationY:r==null?void 0:r.y}):e.setProperties({visible:c,...l}),o||(e.fillOpacity*=hot,e.strokeOpacity*=dot),typeof i.shape=="function"&&!e.dirtyPath){e.path.clear(!0),e.updatePath(),e.checkPathDirty();const h=e.getBBox();if(r!==void 0&&h.isFinite()){const p=h.computeCenter(),[f,y]=["x","y"].map(m=>(l.strokeWidth??0)+Math.abs(p[m]-r[m]));r.focusSize=Math.max(h.width+f,h.height+y)}}}get nodeDataDependencies(){return this._nodeDataDependencies??{seriesRectWidth:NaN,seriesRectHeight:NaN}}checkResize(e){const{width:i,height:n}=e??{width:NaN,height:NaN},s=e?{seriesRectWidth:i,seriesRectHeight:n}:void 0,a=vc(this.nodeDataDependencies,s)!=null;return a&&(this._nodeDataDependencies=s,this.markNodeDataDirty()),a}pickFocus(e){}resetDatumCallbackCache(){this.datumCallbackCache.clear()}cachedDatumCallback(e,i){const{datumCallbackCache:n}=this,s=n.get(e);if(s!=null)return s;const a=i();return n.set(e,a),a}};N([Sa({changeValue:function(t,e){this.onSeriesGroupingChange(e,t)}})],SA.prototype,"seriesGrouping",2);function pot(t,e){const i=-e/t;return t!==0&&i>=0&&i<=1?[i]:[]}function fot(t,e,i){if(t===0)return pot(e,i);const n=e*e-4*t*i,s=[];if(n===0){const a=-e/(2*t);a>=0&&a<=1&&s.push(a)}else if(n>0){const a=Math.sqrt(n),o=(-e-a)/(2*t),r=(-e+a)/(2*t);o>=0&&o<=1&&s.push(o),r>=0&&r<=1&&s.push(r)}return s}function got(t,e,i,n){if(t===0)return fot(e,i,n);const s=e/t,a=i/t,o=n/t,r=(3*a-s*s)/9,l=(9*s*a-27*o-2*s*s*s)/54,c=r*r*r+l*l,h=1/3,p=[];if(c>=0){const f=Math.sqrt(c),y=Math.sign(l+f)*Math.pow(Math.abs(l+f),h),m=Math.sign(l-f)*Math.pow(Math.abs(l-f),h),b=Math.abs(Math.sqrt(3)*(y-m)/2),v=-.3333333333333333*s+(y+m);if(v>=0&&v<=1&&p.push(v),b===0){const S=-.3333333333333333*s-(y+m)/2;S>=0&&S<=1&&p.push(S)}}else{const f=Math.acos(l/Math.sqrt(-r*r*r)),y=h*s,m=2*Math.sqrt(-r),b=m*Math.cos(h*f)-y,v=m*Math.cos(h*(f+2*Math.PI))-y,S=m*Math.cos(h*(f+4*Math.PI))-y;b>=0&&b<=1&&p.push(b),v>=0&&v<=1&&p.push(v),S>=0&&S<=1&&p.push(S)}return p}function Pf(t,e,i,n,s,a,o,r){const l=(i-t)*(r-a)-(n-e)*(o-s);if(l===0)return 0;const c=((o-s)*(e-a)-(t-s)*(r-a))/l,h=((i-t)*(e-a)-(n-e)*(t-s))/l;return c>=0&&c<=1&&h>=0&&h<=1?1:0}function yot(t,e,i,n,s,a,o,r,l,c,h,p){let f=0;const y=c-p,m=h-l,b=l*(p-c)-c*(h-l),v=p_(t,i,s,o),S=p_(e,n,a,r),D=y*v[0]+m*S[0],I=y*v[1]+m*S[1],T=y*v[2]+m*S[2],k=y*v[3]+m*S[3]+b,E=got(D,I,T,k);for(const O of E){const B=O*O,R=O*B,L=v[0]*R+v[1]*B+v[2]*O+v[3],F=S[0]*R+S[1]*B+S[2]*O+S[3];let j;l===h?j=(F-c)/(p-c):j=(L-l)/(h-l),j>=0&&j<=1&&f++}return f}function p_(t,e,i,n){return[-t+3*e-3*i+n,3*t-6*e+3*i,-3*t+3*e,t]}function hH(t,e,i,n,s,a,o,r,l,c){if(isNaN(t)||isNaN(e))return 0;a&&([s,n]=[n,s]);const h=(c-r)/(l-o),p=r-h*o,f=Math.pow(h,2)+1,y=2*(h*(p-e)-t),m=Math.pow(t,2)+Math.pow(p-e,2)-Math.pow(i,2),b=Math.pow(y,2)-4*f*m;if(b<0)return 0;const v=(-y+Math.sqrt(b))/2/f,S=(-y-Math.sqrt(b))/2/f;let D=0;return[v,S].forEach(I=>{if(!(I>=Math.min(o,l)&&I<=Math.max(o,l)))return;const k=h*I+p,E=I-t,O=k-e,B=Math.atan2(O,E);Bu(B,n,s)&&D++}),D}function rM(t,e,i,n,s){return(1-s)**3*t+3*(1-s)**2*s*e+3*(1-s)*s**2*i+s**3*n}function lM(t,e,i,n,s){if(s<=Math.min(t,n))return t<n?0:1;if(s>=Math.max(t,n))return t<n?1:0;let a=0,o=1,r=NaN;for(let l=0;l<12;l+=1)r=(a+o)/2,rM(t,e,i,n,r)<s?a=r:o=r;return r}function cM(t,e,i,n,s,a,o,r,l){const c=(1-l)*t+l*i,h=(1-l)*e+l*n,p=(1-l)*i+l*s,f=(1-l)*n+l*a,y=(1-l)*s+l*o,m=(1-l)*a+l*r,b=(1-l)*c+l*p,v=(1-l)*h+l*f,S=(1-l)*p+l*y,D=(1-l)*f+l*m,I=(1-l)*b+l*S,T=(1-l)*v+l*D;return[[{x:t,y:e},{x:c,y:h},{x:b,y:v},{x:I,y:T}],[{x:I,y:T},{x:S,y:D},{x:y,y:m},{x:o,y:r}]]}function _k(t,e,i,n){const s=-t+3*e-3*i+n,a=3*t-6*e+3*i,o=-3*t+3*e;if(s===0){if(a!==0){const l=-o/a;if(l>0&&l<1)return[l]}return[]}const r=a*a-4*s*o;if(r>=0){const l=Math.sqrt(r),c=(-a+l)/(2*s),h=(-a-l)/(2*s);return[c,h].filter(p=>p>0&&p<1)}return[]}function dH(t,e,i,n,s,a,o,r){const l=_k(t,i,s,o),c=_k(e,n,a,r);return[...l,...c]}var hx=class{constructor(){this.path2d=new Path2D,this.previousCommands=[],this.previousParams=[],this.previousClosedPath=!1,this.commands=[],this.params=[],this.openedPath=!1,this.closedPath=!1}isEmpty(){return this.commands.length===0}isDirty(){return this.closedPath!==this.previousClosedPath||this.previousCommands.length!==this.commands.length||this.previousParams.length!==this.params.length||this.previousCommands.toString()!==this.commands.toString()||this.previousParams.toString()!==this.params.toString()}getPath2D(){return this.path2d}moveTo(e,i){this.openedPath=!0,this.path2d.moveTo(e,i),this.commands.push(0),this.params.push(e,i)}lineTo(e,i){this.openedPath?(this.path2d.lineTo(e,i),this.commands.push(1),this.params.push(e,i)):this.moveTo(e,i)}rect(e,i,n,s){this.moveTo(e,i),this.lineTo(e+n,i),this.lineTo(e+n,i+s),this.lineTo(e,i+s),this.closePath()}roundRect(e,i,n,s,a){a=Math.min(a,n/2,s/2),this.moveTo(e,i+a),this.arc(e+a,i+a,a,Math.PI,1.5*Math.PI),this.lineTo(e+a,i),this.lineTo(e+n-a,i),this.arc(e+n-a,i+a,a,1.5*Math.PI,2*Math.PI),this.lineTo(e+n,i+a),this.lineTo(e+n,i+s-a),this.arc(e+n-a,i+s-a,a,0,Math.PI/2),this.lineTo(e+n-a,i+s),this.lineTo(e+a,i+s),this.arc(e+ +a,i+s-a,a,Math.PI/2,Math.PI),this.lineTo(e,i+s-a),this.closePath()}arc(e,i,n,s,a,o){this.openedPath=!0,this.path2d.arc(e,i,n,s,a,o),this.commands.push(2),this.params.push(e,i,n,s,a,o?1:0)}cubicCurveTo(e,i,n,s,a,o){this.openedPath||this.moveTo(e,i),this.path2d.bezierCurveTo(e,i,n,s,a,o),this.commands.push(3),this.params.push(e,i,n,s,a,o)}closePath(){this.openedPath&&(this.path2d.closePath(),this.commands.push(4),this.openedPath=!1,this.closedPath=!0)}clear(e){e&&(this.previousCommands=this.commands,this.previousParams=this.params,this.previousClosedPath=this.closedPath),this.path2d=new Path2D,this.openedPath=!1,this.closedPath=!1,this.commands=[],this.params=[]}isPointInPath(e,i){const n=this.commands,s=this.params,a=n.length,o=-1e4,r=-1e4;let l=NaN,c=NaN,h=0,p=0,f=0;for(let y=0,m=0;y<a;y++)switch(n[y]){case 0:f+=Pf(l,c,h,p,o,r,e,i),h=s[m++],l=h,p=s[m++],c=p;break;case 1:f+=Pf(h,p,s[m++],s[m++],o,r,e,i),h=s[m-2],p=s[m-1];break;case 3:f+=yot(h,p,s[m++],s[m++],s[m++],s[m++],s[m++],s[m++],o,r,e,i),h=s[m-2],p=s[m-1];break;case 2:{const b=s[m++],v=s[m++],S=s[m++],D=s[m++],I=s[m++],T=!!s[m++];if(f+=hH(b,v,S,D,I,T,o,r,e,i),!isNaN(l)){const k=b+Math.cos(D)*S,E=v+Math.sin(D)*S;f+=Pf(h,p,k,E,o,r,e,i)}h=b+Math.cos(I)*S,p=v+Math.sin(I)*S;break}case 4:f+=Pf(l,c,h,p,o,r,e,i);break}return f%2===1}distanceSquared(e,i){let n=1/0;const s=this.commands,a=this.params,o=s.length;let r=NaN,l=NaN,c=0,h=0;for(let p=0,f=0;p<o;p++)switch(s[p]){case 0:c=r=a[f++],h=l=a[f++];break;case 1:{const y=a[f++],m=a[f++];n=Vm(e,i,c,h,y,m,n);break}case 3:It.error("Command.Curve distanceSquare not implemented");break;case 2:{const y=a[f++],m=a[f++],b=a[f++],v=a[f++],S=a[f++],D=y+Math.cos(v)*b,I=m+Math.sin(v)*b,T=!!a[f++];n=Vm(e,i,c,h,D,I,n),n=Ant(e,i,y,m,b,v,S,T,n),c=y+Math.cos(S)*b,h=m+Math.sin(S)*b;break}case 4:n=Vm(e,i,c,h,r,l,n);break}return n}toSVG(e=(i,n)=>({x:i,y:n})){const i=[],{commands:n,params:s}=this,a=(r,...l)=>{i.push(r);for(let c=0;c<l.length;c+=2){const{x:h,y:p}=e(l[c],l[c+1]);i.push(h,p)}};let o=0;for(const r of n)switch(r){case 0:a("M",s[o++],s[o++]);break;case 1:a("L",s[o++],s[o++]);break;case 3:a("C",s[o++],s[o++],s[o++],s[o++],s[o++],s[o++]);break;case 2:{const l=s[o++],c=s[o++],h=s[o++],p=s[o++],f=s[o++],y=s[o++];let m=y?p-f:f-p;m<0&&(m+=Math.ceil(-m/(2*Math.PI))*2*Math.PI),y&&(m=-m);const b=Math.max(Math.ceil(Math.abs(m)/(Math.PI/2)),1),v=m/b,S=4/3*Math.tan(v/4),D=i.length===0?"M":"L";a(D,l+Math.cos(p)*h,c+Math.sin(p)*h);for(let I=0;I<b;I+=1){const T=p+v*(I+0),k=p+v*(I+1),E=h*Math.sin(T),O=h*Math.cos(T),B=h*Math.sin(k),R=h*Math.cos(k);a("C",l+O-S*E,c+E+S*O,l+R+S*B,c+B-S*R,l+R,c+B)}break}case 4:i.push("Z");break}return i.join(" ")}computeBBox(){const{commands:e,params:i}=this;let[n,s,a,o]=[1/0,1/0,-1/0,-1/0],[r,l]=[NaN,NaN],[c,h]=[NaN,NaN];const p=(y,m,b)=>{n=Math.min(m,n),s=Math.min(y,s),a=Math.max(y,a),o=Math.max(m,o),b&&([r,l]=[y,m])};let f=0;for(const y of e)switch(y){case 0:p(i[f++],i[f++],!0),[c,h]=[r,l];break;case 1:p(i[f++],i[f++],!0);break;case 3:{const m=i[f++],b=i[f++],v=i[f++],S=i[f++],D=i[f++],I=i[f++];p(D,I,!0),dH(r,l,m,b,v,S,D,I).forEach(k=>{const E=rM(r,m,v,D,k),O=rM(l,b,S,I,k);p(E,O)});break}case 2:{const m=i[f++],b=i[f++],v=i[f++];let S=qe(i[f++]),D=qe(i[f++]);i[f++]&&([S,D]=[D,S]);const T=(E,O)=>{const B=m+v*Math.cos(E),R=b+v*Math.sin(E);p(B,R,O)};T(S),T(D,!0);const k=[0,Math.PI/2,Math.PI,3*Math.PI/2];for(const E of k)(S<D&&S<=E&&E<=D||S>D&&(S<=E||E<=D))&&T(E);break}case 4:[r,l]=[c,h];break}return new Et(s,n,a-s,o-n)}};function $t(t){const{changeCb:e,convertor:i}=t??{};return Lt({type:"path",convertor:i,changeCb:e})}var ia=class extends _o{constructor(){super(...arguments),this.path=new hx,this._clipX=NaN,this._clipY=NaN,this.clip=!1,this._dirtyPath=!0,this.lastPixelRatio=NaN}set clipX(e){this._clipX=e,this.dirtyPath=!0}set clipY(e){this._clipY=e,this.dirtyPath=!0}set dirtyPath(e){this._dirtyPath!==e&&(this._dirtyPath=e,e&&this.markDirty())}get dirtyPath(){return this._dirtyPath}checkPathDirty(){var e,i;this._dirtyPath||(this.dirtyPath=this.path.isDirty()||(((e=this.fillShadow)==null?void 0:e.isDirty())??!1)||(((i=this._clipPath)==null?void 0:i.isDirty())??!1))}isPointInPath(e,i){return this.updatePathIfDirty(),this.path.closedPath&&this.path.isPointInPath(e,i)}distanceSquared(e,i){return this.distanceSquaredTransformedPoint(e,i)}svgPathData(e){return this.updatePathIfDirty(),this.path.toSVG(e)}distanceSquaredTransformedPoint(e,i){return this.updatePathIfDirty(),this.path.closedPath&&this.path.isPointInPath(e,i)?0:this.path.distanceSquared(e,i)}isDirtyPath(){return!1}updatePath(){}updatePathIfDirty(){(this.dirtyPath||this.isDirtyPath())&&(this.updatePath(),this.dirtyPath=!1)}preRender(e){return e.devicePixelRatio!==this.lastPixelRatio&&(this.dirtyPath=!0),this.lastPixelRatio=e.devicePixelRatio,this.updatePathIfDirty(),super.preRender(e,this.path.commands.length)}render(e){var n,s;const{ctx:i}=e;if(this.clip&&!isNaN(this._clipX)&&!isNaN(this._clipY)){i.save();const a=this.strokeWidth/2;this._clipPath??(this._clipPath=new hx),this._clipPath.clear(),this._clipPath.rect(-a,-a,this._clipX+a,this._clipY+a+a),i.clip((n=this._clipPath)==null?void 0:n.getPath2D()),this._clipX>0&&this._clipY>0&&this.drawPath(i),i.restore()}else this._clipPath=void 0,this.drawPath(i);(s=this.fillShadow)==null||s.markClean(),super.render(e)}drawPath(e){this.fillStroke(e,this.path.getPath2D())}toSVG(){if(!this.visible)return;const e=Ro("path");return e.setAttribute("d",this.svgPathData()),this.applySvgFillAttributes(e),this.applySvgStrokeAttributes(e),{elements:[e]}}};ia.className="Path";N([$t()],ia.prototype,"clip",2);N([$t()],ia.prototype,"clipX",1);N([$t()],ia.prototype,"clipY",1);var mot=class{constructor(t){this.swapChain=t,this.div=ae("div"),this.svg=Ro("svg"),this.outerPath=Ro("path"),this.innerPath=Ro("path"),this.svg.append(this.outerPath),this.svg.append(this.innerPath),this.outerPath.classList.add("ag-charts-focus-svg-outer-path"),this.innerPath.classList.add("ag-charts-focus-svg-inner-path"),this.element=ae("div","ag-charts-focus-indicator"),this.element.ariaHidden="true",this.element.append(this.svg),this.swapChain.addListener("swap",e=>this.onSwap(e))}clear(){}update(t,e,i){if(e!=null)if(t instanceof ia){const n=(a,o)=>{let{x:r,y:l}=Di.toCanvasPoint(t,a,o);return r-=e.x??0,l-=e.y??0,{x:r,y:l}},s=t.svgPathData(n);this.outerPath.setAttribute("d",s),this.innerPath.setAttribute("d",s),this.show(this.svg)}else{let n;if(i){const s=Math.max(t.x-e.x,0),a=Math.max(t.y-e.y,0),o=Math.min(t.x+t.width-e.x,e.width),r=Math.min(t.y+t.height-e.y,e.height);n=new Et(s,a,o-s,r-a)}else n=new Et(t.x-e.x,t.y-e.y,t.width,t.height);nM(this.div,n),this.show(this.div)}}onSwap(t){t!==this.element.parentElement&&(this.element.remove(),t.appendChild(this.element),this.overrideFocusVisible(this.focusVisible))}show(t){this.element.innerHTML="",this.element.append(t)}overrideFocusVisible(t){this.focusVisible=t;const e={true:"1",false:"0",undefined:""},i=this.element.parentElement;i==null||i.style.setProperty("opacity",e[`${t}`])}isFocusVisible(){const t=this.element.parentElement;return t!=null&&Qe().getComputedStyle(t).opacity==="1"}},xot=class{constructor(t,e,i,n){this.label1=t,this.label2=e,this.hasFocus=!1,this.skipDispatch=!1,this.listeners={blur:[],focus:[],swap:[]},this.onBlur=s=>(dr(s.target,"pointer-events",void 0),!this.skipDispatch&&this.dispatch("blur",s)),this.onFocus=s=>(dr(s.target,"pointer-events","auto"),!this.skipDispatch&&this.dispatch("focus",s)),_e(this.label1,"id",`${i}-label1`),_e(this.label2,"id",`${i}-label2`),dr(this.label1,"display","none"),dr(this.label2,"display","none"),this.activeAnnouncer=this.createAnnouncer(n),this.inactiveAnnouncer=this.createAnnouncer(n),_e(this.activeAnnouncer,"tabindex",0),this.label2.insertAdjacentElement("afterend",this.activeAnnouncer),this.label2.insertAdjacentElement("afterend",this.inactiveAnnouncer),this.swap("")}createAnnouncer(t){const e=ae("div");return e.role=t,e.className="ag-charts-swapchain",e.addEventListener("blur",this.onBlur),e.addEventListener("focus",this.onFocus),e}destroy(){for(const t of[this.activeAnnouncer,this.inactiveAnnouncer])t.removeEventListener("blur",this.onBlur),t.removeEventListener("focus",this.onFocus),t.remove()}focus(t){this.focusOptions=t,this.activeAnnouncer.focus(t),this.focusOptions=void 0}update(t){this.skipDispatch=!0,this.swap(t),this.hasFocus&&this.activeAnnouncer.focus(this.focusOptions),this.skipDispatch=!1}addListener(t,e){this.listeners[t].push(e),t==="swap"&&e(this.activeAnnouncer)}dispatch(t,e){t==="focus"?this.hasFocus=!0:t==="blur"&&(this.hasFocus=!1),this.listeners[t].forEach(i=>i(e))}swap(t){const e=this.activeAnnouncer.tabIndex;this.label2.textContent=t,[this.inactiveAnnouncer,this.activeAnnouncer]=[this.activeAnnouncer,this.inactiveAnnouncer],[this.label1,this.label2]=[this.label2,this.label1],Pd(this.inactiveAnnouncer,{"aria-labelledby":this.label1.id,"aria-hidden":!0,tabindex:void 0}),Pd(this.activeAnnouncer,{"aria-labelledby":this.label1.id,"aria-hidden":!1,tabindex:e}),this.dispatch("swap",this.activeAnnouncer)}},bot={arrowdown:{bindings:[{code:"ArrowDown"}]},arrowleft:{bindings:[{code:"ArrowLeft"}]},arrowright:{bindings:[{code:"ArrowRight"}]},arrowup:{bindings:[{code:"ArrowUp"}]},delete:{bindings:[{key:"Backspace"},{key:"Delete"}],activatesFocusIndicator:!1},redo:{bindings:[{key:"y",ctrlOrMeta:!0},{key:"z",ctrlOrMeta:!0,shift:!0}],activatesFocusIndicator:!1},undo:{bindings:[{key:"z",ctrlOrMeta:!0}],activatesFocusIndicator:!1},submit:{bindings:[{key:"Enter"},{code:"Enter"},{code:"Space"}]},zoomin:{bindings:[{key:"+"},{code:"ZoomIn"},{code:"Add"}],activatesFocusIndicator:!1},zoomout:{bindings:[{key:"-"},{code:"ZoomOut"},{code:"Substract"}],activatesFocusIndicator:!1}};function vot(t,e){for(const i of e)if("code"in i){if(i.code===t.code)return!0}else if(i.key===t.key&&(i.shift===void 0||i.shift===t.shiftKey)&&(i.ctrlOrMeta===void 0||i.ctrlOrMeta===t.ctrlKey||i.ctrlOrMeta===t.metaKey))return!0;return!1}function Sot(t){for(const[e,{activatesFocusIndicator:i=!0,bindings:n}]of Object.entries(bot))if(vot(t,n))return{name:e,activatesFocusIndicator:i}}function Mot(t,e,i){const n=ON(t,i.datum);if(n!=null)return{x:n.canvasX,y:n.canvasY};const s=i.bounds;if(s!=null){if(s instanceof Et){const{x:a,y:o}=s.computeCenter();return{x:e.x+a,y:e.y+o}}return Di.toCanvas(s).computeCenter()}}function Aot({bounds:t}){return t instanceof Et?t:t!=null?Di.toCanvas(t):Et.NaN}function Dot(t,e,i){const{x:n,y:s}=Mot(t,e,i)??{};if(n!==void 0&&s!==void 0)return{type:"keyboard",canvasX:n,canvasY:s}}function jk(t,e,i,n){let{top:s,right:a,bottom:o,left:r,width:l,height:c}=n;return r!=null?l!=null?a=i.width-r+l:a!=null&&(l=i.width-r-a):a!=null&&l!=null&&(r=i.width-a-l),s!=null?c!=null?o=i.height-s-c:o!=null&&(c=i.height-o-s):o!=null&&c!=null&&(s=i.height-o-c),l==null?c==null?(l=t,c=e):l=Math.ceil(t*c/e):c==null&&(c=Math.ceil(e*l/t)),r==null&&(a==null?r=Math.floor((i.width-l)/2):r=i.width-a-l),s==null&&(o==null?s=Math.floor((i.height-c)/2):s=i.height-c-o),{x:r,y:s,width:l,height:c}}var Mv=null;function Vf(t){if(t!=null)return t===""?"":(Mv??(Mv=ae("div")),Mv.textContent=String(t),Mv.innerHTML)}function Nm(t,e){const{path:i,size:n}=t,{x:s,y:a}=t;i.clear();let o=!1;for(const[r,l]of e){const c=s+(r-.5)*n,h=a+(l-.5)*n;o?i.lineTo(c,h):i.moveTo(c,h),o=!0}i.closePath()}var Iot={circle({path:t,x:e,y:i,size:n}){const s=n/2;t.clear(),t.arc(e,i,s,0,Math.PI*2),t.closePath()},cross(t){Nm(t,[[.25,0],[.5,.25],[.75,0],[1,.25],[.75,.5],[1,.75],[.75,1],[.5,.75],[.25,1],[0,.75],[.25,.5],[0,.25]])},diamond(t){Nm(t,[[.5,0],[1,.5],[.5,1],[0,.5]])},heart({path:t,x:e,y:i,size:n}){const s=n/4;i=i+s/2,t.clear(),t.arc(e-s,i-s,s,yn(130),yn(330)),t.arc(e+s,i-s,s,yn(220),yn(50)),t.lineTo(e,i+s),t.closePath()},pin({path:t,x:e,y:i,size:n}){t.moveTo(e+(.15625-.5)*n,i+(.34375-.5)*n),t.cubicCurveTo(e+(.15625-.5)*n,i+(.151491-.5)*n,e+(.307741-.5)*n,i+(0-.5)*n,e+(.5-.5)*n,i+(0-.5)*n),t.cubicCurveTo(e+(.692259-.5)*n,i+(0-.5)*n,e+(.84375-.5)*n,i+(.151491-.5)*n,e+(.84375-.5)*n,i+(.34375-.5)*n),t.cubicCurveTo(e+(.84375-.5)*n,i+(.493824-.5)*n,e+(.784625-.5)*n,i+(.600181-.5)*n,e+(.716461-.5)*n,i+(.695393-.5)*n),t.cubicCurveTo(e+(.699009-.5)*n,i+(.719769-.5)*n,e+(.681271-.5)*n,i+(.743104-.5)*n,e+(.663785-.5)*n,i+(.766105-.5)*n),t.cubicCurveTo(e+(.611893-.5)*n,i+(.834367-.5)*n,e+(.562228-.5)*n,i+(.899699-.5)*n,e+(.528896-.5)*n,i+(.980648-.5)*n),t.cubicCurveTo(e+(.524075-.5)*n,i+(.992358-.5)*n,e+(.512663-.5)*n,i+(1-.5)*n,e+(.5-.5)*n,i+(1-.5)*n),t.cubicCurveTo(e+(.487337-.5)*n,i+(1-.5)*n,e+(.475925-.5)*n,i+(.992358-.5)*n,e+(.471104-.5)*n,i+(.980648-.5)*n),t.cubicCurveTo(e+(.487337-.5)*n,i+(1-.5)*n,e+(.475925-.5)*n,i+(.992358-.5)*n,e+(.471104-.5)*n,i+(.980648-.5)*n),t.cubicCurveTo(e+(.437772-.5)*n,i+(.899699-.5)*n,e+(.388107-.5)*n,i+(.834367-.5)*n,e+(.336215-.5)*n,i+(.766105-.5)*n),t.cubicCurveTo(e+(.318729-.5)*n,i+(.743104-.5)*n,e+(.300991-.5)*n,i+(.719769-.5)*n,e+(.283539-.5)*n,i+(.695393-.5)*n),t.cubicCurveTo(e+(.215375-.5)*n,i+(.600181-.5)*n,e+(.15625-.5)*n,i+(.493824-.5)*n,e+(.15625-.5)*n,i+(.34375-.5)*n),t.closePath()},plus(t){Nm(t,[[1/3,0],[2/3,0],[2/3,1/3],[1,1/3],[1,2/3],[2/3,2/3],[2/3,1],[1/3,1],[1/3,2/3],[0,2/3],[0,1/3],[1/3,1/3]])},square({path:t,x:e,y:i,size:n,pixelRatio:s}){const a=n/2;t.clear(),t.moveTo(Jl(s,e-a),Jl(s,i-a)),t.lineTo(Jl(s,e+a),Jl(s,i-a)),t.lineTo(Jl(s,e+a),Jl(s,i+a)),t.lineTo(Jl(s,e-a),Jl(s,i+a)),t.closePath()},star({path:t,x:e,y:i,size:n}){const a=n/2,o=a/2,r=Math.PI/2;for(let l=0;l<5*2;l++){const c=l%2===0?a:o,h=l*Math.PI/5-r,p=e+Math.cos(h)*c,f=i+Math.sin(h)*c;t.lineTo(p,f)}t.closePath()},triangle(t){Nm(t,[[.5,0],[1,.87],[0,.87]])}},sb=class extends ia{constructor(){super(...arguments),this.shape="square",this.x=0,this.y=0,this.size=12}updatePath(){var l,c;const{path:t,shape:e,x:i,y:n,size:s}=this,a=((c=(l=this.layerManager)==null?void 0:l.canvas)==null?void 0:c.pixelRatio)??1,o=kn.anchor(e),r={path:t,x:i-(o.x-.5)*s,y:n-(o.y-.5)*s,size:s,pixelRatio:a};t.clear(),typeof e=="string"?Iot[e](r):typeof e=="function"&&e(r)}computeBBox(){const{x:t,y:e,size:i}=this,n=kn.anchor(this.shape);return new Et(t-i*n.x,e-i*n.y,i,i)}executeFill(t,e){if(e)return super.executeFill(t,e)}executeStroke(t,e){if(e)return super.executeStroke(t,e)}};N([$t()],sb.prototype,"shape",2);N([$t()],sb.prototype,"x",2);N([$t()],sb.prototype,"y",2);N([$t({convertor:Math.abs})],sb.prototype,"size",2);var kn=class extends lg(sN(Ud(sb))){static anchor(e){return e==="pin"?{x:.5,y:1}:typeof e=="function"&&"anchor"in e?e.anchor:{x:.5,y:.5}}constructor(e){super(e),(e==null?void 0:e.shape)!=null&&(this.shape=e.shape)}};function pH(t,e,i=e*(5/3)){var l;const n=new Wt,s=Math.min(t.marker.strokeWidth,2),a=Math.min(((l=t.line)==null?void 0:l.strokeWidth)??0,2),o=Math.max(t.marker.enabled===!1?0:e,t.line==null?0:i),r=Math.max(t.marker.enabled===!1?0:e,a);if(t.line!=null){const{stroke:c,strokeOpacity:h,lineDash:p}=t.line,f=new Ya;f.x1=0,f.y1=r/2,f.x2=o,f.y2=r/2,f.stroke=c,f.strokeOpacity=h,f.strokeWidth=a,f.lineDash=p,n.append(f)}if(t.marker.enabled!==!1){const{shape:c,fill:h,fillOpacity:p,stroke:f,strokeOpacity:y,lineDash:m,lineDashOffset:b}=t.marker,v=new kn;v.shape=c??"square",v.size=e,v.fill=h,v.fillOpacity=p,v.stroke=f,v.strokeOpacity=y,v.strokeWidth=s,v.lineDash=m,v.lineDashOffset=b;const S=kn.anchor(c),D=o/2+(S.x-.5)*e,I=r/2+(S.y-.5)*e,T=e/(e+s);v.x=0,v.y=0,v.translationX=D,v.translationY=I,v.scalingX=T,v.scalingY=T,n.append(v)}return Wt.toSVG(n,o,r)}var f_=.1,g_=200,y_=12,Tot=.5,Cot=class extends kc{constructor(){super(...arguments),this.x1=NaN,this.y1=NaN,this.x=NaN,this.y=NaN,this.vx=0,this.vy=0,this.t0=NaN,this.animationFrameHandle=void 0}reset(){this.x=NaN,this.y=NaN,this.animationFrameHandle!=null&&(cancelAnimationFrame(this.animationFrameHandle),this.animationFrameHandle=void 0)}update(t,e){if(Number.isNaN(this.x)||Number.isNaN(this.y)){this.x=t,this.y=e,this.vx=0,this.vy=0,this.emitUpdate(),this.animationFrameHandle!=null&&(cancelAnimationFrame(this.animationFrameHandle),this.animationFrameHandle=void 0);return}this.x1=t,this.y1=e,this.t0=Date.now(),this.animationFrameHandle==null&&(this.animationFrameHandle=requestAnimationFrame(this.onFrame.bind(this)))}onFrame(){this.animationFrameHandle=void 0;const{x1:t,y1:e,t0:i}=this,n=Date.now(),s=n-i;this.t0=n;const a=.001,o=Math.ceil(s/(a*1e3))|0;let{x:r,y:l,vx:c,vy:h}=this;for(let p=0;p<o;p+=1){const f=r-t,y=l-e,m=-(g_*f+y_*c)/f_,b=-(g_*y+y_*h)/f_;c+=m*a,h+=b*a,r+=c*a,l+=h*a}Math.hypot(r-t,l-e)<Tot?(this.x=this.x1,this.y=this.y1,this.vx=0,this.vy=0):(this.x=r,this.y=l,this.vx=c,this.vy=h,this.animationFrameHandle=requestAnimationFrame(this.onFrame.bind(this))),this.emitUpdate()}emitUpdate(){this.dispatch("update",{type:"update",x:this.x,y:this.y})}},Ts="ag-charts-tooltip",fH="ag-charts-tooltip--dark";function gH(t){var i;const e=[];return t.type==="raw"?"":(t.heading!=null&&e.push(t.heading),t.title!=null&&e.push(t.title),(i=t.data)==null||i.forEach(n=>{e.push(n.label??n.fallbackLabel,n.value)}),e.join("; "))}function m_(t,e,i){let n="";t==null?n+=`<span class="${Ts}-label">${Vf(e)}</span>`:(n+=`<span class="${Ts}-label">${Vf(t)}</span>`,n+=" ",n+=`<span class="${Ts}-value">${Vf(e)}</span>`);const s=[`${Ts}-row`];return i&&s.push(`${Ts}-row--inline`),n=`<div class="${s.join(" ")}">${n}</div>`,n}function kot(t){var i,n,s,a;if(t.type==="raw")return t.rawHtmlString;let e="";if((t.heading==null||t.title==null)&&((i=t.data)==null?void 0:i.length)===1&&t.data[0].label==null&&t.data[0].value!=null){const o=t.data[0];e+=m_(t.heading??t.title,o.value,!1)}else{const o=t.title==null&&((n=t.data)==null?void 0:n.length)===1;t.heading!=null&&(e+=`<span class="${Ts}-heading">${Vf(t.heading)}</span>`,e+=" ");const r=t.symbol==null?void 0:pH(t.symbol,12);r!=null&&(t.title!=null||(s=t.data)!=null&&s.length)&&(e+=`<span class="${Ts}-symbol">${r}</span>`),t.title!=null&&(e+=`<span class="${Ts}-title">${Vf(t.title)}</span>`,e+=" "),(a=t.data)==null||a.forEach(l=>{e+=m_(l.label??l.fallbackLabel,l.value,o),e+=" "})}return e=`<div class="${Ts}-content">${e.trimEnd()}</div>`,e}var fg=class extends Zt{constructor(){super(...arguments),this.type="pointer",this.xOffset=0,this.yOffset=0}};N([w(Ye(["pointer","node","top","right","bottom","left","top-left","top-right","bottom-right","bottom-left",{value:"sparkline",undocumented:!0},{value:"sparkline-",undocumented:!0}],"a position type"))],fg.prototype,"type",2);N([w(de)],fg.prototype,"xOffset",2);N([w(de)],fg.prototype,"yOffset",2);var gl=class extends Zt{constructor(){super(),this.enabled=!0,this.delay=0,this.range=void 0,this.wrapping="hyphenate",this.position=new fg,this.darkTheme=!1,this.bounds="extended",this.destroyFns=[],this.springAnimation=new Cot,this.enableInteraction=!1,this.wrapTypes=["always","hyphenate","on-space","never"],this.showTimeout=0,this._showArrow=!0,this._compact=!1,this._visible=!1,this.positionParams=void 0,this.destroyFns.push(this.springAnimation.addListener("update",this.updateTooltipPosition.bind(this)))}get interactive(){return this.enableInteraction}setup(t){"togglePopover"in Qe().HTMLElement.prototype&&(this.element=t.addChild("canvas-overlay",Ts),this.element.setAttribute("popover","manual"),this.element.className=Ts)}destroy(t){t.removeChild("canvas-overlay",Ts),this.destroyFns.forEach(e=>e())}isVisible(){return this._visible}contains(t){var e;return((e=this.element)==null?void 0:e.contains(t))??!1}updateTooltipPosition(){var k,E,O;const{element:t,positionParams:e}=this;if(t==null||e==null)return;const{canvasRect:i,relativeRect:n,meta:s}=e,{x:a,y:o}=this.springAnimation,r=((k=s.position)==null?void 0:k.type)??this.position.type,l=((E=s.position)==null?void 0:E.xOffset)??0,c=((O=s.position)==null?void 0:O.yOffset)??0,h=n.x,p=n.y,f=n.width-t.clientWidth-1+h,y=n.height-t.clientHeight+p;let m=this.getTooltipBounds({positionType:r,canvasX:a,canvasY:o,yOffset:c,xOffset:l,canvasRect:i}),b=jk(t.clientWidth,t.clientHeight,n,m);r==="sparkline"&&(b.x<=h||b.x>=f)&&(m=this.getTooltipBounds({positionType:"sparkline-constrained",canvasX:a,canvasY:o,yOffset:c,xOffset:l,canvasRect:i}),b=jk(t.clientWidth,t.clientHeight,n,m));const v=qt(h,b.x,f),S=qt(p,b.y,y),D=v!==b.x||S!==b.y,I=(r==="node"||r==="pointer")&&!D&&!l&&!c,T=s.showArrow??this.showArrow??I;this.updateShowArrow(T),this.updateCompact(r==="sparkline"||r==="sparkline-constrained"),t.style.transform=`translate(${v}px, ${S}px)`}show(t,e,i,n,s=!1){const{element:a}=this;if(a!=null&&n!=null)a.innerHTML=kot(n);else if(a==null||a.innerHTML===""){this.toggle(!1);return}const o={x:t.x-e.x,y:t.y-e.y,width:t.width,height:t.height};this.positionParams={canvasRect:e,relativeRect:o,meta:i},this.springAnimation.update(i.canvasX,i.canvasY),a.style.top=`${e.top}px`,a.style.left=`${e.left}px`,i.enableInteraction?(this.enableInteraction=!0,a.style.pointerEvents="auto",a.removeAttribute("aria-hidden")):(this.enableInteraction=!1,a.style.pointerEvents="none",a.setAttribute("aria-hidden","true")),this.delay>0&&!s?(this.toggle(!1),this.showTimeout=setTimeout(()=>{this.toggle(!0)},this.delay)):this.toggle(!0)}hide(){this.springAnimation.reset(),this.toggle(!1)}toggle(t){var n;if(!((n=this.element)!=null&&n.isConnected))return;this._visible=t;const{classList:e}=this.element,i=(s,a)=>e.toggle(`${Ts}--${s}`,a);t||clearTimeout(this.showTimeout),i("no-interaction",!this.enableInteraction),i("arrow",this._showArrow),i("compact",this._compact),e.toggle(fH,this.darkTheme),this.element.togglePopover(t),t&&this.updateTooltipPosition();for(const s of this.wrapTypes)e.toggle(`${Ts}--wrap-${s}`,s===this.wrapping)}updateShowArrow(t){this._showArrow=t}updateCompact(t){this._compact=t}getTooltipBounds(t){if(!this.element)return{};const{positionType:e,canvasX:i,canvasY:n,yOffset:s,xOffset:a,canvasRect:o}=t,{clientWidth:r,clientHeight:l}=this.element,c={width:r,height:l};switch(e){case"node":case"pointer":return c.top=n+s-l-8,c.left=i+a-r/2,c;case"top":return c.top=s,c.left=o.width/2-r/2+a,c;case"right":return c.top=o.height/2-l/2+s,c.left=o.width-r/2+a,c;case"left":return c.top=o.height/2-l/2+s,c.left=a,c;case"bottom":return c.top=o.height-l+s,c.left=o.width/2-r/2+a,c;case"top-left":return c.top=s,c.left=a,c;case"top-right":return c.top=s,c.left=o.width-r+a,c;case"bottom-right":return c.top=o.height-l+s,c.left=o.width-r+a,c;case"bottom-left":return c.top=o.height-l+s,c.left=a,c;case"sparkline":return c.top=n+s-l/2,c.left=i+a+8,c;case"sparkline-constrained":return c.top=n+s-l/2,c.left=i+a-8-r,c}}};N([w(jt)],gl.prototype,"enabled",2);N([w(jt,{optional:!0})],gl.prototype,"showArrow",2);N([w(Tt)],gl.prototype,"delay",2);N([w(rA,{optional:!0})],gl.prototype,"range",2);N([w(oA)],gl.prototype,"wrapping",2);N([w(kt)],gl.prototype,"position",2);N([w(jt)],gl.prototype,"darkTheme",2);N([w(Ye(["extended","canvas"]))],gl.prototype,"bounds",2);var Lot=class extends oh{constructor(t){super(),this.chart=t,this.id=Vo(this),this.series=[],this.highlight={pendingHoverEvent:void 0,appliedHoverEvent:void 0,stashedHoverEvent:void 0},this.tooltip={lastHover:void 0},this.hoverDevice="pointer",this.previousInputDevice="keyboard",this.focus={sortedSeries:[],series:void 0,seriesIndex:0,datumIndex:0,datum:void 0},this.hoverScheduler=sst(()=>{if(!(!this.tooltip.lastHover&&!this.highlight.pendingHoverEvent)){if(this.chart.getUpdateType()<=4){this.hoverScheduler.schedule();return}this.highlight.pendingHoverEvent&&this.handleHoverHighlight(!1),this.tooltip.lastHover&&this.handleHoverTooltip(this.tooltip.lastHover,!1)}});const e=t.ctx.domManager.addChild("series-area","series-area-aria-label1"),i=t.ctx.domManager.addChild("series-area","series-area-aria-label2");this.swapChain=new xot(e,i,this.id,"img"),this.swapChain.addListener("blur",()=>this.onBlur()),this.swapChain.addListener("focus",()=>this.onFocus()),this.focusIndicator=new mot(this.swapChain),this.focusIndicator.overrideFocusVisible(t.mode==="integrated"?!1:void 0);const{seriesDragInterpreter:n,seriesWidget:s,containerWidget:a}=t.ctx.widgets;s.setTabIndex(-1),this.destroyFns.push(()=>t.ctx.domManager.removeChild("series-area","series-area-aria-label1"),()=>t.ctx.domManager.removeChild("series-area","series-area-aria-label2"),s.addListener("focus",()=>this.swapChain.focus()),s.addListener("mousemove",o=>this.onHover(o)),s.addListener("wheel",o=>this.onWheel(o)),s.addListener("mouseleave",o=>this.onLeave(o)),s.addListener("keydown",o=>this.onKeyDown(o)),s.addListener("contextmenu",(o,r)=>this.onContextMenu(o,r)),n.addListener("drag-move",o=>this.onDragMove(o)),n.addListener("click",o=>this.onClick(o,s)),n.addListener("dblclick",o=>this.onClick(o,s)),a.addListener("contextmenu",(o,r)=>this.onContextMenu(o,r)),a.addListener("click",(o,r)=>this.onClick(o,r)),a.addListener("dblclick",(o,r)=>this.onClick(o,r)),t.ctx.animationManager.addListener("animation-start",()=>this.clearAll()),t.ctx.domManager.addListener("resize",()=>this.clearAll()),t.ctx.highlightManager.addListener("highlight-change",o=>this.changeHighlightDatum(o)),t.ctx.layoutManager.addListener("layout:complete",o=>this.layoutComplete(o)),t.ctx.updateService.addListener("pre-scene-render",()=>this.preSceneRender()),t.ctx.updateService.addListener("update-complete",()=>this.updateComplete()),t.ctx.zoomManager.addListener("zoom-change",()=>this.clearAll()),t.ctx.zoomManager.addListener("zoom-pan-start",()=>this.clearAll()))}isState(t){return this.chart.ctx.interactionManager.isState(t)}isIgnoredTouch(t){return!(t.device!=="touch"||t.type==="click"||this.chart.ctx.chartService.touch.dragAction==="hover"||this.chart.ctx.chartService.touch.dragAction==="drag"&&this.isState(9))}dataChanged(){var t;(t=this.highlight).stashedHoverEvent??(t.stashedHoverEvent=this.highlight.appliedHoverEvent),this.chart.ctx.tooltipManager.removeTooltip(this.id),this.focusIndicator.clear(),this.clearHighlight()}preSceneRender(){this.highlight.stashedHoverEvent!=null&&(this.highlight.pendingHoverEvent=this.highlight.stashedHoverEvent,this.highlight.stashedHoverEvent=void 0,this.handleHoverHighlight(!0)),this.tooltip.lastHover!=null&&this.handleHoverTooltip(this.tooltip.lastHover,!0)}updateComplete(){this.focusIndicator.isFocusVisible()&&this.isState(34)&&this.handleSeriesFocus(0,0,!0)}update(t,e){this.chart.ctx.updateService.update(t,e)}seriesChanged(t){this.focus.sortedSeries=[...t].sort((e,i)=>{let n=e.properties.focusPriority??1/0,s=i.properties.focusPriority??1/0;return n===s&&([n,s]=[e._declarationOrder,i._declarationOrder]),n<s?-1:n>s?1:0}),this.series=t}layoutComplete(t){this.seriesRect=t.series.rect,this.hoverRect=t.series.paddedRect,this.chart.ctx.widgets.seriesWidget.setBounds(t.series.paddedRect),this.chart.ctx.widgets.chartWidget.setBounds(t.chart)}onContextMenu(t,e){const{sourceEvent:i}=t;if(i.currentTarget!=e.getElement())return;if(i.target==this.chart.ctx.widgets.containerWidget.getElement()){if(this.isState(36)){const{currentX:l,currentY:c}=t;this.chart.ctx.contextMenuRegistry.dispatchContext("all",{sourceEvent:i,canvasX:l,canvasY:c},{})}return}let n,s;if(this.focusIndicator.isFocusVisible())n=this.chart.ctx.highlightManager.getActiveHighlight(),n&&this.seriesRect&&n.midPoint&&(s=Di.toCanvasPoint(n.series.contentGroup,n.midPoint.x,n.midPoint.y));else if(this.isState(36)){const l=this.pickNode({x:t.currentX,y:t.currentY},"context-menu");l&&(this.chart.ctx.highlightManager.updateHighlight(this.id),n=l.datum)}const a=n==null?void 0:n.series;this.clearAll();const o=t.currentX+e.cssLeft(),r=t.currentY+e.cssTop();this.chart.ctx.contextMenuRegistry.dispatchContext("series-area",{sourceEvent:i,canvasX:o,canvasY:r},{pickedSeries:a,pickedNode:n},s)}onLeave(t){if(!this.isState(41))return;const e=t.sourceEvent.relatedTarget;(e==null?void 0:e.className)!=="ag-charts-text-input__textarea"&&(this.chart.ctx.tooltipManager.isEnteringInteractiveTooltip(t)||(this.chart.ctx.domManager.updateCursor(this.id),this.focusIndicator.isFocusVisible()||this.clearAll()))}onWheel(t){var e;this.isState(41)&&((e=this.focusIndicator)==null||e.overrideFocusVisible(!1),this.previousInputDevice="pointer")}onDragMove(t){var e;this.isState(41)&&((e=this.focusIndicator)==null||e.overrideFocusVisible(!1),this.onHoverLikeEvent(t))}onHover(t){this.isState(41)&&this.onHoverLikeEvent(t)}onHoverLikeEvent(t){if(!this.isIgnoredTouch(t)&&((t.device==="touch"||Not(t,"drag-move"))&&(this.tooltip.lastHover=t),t.device==="touch"&&this.chart.ctx.chartService.touch.dragAction==="hover"&&t.sourceEvent.preventDefault(),this.hoverDevice="pointer",this.previousInputDevice="pointer",this.highlight.pendingHoverEvent=t,this.hoverScheduler.schedule(),this.isState(32))){const{currentX:e,currentY:i}=t,n=this.pickNode({x:e,y:i},"event");n!=null&&n.series.hasEventListener("nodeClick")||n!=null&&n.series.hasEventListener("nodeDoubleClick")?this.chart.ctx.domManager.updateCursor(this.id,"pointer"):this.chart.ctx.domManager.updateCursor(this.id)}}onClick(t,e){if(t.device==="touch"&&e===this.chart.ctx.widgets.seriesWidget&&this.swapChain.focus({preventScroll:!0}),!this.isState(41))return;if(e===this.chart.ctx.widgets.seriesWidget){if(!e.getElement().contains(t.sourceEvent.target))return}else if(t.sourceEvent.target!=e.getElement())return;if(this.focusIndicator.overrideFocusVisible(!1),this.onHoverLikeEvent(t),!this.isState(32))return;if(e==this.chart.ctx.widgets.seriesWidget&&this.checkSeriesNodeClick(t)){this.update(4),t.sourceEvent.preventDefault();return}const i={type:t.type==="click"?"click":"doubleClick",event:t.sourceEvent};this.chart.fireEvent(i)}onFocus(){this.isState(34)&&(this.hoverDevice=this.focusIndicator.isFocusVisible()?"keyboard":"pointer",this.handleFocus(0,0))}onBlur(){this.isState(34)&&(this.hoverDevice="pointer",this.clearAll(),this.focusIndicator.overrideFocusVisible(void 0))}onKeyDown(t){if(!this.isState(43))return;const e=Sot(t.sourceEvent);switch((e==null?void 0:e.activatesFocusIndicator)===!1&&this.focusIndicator.overrideFocusVisible(this.previousInputDevice==="keyboard"),e==null?void 0:e.name){case"redo":return this.chart.ctx.chartEventManager.seriesEvent("series-redo");case"undo":return this.chart.ctx.chartEventManager.seriesEvent("series-undo");case"zoomin":return this.chart.ctx.chartEventManager.seriesKeyNavZoom(1,t);case"zoomout":return this.chart.ctx.chartEventManager.seriesKeyNavZoom(-1,t);case"arrowup":return this.onArrow(-1,0,t);case"arrowdown":return this.onArrow(1,0,t);case"arrowleft":return this.onArrow(0,-1,t);case"arrowright":return this.onArrow(0,1,t);case"submit":return this.onSubmit(t)}}onArrow(t,e,i){this.isState(34)&&(this.hoverDevice="keyboard",this.previousInputDevice="keyboard",this.focusIndicator.overrideFocusVisible(!0),this.focus.seriesIndex+=t,this.focus.datumIndex+=e,this.handleFocus(t,e),i.sourceEvent.preventDefault(),this.chart.ctx.chartEventManager.seriesEvent("series-focus-change"))}onSubmit(t){if(!this.isState(34))return;const{series:e,datum:i}=this.focus,n=t.sourceEvent;e!==void 0&&i!==void 0?e.fireNodeClickEvent(n,i):this.chart.fireEvent({type:"click",event:n}),n.preventDefault()}checkSeriesNodeClick(t){const e=this.pickNode({x:t.currentX,y:t.currentY},"event");return e==null?!1:t.type==="click"?(e.series.fireNodeClickEvent(t.sourceEvent,e.datum),!0):t.type==="dblclick"?(t.preventZoomDblClick=e.distance===0,e.series.fireNodeDoubleClickEvent(t.sourceEvent,e.datum),!0):!1}handleFocus(t,e){const i=this.chart.overlays.getFocusInfo(this.chart.ctx.localeManager);i==null?this.handleSeriesFocus(t,e):this.focusIndicator.update(i.rect,this.seriesRect,!1)}handleSeriesFocus(t,e,i=!1){if(this.chart.chartType==="hierarchy"||this.chart.chartType==="gauge"){this.handleSoloSeriesFocus(t,e,i);return}const{focus:n,seriesRect:s}=this,a=n.sortedSeries.filter(h=>h.visible&&h.focusable);if(a.length===0)return;const o={datumIndex:n.datumIndex-e,otherIndex:n.seriesIndex-t};n.seriesIndex=qt(0,n.seriesIndex,a.length-1),n.series=a[n.seriesIndex];const{datumIndex:r,seriesIndex:l}=n,c=n.series.pickFocus({datumIndex:r,datumIndexDelta:e,otherIndex:l,otherIndexDelta:t,seriesRect:s});this.updatePickedFocus(t,e,o,c,i)}handleSoloSeriesFocus(t,e,i){this.focus.series=this.focus.sortedSeries[0];const{focus:{series:n,seriesIndex:s,datumIndex:a},seriesRect:o}=this;if(n==null)return;const r={datumIndex:this.focus.datumIndex-e,otherIndex:this.focus.seriesIndex-t},l=n.pickFocus({datumIndex:a,datumIndexDelta:e,otherIndex:s,otherIndexDelta:t,seriesRect:o});this.updatePickedFocus(t,e,r,l,i)}updatePickedFocus(t,e,i,n,s){const{focus:a,hoverRect:o}=this;if(n===void 0||a.series===void 0||o===void 0)return;const{datum:r,datumIndex:l,otherIndex:c}=n;if(c!==void 0&&(a.seriesIndex=c),a.datumIndex=l,a.datum=r,this.focusIndicator.isFocusVisible()&&this.chart.ctx.animationManager.reset(),this.focusIndicator.isFocusVisible()){const p=Aot(n),{x:f,y}=p.computeCenter();if(!o.containsPoint(f,y)&&this.chart.ctx.zoomManager.panToBBox(this.id,o,p))return}this.focusIndicator.update(n.bounds,this.seriesRect,n.clipFocusBox);const h=Dot(a.series,o,n);if(h!==void 0&&this.hoverDevice==="keyboard"){this.tooltip.lastHover=void 0,this.highlight.appliedHoverEvent=void 0,this.highlight.pendingHoverEvent=void 0,this.highlight.stashedHoverEvent=void 0;const p=a.series.getTooltipContent(r),f=aM.makeTooltipMeta(h,a.series,r);this.chart.ctx.highlightManager.updateHighlight(this.id,r),this.chart.tooltip.enabled&&a.series.tooltipEnabled?this.chart.ctx.tooltipManager.updateTooltip(this.id,f,p):this.chart.ctx.tooltipManager.removeTooltip(this.id),s||(e===0&&t===0||i.datumIndex!==n.datumIndex||i.otherIndex!==(n.otherIndex??a.seriesIndex))&&this.swapChain.update(this.getDatumAriaText(r,p))}}getDatumAriaText(t,e){var n,s;const i=e==null?"":gH(e);return this.chart.ctx.localeManager.t("ariaAnnounceHoverDatum",{datum:((s=(n=t.series).getDatumAriaText)==null?void 0:s.call(n,t,i))??i})}clearHighlight(){this.highlight.pendingHoverEvent=void 0,this.highlight.appliedHoverEvent=void 0,this.chart.ctx.highlightManager.updateHighlight(this.id)}clearTooltip(){this.chart.ctx.tooltipManager.removeTooltip(this.id),this.tooltip.lastHover=void 0}clearAll(){this.clearHighlight(),this.clearTooltip(),this.focusIndicator.clear()}handleHoverHighlight(t){var c,h,p;this.highlight.appliedHoverEvent=this.highlight.pendingHoverEvent,this.highlight.pendingHoverEvent=void 0;const e=this.highlight.appliedHoverEvent;if(!e||!this.isState(41))return;const{currentX:i,currentY:n}=e,s=e.currentX+(((c=this.hoverRect)==null?void 0:c.x)??0),a=e.currentY+(((h=this.hoverRect)==null?void 0:h.y)??0);if(t?this.chart.ctx.animationManager.isActive():!((p=this.hoverRect)!=null&&p.containsPoint(s,a))){this.clearHighlight();return}const{range:o}=this.chart.highlight,r=o==="tooltip"?"highlight-tooltip":"highlight",l=this.pickNode({x:i,y:n},r);if(l){this.chart.ctx.highlightManager.updateHighlight(this.id,l.datum),this.hoverDevice="pointer";return}this.chart.ctx.highlightManager.updateHighlight(this.id)}handleHoverTooltip(t,e){var p,f,y;if(!this.isState(41))return;const{currentX:i,currentY:n}=t,s=i+(((p=this.hoverRect)==null?void 0:p.x)??0),a=n+(((f=this.hoverRect)==null?void 0:f.y)??0),o=t.sourceEvent.target;if(e?this.chart.ctx.animationManager.isActive():!((y=this.hoverRect)!=null&&y.containsPoint(s,a))){this.hoverDevice=="pointer"&&this.clearTooltip();return}if(o&&this.chart.tooltip.interactive&&this.chart.ctx.domManager.isManagedChildDOMElement(o,"canvas-overlay",Ts))return;const r=this.pickNode({x:t.currentX,y:t.currentY},"tooltip");if(!r){this.hoverDevice=="pointer"&&this.clearTooltip();return}this.hoverDevice="pointer";const l=r.series.getTooltipContent(r.datum);if(this.chart.tooltip.enabled&&r.series.tooltipEnabled&&l!=null){const m=aM.makeTooltipMeta({type:"pointermove",canvasX:s,canvasY:a},r.series,r.datum);this.chart.ctx.tooltipManager.updateTooltip(this.id,m,l)}else this.chart.ctx.tooltipManager.removeTooltip(this.id)}changeHighlightDatum(t){const e=new Set,{series:i=void 0,datum:n}=t.currentHighlight??{},{series:s=void 0,datum:a}=t.previousHighlight??{};s&&e.add(s),i&&e.add(i),s!=null&&s.properties.cursor&&a&&this.chart.ctx.domManager.updateCursor(s.id),i!=null&&i.properties.cursor&&(i==null?void 0:i.properties.cursor)!=="default"&&n&&this.chart.ctx.domManager.updateCursor(i.id,i.properties.cursor),i==null||s==null?this.update(4):this.update(4,{seriesToUpdate:e})}pickNode(t,e,i){const n=[...this.series].reverse();let s;for(const a of n){if(!a.visible||!a.contentGroup.visible)continue;const{match:o,distance:r}=a.pickNode(t,e,i)??{};if(!(!o||r==null)&&((!s||s.distance>r)&&(s={series:a,distance:r,datum:o}),r===0))break}return s}};function Not(t,e){return t.type!==e}var x_=30,Eot=class{constructor(t){this.seriesRoot=t,this.groups=new Map,this.series=new Map,this.expectedSeriesCount=1,this.mode="normal"}setSeriesCount(t){this.expectedSeriesCount=t}requestGroup(t){const{internalId:e,type:i,contentGroup:n,seriesGrouping:s}=t,{groupIndex:a=e}=s??{},o=this.series.get(e);if(o!=null)throw new Error(`AG Charts - series already has an allocated layer: ${JSON.stringify(o)}`);this.series.size===0&&(this.mode=this.expectedSeriesCount>=x_?"aggressive-grouping":"normal");let r=this.groups.get(i);r==null&&(r=new Map,this.groups.set(i,r));const l=this.lookupIdx(a);let c=r.get(l);return c==null&&(c={type:i,id:l,seriesIds:[],group:this.seriesRoot.appendChild(new Wt({name:`${t.contentGroup.name??i}-managed-layer`,zIndex:t.contentGroup.zIndex,renderToOffscreenCanvas:!1}))},r.set(l,c)),this.series.set(e,{layerState:c,seriesConfig:t}),c.seriesIds.push(e),c.group.appendChild(n),c.group}changeGroup(t){var r,l;const{internalId:e,seriesGrouping:i,type:n,contentGroup:s,oldGrouping:a}=t,{groupIndex:o=e}=i??{};(l=(r=this.groups.get(n))==null?void 0:r.get(o))!=null&&l.seriesIds.includes(e)||(this.series.has(e)&&this.releaseGroup({internalId:e,seriesGrouping:a,type:n,contentGroup:s}),this.requestGroup(t))}releaseGroup(t){var a,o,r;const{internalId:e,contentGroup:i,type:n}=t;if(!this.series.has(e))throw new Error(`AG Charts - series doesn't have an allocated layer: ${e}`);const s=(a=this.series.get(e))==null?void 0:a.layerState;s&&(s.seriesIds=s.seriesIds.filter(l=>l!==e),s.group.removeChild(i)),(s==null?void 0:s.seriesIds.length)===0?(this.seriesRoot.removeChild(s.group),(o=this.groups.get(s.type))==null||o.delete(s.id),(r=this.groups.get(n))==null||r.delete(e)):s!=null&&s.seriesIds.length>0&&(s.group.zIndex=this.getLowestSeriesZIndex(s.seriesIds)),this.series.delete(e)}updateLayerCompositing(){this.groups.forEach(t=>{t.forEach(e=>{const{group:i,seriesIds:n}=e;let s;if(n.length===0)s=!1;else if(n.length>1)s=!0;else{const a=this.series.get(n[0]);s=(a==null?void 0:a.seriesConfig.renderToOffscreenCanvas())===!0}i.renderToOffscreenCanvas=s,i.zIndex=this.getLowestSeriesZIndex(n)})})}lookupIdx(t){return this.mode==="normal"?t:typeof t=="string"&&(t=Number(t.split("-").at(-1)),!t)?0:Math.floor(qt(0,t/this.expectedSeriesCount,1)*x_)}destroy(){this.groups.forEach(t=>{t.forEach(e=>{this.seriesRoot.removeChild(e.group)})}),this.groups.clear(),this.series.clear()}getLowestSeriesZIndex(t){return t.reduce((i,n)=>{const s=this.series.get(n),a=s==null?void 0:s.seriesConfig.contentGroup.zIndex;return i==null||a==null?a:_V(i,a)<=0?i:a},void 0)??1}},yH=class extends Zt{constructor(){super(...arguments),this.dragAction="drag"}};N([w(Ye(["none","drag","hover"]))],yH.prototype,"dragAction",2);var Oot=class{constructor(t,e,i,n,s){this.chart=t,this.dataService=e,this.updateService=i,this.zoomManager=n,this.animationManager=s,this.dirtyZoom=!1,this.dirtyDataSource=!1,this.lastAxisZooms=new Map,this.destroyFns=[],this.destroyFns.push(this.dataService.addListener("data-source-change",()=>this.onDataSourceChange()),this.dataService.addListener("data-load",()=>this.onDataLoad()),this.dataService.addListener("data-error",()=>this.onDataError()),this.updateService.addListener("update-complete",()=>this.onUpdateComplete()),this.zoomManager.addListener("zoom-change",()=>this.onZoomChange()))}destroy(){this.destroyFns.forEach(t=>t())}onDataLoad(){this.animationManager.skip(),this.updateService.update(1)}onDataError(){this.updateService.update(3)}onDataSourceChange(){this.dirtyDataSource=!0}onUpdateComplete(){!this.dirtyZoom&&!this.dirtyDataSource||this.updateWindow()}onZoomChange(){this.dirtyZoom=!0}updateWindow(){if(!this.dataService.isLazy())return;const t=this.getValidAxis();let e,i=!0;if(t){const n=this.zoomManager.getAxisZoom(t.id);e=this.getAxisWindow(t,n),i=this.shouldRefresh(t,n)}this.dirtyZoom=!1,this.dirtyDataSource=!1,i&&this.dataService.load({windowStart:e==null?void 0:e.min,windowEnd:e==null?void 0:e.max})}getValidAxis(){return this.chart.axes.find(t=>t.type==="time")}shouldRefresh(t,e){if(this.dirtyDataSource)return!0;if(!this.dirtyZoom)return!1;const i=this.lastAxisZooms.get(t.id);return i&&e.min===i.min&&e.max===i.max?!1:(this.lastAxisZooms.set(t.id,e),!0)}getAxisWindow(t,e){const{domain:i}=t.scale;if(!e||i.length===0||isNaN(Number(i[0])))return;const n=Number(i[1])-Number(i[0]),s=new Date(Number(i[0])+n*e.min),a=new Date(Number(i[0])+n*e.max);return{min:s,max:a}}},wot=/^((?!chrome|android).)*safari/i,Rot=/Version\/(\d+(\.\d+)?)/,Pot=/Chrome/,Bot=/Chrome\/(\d+)/,zot=/Edg/,_ot=/OPR/;function jot(){var e,i;const{userAgent:t}=Qe("navigator");if(wot.test(t)){const n=parseFloat(((e=Rot.exec(t))==null?void 0:e[1])??"0"),s=Math.floor(n)>16;return s||It.warnOnce(`Unsupported Safari version: ${n}; ${t}`),!s}else if(Pot.test(t)&&!zot.test(t)&&!_ot.test(t)){const n=parseInt(((i=Bot.exec(t))==null?void 0:i[1])??"0",10),s=n>126;return s||It.warnOnce(`Unsupported Chrome version: ${n}; ${t}`),!s}return!1}var Fot=new Set(["map-shape-background","map-line-background"]),Got=class{constructor(t,e,i,n,s,a,o){this.chartLike=t,this.overlays=e,this.dataService=i,this.layoutManager=n,this.localeManager=s,this.animationManager=a,this.domManager=o,this.destroyFns=[],this.overlayElem=this.domManager.addChild("canvas-overlay","overlay"),this.overlayElem.role="status",this.overlayElem.ariaAtomic="false",this.overlayElem.ariaLive="polite",this.overlayElem.classList.toggle(zk),this.destroyFns.push(this.layoutManager.addListener("layout:complete",r=>this.onLayoutComplete(r)))}destroy(){this.destroyFns.forEach(t=>t()),this.domManager.removeStyles("overlays"),this.domManager.removeChild("canvas-overlay","overlay")}onLayoutComplete({series:{rect:t}}){const e=this.dataService.isLoading(),i=this.chartLike.series.some(c=>c.hasData),n=this.chartLike.series.some(c=>c.visible&&!Fot.has(c.type));this.overlays.darkTheme?this.overlayElem.classList.add(d_):this.overlayElem.classList.remove(d_),this.overlayElem.style.left=`${t.x}px`,this.overlayElem.style.top=`${t.y}px`,this.overlayElem.style.width=`${t.width}px`,this.overlayElem.style.height=`${t.height}px`;const s=e,a=!e&&!i,o=i&&!n,r=this.overlays.unsupportedBrowser.enabled&&jot();s?this.showOverlay(this.overlays.loading,t):this.hideOverlay(this.overlays.loading),a?this.showOverlay(this.overlays.noData,t):this.hideOverlay(this.overlays.noData),o?this.showOverlay(this.overlays.noVisibleSeries,t):this.hideOverlay(this.overlays.noVisibleSeries),r?this.showOverlay(this.overlays.unsupportedBrowser,t):this.hideOverlay(this.overlays.unsupportedBrowser);const l=s||a||o||r;_e(this.overlayElem,"aria-hidden",!l)}showOverlay(t,e){if(!t.enabled)return;const i=t.getElement(this.animationManager,this.localeManager,e);this.overlayElem.appendChild(i)}hideOverlay(t){t.removeElement(()=>{this.overlayElem.innerText=""},this.animationManager)}},ir=We.create(!0,"opts"),jN=class extends Zt{constructor(){super(...arguments),this.padding=new ah(0)}};N([w(jt,{optional:!0})],jN.prototype,"clip",2);N([w(kt)],jN.prototype,"padding",2);var $i=class mH extends AU{constructor(e,i){var n;super(),this.id=Vo(this),this.seriesRoot=new Js({name:`${this.id}-series-root`,zIndex:5}),this.annotationRoot=new Js({name:`${this.id}-annotation-root`,zIndex:9}),this.titleGroup=new Wt({name:"titles",zIndex:13}),this.debug=We.create(),this.extraDebugStats={},this.data=[],this._firstAutoSize=!0,this._autoSizeNotify=new G4,this.padding=new ah(20),this.seriesArea=new jN,this.keyboard=new BN,this.touch=new yH,this.mode="standalone",this.chartCaptions=new yA,this.suppressFieldDotNotation=!1,this.destroyed=!1,this._destroyFns=[],this.skipSync=!1,this.chartAnimationPhase="initial",this.modulesManager=new cot,this.processors=[],this.queuedUserOptions=[],this.queuedChartOptions=[],this.firstApply=!0,this._pendingFactoryUpdatesCount=0,this._performUpdateSkipAnimations=!1,this._performUpdateNotify=new G4,this.performUpdateType=7,this.runningUpdateType=7,this.updateShortcutCount=0,this.seriesToUpdate=new Set,this.updateMutex=new nst,this.updateRequestors={},this.performUpdateTrigger=ast(({count:h})=>{this.destroyed||this.updateMutex.acquire(async()=>{try{await this.performUpdate(h)}catch(p){It.error("update error",p)}}).catch(p=>It.errorOnce(p))}),this._performUpdateSplits={},this.axes=[],this.series=[],this._cachedData=void 0,this.onSeriesNodeClick=h=>{this.fireEvent({...h,type:"seriesNodeClick"})},this.onSeriesNodeDoubleClick=h=>{this.fireEvent({...h,type:"seriesNodeDoubleClick"})},this.onSeriesVisibilityChange=h=>{this.fireEvent(h)},this.seriesGroupingChanged=h=>{if(!(h instanceof _N))return;const{series:p,seriesGrouping:f,oldGrouping:y}=h;p.contentGroup.isRoot()||this.seriesLayerManager.changeGroup({internalId:p.internalId,type:p.type,contentGroup:p.contentGroup,renderToOffscreenCanvas:()=>p.renderToOffscreenCanvas(),seriesGrouping:f,oldGrouping:y})},this.chartOptions=e;const s=i==null?void 0:i.scene,a=(i==null?void 0:i.container)??e.processedOptions.container??void 0,o=(i==null?void 0:i.styleContainer)??e.specialOverrides.styleContainer,r=new Wt({name:"root"});r.visible=!1,r.append(this.seriesRoot),r.append(this.annotationRoot),r.append(this.titleGroup),this.titleGroup.append(this.title.node),this.titleGroup.append(this.subtitle.node),this.titleGroup.append(this.footnote.node),this.tooltip=new gl,this.seriesLayerManager=new Eot(this.seriesRoot),this.mode=e.userOptions.mode??this.mode;const l=this.ctx=new Tat(this,{chartType:this.getChartType(),scene:s,root:r,container:a,styleContainer:o,syncManager:new Qat(this),fireEvent:h=>this.fireEvent(h),updateCallback:(h,p)=>this.update(h,p),updateMutex:this.updateMutex});this._destroyFns.push(l.domManager.addListener("resize",()=>this.parentResize(l.domManager.containerSize))),this.overlays=new pg,(n=this.overlays.loading).renderer??(n.renderer=()=>uot(this.overlays.loading.getText(l.localeManager),l.animationManager.defaultDuration)),this.processors=[new Oot(this,l.dataService,l.updateService,l.zoomManager,l.animationManager),new Got(this,this.overlays,l.dataService,l.layoutManager,l.localeManager,l.animationManager,l.domManager)],this.highlight=new XU,this.container=a;const c=this.getModuleContext();l.domManager.setDataBoolean("animating",!1),this.seriesAreaManager=new Lot(this.initSeriesAreaDependencies()),this._destroyFns.push(l.layoutManager.registerElement(0,h=>{h.layoutBox.shrink(this.padding.toJson()),this.chartCaptions.positionCaptions(h)}),l.layoutManager.addListener("layout:complete",h=>this.chartCaptions.positionAbsoluteCaptions(h)),l.dataService.addListener("data-load",h=>{this.data=h.data}),this.title.registerInteraction(c,"beforebegin"),this.subtitle.registerInteraction(c,"beforebegin"),this.footnote.registerInteraction(c,"afterend"),fl.addWindowEvent("page-left",()=>this.destroy()),l.animationManager.addListener("animation-frame",()=>{this.update(6)}),l.animationManager.addListener("animation-start",()=>l.domManager.setDataBoolean("animating",!0)),l.animationManager.addListener("animation-stop",()=>l.domManager.setDataBoolean("animating",!1)),l.zoomManager.addListener("zoom-change",()=>{this.series.forEach(p=>{var f;return(f=p.animationState)==null?void 0:f.transition("updateData")});const h=this.chartAnimationPhase!=="initial";this.update(3,{forceNodeDataRefresh:!0,skipAnimations:h})})),this.parentResize(l.domManager.containerSize)}static getInstance(e){return mH.chartsInstances.get(e)}get canvasElement(){return this.ctx.scene.canvas.element}download(e,i){this.ctx.scene.download(e,i)}getCanvasDataURL(e){return this.ctx.scene.getDataURL(e)}toSVG(){return this.ctx.scene.toSVG()}getOptions(){return this.queuedUserOptions.at(-1)??this.chartOptions.userOptions}getChartOptions(){return this.queuedChartOptions.at(-1)??this.chartOptions}overrideFocusVisible(e){this.seriesAreaManager.focusIndicator.overrideFocusVisible(e)}initSeriesAreaDependencies(){const{ctx:e,tooltip:i,highlight:n,overlays:s,seriesRoot:a,mode:o}=this,r=this.getChartType();return{fireEvent:this.fireEvent.bind(this),getUpdateType:()=>this.performUpdateType,chartType:r,ctx:e,tooltip:i,highlight:n,overlays:s,seriesRoot:a,mode:o}}getModuleContext(){return this.ctx}getCaptionText(){return[this.title,this.subtitle,this.footnote].filter(e=>e.enabled&&e.text).map(e=>e.text).join(". ")}getAriaLabel(){return this.ctx.localeManager.t("ariaAnnounceChart",{seriesCount:this.series.length})}resetAnimations(){this.chartAnimationPhase="initial";for(const e of this.series)e.resetAnimation(this.chartAnimationPhase);for(const e of this.axes)e.resetAnimation(this.chartAnimationPhase);this.animationRect=void 0,this.ctx.animationManager.reset()}skipAnimations(){this.ctx.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0}detachAndClear(){this.container=void 0,this.ctx.scene.clear()}destroy(e){if(this.destroyed)return;const i=e==null?void 0:e.keepTransferableResources;let n;return this.performUpdateType=7,this._destroyFns.forEach(s=>s()),this.processors.forEach(s=>s.destroy()),this.tooltip.destroy(this.ctx.domManager),this.overlays.destroy(),this.modulesManager.destroy(),i?(this.ctx.scene.strip(),n={container:this.container,scene:this.ctx.scene}):(this.ctx.scene.destroy(),this.container=void 0),this.destroySeries(this.series),this.seriesLayerManager.destroy(),this.axes.forEach(s=>s.destroy()),this.axes=[],this.animationRect=void 0,this.ctx.destroy(),this.destroyed=!0,Object.freeze(this),n}requestFactoryUpdate(e){this.destroyed||(this._pendingFactoryUpdatesCount++,this.updateMutex.acquire(async()=>{if(!this.destroyed)try{await e(this)}finally{this.destroyed||this._pendingFactoryUpdatesCount--}}).catch(i=>It.errorOnce(i)))}update(e=0,i){if(this.destroyed)return;const{forceNodeDataRefresh:n=!1,skipAnimations:s,seriesToUpdate:a=this.series,newAnimationBatch:o}=i??{};this.ctx.widgets.seriesWidget.setDragTouchEnabled(this.touch.dragAction!=="none"),n&&this.series.forEach(r=>r.markNodeDataDirty());for(const r of a)this.seriesToUpdate.add(r);if(s&&(this.ctx.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0),o&&this.ctx.animationManager.isActive()&&(this._performUpdateSkipAnimations=!0),this.skipSync=(i==null?void 0:i.skipSync)??!1,this.debug.check()){let r=new Error().stack??"<unknown>";r=r.replace(/\([^)]*/g,""),this.updateRequestors[r]=e}e<this.performUpdateType&&(this.performUpdateType=e,this.ctx.domManager.setDataBoolean("updatePending",!0),this.performUpdateTrigger.schedule(i==null?void 0:i.backOffMs))}async performUpdate(e){const{performUpdateType:i,extraDebugStats:n,_performUpdateSplits:s,ctx:a}=this,o=[...this.seriesToUpdate];this.performUpdateType=7,this.seriesToUpdate.clear(),this.runningUpdateType=i,this.updateShortcutCount===0&&i<6&&(a.animationManager.startBatch(this._performUpdateSkipAnimations),a.animationManager.onBatchStop(()=>this.chartAnimationPhase="ready")),this.debug("Chart.performUpdate() - start",Hm[i]);let r=performance.now();s.start??(s.start=r);const l=h=>{s[h]??(s[h]=0),s[h]+=performance.now()-r,r=performance.now()};switch(i){case 0:if(this.checkUpdateShortcut(0))break;this.ctx.updateService.dispatchPreDomUpdate(),this.updateDOM();case 1:if(this.checkUpdateShortcut(1))break;await this.updateData(),l("");case 2:if(this.checkUpdateShortcut(2))break;await this.processData(),this.seriesAreaManager.dataChanged(),l("");case 3:if(await this.checkFirstAutoSize(),this.checkUpdateShortcut(3))break;await this.processLayout(),l("");case 4:{if(this.checkUpdateShortcut(4))break;await this.updateSeries(o),l(""),this.updateAriaLabels(),this.seriesLayerManager.updateLayerCompositing()}case 5:if(this.checkUpdateShortcut(5))break;a.updateService.dispatchPreSceneRender(),l("");case 6:if(this.checkUpdateShortcut(6))break;a.animationManager.endBatch(),n.updateShortcutCount=this.updateShortcutCount,a.scene.render({debugSplitTimes:s,extraDebugStats:n,seriesRect:this.seriesRect}),this.extraDebugStats={};for(const h of Object.keys(s))delete s[h];this.ctx.domManager.incrementDataCounter("sceneRenders");case 7:this.updateShortcutCount=0,this.updateRequestors={},this._performUpdateSkipAnimations=!1,a.animationManager.endBatch()}this.destroyed||(a.updateService.dispatchUpdateComplete(),this.ctx.domManager.setDataBoolean("updatePending",!1),this.runningUpdateType=7),this._performUpdateNotify.notify();const c=performance.now();this.debug("Chart.performUpdate() - end",{chart:this,durationMs:Math.round((c-s.start)*100)/100,count:e,performUpdateType:Hm[i]})}updateThemeClassName(){const e="ag-charts-theme-",i=[`${e}default`,`${e}default-dark`];let n=i[0],s=!1,{theme:a}=this.chartOptions.processedOptions;for(;typeof a!="string"&&a!=null;)a=a.baseTheme;typeof a=="string"&&(n=a.replace("ag-",e),s=a.includes("-dark")),i.includes(n)||(n=s?i[1]:i[0]),this.ctx.domManager.setThemeClass(n)}updateDOM(){this.updateThemeClassName();const{enabled:e,tabIndex:i}=this.keyboard;this.ctx.domManager.setTabGuardIndex(e?i??0:-1),this.ctx.domManager.setThemeParameters(this.chartOptions.themeParameters)}updateAriaLabels(){this.ctx.domManager.updateCanvasLabel(this.getAriaLabel())}checkUpdateShortcut(e){return this.destroyed?!0:this.updateShortcutCount>3?(It.warn("exceeded the maximum number of simultaneous updates (4), discarding changes and rendering",this.updateRequestors),!1):this.performUpdateType<=e?(this.updateShortcutCount++,!0):!1}async checkFirstAutoSize(){this.width!=null&&this.height!=null||this._lastAutoSize||await this._autoSizeNotify.await(500)||this.debug("Chart.checkFirstAutoSize() - timeout for first size update.")}onAxisChange(e,i){i==null&&e.length===0||this.ctx.axisManager.updateAxes(i??[],e)}onSeriesChange(e,i){var s,a;const n=(i==null?void 0:i.filter(o=>!e.includes(o)))??[];this.destroySeries(n),(s=this.seriesLayerManager)==null||s.setSeriesCount(e.length);for(const o of e){if(i!=null&&i.includes(o))continue;const r=this.seriesLayerManager.requestGroup(o);o.attachSeries(r,this.seriesRoot,this.annotationRoot);const l=this;o.chart={get mode(){return l.mode},get isMiniChart(){return!1},get seriesRect(){return l.seriesRect}},o.resetAnimation(this.chartAnimationPhase),this.addSeriesListeners(o),o.addChartEventListeners()}(a=this.seriesAreaManager)==null||a.seriesChanged(e)}destroySeries(e){e==null||e.forEach(i=>{i.removeEventListener("nodeClick",this.onSeriesNodeClick),i.removeEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),i.removeEventListener("groupingChanged",this.seriesGroupingChanged),i.destroy(),this.seriesLayerManager.releaseGroup(i),i.detachSeries(void 0,this.seriesRoot,this.annotationRoot),i.chart=void 0})}addSeriesListeners(e){this.hasEventListener("seriesNodeClick")&&e.addEventListener("nodeClick",this.onSeriesNodeClick),this.hasEventListener("seriesNodeDoubleClick")&&e.addEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),this.hasEventListener("seriesVisibilityChange")&&e.addEventListener("seriesVisibilityChange",this.onSeriesVisibilityChange),e.addEventListener("groupingChanged",this.seriesGroupingChanged)}assignSeriesToAxes(){for(const e of this.axes)e.boundSeries=this.series.filter(i=>i.axes[e.direction]===e)}assignAxesToSeries(){const e=VL(this.axes,i=>i.direction);for(const i of this.series)for(const n of i.directions){const s=e[n];if(!s){It.warnOnce(`no available axis for direction [${n}]; check series and axes configuration.`);return}const a=i.getKeys(n),o=s.find(r=>!r.keys.length||a.some(l=>r.keys.includes(l)));if(!o){It.warnOnce(`no matching axis for direction [${n}] and keys [${a}]; check series and axes configuration.`);return}i.axes[n]=o}}parentResize(e){if(e==null||this.width!=null&&this.height!=null)return;let{width:i,height:n}=e;const{pixelRatio:s}=e;if(i=Math.floor(i),n=Math.floor(n),i===0&&n===0)return;const[a=0,o=0,r=1]=this._lastAutoSize??[];a===i&&o===n&&r===s||(this._lastAutoSize=[i,n,s],this.resize("SizeMonitor",{}))}resize(e,i){var y,m,b;const{scene:n,animationManager:s}=this.ctx,{inWidth:a,inHeight:o,inMinWidth:r,inMinHeight:l,inOverrideDevicePixelRatio:c}=i;this.ctx.domManager.setSizeOptions(r??this.minWidth,l??this.minHeight,a??this.width,o??this.height);const h=a??this.width??((y=this._lastAutoSize)==null?void 0:y[0]),p=o??this.height??((m=this._lastAutoSize)==null?void 0:m[1]),f=c??this.overrideDevicePixelRatio??((b=this._lastAutoSize)==null?void 0:b[2]);if(this.debug(`Chart.resize() from ${e}`,{width:h,height:p,pixelRatio:f,stack:new Error().stack}),!(h==null||p==null||!ye(h)||!ye(p))&&n.resize(h,p,f)){s.reset();let v=!0;(this.width==null||this.height==null)&&this._firstAutoSize&&(v=!1,this._firstAutoSize=!1),this.update(3,{forceNodeDataRefresh:!0,skipAnimations:v}),this._autoSizeNotify.notify()}}async updateData(){this.series.forEach(i=>i.setChartData(this.data));const e=this.modulesManager.mapModules(i=>{var n;return(n=i.updateData)==null?void 0:n.call(i,this.data)});await Promise.all(e)}async processData(){this.series.some(s=>s.canHaveAxes)&&(this.assignAxesToSeries(),this.assignSeriesToAxes());const e=new eH(this.mode,this.suppressFieldDotNotation),i=this.series.map(s=>(s.resetDatumCallbackCache(),s.processData(e))),n=this.modulesManager.mapModules(s=>{var a;return(a=s.processData)==null?void 0:a.call(s,e)});this._cachedData=e.execute(this._cachedData),await Promise.all([...i,...n]);for(const s of this.axes)s.processData();this.updateLegends()}updateLegends(e){for(const{legend:i,legendType:n}of this.modulesManager.legends())n==="category"?this.setCategoryLegendData(e):this.setLegendData(n,i)}setCategoryLegendData(e){var i;const{ctx:{legendManager:n,stateManager:s}}=this;e&&this.series.forEach(o=>{const r=e.find(l=>l.seriesId===o.id);o.onLegendInitialState("category",r)});const a=this.series.flatMap(o=>{const r=o.getLegendData("category");return n.updateData(o.id,r),r});if(e){s.setStateAndRestore(n,e);return}if(this.mode!=="integrated"){const o={},r=new Map(this.series.map(l=>[l.id,l.type]));for(const{seriesId:l,symbol:{marker:c},label:h}of a.filter(p=>!p.hideInLegend)){if(c.fill==null)continue;const p=r.get(l),f=o[p]??(o[p]={});f[i=h.text]??(f[i]=c.fill),f[h.text]!==c.fill&&It.warnOnce(`legend item '${h.text}' has multiple fill colors, this may cause unexpected behaviour.`)}}n.update()}setLegendData(e,i){i.data=this.series.filter(n=>n.properties.showInLegend).flatMap(n=>n.getLegendData(e))}async processLayout(){var a;const e=this.animationRect,{width:i,height:n}=this.ctx.scene,s=this.ctx.layoutManager.createContext(i,n);await this.performLayout(s),e&&!((a=this.animationRect)!=null&&a.equals(e))&&this.ctx.animationManager.skipCurrentBatch(),this.debug("Chart.performUpdate() - seriesRect",this.seriesRect)}async updateSeries(e){const{seriesRect:i}=this;await Promise.all(e.map(n=>n.update({seriesRect:i}))),this.ctx.seriesLabelLayoutManager.updateLabels(this.series.filter(n=>n.visible&&n.usesPlacedLabels),this.padding,this.seriesRect)}async waitForUpdate(e=1e4,i=!1){const n=performance.now();for(;(this._pendingFactoryUpdatesCount>0||this.performUpdateType!==7||this.runningUpdateType!==7)&&!this.destroyed;){if(this._pendingFactoryUpdatesCount>0&&await this.updateMutex.waitForClearAcquireQueue(),(this.performUpdateType!==7||this.runningUpdateType!==7)&&await this._performUpdateNotify.await(),performance.now()-n>e){const s=`Chart.waitForUpdate() timeout of ${e} reached - first chart update taking too long.`;if(i)throw new Error(s);It.warnOnce(s)}mU()&&await qnt()}}filterMiniChartSeries(e){return e==null?void 0:e.filter(i=>i.showInMiniChart!==!1)}applyOptions(e){var b,v,S,D,I;const i=this.firstApply?e.processedOptions:e.diffOptions(this.chartOptions);if(i==null||Object.keys(i).length===0)return;const n=this.firstApply?{}:this.chartOptions.processedOptions,s=e.processedOptions;ir("Chart.applyOptions() - applying delta",i);const a=this.applyModules(s),o=["type","data","series","listeners","preset","theme","legend.listeners","navigator.miniChart.series","navigator.miniChart.label","locale.localeText","axes","topology","nodes","initialState","styleContainer"];i.listeners&&this.registerListeners(this,i.listeners),Um(this,i,{skip:o});let r=!1,l="no-op";i.series!=null&&(l=this.applySeries(this,i.series,n==null?void 0:n.series),r=!0),l==="replaced"&&this.resetAnimations(),this.applyAxes(this,s,n,l,[])&&(r=!0),i.data&&(this.data=i.data),(b=i.legend)!=null&&b.listeners&&this.modulesManager.isEnabled("legend")&&Object.assign(this.legend.listeners,i.legend.listeners),(v=i.locale)!=null&&v.localeText&&(this.modulesManager.getModule("locale").localeText=(S=i.locale)==null?void 0:S.localeText),this.chartOptions=e;const c=this.modulesManager.getModule("navigator"),h=this.modulesManager.getModule("zoom");!(c!=null&&c.enabled)&&!(h!=null&&h.enabled)&&this.ctx.zoomManager.updateZoom("chart");const p=c==null?void 0:c.miniChart,f=((I=(D=s.navigator)==null?void 0:D.miniChart)==null?void 0:I.series)??s.series;(p==null?void 0:p.enabled)===!0&&f!=null?this.applyMiniChartOptions(p,f,s,n):(p==null?void 0:p.enabled)===!1&&(p.series=[],p.axes=[]),this.ctx.annotationManager.setAnnotationStyles(e.annotationThemes),r||(r=this.shouldForceNodeDataRefresh(i,l));const m=r||a?0:3;this.maybeResetAnimations(l),this.shouldClearLegendData(s,n,l)&&this.ctx.legendManager.clearData(),this.applyInitialState(s),ir("Chart.applyOptions() - update type",Hm[m],{seriesStatus:l,forceNodeDataRefresh:r}),this.update(m,{forceNodeDataRefresh:r,newAnimationBatch:!0}),this.firstApply=!1}applyInitialState(e){var l,c,h;const{annotationManager:i,chartTypeOriginator:n,historyManager:s,stateManager:a,zoomManager:o}=this.ctx,{initialState:r}=e;if("annotations"in e&&((l=e.annotations)!=null&&l.enabled)&&(r==null?void 0:r.annotations)!=null){const p=r.annotations.map(f=>{const y=i.getAnnotationTypeStyles(f.type);return ie(f,y)});a.setState(i,p)}(r==null?void 0:r.chartType)!=null&&a.setState(n,r.chartType),((c=e.navigator)!=null&&c.enabled||(h=e.zoom)!=null&&h.enabled)&&(r==null?void 0:r.zoom)!=null&&a.setState(o,r.zoom),(r==null?void 0:r.legend)!=null&&this.updateLegends(r.legend),r!=null&&s.clear()}maybeResetAnimations(e){if(this.mode==="standalone")switch(e){case"series-grouping-change":case"replaced":this.resetAnimations();break}}shouldForceNodeDataRefresh(e,i){const n=!!e.data||i==="data-change"||i==="replaced",s=RN.getKeys(),a=Object.values(s).some(r=>e[r]!=null),o=e.title!=null&&e.subtitle!=null;return n||a||o}shouldClearLegendData(e,i,n){const s=n==="replaced"||n==="series-grouping-change"||n==="updated",a=i.legend!=null&&e.legend==null;return s||a}applyMiniChartOptions(e,i,n,s){var h,p,f,y;const a=((p=(h=s==null?void 0:s.navigator)==null?void 0:h.miniChart)==null?void 0:p.series)??(s==null?void 0:s.series),o=this.applySeries(e,this.filterMiniChartSeries(i),this.filterMiniChartSeries(a));this.applyAxes(e,n,s,o,["axes[].tick","axes[].thickness","axes[].title","axes[].crosshair","axes[].gridLine","axes[].label"]);const r=e.series;for(const m of r)m.properties.id=void 0;const l=e.axes,c=l.find(m=>m.direction==="x");for(const m of l)m.nice=!1,m.gridLine.enabled=!1,m.label.enabled=m===c,m.tick.enabled=!1,m.interactionEnabled=!1;if(c!=null){const m=(f=n.navigator)==null?void 0:f.miniChart,b=m==null?void 0:m.label,v=(y=m==null?void 0:m.label)==null?void 0:y.interval;if(c.line.enabled=!1,c.label.set(Sk(b,["interval","rotation","minSpacing","autoRotate","autoRotateAngle"])),c.tick.set(Sk(v,["enabled","width","size","color","interval","step"])),c.type==="grouped-category"){c.label.enabled=!1,c.label.rotation=0;const{depthOptions:D}=c;if(D.length===0)D.set([{label:{enabled:!0}}]);else for(let I=1;I<D.length;I++)D[I].label.enabled=!1}const S=v==null?void 0:v.step;S!=null&&(c.interval.step=S)}}applyModules(e){var s;const{type:i}=this.constructor;let n=!1;for(const a of ol.byType("root","legend")){const r=e[a.optionsKey]!=null&&a.chartTypes.includes(i);r!==this.modulesManager.isEnabled(a)&&(r?(this.modulesManager.addModule(a,l=>l.moduleFactory(this.getModuleContext())),a.type==="legend"&&((s=this.modulesManager.getModule(a))==null||s.attachLegend(this.ctx.scene)),this[a.optionsKey]=this.modulesManager.getModule(a)):(this.modulesManager.removeModule(a),delete this[a.optionsKey]),n=!0)}return n}initSeriesDeclarationOrder(e){for(let i=0;i<e.length;i++)e[i].setSeriesIndex(i)}applySeries(e,i,n){var h;if(!i)return"no-change";const s=iot(e.series,i,n);if(s.status==="no-overlap"){ir(`Chart.applySeries() - creating new series instances, status: ${s.status}`,s);const p=i.map(f=>this.createSeries(f));return this.initSeriesDeclarationOrder(p),e.series=p,"replaced"}ir("Chart.applySeries() - matchResult",s);const a=[];let o=!1,r=!1,l=!1;const c=s.changes.toSorted((p,f)=>p.targetIdx-f.targetIdx);for(const p of c)switch(r||(r=p.status==="series-grouping"),o||(o=((h=p.diff)==null?void 0:h.data)!=null),l||(l=p.status!=="no-op"),p.status){case"add":{const f=this.createSeries(p.opts);a.push(f),ir("Chart.applySeries() - created new series",f);break}case"remove":ir(`Chart.applySeries() - removing series at previous idx ${p.idx}`,p.series);break;case"no-op":a.push(p.series),ir(`Chart.applySeries() - no change to series at previous idx ${p.idx}`,p.series);break;case"series-grouping":case"update":default:{const{series:f,diff:y,idx:m}=p;ir(`Chart.applySeries() - applying series diff previous idx ${m}`,y,f),this.applySeriesValues(f,y),f.markNodeDataDirty(),a.push(f)}}return this.initSeriesDeclarationOrder(a),ir("Chart.applySeries() - final series instances",a),e.series=a,r?"series-grouping-change":o?"data-change":l?"updated":"no-op"}applyAxes(e,i,n,s,a=[]){if(!("axes"in i)||!i.axes)return!1;a=["axes[].type",...a];const{axes:o}=i;return!(s==="replaced")&&e.axes.length===o.length&&e.axes.every((c,h)=>c.type===o[h].type)&&zN(n)?(e.axes.forEach((c,h)=>{var m;const p=((m=n.axes)==null?void 0:m[h])??{},f=vc(p,o[h]);ir(`Chart.applyAxes() - applying axis diff idx ${h}`,f);const y=`axes[${h}]`;Um(c,f,{path:y,skip:a})}),!0):(ir(`Chart.applyAxes() - creating new axes instances; seriesStatus: ${s}`),e.axes=this.createAxis(o,a),!0)}createSeries(e){const i=pa.create(e.type,this.getModuleContext());return this.applySeriesOptionModules(i,e),this.applySeriesValues(i,e),i}applySeriesOptionModules(e,i){const n=e.createModuleContext(),s=e.getModuleMap();for(const a of ol.byType("series-option"))a.optionsKey in i&&a.seriesTypes.includes(e.type)&&s.addModule(a,o=>o.moduleFactory(n))}applySeriesValues(e,i){const n=e.getModuleMap(),{type:s,data:a,listeners:o,seriesGrouping:r,showInMiniChart:l,...c}=i;for(const h of dg)if(h.type==="series-option"&&h.optionsKey in c){const p=n.getModule(h.optionsKey);if(p){const f=c[h.optionsKey];delete c[h.optionsKey],p.properties.set(f)}}e.properties.set(c),"data"in i&&e.setOptionsData(a),o&&this.registerListeners(e,o),"seriesGrouping"in i&&(r==null?e.seriesGrouping=void 0:e.seriesGrouping={...e.seriesGrouping,...r})}createAxis(e,i){const n=[],s=this.getModuleContext();for(let a=0;a<e.length;a++){const o=e[a],r=fc.create(o.type,s);this.applyAxisModules(r,o),Um(r,o,{path:`axes[${a}]`,skip:i}),n.push(r)}return tot(n),n}applyAxisModules(e,i){const n=e.createModuleContext(),s=e.getModuleMap();for(const a of ol.byType("axis-option")){const o=i[a.optionsKey]!=null;o!==s.isEnabled(a)&&(o?(s.addModule(a,r=>r.moduleFactory(n)),e[a.optionsKey]=s.getModule(a)):(s.removeModule(a),delete e[a.optionsKey]))}}registerListeners(e,i){e.clearEventListeners();for(const[n,s]of Object.entries(i))Gd(s)&&e.addEventListener(n,s)}};$i.chartsInstances=new WeakMap;N([Sa({newValue(t){this.destroyed||(this.ctx.domManager.setContainer(t),$i.chartsInstances.set(t,this))},oldValue(t){$i.chartsInstances.delete(t)}})],$i.prototype,"container",2);N([Sa({newValue(t){this.resize("width option",{inWidth:t})}})],$i.prototype,"width",2);N([Sa({newValue(t){this.resize("height option",{inHeight:t})}})],$i.prototype,"height",2);N([Sa({newValue(t){this.resize("minWidth option",{inMinWidth:t})}})],$i.prototype,"minWidth",2);N([Sa({newValue(t){this.resize("minHeight option",{inMinHeight:t})}})],$i.prototype,"minHeight",2);N([Sa({newValue(t){this.resize("overrideDevicePixelRatio option",{inOverrideDevicePixelRatio:t})}})],$i.prototype,"overrideDevicePixelRatio",2);N([w(kt)],$i.prototype,"padding",2);N([w(kt)],$i.prototype,"seriesArea",2);N([w(kt)],$i.prototype,"keyboard",2);N([w(kt)],$i.prototype,"touch",2);N([w(Ye(["standalone","integrated"],"a chart mode"))],$i.prototype,"mode",2);N([ni("chartCaptions.title")],$i.prototype,"title",2);N([ni("chartCaptions.subtitle")],$i.prototype,"subtitle",2);N([ni("chartCaptions.footnote")],$i.prototype,"footnote",2);N([w(jt)],$i.prototype,"suppressFieldDotNotation",2);N([Sa({changeValue(t,e){this.onAxisChange(t,e)}})],$i.prototype,"axes",2);N([Sa({changeValue(t,e){this.onSeriesChange(t,e)}})],$i.prototype,"series",2);var MA=$i,Vot={2:(t,e)=>Math.log2(e),[Math.E]:(t,e)=>Math.log(e),10:(t,e)=>Math.log10(e)},Uot=(t,e)=>Math.log(e)/Math.log(t);function VC(t,e,i){const n=Math.min(...e),s=Vot[t]??Uot;return n>=0?s(t,i):-s(t,-i)}var Hot={[Math.E]:(t,e)=>Math.exp(e),10:(t,e)=>e>=0?10**e:1/10**-e},Wot=(t,e)=>t**e;function UC(t,e,i){const n=Math.min(...e),s=Hot[t]??Wot;return n>=0?s(t,i):-s(t,-i)}var FN=class extends ke{constructor(t=[1,10],e=[0,1]){super(t,e),this.type="log",this.defaultClamp=!0,this.base=10,this.log=i=>VC(this.base,this.domain,i),this.pow=i=>UC(this.base,this.domain,i)}toDomain(t){return t}transform(t){const[e,i]=Vn(this.domain);return e>=0!=i>=0?NaN:e>=0?Math.log(t):-Math.log(-t)}transformInvert(t){const[e,i]=Vn(this.domain);return e>=0!=i>=0?NaN:e>=0?Math.exp(t):-Math.exp(-t)}niceDomain(t,e=this.domain){if(e.length<2)return[];const{base:i}=this,[n,s]=e,a=n>s?Math.ceil:Math.floor,o=n>s?Math.floor:Math.ceil,r=UC(i,e,a(VC(i,e,n))),l=UC(i,e,o(VC(i,e,s)));return[r,l]}ticks({interval:t,tickCount:e=ke.defaultTickCount},i=this.domain,n){if(!i||i.length<2||e<1)return[];const s=this.base,[a,o]=i,r=Math.min(a,o),l=Math.max(a,o);let c=this.log(r),h=this.log(l);if(t){const b=D=>D>=r&&D<=l,v=Math.min(Math.abs(t),Math.abs(h-c)),S=cx(c,h,v).map(this.pow).filter(b);if(!ux(S.length,this.getPixelRange()))return S}if(!K5(s)||h-c>=e)return pN(c,h,Math.min(h-c,e)).map(this.pow);let p=[];const f=r>0;c=Math.floor(c)-1,h=Math.round(h)+1;const y=Zf(this.range)/e;let m=1/0;for(let b=c;b<=h;b++){const v=this.convert(this.pow(b+1));for(let S=1;S<s;S++){const D=f?S:s-S+1,I=this.pow(b)*D,T=this.convert(I),k=Math.abs(m-T),E=Math.abs(T-v),O=k>=y&&E>=y;I>=r&&I<=l&&(S===1||O||p.length===0)&&(p.push(I),m=T)}}return p=gV(p,f,n),p}tickFormatter({specifier:t}){return t!=null?HV(t):String}datumFormatter(t){return this.tickFormatter(t)}},Yot=class{constructor(t,e,i){this.root=new Xot(t,e,i)}clear(t){this.root.clear(t)}addValue(t,e){const i={hitTester:t,value:e,distanceSquared:(n,s)=>t.distanceSquared(n,s)};this.root.addElem(i)}find(t,e){const i={best:{nearest:void 0,distanceSquared:1/0}};return this.root.find(t,e,i),i.best}},$ot=class{constructor(t,e,i,n){this.nw=t,this.ne=e,this.sw=i,this.se=n}addElem(t){this.nw.addElem(t),this.ne.addElem(t),this.sw.addElem(t),this.se.addElem(t)}find(t,e,i){this.nw.find(t,e,i),this.ne.find(t,e,i),this.sw.find(t,e,i),this.se.find(t,e,i)}},Kot=class{constructor(t,e,i){this.capacity=t,this.maxdepth=e,this.boundary=i??Et.NaN,this.elems=[],this.subdivisions=void 0}clear(t){this.elems.length=0,this.boundary=t,this.subdivisions=void 0}addElem(t){this.addCondition(t)&&(this.subdivisions===void 0?this.maxdepth===0||this.elems.length<this.capacity?this.elems.push(t):this.subdivide(t):this.subdivisions.addElem(t))}find(t,e,i){this.findCondition(t,e,i)&&(this.subdivisions===void 0?this.findAction(t,e,i):this.subdivisions.find(t,e,i))}subdivide(t){this.subdivisions=this.makeSubdivisions();for(const e of this.elems)this.subdivisions.addElem(e);this.subdivisions.addElem(t),this.elems.length=0}makeSubdivisions(){const{x:t,y:e,width:i,height:n}=this.boundary,{capacity:s}=this,a=this.maxdepth-1,o=i/2,r=n/2,l=new Et(t,e,o,r),c=new Et(t+o,e,o,r),h=new Et(t,e+r,o,r),p=new Et(t+o,e+r,o,r);return new $ot(this.child(s,a,l),this.child(s,a,c),this.child(s,a,h),this.child(s,a,p))}},Xot=class xH extends Kot{addCondition(e){const{x:i,y:n}=e.hitTester.midPoint;return this.boundary.containsPoint(i,n)}findCondition(e,i,n){const{best:s}=n;return s.distanceSquared!==0&&this.boundary.distanceSquared(e,i)<s.distanceSquared}findAction(e,i,n){const s=KM(e,i,this.elems,n.best.distanceSquared);s.nearest!==void 0&&s.distanceSquared<n.best.distanceSquared&&(n.best=s)}child(e,i,n){return new xH(e,i,n)}},fr=class bH extends ke{constructor(){super([0,1],[0,1]),this.type="number"}static getTickStep(e,i,n){const{interval:s,tickCount:a=ke.defaultTickCount,minTickCount:o,maxTickCount:r}=n;return s??lx(e,i,a,o,r)}toDomain(e){return e}ticks({interval:e,tickCount:i=ke.defaultTickCount,minTickCount:n,maxTickCount:s},a=this.domain,o){if(!a||a.length<2||i<1||!a.every(isFinite))return[];const[r,l]=a;if(e){const c=Math.abs(e);if(!ux((l-r)/c,this.getPixelRange()))return cx(r,l,c)}return pN(r,l,i,n,s,o)}niceDomain(e,i=this.domain){if(i.length<2)return[];const{tickCount:n=ke.defaultTickCount}=e;let[s,a]=i;if(n===1)[s,a]=vnt(s,a);else if(n>1){const o=s>a?Math.ceil:Math.floor,r=s>a?Math.floor:Math.ceil,l=4;for(let c=0;c<l;c++){const h=s,p=a,f=bH.getTickStep(s,a,e),[y,m]=i;if(s=o(y/f)*f,a=r(m/f)*f,s===h&&a===p)break}}return[s,a]}tickFormatter({ticks:e,fractionDigits:i,specifier:n}){return n!=null?N4(e,n):s=>bc(s,i)}datumFormatter({ticks:e,fractionDigits:i,specifier:n}){return n!=null?N4(e,n):s=>bc(s,i+1)}};function Nc(t){if(t.length===0)return null;let e=1/0,i=-1/0;for(const s of t){const a=s instanceof Date?s.getTime():s;typeof a=="number"&&(a<e&&(e=a),a>i&&(i=a))}const n=[e,i];return n.every(isFinite)?n:null}function GN(t,e,i){let n=!1;return t.length>2&&(t=Nc(t)??[NaN,NaN]),isNaN(e)||(n||(n=e>t[0]),t=[e,t[1]]),isNaN(i)||(n||(n=i<t[1]),t=[t[0],i]),t[0]>t[1]&&(t=[]),{extent:t,clipped:n}}var rh=class extends eb{constructor(e,i=new fr){super(e,i),this.min=NaN,this.max=NaN}normaliseDataDomain(e){const{min:i,max:n}=this,{extent:s,clipped:a}=GN(e,i,n);return{domain:s,clipped:a}}};rh.className="NumberAxis";rh.type="number";N([w(dl(rg,qx("max"))),sh(NaN)],rh.prototype,"min",2);N([w(dl(rg,Qx("min"))),sh(NaN)],rh.prototype,"max",2);var Yd=class extends eb{constructor(t){super(t,new qV),this.min=void 0,this.max=void 0}normaliseDataDomain(t){var s;let{min:e,max:i}=this,n=!1;return typeof e=="number"&&(e=new Date(e)),typeof i=="number"&&(i=new Date(i)),t.length>2&&(t=((s=Nc(t))==null?void 0:s.map(a=>new Date(a)))??[]),e instanceof Date&&(n||(n=e>t[0]),t=[e,t[1]]),i instanceof Date&&(n||(n=i<t[1]),t=[t[0],i]),t[0]>t[1]&&(t=[]),{domain:t,clipped:n}}};Yd.className="TimeAxis";Yd.type="time";N([w(dl(qL,qx("max")),{optional:!0})],Yd.prototype,"min",2);N([w(dl(qL,Qx("min")),{optional:!0})],Yd.prototype,"max",2);var VN=class extends SA{constructor(){super(...arguments),this.clipFocusBox=!0}getScaleInformation({xScale:t,yScale:e}){const i=ke.is(t),n=ke.is(e);return{isContinuousX:i,isContinuousY:n,xScaleType:t==null?void 0:t.type,yScaleType:e==null?void 0:e.type}}getModulePropertyDefinitions(){var i,n;const t=(i=this.axes.x)==null?void 0:i.scale,e=(n=this.axes.y)==null?void 0:n.scale;return this.moduleMap.mapModules(s=>s.getPropertyDefinitions(this.getScaleInformation({xScale:t,yScale:e}))).flat()}async requestDataModel(t,e,i){i.props.push(...this.getModulePropertyDefinitions());const{dataModel:n,processedData:s}=await t.request(this.id,e??[],i);return this.dataModel=n,this.processedData=s,this.dispatch("data-processed",{dataModel:n,processedData:s}),{dataModel:n,processedData:s}}isProcessedDataAnimatable(){var n,s;const t=(s=(n=this.processedData)==null?void 0:n.reduced)==null?void 0:s.animationValidation;if(!t)return!0;const{orderedKeys:e,uniqueKeys:i}=t;return e&&i}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}pickFocus(t){const e=this.getNodeData();if(e===void 0||e.length===0)return;const i=this.computeFocusDatumIndex(t,e);if(i===void 0)return;const{clipFocusBox:n}=this,s=e[i],a={...t,datumIndex:i},o=this.computeFocusBounds(a);if(o!==void 0)return{bounds:o,clipFocusBox:n,datum:s,datumIndex:i}}computeFocusDatumIndex(t,e){const i=r=>{const{missing:l=!1,enabled:c=!0,focusable:h=!0}=e[r];return!l&&c&&h},n=(r,l)=>{for(;r>=0&&!i(r);)r+=l;return r===-1?void 0:r},s=(r,l)=>{for(;r<e.length&&!i(r);)r+=l;return r===e.length?void 0:r};let a;const o=qt(0,t.datumIndex,e.length-1);return t.datumIndexDelta<0?a=n(o,t.datumIndexDelta):t.datumIndexDelta>0?a=s(o,t.datumIndexDelta):a=s(o,1)??n(o,-1),a===void 0?t.datumIndexDelta===0?void 0:t.datumIndex-t.datumIndexDelta:a}},Ec=class extends Zt{constructor(){super(...arguments),this.fill="rgba(255,255,255, 0.33)",this.stroke="rgba(0, 0, 0, 0.4)",this.strokeWidth=2}};N([w(Ae,{optional:!0})],Ec.prototype,"fill",2);N([w(Le,{optional:!0})],Ec.prototype,"fillOpacity",2);N([w(Ae,{optional:!0})],Ec.prototype,"stroke",2);N([w(Tt,{optional:!0})],Ec.prototype,"strokeWidth",2);N([w(Le,{optional:!0})],Ec.prototype,"strokeOpacity",2);N([w(pl,{optional:!0})],Ec.prototype,"lineDash",2);N([w(Tt,{optional:!0})],Ec.prototype,"lineDashOffset",2);var AA=class extends Zt{};N([w(Tt,{optional:!0})],AA.prototype,"strokeWidth",2);N([w(Le,{optional:!0})],AA.prototype,"dimOpacity",2);N([w(jt,{optional:!0})],AA.prototype,"enabled",2);var vH=class extends Zt{constructor(){super(...arguments),this.color="black"}};N([w(Ae,{optional:!0})],vH.prototype,"color",2);var UN=class extends Zt{constructor(){super(...arguments),this.enabled=!0}};N([w(jt,{optional:!0})],UN.prototype,"enabled",2);var ab=class extends Zt{constructor(){super(...arguments),this.item=new Ec,this.series=new AA,this.text=new vH}};N([w(kt)],ab.prototype,"item",2);N([w(kt)],ab.prototype,"series",2);N([w(kt)],ab.prototype,"text",2);var $a=class extends Zt{constructor(){super(...arguments),this.visible=!0,this.focusPriority=1/0,this.showInLegend=!0,this.cursor="default",this.nodeClickRange="exact",this.highlight=new UN,this.highlightStyle=new ab}};N([w(Dt,{optional:!0})],$a.prototype,"id",2);N([w(jt)],$a.prototype,"visible",2);N([w(bV,{optional:!0})],$a.prototype,"focusPriority",2);N([w(jt)],$a.prototype,"showInLegend",2);N([w(Dt)],$a.prototype,"cursor",2);N([w(rA)],$a.prototype,"nodeClickRange",2);N([w(kt)],$a.prototype,"highlight",2);N([w(kt)],$a.prototype,"highlightStyle",2);var $d={x:["xKey"],y:["yKey"]},Kd={x:["xName"],y:["yName"]},HN=class extends nb{constructor(t,e,i,n){super(t,e,i,n),this.xKey=n.properties.xKey,this.yKey=n.properties.yKey}},Oc=class extends $a{constructor(){super(...arguments),this.pickOutsideVisibleMinorAxis=!1}};N([w(Dt,{optional:!0})],Oc.prototype,"legendItemName",2);N([w(jt,{optional:!0})],Oc.prototype,"pickOutsideVisibleMinorAxis",2);var uM=100,lh=class extends VN{constructor({pathsPerSeries:t=["path"],hasMarkers:e=!1,hasHighlightedLabels:i=!1,pathsZIndexSubOrderOffset:n=[],datumSelectionGarbageCollection:s=!0,markerSelectionGarbageCollection:a=!0,animationAlwaysUpdateSelections:o=!1,animationResetFns:r,directionKeys:l,directionNames:c,...h}){if(super({directionKeys:l,directionNames:c,canHaveAxes:!0,...h}),this.NodeEvent=HN,this.dataNodeGroup=this.contentGroup.appendChild(new Wt({name:`${this.id}-series-dataNodes`,zIndex:0})),this.markerGroup=this.contentGroup.appendChild(new Wt({name:`${this.id}-series-markers`,zIndex:1})),this.labelGroup=this.contentGroup.appendChild(new Js({name:`${this.id}-series-labels`})),this.labelSelection=Yi.select(this.labelGroup,Cn),this.highlightSelection=Yi.select(this.highlightNode,()=>this.opts.hasMarkers?new kn:this.nodeFactory()),this.highlightLabelSelection=Yi.select(this.highlightLabel,Cn),this.annotationSelections=new Set,this.debug=We.create(),!l||!c)throw new Error(`Unable to initialise series type ${this.type}`);this.opts={pathsPerSeries:t,hasMarkers:e,hasHighlightedLabels:i,pathsZIndexSubOrderOffset:n,directionKeys:l,directionNames:c,animationResetFns:r,animationAlwaysUpdateSelections:o,datumSelectionGarbageCollection:s,markerSelectionGarbageCollection:a},this.paths=t.map(p=>new ia({name:`${this.id}-${p}`})),this.datumSelection=Yi.select(this.dataNodeGroup,()=>this.nodeFactory(),s),this.markerSelection=Yi.select(this.markerGroup,kn,a),this.animationState=new tb("empty",{empty:{update:{target:"ready",action:p=>this.animateEmptyUpdateReady(p)},reset:"empty",skip:"ready",disable:"disabled"},ready:{updateData:"waiting",clear:"clearing",highlight:p=>this.animateReadyHighlight(p),highlightMarkers:p=>this.animateReadyHighlightMarkers(p),resize:p=>this.animateReadyResize(p),reset:"empty",skip:"ready",disable:"disabled"},waiting:{update:{target:"ready",action:p=>{this.ctx.animationManager.isSkipped()?this.resetAllAnimation(p):this.animateWaitingUpdateReady(p)}},reset:"empty",skip:"ready",disable:"disabled"},disabled:{update:p=>this.resetAllAnimation(p),reset:"empty"},clearing:{update:{target:"empty",action:p=>this.animateClearingUpdateEmpty(p)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}get contextNodeData(){return this._contextNodeData}getNodeData(){var t;return(t=this.contextNodeData)==null?void 0:t.nodeData}attachSeries(t,e,i){super.attachSeries(t,e,i),this.attachPaths(this.paths,e,i)}detachSeries(t,e,i){super.detachSeries(t,e,i),this.detachPaths(this.paths,e,i)}attachPaths(t,e,i){for(const n of t)this.contentGroup.appendChild(n)}detachPaths(t,e,i){for(const n of t)this.contentGroup.removeChild(n)}renderToOffscreenCanvas(){const t=this.getNodeData();return t!=null&&t.length>uM}resetAnimation(t){t==="initial"?this.animationState.transition("reset"):t==="ready"?this.animationState.transition("skip"):t==="disabled"&&this.animationState.transition("disable")}addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager.addListener("legend-item-click",t=>this.onLegendItemClick(t)),this.ctx.chartEventManager.addListener("legend-item-double-click",t=>this.onLegendItemDoubleClick(t)))}destroy(){super.destroy(),this._contextNodeData=void 0}update({seriesRect:t}){var l,c;const{visible:e,_contextNodeData:i}=this,s=((c=(l=this.ctx.highlightManager)==null?void 0:l.getActiveHighlight())==null?void 0:c.series)===this,a=this.checkResize(t),o=this.updateHighlightSelection(s);this.updateSelections(e),this.updateNodes(o,s,e);const r=this.getAnimationData(t,i);r&&(a&&this.animationState.transition("resize",r),this.animationState.transition("update",r))}updateSelections(t){var e;const i=!this.opts.animationAlwaysUpdateSelections&&this.ctx.animationManager.isSkipped();if(!(!t&&i)&&!(!this.nodeDataRefresh&&!this.isPathOrSelectionDirty())){if(this.nodeDataRefresh){this.nodeDataRefresh=!1,this.debug("CartesianSeries.updateSelections() - calling createNodeData() for",this.id),this.markQuadtreeDirty(),this._contextNodeData=this.createNodeData();const n=this.isProcessedDataAnimatable();this._contextNodeData&&((e=this._contextNodeData).animationValid??(e.animationValid=n));const{dataModel:s,processedData:a}=this;s!==void 0&&a!==void 0&&this.dispatch("data-update",{dataModel:s,processedData:a})}this.updateSeriesSelections()}}updateSeriesSelections(t){const{datumSelection:e,labelSelection:i,markerSelection:n,paths:s}=this,a=this._contextNodeData;if(!a)return;const{nodeData:o,labelData:r,itemId:l}=a;this.updatePaths({seriesHighlighted:t,itemId:l,contextData:a,paths:s}),this.datumSelection=this.updateDatumSelection({nodeData:o,datumSelection:e}),this.labelSelection=this.updateLabelSelection({labelData:r,labelSelection:i})??i,this.opts.hasMarkers&&(this.markerSelection=this.updateMarkerSelection({nodeData:o,markerSelection:n}))}updateNodes(t,e,i){const{highlightSelection:n,highlightLabelSelection:s,opts:{hasMarkers:a,hasHighlightedLabels:o}}=this,r=!this.ctx.animationManager.isSkipped(),l=this.visible&&this._contextNodeData!=null&&i;this.contentGroup.visible=r||l,this.highlightGroup.visible=(r||l)&&e;const c=this.getOpacity();a?(this.updateMarkerNodes({markerSelection:n,isHighlight:!0}),this.animationState.transition("highlightMarkers",n)):(this.updateDatumNodes({datumSelection:n,isHighlight:!0}),this.animationState.transition("highlight",n)),o&&this.updateLabelNodes({labelSelection:s});const{dataNodeGroup:h,markerGroup:p,datumSelection:f,labelSelection:y,markerSelection:m,paths:b,labelGroup:v}=this,{itemId:S}=this.contextNodeData??{};h.opacity=c,h.visible=r||l,v.visible=l,a&&(p.opacity=c,p.visible=l),v&&(v.opacity=c),this.updatePathNodes({seriesHighlighted:e,itemId:S,paths:b,opacity:c,visible:l,animationEnabled:r}),h.visible&&(this.updateDatumNodes({datumSelection:f,highlightedItems:t,isHighlight:!1}),this.usesPlacedLabels||this.updateLabelNodes({labelSelection:y}),a&&this.updateMarkerNodes({markerSelection:m,isHighlight:!1}))}getHighlightLabelData(t,e){const i=t.filter(n=>n.datum===e.datum&&n.itemId===e.itemId);return i.length===0?void 0:i}getHighlightData(t,e){return e?[e]:void 0}updateHighlightSelection(t){var l;const{highlightSelection:e,highlightLabelSelection:i,_contextNodeData:n}=this;if(!n)return;const s=(l=this.ctx.highlightManager)==null?void 0:l.getActiveHighlight(),a=t&&(s!=null&&s.datum)?s:void 0;let o,r;if(a!=null){const c=this.isLabelEnabled(),{labelData:h,nodeData:p}=n;r=this.getHighlightData(p,a),o=c?this.getHighlightLabelData(h,a):void 0}return this.highlightSelection=this.updateHighlightSelectionItem({items:r,highlightSelection:e}),this.highlightLabelSelection=this.updateHighlightSelectionLabel({items:o,highlightLabelSelection:i}),r}markQuadtreeDirty(){this.quadtree=void 0}*datumNodesIter(){for(const{node:t}of this.datumSelection)t.datum.missing!==!0&&(yield t)}getQuadTree(){if(this.quadtree===void 0){const{width:t,height:e}=this.ctx.scene.canvas,i=new Et(0,0,t,e);this.quadtree=new Yot(100,10,i),this.initQuadTree(this.quadtree)}return this.quadtree}initQuadTree(t){}pickNodeExactShape(t){const e=super.pickNodeExactShape(t);if(e)return e;const{x:i,y:n}=t,{opts:{hasMarkers:s}}=this;let a;const{dataNodeGroup:o,markerGroup:r}=this;if(a=o.pickNode(i,n),!a&&s&&(a=r==null?void 0:r.pickNode(i,n)),a&&a.datum.missing!==!0)return{datum:a.datum,distance:0};for(const l of this.moduleMap.modules()){const{datum:c}=l.pickNodeExact(t)??{};if(c!=null&&(c==null?void 0:c.missing)!==!0)return{datum:c,distance:0}}}pickNodeClosestDatum(t){var h;const{x:e,y:i}=t,{axes:n,_contextNodeData:s}=this;if(!s)return;const a=n.x,o=n.y,r={x:e,y:i};let l=1/0,c;for(const p of s.nodeData){const{point:{x:f=NaN,y=NaN}={}}=p;if(isNaN(f)||isNaN(y)||!((a==null?void 0:a.inRange(f))&&(o==null?void 0:o.inRange(y))))continue;const b=Math.max((r.x-f)**2+(r.y-y)**2,0);b<l&&(l=b,c=p)}for(const p of this.moduleMap.modules()){const f=p.pickNodeNearest(t);if(f!==void 0&&f.distanceSquared<l){l=f.distanceSquared,c=f.datum;break}}if(c){const p=Math.max(Math.sqrt(l)-(((h=c.point)==null?void 0:h.size)??0),0);return{datum:c,distance:p}}}pickNodeMainAxisFirst(t,e){var m;const{x:i,y:n}=t,{axes:s,_contextNodeData:a}=this,{pickOutsideVisibleMinorAxis:o}=this.properties;if(!a)return;const r=s.x,l=s.y,c=[r,l].filter(hg.is).map(b=>b.direction);if(e&&c.length===0)return;const[h="x"]=c,p=[i,n];h!=="x"&&p.reverse();const f=[1/0,1/0];let y;for(const b of a.nodeData){const{x:v=NaN,y:S=NaN}=b.point??b.midPoint??{};if(isNaN(v)||isNaN(S)||b.missing===!0)continue;const D=[r==null?void 0:r.inRange(v),l==null?void 0:l.inRange(S)];if(h!=="x"&&D.reverse(),!D[0]||!o&&!D[1])continue;const I=[v,S];h!=="x"&&I.reverse();let T=!0;for(let k=0;k<I.length;k++){const E=Math.abs(I[k]-p[k]);if(E>f[k]){T=!1;break}else E<f[k]&&(f[k]=E,f.fill(1/0,k+1,f.length))}T&&(y=b)}if(y){let b=Math.max(f[0]**2+f[1]**2-(((m=y.point)==null?void 0:m.size)??0),0);for(const v of this.moduleMap.modules()){const S=v.pickNodeMainAxisFirst(t);if(S!==void 0&&S.distanceSquared<b){y=S.datum,b=S.distanceSquared;break}}return{datum:y,distance:Math.sqrt(b)}}}isPathOrSelectionDirty(){return!1}shouldFlipXY(){return!1}keysOrValues(t){var i,n,s;const e=this.dataModel.resolveProcessedDataIndexById(this,t);return((n=(i=this.processedData)==null?void 0:i.keys[e])==null?void 0:n.get(this.id))??((s=this.processedData)==null?void 0:s.columns[e])??[]}visibleRange(t,e,i){const n=this.keysOrValues(t),s=0;return HU((i==null?void 0:i.length)??n.length,e,a=>{const o=(i==null?void 0:i[a])??a;return this.xCoordinateRange(n[o],s,o)})}domainForVisibleRange(t,e,i,n,s,a){const{processedData:o,dataModel:r}=this,[l,c]=n,h=this.keysOrValues(i);if(s){const m=this.visibleRange(i,n,a);return r.getDomainBetweenRange(this,e,m,o)}const p=e.map(m=>this.keysOrValues(m));let f=1/0,y=-1/0;return h.forEach((m,b)=>{const[v,S]=this.xCoordinateRange(m,0,b);if(!(S<l||v>c))for(let D=0;D<e.length;D++){const I=p[D][b];f=Math.min(f,I),y=Math.max(y,I)}}),f>y?[NaN,NaN]:[f,y]}domainForClippedRange(t,e,i,n){const{processedData:s,dataModel:a,axes:o}=this,l=Zot(o[t==="x"?"y":"x"]);if(!l)return e.flatMap(m=>a.getDomain(this,m,"value",s));const c=this.keysOrValues(i);if(n){const m=qot(c.length,l,b=>c[b]);return a.getDomainBetweenRange(this,e,m,s)}const h=e.map(m=>this.keysOrValues(m)),p=l[0].valueOf(),f=l[1].valueOf(),y=[];return c.forEach((m,b)=>{const v=m.valueOf();if(v<p||v>f)return;const S=h.map(D=>D[b]);v>=p&&y.push(...S),v<=f&&y.push(...S)}),y}countVisibleItems(t,e,i,n,s){const{dataModel:a,processedData:o}=this;if(!a||!o)return 1/0;const r=this.keysOrValues(t),l=e.map(k=>a.resolveColumnById(this,k,o)),c=this.axes.x,h=this.axes.y,p=this.shouldFlipXY(),f=c.range,y=h.range,m=(k,E,O)=>k[0]+(O-E[0])/(E[1]-E[0])*(k[1]-k[0]),b=m(f,c.visibleRange,i[0]),v=m(f,c.visibleRange,i[1]),S=m(y,h.visibleRange,p?n[0]:n[1]),D=m(y,h.visibleRange,p?n[1]:n[0]),I=Math.round((i[0]+(i[1]-i[0])/2)*r.length),T=0;return WU(0,r.length-1,I,s,k=>{let[E,O]=this.xCoordinateRange(r[k],T,k),[B,R]=this.yCoordinateRange(l.map(L=>L[k]),T,k);return!ye(E)||!ye(O)||!ye(B)||!ye(R)?!1:(p&&([E,O,B,R]=[B,R,E,O]),E>=b&&O<=v&&B>=S&&R<=D)})}updateHighlightSelectionItem(t){const{opts:{hasMarkers:e}}=this,{items:i,highlightSelection:n}=t,s=i??[];if(e){const a=n;return this.updateMarkerSelection({nodeData:s,markerSelection:a})}else return this.updateDatumSelection({nodeData:s,datumSelection:n})}updateHighlightSelectionLabel(t){return this.updateLabelSelection({labelData:t.items??[],labelSelection:t.highlightLabelSelection})}updateDatumSelection(t){return t.datumSelection}updateDatumNodes(t){}updateMarkerSelection(t){return t.markerSelection}updateMarkerNodes(t){}updatePaths(t){t.paths.forEach(e=>e.visible=!1)}updatePathNodes(t){const{paths:e,opacity:i,visible:n}=t;for(const s of e)s.opacity=i,s.visible=n}resetPathAnimation(t){var i;const{path:e}=((i=this.opts)==null?void 0:i.animationResetFns)??{};e&&t.paths.forEach(n=>{Fn([n],e)})}resetDatumAnimation(t){var i;const{datum:e}=((i=this.opts)==null?void 0:i.animationResetFns)??{};e&&Fn([t.datumSelection],e)}resetLabelAnimation(t){var i;const{label:e}=((i=this.opts)==null?void 0:i.animationResetFns)??{};e&&Fn([t.labelSelection],e)}resetMarkerAnimation(t){var i;const{marker:e}=((i=this.opts)==null?void 0:i.animationResetFns)??{};e&&this.opts.hasMarkers&&Fn([t.markerSelection],e)}resetAllAnimation(t){var e;this.ctx.animationManager.stopByAnimationGroupId(this.id),this.resetPathAnimation(t),this.resetDatumAnimation(t),this.resetLabelAnimation(t),this.resetMarkerAnimation(t),((e=t.contextData)==null?void 0:e.animationValid)===!1&&this.ctx.animationManager.skipCurrentBatch()}animateEmptyUpdateReady(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(t)}animateWaitingUpdateReady(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(t)}animateReadyHighlight(t){var i;const{datum:e}=((i=this.opts)==null?void 0:i.animationResetFns)??{};e&&Fn([t],e)}animateReadyHighlightMarkers(t){var i;const{marker:e}=((i=this.opts)==null?void 0:i.animationResetFns)??{};e&&Fn([t],e)}animateReadyResize(t){this.resetAllAnimation(t)}animateClearingUpdateEmpty(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(t)}getAnimationData(t,e){const{_contextNodeData:i}=this;return i?{datumSelection:this.datumSelection,markerSelection:this.markerSelection,labelSelection:this.labelSelection,annotationSelections:[...this.annotationSelections],contextData:i,previousContextData:e,paths:this.paths,seriesRect:t}:void 0}updateLabelSelection(t){return t.labelSelection}getScaling(t){if(t instanceof FN){const{range:e,domain:i}=t;return{type:"log",convert:n=>t.convert(n),domain:[i[0],i[1]],range:[e[0],e[1]]}}else if(t instanceof ke){const{range:e,domain:i}=t;return{type:"continuous",domain:[i[0],i[1]],range:[e[0],e[1]]}}else if(t instanceof $x){const{domain:e}=t;return{type:"category",domain:e,inset:t.inset,step:t.step}}}calculateScaling(){const t={};for(const e of Object.values(uN)){const i=this.axes[e];if(!i)continue;const n=this.getScaling(i.scale);n!=null&&(t[e]=n)}return t}};function Zot(t){let e,i;if(t instanceof rh&&(Number.isFinite(t.min)||Number.isFinite(t.max))?(e=Number.isFinite(t.min)?t.min:void 0,i=Number.isFinite(t.max)?t.max:void 0):t instanceof Yd&&(t.min!=null||t.max!=null)&&({min:e,max:i}=t),!(e==null&&i==null))return e??(e=-1/0),i??(i=1/0),[e,i]}function qot(t,e,i){const n=e[0].valueOf(),s=e[1].valueOf(),a=G5(0,t-1,r=>{var c;const l=(c=i(r))==null?void 0:c.valueOf();return!Number.isFinite(l)||l>=n});let o=F5(0,t-1,r=>{var c;const l=(c=i(r))==null?void 0:c.valueOf();return!Number.isFinite(l)||l<=s});return a==null||o==null?[0,0]:(o=Math.min(o+1,t),[a,o])}var Qot=["top","right","bottom","left"],DA=class SH extends MA{constructor(e,i){super(e,i),this.paired=!0,this.lastUpdateClipRect=void 0,this.lastLayoutWidth=NaN,this.lastLayoutHeight=NaN}onAxisChange(e,i){super.onAxisChange(e,i),this.ctx!=null&&this.ctx.zoomManager.updateAxes(e)}destroySeries(e){super.destroySeries(e),this.lastLayoutWidth=NaN,this.lastLayoutHeight=NaN}getChartType(){return"cartesian"}setRootClipRects(e){const{seriesRoot:i,annotationRoot:n}=this;i.setClipRect(e),n.setClipRect(e)}async processData(){await super.processData();for(const e of this.axes){const i=this.getSyncedDomain(e);i!=null&&e.setDomains(i)}this.ctx.updateService.dispatchProcessData({series:{shouldFlipXY:this.shouldFlipXY()}})}performLayout(e){const{seriesRoot:i,annotationRoot:n}=this,{clipSeries:s,seriesRect:a,visible:o}=this.updateAxes(e.layoutBox);this.seriesRoot.visible=o,this.seriesRect=a,this.animationRect=e.layoutBox;const{x:r,y:l}=a;if(e.width!==this.lastLayoutWidth||e.height!==this.lastLayoutHeight)for(const f of[i,n])f.translationX=Math.floor(r),f.translationY=Math.floor(l);else{const{translationX:f,translationY:y}=i;Mc(this.id,"seriesRect",this.ctx.animationManager,[i,n],{translationX:f,translationY:y},{translationX:Math.floor(r),translationY:Math.floor(l)},{phase:"update"})}this.lastLayoutWidth=e.width,this.lastLayoutHeight=e.height;const c=a.clone().grow(this.seriesArea.padding),h=this.seriesArea.clip||s?c:void 0,{lastUpdateClipRect:p}=this;this.lastUpdateClipRect=h,this.ctx.animationManager.isActive()&&p!=null?this.ctx.animationManager.animate({id:this.id,groupId:"clip-rect",phase:"update",from:p,to:c,onUpdate:f=>this.setRootClipRects(f),onComplete:()=>this.setRootClipRects(h)}):this.setRootClipRects(h),this.ctx.layoutManager.emitLayoutComplete(e,{axes:this.axes.map(f=>f.getLayoutState()),series:{visible:o,rect:a,paddedRect:c},clipSeries:s})}updateAxes(e){const{clipSeries:i,seriesRect:n,overflows:s}=this.resolveAxesLayout(e);for(const a of this.axes)a.update(),a.setCrossLinesVisible(!s),this.clipAxis(a,n,e);return{clipSeries:i,seriesRect:n,visible:!s}}resolveAxesLayout(e){let i,n,s=0;const a=10;do if(n=i??this.getDefaultState(),i=this.updateAxesPass(new Map(n.axisAreaWidths),e.clone()),s++>a){It.warn("Max iterations reached. Unable to stabilize axes layout.");break}while(!this.isLayoutStable(i,n));return this.lastAreaWidths=i.axisAreaWidths,i}updateAxesPass(e,i){const n=new Map,s={};let a=!1,o=!1;for(const S of Qot){const D=this.seriesArea.padding[S],I=this.axes.findLast(T=>T.position===S);I?I.seriesAreaPadding=D:i.shrink(D,S)}const r=(e.get("left")??0)+(e.get("right")??0),l=(e.get("top")??0)+(e.get("bottom")??0),c=this.buildCrossLinePadding(e);i.width<=r+c.hPadding||i.height<=l+c.vPadding?a=!0:i.shrink(c);const h=i.clone().shrink(Object.fromEntries(e));for(const S of this.axes){const{position:D="left",direction:I}=S;this.sizeAxis(S,h,D);const T=I==="y",{primaryTickCount:k,bbox:E}=S.calculateLayout(S.nice?s[I]:void 0);s[I]??(s[I]=k),o||(o=S.dataDomain.clipped||S.visibleRange[0]>0||S.visibleRange[1]<1),n.set(S.id,Math.ceil(S.thickness??(T?E==null?void 0:E.width:E==null?void 0:E.height)??0))}const p=Object.entries(VL(this.axes,S=>S.position??"left")),{width:f,height:y,pixelRatio:m}=this.ctx.scene,b=new Map,v=new Map;for(const[S,D]of p){let T=S==="left"||S==="right"?y%m:f%m,k=0;for(const E of D){v.set(E.id,T);const O=n.get(E.id)??0;k=Math.max(k,T+O),E.layoutConstraints.stacked&&(T+=O+SH.AxesPadding)}b.set(S,Math.ceil(k))}for(const[S,D]of p)this.positionAxes({axes:D,position:S,axisWidths:n,axisOffsets:v,axisAreaWidths:b,axisBound:i,seriesRect:h});return{clipSeries:o,seriesRect:h,axisAreaWidths:b,overflows:a}}buildCrossLinePadding(e){const i={top:0,right:0,bottom:0,left:0,hPadding:0,vPadding:0};this.axes.forEach(n=>{var s;(s=n.crossLines)==null||s.forEach(a=>{var o;(o=a.calculatePadding)==null||o.call(a,i)})});for(const[n,s=0]of Object.entries(i))i[n]=Math.max(s-(e.get(n)??0),0);return i.hPadding=i.left+i.right,i.vPadding=i.top+i.bottom,i}clampToOutsideSeriesRect(e,i,n,s){const a=n==="x"?e.x:e.y,o=n==="x"?e.width:e.height;return s===1?Math.min(i,a+o):Math.max(i,a)}getSyncedDomain(e){const i=this.modulesManager.getModule("sync");if(!(i!=null&&i.enabled))return;const n=i.getSyncedDomain(e);if(n&&e.dataDomain.domain.length){let s;const{domain:a}=e.scale;if(ke.is(e.scale)){const[o,r]=Vn(n);s=o!==a[0]||r!==a[1]}else s=!sl(n,a);s&&!this.skipSync&&i.updateSiblings()}return n}sizeAxis(e,i,n){const s=e instanceof hg,a=n==="left"||n==="right",{width:o,height:r}=i,l=a?r:o;let c=0,h=l,{min:p,max:f}=this.ctx.zoomManager.getAxisZoom(e.id);const{width:y,unit:m,align:b}=e.layoutConstraints;m==="px"?h=c+y:h=h*y/100,b==="end"&&(c=l-(h-c),h=l),a&&(s?[p,f]=[1-f,1-p]:[c,h]=[h,c]),e.range=[c,h],e.visibleRange=[p,f],e.gridLength=a?o:r}positionAxes(e){const{axes:i,axisBound:n,axisWidths:s,axisOffsets:a,axisAreaWidths:o,seriesRect:r,position:l}=e,c=o.get(l)??0;let h="x",p="y",f=1;(l==="top"||l==="bottom")&&(h="y",p="x");let y=n[h];(l==="right"||l==="bottom")&&(f=-1,y+=h==="x"?n.width:n.height);for(const m of i){const b=o.get(p==="x"?"left":"top")??0,v=s.get(m.id)??0,S=a.get(m.id)??0;m.gridPadding=c-S-v,m.translation[p]=n[p]+b,m.translation[h]=this.clampToOutsideSeriesRect(r,y+f*(S+v),h,f)}}shouldFlipXY(){return this.series.every(e=>e instanceof lh&&e.shouldFlipXY())}getDefaultState(){const e=new Map;if(this.lastAreaWidths)for(const{position:i="left"}of this.axes){const n=this.lastAreaWidths.get(i);n!=null&&e.set(i,n)}return{axisAreaWidths:e,clipSeries:!1,overflows:!1}}isLayoutStable(e,i){if(i.overflows!==e.overflows||i.clipSeries!==e.clipSeries)return!1;for(const n of e.axisAreaWidths.keys())if(!i.axisAreaWidths.has(n))return!1;for(const[n,s]of i.axisAreaWidths.entries()){const a=e.axisAreaWidths.get(n);if((s!=null||a!=null)&&s!==a)return!1}return!0}clipAxis(e,i,n){var l,c;const s=Math.ceil(((l=e.gridLine)==null?void 0:l.width)??0),a=Math.ceil(((c=e.line)==null?void 0:c.width)??0);let{width:o,height:r}=i;switch(o+=e.direction==="x"?s:a,r+=e.direction==="y"?s:a,e.clipGrid(i.x,i.y,o,r),e.position){case"left":case"right":e.clipTickLines(n.x,i.y-s,n.width+s,i.height+s*2);break;case"top":case"bottom":e.clipTickLines(i.x-s,n.y,i.width+s*2,n.height+s);const{label:h,labelNodes:p,scale:f}=e;if(ke.is(f)&&h.enabled&&h.avoidCollisions&&p.length>1){const y=p.toSorted((S,D)=>S.translationY-D.translationY),m=y.at(-1),b=m.getBBox(),v=i.x+b.y+b.height<=n.x+n.width+this.padding.right;if(m.visible=v,v||e.visibleRange[0]>0||e.visibleRange[1]<1)y[0].visible=!0;else{const S=y[0].getBBox();y[0].visible=S.y>=0}}break}}};DA.className="CartesianChart";DA.type="cartesian";DA.AxesPadding=15;var Jot=DA,trt={type:"chart",name:"cartesian",detect:zN,create(t,e){return new Jot(t,e)}},b_=We.create(!0,"opts"),Wm=class{constructor(e,i,n){this.factoryApi=i,this.licenseManager=n,this.chart=e}async update(e){return b_.group("AgChartInstance.update()",async()=>{this.factoryApi.update(e,this),await this.chart.waitForUpdate()})}async updateDelta(e){return b_.group("AgChartInstance.updateDelta()",async()=>{this.factoryApi.updateUserDelta(this,e),await this.chart.waitForUpdate()})}getOptions(){const e=fn(this.chart.getOptions());for(const i of Object.keys(e))i.startsWith("_")&&delete e[i];return e}waitForUpdate(){return this.chart.waitForUpdate()}async download(e){const i=await this.prepareResizedChart(this,e);try{i.chart.download(e==null?void 0:e.fileName,e==null?void 0:e.fileFormat)}finally{i.destroy()}}async __toSVG(e){const i=await this.prepareResizedChart(this,{width:600,height:300,...e});try{return i.chart.toSVG()}finally{i.destroy()}}async getImageDataURL(e){const i=await this.prepareResizedChart(this,e);try{return i.chart.getCanvasDataURL(e==null?void 0:e.fileFormat)}finally{i.destroy()}}getState(){return this.factoryApi.caretaker.save(...this.getEnabledOriginators())}async setState(e){const i=this.getEnabledOriginators();if(!i.includes(this.chart.ctx.legendManager)){await this.setStateOriginators(e,i);return}await this.setStateOriginators(e,i.filter(n=>n!==this.chart.ctx.zoomManager)),await this.setStateOriginators(e,[this.chart.ctx.zoomManager])}resetAnimations(){this.chart.resetAnimations()}skipAnimations(){this.chart.skipAnimations()}destroy(){this.releaseChart?(this.releaseChart(),this.releaseChart=void 0):this.chart&&(this.chart.publicApi=void 0,this.chart.destroy()),this.chart=null}async prepareResizedChart(e,i={}){var m,b;const{chart:n}=e,s=i.width??n.width??n.ctx.scene.canvas.width,a=i.height??n.height??n.ctx.scene.canvas.height,o=e.getState(),r=ol.hasEnterpriseModules(),l={...n.chartOptions.processedOverrides,container:document.createElement("div"),width:s,height:a};i.width!=null&&i.height!=null&&(l.overrideDevicePixelRatio=1);const c=n.getOptions();r&&(l.animation={enabled:!1},(m=this.licenseManager)!=null&&m.isDisplayWatermark()&&(l.foreground={text:this.licenseManager.getWatermarkMessage(),image:{url:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjU4IiBoZWlnaHQ9IjQwIiB2aWV3Qm94PSIwIDAgMjU4IDQwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNMjUuNzc5IDI4LjY1N0gxMy4zNTlMMTEuMTczIDM0LjAxMkg1LjY3Mjk3TDE3LjE4MiA3LjA1OTk5SDIxLjk1M0wzMy40NjIgMzQuMDEySDI3Ljk2MkwyNS43NzYgMjguNjU3SDI1Ljc3OVpNMjQuMDY4IDI0LjM5N0wxOS41ODggMTMuNDM0TDE1LjEwNyAyNC4zOTdIMjQuMDY4Wk02Mi4wOTIgMTguODIzSDQ5LjgxN1YyMy4wODZINTYuNzc1QzU2LjU1NSAyNS4yMjIgNTUuNzU1IDI2LjkyNyA1NC4zNzIgMjguMjAyQzUyLjk4OSAyOS40NzYgNTEuMTY2IDMwLjExNSA0OC45MDkgMzAuMTE1QzQ3LjYyMiAzMC4xMTUgNDYuNDUgMjkuODg1IDQ1LjM5MyAyOS40MjNDNDQuMzU4MyAyOC45NzgxIDQzLjQzMjYgMjguMzEzOCA0Mi42OCAyNy40NzZDNDEuOTI3IDI2LjYzOSA0MS4zNDQgMjUuNjMxIDQwLjkzMSAyNC40NTNDNDAuNTE5IDIzLjI3NSA0MC4zMTEgMjEuOTcgNDAuMzExIDIwLjUzN0M0MC4zMTEgMTkuMTA1IDQwLjUxNiAxNy44IDQwLjkzMSAxNi42MjFDNDEuMzQ0IDE1LjQ0MyA0MS45MjcgMTQuNDM2IDQyLjY4IDEzLjU5OEM0My40Mzc2IDEyLjc1NzcgNDQuMzY5NiAxMi4wOTMyIDQ1LjQxMSAxMS42NTFDNDYuNDc4IDExLjE4OSA0Ny42NTYgMTAuOTYgNDguOTQ2IDEwLjk2QzUxLjYxMiAxMC45NiA1My42MzcgMTEuNjAyIDU1LjAyIDEyLjg4NUw1OC4zIDkuNjA0OTlDNTUuODE3IDcuNjY5OTkgNTIuNjc2IDYuNjk5OTkgNDguODcyIDYuNjk5OTlDNDYuNzYgNi42OTk5OSA0NC44NTMgNy4wMzQ5OSA0My4xNTQgNy43MDA5OUM0MS40NTUgOC4zNjc5OSAzOS45OTggOS4zMDM5OSAzOC43ODMgMTAuNTA0QzM3LjU2NyAxMS43MDcgMzYuNjM0IDEzLjE1OCAzNS45NzcgMTQuODU3QzM1LjMxOSAxNi41NTYgMzQuOTk0IDE4LjQ1MSAzNC45OTQgMjAuNTRDMzQuOTk0IDIyLjYzIDM1LjMyOSAyNC40OTQgMzUuOTk1IDI2LjIwNUMzNi42NjIgMjcuOTE2IDM3LjYwNSAyOS4zNzQgMzguODE3IDMwLjU3N0M0MC4wMzIgMzEuNzggNDEuNDg2IDMyLjcxMyA0My4xODggMzMuMzgzQzQ0Ljg4OCAzNC4wNDkgNDYuNzgyIDM0LjM4NCA0OC44NzIgMzQuMzg0QzUwLjk2MSAzNC4zODQgNTIuNzUgMzQuMDQ5IDU0LjM5IDMzLjM4M0M1Ni4wMzEgMzIuNzE2IDU3LjQyNiAzMS43OCA1OC41NzkgMzAuNTc3QzU5LjczMyAyOS4zNzQgNjAuNjE5IDI3LjkxNiA2MS4yMzkgMjYuMjA1QzYxLjg2IDI0LjQ5NCA2Mi4xNyAyMi42MDUgNjIuMTcgMjAuNTRDNjIuMTY5NiAxOS45Njg4IDYyLjE0NDUgMTkuMzk4IDYyLjA5NSAxOC44MjlMNjIuMDkyIDE4LjgyM1pNMTUxLjgxIDE2Ljk4MUMxNTMuNDEgMTQuNjA5IDE1Ny40MTkgMTQuMzU4IDE1OS4wMjIgMTQuMzU4VjE4LjkxQzE1Ni45NTcgMTguOTEgMTU0Ljk4NSAxOC45OTYgMTUzLjc1NyAxOS44OTJDMTUyLjUyOSAyMC43OTIgMTUxLjkxOSAyMS45ODIgMTUxLjkxOSAyMy40NjRWMzMuOTlIMTQ2Ljk2NFYxNC4zNThIMTUxLjczNkwxNTEuODEgMTYuOTgxWk0xNDMuMDExIDE0LjM2MVYzNC4wMzFIMTM4LjI0TDEzOC4xMzEgMzEuMDQ1QzEzNy40NjYgMzIuMDc2IDEzNi41NTEgMzIuOTIxOSAxMzUuNDcxIDMzLjUwNEMxMzQuMzc2IDM0LjA5OSAxMzMuMDY4IDM0LjM5NiAxMzEuNTM2IDM0LjM5NkMxMzAuMiAzNC4zOTYgMTI4Ljk2MyAzNC4xNTIgMTI3LjgyMiAzMy42NjhDMTI2LjcgMzMuMTk2NCAxMjUuNjg5IDMyLjQ5NSAxMjQuODU1IDMxLjYwOUMxMjQuMDE4IDMwLjcyMiAxMjMuMzU0IDI5LjY2MiAxMjIuODcxIDI4LjQyMkMxMjIuMzg0IDI3LjE4NSAxMjIuMTQyIDI1LjgxMSAxMjIuMTQyIDI0LjMwNEMxMjIuMTQyIDIyLjc5OCAxMjIuMzg0IDIxLjM3OCAxMjIuODcxIDIwLjExNkMxMjMuMzU3IDE4Ljg1NCAxMjQuMDE4IDE3Ljc3MiAxMjQuODU1IDE2Ljg3M0MxMjUuNjg4IDE1Ljk3NjQgMTI2LjY5OCAxNS4yNjM2IDEyNy44MjIgMTQuNzhDMTI4Ljk2MyAxNC4yODEgMTMwLjIwMyAxNC4wMzMgMTMxLjUzNiAxNC4wMzNDMTMzLjA0MyAxNC4wMzMgMTM0LjMzIDE0LjMxOCAxMzUuMzk3IDE0Ljg4OEMxMzYuNDYyIDE1LjQ1ODkgMTM3LjM3NSAxNi4yNzggMTM4LjA1NyAxNy4yNzZWMTQuMzYxSDE0My4wMTFaTTEzMi42MzEgMzAuMTMzQzEzNC4yNTYgMzAuMTMzIDEzNS41NjcgMjkuNTk0IDEzNi41NjUgMjguNTEyQzEzNy41NjEgMjcuNDMgMTM4LjA2IDI1Ljk5MSAxMzguMDYgMjQuMTk2QzEzOC4wNiAyMi40MDEgMTM3LjU2MSAyMC45OSAxMzYuNTY1IDE5Ljg5OUMxMzUuNTcgMTguODA3IDEzNC4yNTkgMTguMjU4IDEzMi42MzEgMTguMjU4QzEzMS4wMDMgMTguMjU4IDEyOS43MjkgMTguODA0IDEyOC43MzQgMTkuODk5QzEyNy43MzggMjAuOTkzIDEyNy4yMzkgMjIuNDM4IDEyNy4yMzkgMjQuMjMzQzEyNy4yMzkgMjYuMDI4IDEyNy43MzUgMjcuNDMzIDEyOC43MzQgMjguNTE1QzEyOS43MjkgMjkuNTk0IDEzMS4wMjggMzAuMTM2IDEzMi42MzEgMzAuMTM2VjMwLjEzM1pNOTMuNjk4IDI3Ljg3NkM5My41Nzk1IDI4LjAwMjUgOTMuNDU2NCAyOC4xMjQ2IDkzLjMyOSAyOC4yNDJDOTEuOTQ3IDI5LjUxNiA5MC4xMjMgMzAuMTU1IDg3Ljg2NiAzMC4xNTVDODYuNTggMzAuMTU1IDg1LjQwOCAyOS45MjYgODQuMzUgMjkuNDY0QzgzLjMxNTUgMjkuMDE4OSA4Mi4zODk4IDI4LjM1NDYgODEuNjM3IDI3LjUxN0M4MC44ODQgMjYuNjc5IDgwLjMwMSAyNS42NzIgNzkuODg5IDI0LjQ5NEM3OS40NzYgMjMuMzE1IDc5LjI2OSAyMi4wMSA3OS4yNjkgMjAuNTc4Qzc5LjI2OSAxOS4xNDUgNzkuNDczIDE3Ljg0IDc5Ljg4OSAxNi42NjJDODAuMzAxIDE1LjQ4NCA4MC44ODQgMTQuNDc2IDgxLjYzNyAxMy42MzlDODIuMzk0OSAxMi43OTg3IDgzLjMyNzMgMTIuMTM0MiA4NC4zNjkgMTEuNjkyQzg1LjQzNiAxMS4yMyA4Ni42MTQgMTEgODcuOTAzIDExQzkwLjU3IDExIDkyLjU5NSAxMS42NDIgOTMuOTc3IDEyLjkyNkw5Ny4yNTggOS42NDQ5OUM5NC43NzQgNy43MTA5OSA5MS42MzMgNi43Mzk5OSA4Ny44MjkgNi43Mzk5OUM4NS43MTggNi43Mzk5OSA4My44MTEgNy4wNzQ5OSA4Mi4xMTIgNy43NDE5OUM4MC40MTMgOC40MDc5OSA3OC45NTYgOS4zNDQ5OSA3Ny43NCAxMC41NDVDNzYuNTI1IDExLjc0NyA3NS41OTIgMTMuMTk5IDc0LjkzNCAxNC44OThDNzQuMjc3IDE2LjU5NyA3My45NTEgMTguNDkxIDczLjk1MSAyMC41ODFDNzMuOTUxIDIyLjY3IDc0LjI4NiAyNC41MzQgNzQuOTUzIDI2LjI0NUM3NS42MTkgMjcuOTU3IDc2LjU2MiAyOS40MTQgNzcuNzc0IDMwLjYxN0M3OC45OSAzMS44MiA4MC40NDQgMzIuNzUzIDgyLjE0NiAzMy40MjNDODMuODQ1IDM0LjA5IDg1LjczOSAzNC40MjQgODcuODI5IDM0LjQyNEM4OS45MTkgMzQuNDI0IDkxLjcwOCAzNC4wOSA5My4zNDggMzMuNDIzQzk0LjcxOCAzMi44NjUgOTUuOTE4IDMyLjEyMSA5Ni45NDggMzEuMTkxQzk3LjE0OSAzMS4wMDggOTcuMzQ4IDMwLjgxNSA5Ny41MzcgMzAuNjJMOTMuNzAxIDI3Ljg4NUw5My42OTggMjcuODc2Wk0xMTAuODAyIDE0LjAxNUMxMDkuMTk5IDE0LjAxNSAxMDYuODM2IDE0LjQ3MSAxMDUuNjExIDE2LjE1OEwxMDUuNTM3IDYuMDE1OTlIMTAwLjc2NVYzMy45MzlIMTA1LjcyVjIyLjY0MUMxMDUuNzcxIDIxLjQ2MDcgMTA2LjI4OCAyMC4zNDg4IDEwNy4xNTcgMTkuNTQ4OUMxMDguMDI3IDE4Ljc0OTEgMTA5LjE3OCAxOC4zMjY2IDExMC4zNTggMTguMzc0QzExMy4zOTcgMTguMzc0IDExNC4yNjggMjEuMTU5IDExNC4yNjggMjIuNjQxVjMzLjkzOUgxMTkuMjIzVjIxLjA1OUMxMTkuMjIzIDIxLjA1OSAxMTkuMTQyIDE0LjAxNSAxMTAuODAyIDE0LjAxNVpNMTczLjc2MyAxNC4zNThIMTY5Ljk5OVY4LjcxNDk5SDE2NS4wNDhWMTQuMzU4SDE2MS4yODRWMTguOTE2SDE2NS4wNDhWMzQuMDAzSDE2OS45OTlWMTguOTE2SDE3My43NjNWMTQuMzU4Wk0xOTAuNzg3IDI1LjI2MkMxOTAuMTI5IDI0LjUwMTQgMTg5LjMwNyAyMy44OTk0IDE4OC4zODQgMjMuNTAxQzE4Ny40ODggMjMuMTE3IDE4Ni4zMzEgMjIuNzMyIDE4NC45NDggMjIuMzY0QzE4NC4xNjUgMjIuMTQzOSAxODMuMzkgMjEuODk3OCAxODIuNjIzIDIxLjYyNkMxODIuMTYzIDIxLjQ2MjEgMTgxLjc0MSAyMS4yMDY2IDE4MS4zODMgMjAuODc1QzE4MS4yMzUgMjAuNzQyMSAxODEuMTE4IDIwLjU3ODkgMTgxLjAzOSAyMC4zOTY0QzE4MC45NjEgMjAuMjE0IDE4MC45MjIgMjAuMDE2NiAxODAuOTI3IDE5LjgxOEMxODAuOTI3IDE5LjI3MiAxODEuMTU2IDE4Ljg0NCAxODEuNjI1IDE4LjUxQzE4Mi4xMjEgMTguMTU2IDE4Mi44NjIgMTcuOTc2IDE4My44MjYgMTcuOTc2QzE4NC43OSAxNy45NzYgMTg1LjU4NyAxOC4yMDkgMTg2LjE0OCAxOC42NjhDMTg2LjcwNiAxOS4xMjQgMTg3LjAwNyAxOS43MjUgMTg3LjA3MiAyMC41TDE4Ny4wOTQgMjAuNzgySDE5MS42MzNMMTkxLjYxNyAyMC40NkMxOTEuNTIxIDE4LjQ4NSAxOTAuNzcxIDE2LjkgMTg5LjM4NSAxNS43NUMxODguMDEyIDE0LjYxMiAxODYuMTg1IDE0LjAzMyAxODMuOTYyIDE0LjAzM0MxODIuNDc3IDE0LjAzMyAxODEuMTQxIDE0LjI4NyAxNzkuOTk0IDE0Ljc4NkMxNzguODMxIDE1LjI5MSAxNzcuOTI2IDE1Ljk5NSAxNzcuMjk2IDE2Ljg4MkMxNzYuNjczIDE3Ljc0NTUgMTc2LjMzOCAxOC43ODQgMTc2LjM0MSAxOS44NDlDMTc2LjM0MSAyMS4xNjcgMTc2LjY5OCAyMi4yNDkgMTc3LjM5OSAyMy4wNjRDMTc4LjA2IDIzLjg0MzIgMTc4Ljg5OCAyNC40NTM0IDE3OS44NDIgMjQuODQ0QzE4MC43NDQgMjUuMjE2IDE4MS45MjggMjUuNjA3IDE4My4zNjEgMjZDMTg0LjgwNiAyNi40MSAxODUuODcyIDI2Ljc4NSAxODYuNTMgMjcuMTIzQzE4Ny4xIDI3LjQxNCAxODcuMzc5IDI3Ljg0NSAxODcuMzc5IDI4LjQ0NEMxODcuMzc5IDI5LjA0MiAxODcuMTIyIDI5LjQ2NyAxODYuNTk1IDI5LjgzOUMxODYuMDQzIDMwLjIyNiAxODUuMjM3IDMwLjQyNSAxODQuMjAxIDMwLjQyNUMxODMuMTY2IDMwLjQyNSAxODIuMzk0IDMwLjE3NCAxODEuNzQ5IDI5LjY3NEMxODEuMTEzIDI5LjE4MSAxODAuNzcyIDI4LjU4OSAxODAuNzEgMjcuODY0TDE4MC42ODUgMjcuNTgySDE3Ni4wMTNMMTc2LjAyNSAyNy45MDFDMTc2LjA2NyAyOS4wOTU1IDE3Ni40NzIgMzAuMjQ4NyAxNzcuMTg4IDMxLjIwNkMxNzcuOTA3IDMyLjE4IDE3OC44OTMgMzIuOTU4IDE4MC4xMTggMzMuNTE5QzE4MS4zMzYgMzQuMDc3IDE4Mi43MzIgMzQuMzYyIDE4NC4yNjYgMzQuMzYyQzE4NS44MDEgMzQuMzYyIDE4Ny4xMDkgMzQuMTA4IDE4OC4yMzggMzMuNjA5QzE4OS4zNzYgMzMuMTA0IDE5MC4yNzIgMzIuMzk0IDE5MC45MDEgMzEuNDk0QzE5MS41MzQgMzAuNTkyIDE5MS44NTMgMjkuNTU0IDE5MS44NTMgMjguNDAzQzE5MS44MjggMjcuMTEgMTkxLjQ2NiAyNi4wNTMgMTkwLjc3NyAyNS4yNjJIMTkwLjc4N1oiIGZpbGw9IiM5QjlCOUIiLz4KPHBhdGggZD0iTTI0MS45ODIgMjUuNjU4MlYxNy43MTE3SDIyOC40NDFMMjIwLjQ5NCAyNS42NTgySDI0MS45ODJaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yNTcuMjM5IDUuOTUwODFIMjQwLjI2NUwyMzIuMjU1IDEzLjg5NzNIMjU3LjIzOVY1Ljk1MDgxWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMjEyLjYxMSAzMy42MDQ4TDIxNi42OCAyOS41MzYxSDIzMC40MTJWMzcuNDgyN0gyMTIuNjExVjMzLjYwNDhaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yMTUuNTk5IDIxLjc4MDNIMjI0LjM3MkwyMzIuMzgyIDEzLjgzMzdIMjE1LjU5OVYyMS43ODAzWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMjA2IDMzLjYwNDdIMjEyLjYxMUwyMjAuNDk0IDI1LjY1ODJIMjA2VjMzLjYwNDdaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yNDAuMjY1IDUuOTUwODFMMjM2LjE5NyAxMC4wMTk0SDIxMC4yNTlWMi4wNzI4OEgyNDAuMjY1VjUuOTUwODFaIiBmaWxsPSIjOUI5QjlCIi8+Cjwvc3ZnPgo=",width:170,height:25,right:25,bottom:50,opacity:.7}}));const h={...n.chartOptions.specialOverrides},p={...n.chartOptions.optionMetadata},f=this.factoryApi.create(c,l,h,p);await f.setState(o),f.chart.ctx.zoomManager.updateZoom("chartProxy",n.ctx.zoomManager.getZoom()),f.chart.ctx.legendManager.clearData(),f.chart.ctx.legendManager.update(n.ctx.legendManager.getData()),n.series.forEach((v,S)=>{v.visible||(f.chart.series[S].visible=!1)});const y=[];for(const v of n.modulesManager.legends())y.push(((b=v.legend.pagination)==null?void 0:b.currentPage)??0);for(const v of f.chart.modulesManager.legends()){const S=y.shift()??0;v.legend.pagination&&v.legend.pagination.setPage(S)}return f.chart.update(0,{forceNodeDataRefresh:!0}),await f.waitForUpdate(),f}getEnabledOriginators(){var c,h,p;const{chartOptions:{processedOptions:e,optionMetadata:i},ctx:{annotationManager:n,chartTypeOriginator:s,zoomManager:a,legendManager:o}}=this.chart,r=[];return"annotations"in e&&((c=e.annotations)!=null&&c.enabled)&&r.push(n),i.presetType==="price-volume"&&r.push(s),((h=e.navigator)!=null&&h.enabled||(p=e.zoom)!=null&&p.enabled)&&r.push(a),"legend"in this.chart&&r.push(o),r}async setStateOriginators(e,i){this.factoryApi.caretaker.restore(e,...i),this.chart.ctx.updateService.update(2,{forceNodeDataRefresh:!0}),await this.chart.waitForUpdate()}};Wm.chartInstances=new WeakMap;N([Sa({oldValue(t){t.destroyed||(t.publicApi=void 0),Wm.chartInstances.delete(t)},newValue(t){t&&(t.publicApi=this,Wm.chartInstances.set(t,this))}})],Wm.prototype,"chart",2);var v_=Wm,WN=class extends pA{constructor(t){super(),this.ctx=t,this.localeText=void 0}};N([nh(t=>{t.ctx.localeManager.setLocaleText(t.localeText)}),w(xV,{optional:!0})],WN.prototype,"localeText",2);N([nh(t=>{t.ctx.localeManager.setLocaleTextFormatter(t.getLocaleText)}),w(ta,{optional:!0})],WN.prototype,"getLocaleText",2);var ert={type:"root",optionsKey:"locale",packageType:"community",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],moduleFactory:t=>new WN(t)},S_=class extends Kx{getIndex(t){return super.getIndex(t)??this.getMatchIndex(t)}getMatchIndex(t){const e=JSON.stringify(t),i=this._domain.find(n=>JSON.stringify(n)===e);if(i!=null)return super.getIndex(i)}},cm=new WeakMap;function hM(t,e){var n,s,a;const i=JSON.stringify(t,null,0);return cm.has(e)||cm.set(e,new Map),(n=cm.get(e))!=null&&n.has(i)||(s=cm.get(e))==null||s.set(i,e(t)),(a=cm.get(e))==null?void 0:a.get(i)}function Xs(t){const e=new Map,i=(...a)=>a.map(o=>typeof o=="object"||typeof o=="symbol"?o:(e.has(o)||e.set(o,{v:o}),e.get(o))),n={},s=new WeakMap;return(...a)=>{const o=a.length===0?[n]:i(...a);let r=s;for(const h of o.slice(0,-1))r.has(h)||r.set(h,new WeakMap),r=r.get(h);const l=o.at(-1);let c=r.get(l);return c||(c=t(...a),r.set(l,c)),c}}function IA(t,e=[0,0]){for(const i of t)typeof i=="number"&&(i<0&&(e[0]+=i),i>0&&(e[1]+=i));return e}function irt(t,e){return{id:t,matchGroupIds:[e],type:"aggregate",aggregateFunction:n=>IA(n)}}function MH(t,e){return{id:t,type:"aggregate",matchGroupIds:e?[e]:void 0,aggregateFunction:i=>IA(i),groupAggregateFunction:(i,n=[0,0])=>(n[0]+=(i==null?void 0:i[0])??0,n[1]+=(i==null?void 0:i[1])??0,n),round:!0}}function nrt(t,e){return{id:t,matchGroupIds:[e],type:"aggregate",aggregateFunction:n=>ku.extendDomain(n)}}function Fk(t){return{id:t,type:"aggregate",aggregateFunction:()=>[0,1],groupAggregateFunction:(e,i=[0,0])=>(i[0]+=(e==null?void 0:e[0])??0,i[1]+=(e==null?void 0:e[1])??0,i)}}function AH(t,e){return{id:t,matchGroupIds:e?[e]:void 0,type:"aggregate",aggregateFunction:n=>IA(n),groupAggregateFunction:(n,s=[0,0,-1])=>(s[0]+=(n==null?void 0:n[0])??0,s[1]+=(n==null?void 0:n[1])??0,s[2]++,s),finalFunction:(n=[0,0,0])=>{const s=n[0]+n[1];return s>=0?[0,s/n[2]]:[s/n[2],0]},round:!0}}function Gk(t,e,i){const n={id:t,matchGroupIds:i?[i]:void 0,type:"aggregate",aggregateFunction:(s,a=[])=>{const o=a[1]-a[0];return e.aggregateFunction(s).map(r=>r/o)},round:!0};return e.groupAggregateFunction&&(n.groupAggregateFunction=e.groupAggregateFunction),n}function DH(t){return()=>{let e=0;return i=>ye(i)?(e+=t?Math.max(0,i):i,e):i}}function IH(){return()=>{let t=0;return e=>{if(!ye(e))return e;const i=t;return t+=e,i}}}function TH(t){return t!=null&&uA(t)}function srt(t){return t!=null}function CH(t){switch(t){case"number":case"log":case"ordinal-time":case"time":case"color":return TH;default:return srt}}function kH(t){switch(t){case"number":case"log":case"time":case"color":return"range";default:return"category"}}function gr(t,e,i={}){return{property:t,type:"key",valueType:kH(e),validation:CH(e),...i}}function ne(t,e,i={}){return{property:t,type:"value",valueType:kH(e),validation:CH(e),...i}}function LH(t,e={}){return{property:t,type:"value",valueType:"range",missingValue:1,processor:()=>()=>1,...e}}function YN(t,e={}){const{min:i=-1/0,max:n=1/0,...s}=e;return{type:"value",property:t,valueType:"range",validation:TH,processor:()=>a=>ye(a)?qt(i,a,n):a,...s}}function dx(t,e,i={}){const{onlyPositive:n,...s}=i;return{...ne(t,e,s),processor:DH(n)}}function art(t,e,i={}){return{...ne(t,e,i),processor:IH()}}function Yu(t,e,i,n,s){return[ne(t,s,n),RH(n.groupId,e,i,n.separateNegative),...n.rangeId!=null?[nrt(n.rangeId,n.groupId)]:[]]}function NH(t,e,i){return[ne(t,e,i),PH(i.groupId)]}var EH={type:"reducer",property:"smallestKeyInterval",initialValue:1/0,reducer:()=>{let t=NaN;return(e=1/0,i)=>{const n=typeof i[0]=="number"?i[0]:Number(i[0]),s=Math.abs(n-t);return t=n,!isNaN(s)&&s>0&&s<e?s:e}}},OH={type:"reducer",property:"largestKeyInterval",initialValue:-1/0,reducer:()=>{let t=NaN;return(e=-1/0,i)=>{const n=typeof i[0]=="number"?i[0]:Number(i[0]),s=Math.abs(n-t);return t=n,!isNaN(s)&&s>0&&s>e?s:e}}},wH={type:"processor",property:"sortedGroupDomain",calculate:({domain:{groups:t}})=>t==null?void 0:t.slice().sort((e,i)=>{for(let n=0;n<e.length;n++){const s=e[n]-i[n];if(s!==0)return s}return 0})};function ort({normaliseTo:t}){const e=(i,n)=>{if(n===0)return null;const s=(i??0)*t/n;return s>=0?Math.min(t,s):Math.max(-t,s)};return()=>()=>(i,n,s)=>{const a=rrt(i,n,s);for(const o of n)for(const r of s.datumIndices[o]){const l=i[o],c=l[r];if(c==null){l[r]=void 0;continue}l[r]=typeof c=="number"?e(c,a):c.map(h=>e(h,a))}}}function rrt(t,e,i){const n=[0,0];for(const s of e){const a=t[s];for(const o of i.datumIndices[s]){const r=a[o];if(r==null)continue;const l=typeof r=="number"?r:Math.max(...r.map(h=>h??0)),c=l<0?0:1;c===0?n[c]=Math.min(n[c],l):n[c]=Math.max(n[c],l)}}return Math.max(Math.abs(n[0]),n[1])}function TA(t,e){return{type:"group-value-processor",matchGroupIds:t,adjust:hM({normaliseTo:e},ort)}}function lrt({normaliseTo:t,zeroDomain:e,rangeMin:i,rangeMax:n}){const s=t[1]-t[0],a=(o,r,l)=>{const c=t[0]+(o-r)/l*s;return l===0?e:c>=t[1]?t[1]:c<t[0]?t[0]:c};return()=>(o,r)=>{let[l,c]=o.domain.values[r];i!=null&&(l=i),n!=null&&(c=n);const h=c-l;o.domain.values[r]=[t[0],t[1]];const p=o.columns[r];for(let f=0;f<p.length;f+=1)p[f]=a(p[f],l,h)}}function Nd(t,e,i,n,s){return{type:"property-value-processor",property:t,adjust:hM({normaliseTo:e,rangeMin:n,rangeMax:s,zeroDomain:i},lrt)}}var Vk=1,Uk=2,M_=(t,e,i,n)=>{var o,r;let s=Vk|Uk;if(e.valueType==="category")return i.length!==t&&(s&=-2),s;let a=(o=n[0])==null?void 0:o.valueOf();for(let l=1;s!==0&&l<n.length;l++){const c=(r=n[l])==null?void 0:r.valueOf();(!Number.isFinite(c)||a>c)&&(s&=-3),Number.isFinite(c)&&a===c&&(s&=-2),a=c}return s};function gg(t){return{type:"processor",property:"animationValidation",calculate(e){const{keys:i,values:n}=e.defs,{input:{count:s},domain:{keys:a,values:o},keys:r,columns:l}=e;let c=Vk|Uk;if(s!==0){for(let h=0;c!==0&&h<i.length;h++)for(const p of i[h].scopes)c&=M_(s,i[h],a[h],r[h].get(p));for(let h=0;c!==0&&h<n.length;h++){const p=n[h];t!=null&&t.includes(p.id)&&(c&=M_(s,p,o[h],l[h]))}}return{uniqueKeys:(c&Vk)!==0,orderedKeys:(c&Uk)!==0}}}}function crt({mode:t,separateNegative:e}){return()=>()=>(i,n,s)=>{const a=[0,0];for(const o of n)for(const r of s.datumIndices[o]??[]){const l=i[o],c=l[r],h=XM(c)&&e?0:1;ye(c)&&(t==="normal"&&(a[h]+=c),l[r]=a[h],t==="trailing"&&(a[h]+=c))}}}function urt({mode:t,sum:e}){return()=>{const i=[];let n=!0;return()=>(s,a,o)=>{let r=0;for(const l of a){const c=s[l];for(const h of o.datumIndices[l]??[]){const p=c[h],f=n&&e==="current"?0:i[l];i[l]=p;const y=e==="current"?p:f;if(!ye(p)||!ye(f)){c[h]=r;continue}t==="normal"&&(r+=y),c[h]=r,t==="trailing"&&(r+=y)}}n=!1}}}function RH(t,e,i,n=!1){let s;if(e.startsWith("window")){const a=e.endsWith("-trailing")?"trailing":"normal";s=hM({mode:a,sum:i},urt)}else s=hM({mode:e,separateNegative:n},crt);return{type:"group-value-processor",matchGroupIds:[t],adjust:s}}function hrt(){return()=>(t,e,i)=>{const n=new Float64Array(e.length);let s=0;for(const a of e){const o=t[a];for(const r of i.datumIndices[a]??[]){const l=o[r];n[s]=Number.isFinite(l)?l:NaN,s+=1,o[r]=n.subarray(0,s)}}}}function PH(t){return{type:"group-value-processor",matchGroupIds:[t],adjust:hrt}}function A_(t){return t.id??t.property}function drt(t,e,i){var r,l;const n=new Map,s=e.defs.values;for(let c=0;c<s.length;c+=1){const h=s[c];if(((r=h.scopes)==null?void 0:r.includes(t))===!1)continue;const p=A_(h);if(n.has(p))return;n.set(p,c)}const a=[],o=i.defs.values;for(let c=0;c<o.length;c+=1){const h=o[c];if(((l=h.scopes)==null?void 0:l.includes(t))===!1)continue;const p=A_(h),f=n.get(p);if(f==null)return;n.delete(p),a.push({previousIndex:f,nextIndex:c})}if(n.size===0)return a}function HC(t,e,i,n,s){for(const{previousIndex:a,nextIndex:o}of i){const r=t[a],l=e[o],c=r[n],h=l[s];if(c!==h)return!1}return!0}function yg(t,e,i=!0){return{type:"processor",property:"diff",calculate(n,s){const a=new Map,o=new Map,r=new Map,l=new Map,c=e.keys,h=n.keys,p=e.columns,f=n.columns,y=drt(t,e,n);if(y==null)return s;const m=Math.max(e.input.count,n.input.count);for(let S=0;S<m;S++){const D=S<e.input.count,I=S<n.input.count,T=D?oM(c,t,S):void 0,k=T!=null?Ki(T):"",E=I?oM(h,t,S):void 0,O=E!=null?Ki(E):"";if(I&&D&&k===O){HC(p,f,y,S,S)||r.set(O,S);continue}const B=l.get(O);B!=null?((i||!HC(p,f,y,B,S))&&(r.set(O,S),a.set(O,S)),l.delete(O)):I&&o.set(O,S);const R=o.get(k);R!=null?((i||!HC(p,f,y,R,S))&&(r.set(k,S),a.set(k,S)),o.delete(k)):D&&(r.delete(k),l.set(k,S))}const v={changed:o.size>0||r.size>0||l.size>0,added:new Set(o.keys()),updated:new Set(r.keys()),removed:new Set(l.keys()),moved:new Set(a.keys())};return{...s,[t]:v}}}}function Ki(t,...e){let i;return Je(t)?i=t.map(s=>kk(s)).join("___"):i=kk(t),(typeof i=="string"||typeof i=="number"||typeof i=="boolean"||i instanceof Date)&&e.length>0&&(i+=`___${e.join("___")}`),i}var prt=class{constructor(){this.top=1/0,this.right=-1/0,this.bottom=-1/0,this.left=1/0}update(t,e){t>this.right&&(this.right=t),t<this.left&&(this.left=t),e>this.bottom&&(this.bottom=e),e<this.top&&(this.top=e)}},frt=class BH{constructor(e="",i,n){this.label=e,this.parent=i,this.refId=n,this.x=0,this.y=0,this.subtreeLeft=NaN,this.subtreeRight=NaN,this.children=[],this.leafCount=0,this.prelim=0,this.mod=0,this.ancestor=this,this.change=0,this.shift=0,this.index=0,this.screenX=0,this.depth=i?i.depth+1:0}insertTick(e,i){let n=this;for(let s=0;s<e.length;s++){const a=e[s],o=s!==e.length-1,{children:r}=n,l=r.find(c=>c.label===a);if(l&&o)n=l;else{const c=new BH(a,n,i);c.index=r.length,r.push(c),o&&(n=c)}}}getLeftSibling(){var e;return this.index>0?(e=this.parent)==null?void 0:e.children[this.index-1]:void 0}getLeftmostSibling(){var e;return this.index>0?(e=this.parent)==null?void 0:e.children[0]:void 0}nextLeft(){return this.children[0]}nextRight(){return this.children.at(-1)}getSiblings(){var e;return((e=this.parent)==null?void 0:e.children.filter((i,n)=>n!==this.index))??[]}};function grt(t){const e=t.reduce((n,s)=>n<s.length?s.length:n,0),i=new frt;for(let n=0;n<t.length;n++){const s=t[n];for(;s.length<e;)s.push("");i.insertTick(s,n)}return i}function yrt(t,e,i){const n=e.index-t.index,s=i/n;e.change-=s,e.shift+=i,t.change+=s,e.prelim+=i,e.mod+=i}function mrt(t,e,i){return e.getSiblings().indexOf(t.ancestor)>=0?t.ancestor:i}function xrt({children:t}){let e=0,i=0;for(let n=t.length-1;n>=0;n--){const s=t[n];s.prelim+=e,s.mod+=e,i+=s.change,e+=s.shift+i}}function brt(t,e){const i=t.getLeftSibling();if(i){let n=t,s=t,a=i,o=s.getLeftmostSibling(),r=s.mod,l=n.mod,c=a.mod,h=o.mod;for(;a.nextRight()&&s.nextLeft();){a=a.nextRight(),s=s.nextLeft(),o=o.nextLeft(),n=n.nextRight(),n.ancestor=t;const p=a.prelim+c-(s.prelim+r)+1;p>0&&(yrt(mrt(a,t,e),t,p),r+=p,l+=p),c+=a.mod,r+=s.mod,h+=o.mod,l+=n.mod}a.nextRight()&&!n.nextRight()?n.mod+=c-l:(s.nextLeft()&&!o.nextLeft()&&(o.mod+=r-h),e=t)}return e}function zH(t){const{children:e}=t;if(e.length){let[i]=e;for(const a of e)zH(a),i=brt(a,i);xrt(t);const n=(e[0].prelim+e.at(-1).prelim)/2,s=t.getLeftSibling();s?(t.prelim=s.prelim+1,t.mod=t.prelim-n):t.prelim=n}else{const i=t.getLeftSibling();t.prelim=i?i.prelim+1:0}}function _H(t,e,i){t.x=t.prelim+e,t.y=t.depth,i.insertNode(t);for(const n of t.children)_H(n,e+t.mod,i)}function jH(t){const{children:e}=t;let i=0;for(const n of e)jH(n),n.children.length?i+=n.leafCount:i++;t.leafCount=i,e.length?(t.subtreeLeft=e[0].subtreeLeft,t.subtreeRight=e[e.length-1].subtreeRight,t.x=(t.subtreeLeft+t.subtreeRight)/2):(t.subtreeLeft=t.x,t.subtreeRight=t.x)}function vrt(t){const e=new Srt,i=grt(t);return zH(i),_H(i,-i.prelim,e),jH(i),e}var Srt=class{constructor(){this.dimensions=new prt,this.nodes=[],this.depth=0}insertNode(t){this.depth<t.depth&&(this.depth=t.depth),this.dimensions.update(t.x,t.y),this.nodes.push(t)}scalingX(t,e){let i=1;if(t>0){const{left:n,right:s}=this.dimensions;i=t/(s-n)}return e&&(i*=-1),i}},wc=class extends Zt{constructor(){super(...arguments),this.enabled=!0}};N([w(jt)],wc.prototype,"enabled",2);N([w(jt,{optional:!0})],wc.prototype,"avoidCollisions",2);N([w(Ae,{optional:!0})],wc.prototype,"color",2);N([w(Tt,{optional:!0})],wc.prototype,"spacing",2);N([w(Dc,{optional:!0})],wc.prototype,"fontStyle",2);N([w(Ic,{optional:!0})],wc.prototype,"fontWeight",2);N([w(de.restrict({min:1}),{optional:!0})],wc.prototype,"fontSize",2);N([w(Dt,{optional:!0})],wc.prototype,"fontFamily",2);var CA=class extends Zt{constructor(){super(...arguments),this.enabled=!0}};N([w(jt)],CA.prototype,"enabled",2);N([w(Tt,{optional:!0})],CA.prototype,"width",2);N([w(Ae,{optional:!0})],CA.prototype,"stroke",2);var $N=class extends Zt{constructor(){super(...arguments),this.label=new wc,this.tick=new CA}};N([w(kt)],$N.prototype,"label",2);N([w(kt)],$N.prototype,"tick",2);var mg=class extends hg{constructor(t){super(t,new S_),this.tickScale=new S_,this.depthOptions=new Xx($N),this.includeInvisibleDomains=!0,this.tickScale.paddingInner=1,this.tickScale.paddingOuter=0}resizeTickTree(){if(!this.tickTreeLayout)return;const{nodes:t}=this.tickTreeLayout,{range:e,step:i,inset:n,bandwidth:s}=this.scale,a=Math.abs(e[1]-e[0])-i,o=this.tickTreeLayout.scalingX(a,e[0]>e[1]),r=n+s/2;let l=0;for(const c of t){const h=c.x*o;l>h&&(l=h),c.screenX=h+r}for(const c of t)c.screenX-=l}getDepthOptionsMap(t){var s,a,o,r;const e=[],{depthOptions:i,label:n}=this;for(let l=0;l<t;l++)e.push(((s=i[l])==null?void 0:s.label.enabled)??n.enabled?{enabled:!0,spacing:((a=i[l])==null?void 0:a.label.spacing)??n.spacing,lineHeight:hi.getLineHeight(((o=i[l])==null?void 0:o.label.fontSize)??n.fontSize??10),avoidCollisions:((r=i[l])==null?void 0:r.label.avoidCollisions)??n.avoidCollisions}:{enabled:!1,spacing:0,lineHeight:0,avoidCollisions:!1});return e}updateCategoryLabels(){this.computedLayout&&this.tickLabelGroupSelection.update(this.computedLayout.tickLabelLayout).each((t,e)=>t.setProperties(e))}updateAxisLine(){this.computedLayout&&(this.lineNode.visible=this.line.enabled,this.lineNode.stroke=this.line.stroke,this.lineNode.strokeWidth=this.line.width)}computeLayout(){var Z;if(this.updateDirection(),this.updateScale(),this.resizeTickTree(),!((Z=this.tickTreeLayout)!=null&&Z.depth))return{bbox:Et.zero,separatorLayout:[],tickLabelLayout:[]};const{step:t}=this.scale,{title:e,label:i,range:n,depthOptions:s}=this,{depth:a,nodes:o}=this.tickTreeLayout,r=Math.ceil(i.fontSize/t),l=yn(this.rotation),c=this.position==="top"||this.position==="bottom",h=i.getSideFlag(),p=[],f=new Map,y=new Jf,{defaultRotation:m,configuredRotation:b}=JS({rotation:i.rotation,parallel:i.parallel,regularFlipRotation:qe(l-Math.PI/2),parallelFlipRotation:qe(l)}),v=m+b,S=this.getDepthOptionsMap(a),D=(U,K)=>{var V,Y;const $=a-U.depth;if(!((V=S[$])!=null&&V.enabled)||K%r!==0||!$5(U.screenX,n))return!1;const X=this.formatTick(U.label,K-1),_=this.getLabelStyles({value:X,depth:$},(Y=s[$])==null?void 0:Y.label);return y.setProperties({..._,text:X,textAlign:"center",textBaseline:i.parallel?"hanging":"bottom",rotation:0,translationX:0,translationY:U.screenX}),!0};let I=0;const T={};o.forEach((U,K)=>{const $=a-U.depth,X=det(U.label);if(T[$]??(T[$]=1),T[$]<X&&(T[$]=X),!(!D(U,K)||!y.getBBox())&&(f.set(K,y.getBBox()),!U.leafCount)){y.rotation=v;const{width:V}=y.getBBox();I<V&&(I=V)}});const k=bN(),E=h*S[0].spacing,O=new Map,B=U=>{let K=I;for(let $=1;$<=U;$++)K+=S[$].spacing,(i.mirrored||$!==U)&&(K+=T[$]*S[$].lineHeight);return K};o.forEach((U,K)=>{var Y;if(K===0)return;const $=D(U,K),X=!U.children.length,_=a-U.depth;if(U.parent){const J=X?U.x:U.x-(U.leafCount-1)/2;if(!O.has(J)){const q=(Y=this.depthOptions[_])==null?void 0:Y.tick;let nt=I;for(let st=0;st<=_;st++)nt+=S[st].spacing,st!==0&&(nt+=T[st]*S[st].lineHeight);O.set(J,{tickSize:nt,tickStroke:q==null?void 0:q.stroke,tickWidth:(q==null?void 0:q.enabled)!==!1?q==null?void 0:q.width:0})}}if(!$)return;if(y.x=E,y.y=0,X){const{width:J}=f.get(K),q=EV(v);y.rotation=v,y.textAlign="end",y.textBaseline="middle",y.rotationCenterX=E-J/2,y.translationX=(S[_].spacing-J)/2*q*h,i.mirrored&&(y.translationX+=J)}else y.rotation=c?m:-Math.PI/2,y.rotationCenterX=E,y.translationX=h*B(_);if(S[_].avoidCollisions){const J=X?t:U.leafCount*t;if(y.getBBox().height>J){f.delete(K);return}}const{text:V=""}=y;p.push({text:V,visible:!0,range:this.scale.range,tickId:k(V),fill:y.fill,fontFamily:y.fontFamily,fontSize:y.fontSize,fontStyle:y.fontStyle,fontWeight:y.fontWeight,rotation:y.rotation,rotationCenterX:y.rotationCenterX,textAlign:y.textAlign,textBaseline:y.textBaseline,translationX:y.translationX,translationY:y.translationY,x:y.x,y:y.y}),f.set(K,Di.toCanvas(y))});const{enabled:R,stroke:L,width:F}=this.line;this.lineNode.datum={x:0,y1:n[0],y2:n[1]},this.lineNode.setProperties({stroke:L,strokeWidth:R?F:0});const j=[...O.values()];j.push(j[0]);const G=[this.lineNode.getBBox(),new Et(0,0,j[0].tickSize*h,0)];e.enabled&&(this.updateTitle(!1,j[0].tickSize),G.push(e.caption.node.getBBox()));const W=Et.merge(Md(f.values(),G));return{bbox:this.getTransformBox(W),separatorLayout:j,tickLabelLayout:p}}update(){if(!this.computedLayout)return;const{tickScale:t,gridLine:e,gridLength:i}=this,{separatorLayout:n}=this.computedLayout,s=t.ticks({nice:!1,interval:void 0,tickCount:void 0,minTickCount:0,maxTickCount:1/0}).map((a,o)=>({...n[o],tick:a,tickId:Ki(a,o),tickLabel:a.filter(Boolean).join(" - "),translationY:Math.round(t.convert(a))}));this.gridLineGroupSelection.update(e.enabled&&i?s:[]),this.tickLineGroupSelection.update(this.tick.enabled?s:[]),this.updatePosition(),this.updateCategoryLabels(),this.updateAxisLine(),this.updateGridLines(),this.updateTickLines(),this.updateTitle(),this.resetSelectionNodes()}calculateLayout(){const{separatorLayout:t,tickLabelLayout:e,bbox:i}=this.computeLayout();return this.computedLayout={separatorLayout:t,tickLabelLayout:e},{bbox:i,primaryTickCount:void 0,niceDomain:this.scale.domain}}onGridVisibilityChange(){this.gridLineGroupSelection.clear(),this.tickLabelGroupSelection.clear()}updateScale(){super.updateScale(),this.tickScale.range=this.scale.range,this.scale.paddingOuter=this.scale.paddingInner/2}processData(){const{direction:t}=this,e=this.boundSeries.filter(s=>s.visible).flatMap(s=>s.getDomain(t));this.dataDomain={domain:Nc(e)??this.filterDuplicateArrays(e),clipped:!1},this.isReversed()&&this.dataDomain.domain.reverse();const i=this.dataDomain.domain.map(s=>YS(Gn(s)&&"value"in s?s.value:s));this.tickTreeLayout=vrt(i);const n=[];for(const s of this.tickTreeLayout.nodes)s.leafCount||s.refId==null||n.push(this.dataDomain.domain[s.refId]);return this.scale.domain=oet(this.dataDomain.domain,n),this.tickScale.domain=i.concat([[""]]),{animatable:!0}}updateGridLines(){if(!this.gridLength)return;const{width:t,style:e}=this.gridLine,i=this.gridLength*-this.label.getSideFlag();this.gridLineGroupSelection.each((n,s,a)=>{const{stroke:o,lineDash:r}=e[a%e.length],l=s.translationY;n.visible=this.inRange(l),n.x1=0,n.x2=i,n.y=l,n.stroke=o,n.strokeWidth=t,n.lineDash=r})}filterDuplicateArrays(t){const e=new Set;return t.filter(i=>{const n=Je(i)?JSON.stringify(i):i;return e.has(n)?!1:(e.add(n),!0)})}};mg.className="GroupedCategoryAxis";mg.type="grouped-category";N([w(QL)],mg.prototype,"depthOptions",2);var FH=Pe(t=>No(t)&&t!==0,"a non-zero number"),Xd=class extends rh{constructor(t){super(t,new FN),this.min=NaN,this.max=NaN}normaliseDataDomain(t){const{min:e,max:i}=this,{extent:n,clipped:s}=GN(t,e,i);return n[0]<0&&n[1]>0||t[0]<0&&t[1]>0?(It.warn("The log axis domain crosses zero, the chart data cannot be rendered. See log axis documentation for more information."),{domain:[],clipped:s}):n[0]===0||n[1]===0||t[0]===0||t[1]===0?(It.warn("The log axis domain contains a value of 0, the chart data cannot be rendered. See log axis documentation for more information."),{domain:[],clipped:s}):{domain:n,clipped:s}}set base(t){this.scale.base=t}get base(){return this.scale.base}defaultDatumFormatter(t,e){return String(t)}defaultLabelFormatter(t,e){return String(t)}};Xd.className="LogAxis";Xd.type="log";N([w(dl(rg,FH,qx("max"))),sh(NaN)],Xd.prototype,"min",2);N([w(dl(rg,FH,Qx("min"))),sh(NaN)],Xd.prototype,"max",2);var Em=(t,{x0:e,y0:i,x1:n,y1:s,cx:a,cy:o},r,l)=>{if(l&&t.moveTo(e,i),e!==n||i!==s){const c=Math.atan2(i-o,e-a),h=Math.atan2(s-o,n-a);t.arc(a,o,r,c,h)}else t.lineTo(e,i)},D_=1e-6,Av=(t,e,i,n,s)=>{let a=!1,o=!1,r=n-Math.sqrt(Math.max(s**2-i**2,0)),l=0,c=0,h=i-Math.sqrt(Math.max(s**2-n**2,0));return r>t?(a=!0,r=t,l=i-Math.sqrt(Math.max(s**2-(n-t)**2))):r<D_&&(r=0),h>e?(o=!0,c=n-Math.sqrt(Math.max(s**2-(i-e)**2)),h=e):h<D_&&(h=0),{leading0:r,leading1:l,trailing0:c,trailing1:h,leadingClipped:a,trailingClipped:o}},OS=(t,e,i,n,s,a,o)=>{let{topLeft:r,topRight:l,bottomRight:c,bottomLeft:h}=a;const p=Math.max(r+h,l+c),f=Math.max(r+l,h+c);if(p<=0&&f<=0){o==null?t.rect(e,i,n,s):t.rect(o.x,o.y,o.width,o.height);return}else if(o==null&&r===l&&r===c&&r===h){t.roundRect(e,i,n,s,r);return}if(n<0&&(e+=n,n=Math.abs(n)),s<0&&(i+=s,s=Math.abs(s)),n<=0||s<=0)return;if(o==null)o=new Et(e,i,n,s);else{const O=Math.max(e,o.x),B=Math.min(e+n,o.x+o.width),R=Math.max(i,o.y),L=Math.min(i+s,o.y+o.height);o=new Et(O,R,B-O,L-R)}const y=Math.max(p/s,f/n,1);y>1&&(r/=y,l/=y,c/=y,h/=y);let m=!0,b=!0,v=!0,S=!0,D,I,T,k;if(m){const O=Av(o.height,o.width,Math.max(e+r-o.x,0),Math.max(i+r-o.y,0),r);O.leadingClipped&&(S=!1),O.trailingClipped&&(b=!1);const B=Math.max(o.x+O.leading1,o.x),R=Math.max(o.y+O.leading0,o.y),L=Math.max(o.x+O.trailing1,o.x),F=Math.max(o.y+O.trailing0,o.y),j=e+r,G=i+r;D={x0:B,y0:R,x1:L,y1:F,cx:j,cy:G}}if(b){const O=Av(o.width,o.height,Math.max(i+l-o.y,0),Math.max(o.x+o.width-(e+n-l),0),l);O.leadingClipped&&(m=!1),O.trailingClipped&&(v=!1);const B=Math.min(o.x+o.width-O.leading0,o.x+o.width),R=Math.max(o.y+O.leading1,o.y),L=Math.min(o.x+o.width-O.trailing0,o.x+o.width),F=Math.max(o.y+O.trailing1,o.y),j=e+n-l,G=i+l;I={x0:B,y0:R,x1:L,y1:F,cx:j,cy:G}}if(v){const O=Av(o.height,o.width,Math.max(o.x+o.width-(e+n-c),0),Math.max(o.y+o.height-(i+s-c),0),c);O.leadingClipped&&(b=!1),O.trailingClipped&&(S=!1);const B=Math.min(o.x+o.width-O.leading1,o.x+o.width),R=Math.min(o.y+o.height-O.leading0,o.y+o.height),L=Math.min(o.x+o.width-O.trailing1,o.x+o.width),F=Math.min(o.y+o.height-O.trailing0,o.y+o.height),j=e+n-c,G=i+s-c;T={x0:B,y0:R,x1:L,y1:F,cx:j,cy:G}}if(S){const O=Av(o.width,o.height,Math.max(o.y+o.height-(i+s-h),0),Math.max(e+h-o.x,0),h);O.leadingClipped&&(v=!1),O.trailingClipped&&(m=!1);const B=Math.max(o.x+O.leading0,o.x),R=Math.min(o.y+o.height-O.leading1,o.y+o.height),L=Math.max(o.x+O.trailing0,o.x),F=Math.min(o.y+o.height-O.trailing1,o.y+o.height),j=e+h,G=i+s-h;k={x0:B,y0:R,x1:L,y1:F,cx:j,cy:G}}let E=!1;m&&D!=null&&(Em(t,D,r,!E),E||(E=!0)),b&&I!=null&&(Em(t,I,l,!E),E||(E=!0)),v&&T!=null&&(Em(t,T,c,!E),E||(E=!0)),S&&k!=null&&Em(t,k,h,!E),t.closePath()},Es=class extends ia{constructor(){super(...arguments),this.borderPath=new hx,this.x=0,this.y=0,this.width=10,this.height=10,this.topLeftCornerRadius=0,this.topRightCornerRadius=0,this.bottomRightCornerRadius=0,this.bottomLeftCornerRadius=0,this.clipBBox=void 0,this.crisp=!1,this.lastUpdatePathStrokeWidth=_o.defaultStyles.strokeWidth,this.effectiveStrokeWidth=_o.defaultStyles.strokeWidth,this.hittester=super.isPointInPath.bind(this),this.distanceCalculator=super.distanceSquaredTransformedPoint.bind(this),this.microPixelEffectOpacity=1}set cornerRadius(e){this.topLeftCornerRadius=e,this.topRightCornerRadius=e,this.bottomRightCornerRadius=e,this.bottomLeftCornerRadius=e}isDirtyPath(){return this.lastUpdatePathStrokeWidth!==this.strokeWidth||!!(this.path.isDirty()||this.borderPath.isDirty())}updatePath(){var S;const{path:e,borderPath:i,crisp:n,topLeftCornerRadius:s,topRightCornerRadius:a,bottomRightCornerRadius:o,bottomLeftCornerRadius:r}=this;let{x:l,y:c,width:h,height:p,strokeWidth:f,clipBBox:y}=this;const b=1/(((S=this.layerManager)==null?void 0:S.canvas.pixelRatio)??1);let v=1;if(e.clear(!0),i.clear(!0),n&&(h<=b&&(v*=h/b),p<=b&&(v*=p/b),h=this.align(l,h),p=this.align(c,p),l=this.align(l),c=this.align(c),y=y!=null?new Et(this.align(y.x),this.align(y.y),this.align(y.x,y.width),this.align(y.y,y.height)):void 0),f)if(h<b){const D=l+b/2;i.moveTo(D,c),i.lineTo(D,c+p),f=b,this.borderClipPath=void 0}else if(p<b){const D=c+b/2;i.moveTo(l,D),i.lineTo(l+h,D),f=b,this.borderClipPath=void 0}else if(f<h&&f<p){const D=f/2;l+=D,c+=D,h-=f,p-=f;const I=y==null?void 0:y.clone().shrink(D),T={topLeft:s>0?s-f:0,topRight:a>0?a-f:0,bottomRight:o>0?o-f:0,bottomLeft:r>0?r-f:0};this.borderClipPath=void 0,h>0&&p>0&&(I==null||(I==null?void 0:I.width)>0&&(I==null?void 0:I.height)>0)&&(OS(e,l,c,h,p,T,I),OS(i,l,c,h,p,T,I))}else this.borderClipPath=this.borderClipPath??new hx,this.borderClipPath.clear(!0),this.borderClipPath.rect(l,c,h,p),i.rect(l,c,h,p);else{const D={topLeft:s,topRight:a,bottomRight:o,bottomLeft:r};this.borderClipPath=void 0,OS(e,l,c,h,p,D,y)}if([s,a,o,r].every(D=>D===0)){const D=this.getBBox();this.hittester=D.containsPoint.bind(D),this.distanceSquared=(I,T)=>this.getBBox().distanceSquared(I,T)}else this.hittester=super.isPointInPath,this.distanceCalculator=super.distanceSquaredTransformedPoint;this.effectiveStrokeWidth=f,this.lastUpdatePathStrokeWidth=f,this.microPixelEffectOpacity=v}computeBBox(){const{x:e,y:i,width:n,height:s,clipBBox:a}=this;return(a==null?void 0:a.clone())??new Et(e,i,n,s)}isPointInPath(e,i){return this.hittester(e,i)}get midPoint(){return{x:this.x+this.width/2,y:this.y+this.height/2}}distanceSquared(e,i){return this.distanceCalculator(e,i)}applyFillAlpha(e){const{fillOpacity:i,microPixelEffectOpacity:n,opacity:s}=this;e.globalAlpha*=s*i*n}renderStroke(e){const{stroke:i,effectiveStrokeWidth:n}=this;if(i&&n){const{globalAlpha:s}=e,{strokeOpacity:a,lineDash:o,lineDashOffset:r,lineCap:l,lineJoin:c,borderPath:h,borderClipPath:p,opacity:f,microPixelEffectOpacity:y}=this;p&&e.clip(p.getPath2D()),this.applyStroke(e),e.globalAlpha*=f*a*y,e.lineWidth=n,o&&e.setLineDash(o),r&&(e.lineDashOffset=r),l&&(e.lineCap=l),c&&(e.lineJoin=c),e.stroke(h.getPath2D()),e.globalAlpha=s}}};Es.className="Rect";N([$t()],Es.prototype,"x",2);N([$t()],Es.prototype,"y",2);N([$t()],Es.prototype,"width",2);N([$t()],Es.prototype,"height",2);N([$t()],Es.prototype,"topLeftCornerRadius",2);N([$t()],Es.prototype,"topRightCornerRadius",2);N([$t()],Es.prototype,"bottomRightCornerRadius",2);N([$t()],Es.prototype,"bottomLeftCornerRadius",2);N([$t()],Es.prototype,"clipBBox",2);N([$t()],Es.prototype,"crisp",2);var xg=class extends pA{constructor(e){super(),this.ctx=e,this.rectNode=new Es,this.textNode=new Cn,this.fill="white",this.node=this.createNode(),this.node.append([this.rectNode,this.textNode]),this.visible=!0,this.destroyFns.push(e.scene.attachNode(this.node),e.layoutManager.addListener("layout:complete",i=>this.onLayoutComplete(i)))}createNode(){return new Wt({name:"background",zIndex:0})}onLayoutComplete(e){const{width:i,height:n}=e.chart;this.rectNode.width=i,this.rectNode.height=n}};N([w(jt),Hn("node","visible")],xg.prototype,"visible",2);N([w(Ae,{optional:!0}),Hn("rectNode","fill")],xg.prototype,"fill",2);N([w(kt,{optional:!0})],xg.prototype,"image",2);N([w(Dt,{optional:!0}),Hn("textNode")],xg.prototype,"text",2);var GH={type:"root",optionsKey:"background",packageType:"community",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],moduleFactory:t=>new xg(t)};function Mrt({orientation:t,bboxes:e,maxHeight:i,maxWidth:n,itemPaddingY:s=0,itemPaddingX:a=0,forceResult:o=!1}){const r=t==="horizontal",l={max:r?n:i,fn:r?f=>f.width:f=>f.height,padding:r?a:s},c={max:r?i:n,fn:r?f=>f.height:f=>f.width,padding:r?s:a};let h=0;const p=[];for(;h<e.length;){const f=e.slice(h),y=Art(f,h,l,c,o);if(!y)return;h+=y.processedBBoxCount,p.push(y.pageIndices)}return Irt(p,t,e,s,a)}function Art(t,e,i,n,s){let o=Crt(t,i);if(o<1){if(!s)return;o=1}let r=o;for(;r>=1;){const l=Drt(t,e,r,i,n,s);if(l==null&&r<=1)return;if(l==null){r--;continue}if(typeof l=="number"){if(l<=1)return;r=l<r&&l>1?l:r,r--;continue}return{processedBBoxCount:l.length*l[0].length,pageIndices:l}}}function Drt(t,e,i,n,s,a){const o=[];let r=0,l=0,c=[];const h=[];for(let p=0;p<t.length;p++){const f=(p+i)%i;f===0&&(r+=l,l=0,c.length>0&&o.push(c),c=[]);const y=n.fn(t[p])+n.padding;h[f]=Math.max(h[f]??0,y),l=Math.max(l,s.fn(t[p])+s.padding);const m=r+l,b=!a||o.length>0;if(m>s.max&&b){c=[];break}if(h.reduce((S,D)=>S+D,0)>n.max&&!a)return h.length<i?h.length:void 0;c.push(p+e)}return c.length>0&&o.push(c),o.length>0?o:void 0}function Irt(t,e,i,n,s){let a=0,o=0;return{pages:t.map(l=>{e==="horizontal"&&(l=Trt(l));let c=0;const h=l.map(y=>{const m=y.map(S=>(c=Math.max(S,c),i[S]));let b=0,v=0;return m.forEach(S=>{b+=S.height+n,v=Math.max(v,S.width+s)}),{indices:y,bboxes:m,columnHeight:Math.ceil(b),columnWidth:Math.ceil(v)}});let p=0,f=0;return h.forEach(y=>{p+=y.columnWidth,f=Math.max(f,y.columnHeight)}),a=Math.max(p,a),o=Math.max(f,o),{columns:h,startIndex:l[0][0],endIndex:c,pageWidth:p,pageHeight:f}}),maxPageWidth:a,maxPageHeight:o}}function Trt(t){const e=[];for(const i of t[0])e.push([]);return t.forEach((i,n)=>{i.forEach((s,a)=>{e[a][n]=s})}),e}function Crt(t,e){const i=t.length;let n=0;for(let s=0;s<i;s++)if(n+=e.fn(t[s])+e.padding,n>e.max)return i/s<2?Math.ceil(i/2):s;return i}var bg=class extends Zt{constructor(){super(...arguments),this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}};N([w(Ae)],bg.prototype,"color",2);N([w(Dc,{optional:!0})],bg.prototype,"fontStyle",2);N([w(Ic,{optional:!0})],bg.prototype,"fontWeight",2);N([w(Tt)],bg.prototype,"fontSize",2);N([w(Dt)],bg.prototype,"fontFamily",2);var gc=class extends Zt{constructor(){super(...arguments),this.size=15,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=1,this.strokeOpacity=1}};N([w(Tt)],gc.prototype,"size",2);N([w(Ae,{optional:!0})],gc.prototype,"fill",2);N([w(Le,{optional:!0})],gc.prototype,"fillOpacity",2);N([w(Ae,{optional:!0})],gc.prototype,"stroke",2);N([w(Tt)],gc.prototype,"strokeWidth",2);N([w(Le)],gc.prototype,"strokeOpacity",2);var kA=class extends Zt{constructor(t){super(),this.parent=t,this.shape="triangle",this.size=15,this.padding=8}};N([Sa({changeValue(){this.parent.marker===this&&this.parent.onMarkerShapeChange()}})],kA.prototype,"shape",2);N([w(Tt)],kA.prototype,"size",2);N([w(Tt)],kA.prototype,"padding",2);var Zd=class extends Zt{constructor(t,e){super(),this.chartUpdateCallback=t,this.pageUpdateCallback=e,this.id=Vo(this),this.marker=new kA(this),this.activeStyle=new gc,this.inactiveStyle=new gc,this.highlightStyle=new gc,this.label=new bg,this.group=new Js({name:"pagination"}),this.labelNode=new Cn,this.totalPages=0,this.currentPage=0,this.translationX=0,this.translationY=0,this.nextButtonDisabled=!1,this.previousButtonDisabled=!1,this._visible=!0,this._enabled=!0,this._orientation="vertical",this.nextButton=new kn,this.previousButton=new kn,this.labelNode.setProperties({textBaseline:"middle",fontSize:12,fontFamily:"Verdana, sans-serif",fill:"black",y:1}),this.group.append([this.nextButton,this.previousButton,this.labelNode]),this.update(),this.updateMarkers()}set visible(t){this._visible=t,this.updateGroupVisibility()}get visible(){return this._visible}set enabled(t){this._enabled=t,this.updateGroupVisibility()}get enabled(){return this._enabled}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible}set orientation(t){switch(this._orientation=t,t){case"horizontal":{this.previousButton.rotation=-Math.PI/2,this.nextButton.rotation=Math.PI/2;break}case"vertical":default:this.previousButton.rotation=0,this.nextButton.rotation=Math.PI}}get orientation(){return this._orientation}update(){this.updateLabel(),this.updatePositions(),this.enableOrDisableButtons()}updatePositions(){this.group.translationX=this.translationX,this.group.translationY=this.translationY,this.updateLabelPosition(),this.updateNextButtonPosition()}updateLabelPosition(){const{size:t,padding:e}=this.marker;this.nextButton.size=t,this.previousButton.size=t,this.labelNode.x=t/2+e}updateNextButtonPosition(){const t=this.labelNode.getBBox();this.nextButton.translationX=t.width+(this.marker.size/2+this.marker.padding)*2}updateLabel(){const{currentPage:t,totalPages:e,labelNode:i,label:{color:n,fontStyle:s,fontWeight:a,fontSize:o,fontFamily:r}}=this;i.text=`${t+1} / ${e}`,i.fill=n,i.fontStyle=s,i.fontWeight=a,i.fontSize=o,i.fontFamily=r}updateMarkers(){const{nextButton:t,previousButton:e,nextButtonDisabled:i,previousButtonDisabled:n,activeStyle:s,inactiveStyle:a,highlightStyle:o,highlightActive:r}=this,l=(c,h)=>h?a:c===r?o:s;this.updateMarker(t,l("next",i)),this.updateMarker(e,l("previous",n))}updateMarker(t,e){const{shape:i,size:n}=this.marker;t.shape=i,t.size=n,t.fill=e.fill,t.fillOpacity=e.fillOpacity??1,t.stroke=e.stroke,t.strokeWidth=e.strokeWidth,t.strokeOpacity=e.strokeOpacity}enableOrDisableButtons(){const{currentPage:t,totalPages:e}=this,i=e===0,n=t===e-1,s=t===0;this.nextButtonDisabled=n||i,this.previousButtonDisabled=s||i}setPage(t){t=qt(0,t,Math.max(0,this.totalPages-1)),this.currentPage!==t&&(this.currentPage=t,this.onPaginationChanged())}getCursor(t){return{previous:this.previousButtonDisabled,next:this.nextButtonDisabled}[t]?void 0:"pointer"}onClick(t,e){t.preventDefault(),e==="next"&&!this.nextButtonDisabled?(this.incrementPage(),this.onPaginationChanged()):e==="previous"&&!this.previousButtonDisabled&&(this.decrementPage(),this.onPaginationChanged())}onMouseHover(t){this.highlightActive=t,this.updateMarkers(),this.chartUpdateCallback(6)}onPaginationChanged(){this.pageUpdateCallback(this.currentPage)}incrementPage(){this.currentPage=Math.min(this.currentPage+1,this.totalPages-1)}decrementPage(){this.currentPage=Math.max(this.currentPage-1,0)}onMarkerShapeChange(){this.updatePositions(),this.updateMarkers(),this.chartUpdateCallback(6)}attachPagination(t){t.append(this.group)}getBBox(){return this.group.getBBox()}computeCSSBounds(){const t=Di.toCanvas(this.previousButton),e=Di.toCanvas(this.nextButton);return{prev:t,next:e}}};Zd.className="Pagination";N([w(kt)],Zd.prototype,"marker",2);N([w(kt)],Zd.prototype,"activeStyle",2);N([w(kt)],Zd.prototype,"inactiveStyle",2);N([w(kt)],Zd.prototype,"highlightStyle",2);N([w(kt)],Zd.prototype,"label",2);var KN=class extends Zt{constructor(){super(...arguments),this._dirty=!0}markDirty(){this._dirty=!0}markClean(t){this._dirty=!1}isDirty(){return this._dirty}},krt=new Set(["circle","cross","diamond","heart","pin","plus","square","star","triangle"]);function Lrt(t){return typeof t=="string"&&krt.has(t)}var XN=Pe(t=>Lrt(t)||typeof t=="function","a marker shape keyword such as 'circle', 'diamond' or 'square' or an object extending the Marker class"),Os=class extends KN{constructor(){super(...arguments),this.enabled=!0,this.shape="circle",this.size=6,this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0}getStyle(){const{size:e,shape:i,fill:n,fillOpacity:s,stroke:a,strokeWidth:o,strokeOpacity:r,lineDash:l,lineDashOffset:c}=this;return{size:e,shape:i,fill:n,fillOpacity:s,stroke:a,strokeWidth:o,strokeOpacity:r,lineDash:l,lineDashOffset:c}}getDiameter(){return this.size+this.strokeWidth}};N([w(jt),Lt()],Os.prototype,"enabled",2);N([w(XN),Lt()],Os.prototype,"shape",2);N([w(Tt),Lt()],Os.prototype,"size",2);N([w(Ae,{optional:!0}),Lt()],Os.prototype,"fill",2);N([w(Le),Lt()],Os.prototype,"fillOpacity",2);N([w(Ae,{optional:!0}),Lt()],Os.prototype,"stroke",2);N([w(Tt),Lt()],Os.prototype,"strokeWidth",2);N([w(Le),Lt()],Os.prototype,"strokeOpacity",2);N([w(pl)],Os.prototype,"lineDash",2);N([w(Tt)],Os.prototype,"lineDashOffset",2);N([w(ta,{optional:!0}),Lt()],Os.prototype,"itemStyler",2);function px(t,e,i){t.fill=(i==null?void 0:i.fill)??e.fill,t.fillOpacity=(i==null?void 0:i.fillOpacity)??e.fillOpacity??1,t.stroke=(i==null?void 0:i.stroke)??e.stroke,t.strokeOpacity=(i==null?void 0:i.strokeOpacity)??e.strokeOpacity??1,t.strokeWidth=(i==null?void 0:i.strokeWidth)??e.strokeWidth??0,t.lineDash=(i==null?void 0:i.lineDash)??e.lineDash,t.lineDashOffset=(i==null?void 0:i.lineDashOffset)??e.lineDashOffset??0}var Nrt=class{constructor(t,e){this.idPrefix=e,this.dirty=!0,this.destroyFns=new TU,this.itemList=t.proxyInteractionService.createProxyContainer({type:"list",domManagerId:`${e}-toolbar`,classList:["ag-charts-proxy-legend-toolbar"],ariaLabel:{id:"ariaLabelLegend"}}),this.paginationGroup=t.proxyInteractionService.createProxyContainer({type:"group",domManagerId:`${e}-pagination`,classList:["ag-charts-proxy-legend-pagination"],ariaLabel:{id:"ariaLabelLegendPagination"},ariaOrientation:"horizontal"}),this.itemDescription=ae("p"),this.itemDescription.style.display="none",this.itemDescription.id=`${e}-ariaDescription`,this.itemDescription.textContent=this.getItemAriaDescription(t.localeManager),this.itemList.getElement().append(this.itemDescription)}destroy(){this.destroyFns.destroy()}initLegendList(t){if(!this.dirty)return;const{ctx:e,itemSelection:i,datumReader:n,itemListener:s}=t,a=e.localeManager,o=i.length;i.each((r,l,c)=>{var p;(p=r.proxyButton)==null||p.destroy(),r.proxyButton=e.proxyInteractionService.createProxyElement({type:"listswitch",textContent:this.getItemAriaText(a,n.getItemLabel(l),c,o),ariaChecked:!!r.datum.enabled,ariaDescribedBy:this.itemDescription.id,parent:this.itemList});const h=r.proxyButton;h.addListener("click",f=>s.onClick(f.sourceEvent,r.datum,h)),h.addListener("dblclick",f=>s.onDoubleClick(f.sourceEvent,r.datum)),h.addListener("mouseenter",f=>s.onHover(f.sourceEvent,r)),h.addListener("mouseleave",()=>s.onLeave()),h.addListener("contextmenu",f=>s.onContextClick(f.sourceEvent,r)),h.addListener("blur",()=>s.onLeave()),h.addListener("focus",f=>s.onHover(f.sourceEvent,r)),h.addListener("drag-start",()=>{})}),this.dirty=!1}update(t){t.visible&&(this.initLegendList(t),this.updateItemProxyButtons(t),this.updatePaginationProxyButtons(t,!0)),this.updateVisibility(t.visible)}updateVisibility(t){this.itemList.setHidden(!t),this.paginationGroup.setHidden(!t)}updateItemProxyButtons({itemSelection:t,group:e,pagination:i,interactive:n}){const s=Di.toCanvas(e);this.itemList.setBounds(s);const a=Math.max(...t.nodes().map(o=>o.getBBox().height));t.each((o,r)=>{if(o.proxyButton){const l=o.pageIndex===i.currentPage,{x:c,y:h,height:p,width:f}=Di.toCanvas(o),y=(a-p)/2,m={x:c-s.x,y:h-y-s.y,height:a,width:f};o.proxyButton.setCursor("pointer"),o.proxyButton.setEnabled(n&&l),o.proxyButton.setBounds(m)}})}updatePaginationProxyButtons(t,e){var a,o,r,l,c,h,p,f;const{pagination:i}=t;if(this.paginationGroup.setHidden(!i.visible),e&&"ctx"in t){const{ctx:y,oldPages:m,newPages:b}=t,v=((m==null?void 0:m.length)??b.length)>1,S=b.length>1;v!==S&&(S?(this.prevButton=y.proxyInteractionService.createProxyElement({type:"button",id:`${this.idPrefix}-prev-page`,textContent:{id:"ariaLabelLegendPagePrevious"},tabIndex:0,parent:this.paginationGroup}),this.prevButton.addListener("click",D=>this.onPageButton(t,D,"previous")),this.prevButton.addListener("mouseenter",()=>i.onMouseHover("previous")),this.prevButton.addListener("mouseleave",()=>i.onMouseHover(void 0)),this.nextButton??(this.nextButton=y.proxyInteractionService.createProxyElement({type:"button",id:`${this.idPrefix}-next-page`,textContent:{id:"ariaLabelLegendPageNext"},tabIndex:0,parent:this.paginationGroup})),this.nextButton.addListener("click",D=>this.onPageButton(t,D,"next")),this.nextButton.addListener("mouseenter",()=>i.onMouseHover("next")),this.nextButton.addListener("mouseleave",()=>i.onMouseHover(void 0))):((a=this.nextButton)==null||a.destroy(),(o=this.prevButton)==null||o.destroy(),this.nextButton=void 0,this.prevButton=void 0))}const{prev:n,next:s}=i.computeCSSBounds();(r=this.prevButton)==null||r.setBounds(n),(l=this.nextButton)==null||l.setBounds(s),(c=this.prevButton)==null||c.setEnabled(i.currentPage!==0),(h=this.nextButton)==null||h.setEnabled(i.currentPage!==i.totalPages-1),(p=this.nextButton)==null||p.setCursor(i.getCursor("next")),(f=this.prevButton)==null||f.setCursor(i.getCursor("previous"))}onPageButton(t,e,i){t.pagination.onClick(e.sourceEvent,i),this.updatePaginationProxyButtons(t,!1)}onDataUpdate(t,e){this.dirty=t.length!==e.length||t.some((i,n,s)=>{const[a,o]=[e[n],t[n]];return a.id!==o.id})}onLocaleChanged(t,e,i){const n=e.length;e.each(({proxyButton:s},a,o)=>{const r=s==null?void 0:s.getElement();if(r!=null){const l=i.getItemLabel(a);r.textContent=this.getItemAriaText(t,l,o,n)}}),this.itemDescription.textContent=this.getItemAriaDescription(t)}onPageChange(t){this.updateItemProxyButtons(t),this.updatePaginationProxyButtons(t,!1)}getItemAriaText(t,e,i,n){return i>=0&&e?(i++,t.t("ariaLabelLegendItem",{label:e,index:i,count:n})):t.t("ariaLabelLegendItemUnknown")}getItemAriaDescription(t){return t.t("ariaDescriptionLegendItem")}};function I_(t,e,i,n){const s={defaultPrevented:!1,apiEvent:{type:t,itemId:e,seriesId:i,event:n,preventDefault:()=>s.defaultPrevented=!0}};return s}var Ho=class extends Ud(Wt){constructor(){super({name:"markerLabelGroup"}),this.symbolsGroup=this.appendChild(new Wt({name:"legend-markerLabel-symbols"})),this.label=this.appendChild(new Cn),this.enabled=!0,this.pageIndex=NaN,this.spacing=0,this.length=0,this.isCustomMarker=!1,this.marker=this.symbolsGroup.appendChild(new kn({zIndex:1})),this.line=this.symbolsGroup.appendChild(new Ya({zIndex:0}));const{label:t,line:e,symbolsGroup:i}=this;e.visible=!1,i.renderToOffscreenCanvas=!0,i.optimizeForInfrequentRedraws=!0,t.textBaseline="middle",t.fontSize=12,t.fontFamily="Verdana, sans-serif",t.fill="black",t.y=1}destroy(){var t;super.destroy(),(t=this.proxyButton)==null||t.destroy()}setEnabled(t){this.enabled=t,this.refreshVisibilities()}refreshVisibilities(){const t=this.enabled?1:.5;this.label.opacity=t,this.opacity=t}layout(){const{marker:t,line:e,length:i,isCustomMarker:n}=this;let s=0,a=0;if(t.visible){const{size:o}=t,r=kn.anchor(t.shape);s=(r.x-.5)*o+i/2,a=(r.y-.5)*o,n?(t.x=0,t.y=0,t.translationX=s,t.translationY=a):(t.x=s,t.y=a,t.translationX=0,t.translationY=0)}e.visible&&(e.x1=0,e.x2=i,e.y1=0,e.y2=0)}preRender(t){const e=super.preRender(t);return this.layout(),e}layoutLabel(){const{length:t,spacing:e}=this;this.label.x=t+e}computeBBox(){return this.layout(),super.computeBBox()}};Ho.className="MarkerLabel";N([Hn("label")],Ho.prototype,"text",2);N([Hn("label")],Ho.prototype,"fontStyle",2);N([Hn("label")],Ho.prototype,"fontWeight",2);N([Hn("label")],Ho.prototype,"fontSize",2);N([Hn("label")],Ho.prototype,"fontFamily",2);N([Hn("label","fill")],Ho.prototype,"color",2);N([nh(t=>t.layoutLabel())],Ho.prototype,"spacing",2);N([nh(t=>t.layoutLabel())],Ho.prototype,"length",2);N([Lt()],Ho.prototype,"isCustomMarker",2);var ch=class extends Zt{constructor(){super(...arguments),this.maxLength=void 0,this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}};N([w(Tt,{optional:!0})],ch.prototype,"maxLength",2);N([w(Ae)],ch.prototype,"color",2);N([w(Dc,{optional:!0})],ch.prototype,"fontStyle",2);N([w(Ic,{optional:!0})],ch.prototype,"fontWeight",2);N([w(Tt)],ch.prototype,"fontSize",2);N([w(Dt)],ch.prototype,"fontFamily",2);N([w(ta,{optional:!0})],ch.prototype,"formatter",2);var vg=class extends Zt{constructor(){super(...arguments),this.shape=void 0,this.size=15,this.padding=8}};N([w(XN,{optional:!0})],vg.prototype,"shape",2);N([w(Tt)],vg.prototype,"size",2);N([w(Tt)],vg.prototype,"padding",2);N([w(Tt,{optional:!0})],vg.prototype,"strokeWidth",2);N([w(jt)],vg.prototype,"enabled",2);var ZN=class extends Zt{};N([w(Tt,{optional:!0})],ZN.prototype,"strokeWidth",2);N([w(Tt,{optional:!0})],ZN.prototype,"length",2);var uh=class extends Zt{constructor(){super(...arguments),this.paddingX=16,this.paddingY=8,this.showSeriesStroke=!1,this.marker=new vg,this.label=new ch,this.line=new ZN}};N([w(Tt,{optional:!0})],uh.prototype,"maxWidth",2);N([w(Tt)],uh.prototype,"paddingX",2);N([w(Tt)],uh.prototype,"paddingY",2);N([w(jt)],uh.prototype,"showSeriesStroke",2);N([w(kt)],uh.prototype,"marker",2);N([w(kt)],uh.prototype,"label",2);N([w(kt)],uh.prototype,"line",2);var qN=class extends Zt{};N([w(ta,{optional:!0})],qN.prototype,"legendItemClick",2);N([w(ta,{optional:!0})],qN.prototype,"legendItemDoubleClick",2);var um="legend-visibility",WC="legend-other-series",Aa=class extends Zt{constructor(t){super(),this.ctx=t,this.id=Vo(this),this.group=new Js({name:"legend",zIndex:14}),this.itemSelection=Yi.select(this.group,Ho),this.oldSize=[0,0],this.pages=[],this.maxPageSize=[0,0],this.paginationTrackingIndex=0,this.truncatedItems=new Set,this._data=[],this.toggleSeries=!0,this.item=new uh,this.listeners=new qN,this.enabled=!0,this.position="bottom",this.spacing=20,this.destroyFns=[],this.size=[0,0],this._visible=!0,this.pagination=new Zd(e=>t.updateService.update(e),e=>this.updatePageNumber(e)),this.pagination.attachPagination(this.group),this.destroyFns.push(t.contextMenuRegistry.registerDefaultAction({id:um,type:"legend",label:"contextMenuToggleSeriesVisibility",action:e=>this.contextToggleVisibility(e)}),t.contextMenuRegistry.registerDefaultAction({id:WC,type:"legend",label:"contextMenuToggleOtherSeries",action:e=>this.contextToggleOtherSeries(e)}),t.legendManager.addListener("legend-change",this.onLegendDataChange.bind(this))),this.destroyFns.push(t.layoutManager.registerElement(1,e=>this.positionLegend(e)),t.localeManager.addListener("locale-changed",()=>this.onLocaleChanged()),()=>this.group.remove()),this.domProxy=new Nrt(this.ctx,this.id),this.ctx.historyManager.addMementoOriginator(t.legendManager)}set data(t){Rd(t,this._data)||(this.domProxy.onDataUpdate(this._data,t),this._data=t,this.updateGroupVisibility())}get data(){return this._data}onLegendDataChange({legendData:t=[]}){this.enabled&&(this.data=t.filter(e=>!e.hideInLegend))}destroy(){this.ctx.domManager.removeChild("canvas-overlay",`${this.id}-toolbar`),this.ctx.domManager.removeChild("canvas-overlay",`${this.id}-pagination`),this.destroyFns.forEach(t=>t()),this.itemSelection.clear(),this.domProxy.destroy()}getOrientation(){if(this.orientation!==void 0)return this.orientation;switch(this.position){case"right":case"left":return"vertical";case"bottom":case"top":return"horizontal"}}set visible(t){this._visible=t,this.updateGroupVisibility()}get visible(){return this._visible}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible&&this.data.length>0}attachLegend(t){t.appendChild(this.group)}getItemLabel(t){const{ctx:{callbackCache:e}}=this,{formatter:i}=this.item.label;if(i){const n=t.datum;return e.call(i,{itemId:t.itemId,value:t.label.text,seriesId:t.seriesId,...n&&{datum:n}})}return t.label.text}calcLayout(t,e){const{paddingX:i,paddingY:n,label:s,maxWidth:a,label:{maxLength:o=1/0,fontStyle:r,fontWeight:l,fontSize:c,fontFamily:h}}=this.item,p=[...this.data];this.reverseOrder&&p.reverse(),this.itemSelection.update(p);const f=[],y=hi.toFontString(s),b=a??t*.8,v=this.calculateMarkerWidth();if(this.itemSelection.each((R,L)=>{R.fontStyle=r,R.fontWeight=l,R.fontSize=c,R.fontFamily=h;const F=this.updateMarkerLabel(R,L,v),j=L.itemId??L.id,W=(this.getItemLabel(L)??"<unknown>").replace(/\r?\n/g," ");R.text=this.truncate(W,o,b,F,y,j),f.push(R.getBBox())}),t=Math.max(1,t),e=Math.max(1,e),!isFinite(t))return{};const S=this.size,D=this.oldSize;S[0]=t,S[1]=e,(S[0]!==D[0]||S[1]!==D[1])&&(D[0]=S[0],D[1]=S[1]);const{pages:I,maxPageHeight:T,maxPageWidth:k}=this.updatePagination(f,t,e),E=this.pages;this.pages=I,this.maxPageSize=[k-i,T-n];const O=this.pagination.currentPage,B=this.pages[O];return this.pages.length<1||!B?(this.visible=!1,{oldPages:E}):(this.visible=!0,this.updatePositions(O),this.update(),{oldPages:E})}isCustomMarker(t,e){return t&&e!==void 0&&typeof e!="string"}calcSymbolsEnabled(t){const{showSeriesStroke:e,marker:i}=this.item,n=!!i.enabled||!e||(t.marker.enabled??!0),s=!!(t.line&&e),a=this.isCustomMarker(n,t.marker.shape);return{markerEnabled:n,lineEnabled:s,isCustomMarker:a}}calcSymbolsLengths(t){const{marker:e,line:i}=this.item,{markerEnabled:n,lineEnabled:s}=this.calcSymbolsEnabled(t),{strokeWidth:a}=this.getMarkerStyles(t),{strokeWidth:o}=s?this.getLineStyles(t):{strokeWidth:0};let r;const{shape:l}=t.marker;if(this.isCustomMarker(n,l)){const p=new kn;p.shape=l,p.updatePath();const f=p.getBBox();r=Math.max(f.width,f.height)}const c=n?e.size:0,h=s?i.length??25:0;return{markerLength:c,markerStrokeWidth:a,lineLength:h,lineStrokeWidth:o,customMarkerSize:r}}calculateMarkerWidth(){let t=0;return this.itemSelection.each((e,i)=>{const{symbol:n}=i,{markerLength:s,lineLength:a,customMarkerSize:o=-1/0}=this.calcSymbolsLengths(n);t=Math.max(t,a,o,s)}),t}updateMarkerLabel(t,e,i){const{marker:n,paddingX:s}=this.item,{symbol:a}=e;let o=s;const{markerEnabled:r,lineEnabled:l,isCustomMarker:c}=this.calcSymbolsEnabled(a),h=n.padding;(r||l)&&(o+=h+i);const{marker:p,line:f}=t;return p.visible=r,p.visible&&(p.shape=n.shape??a.marker.shape??"square",p.size=n.size,px(p,this.getMarkerStyles(a))),f.visible=l,f.visible&&px(f,this.getLineStyles(a)),t.length=i,t.spacing=h,t.isCustomMarker=c,o}truncate(t,e,i,n,s,a){let o=!1;t.length>e&&(t=t.substring(0,e),o=!0);const r=Tc.getMeasurer({font:s}),l=cN.truncateLine(t,r,i-n,o);return l.endsWith(hi.EllipsisChar)?this.truncatedItems.add(a):this.truncatedItems.delete(a),l}updatePagination(t,e,i){const n=this.getOrientation(),s=Math.min(this.paginationTrackingIndex,t.length);this.pagination.orientation=n,this.pagination.translationX=0,this.pagination.translationY=0;const{pages:a,maxPageHeight:o,maxPageWidth:r,paginationBBox:l,paginationVertical:c}=this.calculatePagination(t,e,i),h=a.findIndex(I=>I.endIndex>=s);this.pagination.currentPage=qt(0,h,a.length-1);const{paddingX:p,paddingY:f}=this.item,y=8,m=r-p,b=o-f;let v=0,S=-l.y-this.item.marker.size/2;c?S+=b+y:(v+=-l.x+m+y,S+=(b-l.height)/2),this.pagination.translationX=v,this.pagination.translationY=S,this.pagination.update(),this.pagination.updateMarkers();let D=0;return this.itemSelection.each((I,T,k)=>{var E;k>(((E=a[D])==null?void 0:E.endIndex)??1/0)&&D++,I.pageIndex=D}),{maxPageHeight:o,maxPageWidth:r,pages:a}}calculatePagination(t,e,i){const{paddingX:n,paddingY:s}=this.item,a=this.getOrientation(),o=["left","right"].includes(this.position);let r=this.pagination.getBBox(),l=new Et(0,0,0,0),c=[],h=0,p=0,f=0;const y=b=>b.width===r.width&&b.height===r.height,m=this.maxWidth!==void 0&&this.maxHeight!==void 0;do{if(f++>10){It.warn("unable to find stable legend layout.");break}r=l;const b=e-(o?0:r.width),v=i-(o?r.height:0),S=Mrt({orientation:a,bboxes:t,maxHeight:v,maxWidth:b,itemPaddingY:s,itemPaddingX:n,forceResult:m});c=(S==null?void 0:S.pages)??[],h=(S==null?void 0:S.maxPageWidth)??0,p=(S==null?void 0:S.maxPageHeight)??0;const D=c.length;if(this.pagination.visible=D>1,this.pagination.totalPages=D,this.pagination.update(),this.pagination.updateMarkers(),l=this.pagination.getBBox(),!this.pagination.visible)break}while(!y(l));return{maxPageWidth:h,maxPageHeight:p,pages:c,paginationBBox:l,paginationVertical:o}}updatePositions(t=0){const{item:{paddingY:e},itemSelection:i,pages:n}=this;if(n.length<1||!n[t])return;const{columns:s,startIndex:a,endIndex:o}=n[t];let r=0,l=0;const c=s.length,h=s[0].indices.length,p=this.getOrientation()==="horizontal",f=s[0].bboxes[0].height+e,y=[];i.each((m,b,v)=>{if(v<a||v>o){m.visible=!1;return}const S=v-a;let D,I;p?(D=S%c,I=Math.floor(S/c)):(D=Math.floor(S/h),I=S%h),m.visible=!0;const T=s[D];T&&(l=Math.floor(f*I),r=Math.floor(y[I]??0),y[I]=(y[I]??0)+T.columnWidth,m.translationX=r,m.translationY=l)})}updatePageNumber(t){const{itemSelection:e,group:i,pagination:n,pages:s,toggleSeries:a}=this,{startIndex:o,endIndex:r}=s[t];o===0?this.paginationTrackingIndex=0:t===s.length-1?this.paginationTrackingIndex=r:this.paginationTrackingIndex=Math.floor((o+r)/2),this.pagination.update(),this.pagination.updateMarkers(),this.updatePositions(t),this.domProxy.onPageChange({itemSelection:e,group:i,pagination:n,interactive:a}),this.ctx.updateService.update(6)}update(){const{label:{color:t}}=this.item;this.itemSelection.each((e,i)=>{e.setEnabled(i.enabled),e.color=t}),this.updateContextMenu()}updateContextMenu(){const{toggleSeries:t,ctx:{contextMenuRegistry:e}}=this;t?(e.hideAction(um),e.hideAction(WC)):(e.showAction(um),e.showAction(WC))}getLineStyles(t){const{stroke:e,strokeOpacity:i=1,strokeWidth:n,lineDash:s}=t.line??{},a=Math.min(2,n??1);return{stroke:e,strokeOpacity:i,strokeWidth:this.item.line.strokeWidth??a,lineDash:s}}getMarkerStyles(t){const{fill:e,stroke:i,strokeOpacity:n=1,fillOpacity:s=1,strokeWidth:a,lineDash:o,lineDashOffset:r}=t.marker,l=Math.min(2,a??1);return{fill:e,stroke:i,strokeOpacity:n,fillOpacity:s,strokeWidth:this.item.marker.strokeWidth??l,lineDash:o,lineDashOffset:r}}computePagedBBox(){const t=Wt.computeChildrenBBox(this.group.children());if(this.pages.length>1){const[e,i]=this.maxPageSize;t.height=Math.max(i,t.height),t.width=Math.max(e,t.width)}return t}findNode(t){const{datum:e,proxyButton:i}=this.itemSelection.select(n=>{var s;return((s=n.datum)==null?void 0:s.itemId)===t.itemId})[0]??{};if(e===void 0||i===void 0)throw new Error(`AG Charts - Missing required properties { datum: ${e}, proxyButton: ${JSON.stringify(i)} }`);return{datum:e,proxyButton:i}}contextToggleVisibility(t){const{datum:e,proxyButton:i}=this.findNode(t);this.doClick(t.event,e,i)}contextToggleOtherSeries(t){this.doDoubleClick(t.event,this.findNode(t).datum)}onContextClick(t,e){var r;const i=e.datum;this.preventHidingAll&&((r=this.contextMenuDatum)!=null&&r.enabled)&&this.getVisibleItemCount()<=1?this.ctx.contextMenuRegistry.disableAction(um):this.ctx.contextMenuRegistry.enableAction(um);const{offsetX:n,offsetY:s}=t,{x:a,y:o}=Di.toCanvasPoint(e,n,s);this.ctx.contextMenuRegistry.dispatchContext("legend",{sourceEvent:t,canvasX:a,canvasY:o},{legendItem:i})}onClick(t,e,i){this.doClick(t,e,i)&&t.preventDefault()}getVisibleItemCount(){return this.ctx.chartService.series.flatMap(t=>t.getLegendData("category")).filter(t=>t.enabled).length}doClick(t,e,i){const{listeners:{legendItemClick:n},ctx:{chartService:s,highlightManager:a},preventHidingAll:o,toggleSeries:r}=this;if(!e)return!1;const{legendType:l,seriesId:c,itemId:h,enabled:p}=e,f=s.series.find(b=>b.id===c);if(!f)return!1;let y=p;const m=I_("click",h,f.id,t);return n==null||n(m.apiEvent),m.defaultPrevented||(r&&(y=!p,o&&!y&&this.getVisibleItemCount()<2&&(y=!0),i.setChecked(y),this.ctx.chartEventManager.legendItemClick(l,f,h,y,e.legendItemName)),y?a.updateHighlight(this.id,{series:f,itemId:h,datum:void 0,datumIndex:void 0}):a.updateHighlight(this.id),this.ctx.legendManager.update(),this.ctx.updateService.update(2,{forceNodeDataRefresh:!0,skipAnimations:e.skipAnimations??!1})),!0}onDoubleClick(t,e){this.doDoubleClick(t,e)&&t.preventDefault()}doDoubleClick(t,e){const{listeners:{legendItemDoubleClick:i},ctx:{chartService:n},toggleSeries:s}=this;if(n.mode==="integrated"||!e)return!1;const{legendType:a,id:o,itemId:r,seriesId:l}=e,c=n.series.find(p=>p.id===o);if(!c)return!1;const h=I_("dblclick",r,c.id,t);if(i==null||i(h.apiEvent),h.defaultPrevented)return!0;if(s){const p=n.series.flatMap(m=>m.getLegendData("category")),f=p.filter(m=>m.enabled).length,y=p.find(m=>m.itemId===r&&m.seriesId===l);this.ctx.chartEventManager.legendItemDoubleClick(a,c,r,(y==null?void 0:y.enabled)??!1,f,y==null?void 0:y.legendItemName)}return this.ctx.legendManager.update(),this.ctx.updateService.update(2,{forceNodeDataRefresh:!0}),!0}toTooltipMeta(t,e){let i;if(t instanceof FocusEvent){const{x:a,y:o}=Di.toCanvas(e).computeCenter();i={type:"keyboard",canvasX:a,canvasY:o}}else{t.preventDefault();const{x:a,y:o}=Di.toCanvasPoint(e,t.offsetX,t.offsetY);i={type:"pointermove",canvasX:a,canvasY:o}}const{canvasX:n,canvasY:s}=i;return{canvasX:n,canvasY:s,lastPointerEvent:i,showArrow:!1}}onHover(t,e){if(!this.enabled)throw new Error("AG Charts - onHover handler called on disabled legend");this.pagination.setPage(e.pageIndex);const i=e.datum,n=i?this.ctx.chartService.series.find(s=>s.id===(i==null?void 0:i.id)):void 0;if(i&&this.truncatedItems.has(i.itemId??i.id)){const s=this.toTooltipMeta(t,e);this.ctx.tooltipManager.updateTooltip(this.id,s,{type:"structured",title:this.getItemLabel(i)})}else this.ctx.tooltipManager.removeTooltip(this.id);i!=null&&i.enabled&&n?this.updateHighlight({series:n,itemId:i==null?void 0:i.itemId,datum:void 0,datumIndex:void 0}):this.updateHighlight()}onLeave(){this.ctx.tooltipManager.removeTooltip(this.id),this.updateHighlight()}updateHighlight(t){this.ctx.interactionManager.isState(32)?this.ctx.highlightManager.updateHighlight(this.id,t):this.ctx.interactionManager.isState(2)&&(this.pendingHighlightDatum=t,this.ctx.animationManager.onBatchStop(()=>{this.ctx.highlightManager.updateHighlight(this.id,this.pendingHighlightDatum)}))}onLocaleChanged(){this.domProxy.onLocaleChanged(this.ctx.localeManager,this.itemSelection,this)}positionLegend(t){const e=this.positionLegendScene(t);this.positionLegendDOM(e)}positionLegendScene(t){if(!this.enabled||!this.data.length)return;const{layoutBox:e}=t,{x:i,y:n,width:s,height:a}=e,[o,r]=this.calculateLegendDimensions(e),{oldPages:l}=this.calcLayout(o,r),c=this.computePagedBBox(),h=()=>{switch(this.position){case"top":case"left":return 0;case"bottom":return a-c.height;case"right":default:return s-c.width}};if(this.visible){const p=this.spacing;let f,y;switch(this.position){case"top":case"bottom":f=(s-c.width)/2,y=h(),e.shrink(c.height+p,this.position);break;case"left":case"right":default:f=h(),y=(a-c.height)/2,e.shrink(c.width+p,this.position)}this.group.translationX=Math.floor(i+f-c.x),this.group.translationY=Math.floor(n+y-c.y)}return l}positionLegendDOM(t){const{ctx:e,itemSelection:i,pagination:n,pages:s,toggleSeries:a,group:o,listeners:{legendItemClick:r,legendItemDoubleClick:l}}=this,c=this.visible&&this.enabled,h=a||l!=null||r!=null;this.domProxy.update({visible:c,interactive:h,ctx:e,itemSelection:i,group:o,pagination:n,oldPages:t,newPages:s,datumReader:this,itemListener:this})}calculateLegendDimensions(t){const{width:e,height:i}=t,n=e/i,s=.5,a=.2,o=.25;let r,l;switch(this.position){case"top":case"bottom":{const c=n<1?Math.min(s,a*(1/n)):a;r=this.maxWidth?Math.min(this.maxWidth,e):e,l=this.maxHeight?Math.min(this.maxHeight,i):Math.round(i*c);break}case"left":case"right":default:{const c=n>1?Math.min(s,o*n):o;r=this.maxWidth?Math.min(this.maxWidth,e):Math.round(e*c),l=this.maxHeight?Math.min(this.maxHeight,i):i}}return[r,l]}};Aa.className="Legend";N([w(jt)],Aa.prototype,"toggleSeries",2);N([w(kt)],Aa.prototype,"pagination",2);N([w(kt)],Aa.prototype,"item",2);N([w(kt)],Aa.prototype,"listeners",2);N([nh((t,e,i)=>{if(t.updateGroupVisibility(),e===i)return;const{ctx:{legendManager:n,stateManager:s}}=t;i===!1&&e===!0&&s.restoreState(n)}),w(jt)],Aa.prototype,"enabled",2);N([w(JL)],Aa.prototype,"position",2);N([w(Tt,{optional:!0})],Aa.prototype,"maxWidth",2);N([w(Tt,{optional:!0})],Aa.prototype,"maxHeight",2);N([w(jt,{optional:!0})],Aa.prototype,"reverseOrder",2);N([w(Ye(["horizontal","vertical"],"an orientation"),{optional:!0})],Aa.prototype,"orientation",2);N([w(jt,{optional:!0})],Aa.prototype,"preventHidingAll",2);N([w(Tt)],Aa.prototype,"spacing",2);var Ert={type:"legend",optionsKey:"legend",identifier:"category",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],moduleFactory:t=>new Aa(t),packageType:"community",removable:"standalone-only"},VH={};Go(VH,{CARTESIAN_AXIS_TYPE:()=>WH,CARTESIAN_POSITION:()=>HH,FONT_SIZE:()=>UH,FONT_SIZE_RATIO:()=>QN,POLAR_AXIS_SHAPE:()=>$H,POLAR_AXIS_TYPE:()=>YH});var UH=(t=>(t[t.SMALLEST=8]="SMALLEST",t[t.SMALLER=10]="SMALLER",t[t.SMALL=12]="SMALL",t[t.MEDIUM=13]="MEDIUM",t[t.LARGE=14]="LARGE",t[t.LARGEST=17]="LARGEST",t))(UH||{}),QN=(t=>(t[t.SMALLEST=.6666666666666666]="SMALLEST",t[t.SMALLER=.8333333333333334]="SMALLER",t[t.SMALL=1]="SMALL",t[t.MEDIUM=1.0833333333333333]="MEDIUM",t[t.LARGE=1.1666666666666667]="LARGE",t[t.LARGEST=1.4166666666666667]="LARGEST",t))(QN||{}),HH=(t=>(t.TOP="top",t.RIGHT="right",t.BOTTOM="bottom",t.LEFT="left",t))(HH||{}),WH=(t=>(t.CATEGORY="category",t.GROUPED_CATEGORY="grouped-category",t.ORDINAL_TIME="ordinal-time",t.NUMBER="number",t.TIME="time",t.LOG="log",t))(WH||{}),YH=(t=>(t.ANGLE_CATEGORY="angle-category",t.ANGLE_NUMBER="angle-number",t.RADIUS_CATEGORY="radius-category",t.RADIUS_NUMBER="radius-number",t))(YH||{}),$H=(t=>(t.CIRCLE="circle",t.POLYGON="polygon",t))($H||{}),JN={};Go(JN,{DEFAULT_ANNOTATION_HANDLE_FILL:()=>ub,DEFAULT_ANNOTATION_STATISTICS_COLOR:()=>pb,DEFAULT_ANNOTATION_STATISTICS_DIVIDER_STROKE:()=>fb,DEFAULT_ANNOTATION_STATISTICS_DOWN_FILL:()=>gx,DEFAULT_ANNOTATION_STATISTICS_DOWN_STROKE:()=>yx,DEFAULT_ANNOTATION_STATISTICS_FILL:()=>hb,DEFAULT_ANNOTATION_STATISTICS_STROKE:()=>db,DEFAULT_BACKGROUND_COLOUR:()=>LA,DEFAULT_CAPTION_ALIGNMENT:()=>_u,DEFAULT_CAPTION_LAYOUT_STYLE:()=>zu,DEFAULT_COLOR_RANGE:()=>PA,DEFAULT_DIVERGING_SERIES_COLOR_RANGE:()=>Da,DEFAULT_FIBONACCI_STROKES:()=>fx,DEFAULT_FINANCIAL_CHARTS_ANNOTATION_BACKGROUND_FILL:()=>gn,DEFAULT_FINANCIAL_CHARTS_ANNOTATION_COLOR:()=>Si,DEFAULT_FUNNEL_SERIES_COLOR_RANGE:()=>yl,DEFAULT_GAUGE_SERIES_COLOR_RANGE:()=>Wo,DEFAULT_GRIDLINE_ENABLED:()=>tl,DEFAULT_HIERARCHY_FILLS:()=>zA,DEFAULT_HIERARCHY_STROKES:()=>_A,DEFAULT_POLAR_SERIES_STROKE:()=>RA,DEFAULT_SEPARATION_LINES_COLOUR:()=>ob,DEFAULT_SHADOW_COLOUR:()=>hh,DEFAULT_SPARKLINE_CROSSHAIR_STROKE:()=>BA,DEFAULT_TEXTBOX_COLOR:()=>mb,DEFAULT_TEXTBOX_FILL:()=>gb,DEFAULT_TEXTBOX_STROKE:()=>yb,DEFAULT_TEXT_ANNOTATION_COLOR:()=>cb,DEFAULT_TOOLBAR_POSITION:()=>xb,IS_COMMUNITY:()=>tE,IS_DARK_THEME:()=>Uf,IS_ENTERPRISE:()=>eE,PALETTE_ALT_DOWN_FILL:()=>aE,PALETTE_ALT_DOWN_STROKE:()=>nE,PALETTE_ALT_NEUTRAL_FILL:()=>oE,PALETTE_ALT_NEUTRAL_STROKE:()=>wA,PALETTE_ALT_UP_FILL:()=>sE,PALETTE_ALT_UP_STROKE:()=>iE,PALETTE_DOWN_FILL:()=>lb,PALETTE_DOWN_STROKE:()=>EA,PALETTE_NEUTRAL_FILL:()=>OA,PALETTE_NEUTRAL_STROKE:()=>Sg,PALETTE_UP_FILL:()=>rb,PALETTE_UP_STROKE:()=>NA});var Uf=Symbol("is-dark-theme"),tE=Symbol("is-community"),eE=Symbol("is-enterprise"),ob=Symbol("default-separation-lines-colour"),LA=Symbol("default-background-colour"),hh=Symbol("default-shadow-colour"),zu=Symbol("default-caption-layout-style"),_u=Symbol("default-caption-alignment"),NA=Symbol("palette-up-stroke"),EA=Symbol("palette-down-stroke"),rb=Symbol("palette-up-fill"),lb=Symbol("palette-down-fill"),Sg=Symbol("palette-neutral-stroke"),OA=Symbol("palette-neutral-fill"),iE=Symbol("palette-alt-up-stroke"),nE=Symbol("palette-alt-down-stroke"),sE=Symbol("palette-alt-up-fill"),aE=Symbol("palette-alt-down-fill"),oE=Symbol("palette-gray-fill"),wA=Symbol("palette-gray-stroke"),RA=Symbol("default-polar-series-stroke"),Da=Symbol("default-diverging-series-colour-range"),PA=Symbol("default-colour-range"),BA=Symbol("default-sparkline-crosshair-stroke"),Wo=Symbol("default-gauge-series-colour-range"),yl=Symbol("default-funnel-series-colour-range"),zA=Symbol("default-hierarchy-fills"),_A=Symbol("default-hierarchy-strokes"),Si=Symbol("default-financial-charts-annotation-stroke"),fx=Symbol("default-hierarchy-strokes"),cb=Symbol("default-text-annotation-color"),gn=Symbol("default-financial-charts-annotation-background-fill"),ub=Symbol("default-annotation-handle-fill"),hb=Symbol("default-annotation-statistics-fill"),db=Symbol("default-annotation-statistics-stroke"),pb=Symbol("default-annotation-statistics-color"),fb=Symbol("default-annotation-statistics-divider-stroke"),gx=Symbol("default-annotation-statistics-fill"),yx=Symbol("default-annotation-statistics-stroke"),gb=Symbol("default-textbox-fill"),yb=Symbol("default-textbox-stroke"),mb=Symbol("default-textbox-color"),xb=Symbol("default-toolbar-position"),tl=Symbol("default-gridline-enabled");function KH(t,e){return i=>e(i)?[{...t[0],position:t[1].position},{...t[1],position:t[0].position}]:t}function bb({takeColors:t}){const{fills:[e],strokes:[i]}=t(1);return{fill:e,stroke:i}}function rE(t){return{marker:bb(t)}}function dM(t,e,i,n,s){const{addPhaseFn:a,updatePhaseFn:o,removePhaseFn:r}=s,l=(c,h,p)=>{i.animate({id:`${t}_${e}_${h.id}_${c}`,groupId:t,from:0,to:1,ease:ax,collapsable:!1,onUpdate(f,y){y&&c!=="removed"||(h.path.clear(!0),p(f,h),h.checkPathDirty())},onStop(){c==="added"&&(h.path.clear(!0),p(1,h),h.checkPathDirty())},phase:hr[c]})};for(const c of n)i.isSkipped()||(l("removed",c,r),l("updated",c,o)),l("added",c,a)}function Me({id:t},e,i,...n){Mc(t,e,i,n,{opacity:0},{opacity:1},{phase:"trailing"})}function ju({id:t},e,i,...n){Mc(t,e,i,n,{opacity:1},{opacity:0},{phase:"remove"})}function Rc(t){return{opacity:1}}var Mr=class extends KN{constructor(){super(...arguments),this.enabled=!0,this.color="rgba(0, 0, 0, 0.5)",this.xOffset=0,this.yOffset=0,this.blur=5}};N([w(jt),Lt()],Mr.prototype,"enabled",2);N([w(Ae),Lt()],Mr.prototype,"color",2);N([w(de),Lt()],Mr.prototype,"xOffset",2);N([w(de),Lt()],Mr.prototype,"yOffset",2);N([w(Tt),Lt()],Mr.prototype,"blur",2);var XH=class extends Zt{constructor(){super(...arguments),this.enabled=!1}};N([w(jt)],XH.prototype,"enabled",2);var ws=class extends Zt{constructor(){super(...arguments),this.enabled=!0,this.interaction=new XH,this.position=new fg,this.range=void 0,this.class=void 0}formatTooltip(e,i){var s;const n=(s=this.renderer)==null?void 0:s.call(this,i);return typeof n=="string"?{type:"raw",rawHtmlString:n}:n!=null?{type:"structured",...e,...n}:{type:"structured",...e}}};N([w(jt)],ws.prototype,"enabled",2);N([w(jt,{optional:!0})],ws.prototype,"showArrow",2);N([w(ta,{optional:!0})],ws.prototype,"renderer",2);N([w(kt)],ws.prototype,"interaction",2);N([w(kt)],ws.prototype,"position",2);N([w(rA,{optional:!0})],ws.prototype,"range",2);N([w(Dt,{optional:!0})],ws.prototype,"class",2);var ZH=Ye(["linear","smooth","step"],"a line style"),qH=Ye(["start","middle","end"]),Mg=class extends Zt{constructor(){super(...arguments),this.type="linear",this.tension=1,this.position="end"}};N([w(ZH)],Mg.prototype,"type",2);N([w(Le)],Mg.prototype,"tension",2);N([w(qH)],Mg.prototype,"position",2);var Zi=class extends Oc{constructor(){super(...arguments),this.xName=void 0,this.defaultColorRange=[],this.fill="#c16068",this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.interpolation=new Mg,this.shadow=new Mr,this.marker=new Os,this.label=new Nn,this.tooltip=new ws,this.connectMissingData=!1}};N([w(Dt)],Zi.prototype,"xKey",2);N([w(Dt,{optional:!0})],Zi.prototype,"xName",2);N([w(Dt)],Zi.prototype,"yKey",2);N([w(Dt,{optional:!0})],Zi.prototype,"yName",2);N([w(Dt,{optional:!0})],Zi.prototype,"yFilterKey",2);N([w(Tt,{optional:!0})],Zi.prototype,"normalizedTo",2);N([w(Ha)],Zi.prototype,"defaultColorRange",2);N([w(eh(SV,Ae))],Zi.prototype,"fill",2);N([w(Le)],Zi.prototype,"fillOpacity",2);N([w(Ae)],Zi.prototype,"stroke",2);N([w(Tt)],Zi.prototype,"strokeWidth",2);N([w(Le)],Zi.prototype,"strokeOpacity",2);N([w(pl)],Zi.prototype,"lineDash",2);N([w(Tt)],Zi.prototype,"lineDashOffset",2);N([w(kt)],Zi.prototype,"interpolation",2);N([w(kt)],Zi.prototype,"shadow",2);N([w(kt)],Zi.prototype,"marker",2);N([w(kt)],Zi.prototype,"label",2);N([w(kt)],Zi.prototype,"tooltip",2);N([w(jt)],Zi.prototype,"connectMissingData",2);function ul(t){switch(t.type){case"linear":case"step":return[{x:t.x0,y:t.y0},{x:t.x1,y:t.y1}];case"cubic":return[{x:t.cp0x,y:t.cp0y},{x:t.cp3x,y:t.cp3y}]}}function Ort(t){const e=ul(t);return e[0].x>e[1].x&&e.reverse(),e}function wrt(t,e){const{x:i,y:n}=e;switch(t.type){case"linear":return{type:"linear",moveTo:t.moveTo,x0:i,y0:n,x1:i,y1:n};case"step":return{type:"step",moveTo:t.moveTo,x0:i,y0:n,x1:i,y1:n,stepX:i};case"cubic":return{type:"cubic",moveTo:t.moveTo,cp0x:i,cp0y:n,cp1x:i,cp1y:n,cp2x:i,cp2y:n,cp3x:i,cp3y:n}}}function mx(t,e,i){const[n,s]=ul(t),a=s.x!==n.x?(i.x-e.x)/(s.x-n.x):0,o=s.y!==n.y?(i.y-e.y)/(s.y-n.y):0;switch(t.type){case"linear":return{type:"linear",moveTo:t.moveTo,x0:e.x,y0:e.y,x1:i.x,y1:i.y};case"cubic":return{type:"cubic",moveTo:t.moveTo,cp0x:e.x,cp0y:e.y,cp1x:i.x-(t.cp2x-n.x)*a,cp1y:i.y-(t.cp2y-n.y)*o,cp2x:i.x-(t.cp1x-n.x)*a,cp2y:i.y-(t.cp1y-n.y)*o,cp3x:i.x,cp3y:i.y};case"step":return{type:"step",moveTo:t.moveTo,x0:e.x,y0:e.y,x1:i.x,y1:i.y,stepX:i.x-(t.stepX-n.x)*a}}}function QH(t,e,i){const{moveTo:n}=t,[s,a]=Ort(t),{x:o,y:r}=s,{x:l,y:c}=a;if(i<o)return mx(t,s,s);if(e>l)return mx(t,a,a);switch(t.type){case"linear":{const h=r===c?void 0:(c-r)/(l-o),p=h==null?r:h*(e-o)+r,f=h==null?r:h*(i-o)+r;return{type:"linear",moveTo:n,x0:e,y0:p,x1:i,y1:f}}case"step":if(i<=t.stepX){const h=t.y0;return{type:"step",moveTo:n,x0:e,y0:h,x1:i,y1:h,stepX:i}}else if(e>=t.stepX){const h=t.y1;return{type:"step",moveTo:n,x0:e,y0:h,x1:i,y1:h,stepX:e}}else{const{y0:h,y1:p,stepX:f}=t;return{type:"step",moveTo:n,x0:e,y0:h,x1:i,y1:p,stepX:f}}case"cubic":{const h=lM(t.cp0x,t.cp1x,t.cp2x,t.cp3x,e);let[p,f]=cM(t.cp0x,t.cp0y,t.cp1x,t.cp1y,t.cp2x,t.cp2y,t.cp3x,t.cp3y,h);const y=lM(f[0].x,f[1].x,f[2].x,f[3].x,i);return[f,p]=cM(f[0].x,f[0].y,f[1].x,f[1].y,f[2].x,f[2].y,f[3].x,f[3].y,y),{type:"cubic",moveTo:n,cp0x:f[0].x,cp0y:f[0].y,cp1x:f[1].x,cp1y:f[1].y,cp2x:f[2].x,cp2y:f[2].y,cp3x:f[3].x,cp3y:f[3].y}}}}function Rrt(t){const e=[];let i=0,n=NaN,s=NaN;for(const{x:a,y:o}of t){if(i>0){const r=i===1;e.push({type:"linear",moveTo:r,x0:n,y0:s,x1:a,y1:o})}i+=1,n=a,s=o}return e}var Prt={start:0,middle:.5,end:1};function Brt(t,e){const i=[];let n=0,s=NaN,a=NaN;const o=typeof e=="number"?e:Prt[e];for(const{x:r,y:l}of t){if(n>0){const c=n===1,h=s+(r-s)*o;i.push({type:"step",moveTo:c,x0:s,y0:a,x1:r,y1:l,stepX:h})}n+=1,s=r,a=l}return i}var Dv=.05;function zrt(t,e){const i=Array.isArray(t)?t:Array.from(t);if(i.length<=1)return[];const n=i.map((a,o)=>{const r=o===0?a:i[o-1],l=o===i.length-1?a:i[o+1],c=o===0||o===i.length-1;if(Math.sign(r.y-a.y)===Math.sign(l.y-a.y))return 0;if(!c){const h=Math.abs(r.y-l.y),p=Math.abs(a.y-r.y)/h,f=Math.abs(a.y-l.y)/h;if(p<=Dv||1-p<=Dv||f<=Dv||1-f<=Dv)return 0}return(l.y-r.y)/(l.x-r.x)});n[1]===0&&(n[0]*=2),n[n.length-2]===0&&(n[n.length-1]*=2);const s=[];for(let a=1;a<i.length;a+=1){const o=i[a-1],r=n[a-1],l=i[a],c=n[a],h=l.x-o.x,p=l.y-o.y;let f=h*e/3,y=h*r*e/3,m=h*e/3,b=h*c*e/3;c===0&&Math.abs(y)>Math.abs(p)&&(f*=Math.abs(p/y),y=Math.sign(y)*Math.abs(p)),r===0&&Math.abs(b)>Math.abs(p)&&(m*=Math.abs(p/b),b=Math.sign(b)*Math.abs(p)),s.push({type:"cubic",moveTo:a===1,cp0x:o.x,cp0y:o.y,cp1x:o.x+f,cp1y:o.y+y,cp2x:l.x-m,cp2y:l.y-b,cp3x:l.x,cp3y:l.y})}return s}function dn(t,e,i){return(e-t)*i+t}function _rt(t,e){const{x0:i,y0:n,x1:s,y1:a}=t,r=(a-n)/(s-i)*(e-i)+n;return{leftCp1x:i,leftCp1y:n,leftCp2x:e,leftCp2y:r,stepX:e,stepY0:r,stepY1:r,rightCp1x:e,rightCp1y:r,rightCp2x:s,rightCp2y:a}}function jrt(t,e){const{cp0x:i,cp0y:n,cp1x:s,cp1y:a,cp2x:o,cp2y:r,cp3x:l,cp3y:c}=t,h=lM(i,s,o,l,e),[p,f]=cM(i,n,s,a,o,r,l,c,h),y=p[3].y;return{leftCp1x:p[1].x,leftCp1y:p[1].y,leftCp2x:p[2].x,leftCp2y:p[2].y,stepX:e,stepY0:y,stepY1:y,rightCp1x:f[1].x,rightCp1y:f[1].y,rightCp2x:f[2].x,rightCp2y:f[2].y}}function Frt(t){const{x0:e,y0:i,x1:n,y1:s,stepX:a}=t;return{leftCp1x:(e+a)/2,leftCp1y:i,leftCp2x:(e+a)/2,leftCp2y:i,stepX:a,stepY0:i,stepY1:s,rightCp1x:(a+n)/2,rightCp1y:s,rightCp2x:(a+n)/2,rightCp2y:s}}function T_(t,e){return t.type==="linear"?_rt(t,e):t.type==="cubic"?jrt(t,e):Frt(t)}function JH(t,e,i,n,s,a,o){switch(e){case 0:o?t.moveTo(s,a):t.moveTo(i,n);break;case 1:o?t.lineTo(s,a):t.lineTo(i,n);break}}function tW(t,e,i,n,s,a){a?t.lineTo(e,i):t.lineTo(n,s)}function eW(t,e,i,n,s,a,o,r,l,c){c?t.cubicCurveTo(a,o,n,s,e,i):t.cubicCurveTo(n,s,a,o,r,l)}function iW(t,e,i,n,s,a,o){o?(t.lineTo(a,s),t.lineTo(a,i),t.lineTo(e,i)):(t.lineTo(a,i),t.lineTo(a,s),t.lineTo(n,s))}function Hk(t,e,i,n){const[s,a]=ul(e);switch(JH(t,i,s.x,s.y,a.x,a.y,n),e.type){case"linear":tW(t,e.x0,e.y0,e.x1,e.y1,n);break;case"cubic":eW(t,e.cp0x,e.cp0y,e.cp1x,e.cp1y,e.cp2x,e.cp2y,e.cp3x,e.cp3y,n);break;case"step":iW(t,e.x0,e.y0,e.x1,e.y1,e.stepX,n);break}}function nW(t,e,i){const[n,s]=ul(t),[a,o]=ul(e),r=dn(n.x,a.x,i),l=dn(n.y,a.y,i),c=dn(s.x,o.x,i),h=dn(s.y,o.y,i);return[{x:r,y:l},{x:c,y:h}]}function Wk(t,e,i,n,s,a){const[{x:o,y:r},{x:l,y:c}]=nW(e,i,n);if(JH(t,s,o,r,l,c,a),e.type==="cubic"&&i.type==="cubic"){const h=dn(e.cp1x,i.cp1x,n),p=dn(e.cp1y,i.cp1y,n),f=dn(e.cp2x,i.cp2x,n),y=dn(e.cp2y,i.cp2y,n);eW(t,o,r,h,p,f,y,l,c,a)}else if(e.type==="step"&&i.type==="step"){const h=dn(e.stepX,i.stepX,n);iW(t,o,r,l,c,h,a)}else if(e.type==="linear"&&i.type==="linear")tW(t,o,r,l,c,a);else{let h;e.type==="step"?h=e.stepX:i.type==="step"?h=i.stepX:h=(o+l)/2;const p=T_(e,h),f=T_(i,h),y=dn(p.leftCp1x,f.leftCp1x,n),m=dn(p.leftCp1y,f.leftCp1y,n),b=dn(p.leftCp2x,f.leftCp2x,n),v=dn(p.leftCp2y,f.leftCp2y,n),S=dn(p.stepX,f.stepX,n),D=dn(p.stepY0,f.stepY0,n),I=dn(p.stepY1,f.stepY1,n),T=dn(p.rightCp1x,f.rightCp1x,n),k=dn(p.rightCp1y,f.rightCp1y,n),E=dn(p.rightCp2x,f.rightCp2x,n),O=dn(p.rightCp2y,f.rightCp2y,n);a?(t.cubicCurveTo(E,O,T,k,S,I),t.lineTo(S,D),t.cubicCurveTo(b,v,y,m,o,r)):(t.cubicCurveTo(y,m,b,v,S,D),t.lineTo(S,I),t.cubicCurveTo(T,k,E,O,l,c))}}var sW=(t=>(t[t.Zero=0]="Zero",t[t.Split=1]="Split",t))(sW||{});function Grt(t,e){return t==null||e==null||typeof t!="object"||typeof e!="object"?!1:"id"in t&&"id"in e?t.id===e.id:t.toString()===e.toString()}function As(t,e){if(!e)return NaN;if(t instanceof Date&&(t=t.getTime()),e.type==="continuous"&&typeof t=="number")return(t-e.domain[0])/(e.domain[1]-e.domain[0])*(e.range[1]-e.range[0])+e.range[0];if(e.type==="log"&&typeof t=="number")return e.convert(t);if(e.type!=="category")return NaN;const i=e.domain.findIndex(s=>s===t);return i>=0||e.domain.findIndex(s=>Grt(t,s))>=0?e.inset+e.step*i:NaN}function Oo(t){return kk(t).valueOf()}function C_({data:t},e){return t.map((i,n)=>({xValue0Index:e.indexOf(Oo(i.xValue0)),xValue1Index:e.indexOf(Oo(i.xValue1)),datumIndex:n}))}function Vrt(t,e){const i=e.scales.x,n=t.scales.x;if((i==null?void 0:i.type)!=="category"||(n==null?void 0:n.type)!=="category")return!0;let s=-1/0;for(const a of i.domain){const o=As(a,n);if(Number.isFinite(o)){if(o<s)return!1;s=o}}return!0}function Urt(t,e){let i=-1/0;for(const n of t){const s=As(n.value,e.scales.x);if(Number.isFinite(s)){if(s<i)return!1;i=s}}return!0}function Hrt(t,e){const i=new Map;for(const{xValue0:h,xValue1:p}of t.data){const f=Oo(h),y=Oo(p);i.set(f,h).set(y,p)}const n=Array.from(i,([h,p])=>({axisValue:h,value:p}));n.sort((h,p)=>As(h.value,t.scales.x)-As(p.value,t.scales.x));const s=[];for(const{xValue0:h,xValue1:p}of e.data){const f=Oo(h),y=Oo(p);i.has(f)||(i.set(f,h),s.push({axisValue:f,value:h})),i.has(y)||(i.set(y,p),s.push({axisValue:y,value:p}))}s.sort((h,p)=>As(h.value,e.scales.x)-As(p.value,e.scales.x));const a=n;let o=0;for(const h of s){for(let p=a.length-1;p>o;p-=1){const f=As(h.value,e.scales.x),y=As(a[p].value,e.scales.x);if(f>y){o=p+1;break}}a.splice(o,0,h),o+=1}if(!Urt(a,e))return;const r=a.map(h=>h.axisValue),l=C_(e,r),c=C_(t,r);return{axisValues:r,oldDataAxisIndices:l,newDataAxisIndices:c}}function k_(t,e,i){if(i.xValue1Index===i.xValue0Index+1)return t;const n=ul(t),s=(n[1].x-n[0].x)/(i.xValue1Index-i.xValue0Index),a=n[0].x+(e-i.xValue0Index)*s,o=a+s;return QH(t,a,o)}function aW(t,e){const[i,n]=ul(t),s=As(0,e.scales.y);return mx(t,{x:i.x,y:s},{x:n.x,y:s})}function oW(t){const[e,i]=ul(t);return wrt(t,{x:(e.x+i.x)/2,y:(e.y+i.y)/2})}function rW(t,e,i,n,s,a){var p,f;let o,r;if(s.xValue0Index>=a.xValue1Index){const y=(p=n.findLast(b=>b.xValue1Index<=a.xValue1Index))==null?void 0:p.datumIndex,m=y!=null?i.data[y]:void 0;o=m==null?void 0:m.xValue1,r=m==null?void 0:m.yValue1}else if(s.xValue0Index<=a.xValue0Index){const y=(f=n.find(b=>b.xValue0Index>=a.xValue0Index))==null?void 0:f.datumIndex,m=y!=null?i.data[y]:void 0;o=m==null?void 0:m.xValue0,r=m==null?void 0:m.yValue0}if(o==null||r==null)switch(e){case 0:return aW(t,i);case 1:return oW(t)}const l=As(o,i.scales.x),c=As(r,i.scales.y),h={x:l,y:c};return mx(t,h,h)}function lE(t,e){var s;if(e==null)return;const i=Oo(t.xValue0),n=Oo(t.xValue1);return(s=e.find(a=>Oo(a.xValue0)===i&&Oo(a.xValue1)===n))==null?void 0:s.span}function L_(t,e,i,n,s,a,o){const r=t.data[n.datumIndex],l=r.span,c=lE(r,s);if(c!=null)o.removed.push({from:c,to:c}),o.moved.push({from:c,to:l}),o.added.push({from:l,to:l});else{const h=rW(l,e,t,i,n,a);o.added.push({from:h,to:l})}}function N_(t,e,i,n,s,a,o){const r=t.data[n.datumIndex],l=r.span,c=lE(r,s);if(c!=null)o.removed.push({from:l,to:l}),o.moved.push({from:l,to:c}),o.added.push({from:c,to:c});else{const h=rW(l,e,t,i,n,a);o.removed.push({from:l,to:h})}}function E_(t,e,i,n,s){const a=e[s.xValue0Index],o=i.data.find(v=>Oo(v.xValue0)===a),r=e[s.xValue1Index],l=i.data.find(v=>Oo(v.xValue1)===r);if(o==null||l==null)return;const[{x:c},{x:h}]=ul(t),p=As(o.xValue0,i.scales.x),f=As(o.yValue0,i.scales.y),y=As(l.xValue1,i.scales.x),m=As(l.yValue1,i.scales.y);let b=n.data[s.datumIndex].span;return b=mx(b,{x:p,y:f},{x:y,y:m}),b=QH(b,c,h),b}function Wrt(t,e,i,n,s,a,o,r,l){const c=s+1,h=o.find(I=>I.xValue0Index<=s&&I.xValue1Index>=c),p=a.find(I=>I.xValue0Index<=s&&I.xValue1Index>=c),f=e.zeroData,y=t.zeroData;if(h==null&&p!=null){L_(t,i,a,p,f,r,l);return}else if(h!=null&&p==null){N_(e,i,o,h,y,r,l);return}else if(h==null||p==null)return;let m;h.xValue0Index===p.xValue0Index&&h.xValue1Index===p.xValue1Index?m=0:h.xValue0Index<=p.xValue0Index&&h.xValue1Index>=p.xValue1Index?m=-1:h.xValue0Index>=p.xValue0Index&&h.xValue1Index<=p.xValue1Index?m=1:m=0;const b=e.data[h.datumIndex],v=k_(b.span,s,h),S=t.data[p.datumIndex],D=k_(S.span,s,p);if(m===1){const I=E_(v,n,e,t,p);I!=null?(l.removed.push({from:v,to:I}),l.moved.push({from:I,to:D}),l.added.push({from:D,to:D})):N_(e,i,o,h,y,r,l)}else if(m===-1){const I=E_(D,n,t,e,h);I!=null?(l.removed.push({from:v,to:v}),l.moved.push({from:v,to:I}),l.added.push({from:I,to:D})):L_(t,i,a,p,f,r,l)}else l.removed.push({from:v,to:v}),l.moved.push({from:v,to:D}),l.added.push({from:D,to:D})}function Yrt(t,e,i,n){var c,h,p,f;const s={removed:[],moved:[],added:[]},{axisValues:a,oldDataAxisIndices:o,newDataAxisIndices:r}=t,l={xValue0Index:Math.max(((c=o.at(0))==null?void 0:c.xValue0Index)??-1/0,((h=r.at(0))==null?void 0:h.xValue0Index)??-1/0),xValue1Index:Math.min(((p=o.at(-1))==null?void 0:p.xValue1Index)??1/0,((f=r.at(-1))==null?void 0:f.xValue1Index)??1/0)};for(let y=0;y<a.length-1;y+=1)Wrt(e,i,n,a,y,r,o,l,s);return s}function O_(t,e,i){const{span:n}=e;switch(i){case 0:return lE(e,t.zeroData)??aW(n,t);case 1:return oW(n)}}function $rt(t,e,i){const n=[],s=[];for(const a of e.data){const o=a.span,r=O_(e,a,i);s.push({from:o,to:r})}for(const a of t.data){const o=a.span,r=O_(t,a,i);n.push({from:r,to:o})}return{removed:s,moved:[],added:n}}function Ym(t,e,i){if(!Vrt(t,e))return;const n=Hrt(t,e);return n==null?$rt(t,e,i):Yrt(n,t,e,i)}function w_(t){return t.type==="continuous"||t.type==="log"}function R_(t){return t.type==="category"}function Hf(t,e){return t===void 0||e===void 0?t!==void 0||e!==void 0:w_(t)&&w_(e)?t.type===e.type&&sl(t.domain,e.domain)&&sl(t.range,e.range):R_(t)&&R_(e)?t.inset===e.inset&&t.step===e.step&&sl(t.domain,e.domain):!1}function xx(t){return t==null?!1:t.type==="category"?t.domain.every(e=>e!=null):t.domain.every(e=>Number.isFinite(e)||e instanceof Date)&&t.range.every(e=>Number.isFinite(e))}function pM(t,e){let i;const n=t.map(s=>s.point);switch(e.type){case"linear":i=Rrt(n);break;case"smooth":i=zrt(n,e.tension);break;case"step":i=Brt(n,e.position);break}return i.map((s,a)=>({span:s,xValue0:t[a].xDatum,yValue0:t[a].yDatum,xValue1:t[a+1].xDatum,yValue1:t[a+1].yDatum}))}function lW(t,e,i=.001){return Math.abs(t.x-e.x)<i&&Math.abs(t.y-e.y)<i}function cE({path:t},e){let i;for(const{span:n}of e){const[s,a]=ul(n),o=i!=null&&lW(i,s)?1:0;Hk(t,n,o,!1),i=a}}function wS(t,e,i){let n;for(const s of i){const[a,o]=nW(s.from,s.to,t),r=n!=null&&lW(n,a)?1:0;Wk(e.path,s.from,s.to,t,r,!1),n=o}}function uE(t,e,i){const n=(r,l)=>wS(r,l,e.removed),s=(r,l)=>wS(r,l,e.moved),a=(r,l)=>wS(r,l,e.added),o=hE(t,i);return{status:t,path:{addPhaseFn:a,updatePhaseFn:s,removePhaseFn:n},pathProperties:o}}function hE(t,e){const i=e==="none"?"updated":t,n={fromFn:s=>{let a;return t==="removed"?a={finish:{visible:!1}}:t==="added"?a={start:{visible:!0}}:a={},{phase:hr[i],...a}},toFn:s=>({phase:hr[i]})};return e==="fade"?{fromFn:s=>({opacity:t==="added"?0:s.opacity,...n.fromFn(s)}),toFn:s=>({opacity:t==="removed"?0:1,...n.toFn(s)})}:n}function cW(t,e,i){var c,h;const n=((c=t.scales.x)==null?void 0:c.type)==="category",s=((h=e.scales.x)==null?void 0:h.type)==="category";if(n!==s||!xx(t.scales.x)||!xx(e.scales.x)||t.strokeData==null||e.strokeData==null)return;let a="updated";e.visible&&!t.visible?a="removed":!e.visible&&t.visible&&(a="added");const o=Ym({scales:t.scales,data:t.strokeData.spans},{scales:e.scales,data:e.strokeData.spans},1);if(o==null)return;const r=uE(a,o,"fade"),l=((i==null?void 0:i.changed)??!0)||!Hf(t.scales.x,e.scales.x)||!Hf(t.scales.y,e.scales.y)||a!=="updated";return{status:a,stroke:r,hasMotion:l}}function uW({path:t},{spans:e,phantomSpans:i}){for(let n=0;n<e.length;n+=1){const{span:s}=e[n],a=i[n].span;Hk(t,s,0,!1),Hk(t,a,1,!0),t.closePath()}}function RS(t,{path:e},i,n){for(let s=0;s<i.length;s+=1){const a=i[s],o=n[s];Wk(e,a.from,a.to,t,0,!1),Wk(e,o.from,o.to,t,1,!0),e.closePath()}}function hW(t,e,i,n){const s=(l,c)=>RS(l,c,e.removed,i.removed),a=(l,c)=>RS(l,c,e.moved,i.moved),o=(l,c)=>RS(l,c,e.added,i.added),r=hE(t,n);return{status:t,path:{addPhaseFn:o,updatePhaseFn:a,removePhaseFn:s},pathProperties:r}}function dW(t,e){var p,f;const i=((p=t.scales.x)==null?void 0:p.type)==="category",n=((f=e.scales.x)==null?void 0:f.type)==="category";if(i!==n||!xx(t.scales.x)||!xx(e.scales.x))return;let s="updated";e.visible&&!t.visible?s="removed":!e.visible&&t.visible&&(s="added");const a=Ym({scales:t.scales,data:t.fillData.spans},{scales:e.scales,data:e.fillData.spans},0);if(a==null)return;const o=Ym({scales:t.scales,data:t.fillData.phantomSpans},{scales:e.scales,data:e.fillData.phantomSpans},0);if(o==null)return;const r=Ym({scales:t.scales,data:t.strokeData.spans,zeroData:t.fillData.phantomSpans},{scales:e.scales,data:e.strokeData.spans,zeroData:e.fillData.phantomSpans},0);if(r==null)return;const l="none",c=hW(s,a,o,l),h=uE(s,r,l);return{status:s,fill:c,stroke:h}}function bx({id:t},e,i,...n){const s={phase:i?hr[i]:"trailing"};Mc(t,"markers",e,n,{opacity:0},{opacity:1},s),n.forEach(a=>a.cleanup())}function dE({id:t},e,...i){Mc(t,"markers",e,i,{scalingX:0,scalingY:0},{scalingX:1,scalingY:1},{phase:"initial"}),i.forEach(n=>n.cleanup())}function pE({id:t,nodeDataDependencies:e},i,...n){const s=e.seriesRectWidth;vi(t,"markers",i,n,{fromFn:(r,l)=>{var p;const c=((p=l.midPoint)==null?void 0:p.x)??s;let h=qt(0,nV(c/s),1);return isNaN(h)&&(h=0),{scalingX:0,scalingY:0,delay:h,duration:ZS,phase:"initial"}},toFn:()=>({scalingX:1,scalingY:1})})}function vb(t){return{opacity:1,scalingX:1,scalingY:1}}function vx(t,e){var i,n;return{translationX:((i=e.point)==null?void 0:i.x)??NaN,translationY:((n=e.point)==null?void 0:n.y)??NaN}}function Sb(t,{datumIndex:e}){const i=t.getNodeData();if(i===void 0)return;const n=i[e],{point:s}=n;if(n==null||s==null)return;const a=4+(s.focusSize??t.getFormattedMarkerStyle(n).size),o=a/2,r=n.point.x-o,l=n.point.y-o;return Di.toCanvas(t.contentGroup,new Et(r,l,a,a))}function fE({id:t,visible:e,nodeDataDependencies:i},n,...s){const{seriesRectWidth:a,seriesRectHeight:o}=i;Mc(t,"path_properties",n,s,{clipX:0},{clipX:a},{phase:"initial",start:{clip:!0,clipY:o,visible:e},finish:{clip:!1,visible:e}})}function fM({id:t},e,i,n="add",...s){Mc(t,e,i,s,{opacity:0},{opacity:1},{phase:n})}function gE(t){return e=>({visible:t.getVisible(),opacity:t.getOpacity(),clipScalingX:1,clip:!1})}function gM({nodeDataDependencies:t},e){const i=n=>isFinite(n)?n:0;e.clipX=i(t.seriesRectWidth),e.clipY=i(t.seriesRectHeight)}var Krt=.125,Xrt=.25,yE=class extends lh{constructor(t){super({moduleCtx:t,directionKeys:$d,directionNames:Kd,pathsPerSeries:["fill","stroke"],pathsZIndexSubOrderOffset:[0,1e3],hasMarkers:!0,markerSelectionGarbageCollection:!1,pickModes:[2,0],animationResetFns:{path:gE({getVisible:()=>this.visible,getOpacity:()=>this.getOpacity()}),label:Rc,marker:(e,i)=>({...vb(),...vx(e,i)})}}),this.properties=new Zi,this.connectsToYAxis=!0,this.backgroundGroup=new Wt({name:`${this.id}-background`,zIndex:0}),this._isStacked=void 0}get pickModeAxis(){return"main"}renderToOffscreenCanvas(){return super.renderToOffscreenCanvas()||this.contextNodeData!=null&&(this.contextNodeData.fillData.spans.length>uM||this.contextNodeData.strokeData.spans.length>uM)}attachSeries(t,e,i){super.attachSeries(t,e,i),t.appendChild(this.backgroundGroup)}detachSeries(t,e,i){super.detachSeries(t,e,i),t==null||t.removeChild(this.backgroundGroup)}attachPaths([t,e]){this.backgroundGroup.appendChild(t),this.contentGroup.appendChild(e),e.zIndex=-1}detachPaths([t,e]){this.backgroundGroup.removeChild(t),this.contentGroup.removeChild(e)}isStacked(){var e;return(((e=this.seriesGrouping)==null?void 0:e.stackCount)??1)>1}setSeriesIndex(t){const e=this.isStacked();return!super.setSeriesIndex(t)&&this._isStacked===e?!1:(this._isStacked=e,e?(this.backgroundGroup.zIndex=[0,t],this.contentGroup.zIndex=[1,t,0]):(this.backgroundGroup.zIndex=[1,t,0,0],this.contentGroup.zIndex=[1,t,0,1]),!0)}async processData(t){var D,I;if(this.data==null||!this.properties.isValid())return;const{data:e,visible:i,seriesGrouping:{groupIndex:n=this.id,stackCount:s=1}={}}=this,{xKey:a,yKey:o,yFilterKey:r,connectMissingData:l,normalizedTo:c}=this.properties,h=!this.ctx.animationManager.isSkipped(),p=(D=this.axes.x)==null?void 0:D.scale,f=(I=this.axes.y)==null?void 0:I.scale,{xScaleType:y,yScaleType:m}=this.getScaleInformation({xScale:p,yScale:f}),b={value:`area-stack-${n}-yValue`,values:`area-stack-${n}-yValues`,stack:`area-stack-${n}-yValue-stack`,marker:`area-stack-${n}-yValues-marker`},v=[];CS(c)&&v.push(TA(Object.values(b),c)),h&&v.push(gg());const S={invalidValue:null};(CS(c)||l)&&s>1&&(S.invalidValue=0),i||(S.forceValue=0),await this.requestDataModel(t,e,{props:[gr(a,y,{id:"xValue"}),ne(o,m,{id:"yValueRaw",...S}),...r!=null?[ne(r,m,{id:"yFilterRaw"})]:[],...NH(o,m,{id:"yValueStack",...S,groupId:b.stack}),ne(o,m,{id:"yValue",...S,groupId:b.value}),...Yu(o,"window","current",{id:"yValueEnd",...S,groupId:b.values},m),...Yu(o,"normal","current",{id:"yValueCumulative",...S,groupId:b.marker},m),...v],groupByKeys:!0,groupByData:!1}),this.animationState.transition("updateData")}xCoordinateRange(t,e){const{marker:i}=this.properties,n=this.axes.x.scale.convert(t),s=i.enabled?.5*i.size*e:0;return[n-s,n+s]}yCoordinateRange(t,e){const{marker:i}=this.properties,n=this.axes.y.scale.convert(t[0]),s=i.enabled?.5*i.size*e:0;return[n-s,n+s]}getSeriesDomain(t){const{processedData:e,dataModel:i,axes:n}=this;if(!e||!i)return[];const s=n.y;if(t==="x"){const o=i.resolveProcessedDataDefById(this,"xValue"),r=i.getDomain(this,"xValue","key",e);return(o==null?void 0:o.def.type)==="key"&&o.def.valueType==="category"?r:ba(Nc(r))}const a=this.domainForClippedRange("y",["yValueEnd"],"xValue",!0);if(s instanceof Xd||s instanceof Yd)return ba(a);{const o=Number.isFinite(a[1]-a[0])?[a[0]>0?0:a[0],a[1]<0?0:a[1]]:[];return ba(o)}}getSeriesRange(t,e){const[i,n]=this.domainForVisibleRange("y",["yValueEnd"],"xValue",e,!0);return[Math.min(i,0),Math.max(n,0)]}getVisibleItems(t,e,i){return this.countVisibleItems("xValue",["yValueEnd"],t,e,i)}createNodeData(){var st;const{axes:t,data:e,processedData:i,dataModel:n}=this,s=t.x,a=t.y;if(!s||!a||!e||!n||(i==null?void 0:i.type)!=="grouped"||!this.properties.isValid())return;const{yKey:o,xKey:r,yFilterKey:l,marker:c,label:h,fill:p,stroke:f,connectMissingData:y,interpolation:m}=this.properties,{scale:b}=s,{scale:v}=a,{isContinuousY:S}=this.getScaleInformation({xScale:b,yScale:v}),D=(b.bandwidth??0)/2,I=n.resolveKeysById(this,"xValue",i),T=n.resolveColumnById(this,"yValueEnd",i),k=n.resolveColumnById(this,"yValueRaw",i),E=n.resolveColumnById(this,"yValueCumulative",i),O=l!=null?n.resolveColumnById(this,"yFilterRaw",i):void 0,B=n.resolveColumnById(this,"yValueStack",i),R=(rt,ct,dt)=>{let ht;return(CS(this.properties.normalizedTo)?S&&uA(dt):!isNaN(dt))&&(ht=ct),{x:b.convert(rt)+D,y:v.convert(ht),size:c.size}},L=[],F=[],{visibleSameStackCount:j}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this);let G=!1;const{dataSources:W}=i,Z=W.get(this.id)??[];for(const{datumIndex:rt}of n.forEachGroupDatum(this,i)){const ct=I[rt];if(ct==null)return;const dt=Z[rt],ht=k[rt],yt=E[rt],pt=T[rt],vt=Number.isFinite(ht),At=R(ct,+yt,ht),bt=O!=null?O[rt]===ht:void 0;if(bt===!1&&(G=!0),vt&&c&&F.push({series:this,itemId:o,datum:dt,datumIndex:rt,midPoint:{x:At.x,y:At.y},cumulativeValue:pt,yValue:ht,xValue:ct,yKey:o,xKey:r,point:At,fill:c.fill??p,stroke:c.stroke??f,strokeWidth:c.strokeWidth??this.getStrokeWidth(this.properties.strokeWidth),selected:bt}),vt&&h){const Rt=this.getLabelText(h,{value:ht,datum:dt,xKey:r,yKey:o,xName:this.properties.xName,yName:this.properties.yName});L.push({series:this,itemId:o,datum:dt,datumIndex:rt,x:At.x,y:At.y,labelText:Rt})}}const U=rt=>rt.flatMap(ct=>Array.isArray(ct)?pM(ct,m):new Array(ct.skip).fill(null)),K=(rt,ct)=>({point:{x:b.convert(rt)+D,y:v.convert(ct)},xDatum:rt,yDatum:ct}),$=rt=>{const ct=[];for(const{datumIndexes:[dt,ht,yt]}of n.forEachGroupDatumTuple(this,i)){const pt=I[ht],vt=B[ht],At=vt[rt],bt=Number.isFinite(At);if(y&&!bt)continue;const Rt=dt!=null?B[dt]:void 0,Nt=yt!=null?B[yt]:void 0;let Ot=0,Xt=0;for(let Gt=0;Gt<=rt;Gt+=1){const St=vt[Gt];if(Number.isFinite(St)){const Ie=Rt==null||Number.isFinite(Rt[Gt]),Ht=Nt==null||Number.isFinite(Nt[Gt]);Ie&&(Ot+=St),Ht&&(Xt+=St)}}const zt=ct[ct.length-1];if(!y&&(Ot!==Xt||!bt))if(!bt&&Array.isArray(zt)&&zt.length===1)ct[ct.length-1]={skip:1};else{const Gt=K(pt,Ot),St=K(pt,Xt);Array.isArray(zt)?zt.push(Gt):zt!=null&&(zt.skip+=1),ct.push(bt?[St]:{skip:0})}else{const Gt=Math.max(Ot,Xt),St=K(pt,Gt);Array.isArray(zt)?zt.push(St):zt!=null?(zt.skip+=1,ct.push([St])):ct.push([St])}}return U(ct)},X=((st=this.seriesGrouping)==null?void 0:st.stackIndex)??0,_=()=>{const rt=Array.from(n.forEachGroupDatum(this,i),({datumIndex:ct})=>{const dt=I[ct],yt=B[ct][X];if(!(y&&!Number.isFinite(yt)))return K(dt,0)}).filter(ct=>ct!=null);return pM(rt,m)},V=$(X),Y=V.map(()=>null);for(let rt=X-1;rt>=-1;rt-=1){let ct;for(let dt=0;dt<Y.length;dt+=1)Y[dt]==null&&(ct??(ct=rt!==-1?$(rt):_()),Y[dt]=ct[dt])}const J=V.map((rt,ct)=>rt??Y[ct]),q=V.filter(rt=>rt!=null);return{itemId:o,fillData:{itemId:o,spans:J,phantomSpans:Y},strokeData:{itemId:o,spans:q},labelData:L,nodeData:F,scales:this.calculateScaling(),visible:this.visible,stackVisible:j>0,crossFiltering:G}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}updatePathNodes(t){var c;const{opacity:e,visible:i,animationEnabled:n}=t,[s,a]=t.paths,o=((c=this.contextNodeData)==null?void 0:c.crossFiltering)===!0,r=this.getStrokeWidth(this.properties.strokeWidth);a.setProperties({fill:void 0,lineCap:"round",lineJoin:"round",pointerEvents:1,stroke:this.properties.stroke,strokeWidth:r,strokeOpacity:this.properties.strokeOpacity*(o?Xrt:1),lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset,opacity:e,visible:i||n});const{fill:l}=this.properties;if(RV(l)){const h=this.getGradientFillOptions(l,this.properties.defaultColorRange);s.gradientFillOptions=h}s.setProperties({stroke:void 0,lineJoin:"round",pointerEvents:1,fill:this.properties.fill,fillOpacity:this.properties.fillOpacity*(o?Krt:1),fillShadow:this.properties.shadow,opacity:e,visible:i||n}),gM(this,a),gM(this,s)}updatePaths(t){this.updateAreaPaths(t.paths,t.contextData)}updateAreaPaths(t,e){for(const i of t)i.visible=e.visible;if(e.visible)this.updateFillPath(t,e),this.updateStrokePath(t,e);else for(const i of t)i.path.clear(),i.markDirty()}updateFillPath(t,e){const[i]=t;i.path.clear(),uW(i,e.fillData),i.markDirty()}updateStrokePath(t,e){const{spans:i}=e.strokeData,[,n]=t;n.path.clear(),cE(n,i),n.markDirty()}updateMarkerSelection(t){var s;const{nodeData:e,markerSelection:i}=t,n=this.properties.marker.enabled||((s=this.contextNodeData)==null?void 0:s.crossFiltering)===!0;return this.properties.marker.isDirty()&&(i.clear(),i.cleanup()),i.update(n?e:[])}getMarkerItemBaseStyle(t){const{marker:e}=this.properties,i=t?this.properties.highlightStyle.item:void 0;return{fill:(i==null?void 0:i.fill)??e.fill,fillOpacity:(i==null?void 0:i.fillOpacity)??e.fillOpacity,stroke:(i==null?void 0:i.stroke)??e.stroke,strokeWidth:(i==null?void 0:i.strokeWidth)??e.strokeWidth,strokeOpacity:(i==null?void 0:i.strokeOpacity)??e.strokeOpacity}}getMarkerItemStyleOverrides(t,e,i,n,s,a){const{marker:o}=this.properties,{itemStyler:r}=o;if(r==null)return;const{id:l,properties:c}=this,{xKey:h,yKey:p}=c,{xDomain:f,yDomain:y}=this.cachedDatumCallback("domain",()=>({xDomain:this.getSeriesDomain("x"),yDomain:this.getSeriesDomain("y")}));return this.cachedDatumCallback(Ki(t,a?"highlight":"node"),()=>r({seriesId:l,...Wu(e,h,p,f,y),xValue:i,yValue:n,highlighted:a,...s}))}updateMarkerNodes(t){const{markerSelection:e,isHighlight:i}=t,{xKey:n,yKey:s,marker:a,fill:o,stroke:r,strokeWidth:l,fillOpacity:c,strokeOpacity:h,highlightStyle:p}=this.properties,f=this.getSeriesDomain("x"),y=this.getSeriesDomain("y"),m=ie(i&&p.item,a.getStyle(),{fill:o,stroke:r,strokeWidth:l,fillOpacity:c,strokeOpacity:h});e.each((b,v)=>{this.updateMarkerStyle(b,a,{...Wu(v,n,s,f,y),highlighted:i},m,{selected:v.selected})}),i||this.properties.marker.markClean()}updateLabelSelection(t){const{labelData:e,labelSelection:i}=t;return i.update(e)}updateLabelNodes(t){const{labelSelection:e}=t,{enabled:i,fontStyle:n,fontWeight:s,fontSize:a,fontFamily:o,color:r}=this.properties.label;e.each((l,c)=>{const{x:h,y:p,labelText:f}=c;f&&i&&this.visible?(l.fontStyle=n,l.fontWeight=s,l.fontSize=a,l.fontFamily=o,l.textAlign="center",l.textBaseline="bottom",l.text=f,l.x=h,l.y=p-10,l.fill=r,l.visible=!0):l.visible=!1})}getTooltipContent(t){var D;const{id:e,dataModel:i,processedData:n,axes:s,properties:a}=this,{xKey:o,xName:r,yKey:l,yName:c,tooltip:h}=a,p=s.x,f=s.y;if(!i||!n||!p||!f)return;const{datumIndex:y}=t,m=(D=n.dataSources.get(this.id))==null?void 0:D[y],b=i.resolveKeysById(this,"xValue",n)[y],v=i.resolveColumnById(this,"yValueRaw",n)[y];if(b==null)return;const S=this.getMarkerItemBaseStyle(!1);return Object.assign(S,this.getMarkerItemStyleOverrides(String(y),m,b,v,S,!1)),h.formatTooltip({heading:p.formatDatum(b),symbol:this.legendItemSymbol(),data:[{label:c,fallbackLabel:l,value:f.formatDatum(v)}]},{seriesId:e,datum:m,title:c,xKey:o,xName:r,yKey:l,yName:c,...S,...this.getModuleTooltipParams()})}legendItemSymbol(){const{fill:t,stroke:e,fillOpacity:i,strokeOpacity:n,strokeWidth:s,lineDash:a,marker:o}=this.properties,r=!o.enabled||o.fill===void 0;return{marker:{shape:o.shape,fill:r?t:o.fill,fillOpacity:r?i:o.fillOpacity,stroke:o.stroke??e,strokeOpacity:o.strokeOpacity,strokeWidth:o.strokeWidth,lineDash:o.lineDash,lineDashOffset:o.lineDashOffset,enabled:o.enabled||s<=0},line:{stroke:e,strokeOpacity:n,strokeWidth:s,lineDash:a}}}getLegendData(t){if(!this.properties.isValid()||t!=="category")return[];const{id:e,ctx:{legendManager:i},visible:n}=this,{yKey:s,yName:a,legendItemName:o,showInLegend:r}=this.properties;return[{legendType:t,id:e,itemId:s,seriesId:e,enabled:n&&i.getItemEnabled({seriesId:e,itemId:s}),label:{text:o??a??s},symbol:this.legendItemSymbol(),legendItemName:o,hideInLegend:!r}]}animateEmptyUpdateReady(t){const{markerSelection:e,labelSelection:i,contextData:n,paths:s}=t,{animationManager:a}=this.ctx;this.updateAreaPaths(s,n),fE(this,a,...s),Fn([e],vx),pE(this,a,e),Me(this,"labels",a,i)}animateReadyResize(t){const{contextData:e,paths:i}=t;this.updateAreaPaths(i,e),super.animateReadyResize(t)}animateWaitingUpdateReady(t){const{animationManager:e}=this.ctx,{markerSelection:i,labelSelection:n,contextData:s,paths:a,previousContextData:o}=t,[r,l]=a;if(r==null&&l==null)return;this.resetMarkerAnimation(t),this.resetLabelAnimation(t);const c=()=>{this.resetPathAnimation(t),this.updateAreaPaths(a,s)},h=()=>{e.skipCurrentBatch(),c()};if(s==null||o==null){c(),bx(this,e,"added",i),fM(this,"fill_path_properties",e,"add",r),fM(this,"stroke_path_properties",e,"add",l),Me(this,"labels",e,n);return}if(s.crossFiltering!==o.crossFiltering){h();return}const p=dW(s,o);if(p===void 0){h();return}else if(p.status==="no-op")return;bx(this,e,void 0,i),vi(this.id,"fill_path_properties",e,[r],p.fill.pathProperties),dM(this.id,"fill_path_update",e,[r],p.fill.path),vi(this.id,"stroke_path_properties",e,[l],p.stroke.pathProperties),dM(this.id,"stroke_path_update",e,[l],p.stroke.path),Me(this,"labels",e,n),this.ctx.animationManager.animate({id:this.id,groupId:"reset_after_animation",phase:"trailing",from:{},to:{},onComplete:()=>this.updateAreaPaths(a,s)})}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new Wt}getFormattedMarkerStyle(t){const{xKey:e,yKey:i}=t,n=this.getSeriesDomain("x"),s=this.getSeriesDomain("y");return this.getMarkerStyle(this.properties.marker,{...Wu(t,e,i,n,s),highlighted:!0})}computeFocusBounds(t){return Sb(this,t)}};yE.className="AreaSeries";yE.type="area";var Zrt={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"area",moduleFactory:t=>new yE(t),stackable:!0,tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"left"},{type:"category",position:"bottom"}],themeTemplate:{series:{nodeClickRange:"nearest",tooltip:{position:{type:"node"}},fillOpacity:.8,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,shadow:{enabled:!1,color:hh,xOffset:3,yOffset:3,blur:5},interpolation:{type:"linear",tension:1,position:"end"},marker:{enabled:!1,shape:"circle",size:7,strokeWidth:0},label:{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}}}},paletteFactory:t=>{const{marker:e}=rE(t),i=t.themeTemplateParameters.get(PA);return{fill:e.fill,stroke:e.stroke,marker:e,defaultColorRange:i}}};function mE(t,e){for(const i of e){const n=i.datum;n===void 0?It.error("undefined datum"):t.addValue(i,n)}}function xE(t,e){const{x:i,y:n}=e,{nearest:s,distanceSquared:a}=t.getQuadTree().find(i,n);if(s!==void 0)return{datum:s.value,distance:Math.sqrt(a)}}var bE=class extends Oc{constructor(){super(...arguments),this.direction="vertical"}};N([w(DV)],bE.prototype,"direction",2);var pW=class extends lh{constructor(){super(...arguments),this.groupScale=new Kx,this.smallestDataInterval=void 0,this.largestDataInterval=void 0}padBandExtent(t,e){const i=typeof e=="boolean"?1:.5,n=ye(this.smallestDataInterval)?this.smallestDataInterval*i:0,s=Nc(t)??[NaN,NaN];return typeof e=="boolean"?s[e?0:1]-=(e?1:-1)*n:(s[0]-=n,s[1]+=n),ba(s)}getBandScalePadding(){return{inner:.3,outer:.15}}shouldFlipXY(){return!this.isVertical()}isVertical(){return this.properties.direction==="vertical"}getBarDirection(){return this.shouldFlipXY()?"x":"y"}getCategoryDirection(){return this.shouldFlipXY()?"y":"x"}getValueAxis(){const t=this.getBarDirection();return this.axes[t]}getCategoryAxis(){const t=this.getCategoryDirection();return this.axes[t]}getBandwidth(t){return ke.is(t.scale)?t.scale.calcBandwidth(this.smallestDataInterval):t.scale.bandwidth}xCoordinateRange(t){const e=this.axes[this.getCategoryDirection()],i=e.scale,n=this.getBandwidth(e)??0,s=ke.is(i)?n*-.5:0,a=i.convert(t)+s;return[a,a+n]}yCoordinateRange(t){const i=this.axes[this.getBarDirection()].scale,n=t.map(s=>i.convert(s));if(n.length===1){const s=i.convert(0);return[Math.min(n[0],s),Math.max(n[0],s)]}return[Math.min(...n),Math.max(...n)]}updateGroupScale(t){const e=[],{groupScale:i}=this,n=this.getBandwidth(t),{index:s,visibleGroupCount:a}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this);for(let r=0;r<a;r++)e.push(String(r));return i.domain=e,i.range=[0,n??0],t instanceof mg?i.paddingInner=t.groupPaddingInner:t instanceof hg?(i.paddingInner=t.groupPaddingInner,i.round=i.padding!==0):i.padding=0,{barWidth:i.bandwidth>=1?i.bandwidth:i.rawBandwidth,groupIndex:s}}resolveKeyDirection(t){return this.getBarDirection()==="x"?t==="x"?"y":"x":t}initQuadTree(t){mE(t,this.datumNodesIter())}pickNodeClosestDatum(t){return xE(this,t)}},vE=class extends Nn{constructor(){super(...arguments),this.placement="inside-center",this.padding=0}};N([w(Ye(["inside-center","inside-start","inside-end","outside-start","outside-end"],"a placement"))],vE.prototype,"placement",2);N([w(de)],vE.prototype,"padding",2);var Ci=class extends bE{constructor(){super(...arguments),this.fill="#c16068",this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.crisp=void 0,this.shadow=new Mr,this.label=new vE,this.tooltip=new ws,this.sparklineMode=!1,this.fastDataProcessing=!1}};N([w(Dt)],Ci.prototype,"xKey",2);N([w(Dt,{optional:!0})],Ci.prototype,"xName",2);N([w(Dt)],Ci.prototype,"yKey",2);N([w(Dt,{optional:!0})],Ci.prototype,"yName",2);N([w(Dt,{optional:!0})],Ci.prototype,"yFilterKey",2);N([w(Dt,{optional:!0})],Ci.prototype,"stackGroup",2);N([w(de,{optional:!0})],Ci.prototype,"normalizedTo",2);N([w(Ae)],Ci.prototype,"fill",2);N([w(Le)],Ci.prototype,"fillOpacity",2);N([w(Ae)],Ci.prototype,"stroke",2);N([w(Tt)],Ci.prototype,"strokeWidth",2);N([w(Le)],Ci.prototype,"strokeOpacity",2);N([w(pl)],Ci.prototype,"lineDash",2);N([w(Tt)],Ci.prototype,"lineDashOffset",2);N([w(Tt)],Ci.prototype,"cornerRadius",2);N([w(jt,{optional:!0})],Ci.prototype,"crisp",2);N([w(ta,{optional:!0})],Ci.prototype,"itemStyler",2);N([w(kt,{optional:!0})],Ci.prototype,"shadow",2);N([w(kt)],Ci.prototype,"label",2);N([w(kt)],Ci.prototype,"tooltip",2);N([w(jt)],Ci.prototype,"sparklineMode",2);N([w(jt)],Ci.prototype,"fastDataProcessing",2);function fW(t,e,i,n){if(e!=null){const[s,a]=e;if(s!==0||a!==1)return!1}if(ke.is(t)){const s=t.calcBandwidth(n)-t.calcBandwidth(i);if(s>0&&s<1)return!1}return!0}var YC=t=>XM(t.yValue??0);function Sx(t,e,i){const{startingX:n,startingY:s}=Qrt(t,e);return{isVertical:t,calculate:(o,r)=>{let l=t?o.x:n,c=t?s:o.y,h=t?o.width:0,p=t?0:o.height;const{opacity:f=1}=o;r&&(isNaN(l)||isNaN(c))&&({x:l,y:c}=r,h=t?r.width:0,p=t?0:r.height,t&&!YC(r)?c+=r.height:!t&&YC(r)&&(l+=r.width));let y;return o.clipBBox==null?y=void 0:YC(o)?y=t?new Et(l,c-p,h,p):new Et(l-h,c,h,p):y=new Et(l,c,h,p),{x:l,y:c,width:h,height:p,clipBBox:y,opacity:f}},mode:i}}function qrt(t,e){return{isVertical:t,calculate:i=>({x:t?i.x:i.x+i.width/2,y:t?i.y+i.height/2:i.y,width:t?i.width:0,height:t?0:i.height,clipBBox:i.clipBBox,opacity:i.opacity??1}),mode:e}}function Mx(t){const e=a=>a==null||isNaN(a.x)||isNaN(a.y);return{toFn:(a,o,r)=>r==="removed"&&a.datum==null&&t.mode==="fade"?{...Ax(a,o),opacity:0}:r==="removed"||e(o)?t.calculate(o,a.previousDatum):{x:o.x,y:o.y,width:o.width,height:o.height,clipBBox:o.clipBBox,opacity:o.opacity??1},fromFn:(a,o,r)=>{r==="updated"&&e(o)?r="removed":r==="updated"&&e(a.previousDatum)&&(r="added");let l;r==="added"&&a.previousDatum==null&&t.mode==="fade"?l={...Ax(a,o),opacity:0}:r==="unknown"||r==="added"?l=t.calculate(o,a.previousDatum):l={x:a.x,y:a.y,width:a.width,height:a.height,clipBBox:a.clipBBox,opacity:a.opacity??1};const c=hr[r];return{...l,phase:c}},applyFn:(a,o,r)=>{var l;a.setProperties(o),a.crisp=r==="end"&&(((l=a.datum)==null?void 0:l.crisp)??!1)}}}function Qrt(t,e){const i=e[t?"y":"x"];let n=1/0,s=0;return i?(t?s=i.scale.convert(ke.is(i.scale)?0:Math.max(...i.range)):n=i.scale.convert(ke.is(i.scale)?0:Math.min(...i.range)),{startingX:n,startingY:s}):{startingX:n,startingY:s}}function Ax(t,{x:e,y:i,width:n,height:s,clipBBox:a,opacity:o=1}){var r;return{x:e,y:i,width:n,height:s,clipBBox:a,opacity:o,crisp:((r=t.datum)==null?void 0:r.crisp)??!1}}function SE(t,e){if(e===void 0)return;const{x:i,y:n,width:s,height:a}=e;return Di.toCanvas(t.contentGroup,new Et(i,n,s,a))}function gW(t,e,i){if(e.enabled&&i){const{x:n,y:s,text:a,textAlign:o,textBaseline:r}=i,{color:l,fontStyle:c,fontWeight:h,fontSize:p,fontFamily:f}=e;t.setProperties({visible:!0,x:n,y:s,text:a,fill:l,fontStyle:c,fontWeight:h,fontSize:p,fontFamily:f,textAlign:o,textBaseline:r})}else t.visible=!1}var Jrt={"inside-start":{inside:!0,direction:-1,textAlignment:1},"inside-end":{inside:!0,direction:1,textAlignment:-1},"outside-start":{inside:!1,direction:-1,textAlignment:-1},"outside-end":{inside:!1,direction:1,textAlignment:1}};function yW({isUpward:t,isVertical:e,placement:i,padding:n=0,rect:s}){let a=s.x+s.width/2,o=s.y+s.height/2,r="center",l="middle";if(i!=="inside-center"){const c=(t?1:-1)*(e?-1:1),{direction:h,textAlignment:p}=Jrt[i],f=(h+1)*.5;if(e){const y=t?s.y+s.height:s.y,m=s.height*c;o=y+m*f+n*p*c,l=p===c?"top":"bottom"}else{const y=t?s.x:s.x+s.width,m=s.width*c;a=y+m*f+n*p*c,r=p===c?"left":"right"}}return{x:a,y:o,textAlign:r,textBaseline:l}}var tlt=0,elt=1,ilt=2,nlt=3,slt=4,jA=class extends pW{constructor(e){super({moduleCtx:e,directionKeys:$d,directionNames:Kd,pickModes:[2,1,0],pathsPerSeries:[],hasHighlightedLabels:!0,datumSelectionGarbageCollection:!1,animationAlwaysUpdateSelections:!0,animationResetFns:{datum:Ax,label:Rc}}),this.properties=new Ci,this.connectsToYAxis=!0,this.dataAggregationFilters=void 0}get pickModeAxis(){return this.properties.sparklineMode?"main":void 0}crossFilteringEnabled(){return this.properties.yFilterKey!=null&&(this.seriesGrouping==null||this.seriesGrouping.stackIndex===0)}async processData(e){var R,L,F,j,G,W;if(!this.properties.isValid()||!this.data)return;const{xKey:i,yKey:n,yFilterKey:s,normalizedTo:a,fastDataProcessing:o}=this.properties,{seriesGrouping:{groupIndex:r=this.id}={},data:l}=this,c=((R=this.seriesGrouping)==null?void 0:R.groupCount)??0,p=(((L=this.seriesGrouping)==null?void 0:L.stackCount)??0)>=1||a!=null,f=!o||c>1||p,y=!this.ctx.animationManager.isSkipped(),m=(F=this.getCategoryAxis())==null?void 0:F.scale,b=(j=this.getValueAxis())==null?void 0:j.scale,{isContinuousX:v,xScaleType:S,yScaleType:D}=this.getScaleInformation({xScale:m,yScale:b}),I=`bar-stack-${r}-yValues`,T=`${I}-trailing`,k=this.visible?{}:{forceValue:0},E=[gr(i,S,{id:"xValue"}),ne(n,D,{id:"yValue-raw",invalidValue:null,...k})];this.crossFilteringEnabled()&&E.push(ne(s,D,{id:"yFilterValue",invalidValue:null,...k})),p&&E.push(...Yu(n,"normal","current",{id:"yValue-end",rangeId:"yValue-range",invalidValue:null,missingValue:0,groupId:I,separateNegative:!0,...k},D),...Yu(n,"trailing","current",{id:"yValue-start",invalidValue:null,missingValue:0,groupId:T,separateNegative:!0,...k},D)),v&&E.push(EH,OH),ye(a)&&E.push(TA([I,T],Math.abs(a))),y&&this.processedData&&E.push(yg(this.id,this.processedData)),(y||!f)&&E.push(gg());const{dataModel:O,processedData:B}=await this.requestDataModel(e,l,{props:E,groupByKeys:f,groupByData:!f});this.dataAggregationFilters=this.aggregateData(O,B),this.smallestDataInterval=(G=B.reduced)==null?void 0:G.smallestKeyInterval,this.largestDataInterval=(W=B.reduced)==null?void 0:W.largestKeyInterval,this.animationState.transition("updateData")}getSeriesDomain(e){var r;const{processedData:i,dataModel:n}=this;if(n==null||i==null)return[];if(e===this.getCategoryDirection()){const l=n.resolveProcessedDataDefById(this,"xValue"),c=n.getDomain(this,"xValue","key",i);return(l==null?void 0:l.def.type)==="key"&&l.def.valueType==="category"?c:this.padBandExtent(c)}const s=(r=this.dataModel)!=null&&r.hasColumnById(this,"yValue-end")?"yValue-end":"yValue-raw";let a=this.domainForClippedRange("y",[s],"xValue",!0);const o=this.crossFilteringEnabled()?n.getDomain(this,"yFilterValue","value",i):void 0;if(o!=null&&(a=[Math.min(a[0],o[0]),Math.max(a[1],o[1])]),this.getValueAxis()instanceof Xd)return ba(a);{const l=Number.isFinite(a[1]-a[0])?[Math.min(0,a[0]),Math.max(0,a[1])]:[];return ba(l)}}getSeriesRange(e,i){var o;const n=(o=this.dataModel)!=null&&o.hasColumnById(this,"yValue-end")?"yValue-end":"yValue-raw",[s,a]=this.domainForVisibleRange("y",[n],"xValue",i,!0);return[Math.min(s,0),Math.max(a,0)]}getVisibleItems(e,i,n){var a;const s=(a=this.dataModel)!=null&&a.hasColumnById(this,"yValue-end")?"yValue-end":"yValue-raw";return this.countVisibleItems("xValue",[s],e,i,n)}aggregateData(e,i){}createNodeData(){var V;const{dataModel:e,processedData:i,groupScale:n,dataAggregationFilters:s}=this,a=this.getCategoryAxis(),o=this.getValueAxis();if(!e||!i||!a||!o||!this.properties.isValid())return;const r=(V=i.dataSources)==null?void 0:V.get(this.id);if(r==null)return;const l=a.scale,c=o.scale,{xKey:h,yKey:p,xName:f,yName:y,legendItemName:m,label:b}=this.properties,v=o.isReversed(),{barWidth:S,groupIndex:D}=this.updateGroupScale(a),I=n.convert(String(D)),T=ke.is(l)?S*-.5:0,k=e.resolveKeysById(this,"xValue",i),E=e.resolveColumnById(this,"yValue-raw",i),O=this.crossFilteringEnabled()?e.resolveColumnById(this,"yFilterValue",i):void 0,B=!this.ctx.animationManager.isSkipped(),R=Y=>l.convert(k[Y])+I+T,L=this.properties.crisp??fW(a==null?void 0:a.scale,a==null?void 0:a.visibleRange,this.smallestDataInterval,this.largestDataInterval),F=c.convert(0),j=({datum:Y,datumIndex:J,valueIndex:q,xValue:nt,yValue:st,cumulativeValue:rt,phantom:ct,currY:dt,prevY:ht,x:yt,width:pt,isPositive:vt,yRange:At,labelText:bt,opacity:Rt,crossScale:Nt=1})=>{const Ot=vt!==v,Xt=c.convert(dt),zt=c.convert(ht),Gt=c.convert(At),St=this.getBarDirection()==="x",Ie=pt*.5*(1-Nt),Ht={x:St?Math.min(Xt,zt):yt+Ie,y:St?yt+Ie:Math.min(Xt,zt),width:St?Math.abs(zt-Xt):pt*Nt,height:St?pt*Nt:Math.abs(zt-Xt)},on=new Et(Ht.x,Ht.y,Ht.width,Ht.height),Fi={x:St?Math.min(F,Gt):yt+Ie,y:St?yt+Ie:Math.min(F,Gt),width:St?Math.abs(F-Gt):pt*Nt,height:St?pt*Nt:Math.abs(F-Gt)},gs=this.shouldFlipXY()?Ht.height:Ht.width;return{series:this,itemId:ct?Ki(p,ct):p,datum:Y,datumIndex:J,valueIndex:q,cumulativeValue:rt,phantom:ct,xValue:nt,yValue:st,yKey:p,xKey:h,capDefaults:{lengthRatioMultiplier:gs,lengthMax:gs},x:Fi.x,y:Fi.y,width:Fi.width,height:Fi.height,midPoint:{x:Ht.x+Ht.width/2,y:Ht.y+Ht.height/2},opacity:Rt,topLeftCornerRadius:St!==Ot,topRightCornerRadius:Ot,bottomRightCornerRadius:St===Ot,bottomLeftCornerRadius:!Ot,clipBBox:on,crisp:L,label:bt!=null?{text:bt,...yW({isUpward:Ot,isVertical:!St,placement:b.placement,padding:b.padding,rect:Ht})}:void 0,missing:st==null,focusable:!ct}},G=[],W=[],Z=[],U=(Y,J,q,nt,st,rt,ct,dt)=>{const ht=k[Y];if(ht==null)return;const yt=E[Y],pt=O!=null?Number(O[Y]):void 0,vt=yt>=0&&!Object.is(yt,-0);if(!Number.isFinite(rt)||pt!=null&&!Number.isFinite(pt))return;const At=yt!=null?this.getLabelText(this.properties.label,{datum:r[Y],value:pt??yt,xKey:h,yKey:p,xName:f,yName:y,legendItemName:m}):void 0,bt=pt!=null&&pt>yt,Rt=j({datum:r[Y],datumIndex:Y,valueIndex:J,xValue:ht,yValue:pt??yt,cumulativeValue:pt??rt,phantom:!1,currY:pt!=null?st+pt:rt,prevY:st,x:q,width:nt,isPositive:vt,yRange:Math.max(st+(pt??-1/0),ct),labelText:At,opacity:dt,crossScale:bt?.6:void 0});if(W.push(Rt),Z.push(Rt),pt!=null){const Nt=j({datum:r[Y],datumIndex:Y,valueIndex:J,xValue:ht,yValue:pt,cumulativeValue:pt,phantom:!0,currY:rt,prevY:st,x:q,width:nt,isPositive:vt,yRange:ct,labelText:void 0,opacity:dt,crossScale:void 0});G.push(Nt)}},[K,$]=l.range,X=$-K,_=s==null?void 0:s.find(Y=>Y.maxRange>X);if(i.type==="grouped"){const Y=S,J=e.hasColumnById(this,"yValue-start"),q=J?e.resolveColumnById(this,"yValue-start",i):void 0,nt=J?e.resolveColumnById(this,"yValue-end",i):void 0,st=J?e.resolveProcessedDataIndexById(this,"yValue-range"):-1;for(const{datumIndex:rt,valueIndex:ct,group:{aggregation:dt}}of e.forEachGroupDatum(this,i)){const ht=R(rt),yt=E[rt],pt=yt>=0&&!Object.is(yt,-0),vt=J?Number(q==null?void 0:q[rt]):0,At=J?Number(nt==null?void 0:nt[rt]):yt;let bt=At;J&&(bt=dt[st][pt?1:0]),U(rt,ct,ht,Y,vt,At,bt,1)}}else if(_==null){const Y=S;let[J,q]=this.visibleRange("xValue",a.range);i.input.count<1e3&&(J=0,q=i.input.count);for(let nt=J;nt<q;nt+=1){const st=R(nt),rt=Number(E[nt]);U(nt,0,st,Y,0,rt,rt,1)}}else{const{indexData:Y,indices:J}=_,[q,nt]=this.visibleRange("xValue",a.range,J);for(let st=q;st<nt;st+=1){const rt=st*slt,ct=Y[rt+tlt],dt=Y[rt+elt],ht=Y[rt+ilt],yt=Y[rt+nlt];if(ct===-1)continue;const pt=R((ct+dt)/2|0),vt=Math.abs(R(dt)-R(ct))+S,At=k[yt]!=null?Number(E[yt]):NaN,bt=k[ht]!=null?Number(E[ht]):NaN;if(At>0){const Rt=bt>=0?bt/At:1;U(yt,0,pt,vt,0,At,At,Rt)}if(bt<0){const Rt=At<=0?At/bt:1;U(ht,1,pt,vt,0,bt,bt,Rt)}}}return{itemId:p,nodeData:G.length>0?[...G,...W]:W,labelData:Z,scales:this.calculateScaling(),visible:this.visible||B,groupScale:this.getScaling(this.groupScale)}}nodeFactory(){return new Es}getHighlightData(e,i){const n=e.find(s=>s.datum===i.datum&&!s.phantom);return n!=null?[n]:void 0}updateDatumSelection(e){return e.datumSelection.update(e.nodeData,void 0,i=>this.getDatumId(i))}getItemBaseStyle(e){const{properties:i}=this,{cornerRadius:n}=i,s=e?i.highlightStyle.item:void 0;return{fill:(s==null?void 0:s.fill)??i.fill,fillOpacity:(s==null?void 0:s.fillOpacity)??i.fillOpacity,stroke:(s==null?void 0:s.stroke)??i.stroke,strokeWidth:(s==null?void 0:s.strokeWidth)??this.getStrokeWidth(i.strokeWidth),strokeOpacity:(s==null?void 0:s.strokeOpacity)??i.strokeOpacity,lineDash:(s==null?void 0:s.lineDash)??i.lineDash??[],lineDashOffset:(s==null?void 0:s.lineDashOffset)??i.lineDashOffset,cornerRadius:n}}getItemStyleOverrides(e,i,n,s,a,o){const{id:r,properties:l}=this,{xKey:c,yKey:h,itemStyler:p}=l;if(p==null)return;const{xDomain:f,yDomain:y}=this.cachedDatumCallback("domain",()=>({xDomain:this.getSeriesDomain("x"),yDomain:this.getSeriesDomain("y")}));return this.cachedDatumCallback(Ki(e,o?"highlight":"node"),()=>p({seriesId:r,...Wu(i,c,h,f,y),xValue:n,yValue:s,highlighted:o,...a}))}updateDatumNodes(e){if(!this.properties.isValid())return;const{shadow:i}=this.properties,n=this.getCategoryDirection()==="x",s=this.getItemBaseStyle(e.isHighlight);e.datumSelection.each((a,o)=>{var c,h;const r=this.getItemStyleOverrides(String(o.datumIndex),o.datum,o.xValue,o.yValue,s,e.isHighlight);a.opacity=o.opacity??0,px(a,s,r);const l=(r==null?void 0:r.cornerRadius)??s.cornerRadius;a.topLeftCornerRadius=o.topLeftCornerRadius?l:0,a.topRightCornerRadius=o.topRightCornerRadius?l:0,a.bottomRightCornerRadius=o.bottomRightCornerRadius?l:0,a.bottomLeftCornerRadius=o.bottomLeftCornerRadius?l:0,a.visible=n?(((c=o.clipBBox)==null?void 0:c.width)??o.width)>0:(((h=o.clipBBox)==null?void 0:h.height)??o.height)>0,a.crisp=o.crisp,a.fillShadow=i})}updateLabelSelection(e){const i=this.isLabelEnabled()?e.labelData:[];return e.labelSelection.update(i,n=>{n.pointerEvents=1})}updateLabelNodes(e){e.labelSelection.each((i,n)=>{gW(i,this.properties.label,n.label)})}getTooltipContent(e){var T;const{id:i,dataModel:n,processedData:s,properties:a}=this,{xKey:o,xName:r,yKey:l,yName:c,legendItemName:h,stackGroup:p,tooltip:f}=a,y=this.getCategoryAxis(),m=this.getValueAxis();if(!n||!s||!y||!m)return;const{datumIndex:b}=e,v=(T=s.dataSources.get(this.id))==null?void 0:T[b],S=n.resolveKeysById(this,"xValue",s)[b],D=n.resolveColumnById(this,"yValue-raw",s)[b];if(S==null)return;const I=this.getItemBaseStyle(!1);return Object.assign(I,this.getItemStyleOverrides(String(b),v,S,D,I,!1)),f.formatTooltip({heading:y.formatDatum(S),symbol:this.legendItemSymbol(),data:[{label:c,fallbackLabel:l,value:m.formatDatum(D)}]},{seriesId:i,datum:v,title:c,xKey:o,xName:r,yKey:l,yName:c,legendItemName:h,stackGroup:p,...I,...this.getModuleTooltipParams()})}legendItemSymbol(){const{fill:e,stroke:i,strokeWidth:n,fillOpacity:s,strokeOpacity:a,lineDash:o,lineDashOffset:r}=this.properties;return{marker:{fill:e,fillOpacity:s,stroke:i,strokeWidth:n,strokeOpacity:a,lineDash:o,lineDashOffset:r}}}getLegendData(e){const{showInLegend:i}=this.properties;if(e!=="category"||!this.properties.isValid())return[];const{id:n,ctx:{legendManager:s},visible:a}=this,{yKey:o,yName:r,legendItemName:l}=this.properties;return[{legendType:"category",id:n,itemId:o,seriesId:n,enabled:a&&s.getItemEnabled({seriesId:n,itemId:o}),label:{text:l??r??o},symbol:this.legendItemSymbol(),legendItemName:l,hideInLegend:!i}]}animateEmptyUpdateReady({datumSelection:e,labelSelection:i,annotationSelections:n}){const s=Mx(Sx(this.isVertical(),this.axes,"normal"));vi(this.id,"nodes",this.ctx.animationManager,[e],s),Me(this,"labels",this.ctx.animationManager,i),Me(this,"annotations",this.ctx.animationManager,...n)}animateWaitingUpdateReady(e){var p,f,y,m,b;const{datumSelection:i,labelSelection:n,annotationSelections:s,previousContextData:a}=e;this.ctx.animationManager.stopByAnimationGroupId(this.id);let o=(y=(f=(p=this.processedData)==null?void 0:p.reduced)==null?void 0:f.diff)==null?void 0:y[this.id];o==null&&((b=(m=this.processedData)==null?void 0:m.reduced)==null?void 0:b.diff)!=null&&(o={changed:!0,added:new Set(Array.from(i,({datum:v})=>this.getDatumId(v))),updated:new Set,removed:new Set,moved:new Set});const r=a==null?"fade":"normal",l=Mx(Sx(this.isVertical(),this.axes,r));vi(this.id,"nodes",this.ctx.animationManager,[i],l,(v,S)=>this.getDatumId(S),o);const c=a!=null&&(!Hf(e.contextData.scales.x,a.scales.x)||!Hf(e.contextData.scales.y,a.scales.y)||!Hf(e.contextData.groupScale,e.previousContextData.groupScale));(((o==null?void 0:o.changed)??!1)||c)&&(Me(this,"labels",this.ctx.animationManager,n),Me(this,"annotations",this.ctx.animationManager,...s))}getDatumId(e){return Ki(e.xValue,e.valueIndex,e.phantom)}isLabelEnabled(){return this.properties.label.enabled}computeFocusBounds({datumIndex:e}){var n;const i=(n=this.contextNodeData)==null?void 0:n.nodeData[e].clipBBox;return SE(this,i)}};jA.className="BarSeries";jA.type="bar";var mW={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bar",moduleFactory:t=>new jA(t),stackable:!0,groupable:!0,tooltipDefaults:{range:"exact"},defaultAxes:KH([{type:"number",position:"left"},{type:"category",position:"bottom"}],t=>(t==null?void 0:t.direction)==="horizontal"),themeTemplate:{series:{direction:"vertical",fillOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$if:[{$or:[{$eq:[{$path:"./placement"},"outside-start"]},{$eq:[{$path:"./placement"},"outside-end"]}]},{$ref:"textColor"},{$ref:"backgroundColor"}]},placement:"inside-center"},shadow:{enabled:!1,color:hh,xOffset:3,yOffset:3,blur:5},errorBar:{cap:{lengthRatio:.3}}}},paletteFactory:bb},ME=class extends Os{constructor(){super(...arguments),this.maxSize=30}};N([w(Tt),Lt()],ME.prototype,"maxSize",2);N([w(aA,{optional:!0}),Lt()],ME.prototype,"domain",2);var xW=class extends Nn{constructor(){super(...arguments),this.placement="top"}};N([w(tN)],xW.prototype,"placement",2);var Be=class extends Oc{constructor(){super(...arguments),this.colorRange=["#ffff00","#00ff00","#0000ff"],this.label=new xW,this.tooltip=new ws,this.marker=new ME}};N([w(Dt)],Be.prototype,"xKey",2);N([w(Dt)],Be.prototype,"yKey",2);N([w(Dt)],Be.prototype,"sizeKey",2);N([w(Dt,{optional:!0})],Be.prototype,"labelKey",2);N([w(Dt,{optional:!0})],Be.prototype,"colorKey",2);N([w(Dt,{optional:!0})],Be.prototype,"xFilterKey",2);N([w(Dt,{optional:!0})],Be.prototype,"yFilterKey",2);N([w(Dt,{optional:!0})],Be.prototype,"sizeFilterKey",2);N([w(Dt,{optional:!0})],Be.prototype,"xName",2);N([w(Dt,{optional:!0})],Be.prototype,"yName",2);N([w(Dt,{optional:!0})],Be.prototype,"sizeName",2);N([w(Dt,{optional:!0})],Be.prototype,"labelName",2);N([w(Dt,{optional:!0})],Be.prototype,"colorName",2);N([w(aA,{optional:!0})],Be.prototype,"colorDomain",2);N([w(Ha)],Be.prototype,"colorRange",2);N([w(Dt,{optional:!0})],Be.prototype,"title",2);N([ni("marker.shape")],Be.prototype,"shape",2);N([ni("marker.size")],Be.prototype,"size",2);N([ni("marker.maxSize")],Be.prototype,"maxSize",2);N([ni("marker.domain",{optional:!0})],Be.prototype,"domain",2);N([ni("marker.fill",{optional:!0})],Be.prototype,"fill",2);N([ni("marker.fillOpacity")],Be.prototype,"fillOpacity",2);N([ni("marker.stroke",{optional:!0})],Be.prototype,"stroke",2);N([ni("marker.strokeWidth")],Be.prototype,"strokeWidth",2);N([ni("marker.strokeOpacity")],Be.prototype,"strokeOpacity",2);N([ni("marker.lineDash")],Be.prototype,"lineDash",2);N([ni("marker.lineDashOffset")],Be.prototype,"lineDashOffset",2);N([ni("marker.itemStyler",{optional:!0})],Be.prototype,"itemStyler",2);N([w(kt)],Be.prototype,"label",2);N([w(kt)],Be.prototype,"tooltip",2);var alt=class extends HN{constructor(t,e,i,n){super(t,e,i,n),this.sizeKey=n.properties.sizeKey}},AE=class extends lh{constructor(t){super({moduleCtx:t,directionKeys:$d,directionNames:Kd,pickModes:[2,1,0],pathsPerSeries:[],hasMarkers:!0,markerSelectionGarbageCollection:!1,animationResetFns:{label:Rc,marker:vb},usesPlacedLabels:!0}),this.NodeEvent=alt,this.clipFocusBox=!1,this.properties=new Be,this.sizeScale=new fr,this.colorScale=new ih}get pickModeAxis(){return"main-category"}async processData(t){var E,O;if(!this.properties.isValid()||this.data==null||!this.visible)return;const e=(E=this.axes.x)==null?void 0:E.scale,i=(O=this.axes.y)==null?void 0:O.scale,{xScaleType:n,yScaleType:s}=this.getScaleInformation({xScale:e,yScale:i}),a=this.colorScale.type,o=this.sizeScale.type,{xKey:r,yKey:l,sizeKey:c,xFilterKey:h,yFilterKey:p,sizeFilterKey:f,labelKey:y,colorDomain:m,colorRange:b,colorKey:v,marker:S}=this.properties,{dataModel:D,processedData:I}=await this.requestDataModel(t,this.data,{props:[ne(r,n,{id:"xValue"}),ne(l,s,{id:"yValue"}),...h!=null?[ne(h,n,{id:"xFilterValue"})]:[],...p!=null?[ne(p,s,{id:"yFilterValue"})]:[],...f!=null?[ne(f,o,{id:"sizeFilterValue"})]:[],ne(c,o,{id:"sizeValue"}),...v?[ne(v,a,{id:"colorValue"})]:[],...y?[ne(y,"band",{id:"labelValue"})]:[]]}),T=D.resolveProcessedDataIndexById(this,"sizeValue"),k=I.domain.values[T]??[];if(this.sizeScale.domain=S.domain?S.domain:k,v){const B=D.resolveProcessedDataIndexById(this,"colorValue");this.colorScale.domain=m??I.domain.values[B]??[],this.colorScale.range=b,this.colorScale.update()}this.animationState.transition("updateData")}xCoordinateRange(t,e,i){const{properties:n,sizeScale:s}=this,{size:a,sizeKey:o}=n,r=this.axes.x.scale.convert(t),l=o!=null?this.dataModel.resolveColumnById(this,"sizeValue",this.processedData):void 0,h=.5*(l!=null?s.convert(l[i]):a)*e;return[r-h,r+h]}yCoordinateRange(t,e,i){const{properties:n,sizeScale:s}=this,{size:a,sizeKey:o}=n,r=this.axes.y.scale.convert(t[0]),l=o!=null?this.dataModel.resolveColumnById(this,"sizeValue",this.processedData):void 0,h=.5*(l!=null?s.convert(l[i]):a)*e;return[r-h,r+h]}getSeriesDomain(t){const{dataModel:e,processedData:i}=this;if(!i||!e)return[];const n={x:"xValue",y:"yValue"},s=n[t],a=e.resolveProcessedDataDefById(this,s),o=e.getDomain(this,s,"value",i);if((a==null?void 0:a.def.type)==="value"&&(a==null?void 0:a.def.valueType)==="category")return o;const l=n[t==="x"?"y":"x"],c=this.domainForClippedRange(t,[s],l,!1);return ba(Nc(c))}getSeriesRange(t,e){return this.domainForVisibleRange("y",["yValue"],"xValue",e,!1)}getVisibleItems(t,e,i){return this.countVisibleItems("xValue",["yValue"],t,e,i)}createNodeData(){var J;const{axes:t,dataModel:e,processedData:i,colorScale:n,sizeScale:s,visible:a}=this,{xKey:o,yKey:r,sizeKey:l,xFilterKey:c,yFilterKey:h,sizeFilterKey:p,labelKey:f,xName:y,yName:m,sizeName:b,labelName:v,label:S,colorKey:D,marker:I}=this.properties,{placement:T}=S,k=kn.anchor(I.shape),E=t.x,O=t.y;if(!(e&&i&&a&&E&&O))return;const B=e.resolveColumnById(this,"xValue",i),R=e.resolveColumnById(this,"yValue",i),L=l!=null?e.resolveColumnById(this,"sizeValue",i):void 0,F=D!=null?e.resolveColumnById(this,"colorValue",i):void 0,j=f!=null?e.resolveColumnById(this,"labelValue",i):void 0,G=c!=null?e.resolveColumnById(this,"xFilterValue",i):void 0,W=h!=null?e.resolveColumnById(this,"yFilterValue",i):void 0,Z=p!=null?e.resolveColumnById(this,"sizeFilterValue",i):void 0,U=E.scale,K=O.scale,$=(U.bandwidth??0)/2,X=(K.bandwidth??0)/2,_=[];s.range=[I.size,I.maxSize];const V=S.getFont(),Y=Tc.getMeasurer({font:V});return(J=i.dataSources.get(this.id))==null||J.forEach((q,nt)=>{const st=B[nt],rt=R[nt],ct=L==null?void 0:L[nt],dt=U.convert(st)+$,ht=K.convert(rt)+X;let yt;G!=null&&W!=null&&(yt=G[nt]===st&&W[nt]===rt,Z!=null&&yt&&(yt=Z[nt]===ct));const pt=this.getLabelText(S,{value:j!=null?j[nt]:rt,datum:q,xKey:o,yKey:r,sizeKey:l,labelKey:f,xName:y,yName:m,sizeName:b,labelName:v}),vt=Y.measureText(String(pt)),At=ct!=null?s.convert(ct):I.size,bt=F!=null?n.convert(F[nt]):void 0;_.push({series:this,itemId:r,yKey:r,xKey:o,datum:q,datumIndex:nt,xValue:st,yValue:rt,sizeValue:ct,point:{x:dt,y:ht,size:At},midPoint:{x:dt,y:ht},fill:bt,label:{text:pt,...vt},anchor:k,placement:T,selected:yt})}),{itemId:r,nodeData:_,labelData:_,scales:this.calculateScaling(),visible:this.visible}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}getLabelData(){var t;return this.isLabelEnabled()?((t=this.contextNodeData)==null?void 0:t.labelData)??[]:[]}updateMarkerSelection(t){const{nodeData:e,markerSelection:i}=t;this.properties.marker.isDirty()&&(i.clear(),i.cleanup());const n=this.properties.marker.enabled?e:[];return i.update(n,void 0,s=>Ki([s.xValue,s.yValue,s.label.text]))}getMarkerItemBaseStyle(t){const{properties:e}=this,{marker:i}=e,n=t?e.highlightStyle.item:void 0;return{fill:(n==null?void 0:n.fill)??i.fill,fillOpacity:(n==null?void 0:n.fillOpacity)??i.fillOpacity,stroke:(n==null?void 0:n.stroke)??i.stroke,strokeWidth:(n==null?void 0:n.strokeWidth)??i.strokeWidth,strokeOpacity:(n==null?void 0:n.strokeOpacity)??i.strokeOpacity,lineDash:(n==null?void 0:n.lineDash)??i.lineDash,lineDashOffset:(n==null?void 0:n.lineDashOffset)??i.lineDashOffset}}getMarkerItemStyleOverrides(t,e,i,n){const{id:s,properties:a}=this,{xKey:o,yKey:r,sizeKey:l,labelKey:c,marker:h}=a,{itemStyler:p}=h;if(p!=null)return this.cachedDatumCallback(Ki(t,n?"highlight":"node"),()=>p({seriesId:s,datum:e,xKey:o,yKey:r,sizeKey:l,labelKey:c,highlighted:n,...i}))}updateMarkerNodes(t){const{markerSelection:e,isHighlight:i}=t,{xKey:n,yKey:s,sizeKey:a,labelKey:o,marker:r}=this.properties,{size:l,shape:c,fill:h,fillOpacity:p,stroke:f,strokeWidth:y,strokeOpacity:m,lineDash:b,lineDashOffset:v}=ie(i&&this.properties.highlightStyle.item,r.getStyle()),S={size:l,shape:c,fill:h,fillOpacity:p,stroke:f,strokeWidth:y,strokeOpacity:m,lineDash:b,lineDashOffset:v};this.sizeScale.range=[r.size,r.maxSize],e.each((D,I)=>{this.updateMarkerStyle(D,r,{datum:I,highlighted:i,xKey:n,yKey:s,sizeKey:a,labelKey:o},S,{selected:I.selected})}),i||this.properties.marker.markClean()}updatePlacedLabelData(t){this.labelSelection.update(t.map(e=>({...e.datum,point:{x:e.x,y:e.y,size:e.datum.point.size}})),e=>{e.pointerEvents=1}),this.updateLabelNodes({labelSelection:this.labelSelection})}updateLabelNodes(t){const{label:e}=this.properties;t.labelSelection.each((i,n)=>{var s,a;i.text=n.label.text,i.fill=e.color,i.x=((s=n.point)==null?void 0:s.x)??0,i.y=((a=n.point)==null?void 0:a.y)??0,i.fontStyle=e.fontStyle,i.fontWeight=e.fontWeight,i.fontSize=e.fontSize,i.fontFamily=e.fontFamily,i.textAlign="left",i.textBaseline="top"})}getTooltipContent(t){var B;const{id:e,dataModel:i,processedData:n,axes:s,properties:a}=this,{xKey:o,xName:r,yKey:l,yName:c,sizeKey:h,sizeName:p,labelKey:f,labelName:y,title:m,tooltip:b}=a,v=s.x,S=s.y;if(!i||!n||!v||!S)return;const{datumIndex:D}=t,I=(B=n.dataSources.get(this.id))==null?void 0:B[D],T=i.resolveColumnById(this,"xValue",n)[D],k=i.resolveColumnById(this,"yValue",n)[D];if(T==null)return;const E=[{label:r,fallbackLabel:o,value:v.formatDatum(T)},{label:c,fallbackLabel:l,value:S.formatDatum(k)}];if(h!=null){const R=i.resolveColumnById(this,"sizeValue",n)[D];E.push({label:p,fallbackLabel:h,value:String(R)})}const O=this.getMarkerItemBaseStyle(!1);return Object.assign(O,this.getMarkerItemStyleOverrides(String(D),I,O,!1)),b.formatTooltip({title:m,symbol:this.legendItemSymbol(),data:E},{seriesId:e,datum:I,title:l,xKey:o,xName:r,yKey:l,yName:c,sizeKey:h,sizeName:p,labelKey:f,labelName:y,...O,...this.getModuleTooltipParams()})}legendItemSymbol(){const{marker:t}=this.properties,{shape:e,fill:i,stroke:n,fillOpacity:s,strokeOpacity:a,strokeWidth:o,lineDash:r,lineDashOffset:l}=t;return{marker:{shape:e,fill:i??"rgba(0, 0, 0, 0)",stroke:n??"rgba(0, 0, 0, 0)",fillOpacity:s,strokeOpacity:a,strokeWidth:o,lineDash:r,lineDashOffset:l}}}getLegendData(){if(!this.properties.isValid())return[];const{id:t,ctx:{legendManager:e},visible:i}=this,{yKey:n,yName:s,title:a}=this.properties;return[{legendType:"category",id:t,itemId:n,seriesId:t,enabled:i&&e.getItemEnabled({seriesId:t,itemId:n}),label:{text:a??s??n},symbol:this.legendItemSymbol()}]}animateEmptyUpdateReady({markerSelection:t,labelSelection:e}){dE(this,this.ctx.animationManager,t),Me(this,"labels",this.ctx.animationManager,e)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new Wt}getFormattedMarkerStyle(t){const{xKey:e,yKey:i,sizeKey:n,labelKey:s}=this.properties;return this.getMarkerStyle(this.properties.marker,{datum:t,xKey:e,yKey:i,sizeKey:n,labelKey:s,highlighted:!1})}computeFocusBounds(t){return Sb(this,t)}};AE.className="BubbleSeries";AE.type="bubble";var olt={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bubble",moduleFactory:t=>new AE(t),tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{shape:"circle",size:7,maxSize:30,fillOpacity:.8,tooltip:{position:{type:"node"}},label:{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}}}},paletteFactory:bb},mn=class extends Oc{constructor(){super(...arguments),this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.areaPlot=!1,this.aggregation="sum",this.shadow=new Mr,this.label=new Nn,this.tooltip=new ws}};N([w(Dt)],mn.prototype,"xKey",2);N([w(Dt,{optional:!0})],mn.prototype,"yKey",2);N([w(Dt,{optional:!0})],mn.prototype,"xName",2);N([w(Dt,{optional:!0})],mn.prototype,"yName",2);N([w(Ae,{optional:!0})],mn.prototype,"fill",2);N([w(Le)],mn.prototype,"fillOpacity",2);N([w(Ae,{optional:!0})],mn.prototype,"stroke",2);N([w(Tt)],mn.prototype,"strokeWidth",2);N([w(Le)],mn.prototype,"strokeOpacity",2);N([w(pl)],mn.prototype,"lineDash",2);N([w(Tt)],mn.prototype,"lineDashOffset",2);N([w(Tt)],mn.prototype,"cornerRadius",2);N([w(jt)],mn.prototype,"areaPlot",2);N([w(Zx,{optional:!0})],mn.prototype,"bins",2);N([w(Ye(["count","sum","mean"],"a histogram aggregation"))],mn.prototype,"aggregation",2);N([w(Tt,{optional:!0})],mn.prototype,"binCount",2);N([w(kt)],mn.prototype,"shadow",2);N([w(kt)],mn.prototype,"label",2);N([w(kt)],mn.prototype,"tooltip",2);var P_=10,DE=class extends lh{constructor(t){super({moduleCtx:t,directionKeys:$d,directionNames:Kd,pickModes:[1,0],datumSelectionGarbageCollection:!1,animationResetFns:{datum:Ax,label:Rc}}),this.properties=new mn,this.calculatedBins=[]}deriveBins(t){const e=pN(t[0],t[1],P_),i=lx(t[0],t[1],P_),[n]=e,s=a=>[a,a+i];return[[n-i,n],...e.map(s)]}calculateNiceBins(t,e){const i=Math.floor(t[0]),n=t[1],s=e||1,{start:a,binSize:o}=this.calculateNiceStart(i,n,s);return this.getBins(a,n,o,s)}getBins(t,e,i,n){const s=[],a=this.calculatePrecision(i);for(let o=0;o<n;o++){const r=Math.round((t+o*i)*a)/a;let l=Math.round((t+(o+1)*i)*a)/a;o===n-1&&(l=Math.max(l,e)),s[o]=[r,l]}return s}calculatePrecision(t){let e=10;if(isFinite(t)&&t>0)for(;t<1;)e*=10,t*=10;return e}calculateNiceStart(t,e,i){const n=Math.abs(e-t)/i,s=Math.floor(Math.log10(n)),a=Math.pow(10,s);return{start:Math.floor(t/a)*a,binSize:n}}async processData(t){var p,f;this.visible||(this.processedData=void 0,this.animationState.transition("updateData"));const{xKey:e,yKey:i,areaPlot:n,aggregation:s}=this.properties,a=(p=this.axes.x)==null?void 0:p.scale,o=(f=this.axes.y)==null?void 0:f.scale,{xScaleType:r,yScaleType:l}=this.getScaleInformation({yScale:o,xScale:a}),c=[gr(e,r),wH];if(i){let y=Fk("groupAgg");s==="count"||(s==="sum"?y=MH("groupAgg"):s==="mean"&&(y=AH("groupAgg"))),n&&(y=Gk("groupAgg",y)),c.push(ne(i,l,{invalidValue:void 0}),y)}else{c.push(LH("count"));let y=Fk("groupAgg");n&&(y=Gk("groupAgg",y)),c.push(y)}const h=y=>{const m=ba(y.domain.keys[0]);if(m.length===0)return y.domain.groups=[],()=>[];const b=No(this.properties.binCount)?this.calculateNiceBins(m,this.properties.binCount):this.properties.bins??this.deriveBins(m),v=b.length;return this.calculatedBins=[...b],S=>{let D=S[0];if(ag(D)&&(D=D.getTime()),!No(D))return[];for(let I=0;I<v;I++){const T=b[I];if(D>=T[0]&&D<T[1]||I===v-1&&D<=T[1])return T}return[]}};!this.ctx.animationManager.isSkipped()&&this.processedData&&c.push(yg(this.id,this.processedData,!1)),await this.requestDataModel(t,this.data,{props:c,groupByFn:h}),this.animationState.transition("updateData")}xCoordinateRange(){return[NaN,NaN]}yCoordinateRange(){return[NaN,NaN]}getSeriesDomain(t){var o,r,l;const{processedData:e,dataModel:i}=this;if(!e||!i||!this.calculatedBins.length)return[];const n=i.getDomain(this,"groupAgg","aggregate",e),s=(o=this.calculatedBins)==null?void 0:o[0][0],a=(l=this.calculatedBins)==null?void 0:l[(((r=this.calculatedBins)==null?void 0:r.length)??0)-1][1];return ba(t==="x"?[s,a]:n)}getSeriesRange(t,[e,i]){const{dataModel:n,processedData:s}=this;if(!n||(s==null?void 0:s.type)!=="grouped")return[NaN,NaN];const a=this.axes.x.scale,o=0;let r=-1/0;return s.groups.forEach(({keys:l,aggregation:c})=>{const[[h,p]=[0,0]]=c,[f,y]=l,[m,b]=Vn([a.convert(f),a.convert(y)]);if(b>=e&&m<=i){const v=h+p;r=Math.max(r,v)}}),o>r?[NaN,NaN]:[o,r]}createNodeData(){const{id:t,axes:e,processedData:i,dataModel:n}=this,s=e.x,a=e.y;if(!s||!a||!n)return;const{scale:o}=s,{scale:r}=a,{xKey:l,yKey:c,xName:h,yName:p}=this.properties,f=this.properties.label.formatter??(b=>String(b.value)),y=[],m={itemId:this.properties.yKey??this.id,nodeData:y,labelData:y,scales:this.calculateScaling(),animationValid:!0,visible:this.visible};return!this.visible||i==null||i.type!=="grouped"||(i.groups.forEach((b,v)=>{const{keys:S,datumIndices:D,aggregation:I}=b,[[T,k]=[0,0]]=I,E=D.length,O=S,[B,R]=O,L=[...n.forEachDatum(this,i,b)],F=o.convert(B),j=o.convert(R),G=T+k,W=r.convert(0),Z=r.convert(G),U=Math.abs(j-F),K=Math.abs(Z-W),$=Math.min(F,j),X=Math.min(W,Z);let _;G!==0&&(_={x:$+U/2,y:X+K/2,text:this.cachedDatumCallback(Ki(v,"label"),()=>f({value:G,datum:L,seriesId:t,xKey:l,yKey:c,xName:h,yName:p}))??String(G)});const V={x:$+U/2,y:X+K/2},Y=a.isReversed();y.push({series:this,datumIndex:v,datum:L,aggregatedValue:G,frequency:E,domain:O,yKey:c,xKey:l,x:$,y:X,xValue:F,yValue:Z,width:U,height:K,midPoint:V,topLeftCornerRadius:!Y,topRightCornerRadius:!Y,bottomRightCornerRadius:Y,bottomLeftCornerRadius:Y,label:_,crisp:!0})}),y.sort((b,v)=>b.x-v.x)),m}nodeFactory(){return new Es}updateDatumSelection(t){const{nodeData:e,datumSelection:i}=t;return i.update(e,void 0,n=>n.domain.join("_"))}getItemBaseStyle(t){const{properties:e}=this,i=t?e.highlightStyle.item:void 0;return{fill:(i==null?void 0:i.fill)??e.fill,fillOpacity:(i==null?void 0:i.fillOpacity)??e.fillOpacity,stroke:(i==null?void 0:i.stroke)??e.stroke,strokeWidth:(i==null?void 0:i.strokeWidth)??this.getStrokeWidth(e.strokeWidth),strokeOpacity:(i==null?void 0:i.strokeOpacity)??e.strokeOpacity,lineDash:(i==null?void 0:i.lineDash)??e.lineDash,lineDashOffset:(i==null?void 0:i.lineDashOffset)??e.lineDashOffset,cornerRadius:e.cornerRadius}}updateDatumNodes(t){const{isHighlight:e}=t,{shadow:i}=this.properties,n=this.getItemBaseStyle(e);t.datumSelection.each((s,a)=>{const{cornerRadius:o}=n,{topLeftCornerRadius:r,topRightCornerRadius:l,bottomRightCornerRadius:c,bottomLeftCornerRadius:h}=a;px(s,n),s.topLeftCornerRadius=r?o:0,s.topRightCornerRadius=l?o:0,s.bottomRightCornerRadius=c?o:0,s.bottomLeftCornerRadius=h?o:0,s.crisp=a.crisp,s.fillShadow=i,s.visible=a.height>0})}updateLabelSelection(t){const{labelData:e,labelSelection:i}=t;return i.update(e,n=>{n.pointerEvents=1,n.textAlign="center",n.textBaseline="middle"})}updateLabelNodes(t){const{fontStyle:e,fontWeight:i,fontFamily:n,fontSize:s,color:a}=this.properties.label,o=this.isLabelEnabled();t.labelSelection.each((r,l)=>{o&&(l!=null&&l.label)?(r.text=l.label.text,r.x=l.label.x,r.y=l.label.y,r.fontStyle=e,r.fontWeight=i,r.fontFamily=n,r.fontSize=s,r.fill=a,r.visible=!0):r.visible=!1})}initQuadTree(t){const{value:e}=this.contentGroup.children().next();e&&mE(t,e.children())}pickNodeClosestDatum(t){return xE(this,t)}getTooltipContent(t){const{id:e,dataModel:i,processedData:n,axes:s,properties:a,ctx:{localeManager:o}}=this,{xKey:r,xName:l,yKey:c,yName:h,tooltip:p}=a,f=s.x,y=s.y;if(!i||(n==null?void 0:n.type)!=="grouped"||!f||!y)return;const m=t.datumIndex,b=n.groups[m],{aggregation:v,datumIndices:S,keys:D}=b,[[I,T]=[0,0]]=v,k=S.length,E=D,[O,B]=E,R=I+T,L={data:[...i.forEachDatum(this,n,b)],aggregatedValue:R,frequency:k,domain:E},F=[{label:l,fallbackLabel:r,value:`${f.formatDatum(O)} - ${f.formatDatum(B)}`},{label:o.t("seriesHistogramTooltipFrequency"),value:y.formatDatum(k)}];if(c!=null){let j;switch(a.aggregation){case"sum":j=o.t("seriesHistogramTooltipSum",{yName:h});break;case"mean":j=o.t("seriesHistogramTooltipMean",{yName:h});break;case"count":j=o.t("seriesHistogramTooltipCount",{yName:h});break}F.push({label:j,value:y.formatDatum(R)})}return p.formatTooltip({symbol:this.legendItemSymbol(),data:F},{seriesId:e,datum:L,title:h,xKey:r,xName:l,yKey:c,yName:h,xRange:[O,B],frequency:k,...this.getItemBaseStyle(!1)})}legendItemSymbol(){const{fill:t,fillOpacity:e,stroke:i,strokeWidth:n,strokeOpacity:s,lineDash:a,lineDashOffset:o}=this.properties;return{marker:{fill:t??"rgba(0, 0, 0, 0)",stroke:i??"rgba(0, 0, 0, 0)",fillOpacity:e,strokeOpacity:s,strokeWidth:n,lineDash:a,lineDashOffset:o}}}getLegendData(t){if(t!=="category")return[];const{id:e,ctx:{legendManager:i},visible:n}=this,{xKey:s,yName:a,showInLegend:o}=this.properties;return[{legendType:"category",id:e,itemId:s,seriesId:e,enabled:n&&i.getItemEnabled({seriesId:e,itemId:s}),label:{text:a??s??"Frequency"},symbol:this.legendItemSymbol(),hideInLegend:!o}]}animateEmptyUpdateReady({datumSelection:t,labelSelection:e}){const i=Mx(Sx(!0,this.axes,"normal"));vi(this.id,"datums",this.ctx.animationManager,[t],i),Me(this,"labels",this.ctx.animationManager,e)}animateWaitingUpdateReady(t){var n,s,a;const e=(a=(s=(n=this.processedData)==null?void 0:n.reduced)==null?void 0:s.diff)==null?void 0:a[this.id],i=Mx(Sx(!0,this.axes,"normal"));vi(this.id,"datums",this.ctx.animationManager,[t.datumSelection],i,(o,r)=>Ki(r.domain),e),Me(this,"labels",this.ctx.animationManager,t.labelSelection)}isLabelEnabled(){return this.properties.label.enabled}computeFocusBounds({datumIndex:t}){var e;return SE(this,(e=this.contextNodeData)==null?void 0:e.nodeData[t])}};DE.className="HistogramSeries";DE.type="histogram";var rlt={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"histogram",moduleFactory:t=>new DE(t),tooltipDefaults:{range:"exact"},defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{strokeWidth:1,fillOpacity:1,strokeOpacity:1,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"backgroundColor"}},shadow:{enabled:!1,color:hh,xOffset:3,yOffset:3,blur:5}}},paletteFactory:({takeColors:t})=>{const{fills:[e],strokes:[i]}=t(1);return{fill:e,stroke:i}}},xn=class extends Oc{constructor(){super(...arguments),this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.interpolation=new Mg,this.marker=new Os,this.label=new Nn,this.tooltip=new ws,this.connectMissingData=!1,this.sparklineMode=!1}};N([w(Dt)],xn.prototype,"xKey",2);N([w(Dt)],xn.prototype,"yKey",2);N([w(Dt,{optional:!0})],xn.prototype,"xName",2);N([w(Dt,{optional:!0})],xn.prototype,"yName",2);N([w(Dt,{optional:!0})],xn.prototype,"yFilterKey",2);N([w(Dt,{optional:!0})],xn.prototype,"stackGroup",2);N([w(Tt,{optional:!0})],xn.prototype,"normalizedTo",2);N([w(Dt,{optional:!0})],xn.prototype,"title",2);N([w(Ae)],xn.prototype,"stroke",2);N([w(Tt)],xn.prototype,"strokeWidth",2);N([w(Le)],xn.prototype,"strokeOpacity",2);N([w(pl)],xn.prototype,"lineDash",2);N([w(Tt)],xn.prototype,"lineDashOffset",2);N([w(kt)],xn.prototype,"interpolation",2);N([w(kt)],xn.prototype,"marker",2);N([w(kt)],xn.prototype,"label",2);N([w(kt)],xn.prototype,"tooltip",2);N([w(jt)],xn.prototype,"connectMissingData",2);N([w(jt)],xn.prototype,"sparklineMode",2);var llt=.25,FA=class extends lh{constructor(e){super({moduleCtx:e,directionKeys:$d,directionNames:Kd,hasMarkers:!0,pickModes:[2,1,0],markerSelectionGarbageCollection:!1,animationResetFns:{path:gE({getVisible:()=>this.visible,getOpacity:()=>this.getOpacity()}),label:Rc,marker:(i,n)=>({...vb(),...vx(i,n)})}}),this.clipFocusBox=!1,this.properties=new xn,this.dataAggregationFilters=void 0}get pickModeAxis(){return this.properties.sparklineMode?"main":"main-category"}async processData(e){var E,O;if(this.data==null||!this.properties.isValid())return;const{data:i,visible:n,seriesGrouping:{groupIndex:s=this.id,stackCount:a=0}={}}=this,{xKey:o,yKey:r,yFilterKey:l,connectMissingData:c,normalizedTo:h}=this.properties,p=!this.ctx.animationManager.isSkipped(),f=(E=this.axes.x)==null?void 0:E.scale,y=(O=this.axes.y)==null?void 0:O.scale,{isContinuousX:m,xScaleType:b,yScaleType:v}=this.getScaleInformation({xScale:f,yScale:y}),S=a>=1||h!=null,D={invalidValue:null};c&&S&&(D.invalidValue=0,n||(D.forceValue=0));const I=[];if((!m||S)&&I.push(gr(o,b,{id:"xKey"})),I.push(ne(o,b,{id:"xValue"}),ne(r,v,{id:"yValueRaw",...D,invalidValue:void 0})),l!=null&&I.push(ne(l,v,{id:"yFilterRaw"})),S){const B=[`line-stack-${s}-yValues`,`line-stack-${s}-yValues-trailing`,`line-stack-${s}-yValues-marker`];I.push(...Yu(r,"window","current",{id:"yValueEnd",...D,groupId:B[0]},v),...Yu(r,"window-trailing","current",{id:"yValueStart",...D,groupId:B[1]},v),...Yu(r,"normal","current",{id:"yValueCumulative",...D,groupId:B[2]},v)),CS(h)&&I.push(TA([B[0],B[1],B[2]],h))}p&&(I.push(gg(m?["xValue"]:void 0)),this.processedData&&I.push(yg(this.id,this.processedData)));const{dataModel:T,processedData:k}=await this.requestDataModel(e,i,{props:I,groupByKeys:S,groupByData:!S});this.dataAggregationFilters=this.aggregateData(T,k),this.animationState.transition("updateData")}xCoordinateRange(e,i){const{marker:n}=this.properties,s=this.axes.x.scale.convert(e),a=n.enabled?.5*n.size*i:0;return[s-a,s+a]}yCoordinateRange(e,i){const{marker:n}=this.properties,s=this.axes.y.scale.convert(e[0]),a=n.enabled?.5*n.size*i:0;return[s-a,s+a]}getSeriesDomain(e){var o;const{dataModel:i,processedData:n}=this;if(!i||!n)return[];if(e==="x"){const r=i.resolveProcessedDataDefById(this,"xValue"),l=i.getDomain(this,"xValue","value",n);return(r==null?void 0:r.def.type)==="value"&&r.def.valueType==="category"?l:ba(Nc(l))}const s=(o=this.dataModel)!=null&&o.hasColumnById(this,"yValueEnd")?"yValueEnd":"yValueRaw",a=this.domainForClippedRange("y",[s],"xValue",!0);return ba(a)}getSeriesRange(e,i){var s;const n=(s=this.dataModel)!=null&&s.hasColumnById(this,"yValueEnd")?"yValueEnd":"yValueRaw";return this.domainForVisibleRange("y",[n],"xValue",i,!0)}getVisibleItems(e,i,n){var a;const s=(a=this.dataModel)!=null&&a.hasColumnById(this,"yValueEnd")?"yValueEnd":"yValueRaw";return this.countVisibleItems("xValue",[s],e,i,n)}aggregateData(e,i){}createNodeData(){var dt;const{dataModel:e,processedData:i,axes:n,dataAggregationFilters:s}=this,a=n.x,o=n.y;if(!e||!i||!a||!o)return;const{xKey:r,yKey:l,yFilterKey:c,xName:h,yName:p,marker:f,label:y,connectMissingData:m,interpolation:b,legendItemName:v}=this.properties,S=(dt=this.dataModel)==null?void 0:dt.hasColumnById(this,"yValueEnd"),D=a.scale,I=o.scale,T=(D.bandwidth??0)/2,k=(I.bandwidth??0)/2,E=f.enabled?f.size:0,O=i.dataSources.get(this.id)??[],B=e.resolveColumnById(this,"xValue",i),R=e.resolveColumnById(this,"yValueRaw",i),L=S?e.resolveColumnById(this,"yValueEnd",i):void 0,F=S?e.resolveColumnById(this,"yValueCumulative",i):R,j=c!=null?e.resolveColumnById(this,"yFilterRaw",i):void 0,G=ht=>D.convert(B[ht])+T,W=ht=>I.convert(F[ht])+k,Z={lengthRatioMultiplier:this.properties.marker.getDiameter(),lengthMax:1/0},U=[];let K;const $=ht=>{const yt=O[ht],pt=B[ht],vt=R[ht],At=L==null?void 0:L[ht],bt=j==null?void 0:j[ht],Rt=G(ht),Nt=W(ht);if(!Number.isFinite(Rt))return;if(vt!=null){const Xt=y.enabled?this.getLabelText(y,{value:vt,datum:yt,xKey:r,yKey:l,xName:h,yName:p,legendItemName:v}):void 0;U.push({series:this,datum:yt,datumIndex:ht,yKey:l,xKey:r,point:{x:Rt,y:Nt,size:E},midPoint:{x:Rt,y:Nt},cumulativeValue:At,yValue:vt,xValue:pt,capDefaults:Z,labelText:Xt,selected:bt})}if(K==null)return;const Ot=K[K.length-1];if(vt!=null){const Xt={point:{x:Rt,y:Nt},xDatum:pt,yDatum:vt};Array.isArray(Ot)?Ot.push(Xt):Ot!=null?(Ot.skip+=1,K.push([Xt])):K.push([Xt])}else m||(Array.isArray(Ot)||Ot==null?K.push({skip:0}):Ot.skip+=1)},[X,_]=D.range,V=_-X,Y=s==null?void 0:s.find(ht=>ht.maxRange>V),J=Y==null?void 0:Y.indices;let[q,nt]=this.visibleRange("xValue",a.range,J);q=Math.max(q-1,0),nt=Math.min(nt+1,(J==null?void 0:J.length)??B.length),i.input.count<1e3&&(q=0,nt=i.input.count),J==null&&(K=[]);for(let ht=q;ht<nt;ht+=1)$((J==null?void 0:J[ht])??ht);const st=K==null?void 0:K.flatMap(ht=>Array.isArray(ht)?pM(ht,b):[]),rt=st!=null?{itemId:l,spans:st}:void 0,ct=(j==null?void 0:j.some((ht,yt)=>ht===R[yt]))??!1;return{itemId:l,nodeData:U,labelData:U,strokeData:rt,scales:this.calculateScaling(),visible:this.visible,crossFiltering:ct}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}updatePathNodes(e){var r;const{paths:[i],opacity:n,visible:s,animationEnabled:a}=e,o=((r=this.contextNodeData)==null?void 0:r.crossFiltering)===!0;i.setProperties({fill:void 0,lineJoin:"round",pointerEvents:1,opacity:n,stroke:this.properties.stroke,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.properties.strokeOpacity*(o?llt:1),lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset}),a||(i.visible=s),gM(this,i)}getMarkerItemBaseStyle(e){const{properties:i}=this,{marker:n}=i,s=e?i.highlightStyle.item:void 0;return{size:n.size,shape:n.shape,fill:(s==null?void 0:s.fill)??n.fill,fillOpacity:(s==null?void 0:s.fillOpacity)??n.fillOpacity,stroke:(s==null?void 0:s.stroke)??n.stroke,strokeWidth:(s==null?void 0:s.strokeWidth)??n.strokeWidth,strokeOpacity:(s==null?void 0:s.strokeOpacity)??n.strokeOpacity,lineDash:(s==null?void 0:s.lineDash)??n.lineDash,lineDashOffset:(s==null?void 0:s.lineDashOffset)??n.lineDashOffset}}getMarkerItemStyleOverrides(e,i,n,s){const{id:a,properties:o}=this,{xKey:r,yKey:l,marker:c}=o,{itemStyler:h}=c;if(h!=null)return this.cachedDatumCallback(Ki(e,s?"highlight":"node"),()=>{const p=this.getSeriesDomain("x"),f=this.getSeriesDomain("y");return h({seriesId:a,...Wu(i,r,l,p,f),highlighted:s,...n})})}updateMarkerSelection(e){var a;let{nodeData:i}=e;const{markerSelection:n}=e;return i=this.properties.marker.enabled||((a=this.contextNodeData)==null?void 0:a.crossFiltering)===!0?i:[],this.properties.marker.isDirty()&&(n.clear(),n.cleanup()),n.update(i,void 0,o=>Ki(o.xValue))}updateMarkerNodes(e){const{markerSelection:i,isHighlight:n}=e,{xKey:s,yKey:a,stroke:o,strokeWidth:r,strokeOpacity:l,marker:c,highlightStyle:h}=this.properties,p=this.getSeriesDomain("x"),f=this.getSeriesDomain("y"),y=ie(n&&h.item,c.getStyle(),{stroke:o,strokeWidth:r,strokeOpacity:l}),m=this.ctx.animationManager.isSkipped();i.each((b,v)=>{this.updateMarkerStyle(b,c,{...Wu(v,s,a,p,f),highlighted:n},y,{applyTranslation:m,selected:v.selected})}),n||c.markClean()}updateLabelSelection(e){return e.labelSelection.update(this.isLabelEnabled()?e.labelData:[])}updateLabelNodes(e){const{enabled:i,fontStyle:n,fontWeight:s,fontSize:a,fontFamily:o,color:r}=this.properties.label;e.labelSelection.each((l,c)=>{i&&(c!=null&&c.labelText)?(l.fontStyle=n,l.fontWeight=s,l.fontSize=a,l.fontFamily=o,l.textAlign="center",l.textBaseline="bottom",l.text=c.labelText,l.x=c.point.x,l.y=c.point.y-10,l.fill=r,l.visible=!0):l.visible=!1})}getTooltipContent(e){var I;const{id:i,dataModel:n,processedData:s,axes:a,properties:o}=this,{xKey:r,xName:l,yKey:c,yName:h,tooltip:p}=o,f=a.x,y=a.y;if(!n||!s||!f||!y)return;const{datumIndex:m}=e,b=(I=s.dataSources.get(this.id))==null?void 0:I[m],v=n.resolveColumnById(this,"xValue",s)[m],S=n.resolveColumnById(this,"yValueRaw",s)[m];if(v==null)return;const D=this.getMarkerItemBaseStyle(!1);return Object.assign(D,this.getMarkerItemStyleOverrides(String(m),b,D,!1)),p.formatTooltip({heading:f.formatDatum(v),symbol:this.legendItemSymbol(),data:[{label:h,fallbackLabel:c,value:y.formatDatum(S)}]},{seriesId:i,datum:b,title:h,xKey:r,xName:l,yKey:c,yName:h,...D,...this.getModuleTooltipParams()})}legendItemSymbol(){const e="rgba(0, 0, 0, 0)",{stroke:i,strokeOpacity:n,strokeWidth:s,lineDash:a,marker:o}=this.properties;return{marker:{shape:o.shape,fill:o.fill??e,stroke:o.stroke??i??e,fillOpacity:o.fillOpacity,strokeOpacity:o.strokeOpacity,strokeWidth:o.strokeWidth,lineDash:o.lineDash,lineDashOffset:o.lineDashOffset,enabled:o.enabled},line:{stroke:i??e,strokeOpacity:n,strokeWidth:s,lineDash:a}}}getLegendData(e){if(!(this.properties.isValid()&&e==="category"))return[];const{id:i,ctx:{legendManager:n},visible:s}=this,{yKey:a,yName:o,title:r,legendItemName:l,showInLegend:c}=this.properties;return[{legendType:"category",id:i,itemId:a,legendItemName:l,seriesId:i,enabled:s&&n.getItemEnabled({seriesId:i,itemId:a}),label:{text:l??r??o??a},symbol:this.legendItemSymbol(),hideInLegend:!c}]}updatePaths(e){this.updateLinePaths(e.paths,e.contextData)}plotNodeDataPoints(e,i){if(i.length===0)return;const n=i[0].point;e.moveTo(n.x,n.y);for(let s=1;s<i.length;s+=1){const{x:a,y:o}=i[s].point;e.lineTo(a,o)}}updateLinePaths(e,i){var a;const n=(a=i.strokeData)==null?void 0:a.spans,[s]=e;s.path.clear(),n!=null?cE(s,n):this.plotNodeDataPoints(s.path,i.nodeData),s.markDirty()}animateEmptyUpdateReady(e){const{markerSelection:i,labelSelection:n,annotationSelections:s,contextData:a,paths:o}=e,{animationManager:r}=this.ctx;this.updateLinePaths(o,a),fE(this,r,...o),Fn([i],vx),pE(this,r,i),Me(this,"labels",r,n),Me(this,"annotations",r,...s)}animateReadyResize(e){const{contextData:i,paths:n}=e;this.updateLinePaths(n,i),super.animateReadyResize(e)}animateWaitingUpdateReady(e){var y,m,b;const{animationManager:i}=this.ctx,{markerSelection:n,labelSelection:s,annotationSelections:a,contextData:o,paths:r,previousContextData:l}=e,[c]=r;this.resetMarkerAnimation(e),this.resetLabelAnimation(e);const h=()=>{this.resetPathAnimation(e),this.updateLinePaths(r,o)},p=()=>{i.skipCurrentBatch(),h()};if(o==null||l==null){h(),bx(this,i,"added",n),fM(this,"path_properties",i,"add",c),Me(this,"labels",i,s),Me(this,"annotations",i,...a);return}if(o.crossFiltering!==l.crossFiltering){p();return}const f=cW(o,l,(b=(m=(y=this.processedData)==null?void 0:y.reduced)==null?void 0:m.diff)==null?void 0:b[this.id]);if(f===void 0){p();return}else if(f.status==="no-op")return;vi(this.id,"path_properties",i,[c],f.stroke.pathProperties),f.status==="added"?this.updateLinePaths(r,o):f.status==="removed"?this.updateLinePaths(r,l):dM(this.id,"path_update",i,[c],f.stroke.path),f.hasMotion&&(bx(this,i,void 0,n),Me(this,"labels",i,s),Me(this,"annotations",i,...a))}isLabelEnabled(){return this.properties.label.enabled}getBandScalePadding(){return{inner:1,outer:.1}}nodeFactory(){return new Wt}getFormattedMarkerStyle(e){const{xKey:i,yKey:n}=this.properties,s=this.getSeriesDomain("x"),a=this.getSeriesDomain("y");return this.getMarkerStyle(this.properties.marker,{...Wu(e,i,n,s,a),highlighted:!0})}computeFocusBounds(e){return Sb(this,e)}};FA.className="LineSeries";FA.type="line";var bW={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"line",moduleFactory:t=>new FA(t),stackable:!0,tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"left"},{type:"category",position:"bottom"}],themeTemplate:{series:{tooltip:{position:{type:"node"}},strokeWidth:2,strokeOpacity:1,lineDash:[0],lineDashOffset:0,interpolation:{type:"linear",tension:1,position:"end"},marker:{shape:"circle",size:7,strokeWidth:0},label:{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}},errorBar:{cap:{lengthRatio:1}}}},paletteFactory:t=>{const{marker:e}=rE(t);return{stroke:e.fill,marker:e}}},vW=class extends Nn{constructor(){super(...arguments),this.placement="top"}};N([w(tN)],vW.prototype,"placement",2);var si=class extends Oc{constructor(){super(...arguments),this.colorRange=["#ffff00","#00ff00","#0000ff"],this.label=new vW,this.tooltip=new ws,this.marker=new Os}};N([w(Dt)],si.prototype,"xKey",2);N([w(Dt)],si.prototype,"yKey",2);N([w(Dt,{optional:!0})],si.prototype,"labelKey",2);N([w(Dt,{optional:!0})],si.prototype,"colorKey",2);N([w(Dt,{optional:!0})],si.prototype,"xFilterKey",2);N([w(Dt,{optional:!0})],si.prototype,"yFilterKey",2);N([w(Dt,{optional:!0})],si.prototype,"xName",2);N([w(Dt,{optional:!0})],si.prototype,"yName",2);N([w(Dt,{optional:!0})],si.prototype,"labelName",2);N([w(Dt,{optional:!0})],si.prototype,"colorName",2);N([w(aA,{optional:!0})],si.prototype,"colorDomain",2);N([w(Ha)],si.prototype,"colorRange",2);N([w(Dt,{optional:!0})],si.prototype,"title",2);N([ni("marker.shape")],si.prototype,"shape",2);N([ni("marker.size")],si.prototype,"size",2);N([ni("marker.fill")],si.prototype,"fill",2);N([ni("marker.fillOpacity")],si.prototype,"fillOpacity",2);N([ni("marker.stroke")],si.prototype,"stroke",2);N([ni("marker.strokeWidth")],si.prototype,"strokeWidth",2);N([ni("marker.strokeOpacity")],si.prototype,"strokeOpacity",2);N([ni("marker.lineDash")],si.prototype,"lineDash",2);N([ni("marker.lineDashOffset")],si.prototype,"lineDashOffset",2);N([ni("marker.itemStyler",{optional:!0})],si.prototype,"itemStyler",2);N([w(kt)],si.prototype,"label",2);N([w(kt)],si.prototype,"tooltip",2);var IE=class extends lh{constructor(t){super({moduleCtx:t,directionKeys:$d,directionNames:Kd,pickModes:[2,1,0],pathsPerSeries:[],hasMarkers:!0,markerSelectionGarbageCollection:!1,animationResetFns:{marker:vb,label:Rc},usesPlacedLabels:!0}),this.clipFocusBox=!1,this.properties=new si,this.colorScale=new ih}get pickModeAxis(){return"main-category"}async processData(t){var v,S;if(!this.properties.isValid()||this.data==null||!this.visible)return;const e=(v=this.axes.x)==null?void 0:v.scale,i=(S=this.axes.y)==null?void 0:S.scale,{xScaleType:n,yScaleType:s}=this.getScaleInformation({xScale:e,yScale:i}),a=this.colorScale.type,{xKey:o,yKey:r,xFilterKey:l,yFilterKey:c,labelKey:h,colorKey:p,colorDomain:f,colorRange:y}=this.properties,{dataModel:m,processedData:b}=await this.requestDataModel(t,this.data,{props:[ne(o,n,{id:"xValue"}),ne(r,s,{id:"yValue"}),...l!=null?[ne(l,n,{id:"xFilterValue"})]:[],...c!=null?[ne(c,s,{id:"yFilterValue"})]:[],...p?[ne(p,a,{id:"colorValue"})]:[],...h?[ne(h,"band",{id:"labelValue"})]:[]]});if(p){const D=m.resolveProcessedDataIndexById(this,"colorValue");this.colorScale.domain=f??b.domain.values[D]??[],this.colorScale.range=y,this.colorScale.update()}this.animationState.transition("updateData")}xCoordinateRange(t,e){const i=this.axes.x.scale.convert(t),n=.5*this.properties.size*e;return[i-n,i+n]}yCoordinateRange(t,e){const i=this.axes.y.scale.convert(t[0]),n=.5*this.properties.size*e;return[i-n,i+n]}getSeriesDomain(t){const{dataModel:e,processedData:i}=this;if(!i||!e)return[];const n={x:"xValue",y:"yValue"},s=n[t],a=e.resolveProcessedDataDefById(this,s),o=e.getDomain(this,s,"value",i);if((a==null?void 0:a.def.type)==="value"&&(a==null?void 0:a.def.valueType)==="category")return o;const l=n[t==="x"?"y":"x"],c=this.domainForClippedRange(t,[s],l,!1);return ba(Nc(c))}getSeriesRange(t,e){return this.domainForVisibleRange("y",["yValue"],"xValue",e,!1)}getVisibleItems(t,e,i){return this.countVisibleItems("xValue",["yValue"],t,e,i)}createNodeData(){const{axes:t,dataModel:e,processedData:i,colorScale:n,visible:s}=this,{xKey:a,yKey:o,xFilterKey:r,yFilterKey:l,labelKey:c,colorKey:h,xName:p,yName:f,labelName:y,marker:m,label:b}=this.properties,{placement:v}=b,S=kn.anchor(m.shape),D=t.x,I=t.y;if(!(e&&i&&s&&D&&I))return;const T=e.resolveColumnById(this,"xValue",i),k=e.resolveColumnById(this,"yValue",i),E=h!=null?e.resolveColumnById(this,"colorValue",i):void 0,O=c!=null?e.resolveColumnById(this,"labelValue",i):void 0,B=r!=null?e.resolveColumnById(this,"xFilterValue",i):void 0,R=l!=null?e.resolveColumnById(this,"yFilterValue",i):void 0,L=D.scale,F=I.scale,j=(L.bandwidth??0)/2,G=(F.bandwidth??0)/2,W=[],Z=b.getFont(),U=Tc.getMeasurer({font:Z});return(i.dataSources.get(this.id)??[]).forEach(($,X)=>{const _=T[X],V=k[X],Y=L.convert(_)+j,J=F.convert(V)+G,q=B!=null&&R!=null?B[X]===_&&R[X]===V:void 0,nt=this.getLabelText(b,{value:O!=null?O==null?void 0:O[X]:V,datum:$,xKey:a,yKey:o,labelKey:c,xName:p,yName:f,labelName:y}),st=U.measureText(nt),rt=E!=null?n.convert(E[X]):void 0;W.push({series:this,itemId:o,yKey:o,xKey:a,datum:$,datumIndex:X,xValue:_,yValue:V,capDefaults:{lengthRatioMultiplier:m.getDiameter(),lengthMax:1/0},point:{x:Y,y:J,size:m.size},midPoint:{x:Y,y:J},fill:rt,label:{text:nt,...st},anchor:S,placement:v,selected:q})}),{itemId:o,nodeData:W,labelData:W,scales:this.calculateScaling(),visible:this.visible}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}getLabelData(){var t;return this.isLabelEnabled()?((t=this.contextNodeData)==null?void 0:t.labelData)??[]:[]}updateMarkerSelection(t){const{nodeData:e,markerSelection:i}=t;return this.properties.marker.isDirty()&&(i.clear(),i.cleanup()),i.update(this.properties.marker.enabled?e:[])}getMarkerItemBaseStyle(t){const{properties:e}=this,{marker:i}=e,n=t?e.highlightStyle.item:void 0;return{fill:(n==null?void 0:n.fill)??i.fill,fillOpacity:(n==null?void 0:n.fillOpacity)??i.fillOpacity,stroke:(n==null?void 0:n.stroke)??i.stroke,strokeWidth:(n==null?void 0:n.strokeWidth)??i.strokeWidth,strokeOpacity:(n==null?void 0:n.strokeOpacity)??i.strokeOpacity,lineDash:(n==null?void 0:n.lineDash)??i.lineDash,lineDashOffset:(n==null?void 0:n.lineDashOffset)??i.lineDashOffset}}getMarkerItemStyleOverrides(t,e,i,n){const{id:s,properties:a}=this,{xKey:o,yKey:r,labelKey:l,marker:c}=a,{itemStyler:h}=c;if(h!=null)return this.cachedDatumCallback(Ki(t,n?"highlight":"node"),()=>h({seriesId:s,datum:e,xKey:o,yKey:r,labelKey:l,highlighted:n,...i}))}updateMarkerNodes(t){const{markerSelection:e,isHighlight:i}=t,{xKey:n,yKey:s,labelKey:a,marker:o,highlightStyle:r}=this.properties,l=ie(i&&r.item,o.getStyle());e.each((c,h)=>{this.updateMarkerStyle(c,o,{datum:h,highlighted:i,xKey:n,yKey:s,labelKey:a},l,{selected:h.selected})}),i||o.markClean()}updatePlacedLabelData(t){this.labelSelection.update(t.map(e=>({...e.datum,point:{x:e.x,y:e.y,size:e.datum.point.size}})),e=>{e.pointerEvents=1}),this.updateLabelNodes({labelSelection:this.labelSelection})}updateLabelNodes(t){const{label:e}=this.properties;t.labelSelection.each((i,n)=>{var s,a;i.text=n.label.text,i.fill=e.color,i.x=((s=n.point)==null?void 0:s.x)??0,i.y=((a=n.point)==null?void 0:a.y)??0,i.fontStyle=e.fontStyle,i.fontWeight=e.fontWeight,i.fontSize=e.fontSize,i.fontFamily=e.fontFamily,i.textAlign="left",i.textBaseline="top"})}getTooltipContent(t){var k;const{id:e,dataModel:i,processedData:n,axes:s,properties:a}=this,{xKey:o,xName:r,yKey:l,yName:c,labelKey:h,labelName:p,title:f,tooltip:y}=a,m=s.x,b=s.y;if(!i||!n||!m||!b)return;const{datumIndex:v}=t,S=(k=n.dataSources.get(this.id))==null?void 0:k[v],D=i.resolveColumnById(this,"xValue",n)[v],I=i.resolveColumnById(this,"yValue",n)[v];if(D==null)return;const T=this.getMarkerItemBaseStyle(!1);return Object.assign(T,this.getMarkerItemStyleOverrides(String(v),S,T,!1)),y.formatTooltip({symbol:this.legendItemSymbol(),title:f,data:[{label:r,fallbackLabel:o,value:m.formatDatum(D)},{label:c,fallbackLabel:l,value:b.formatDatum(I)}]},{seriesId:e,datum:S,title:c,xKey:o,xName:r,yKey:l,yName:c,labelKey:h,labelName:p,...T,...this.getModuleTooltipParams()})}legendItemSymbol(){const{shape:t,fill:e,stroke:i,fillOpacity:n,strokeOpacity:s,strokeWidth:a,lineDash:o,lineDashOffset:r}=this.properties.marker;return{marker:{shape:t,fill:e??"rgba(0, 0, 0, 0)",stroke:i??"rgba(0, 0, 0, 0)",fillOpacity:n,strokeOpacity:s,strokeWidth:a,lineDash:o,lineDashOffset:r}}}getLegendData(t){if(!this.properties.isValid()||t!=="category")return[];const{yKey:e,yName:i,title:n,showInLegend:s}=this.properties,{id:a,ctx:{legendManager:o},visible:r}=this;return[{legendType:"category",id:a,itemId:e,seriesId:a,enabled:r&&o.getItemEnabled({seriesId:a,itemId:e}),label:{text:n??i??e},symbol:this.legendItemSymbol(),hideInLegend:!s}]}animateEmptyUpdateReady(t){const{markerSelection:e,labelSelection:i,annotationSelections:n}=t;dE(this,this.ctx.animationManager,e),Me(this,"labels",this.ctx.animationManager,i),Me(this,"annotations",this.ctx.animationManager,...n)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new Wt}getFormattedMarkerStyle(t){const{xKey:e,yKey:i,labelKey:n}=this.properties;return this.getMarkerStyle(this.properties.marker,{datum:t,xKey:e,yKey:i,labelKey:n,highlighted:!0})}computeFocusBounds(t){return Sb(this,t)}};IE.className="ScatterSeries";IE.type="scatter";var clt={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"scatter",moduleFactory:t=>new IE(t),tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{shape:"circle",size:7,fillOpacity:.8,tooltip:{position:{type:"node"}},label:{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}},errorBar:{cap:{lengthRatio:1}}}},paletteFactory:bb},SW=class Yk{constructor(e,i,n,s){this.startAngle=e,this.endAngle=i,this.innerRadius=n,this.outerRadius=s}clone(){const{startAngle:e,endAngle:i,innerRadius:n,outerRadius:s}=this;return new Yk(e,i,n,s)}equals(e){return this.startAngle===e.startAngle&&this.endAngle===e.endAngle&&this.innerRadius===e.innerRadius&&this.outerRadius===e.outerRadius}[$M](e,i){return new Yk(this.startAngle*(1-i)+e.startAngle*i,this.endAngle*(1-i)+e.endAngle*i,this.innerRadius*(1-i)+e.innerRadius*i,this.outerRadius*(1-i)+e.outerRadius*i)}};function MW({startAngle:t,endAngle:e,innerRadius:i,outerRadius:n}){let s=1/0,a=1/0,o=-1/0,r=-1/0;const l=(c,h)=>{s=Math.min(c,s),a=Math.min(h,a),o=Math.max(c,o),r=Math.max(h,r)};return l(i*Math.cos(t),i*Math.sin(t)),l(i*Math.cos(e),i*Math.sin(e)),l(n*Math.cos(t),n*Math.sin(t)),l(n*Math.cos(e),n*Math.sin(e)),Bu(0,t,e)&&l(n,0),Bu(Math.PI*.5,t,e)&&l(0,n),Bu(Math.PI,t,e)&&l(-n,0),Bu(Math.PI*1.5,t,e)&&l(0,-n),new Et(s,a,o-s,r-a)}function yM(t,e,i){const n=Math.sqrt(Math.pow(t,2)+Math.pow(e,2)),{innerRadius:s,outerRadius:a}=i;if(i.startAngle===i.endAngle||n<Math.min(s,a)||n>Math.max(s,a))return!1;const o=rx(i.startAngle),r=rx(i.endAngle),l=Math.atan2(e,t);return o<r?l<=r&&l>=o:l<=r&&l>=-Math.PI||l>=o&&l<=Math.PI}function B_(t,e){const{startAngle:i,endAngle:n,innerRadius:s,outerRadius:a}=e,o={x:a*Math.cos(i),y:a*Math.sin(i)},r={x:a*Math.cos(n),y:a*Math.sin(n)},l=s===0?{x:0,y:0}:{x:s*Math.cos(i),y:s*Math.sin(i)},c=s===0?{x:0,y:0}:{x:s*Math.cos(n),y:s*Math.sin(n)};return Pf(t.start.x,t.start.y,t.end.x,t.end.y,o.x,o.y,l.x,l.y)||Pf(t.start.x,t.start.y,t.end.x,t.end.y,r.x,r.y,c.x,c.y)||hH(0,0,a,i,n,!0,t.start.x,t.start.y,t.end.x,t.end.y)}function AW(t,e){const i={x:t.x,y:t.y},n={x:t.x+t.width,y:t.y},s={x:t.x,y:t.y+t.height},a={x:t.x+t.width,y:t.y+t.height};return B_({start:i,end:n},e)||B_({start:s,end:a},e)}function z_(t,e,i,n){if(i===0&&n===0)return 0;if(Math.asin(Math.abs(1*i)/(t+1*i))+Math.asin(Math.abs(1*n)/(t+1*n))-e<0)return 1;let a=0,o=1;for(let r=0;r<8;r+=1){const l=(a+o)/2;Math.asin(Math.abs(l*i)/(t+l*i))+Math.asin(Math.abs(l*n)/(t+l*n))-e<0?a=l:o=l}return a}var ult=1e-6;function $u(t,e){return cA(t,e)<ult?e:qe(t-e)+e}function Iv(t,e,i=0){const s=Math.abs(e-t)>=2*Math.PI?2*Math.PI:qe(e-t);return t=$u(t,i),e=t+s,{startAngle:t,endAngle:e}}function Tv(t,e,i,n,s,a){const o=Math.sin(a),r=Math.cos(a),l=t**2+e**2-i**2;let c,h,p,f;if(r>.5){const I=o/r,T=1+I**2,k=-2*(t+e*I),E=k**2-4*T*l;if(E<0)return;const O=(-k+Math.sqrt(E))/(2*T),B=(-k-Math.sqrt(E))/(2*T);c=O,h=O*I,p=B,f=B*I}else{const I=r/o,T=1+I**2,k=-2*(e+t*I),E=k**2-4*T*l;if(E<0)return;const O=(-k+Math.sqrt(E))/(2*T),B=(-k-Math.sqrt(E))/(2*T);c=O*I,h=O,p=B*I,f=B}const y=r,m=o,b=c*y+h*m,v=p*y+f*m,S=b>0?$u(Math.atan2(h-e,c-t),n):NaN,D=v>0?$u(Math.atan2(f-e,p-t),n):NaN;if(S>=n&&S<=s)return S;if(D>=n&&D<=s)return D}function Cv(t,e,i,n,s,a){const o=Math.hypot(t,e),r=(o**2-i**2+a**2)/(2*o),l=o-r,c=Math.atan2(e,t),h=Math.acos(-l/i),p=$u(c+h,n),f=$u(c-h,n);if(p>=n&&p<=s)return p;if(f>=n&&f<=s)return f}var $C=class{constructor(t,e,i,n,s){this.cx=t,this.cy=e,this.r=i,this.a0=n,this.a1=s,this.a0>=this.a1&&(this.a0=NaN,this.a1=NaN)}isValid(){return Number.isFinite(this.a0)&&Number.isFinite(this.a1)}pointAt(t){return{x:this.cx+this.r*Math.cos(t),y:this.cy+this.r*Math.sin(t)}}clipStart(t){t==null||!this.isValid()||t<this.a0||(this.a0=t,(Number.isNaN(t)||this.a0>=this.a1)&&(this.a0=NaN,this.a1=NaN))}clipEnd(t){t==null||!this.isValid()||t>this.a1||(this.a1=t,(Number.isNaN(t)||this.a0>=this.a1)&&(this.a0=NaN,this.a1=NaN))}},Wn=class extends ia{constructor(){super(...arguments),this.centerX=0,this.centerY=0,this.innerRadius=10,this.outerRadius=20,this.startAngle=0,this.endAngle=Math.PI*2,this.clipSector=void 0,this.concentricEdgeInset=0,this.radialEdgeInset=0,this.startOuterCornerRadius=0,this.endOuterCornerRadius=0,this.startInnerCornerRadius=0,this.endInnerCornerRadius=0}set inset(e){this.concentricEdgeInset=e,this.radialEdgeInset=e}set cornerRadius(e){this.startOuterCornerRadius=e,this.endOuterCornerRadius=e,this.startInnerCornerRadius=e,this.endInnerCornerRadius=e}computeBBox(){return MW(this).translate(this.centerX,this.centerY)}normalizedRadii(){const{concentricEdgeInset:e}=this;let{innerRadius:i,outerRadius:n}=this;return i=i>0?i+e:0,n=Math.max(n-e,0),{innerRadius:i,outerRadius:n}}normalizedClipSector(){const{clipSector:e}=this;if(e==null)return;const{startAngle:i,endAngle:n}=Iv(this.startAngle,this.endAngle),{innerRadius:s,outerRadius:a}=this.normalizedRadii(),o=Iv(e.startAngle,e.endAngle,i);return new SW(Math.max(i,o.startAngle),Math.min(n,o.endAngle),Math.max(s,e.innerRadius),Math.min(a,e.outerRadius))}getAngleOffset(e){return e>0?this.radialEdgeInset/e:0}arc(e,i,n,s,a,o,r,l){if(e<=0)return;const{startAngle:c,endAngle:h}=Iv(this.startAngle,this.endAngle),{innerRadius:p,outerRadius:f}=this.normalizedRadii(),y=this.normalizedClipSector();if(l&&p<=0)return;const m=l?this.getAngleOffset(p+e):this.getAngleOffset(f-e),b=r?c+m+i:h-m-i,v=l?p+e:f-e,S=v*Math.cos(b),D=v*Math.sin(b);if(y!=null&&(!r&&!(b>=c-1e-6&&b<=y.endAngle-1e-6)||r&&!(b>=y.startAngle+1e-6&&b<=h-1e-6)||l&&v<y.innerRadius-1e-6||!l&&v>y.outerRadius+1e-6))return;const I=new $C(S,D,e,n,s);if(y!=null){l?(I.clipStart(Tv(S,D,e,n,s,y.endAngle)),I.clipEnd(Tv(S,D,e,n,s,y.startAngle))):(I.clipStart(Tv(S,D,e,n,s,y.startAngle)),I.clipEnd(Tv(S,D,e,n,s,y.endAngle)));let B,R;if(r?(B=Cv(S,D,e,n,s,y.innerRadius),R=Cv(S,D,e,n,s,y.outerRadius)):(B=Cv(S,D,e,n,s,y.outerRadius),R=Cv(S,D,e,n,s,y.innerRadius)),I.clipStart(B),I.clipEnd(R),B!=null){const{x:L,y:F}=I.pointAt(B),j=$u(Math.atan2(F,L),c);r?o==null||o.clipStart(j):a.clipEnd(j)}if(R!=null){const{x:L,y:F}=I.pointAt(R),j=$u(Math.atan2(F,L),c);r?a.clipStart(j):o==null||o.clipEnd(j)}}if(y!=null){const{x:B,y:R}=I.pointAt((I.a0+I.a1)/2);if(!yM(B,R,y))return}const{x:T,y:k}=I.pointAt(r===l?I.a0:I.a1),E=$u(Math.atan2(k,T),c),O=l?o:a;return r?O==null||O.clipStart(E):O==null||O.clipEnd(E),I}updatePath(){const{path:i,centerX:n,centerY:s,concentricEdgeInset:a,radialEdgeInset:o}=this;let{startOuterCornerRadius:r,endOuterCornerRadius:l,startInnerCornerRadius:c,endInnerCornerRadius:h}=this;const{startAngle:p,endAngle:f}=Iv(this.startAngle,this.endAngle),{innerRadius:y,outerRadius:m}=this.normalizedRadii(),b=this.normalizedClipSector(),v=f-p,S=v>=2*Math.PI-1e-6;if(i.clear(),y===0&&m===0||y>m)return;if(((b==null?void 0:b.startAngle)??p)===((b==null?void 0:b.endAngle)??f))return;if(S&&this.clipSector==null&&r===0&&l===0&&c===0&&h===0){i.moveTo(n+m*Math.cos(p),s+m*Math.sin(p)),i.arc(n,s,m,p,f),y>a&&(i.moveTo(n+y*Math.cos(f),s+y*Math.sin(f)),i.arc(n,s,y,f,p,!0)),i.closePath();return}else if(this.clipSector==null&&Math.abs(y-m)<1e-6){i.arc(n,s,m,p,f,!1),i.arc(n,s,m,f,p,!0),i.closePath();return}const D=this.getAngleOffset(y),I=this.getAngleOffset(m);if(v<2*I)return;const k=((b==null?void 0:b.innerRadius)??y)>a,E=y<a||v<2*D,O=m-y,B=Math.max(r,c,l,h),R=B>0?Math.min(O/B,1):1;r*=R,l*=R,c*=R,h*=R;const L=z_(m,v-2*I,-r,-l);if(r*=L,l*=L,!E&&k){const dt=z_(y,v-2*D,c,h);c*=dt,h*=dt}else c=0,h=0;const F=Math.max(r+c,l+h),j=F>0?Math.min(O/F,1):1;r*=j,l*=j,c*=j,h*=j;let G=0,W=0;const Z=r/(m-r),U=l/(m-l);if(Z>=0&&Z<1-1e-6)G=Math.asin(Z);else{G=v/2;const dt=m/(1/Math.sin(G)+1);r=Math.min(dt,r)}if(U>=0&&U<1-1e-6)W=Math.asin(U);else{W=v/2;const dt=m/(1/Math.sin(W)+1);l=Math.min(dt,l)}const K=Math.asin(c/(y+c)),$=Math.asin(h/(y+h)),X=(b==null?void 0:b.outerRadius)??m,_=this.getAngleOffset(X),V=new $C(0,0,X,p+_,f-_),Y=(b==null?void 0:b.innerRadius)??y,J=this.getAngleOffset(Y),q=k?new $C(0,0,Y,p+J,f-J):void 0;b!=null&&(V.clipStart(b.startAngle),V.clipEnd(b.endAngle),q==null||q.clipStart(b.startAngle),q==null||q.clipEnd(b.endAngle));const nt=this.arc(r,G,p-Math.PI*.5,p+G,V,q,!0,!1),st=this.arc(l,W,f-W,f+Math.PI*.5,V,q,!1,!1),rt=this.arc(h,$,f+Math.PI*.5,f+Math.PI-$,V,q,!1,!0),ct=this.arc(c,K,p+Math.PI+K,p+Math.PI*1.5,V,q,!0,!0);if(E){const dt=v<Math.PI*.5?o*(1+Math.cos(v))/Math.sin(v):NaN;let ht;dt>0&&dt<m?ht=Math.max(Math.hypot(o,dt),y):ht=o,ht=Math.max(ht,y);const yt=p+v*.5;i.moveTo(n+ht*Math.cos(yt),s+ht*Math.sin(yt))}else if(!((ct==null?void 0:ct.isValid())===!0||(q==null?void 0:q.isValid())===!0)){const dt=p+v/2,ht=y*Math.cos(dt),yt=y*Math.sin(dt);i.moveTo(n+ht,s+yt)}if((nt==null?void 0:nt.isValid())===!0){const{cx:dt,cy:ht,r:yt,a0:pt,a1:vt}=nt;i.arc(n+dt,s+ht,yt,pt,vt)}if(V.isValid()){const{r:dt,a0:ht,a1:yt}=V;i.arc(n,s,dt,ht,yt)}if((st==null?void 0:st.isValid())===!0){const{cx:dt,cy:ht,r:yt,a0:pt,a1:vt}=st;i.arc(n+dt,s+ht,yt,pt,vt)}if(!E){if((rt==null?void 0:rt.isValid())===!0){const{cx:dt,cy:ht,r:yt,a0:pt,a1:vt}=rt;i.arc(n+dt,s+ht,yt,pt,vt)}if((q==null?void 0:q.isValid())===!0){const{r:dt,a0:ht,a1:yt}=q;i.arc(n,s,dt,yt,ht,!0)}if((ct==null?void 0:ct.isValid())===!0){const{cx:dt,cy:ht,r:yt,a0:pt,a1:vt}=ct;i.arc(n+dt,s+ht,yt,pt,vt)}}i.closePath()}isPointInPath(e,i){const{startAngle:n,endAngle:s,innerRadius:a,outerRadius:o}=this.clipSector??this;return yM(e-this.centerX,i-this.centerY,{startAngle:n,endAngle:s,innerRadius:Math.min(a,o),outerRadius:Math.max(a,o)})}};Wn.className="Sector";N([$t()],Wn.prototype,"centerX",2);N([$t()],Wn.prototype,"centerY",2);N([$t()],Wn.prototype,"innerRadius",2);N([$t()],Wn.prototype,"outerRadius",2);N([$t()],Wn.prototype,"startAngle",2);N([$t()],Wn.prototype,"endAngle",2);N([$t()],Wn.prototype,"clipSector",2);N([$t()],Wn.prototype,"concentricEdgeInset",2);N([$t()],Wn.prototype,"radialEdgeInset",2);N([$t()],Wn.prototype,"startOuterCornerRadius",2);N([$t()],Wn.prototype,"endOuterCornerRadius",2);N([$t()],Wn.prototype,"startInnerCornerRadius",2);N([$t()],Wn.prototype,"endInnerCornerRadius",2);var Hi={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},$r={BLUE:"#2b5c95",ORANGE:"#cc6f10",GREEN:"#1e652e",CYAN:"#18859e",YELLOW:"#a69400",VIOLET:"#603c88",GRAY:"#575757",MAGENTA:"#7d2f6d",BROWN:"#4f3508",RED:"#a82529"},DW=class extends He{constructor(){super(...arguments),this.showInLegend=!1}};N([w(jt)],DW.prototype,"showInLegend",2);var TE=class extends Nn{constructor(){super(...arguments),this.spacing=2}set(t,e){return super.set(t)}};N([w(Dt)],TE.prototype,"text",2);N([w(de)],TE.prototype,"spacing",2);var CE=class extends Zt{constructor(){super(...arguments),this.fill="transparent",this.fillOpacity=1}};N([w(Ae)],CE.prototype,"fill",2);N([w(Le)],CE.prototype,"fillOpacity",2);var Ag=class extends Nn{constructor(){super(...arguments),this.offset=3,this.minAngle=0,this.minSpacing=4,this.maxCollisionOffset=50,this.avoidCollisions=!0}};N([w(Tt)],Ag.prototype,"offset",2);N([w(de.restrict({min:0,max:360}))],Ag.prototype,"minAngle",2);N([w(Tt)],Ag.prototype,"minSpacing",2);N([w(Tt)],Ag.prototype,"maxCollisionOffset",2);N([w(jt)],Ag.prototype,"avoidCollisions",2);var kE=class extends Nn{constructor(){super(...arguments),this.positionOffset=0,this.positionRatio=.5}};N([w(de)],kE.prototype,"positionOffset",2);N([w(Le)],kE.prototype,"positionRatio",2);var GA=class extends Zt{constructor(){super(...arguments),this.length=10,this.strokeWidth=1}};N([w(Ha,{optional:!0})],GA.prototype,"colors",2);N([w(Tt)],GA.prototype,"length",2);N([w(Tt)],GA.prototype,"strokeWidth",2);var ue=class extends $a{constructor(){super(...arguments),this.fills=Object.values(Hi),this.strokes=Object.values($r),this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.rotation=0,this.outerRadiusOffset=0,this.outerRadiusRatio=1,this.strokeWidth=1,this.sectorSpacing=0,this.hideZeroValueSectorsInLegend=!1,this.innerLabels=new Xx(TE),this.title=new DW,this.innerCircle=new CE,this.shadow=new Mr,this.calloutLabel=new Ag,this.sectorLabel=new kE,this.calloutLine=new GA,this.tooltip=new ws}isValid(){const t=super.isValid();return this.innerRadiusRatio==null&&this.innerRadiusOffset==null?(It.warnOnce("Either an [innerRadiusRatio] or an [innerRadiusOffset] must be set to render a donut series."),!1):t}};N([w(Dt)],ue.prototype,"angleKey",2);N([w(Dt,{optional:!0})],ue.prototype,"angleName",2);N([w(Dt,{optional:!0})],ue.prototype,"angleFilterKey",2);N([w(Dt,{optional:!0})],ue.prototype,"radiusKey",2);N([w(Dt,{optional:!0})],ue.prototype,"radiusName",2);N([w(Tt,{optional:!0})],ue.prototype,"radiusMin",2);N([w(Tt,{optional:!0})],ue.prototype,"radiusMax",2);N([w(Dt,{optional:!0})],ue.prototype,"calloutLabelKey",2);N([w(Dt,{optional:!0})],ue.prototype,"calloutLabelName",2);N([w(Dt,{optional:!0})],ue.prototype,"sectorLabelKey",2);N([w(Dt,{optional:!0})],ue.prototype,"sectorLabelName",2);N([w(Dt,{optional:!0})],ue.prototype,"legendItemKey",2);N([w(Ha)],ue.prototype,"fills",2);N([w(Ha)],ue.prototype,"strokes",2);N([w(Le)],ue.prototype,"fillOpacity",2);N([w(Le)],ue.prototype,"strokeOpacity",2);N([w(pl)],ue.prototype,"lineDash",2);N([w(Tt)],ue.prototype,"lineDashOffset",2);N([w(Tt)],ue.prototype,"cornerRadius",2);N([w(ta,{optional:!0})],ue.prototype,"itemStyler",2);N([w(de)],ue.prototype,"rotation",2);N([w(de)],ue.prototype,"outerRadiusOffset",2);N([w(Le)],ue.prototype,"outerRadiusRatio",2);N([w(de,{optional:!0})],ue.prototype,"innerRadiusOffset",2);N([w(Le,{optional:!0})],ue.prototype,"innerRadiusRatio",2);N([w(Tt)],ue.prototype,"strokeWidth",2);N([w(de)],ue.prototype,"sectorSpacing",2);N([w(jt)],ue.prototype,"hideZeroValueSectorsInLegend",2);N([w(QL)],ue.prototype,"innerLabels",2);N([w(kt)],ue.prototype,"title",2);N([w(kt)],ue.prototype,"innerCircle",2);N([w(kt)],ue.prototype,"shadow",2);N([w(kt)],ue.prototype,"calloutLabel",2);N([w(kt)],ue.prototype,"sectorLabel",2);N([w(kt)],ue.prototype,"calloutLine",2);N([w(kt)],ue.prototype,"tooltip",2);function Ed(t,e,i,n){const s=[i.convert(0),i.convert(1)],a=[n.convert(0),n.convert(1)],o=Math.PI/-2+yn(e),r=t?"initial":"update",l=({radius:m})=>({innerRadius:s[0],outerRadius:s[0]+(s[1]-s[0])*m}),c=({radius:m})=>({innerRadius:a[0],outerRadius:a[0]+(a[1]-a[0])*m});return{nodes:{toFn:(m,b,v,{prevLive:S})=>{var B,R;let{startAngle:D,endAngle:I,innerRadius:T,outerRadius:k}=b;const{stroke:E,fill:O}=b.sectorFormat;if(v==="removed"&&S?(D=(B=S.datum)==null?void 0:B.endAngle,I=(R=S.datum)==null?void 0:R.endAngle):v==="removed"&&!S&&(D=o,I=o),v==="removed"){const L=l(b);T=L.innerRadius,k=L.outerRadius}return{startAngle:D,endAngle:I,outerRadius:k,innerRadius:T,stroke:E,fill:O}},fromFn:(m,b,v,{prevFromProps:S})=>{let{startAngle:D,endAngle:I,innerRadius:T,outerRadius:k}=m,{fill:E,stroke:O}=b.sectorFormat;if(v==="unknown"||v==="added"&&!S?(D=o,I=o,T=b.innerRadius,k=b.outerRadius):v==="added"&&S&&(D=S.endAngle??o,I=S.endAngle??o,T=S.innerRadius??b.innerRadius,k=S.outerRadius??b.outerRadius),v==="added"&&!t){const B=c(b);T=B.innerRadius,k=B.outerRadius}return v==="updated"&&(E=m.fill??E,O=(typeof m.stroke=="string"?m.stroke:void 0)??O),{startAngle:D,endAngle:I,innerRadius:T,outerRadius:k,fill:E,stroke:O,phase:r}}},innerCircle:{fromFn:(m,b)=>{var v;return{size:((v=m.previousDatum)==null?void 0:v.radius)??m.size??0,phase:r}},toFn:(m,b)=>({size:b.radius??0})}}}function LE(t,e){return{startAngle:e.startAngle,endAngle:e.endAngle,innerRadius:e.innerRadius,outerRadius:e.outerRadius,fill:e.sectorFormat.fill,stroke:e.sectorFormat.stroke}}function NE(t,e){const i=e.y-t.centerY,n=e.x-t.centerX,s=Math.atan2(i,n),a=t.getItemNodes();for(const o of a)if(o.datum.missing!==!0&&Bu(s,o.startAngle,o.endAngle)){const r=Math.sqrt(n*n+i*i);let l=0;return r<o.innerRadius?l=o.innerRadius-r:r>o.outerRadius&&(l=r-o.outerRadius),{datum:o.datum,distance:l}}}var IW=(t=>(t[t.BACKGROUND=0]="BACKGROUND",t[t.FOREGROUND=1]="FOREGROUND",t[t.HIGHLIGHT=2]="HIGHLIGHT",t[t.LABEL=3]="LABEL",t))(IW||{}),VA=class extends VN{constructor({useLabelLayer:t=!1,pickModes:e=[1,0],canHaveAxes:i=!1,animationResetFns:n,...s}){super({...s,useLabelLayer:t,pickModes:e,directionKeys:{x:["angleKey"],y:["radiusKey"]},directionNames:{x:["angleName"],y:["radiusName"]},canHaveAxes:i}),this.itemGroup=this.contentGroup.appendChild(new Wt),this.nodeData=[],this.itemSelection=Yi.select(this.itemGroup,()=>this.nodeFactory(),!1),this.labelSelection=Yi.select(this.labelGroup,()=>this.labelFactory(),!1),this.highlightSelection=Yi.select(this.highlightGroup,()=>this.nodeFactory()),this.highlightLabelSelection=Yi.select(this.highlightLabel,()=>this.labelFactory()),this.centerX=0,this.centerY=0,this.radius=0,this.animationResetFns=n,this.animationState=new tb("empty",{empty:{update:{target:"ready",action:a=>this.animateEmptyUpdateReady(a)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:a=>this.animateReadyHighlight(a),highlightMarkers:a=>this.animateReadyHighlightMarkers(a),resize:a=>this.animateReadyResize(a),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:a=>this.animateWaitingUpdateReady(a)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:a=>this.animateClearingUpdateEmpty(a)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}getItemNodes(){return[...this.itemGroup.children()]}getNodeData(){return this.nodeData}setSeriesIndex(t){return super.setSeriesIndex(t)?(this.contentGroup.zIndex=[t,1],this.highlightGroup.zIndex=[t,2],this.labelGroup.zIndex=[t,3],!0):!1}resetAnimation(t){t==="initial"?this.animationState.transition("reset"):t==="ready"&&this.animationState.transition("skip")}labelFactory(){const t=new Cn;return t.pointerEvents=1,t}addChartEventListeners(){var t;this.destroyFns.push((t=this.ctx.chartEventManager)==null?void 0:t.addListener("legend-item-click",e=>this.onLegendItemClick(e)))}getInnerRadius(){return 0}computeLabelsBBox(t,e){return null}resetAllAnimation(){const{item:t,label:e}=this.animationResetFns??{};this.ctx.animationManager.stopByAnimationGroupId(this.id),t&&Fn([this.itemSelection,this.highlightSelection],t),e&&Fn([this.labelSelection,this.highlightLabelSelection],e),this.itemSelection.cleanup(),this.labelSelection.cleanup(),this.highlightSelection.cleanup(),this.highlightLabelSelection.cleanup()}animateEmptyUpdateReady(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateWaitingUpdateReady(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateReadyHighlight(t){const{item:e,label:i}=this.animationResetFns??{};e&&Fn([this.highlightSelection],e),i&&Fn([this.highlightLabelSelection],i)}animateReadyHighlightMarkers(t){}animateReadyResize(t){this.resetAllAnimation()}animateClearingUpdateEmpty(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}computeFocusBounds(t){var i;const e=(i=this.getNodeData())==null?void 0:i[t.datumIndex];if(e!==void 0)return this.itemSelection.select(n=>n instanceof ia&&n.datum===e)[0]}getSeriesRange(t,e){return[NaN,NaN]}},hlt=class extends nb{constructor(t,e,i,n){super(t,e,i,n),this.angleKey=n.properties.angleKey,this.radiusKey=n.properties.radiusKey,this.calloutLabelKey=n.properties.calloutLabelKey,this.sectorLabelKey=n.properties.sectorLabelKey}},EE=class extends VA{constructor(t){super({moduleCtx:t,pickModes:[1,0],useLabelLayer:!0,animationResetFns:{item:LE,label:Rc}}),this.properties=new ue,this.phantomNodeData=void 0,this.backgroundGroup=new Js({name:`${this.id}-background`,zIndex:0}),this.noVisibleData=!1,this.previousRadiusScale=new fr,this.radiusScale=new fr,this.phantomGroup=this.backgroundGroup.appendChild(new Wt({name:"phantom"})),this.phantomSelection=Yi.select(this.phantomGroup,()=>this.nodeFactory(),!1),this.calloutLabelGroup=this.contentGroup.appendChild(new Wt({name:"pieCalloutLabels"})),this.calloutLabelSelection=new Yi(this.calloutLabelGroup,Wt),this.zerosumRingsGroup=this.backgroundGroup.appendChild(new Wt({name:`${this.id}-zerosumRings`})),this.zerosumOuterRing=this.zerosumRingsGroup.appendChild(new kn({shape:"circle"})),this.zerosumInnerRing=this.zerosumRingsGroup.appendChild(new kn({shape:"circle"})),this.innerLabelsGroup=this.contentGroup.appendChild(new Wt({name:"innerLabels"})),this.innerCircleGroup=this.backgroundGroup.appendChild(new Wt({name:`${this.id}-innerCircle`})),this.innerLabelsSelection=Yi.select(this.innerLabelsGroup,Cn),this.innerCircleSelection=Yi.select(this.innerCircleGroup,()=>new kn({shape:"circle"})),this.surroundingRadius=void 0,this.NodeEvent=hlt,this.angleScale=new fr,this.angleScale.domain=[0,1],this.angleScale.range=[-Math.PI,Math.PI].map(e=>e+Math.PI/2),this.phantomGroup.opacity=.2}get calloutNodeData(){return this.phantomNodeData??this.nodeData}attachSeries(t,e,i){super.attachSeries(t,e,i),t==null||t.appendChild(this.backgroundGroup)}detachSeries(t,e,i){super.detachSeries(t,e,i),t==null||t.removeChild(this.backgroundGroup)}setSeriesIndex(t){return super.setSeriesIndex(t)?(this.backgroundGroup.zIndex=[0,t],!0):!1}nodeFactory(){return new Wn}getSeriesDomain(t){return t==="x"?this.angleScale.domain:this.radiusScale.domain}async processData(t){var b,v;if(this.data==null||!this.properties.isValid())return;const{visible:e,id:i}=this,{angleKey:n,angleFilterKey:s,radiusKey:a,calloutLabelKey:o,sectorLabelKey:r,legendItemKey:l}=this.properties,c=(S,D,I)=>e&&this.ctx.legendManager.getItemEnabled({seriesId:i,itemId:I}),h=!this.ctx.animationManager.isSkipped(),p=[],f=[];l?p.push(gr(l,"band",{id:"legendItemKey"})):o?p.push(gr(o,"band",{id:"calloutLabelKey"})):r&&p.push(gr(r,"band",{id:"sectorLabelKey"}));const y=this.radiusScale.type,m=this.angleScale.type;a&&f.push(YN(a,{id:"radiusValue",min:this.properties.radiusMin??0,max:this.properties.radiusMax}),ne(a,y,{id:"radiusRaw"}),Nd("radiusValue",[0,1],1,this.properties.radiusMin??0,this.properties.radiusMax)),o&&f.push(ne(o,"band",{id:"calloutLabelValue"})),r&&f.push(ne(r,"band",{id:"sectorLabelValue"})),l&&f.push(ne(l,"band",{id:"legendItemValue"})),s&&f.push(dx(s,m,{id:"angleFilterValue",onlyPositive:!0,validation:c,invalidValue:0}),ne(s,m,{id:"angleFilterRaw"}),Nd("angleFilterValue",[0,1],0,0)),h&&this.processedData&&p.length>0&&f.push(yg(this.id,this.processedData)),f.push(gg()),await this.requestDataModel(t,this.data,{props:[...p,dx(n,m,{id:"angleValue",onlyPositive:!0,validation:c,invalidValue:0}),ne(n,m,{id:"angleRaw"}),Nd("angleValue",[0,1],0,0),...f]});for(const S of((v=(b=this.processedData)==null?void 0:b.defs)==null?void 0:v.values)??[]){const{id:D,missing:I,property:T}=S,k=wN(this,I);D!=="angleRaw"&&k>0&&It.warnOnce(`no value was found for the key '${String(T)}' on ${k} data element${k>1?"s":""}`)}this.animationState.transition("updateData")}maybeRefreshNodeData(){if(!this.nodeDataRefresh)return;const{nodeData:t=[],phantomNodeData:e}=this.createNodeData()??{};this.nodeData=t,this.phantomNodeData=e,this.nodeDataRefresh=!1}getProcessedDataValues(t,e){const i=t.resolveColumnById(this,"angleValue",e),n=t.resolveColumnById(this,"angleRaw",e),s=this.properties.angleFilterKey!=null?t.resolveColumnById(this,"angleFilterValue",e):void 0,a=this.properties.angleFilterKey!=null?t.resolveColumnById(this,"angleFilterRaw",e):void 0,o=this.properties.radiusKey?t.resolveColumnById(this,"radiusValue",e):void 0,r=this.properties.radiusKey?t.resolveColumnById(this,"radiusRaw",e):void 0,l=this.properties.calloutLabelKey?t.resolveColumnById(this,"calloutLabelValue",e):void 0,c=this.properties.sectorLabelKey?t.resolveColumnById(this,"sectorLabelValue",e):void 0,h=this.properties.legendItemKey?t.resolveColumnById(this,"legendItemValue",e):void 0;return{angleValues:i,angleRawValues:n,angleFilterValues:s,angleFilterRawValues:a,radiusValues:o,radiusRawValues:r,calloutLabelValues:l,sectorLabelValues:c,legendItemValues:h}}createNodeData(){var B;const{id:t,processedData:e,dataModel:i,angleScale:n,ctx:{legendManager:s},visible:a}=this,{rotation:o,innerRadiusRatio:r}=this.properties;if(!this.properties.isValid())return this.zerosumOuterRing.visible=!0,this.zerosumInnerRing.visible=!0,{itemId:t,nodeData:[],labelData:[]};if(!i||(e==null?void 0:e.type)!=="ungrouped")return;const{angleValues:l,angleRawValues:c,angleFilterValues:h,angleFilterRawValues:p,radiusValues:f,radiusRawValues:y,calloutLabelValues:m,sectorLabelValues:b,legendItemValues:v}=this.getProcessedDataValues(i,e),S=(p==null?void 0:p.some((R,L)=>R>c[L]))??!1;let D=0,I=0;const T=[],k=p!=null?[]:void 0,E=e.dataSources.get(this.id)??[],O=(B=e.invalidData)==null?void 0:B.get(this.id);return E.forEach((R,L)=>{if((O==null?void 0:O[L])===!0)return;const F=S?h[L]:l[L],j=p!=null&&!S?Math.sqrt(p[L]/c[L]):1,G=n.convert(D)+yn(o);D=F,I+=F;const W=n.convert(D)+yn(o),Z=Math.abs(W-G),U=G+Z/2,K=c[L],X=((f==null?void 0:f[L])??1)*j,_=y==null?void 0:y[L],V=v==null?void 0:v[L],Y=this.getLabels(R,U,Z,!0,m==null?void 0:m[L],b==null?void 0:b[L],V),J=this.getSectorFormat(R,L,!1),q={itemId:L,series:this,datum:R,datumIndex:L,angleValue:K,midAngle:U,midCos:Math.cos(U),midSin:Math.sin(U),startAngle:G,endAngle:W,radius:X,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(X),0),sectorFormat:J,radiusValue:_,legendItemValue:V,enabled:a&&s.getItemEnabled({seriesId:t,itemId:L}),focusable:!0,...Y};T.push(q),k!=null&&k.push({...q,radius:1,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(1),0),focusable:!1})}),this.zerosumOuterRing.visible=I===0,this.zerosumInnerRing.visible=I===0&&r!=null&&r!==1&&r>0,{itemId:t,nodeData:T,labelData:T,phantomNodeData:k}}getLabels(t,e,i,n,s,a,o){const{calloutLabel:r,sectorLabel:l,legendItemKey:c}=this.properties,h=!n||r.enabled?this.properties.calloutLabelKey:void 0,p=!n||l.enabled?this.properties.sectorLabelKey:void 0;if(!h&&!p&&!c)return{};const f={datum:t,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey},y={};return h&&i>=yn(r.minAngle)&&(y.calloutLabel={...this.getTextAlignment(e),text:this.getLabelText(r,{...f,value:s}),hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0}),p&&(y.sectorLabel={text:this.getLabelText(l,{...f,value:a})}),c!=null&&o!=null&&(y.legendItem={key:c,text:o}),y}getTextAlignment(t){const e=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],i=rx(t),n=-.75*Math.PI,s=i-n,a=Math.floor(s/(Math.PI/2)),o=UL(a,e.length);return e[o]}getSectorFormat(t,e,i){const{angleKey:n,radiusKey:s,calloutLabelKey:a,sectorLabelKey:o,legendItemKey:r,fills:l,strokes:c,itemStyler:h}=this.properties,p=c[e%c.length],{fill:f,fillOpacity:y,stroke:m,strokeWidth:b,strokeOpacity:v,lineDash:S,lineDashOffset:D,cornerRadius:I}=ie(i&&this.properties.highlightStyle.item,{fill:l.length>0?l[e%l.length]:void 0,stroke:p,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.getOpacity()},this.properties);let T;return h&&(T=this.cachedDatumCallback(this.getDatumId(t,e)+(i?"-highlight":"-hide"),()=>h({datum:t,angleKey:n,radiusKey:s,calloutLabelKey:a,sectorLabelKey:o,legendItemKey:r,fill:f,fillOpacity:y,stroke:m,strokeWidth:b,strokeOpacity:v,lineDash:S,lineDashOffset:D,cornerRadius:I,highlighted:i,seriesId:this.id}))),{fill:(T==null?void 0:T.fill)??f,fillOpacity:(T==null?void 0:T.fillOpacity)??y,stroke:(T==null?void 0:T.stroke)??m,strokeWidth:(T==null?void 0:T.strokeWidth)??b,strokeOpacity:(T==null?void 0:T.strokeOpacity)??v,lineDash:(T==null?void 0:T.lineDash)??S,lineDashOffset:(T==null?void 0:T.lineDashOffset)??D,cornerRadius:(T==null?void 0:T.cornerRadius)??I}}getInnerRadius(){const{radius:t}=this,{innerRadiusRatio:e=1,innerRadiusOffset:i=0}=this.properties,n=t*e+i;return n===t||n<0?0:n}getOuterRadius(){const{outerRadiusRatio:t,outerRadiusOffset:e}=this.properties;return Math.max(this.radius*t+e,0)}updateRadiusScale(t){var n;const e=[this.getInnerRadius(),this.getOuterRadius()];this.radiusScale.range=e,t&&(this.previousRadiusScale.range=e);const i=s=>({...s,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(s.radius),0)});this.nodeData=this.nodeData.map(i),this.phantomNodeData=(n=this.phantomNodeData)==null?void 0:n.map(i)}getTitleTranslationY(){var s;const t=Math.max(0,this.radiusScale.range[1]);if(t===0)return NaN;const i=2+(((s=this.properties.title)==null?void 0:s.spacing)??0),n=Math.max(0,-t);return-t-i-n}update({seriesRect:t}){const{title:e}=this.properties,i={seriesRectWidth:t==null?void 0:t.width,seriesRectHeight:t==null?void 0:t.height},n=vc(this.nodeDataDependencies,i)!=null;if(n&&(this._nodeDataDependencies=i),this.maybeRefreshNodeData(),this.updateTitleNodes(),this.updateRadiusScale(n),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.backgroundGroup.translationX=this.centerX,this.backgroundGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),e){const s=this.getTitleTranslationY();e.node.y=isFinite(s)?s:0;const a=e.node.getBBox();e.node.visible=e.enabled&&isFinite(s)&&!this.bboxIntersectsSurroundingSeries(a)}for(const s of[this.zerosumInnerRing,this.zerosumOuterRing])s.fillOpacity=0,s.stroke=this.properties.calloutLabel.color,s.strokeWidth=1,s.strokeOpacity=1;this.updateNodeMidPoint(),this.updateSelections(),this.updateNodes(t)}updateTitleNodes(){var i,n;const{oldTitle:t}=this,{title:e}=this.properties;t!==e&&(t&&((i=this.labelGroup)==null||i.removeChild(t.node)),e&&(e.node.textBaseline="bottom",(n=this.labelGroup)==null||n.appendChild(e.node)),this.oldTitle=e)}updateNodeMidPoint(){var e;const t=i=>{const n=i.innerRadius+(i.outerRadius-i.innerRadius)/2;i.midPoint={x:i.midCos*Math.max(0,n),y:i.midSin*Math.max(0,n)}};this.nodeData.forEach(t),(e=this.phantomNodeData)==null||e.forEach(t)}updateSelections(){this.updateGroupSelection(),this.updateInnerCircleSelection()}updateGroupSelection(){const{itemSelection:t,highlightSelection:e,phantomSelection:i,highlightLabelSelection:n,calloutLabelSelection:s,labelSelection:a,innerLabelsSelection:o}=this,r=this.nodeData.map(c=>({...c,sectorFormat:{...c.sectorFormat}})),l=(c,h)=>{c.update(h,void 0,p=>this.getDatumId(p.datum,p.datumIndex)),this.ctx.animationManager.isSkipped()&&c.cleanup()};l(t,this.nodeData),l(e,r),l(i,this.phantomNodeData??[]),s.update(this.calloutNodeData,c=>{const h=new Ya;h.tag=0,h.pointerEvents=1,c.appendChild(h);const p=new Cn;p.tag=1,p.pointerEvents=1,c.appendChild(p)}),a.update(this.nodeData),n.update(r),o.update(this.properties.innerLabels,c=>{c.pointerEvents=1})}updateInnerCircleSelection(){const{innerCircle:t}=this.properties;let e=0;const i=this.getInnerRadius();if(i>0){const s=Math.min(i,this.getOuterRadius());e=Math.ceil(s*2+1)}const n=t?[{radius:e}]:[];this.innerCircleSelection.update(n)}updateNodes(t){const e=this.ctx.highlightManager.getActiveHighlight(),{visible:i}=this;this.backgroundGroup.visible=i,this.contentGroup.visible=i,this.highlightGroup.visible=i&&(e==null?void 0:e.series)===this,this.highlightLabel.visible=i&&(e==null?void 0:e.series)===this,this.labelGroup.visible=i,this.contentGroup.opacity=this.getOpacity(),this.innerCircleSelection.each((a,{radius:o})=>{var r,l;a.setProperties({fill:(r=this.properties.innerCircle)==null?void 0:r.fill,opacity:(l=this.properties.innerCircle)==null?void 0:l.fillOpacity,size:o})});const n=this.ctx.animationManager.isSkipped(),s=(a,o,r,l)=>{const c=this.getSectorFormat(o.datum,o.itemId,l);o.sectorFormat.fill=c.fill,o.sectorFormat.stroke=c.stroke,n&&(a.startAngle=o.startAngle,a.endAngle=o.endAngle,a.innerRadius=o.innerRadius,a.outerRadius=o.outerRadius),(l||n)&&(a.fill=c.fill,a.stroke=c.stroke),a.strokeWidth=c.strokeWidth,a.fillOpacity=c.fillOpacity,a.strokeOpacity=c.strokeOpacity,a.lineDash=c.lineDash,a.lineDashOffset=c.lineDashOffset,a.cornerRadius=c.cornerRadius,a.fillShadow=this.properties.shadow;const h=Math.max((this.properties.sectorSpacing+(c.stroke!=null?c.strokeWidth:0))/2,0);a.inset=h,a.lineJoin=this.properties.sectorSpacing>=0||h>0?"miter":"round"};this.itemSelection.each((a,o,r)=>s(a,o,r,!1)),this.highlightSelection.each((a,o,r)=>{s(a,o,r,!0),a.visible=o.itemId===(e==null?void 0:e.itemId)}),this.phantomSelection.each((a,o,r)=>s(a,o,r,!1)),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(t),this.updateSectorLabelNodes(),this.updateInnerLabelNodes(),this.updateZerosumRings(),this.animationState.transition("update")}updateCalloutLineNodes(){const{calloutLine:t}=this.properties,e=t.length,i=t.strokeWidth,n=t.colors??this.properties.strokes,{offset:s}=this.properties.calloutLabel;this.calloutLabelSelection.selectByTag(0).forEach((a,o)=>{const r=a.datum,{calloutLabel:l,outerRadius:c}=r;if(l!=null&&l.text&&!l.hidden&&c!==0){a.visible=!0,a.strokeWidth=i,a.stroke=n[o%n.length],a.fill=void 0;const h=r.midCos*c,p=r.midSin*c;let f=r.midCos*(c+e),y=r.midSin*(c+e);if((l.collisionTextAlign??l.collisionOffsetY!==0)&&l.box!=null){const b=l.box;let v=f,S=y;f<b.x?v=b.x:f>b.x+b.width&&(v=b.x+b.width),y<b.y?S=b.y:y>b.y+b.height&&(S=b.y+b.height);const D=v-f,I=S-y,T=Math.sqrt(Math.pow(D,2)+Math.pow(I,2)),k=T-s;k>0&&(f=f+D*k/T,y=y+I*k/T)}a.x1=h,a.y1=p,a.x2=f,a.y2=y}else a.visible=!1})}getLabelOverflow(t,e,i){const n=-this.centerX,s=n+i.width,a=-this.centerY,o=a+i.height,r=1;let l=1;e.x+r<n?l=(e.x+e.width-n)/e.width:e.x+e.width-r>s&&(l=(s-e.x)/e.width);const c=e.y+r<a||e.y+e.height-r>o,h=l===1?t.length:Math.floor(t.length*l)-1,p=this.bboxIntersectsSurroundingSeries(e);return{textLength:h,hasVerticalOverflow:c,hasSurroundingSeriesOverflow:p}}bboxIntersectsSurroundingSeries(t){const{surroundingRadius:e}=this;if(e==null)return!1;const i=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}],n=e**2;return i.some(s=>s.x**2+s.y**2>n)}computeCalloutLabelCollisionOffsets(){const{radiusScale:t}=this,{calloutLabel:e,calloutLine:i}=this.properties,{offset:n,minSpacing:s}=e,a=t.convert(0),o=S=>!S.calloutLabel||S.outerRadius===0,r=this.calloutNodeData,l=r.filter(S=>!o(S));if(l.forEach(S=>{const D=S.calloutLabel;D!=null&&(D.hidden=!1,D.collisionTextAlign=void 0,D.collisionOffsetY=0)}),l.length<=1)return;const c=l.filter(S=>S.midCos<0).sort((S,D)=>S.midSin-D.midSin),h=l.filter(S=>S.midCos>=0).sort((S,D)=>S.midSin-D.midSin),p=l.filter(S=>{var D;return S.midSin<0&&((D=S.calloutLabel)==null?void 0:D.textAlign)==="center"}).sort((S,D)=>S.midCos-D.midCos),f=l.filter(S=>{var D;return S.midSin>=0&&((D=S.calloutLabel)==null?void 0:D.textAlign)==="center"}).sort((S,D)=>S.midCos-D.midCos),y=S=>{const D=S.calloutLabel;if(D==null)return Et.zero.clone();const I=S.outerRadius+i.length+n,T=S.midCos*I,k=S.midSin*I+D.collisionOffsetY,E=D.collisionTextAlign??D.textAlign,O=D.textBaseline;return Cn.computeBBox(D.text,T,k,{font:this.properties.calloutLabel,textAlign:E,textBaseline:O})},m=(S,D,I)=>{const T=y(S).grow(s/2),k=y(D).grow(s/2);T.x<k.x+k.width&&T.x+T.width>k.x&&(I==="to-top"?T.y<k.y+k.height:T.y+T.height>k.y)&&(D.calloutLabel.collisionOffsetY=I==="to-top"?T.y-k.y-k.height:T.y+T.height-k.y)},b=S=>{const D=S.slice().sort((T,k)=>Math.abs(T.midSin)-Math.abs(k.midSin))[0],I=S.indexOf(D);for(let T=I-1;T>=0;T--){const k=S[T+1],E=S[T];m(k,E,"to-top")}for(let T=I+1;T<S.length;T++){const k=S[T-1],E=S[T];m(k,E,"to-bottom")}},v=S=>{const D=l.some(B=>B.calloutLabel.collisionOffsetY!==0),I=S.map(B=>y(B)),T=I.map(B=>B.clone().grow(s/2));let k=!1;for(let B=0;B<T.length&&!k;B++){const R=T[B];for(let L=B+1;L<S.length;L++){const F=T[L];if(R.collidesBBox(F)){k=!0;break}}}const E=r.map(B=>{const{startAngle:R,endAngle:L,outerRadius:F}=B;return{startAngle:R,endAngle:L,innerRadius:a,outerRadius:F}}),O=I.some(B=>E.some(R=>AW(B,R)));!k&&!D&&!O||S.filter(B=>B.calloutLabel.textAlign==="center").forEach(B=>{const R=B.calloutLabel;B.midCos<0?R.collisionTextAlign="right":B.midCos>0?R.collisionTextAlign="left":R.collisionTextAlign="center"})};b(c),b(h),v(p),v(f)}updateCalloutLabelNodes(t){const{radiusScale:e}=this,{calloutLabel:i,calloutLine:n}=this.properties,s=n.length,{offset:a,color:o}=i,r=new Cn;this.calloutLabelSelection.selectByTag(1).forEach(l=>{const{datum:c}=l,h=c.calloutLabel,p=e.convert(c.radius),f=Math.max(0,p);if(!(h!=null&&h.text)||f===0||h.hidden){l.visible=!1;return}const y=f+s+a,m=c.midCos*y,b=c.midSin*y+h.collisionOffsetY,v={textAlign:h.collisionTextAlign??h.textAlign,textBaseline:h.textBaseline};r.text=h.text,r.x=m,r.y=b,r.setFont(this.properties.calloutLabel),r.setAlign(v);const S=r.getBBox();let D=h.text,I=!0;if(i.avoidCollisions){const{textLength:T,hasVerticalOverflow:k}=this.getLabelOverflow(h.text,S,t);D=h.text.length===T?h.text:`${h.text.substring(0,T)}`,I=!k}l.text=D,l.x=m,l.y=b,l.setFont(this.properties.calloutLabel),l.setAlign(v),l.fill=o,l.visible=I})}computeLabelsBBox(t,e){const{calloutLabel:i,calloutLine:n}=this.properties,s=n.length,{offset:a,maxCollisionOffset:o,minSpacing:r}=i;if(!i.avoidCollisions)return null;this.maybeRefreshNodeData(),this.updateRadiusScale(!1),this.computeCalloutLabelCollisionOffsets();const l=[],c=new Cn;let h;const{title:p}=this.properties;if(p!=null&&p.text&&p.enabled){const f=this.getTitleTranslationY();isFinite(f)&&(c.text=p.text,c.x=0,c.y=f,c.setFont(p),c.setAlign({textBaseline:"bottom",textAlign:"center"}),h=c.getBBox(),l.push(h))}return this.calloutNodeData.forEach(f=>{const y=f.calloutLabel;if(!y||f.outerRadius===0)return null;const m=f.outerRadius+s+a,b=f.midCos*m,v=f.midSin*m+y.collisionOffsetY;c.text=y.text,c.x=b,c.y=v,c.setFont(this.properties.calloutLabel),c.setAlign({textAlign:y.collisionTextAlign??y.textAlign,textBaseline:y.textBaseline});const S=c.getBBox();if(y.box=S,Math.abs(y.collisionOffsetY)>o){y.hidden=!0;return}if(h){const D=-this.centerY,I=new Et(h.x-r,D,h.width+2*r,h.y+h.height+r-D);if(S.collidesBBox(I)){y.hidden=!0;return}}if(t.hideWhenNecessary){const{textLength:D,hasVerticalOverflow:I,hasSurroundingSeriesOverflow:T}=this.getLabelOverflow(y.text,S,e),k=y.text.length>2&&D<2;if(I||k||T){y.hidden=!0;return}}y.hidden=!1,l.push(S)}),l.length===0?null:Et.merge(l)}updateSectorLabelNodes(){const{radiusScale:t}=this,e=t.convert(0),{fontSize:i,fontStyle:n,fontWeight:s,fontFamily:a,positionOffset:o,positionRatio:r,color:l}=this.properties.sectorLabel,c=(h,p)=>{const{sectorLabel:f,outerRadius:y}=p;let m=!1;if(f&&y!==0){const b=e*(1-r)+y*r+o;h.fill=l,h.fontStyle=n,h.fontWeight=s,h.fontSize=i,h.fontFamily=a,h.text=f.text,h.x=p.midCos*b,h.y=p.midSin*b,h.textAlign="center",h.textBaseline="middle";const v=h.getBBox(),S=[[v.x,v.y],[v.x+v.width,v.y],[v.x+v.width,v.y+v.height],[v.x,v.y+v.height]],{startAngle:D,endAngle:I}=p,T={startAngle:D,endAngle:I,innerRadius:e,outerRadius:y};S.every(([k,E])=>yM(k,E,T))&&(m=!0)}h.visible=m};this.labelSelection.each(c),this.highlightLabelSelection.each(c)}updateInnerLabelNodes(){const t=[],e=[];this.innerLabelsSelection.each((h,p)=>{const{fontStyle:f,fontWeight:y,fontSize:m,fontFamily:b,color:v}=p;h.fontStyle=f,h.fontWeight=y,h.fontSize=m,h.fontFamily=b,h.text=p.text,h.x=0,h.y=0,h.fill=v,h.textAlign="center",h.textBaseline="alphabetic",t.push(h.getBBox()),e.push(p.spacing)});const i=h=>h===0?0:e[h],n=h=>h===e.length-1?0:e[h],s=t.reduce((h,p,f)=>h+p.height+i(f)+n(f),0),a=Math.max(...t.map(h=>h.width)),o=this.getInnerRadius(),l=Math.sqrt(Math.pow(a/2,2)+Math.pow(s/2,2))<=(o>0?o:this.getOuterRadius()),c=[];for(let h=0,p=-s/2;h<t.length;h++){const y=t[h].height+p+i(h);c.push(y),p=y+n(h)}this.innerLabelsSelection.each((h,p,f)=>{h.y=c[f],h.visible=l})}updateZerosumRings(){this.zerosumOuterRing.size=this.getOuterRadius()*2,this.zerosumInnerRing.size=this.getInnerRadius()*2}pickNodeClosestDatum(t){return NE(this,t)}getTooltipContent(t){var B;const{id:e,dataModel:i,processedData:n,properties:s}=this,{legendItemKey:a,calloutLabelKey:o,calloutLabelName:r,sectorLabelKey:l,sectorLabelName:c,angleKey:h,angleName:p,radiusKey:f,radiusName:y,tooltip:m}=s,b=this.properties.title.text;if(!i||!n)return;const{datumIndex:v}=t,S=(B=n.dataSources.get(this.id))==null?void 0:B[v],{angleRawValues:D,legendItemValues:I,calloutLabelValues:T,sectorLabelValues:k}=this.getProcessedDataValues(i,n),E=D[v],O=(I==null?void 0:I[v])??(o===h||T==null?void 0:T[v])??(l===h||k==null?void 0:k[v])??p;return m.formatTooltip({title:b,symbol:this.legendItemSymbol(v),data:[{label:O,fallbackLabel:h,value:bc(E,3)}]},{seriesId:e,datum:S,title:p,legendItemKey:a,calloutLabelKey:o,calloutLabelName:r,sectorLabelKey:l,sectorLabelName:c,angleKey:h,angleName:p,radiusKey:f,radiusName:y,...this.getSectorFormat(S,v,!1)})}legendItemSymbol(t){var n,s;const e=(s=(n=this.processedData)==null?void 0:n.dataSources.get(this.id))==null?void 0:s[t],i=this.getSectorFormat(e,t,!1);return{marker:{fill:i.fill,stroke:i.stroke,fillOpacity:this.properties.fillOpacity,strokeOpacity:this.properties.strokeOpacity,strokeWidth:this.properties.strokeWidth,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset}}}getLegendData(t){var T,k,E,O,B,R;const{visible:e,processedData:i,dataModel:n,id:s,ctx:{legendManager:a}}=this;if(!n||!i||!this.properties.isValid()||t!=="category")return[];const{angleKey:o,calloutLabelKey:r,sectorLabelKey:l,legendItemKey:c,showInLegend:h}=this.properties;if(!c&&(!r||r===o)&&(!l||l===o))return[];const{angleRawValues:p,calloutLabelValues:f,sectorLabelValues:y,legendItemValues:m}=this.getProcessedDataValues(n,i),b=((T=this.properties.title)==null?void 0:T.showInLegend)&&this.properties.title.text,v=[],S=this.properties.hideZeroValueSectorsInLegend,D=i.dataSources.get(this.id),I=(k=i.invalidData)==null?void 0:k.get(this.id);for(let L=0;L<i.input.count;L++){const F=D==null?void 0:D[L],j=p[L];if((I==null?void 0:I[L])===!0||S&&j===0)continue;const G=[];b&&G.push(b);const W=this.getLabels(F,2*Math.PI,2*Math.PI,!1,f==null?void 0:f[L],y==null?void 0:y[L],m==null?void 0:m[L]);c&&W.legendItem!==void 0?G.push(W.legendItem.text):r&&r!==o&&((E=W.calloutLabel)==null?void 0:E.text)!==void 0?G.push((O=W.calloutLabel)==null?void 0:O.text):l&&l!==o&&((B=W.sectorLabel)==null?void 0:B.text)!==void 0&&G.push((R=W.sectorLabel)==null?void 0:R.text),G.length!==0&&v.push({legendType:"category",id:s,datum:F,itemId:L,seriesId:s,enabled:e&&a.getItemEnabled({seriesId:s,itemId:L}),label:{text:G.join(" - ")},symbol:this.legendItemSymbol(L),legendItemName:c!=null?F[c]:void 0,hideInLegend:!h})}return v}setLegendState(t){const{id:e,ctx:{legendManager:i,updateService:n}}=this;t.forEach((s,a)=>i.toggleItem({enabled:s,seriesId:e,itemId:a})),i.update(),n.update(4)}animateEmptyUpdateReady(t){const{animationManager:e}=this.ctx,i=Ed(!0,this.properties.rotation,this.radiusScale,this.previousRadiusScale);vi(this.id,"nodes",e,[this.itemSelection,this.highlightSelection,this.phantomSelection],i.nodes,(n,s)=>this.getDatumId(s.datum,s.datumIndex)),vi(this.id,"innerCircle",e,[this.innerCircleSelection],i.innerCircle),Me(this,"callout",e,this.calloutLabelSelection),Me(this,"sector",e,this.labelSelection),Me(this,"highlight",e,this.highlightLabelSelection),Me(this,"inner",e,this.innerLabelsSelection),this.previousRadiusScale.range=this.radiusScale.range}animateWaitingUpdateReady(){var y,m,b,v;const{itemSelection:t,highlightSelection:e,phantomSelection:i,processedData:n,radiusScale:s,previousRadiusScale:a}=this,{animationManager:o}=this.ctx,r=(m=(y=n==null?void 0:n.reduced)==null?void 0:y.diff)==null?void 0:m[this.id];this.ctx.animationManager.stopByAnimationGroupId(this.id);const l=((r==null?void 0:r.moved.size)??0)===0,c=((n==null?void 0:n.defs.keys.length)??0)>0,h=((v=(b=n==null?void 0:n.reduced)==null?void 0:b.animationValidation)==null?void 0:v.uniqueKeys)??!0;(!l||!c||!h)&&this.ctx.animationManager.skipCurrentBatch();const p=!this.nodeData.some(S=>S.enabled),f=Ed(!1,this.properties.rotation,s,a);vi(this.id,"nodes",o,[t,e,i],f.nodes,(S,D)=>this.getDatumId(D.datum,D.datumIndex),r),vi(this.id,"innerCircle",o,[this.innerCircleSelection],f.innerCircle),Me(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),Me(this,"sector",this.ctx.animationManager,this.labelSelection),Me(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),this.noVisibleData!==p&&(this.noVisibleData=p,Me(this,"inner",this.ctx.animationManager,this.innerLabelsSelection)),this.previousRadiusScale.range=this.radiusScale.range}animateClearingUpdateEmpty(){const{itemSelection:t,highlightSelection:e,phantomSelection:i,radiusScale:n,previousRadiusScale:s}=this,{animationManager:a}=this.ctx,o=Ed(!1,this.properties.rotation,n,s);vi(this.id,"nodes",a,[t,e,i],o.nodes,(r,l)=>this.getDatumId(l.datum,l.datumIndex)),vi(this.id,"innerCircle",a,[this.innerCircleSelection],o.innerCircle),ju(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),ju(this,"sector",this.ctx.animationManager,this.labelSelection),ju(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),ju(this,"inner",this.ctx.animationManager,this.innerLabelsSelection),this.previousRadiusScale.range=this.radiusScale.range}getDatumId(t,e){var a,o,r;const{calloutLabelKey:i,sectorLabelKey:n,legendItemKey:s}=this.properties;return(r=(o=(a=this.processedData)==null?void 0:a.reduced)==null?void 0:o.animationValidation)!=null&&r.uniqueKeys?s?Ki(t[s]):i?Ki(t[i]):n?Ki(t[n]):`${e}`:`${e}`}};EE.className="DonutSeries";EE.type="donut";var dlt={series:{title:{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:[1.1666666666666667]},fontFamily:{$ref:"fontFamily"},color:{$ref:"subtleTextColor"},spacing:5},calloutLabel:{enabled:!0,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"},offset:3,minAngle:.001},sectorLabel:{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$ref:"backgroundColor"},positionOffset:0,positionRatio:.5},calloutLine:{length:10,strokeWidth:2},fillOpacity:1,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,rotation:0,sectorSpacing:1,shadow:{enabled:!1,color:hh,xOffset:3,yOffset:3,blur:5},innerLabels:{fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"},spacing:2}},legend:{enabled:!0}},plt={series:{title:{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:[1.1666666666666667]},fontFamily:{$ref:"fontFamily"},color:{$ref:"subtleTextColor"},spacing:5},calloutLabel:{enabled:!0,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"},offset:3,minAngle:.001},sectorLabel:{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$ref:"backgroundColor"},positionOffset:0,positionRatio:.5},calloutLine:{length:10,strokeWidth:2},fillOpacity:1,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,rotation:0,sectorSpacing:1,shadow:{enabled:!1,color:hh,xOffset:3,yOffset:3,blur:5}},legend:{enabled:!0}},TW=({takeColors:t,colorsCount:e})=>{const{fills:i,strokes:n}=t(e);return{fills:i,strokes:n,calloutLine:{colors:n}}},flt={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"donut",moduleFactory:t=>new EE(t),tooltipDefaults:{range:"exact"},themeTemplate:dlt,paletteFactory:TW},CW=class extends He{constructor(){super(...arguments),this.showInLegend=!1}};N([w(jt)],CW.prototype,"showInLegend",2);var Dg=class extends Nn{constructor(){super(...arguments),this.offset=3,this.minAngle=0,this.minSpacing=4,this.maxCollisionOffset=50,this.avoidCollisions=!0}};N([w(Tt)],Dg.prototype,"offset",2);N([w(de.restrict({min:0,max:360}))],Dg.prototype,"minAngle",2);N([w(Tt)],Dg.prototype,"minSpacing",2);N([w(Tt)],Dg.prototype,"maxCollisionOffset",2);N([w(jt)],Dg.prototype,"avoidCollisions",2);var OE=class extends Nn{constructor(){super(...arguments),this.positionOffset=0,this.positionRatio=.5}};N([w(de)],OE.prototype,"positionOffset",2);N([w(Le)],OE.prototype,"positionRatio",2);var UA=class extends Zt{constructor(){super(...arguments),this.length=10,this.strokeWidth=1}};N([w(Ha,{optional:!0})],UA.prototype,"colors",2);N([w(Tt)],UA.prototype,"length",2);N([w(Tt)],UA.prototype,"strokeWidth",2);var De=class extends $a{constructor(){super(...arguments),this.fills=Object.values(Hi),this.strokes=Object.values($r),this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.rotation=0,this.outerRadiusOffset=0,this.outerRadiusRatio=1,this.strokeWidth=1,this.sectorSpacing=0,this.hideZeroValueSectorsInLegend=!1,this.title=new CW,this.shadow=new Mr,this.calloutLabel=new Dg,this.sectorLabel=new OE,this.calloutLine=new UA,this.tooltip=new ws}};N([w(Dt)],De.prototype,"angleKey",2);N([w(Dt,{optional:!0})],De.prototype,"angleName",2);N([w(Dt,{optional:!0})],De.prototype,"angleFilterKey",2);N([w(Dt,{optional:!0})],De.prototype,"radiusKey",2);N([w(Dt,{optional:!0})],De.prototype,"radiusName",2);N([w(Tt,{optional:!0})],De.prototype,"radiusMin",2);N([w(Tt,{optional:!0})],De.prototype,"radiusMax",2);N([w(Dt,{optional:!0})],De.prototype,"calloutLabelKey",2);N([w(Dt,{optional:!0})],De.prototype,"calloutLabelName",2);N([w(Dt,{optional:!0})],De.prototype,"sectorLabelKey",2);N([w(Dt,{optional:!0})],De.prototype,"sectorLabelName",2);N([w(Dt,{optional:!0})],De.prototype,"legendItemKey",2);N([w(Ha)],De.prototype,"fills",2);N([w(Ha)],De.prototype,"strokes",2);N([w(Le)],De.prototype,"fillOpacity",2);N([w(Le)],De.prototype,"strokeOpacity",2);N([w(pl)],De.prototype,"lineDash",2);N([w(Tt)],De.prototype,"lineDashOffset",2);N([w(Tt)],De.prototype,"cornerRadius",2);N([w(ta,{optional:!0})],De.prototype,"itemStyler",2);N([w(de)],De.prototype,"rotation",2);N([w(de)],De.prototype,"outerRadiusOffset",2);N([w(Le)],De.prototype,"outerRadiusRatio",2);N([w(Tt)],De.prototype,"strokeWidth",2);N([w(de)],De.prototype,"sectorSpacing",2);N([w(jt)],De.prototype,"hideZeroValueSectorsInLegend",2);N([w(kt)],De.prototype,"title",2);N([w(kt)],De.prototype,"shadow",2);N([w(kt)],De.prototype,"calloutLabel",2);N([w(kt)],De.prototype,"sectorLabel",2);N([w(kt)],De.prototype,"calloutLine",2);N([w(kt)],De.prototype,"tooltip",2);var glt=class extends nb{constructor(t,e,i,n){super(t,e,i,n),this.angleKey=n.properties.angleKey,this.radiusKey=n.properties.radiusKey,this.calloutLabelKey=n.properties.calloutLabelKey,this.sectorLabelKey=n.properties.sectorLabelKey}},wE=class extends VA{constructor(t){super({moduleCtx:t,pickModes:[1,0],useLabelLayer:!0,animationResetFns:{item:LE,label:Rc}}),this.properties=new De,this.phantomNodeData=void 0,this.backgroundGroup=new Js({name:`${this.id}-background`,zIndex:0}),this.previousRadiusScale=new fr,this.radiusScale=new fr,this.phantomGroup=this.backgroundGroup.appendChild(new Wt({name:"phantom"})),this.phantomSelection=Yi.select(this.phantomGroup,()=>this.nodeFactory(),!1),this.calloutLabelGroup=this.contentGroup.appendChild(new Wt({name:"pieCalloutLabels"})),this.calloutLabelSelection=new Yi(this.calloutLabelGroup,Wt),this.zerosumRingsGroup=this.backgroundGroup.appendChild(new Wt({name:`${this.id}-zerosumRings`})),this.zerosumOuterRing=this.zerosumRingsGroup.appendChild(new kn({shape:"circle"})),this.surroundingRadius=void 0,this.NodeEvent=glt,this.angleScale=new fr,this.angleScale.domain=[0,1],this.angleScale.range=[-Math.PI,Math.PI].map(e=>e+Math.PI/2),this.phantomGroup.opacity=.2}get calloutNodeData(){return this.phantomNodeData??this.nodeData}attachSeries(t,e,i){super.attachSeries(t,e,i),t.appendChild(this.backgroundGroup)}detachSeries(t,e,i){super.detachSeries(t,e,i),t==null||t.removeChild(this.backgroundGroup)}setSeriesIndex(t){return super.setSeriesIndex(t)?(this.backgroundGroup.zIndex=[0,t],!0):!1}nodeFactory(){const t=new Wn;return t.miterLimit=1e9,t}getSeriesDomain(t){return t==="x"?this.angleScale.domain:this.radiusScale.domain}async processData(t){var v,S,D,I,T;if(this.data==null||!this.properties.isValid())return;const{visible:e,id:i,ctx:{legendManager:n}}=this,{angleKey:s,angleFilterKey:a,radiusKey:o,calloutLabelKey:r,sectorLabelKey:l,legendItemKey:c}=this.properties,h=(k,E,O)=>e&&n.getItemEnabled({seriesId:i,itemId:O}),p=!this.ctx.animationManager.isSkipped(),f=[],y=[];c?f.push(gr(c,"band",{id:"legendItemKey"})):r?f.push(gr(r,"band",{id:"calloutLabelKey"})):l&&f.push(gr(l,"band",{id:"sectorLabelKey"}));const m=this.radiusScale.type,b=this.angleScale.type;o&&y.push(YN(o,{id:"radiusValue",min:this.properties.radiusMin??0,max:this.properties.radiusMax}),ne(o,m,{id:"radiusRaw"}),Nd("radiusValue",[0,1],1,this.properties.radiusMin??0,this.properties.radiusMax)),r&&y.push(ne(r,"band",{id:"calloutLabelValue"})),l&&y.push(ne(l,"band",{id:"sectorLabelValue"})),c&&y.push(ne(c,"band",{id:"legendItemValue"})),a&&y.push(dx(a,b,{id:"angleFilterValue",onlyPositive:!0,validation:h,invalidValue:0}),ne(a,b,{id:"angleFilterRaw"}),Nd("angleFilterValue",[0,1],0,0)),p&&((D=(S=(v=this.processedData)==null?void 0:v.reduced)==null?void 0:S.animationValidation)!=null&&D.uniqueKeys)&&f.length>0&&y.push(yg(this.id,this.processedData)),y.push(gg()),await this.requestDataModel(t,this.data,{props:[...f,dx(s,b,{id:"angleValue",onlyPositive:!0,validation:h,invalidValue:0}),ne(s,b,{id:"angleRaw"}),Nd("angleValue",[0,1],0,0),...y]});for(const k of((T=(I=this.processedData)==null?void 0:I.defs)==null?void 0:T.values)??[]){const{id:E,missing:O,property:B}=k,R=wN(this,O);E!=="angleRaw"&&R>0&&It.warnOnce(`no value was found for the key '${String(B)}' on ${R} data element${R>1?"s":""}`)}this.animationState.transition("updateData")}maybeRefreshNodeData(){if(!this.nodeDataRefresh)return;const{nodeData:t=[],phantomNodeData:e}=this.createNodeData()??{};this.nodeData=t,this.phantomNodeData=e,this.nodeDataRefresh=!1}getProcessedDataValues(t,e){const i=t.resolveColumnById(this,"angleValue",e),n=t.resolveColumnById(this,"angleRaw",e),s=this.properties.angleFilterKey!=null?t.resolveColumnById(this,"angleFilterValue",e):void 0,a=this.properties.angleFilterKey!=null?t.resolveColumnById(this,"angleFilterRaw",e):void 0,o=this.properties.radiusKey?t.resolveColumnById(this,"radiusValue",e):void 0,r=this.properties.radiusKey?t.resolveColumnById(this,"radiusRaw",e):void 0,l=this.properties.calloutLabelKey?t.resolveColumnById(this,"calloutLabelValue",e):void 0,c=this.properties.sectorLabelKey?t.resolveColumnById(this,"sectorLabelValue",e):void 0,h=this.properties.legendItemKey?t.resolveColumnById(this,"legendItemValue",e):void 0;return{angleValues:i,angleRawValues:n,angleFilterValues:s,angleFilterRawValues:a,radiusValues:o,radiusRawValues:r,calloutLabelValues:l,sectorLabelValues:c,legendItemValues:h}}createNodeData(){var O;const{id:t,processedData:e,dataModel:i,angleScale:n,ctx:{legendManager:s},visible:a}=this,{rotation:o}=this.properties;if(!i||(e==null?void 0:e.type)!=="ungrouped")return;const{angleValues:r,angleRawValues:l,angleFilterValues:c,angleFilterRawValues:h,radiusValues:p,radiusRawValues:f,calloutLabelValues:y,sectorLabelValues:m,legendItemValues:b}=this.getProcessedDataValues(i,e),v=(h==null?void 0:h.some((B,R)=>B>l[R]))??!1;let S=0,D=0;const I=[],T=h!=null?[]:void 0,k=e.dataSources.get(this.id)??[],E=(O=e.invalidData)==null?void 0:O.get(this.id);return k.forEach((B,R)=>{if((E==null?void 0:E[R])===!0)return;const L=v?c[R]:r[R],F=h!=null&&!v?Math.sqrt(h[R]/l[R]):1,j=n.convert(S)+yn(o);S=L,D+=L;const G=n.convert(S)+yn(o),W=Math.abs(G-j),Z=j+W/2,U=l[R],$=((p==null?void 0:p[R])??1)*F,X=f==null?void 0:f[R],_=b==null?void 0:b[R],V=this.getLabels(B,Z,W,!0,y==null?void 0:y[R],m==null?void 0:m[R],_),Y=this.getSectorFormat(B,R,!1),J={itemId:R,series:this,datum:B,datumIndex:R,angleValue:U,midAngle:Z,midCos:Math.cos(Z),midSin:Math.sin(Z),startAngle:j,endAngle:G,radius:$,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert($),0),sectorFormat:Y,radiusValue:X,legendItemValue:_,enabled:a&&s.getItemEnabled({seriesId:t,itemId:R}),...V};I.push(J),T!=null&&T.push({...J,radius:1,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(1),0)})}),this.zerosumOuterRing.visible=D===0,{itemId:t,nodeData:I,labelData:I,phantomNodeData:T}}getLabels(t,e,i,n,s,a,o){const{calloutLabel:r,sectorLabel:l,legendItemKey:c}=this.properties,h=!n||r.enabled?this.properties.calloutLabelKey:void 0,p=!n||l.enabled?this.properties.sectorLabelKey:void 0;if(!h&&!p&&!c)return{};const f={datum:t,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey},y={};return h&&i>=yn(r.minAngle)&&(y.calloutLabel={...this.getTextAlignment(e),text:this.getLabelText(r,{...f,value:s}),hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0}),p&&(y.sectorLabel={text:this.getLabelText(l,{...f,value:a})}),c!=null&&o!=null&&(y.legendItem={key:c,text:o}),y}getTextAlignment(t){const e=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],i=rx(t),n=-.75*Math.PI,s=i-n,a=Math.floor(s/(Math.PI/2)),o=UL(a,e.length);return e[o]}getSectorFormat(t,e,i){const{angleKey:n,radiusKey:s,calloutLabelKey:a,sectorLabelKey:o,legendItemKey:r,fills:l,strokes:c,itemStyler:h}=this.properties,p=c[e%c.length],{fill:f,fillOpacity:y,stroke:m,strokeWidth:b,strokeOpacity:v,lineDash:S,lineDashOffset:D,cornerRadius:I}=ie(i&&this.properties.highlightStyle.item,{fill:l.length>0?l[e%l.length]:void 0,stroke:p,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.getOpacity()},this.properties);let T;return h&&(T=this.cachedDatumCallback(this.getDatumId(t,e)+(i?"-highlight":"-hide"),()=>h({datum:t,angleKey:n,radiusKey:s,calloutLabelKey:a,sectorLabelKey:o,legendItemKey:r,fill:f,strokeOpacity:v,stroke:m,strokeWidth:b,fillOpacity:y,lineDash:S,lineDashOffset:D,cornerRadius:I,highlighted:i,seriesId:this.id}))),{fill:(T==null?void 0:T.fill)??f,fillOpacity:(T==null?void 0:T.fillOpacity)??y,stroke:(T==null?void 0:T.stroke)??m,strokeWidth:(T==null?void 0:T.strokeWidth)??b,strokeOpacity:(T==null?void 0:T.strokeOpacity)??v,lineDash:(T==null?void 0:T.lineDash)??S,lineDashOffset:(T==null?void 0:T.lineDashOffset)??D,cornerRadius:(T==null?void 0:T.cornerRadius)??I}}getOuterRadius(){return Math.max(this.radius*this.properties.outerRadiusRatio+this.properties.outerRadiusOffset,0)}updateRadiusScale(t){var n;const e=[0,this.getOuterRadius()];this.radiusScale.range=e,t&&(this.previousRadiusScale.range=e);const i=s=>({...s,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(s.radius),0)});this.nodeData=this.nodeData.map(i),this.phantomNodeData=(n=this.phantomNodeData)==null?void 0:n.map(i)}getTitleTranslationY(){var s;const t=Math.max(0,this.radiusScale.range[1]);if(t===0)return NaN;const i=2+(((s=this.properties.title)==null?void 0:s.spacing)??0),n=Math.max(0,-t);return-t-i-n}update({seriesRect:t}){const{title:e}=this.properties,i={seriesRectWidth:t==null?void 0:t.width,seriesRectHeight:t==null?void 0:t.height},n=vc(this.nodeDataDependencies,i)!=null;if(n&&(this._nodeDataDependencies=i),this.maybeRefreshNodeData(),this.updateTitleNodes(),this.updateRadiusScale(n),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.backgroundGroup.translationX=this.centerX,this.backgroundGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),e){const s=this.getTitleTranslationY();e.node.y=isFinite(s)?s:0;const a=e.node.getBBox();e.node.visible=e.enabled&&isFinite(s)&&!this.bboxIntersectsSurroundingSeries(a)}this.zerosumOuterRing.fillOpacity=0,this.zerosumOuterRing.stroke=this.properties.calloutLabel.color,this.zerosumOuterRing.strokeWidth=1,this.zerosumOuterRing.strokeOpacity=1,this.updateNodeMidPoint(),this.updateSelections(),this.updateNodes(t)}updateTitleNodes(){var i,n;const{oldTitle:t}=this,{title:e}=this.properties;t!==e&&(t&&((i=this.labelGroup)==null||i.removeChild(t.node)),e&&(e.node.textBaseline="bottom",(n=this.labelGroup)==null||n.appendChild(e.node)),this.oldTitle=e)}updateNodeMidPoint(){var e;const t=i=>{const n=i.innerRadius+(i.outerRadius-i.innerRadius)/2;i.midPoint={x:i.midCos*Math.max(0,n),y:i.midSin*Math.max(0,n)}};this.nodeData.forEach(t),(e=this.phantomNodeData)==null||e.forEach(t)}updateSelections(){const{itemSelection:t,highlightSelection:e,phantomSelection:i,highlightLabelSelection:n,calloutLabelSelection:s,labelSelection:a}=this,o=this.nodeData.map(l=>({...l,sectorFormat:{...l.sectorFormat}})),r=(l,c)=>{l.update(c,void 0,h=>this.getDatumId(h.datum,h.datumIndex)),this.ctx.animationManager.isSkipped()&&l.cleanup()};r(t,this.nodeData),r(e,o),r(i,this.phantomNodeData??[]),s.update(this.calloutNodeData,l=>{const c=new Ya;c.tag=0,c.pointerEvents=1,l.appendChild(c);const h=new Cn;h.tag=1,h.pointerEvents=1,l.appendChild(h)}),a.update(this.nodeData),n.update(o)}updateNodes(t){const e=this.ctx.highlightManager.getActiveHighlight(),{visible:i}=this;this.backgroundGroup.visible=i,this.contentGroup.visible=i,this.highlightGroup.visible=i&&(e==null?void 0:e.series)===this,this.highlightLabel.visible=i&&(e==null?void 0:e.series)===this,this.labelGroup&&(this.labelGroup.visible=i),this.contentGroup.opacity=this.getOpacity();const n=this.ctx.animationManager.isSkipped(),s=(a,o,r,l)=>{const c=this.getSectorFormat(o.datum,o.itemId,l);o.sectorFormat.fill=c.fill,o.sectorFormat.stroke=c.stroke,n&&(a.startAngle=o.startAngle,a.endAngle=o.endAngle,a.innerRadius=o.innerRadius,a.outerRadius=o.outerRadius),(l||n)&&(a.fill=c.fill,a.stroke=c.stroke),a.strokeWidth=c.strokeWidth,a.fillOpacity=c.fillOpacity,a.strokeOpacity=c.strokeOpacity,a.lineDash=c.lineDash,a.lineDashOffset=c.lineDashOffset,a.cornerRadius=c.cornerRadius,a.fillShadow=this.properties.shadow;const h=Math.max((this.properties.sectorSpacing+(c.stroke!=null?c.strokeWidth:0))/2,0);a.inset=h,a.lineJoin=this.properties.sectorSpacing>=0||h>0?"miter":"round"};this.itemSelection.each((a,o,r)=>s(a,o,r,!1)),this.highlightSelection.each((a,o,r)=>{s(a,o,r,!0),a.visible=o.itemId===(e==null?void 0:e.itemId)}),this.phantomSelection.each((a,o,r)=>s(a,o,r,!1)),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(t),this.updateSectorLabelNodes(),this.updateZerosumRings(),this.animationState.transition("update")}updateCalloutLineNodes(){const{calloutLine:t}=this.properties,e=t.length,i=t.strokeWidth,n=t.colors??this.properties.strokes,{offset:s}=this.properties.calloutLabel;this.calloutLabelSelection.selectByTag(0).forEach((a,o)=>{const r=a.datum,{calloutLabel:l,outerRadius:c}=r;if(l!=null&&l.text&&!l.hidden&&c!==0){a.visible=!0,a.strokeWidth=i,a.stroke=n[o%n.length],a.fill=void 0;const h=r.midCos*c,p=r.midSin*c;let f=r.midCos*(c+e),y=r.midSin*(c+e);if((l.collisionTextAlign??l.collisionOffsetY!==0)&&l.box!=null){const b=l.box;let v=f,S=y;f<b.x?v=b.x:f>b.x+b.width&&(v=b.x+b.width),y<b.y?S=b.y:y>b.y+b.height&&(S=b.y+b.height);const D=v-f,I=S-y,T=Math.sqrt(Math.pow(D,2)+Math.pow(I,2)),k=T-s;k>0&&(f=f+D*k/T,y=y+I*k/T)}a.x1=h,a.y1=p,a.x2=f,a.y2=y}else a.visible=!1})}getLabelOverflow(t,e,i){const n=-this.centerX,s=n+i.width,a=-this.centerY,o=a+i.height,r=1;let l=1;e.x+r<n?l=(e.x+e.width-n)/e.width:e.x+e.width-r>s&&(l=(s-e.x)/e.width);const c=e.y+r<a||e.y+e.height-r>o,h=l===1?t.length:Math.floor(t.length*l)-1,p=this.bboxIntersectsSurroundingSeries(e);return{textLength:h,hasVerticalOverflow:c,hasSurroundingSeriesOverflow:p}}bboxIntersectsSurroundingSeries(t){const{surroundingRadius:e}=this;if(e==null)return!1;const i=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}],n=e**2;return i.some(s=>s.x**2+s.y**2>n)}computeCalloutLabelCollisionOffsets(){const{radiusScale:t}=this,{calloutLabel:e,calloutLine:i}=this.properties,{offset:n,minSpacing:s}=e,a=t.convert(0),o=S=>!S.calloutLabel||S.outerRadius===0,r=this.calloutNodeData,l=r.filter(S=>!o(S));if(l.forEach(S=>{const D=S.calloutLabel;D!=null&&(D.hidden=!1,D.collisionTextAlign=void 0,D.collisionOffsetY=0)}),l.length<=1)return;const c=l.filter(S=>S.midCos<0).sort((S,D)=>S.midSin-D.midSin),h=l.filter(S=>S.midCos>=0).sort((S,D)=>S.midSin-D.midSin),p=l.filter(S=>{var D;return S.midSin<0&&((D=S.calloutLabel)==null?void 0:D.textAlign)==="center"}).sort((S,D)=>S.midCos-D.midCos),f=l.filter(S=>{var D;return S.midSin>=0&&((D=S.calloutLabel)==null?void 0:D.textAlign)==="center"}).sort((S,D)=>S.midCos-D.midCos),y=S=>{const D=S.calloutLabel;if(D==null)return Et.zero.clone();const I=S.outerRadius+i.length+n,T=S.midCos*I,k=S.midSin*I+D.collisionOffsetY,E=D.collisionTextAlign??D.textAlign,O=D.textBaseline;return Cn.computeBBox(D.text,T,k,{font:this.properties.calloutLabel,textAlign:E,textBaseline:O})},m=(S,D,I)=>{const T=y(S).grow(s/2),k=y(D).grow(s/2);T.x<k.x+k.width&&T.x+T.width>k.x&&(I==="to-top"?T.y<k.y+k.height:T.y+T.height>k.y)&&(D.calloutLabel.collisionOffsetY=I==="to-top"?T.y-k.y-k.height:T.y+T.height-k.y)},b=S=>{const D=S.slice().sort((T,k)=>Math.abs(T.midSin)-Math.abs(k.midSin))[0],I=S.indexOf(D);for(let T=I-1;T>=0;T--){const k=S[T+1],E=S[T];m(k,E,"to-top")}for(let T=I+1;T<S.length;T++){const k=S[T-1],E=S[T];m(k,E,"to-bottom")}},v=S=>{const D=l.some(B=>B.calloutLabel.collisionOffsetY!==0),I=S.map(B=>y(B)),T=I.map(B=>B.clone().grow(s/2));let k=!1;for(let B=0;B<T.length&&!k;B++){const R=T[B];for(let L=B+1;L<S.length;L++){const F=T[L];if(R.collidesBBox(F)){k=!0;break}}}const E=r.map(B=>{const{startAngle:R,endAngle:L,outerRadius:F}=B;return{startAngle:R,endAngle:L,innerRadius:a,outerRadius:F}}),O=I.some(B=>E.some(R=>AW(B,R)));!k&&!D&&!O||S.filter(B=>B.calloutLabel.textAlign==="center").forEach(B=>{const R=B.calloutLabel;B.midCos<0?R.collisionTextAlign="right":B.midCos>0?R.collisionTextAlign="left":R.collisionTextAlign="center"})};b(c),b(h),v(p),v(f)}updateCalloutLabelNodes(t){const{radiusScale:e}=this,{calloutLabel:i,calloutLine:n}=this.properties,s=n.length,{offset:a,color:o}=i,r=new Cn;this.calloutLabelSelection.selectByTag(1).forEach(l=>{const{datum:c}=l,h=c.calloutLabel,p=e.convert(c.radius),f=Math.max(0,p);if(!(h!=null&&h.text)||f===0||h.hidden){l.visible=!1;return}const y=f+s+a,m=c.midCos*y,b=c.midSin*y+h.collisionOffsetY,v={textAlign:h.collisionTextAlign??h.textAlign,textBaseline:h.textBaseline};r.text=h.text,r.x=m,r.y=b,r.setFont(this.properties.calloutLabel),r.setAlign(v);const S=r.getBBox();let D=h.text,I=!0;if(i.avoidCollisions){const{textLength:T,hasVerticalOverflow:k}=this.getLabelOverflow(h.text,S,t);D=h.text.length===T?h.text:`${h.text.substring(0,T)}`,I=!k}l.text=D,l.x=m,l.y=b,l.setFont(this.properties.calloutLabel),l.setAlign(v),l.fill=o,l.visible=I})}computeLabelsBBox(t,e){const{calloutLabel:i,calloutLine:n}=this.properties,s=n.length,{offset:a,maxCollisionOffset:o,minSpacing:r}=i;if(!i.avoidCollisions)return null;this.maybeRefreshNodeData(),this.updateRadiusScale(!1),this.computeCalloutLabelCollisionOffsets();const l=[],c=new Cn;let h;const{title:p}=this.properties;if(p!=null&&p.text&&p.enabled){const f=this.getTitleTranslationY();isFinite(f)&&(c.text=p.text,c.x=0,c.y=f,c.setFont(p),c.setAlign({textBaseline:"bottom",textAlign:"center"}),h=c.getBBox(),l.push(h))}return this.calloutNodeData.forEach(f=>{const y=f.calloutLabel;if(!y||f.outerRadius===0)return null;const m=f.outerRadius+s+a,b=f.midCos*m,v=f.midSin*m+y.collisionOffsetY;c.text=y.text,c.x=b,c.y=v,c.setFont(this.properties.calloutLabel),c.setAlign({textAlign:y.collisionTextAlign??y.textAlign,textBaseline:y.textBaseline});const S=c.getBBox();if(y.box=S,Math.abs(y.collisionOffsetY)>o){y.hidden=!0;return}if(h){const D=-this.centerY,I=new Et(h.x-r,D,h.width+2*r,h.y+h.height+r-D);if(S.collidesBBox(I)){y.hidden=!0;return}}if(t.hideWhenNecessary){const{textLength:D,hasVerticalOverflow:I,hasSurroundingSeriesOverflow:T}=this.getLabelOverflow(y.text,S,e),k=y.text.length>2&&D<2;if(I||k||T){y.hidden=!0;return}}y.hidden=!1,l.push(S)}),l.length===0?null:Et.merge(l)}updateSectorLabelNodes(){var f;const{radiusScale:t}=this,e=t.convert(0),{fontSize:i,fontStyle:n,fontWeight:s,fontFamily:a,positionOffset:o,positionRatio:r,color:l}=this.properties.sectorLabel,c=e>0,h=((f=this.ctx.legendManager.getData(this.id))==null?void 0:f.filter(y=>y.enabled).length)===1,p=(y,m)=>{const{sectorLabel:b,outerRadius:v,startAngle:S,endAngle:D}=m;let I=!1;if(b&&v!==0){const T=e*(1-r)+v*r+o;y.fill=l,y.fontStyle=n,y.fontWeight=s,y.fontSize=i,y.fontFamily=a,y.text=b.text,!c&&h?(y.x=0,y.y=0):(y.x=m.midCos*T,y.y=m.midSin*T),y.textAlign="center",y.textBaseline="middle";const E=y.getBBox(),O=[[E.x,E.y],[E.x+E.width,E.y],[E.x+E.width,E.y+E.height],[E.x,E.y+E.height]],B={startAngle:S,endAngle:D,innerRadius:e,outerRadius:v};O.every(([R,L])=>yM(R,L,B))&&(I=!0)}y.visible=I};this.labelSelection.each(p),this.highlightLabelSelection.each(p)}updateZerosumRings(){this.zerosumOuterRing.size=this.getOuterRadius()*2}pickNodeClosestDatum(t){return NE(this,t)}getTooltipContent(t){var B;const{id:e,dataModel:i,processedData:n,properties:s}=this,{legendItemKey:a,calloutLabelKey:o,calloutLabelName:r,sectorLabelKey:l,sectorLabelName:c,angleKey:h,angleName:p,radiusKey:f,radiusName:y,tooltip:m}=s,b=this.properties.title.text;if(!i||!n)return;const{datumIndex:v}=t,S=(B=n.dataSources.get(this.id))==null?void 0:B[v],{angleRawValues:D,legendItemValues:I,calloutLabelValues:T,sectorLabelValues:k}=this.getProcessedDataValues(i,n),E=D[v],O=(I==null?void 0:I[v])??(o===h||T==null?void 0:T[v])??(l===h||k==null?void 0:k[v])??p;return m.formatTooltip({title:b,symbol:this.legendItemSymbol(v),data:[{label:O,fallbackLabel:h,value:bc(E,3)}]},{seriesId:e,datum:S,title:p,legendItemKey:a,calloutLabelKey:o,calloutLabelName:r,sectorLabelKey:l,sectorLabelName:c,angleKey:h,angleName:p,radiusKey:f,radiusName:y,...this.getSectorFormat(S,v,!1)})}legendItemSymbol(t){var n,s;const e=(s=(n=this.processedData)==null?void 0:n.dataSources.get(this.id))==null?void 0:s[t],i=this.getSectorFormat(e,t,!1);return{marker:{fill:i.fill,stroke:i.stroke,fillOpacity:this.properties.fillOpacity,strokeOpacity:this.properties.strokeOpacity,strokeWidth:this.properties.strokeWidth,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset}}}getLegendData(t){var T,k,E,O,B,R;const{id:e,visible:i,processedData:n,dataModel:s,ctx:{legendManager:a}}=this;if(!s||!n||t!=="category")return[];const{angleKey:o,calloutLabelKey:r,sectorLabelKey:l,legendItemKey:c,showInLegend:h}=this.properties;if(!c&&(!r||r===o)&&(!l||l===o))return[];const{calloutLabelValues:p,sectorLabelValues:f,legendItemValues:y,angleRawValues:m}=this.getProcessedDataValues(s,n),b=((T=this.properties.title)==null?void 0:T.showInLegend)&&this.properties.title.text,v=[],S=this.properties.hideZeroValueSectorsInLegend,D=n.dataSources.get(this.id),I=(k=n.invalidData)==null?void 0:k.get(this.id);for(let L=0;L<n.input.count;L++){const F=D==null?void 0:D[L],j=m[L];if((I==null?void 0:I[L])===!0||S&&j===0)continue;const G=[];b&&G.push(b);const W=this.getLabels(F,2*Math.PI,2*Math.PI,!1,p==null?void 0:p[L],f==null?void 0:f[L],y==null?void 0:y[L]);c&&W.legendItem!==void 0?G.push(W.legendItem.text):r&&r!==o&&((E=W.calloutLabel)==null?void 0:E.text)!==void 0?G.push((O=W.calloutLabel)==null?void 0:O.text):l&&l!==o&&((B=W.sectorLabel)==null?void 0:B.text)!==void 0&&G.push((R=W.sectorLabel)==null?void 0:R.text),G.length!==0&&v.push({legendType:"category",id:e,datum:F,itemId:L,seriesId:e,enabled:i&&a.getItemEnabled({seriesId:e,itemId:L}),label:{text:G.join(" - ")},symbol:this.legendItemSymbol(L),legendItemName:c!=null?F[c]:void 0,hideInLegend:!h})}return v}setLegendState(t){const{id:e,ctx:{legendManager:i,updateService:n}}=this;t.forEach((s,a)=>i.toggleItem({enabled:s,seriesId:e,itemId:a})),i.update(),n.update(4)}animateEmptyUpdateReady(t){const{animationManager:e}=this.ctx,i=Ed(!0,this.properties.rotation,this.radiusScale,this.previousRadiusScale);vi(this.id,"nodes",e,[this.itemSelection,this.highlightSelection,this.phantomSelection],i.nodes,(n,s)=>this.getDatumId(s.datum,s.datumIndex)),Me(this,"callout",e,this.calloutLabelSelection),Me(this,"sector",e,this.labelSelection),Me(this,"highlight",e,this.highlightLabelSelection),this.previousRadiusScale.range=this.radiusScale.range}animateWaitingUpdateReady(){var f,y,m,b;const{itemSelection:t,highlightSelection:e,phantomSelection:i,processedData:n,radiusScale:s,previousRadiusScale:a}=this,{animationManager:o}=this.ctx,r=(y=(f=n==null?void 0:n.reduced)==null?void 0:f.diff)==null?void 0:y[this.id];this.ctx.animationManager.stopByAnimationGroupId(this.id);const l=((r==null?void 0:r.moved.size)??0)===0,c=((n==null?void 0:n.defs.keys.length)??0)>0,h=((b=(m=n==null?void 0:n.reduced)==null?void 0:m.animationValidation)==null?void 0:b.uniqueKeys)??!0;(!l||!c||!h)&&this.ctx.animationManager.skipCurrentBatch();const p=Ed(!1,this.properties.rotation,s,a);vi(this.id,"nodes",o,[t,e,i],p.nodes,(v,S)=>this.getDatumId(S.datum,S.datumIndex),r),Me(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),Me(this,"sector",this.ctx.animationManager,this.labelSelection),Me(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),this.previousRadiusScale.range=this.radiusScale.range}animateClearingUpdateEmpty(){const{itemSelection:t,highlightSelection:e,phantomSelection:i,radiusScale:n,previousRadiusScale:s}=this,{animationManager:a}=this.ctx,o=Ed(!1,this.properties.rotation,n,s);vi(this.id,"nodes",a,[t,e,i],o.nodes,(r,l)=>this.getDatumId(l.datum,l.datumIndex)),ju(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),ju(this,"sector",this.ctx.animationManager,this.labelSelection),ju(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),this.previousRadiusScale.range=this.radiusScale.range}getDatumId(t,e){var a,o,r;const{calloutLabelKey:i,sectorLabelKey:n,legendItemKey:s}=this.properties;return(r=(o=(a=this.processedData)==null?void 0:a.reduced)==null?void 0:o.animationValidation)!=null&&r.uniqueKeys?s?Ki(t[s]):i?Ki(t[i]):n?Ki(t[n]):`${e}`:`${e}`}};wE.className="PieSeries";wE.type="pie";var ylt={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"pie",moduleFactory:t=>new wE(t),tooltipDefaults:{range:"exact"},themeTemplate:plt,paletteFactory:TW};function mlt(){ol.register(GH,Ert,ert,Zrt,mW,olt,bW,clt,flt,ylt,rlt);for(const t of[rh,hg,Yd,mg,Xd])fc.register(t.type,{moduleFactory:e=>new t(e)})}function xlt(){for(const t of ol.modules){if(t.packageType==="enterprise"&&!$at(t)&&It.errorOnce("Unexpected enterprise module registered: "+t.identifier),t.type==="root"&&t.themeTemplate)for(const e of t.chartTypes)Bk.set(e,t.themeTemplate);if(t.type==="series"){if(t.chartTypes.length>1)throw new Error(`AG Charts - Module definition error: ${t.identifier}`);pa.register(t.identifier,t)}if(t.type==="series-option"&&t.themeTemplate)for(const e of t.seriesTypes)pa.setThemeTemplate(e,t.themeTemplate);if(t.type==="axis-option"&&t.themeTemplate)for(const e of t.axisTypes){const i=fc.getThemeTemplate(e),n=ie(t.themeTemplate,i);fc.setThemeTemplate(e,n)}t.type==="axis"&&fc.register(t.identifier,t),t.type==="legend"&&RN.register(t.identifier,t)}if(ol.hasEnterpriseModules()){const t=Kat();t.length>0&&It.errorOnce("Enterprise modules expected but not registered: ",t)}}var ig=class extends xN{constructor(){super(...arguments),this.shape="polygon",this.innerRadiusRatio=0,this.defaultTickMinSpacing=20}updatePosition(){super.updatePosition();const e=eM(this),i=yN(e);this.axisGroup.setProperties(this.getAxisTransform()),this.gridLineGroupSelection.each(i),this.tickLineGroupSelection.each(i),this.tickLabelGroupSelection.each(mN())}computeLabelsBBox(e,i){return null}computeRange(){}getAxisLinePoints(){}};N([w(Ye(["polygon","circle"],"a polar axis shape"))],ig.prototype,"shape",2);N([w(Le)],ig.prototype,"innerRadiusRatio",2);var RE=class extends MA{constructor(t,e){super(t,e),this.padding=new ah(40),this.ctx.axisManager.axisGroup.zIndex=6}getChartType(){return"polar"}async performLayout(t){const{layoutBox:e}=t;e.shrink(this.seriesArea.padding.toJson());const i=e.clone();this.seriesRect=i,this.animationRect=i,this.seriesRoot.translationX=i.x,this.seriesRoot.translationY=i.y,await this.computeCircle(i),this.axes.forEach(n=>n.update()),this.ctx.layoutManager.emitLayoutComplete(t,{series:{visible:!0,rect:i,paddedRect:i}})}updateAxes(t,e,i,n){var l;const s=this.axes.find(c=>c.direction==="x"),a=this.axes.find(c=>c.direction==="y");if(!(s instanceof ig)||!(a instanceof ig))return;const o=s.scale,r=a.innerRadiusRatio;s.innerRadiusRatio=r,s.computeRange(),s.gridLength=n,a.gridAngles=(l=o.ticks({nice:s.nice,interval:void 0,tickCount:void 0,minTickCount:0,maxTickCount:1/0}))==null?void 0:l.map(c=>o.convert(c)),a.gridRange=s.range,a.range=[n,n*r],[s,a].forEach(c=>{c.translation.x=t.x+e,c.translation.y=t.y+i,c.calculateLayout()})}async computeCircle(t){const e=this.series.filter(blt),i=this.axes.filter(vlt),n=(c,h,p)=>{this.updateAxes(t,c,h,p),e.forEach(y=>{y.centerX=c,y.centerY=h,y.radius=p});const f=e.filter(y=>y.type==="donut"||y.type==="pie");if(f.length>1){const y=f.map(m=>{const b=m.getInnerRadius();return{series:m,innerRadius:b}}).sort((m,b)=>m.innerRadius-b.innerRadius);y.at(-1).series.surroundingRadius=void 0;for(let m=0;m<y.length-1;m++)y[m].series.surroundingRadius=y[m+1].innerRadius}},s=t.width/2,a=t.height/2,o=Math.max(0,Math.min(t.width,t.height)/2);let r=o;n(s,a,r);const l=async({hideWhenNecessary:c=!1}={})=>{const h=[];for(const y of Md(i,e)){const m=await y.computeLabelsBBox({hideWhenNecessary:c},t);m&&h.push(m)}if(h.length===0){n(s,a,o);return}const p=Et.merge(h),f=this.refineCircle(p,r,t);n(f.centerX,f.centerY,f.radius),r=f.radius};await l(),await l(),await l(),await l({hideWhenNecessary:!0}),await l({hideWhenNecessary:!0});for(const c of Md(i,e))await c.computeLabelsBBox({hideWhenNecessary:!0},t);return{radius:r,centerX:s,centerY:a}}refineCircle(t,e,i){const s=-e,a=-e,o=e,r=e;let l=Math.max(0,s-t.x),c=Math.max(0,a-t.y),h=Math.max(0,t.x+t.width-o),p=Math.max(0,t.y+t.height-r);l=h=Math.max(l,h),c=p=Math.max(c,p);const f=i.width-l-h,y=i.height-c-p;let m=Math.min(f,y)/2;const b=.5*i.width/2,v=.5*i.height/2,S=Math.min(b,v);if(m<S){m=S;const T=l+h,k=c+p;if(2*m+k>i.height){const E=i.height-2*m;Math.min(c,p)*2>E?(c=E/2,p=E/2):c>p?c=E-p:p=E-c}if(2*m+T>i.width){const E=i.width-2*m;Math.min(l,h)*2>E?(l=E/2,h=E/2):l>h?l=E-h:h=E-l}}const D=l+2*m+h,I=c+2*m+p;return{centerX:(i.width-D)/2+l+m,centerY:(i.height-I)/2+c+m,radius:m}}};RE.className="PolarChart";RE.type="polar";function blt(t){return t instanceof VA}function vlt(t){return t instanceof ig}var Slt={type:"chart",name:"polar",detect:aH,create(t,e){return new RE(t,e)}},Zs={isEnterprise:!1},$k=["bar","line","scatter"],kW=(t=>(t.POINTER="pointer",t.NODE="node",t.TOP="top",t.RIGHT="right",t.BOTTOM="bottom",t.LEFT="left",t.TOP_LEFT="top-left",t.TOP_RIGHT="top-right",t.BOTTOM_RIGHT="bottom-right",t.BOTTOM_LEFT="bottom-left",t))(kW||{}),Mo=Symbol("IGNORED_PROP");function Va(t,e){const i={};for(const[n,s]of Object.entries(e))s!==Mo&&Object.hasOwn(t,n)&&(i[n]=s);return i}function LW(t){if(t===void 0)return;const{enabled:e,showArrow:i,range:n,position:s,delay:a,wrapping:o}=t;return Object.fromEntries(Object.entries({enabled:e,showArrow:i,range:n,position:s,delay:a,wrapping:o}).filter(([l,c])=>c!==void 0))}function Mlt(t){return t.type==="radial-gauge"}function Alt(t){return t.type==="linear-gauge"}function Dlt(t){const{animation:e,background:i,container:n,contextMenu:s,footnote:a,height:o,listeners:r,locale:l,minHeight:c,minWidth:h,overrideDevicePixelRatio:p,padding:f,subtitle:y,theme:m,title:b,width:v,type:S,cursor:D,nodeClickRange:I,tooltip:T,value:k,scale:E={},startAngle:O,endAngle:B,highlightStyle:R,segmentation:L,bar:F,needle:j,targets:G,outerRadius:W,innerRadius:Z,outerRadiusRatio:U,innerRadiusRatio:K,cornerRadius:$,cornerMode:X,label:_,secondaryLabel:V,spacing:Y,...J}=t,{fills:q,fillMode:nt,fill:st,fillOpacity:rt,stroke:ct,strokeWidth:dt,strokeOpacity:ht,lineDash:yt,lineDashOffset:pt,min:vt=0,max:At=1,interval:bt={},label:Rt={}}=E,Nt=Va(t,{animation:e,background:i,container:n,contextMenu:s,footnote:a,height:o,listeners:r,locale:l,minHeight:c,minWidth:h,overrideDevicePixelRatio:p,padding:f,subtitle:y,theme:m,title:b,tooltip:LW(T),width:v}),Ot=Va(E,{fills:q,fillMode:nt,fill:st,fillOpacity:rt,stroke:ct,strokeWidth:dt,strokeOpacity:ht,lineDash:yt,lineDashOffset:pt}),Xt=Va(t,{startAngle:Mo,endAngle:Mo,needle:j!=null?{enabled:!0,...j}:Mo,scale:Ot,type:S,cursor:D,nodeClickRange:I,listeners:r,tooltip:T,value:k,highlightStyle:R,segmentation:L,bar:F,targets:G,outerRadius:W,innerRadius:Z,outerRadiusRatio:U,innerRadiusRatio:K,cornerRadius:$,cornerMode:X,label:_,secondaryLabel:V,spacing:Y,...J});return{...Nt,series:[Xt],axes:[{type:"angle-number",min:vt,max:At,startAngle:O,endAngle:B,interval:bt??{},label:Rt??{}},{type:"radius-number"}]}}function Ilt(t){const{animation:e,background:i,container:n,contextMenu:s,footnote:a,height:o,listeners:r,locale:l,minHeight:c,minWidth:h,overrideDevicePixelRatio:p,padding:f,subtitle:y,theme:m,title:b,width:v,type:S,cursor:D,nodeClickRange:I,tooltip:T,value:k,scale:E={},direction:O="vertical",thickness:B,highlightStyle:R,segmentation:L,bar:F,targets:j,cornerRadius:G,cornerMode:W,label:Z,...U}=t,{fills:K,fillMode:$,fill:X,fillOpacity:_,stroke:V,strokeWidth:Y,strokeOpacity:J,lineDash:q,lineDashOffset:nt,min:st=0,max:rt=1,interval:ct={},label:dt={}}=E,ht=Va(t,{animation:e,background:i,container:n,contextMenu:s,footnote:a,height:o,listeners:r,locale:l,minHeight:c,minWidth:h,overrideDevicePixelRatio:p,padding:f,subtitle:y,theme:m,title:b,tooltip:LW(T),width:v}),yt=Va(E,{fills:K,fillMode:$,fill:X,fillOpacity:_,stroke:V,strokeWidth:Y,strokeOpacity:J,lineDash:q,lineDashOffset:nt}),pt=Va(t,{scale:yt,type:S,cursor:D,nodeClickRange:I,listeners:r,tooltip:T,value:k,direction:O,thickness:B,highlightStyle:R,segmentation:L,bar:F,targets:j,cornerRadius:G,cornerMode:W,label:Z,...U}),{placement:vt,...At}=dt;let bt,Rt;const Nt=O==="horizontal";Nt?(bt=vt==="before"?"top":"bottom",Rt="left"):(bt=vt==="after"?"right":"left",Rt="bottom");const Ot={type:"number",position:bt,min:st,max:rt,reverse:!Nt,interval:ct,label:At,nice:!1},Xt={type:"number",position:Rt,min:0,max:1,label:{enabled:!1}};return{...ht,series:[pt],axes:Nt?[Ot,Xt]:[Xt,Ot]}}function __(t,e){if(e==null)return t;const{targets:i,...n}=e;return t=ie(t,n),t.targets!=null&&i!=null&&(t.targets=XS(t.targets,i)),t}function Tlt(t,e){if(Mlt(t)){const D=__(t,e);return Dlt(D)}else if(Alt(t)){const D=__(t,e);return Ilt(D)}const{animation:i,background:n,container:s,contextMenu:a,footnote:o,height:r,listeners:l,locale:c,minHeight:h,minWidth:p,padding:f,subtitle:y,theme:m,title:b,tooltip:v,width:S}=t;return Va(t,{animation:i,background:n,container:s,contextMenu:a,footnote:o,height:r,listeners:l,locale:c,minHeight:h,minWidth:p,padding:f,subtitle:y,theme:m,title:b,tooltip:v,width:S})}var bo={stroke:Si},ts={fill:ub},j_={color:"white",fill:Si},ec={color:Si},mM={color:cb,fontSize:{$rem:[1.1666666666666667]},fontFamily:{$ref:"fontFamily"}},kv={...mM,textAlign:"left"},Kk={...mM,fontSize:{$ref:"fontSize"},color:pb,fill:hb,stroke:db,strokeWidth:1,divider:{stroke:fb,strokeWidth:1,strokeOpacity:.5}},KC={...bo,background:{fill:gn,fillOpacity:.2},handle:{...ts},text:{...ec},statistics:{...Kk}},Clt={line:{...bo,handle:{...ts},text:{...ec}},"horizontal-line":{...bo,handle:{...ts},axisLabel:{...j_},text:{...ec}},"vertical-line":{...bo,handle:{...ts},axisLabel:{...j_},text:{...ec}},"disjoint-channel":{...bo,background:{fill:gn,fillOpacity:.2},handle:{...ts},text:{...ec}},"parallel-channel":{...bo,background:{fill:gn,fillOpacity:.2},handle:{...ts},text:{...ec}},"fibonacci-retracement":{...bo,strokes:fx,rangeStroke:Si,handle:{...ts},text:{...ec,position:"center"},label:{...mM,color:void 0,fontSize:{$round:[{$mul:[{$ref:"fontSize"},10/12]}]}}},"fibonacci-retracement-trend-based":{...bo,strokes:fx,rangeStroke:Si,handle:{...ts},text:{...ec,position:"center"},label:{...mM,color:void 0,fontSize:{$round:[{$mul:[{$ref:"fontSize"},10/12]}]}}},callout:{...bo,...kv,color:{$ref:"textColor"},handle:{...ts},fill:gn,fillOpacity:.2},comment:{...kv,color:"white",fontWeight:700,handle:{...ts},fill:Si},note:{...kv,color:mb,fill:Si,stroke:{$ref:"backgroundColor"},strokeWidth:1,strokeOpacity:1,handle:{...ts},background:{fill:gb,stroke:yb,strokeWidth:1}},text:{...kv,handle:{...ts}},arrow:{...bo,handle:{...ts},text:{...ec}},"arrow-up":{fill:rb,handle:{...ts,stroke:Si}},"arrow-down":{fill:lb,handle:{...ts,stroke:Si}},"date-range":{...KC},"price-range":{...KC},"date-price-range":{...KC},"quick-date-price-range":{up:{...bo,fill:gn,fillOpacity:.2,handle:{...ts},statistics:{...Kk,color:"#fff",fill:gn,strokeWidth:0,divider:{stroke:"#fff",strokeWidth:1,strokeOpacity:.5}}},down:{...bo,stroke:yx,fill:gx,fillOpacity:.2,handle:{...ts,stroke:yx},statistics:{...Kk,color:"#fff",fill:gx,strokeWidth:0,divider:{stroke:"#fff",strokeWidth:1,strokeOpacity:.5}}}}};function Tn(t,e){if(Gn(t))return e(t)}var klt=["ohlc","line","step-line","hlc","high-low","candlestick","hollow-candlestick"],Llt=[{icon:"trend-line-drawing",tooltip:"toolbarAnnotationsLineAnnotations",value:"line-menu"},{icon:"fibonacci-retracement-drawing",tooltip:"toolbarAnnotationsFibonacciAnnotations",value:"fibonacci-menu"},{icon:"text-annotation",tooltip:"toolbarAnnotationsTextAnnotations",value:"text-menu"},{icon:"arrow-drawing",tooltip:"toolbarAnnotationsShapeAnnotations",value:"shape-menu"},{icon:"measurer-drawing",tooltip:"toolbarAnnotationsMeasurerAnnotations",value:"measurer-menu"},{icon:"delete",tooltip:"toolbarAnnotationsClearAll",value:"clear"}];function Nlt(t,e,i){var G,W,Z,U;const{dateKey:n="date",highKey:s="high",openKey:a="open",lowKey:o="low",closeKey:r="close",volumeKey:l="volume",chartType:c="candlestick",navigator:h=!1,volume:p=!0,rangeButtons:f=!0,statusBar:y=!0,toolbar:m=!0,zoom:b=!0,theme:v,data:S,...D}=t,I=Olt(v,c,n,s,o,a,r),T=Elt(v,i,a,r,p,l),E={navigator:{enabled:h,...p?{miniChart:{enabled:h,series:[{type:"line",xKey:n,yKey:l,marker:{enabled:!1}}]},height:40,minHandle:{height:46},maxHandle:{height:46}}:null}},O=typeof v=="string"?!0:((U=(Z=(W=(G=v==null?void 0:v.overrides)==null?void 0:G.common)==null?void 0:W.annotations)==null?void 0:Z.axesButtons)==null?void 0:U.enabled)??!0,B={annotations:{enabled:m,optionsToolbar:{enabled:m},snap:!0,axesButtons:{enabled:O},toolbar:{enabled:m,buttons:Llt,padding:0},data:S,xKey:n,volumeKey:p?l:void 0}},R=y?{statusBar:{enabled:!0,data:S,highKey:s,openKey:a,lowKey:o,closeKey:r,volumeKey:p?l:void 0}}:null,L={zoom:{enabled:b,autoScaling:{enabled:!0},enableIndependentAxes:!0}},F={ranges:{enabled:f}},j=p?[{type:"number",position:"left",keys:[l],label:{enabled:!1},crosshair:{enabled:!1},gridLine:{enabled:!1},nice:!1,layoutConstraints:{stacked:!1,width:20,unit:"percentage",align:"end"}}]:[];return{theme:{baseTheme:typeof v=="string"?v:"ag-financial",...ie(typeof v=="object"?v:null,{overrides:{common:{title:{padding:4},padding:{top:6,right:8,bottom:5},chartToolbar:{enabled:m},annotations:{...Clt}}}})},animation:{enabled:!1},legend:{enabled:!1},series:[...T,...I],axes:[{type:"number",position:"right",keys:[a,r,s,o],interval:{maxSpacing:Tn(v,K=>{var $,X,_,V,Y;return(Y=(V=(_=(X=($=K.overrides)==null?void 0:$.common)==null?void 0:X.axes)==null?void 0:_.number)==null?void 0:V.interval)==null?void 0:Y.maxSpacing})??45},label:{format:Tn(v,K=>{var $,X,_,V,Y;return(Y=(V=(_=(X=($=K.overrides)==null?void 0:$.common)==null?void 0:X.axes)==null?void 0:_.number)==null?void 0:V.label)==null?void 0:Y.format})??".2f"},crosshair:{enabled:!0,snap:!1},layoutConstraints:{stacked:!1,width:100,unit:"percentage",align:"start"}},...j,{type:"ordinal-time",position:"bottom",line:{enabled:!1},label:{enabled:!0},crosshair:{enabled:!0}}],tooltip:{enabled:!1},data:S,...B,...E,...R,...L,...F,...D}}function Elt(t,e,i,n,s,a){if(!s)return[];const o=Tn(t,l=>{var c,h,p;return(p=(h=(c=l.overrides)==null?void 0:c.bar)==null?void 0:h.series)==null?void 0:p.fill}),r=o?{fill:o}:{itemStyler({datum:l}){const{up:c,down:h}=e().palette;return{fill:l[i]<l[n]?c==null?void 0:c.fill:h==null?void 0:h.fill}}};return[{type:"bar",xKey:"date",yKey:a,tooltip:{enabled:!1},highlight:{enabled:!1},fillOpacity:Tn(t,l=>{var c,h,p;return(p=(h=(c=l.overrides)==null?void 0:c.bar)==null?void 0:h.series)==null?void 0:p.fillOpacity})??.5,...r,focusPriority:1,fastDataProcessing:!0}]}var XC="range-area";function Olt(t,e,i,n,s,a,o){const r={xKey:i,openKey:a,closeKey:o,highKey:n,lowKey:s},l={xKey:i,yKey:o},c={pickOutsideVisibleMinorAxis:!0};switch(e??"candlestick"){case"ohlc":return wlt(c,r);case"line":return Rlt(c,t,l);case"step-line":return Plt(c,t,l);case"hlc":return Blt(c,t,l,r);case"high-low":return zlt(c,t,r);case"candlestick":return F_(c,r);case"hollow-candlestick":return _lt(c,t,r);default:return It.warnOnce(`unknown chart type: ${e}; expected one of: ${klt.join(", ")}`),F_(c,r)}}function wlt(t,e){return[{type:"ohlc",focusPriority:0,...t,...e}]}function Rlt(t,e,i){return[{type:"line",focusPriority:0,...t,...i,stroke:Tn(e,n=>{var s,a,o;return(o=(a=(s=n.overrides)==null?void 0:s.line)==null?void 0:a.series)==null?void 0:o.stroke})??Sg,marker:Tn(e,n=>{var s,a,o;return(o=(a=(s=n.overrides)==null?void 0:s.line)==null?void 0:a.series)==null?void 0:o.marker})??{enabled:!1}}]}function Plt(t,e,i){return[{type:"line",focusPriority:0,...t,...i,stroke:Tn(e,n=>{var s,a,o;return(o=(a=(s=n.overrides)==null?void 0:s.line)==null?void 0:a.series)==null?void 0:o.stroke})??Sg,interpolation:Tn(e,n=>{var s,a,o;return(o=(a=(s=n.overrides)==null?void 0:s.line)==null?void 0:a.series)==null?void 0:o.interpolation})??{type:"step"},marker:Tn(e,n=>{var s,a,o;return(o=(a=(s=n.overrides)==null?void 0:s.line)==null?void 0:a.series)==null?void 0:o.marker})??{enabled:!1}}]}function Blt(t,e,i,{xKey:n,highKey:s,closeKey:a,lowKey:o}){const r=NW(XC,e);return[{type:XC,focusPriority:0,...t,xKey:n,yHighKey:s,yLowKey:a,fill:r.fill??rb,stroke:r.stroke??NA,fillOpacity:Tn(e,l=>{var c,h,p;return(p=(h=(c=l.overrides)==null?void 0:c["range-area"])==null?void 0:h.series)==null?void 0:p.fillOpacity})??.3,strokeWidth:Tn(e,l=>{var c,h,p;return(p=(h=(c=l.overrides)==null?void 0:c["range-area"])==null?void 0:h.series)==null?void 0:p.strokeWidth})??2},{type:XC,focusPriority:0,...t,xKey:n,yHighKey:a,yLowKey:o,fill:r.fill??lb,stroke:r.stroke??EA,fillOpacity:Tn(e,l=>{var c,h,p;return(p=(h=(c=l.overrides)==null?void 0:c["range-area"])==null?void 0:h.series)==null?void 0:p.fillOpacity})??.3,strokeWidth:Tn(e,l=>{var c,h,p;return(p=(h=(c=l.overrides)==null?void 0:c["range-area"])==null?void 0:h.series)==null?void 0:p.strokeWidth})??2},{type:"line",...t,...i,stroke:Tn(e,l=>{var c,h,p;return(p=(h=(c=l.overrides)==null?void 0:c.line)==null?void 0:h.series)==null?void 0:p.stroke})??wA,strokeWidth:Tn(e,l=>{var c,h,p;return(p=(h=(c=l.overrides)==null?void 0:c.line)==null?void 0:h.series)==null?void 0:p.strokeWidth})??2,marker:Tn(e,l=>{var c,h,p;return(p=(h=(c=l.overrides)==null?void 0:c.line)==null?void 0:h.series)==null?void 0:p.marker})??{enabled:!1}}]}function zlt(t,e,{xKey:i,highKey:n,lowKey:s}){const a=NW("range-bar",e);return[{type:"range-bar",...t,xKey:i,yHighKey:n,yLowKey:s,fill:a.fill??OA,stroke:a.stroke??Sg,tooltip:{range:"nearest"},focusPriority:0,fastDataProcessing:!0}]}function F_(t,e){return[{type:"candlestick",focusPriority:0,...t,...e}]}function _lt(t,e,i){var s;const n=Tn(e,a=>{var o,r,l;return(l=(r=(o=a.overrides)==null?void 0:o.candlestick)==null?void 0:r.series)==null?void 0:l.item});return[{type:"candlestick",focusPriority:0,...t,...i,item:{up:{fill:((s=n==null?void 0:n.up)==null?void 0:s.fill)??"transparent"}}}]}function NW(t,e){const i=Tn(e,s=>{var a,o,r;return(r=(o=(a=s.overrides)==null?void 0:a[t])==null?void 0:o.series)==null?void 0:r.fill}),n=Tn(e,s=>{var a,o,r;return(r=(o=(a=s.overrides)==null?void 0:a[t])==null?void 0:o.series)==null?void 0:r.stroke});return{fill:i,stroke:n}}var EW={title:{enabled:!1},label:{enabled:!1},line:{enabled:!1},gridLine:{enabled:!1},crosshair:{enabled:!1,stroke:BA,lineDash:[0],label:{enabled:!1}}},ZC={...EW,nice:!1},qC={position:{type:"sparkline"}},QC={style:[{stroke:{$ref:"gridLineColor"}}],width:2},jlt={number:{gridLine:QC},time:{gridLine:QC},category:{gridLine:QC}},Flt={overrides:{common:{animation:{enabled:!1},contextMenu:{enabled:!1},keyboard:{enabled:!1},background:{visible:!1},padding:{top:0,right:0,bottom:0,left:0},axes:{number:{...ZC,interval:{values:[0]}},log:{...ZC},time:{...ZC},category:{...EW}}},bar:{series:{crisp:!1,label:{placement:"inside-end",padding:4},sparklineMode:!0},tooltip:{...qC,range:"nearest"},axes:jlt},line:{seriesArea:{padding:{top:2,right:2,bottom:2,left:2}},series:{sparklineMode:!0,strokeWidth:1,marker:{enabled:!1,size:3},tooltip:qC}},area:{seriesArea:{padding:{top:1,right:0,bottom:1,left:0}},series:{strokeWidth:1,fillOpacity:.4,tooltip:qC}}}},OW=Xs(Glt);function Glt(t,e){return typeof t=="string"?{...e,baseTheme:t}:t!=null?{...t,baseTheme:OW(t.baseTheme,e)}:e}function wW(t){if(Array.isArray(t)&&t.length!==0){const e=t[0];if(typeof e=="number")return{data:t.map((n,s)=>({x:s,y:n})),series:[{xKey:"x",yKey:"y"}],datumKey:"y"};if(Array.isArray(e))return{data:t.map(n=>({x:n[0],y:n[1],datum:n})),series:[{xKey:"x",yKey:"y"}],datumKey:"datum"}}return{data:t}}function Vlt(t,e){switch(t==null?void 0:t.type){case"number":{const{type:i,min:n,max:s,reverse:a}=t;return Va(t,{type:i,reverse:a,min:n,max:s})}case"time":{const{type:i,min:n,max:s,reverse:a}=t;return Va(t,{type:i,reverse:a,min:n,max:s})}case"category":{const{type:i,paddingInner:n,paddingOuter:s,reverse:a}=t;return Va(t,{type:i,reverse:a,paddingInner:n,paddingOuter:s})}}return{type:e}}function Ult(t,e,i){const n={};return(t==null?void 0:t.stroke)!=null&&(n.style=[{stroke:t==null?void 0:t.stroke}],n.enabled??(n.enabled=!0)),(t==null?void 0:t.strokeWidth)!=null&&(n.width=t==null?void 0:t.strokeWidth,n.enabled??(n.enabled=!0)),i.type==="bar"&&i.direction!=="horizontal"&&(n.enabled??(n.enabled=!0)),(t==null?void 0:t.visible)!=null&&(n.enabled=t.visible),n.enabled??(n.enabled=e),n}var Hlt=Xs((t,e,i)=>n=>{var h;const s=n.datum[n.xKey],a=n.datum[n.yKey],o=i!=null?n.datum[i]:n.datum,r=(h=e==null?void 0:e.renderer)==null?void 0:h.call(e,{context:t,datum:o,xValue:s,yValue:a});if(typeof r=="string")return r;const l=r==null?void 0:r.title,c=r==null?void 0:r.content;return l!=null&&c!=null?{heading:l,title:void 0,data:[{label:void 0,value:c}]}:{heading:l??c??a.toFixed(2),title:void 0,data:[]}});function Wlt(t){const{background:e,container:i,height:n,listeners:s,locale:a,minHeight:o,minWidth:r,overrideDevicePixelRatio:l,padding:c,width:h,theme:p,data:f,crosshair:y,axis:m,min:b,max:v,tooltip:S,context:D,...I}=t,T=Va(t,{background:e,container:i,height:n,listeners:s,locale:a,minHeight:o,minWidth:r,overrideDevicePixelRatio:l,padding:c,width:h,tooltip:Mo,context:Mo,data:Mo,crosshair:Mo,axis:Mo,min:Mo,max:Mo,theme:Mo}),{data:k,series:[E]=[],datumKey:O}=wW(f),B=I;E!=null&&Object.assign(B,E),B.tooltip={...S,renderer:Hlt(D,S,O)},T.theme=OW(p,Flt),T.data=k,T.series=[B];const R=B.type!=="bar"||B.direction!=="horizontal",[L,F]=R?["bottom","left"]:["left","bottom"],j={...Vlt(m,"category"),position:L,...Va(t,{crosshair:y})},G={type:"number",gridLine:Ult(m,!1,t),position:F,...Va(t,{min:b,max:v})};return T.axes=R?[G,j]:[j,G],T}var Ylt={"price-volume":Nlt,gauge:Tlt,sparkline:Wlt},$lt={sparkline:wW};function G_(t,e){var o,r,l,c;let i=[];const n=rH(t),s=Lc(t),a=s?ai.get(s):"unknown";for(const h of dg)if(!(a!=="unknown"&&!h.chartTypes.includes(a))){if(h.type==="root"||h.type==="legend"){const p=t[h.optionsKey];if(p==null)continue;h.optionsInnerKey?p[h.optionsInnerKey]&&(i.push(`${h.optionsKey}.${h.optionsInnerKey}`),delete p[h.optionsInnerKey]):(i.push(h.optionsKey),delete t[h.optionsKey])}else if(h.type==="axis"){if(!("axes"in t)||!((o=t.axes)!=null&&o.some(p=>p.type===h.identifier)))continue;i.push(`axis[type=${h.identifier}]`),t.axes=t.axes.filter(p=>p.type!==h.identifier)}else if(h.type==="axis-option"){if(!("axes"in t)||!((r=t.axes)!=null&&r.some(p=>p[h.optionsKey])))continue;i.push(`axis.${h.optionsKey}`),t.axes.forEach(p=>{p[h.optionsKey]&&delete p[h.optionsKey]})}else if(h.type==="series"){if(h.community||!((l=t.series)!=null&&l.some(p=>p.type===h.identifier)))continue;i.push(`series[type=${h.identifier}]`),t.series=t.series.filter(p=>p.type!==h.identifier)}else if(h.type==="series-option"){if(!((c=t.series)!=null&&c.some(p=>p[h.optionsKey])))continue;i.push(`series.${h.optionsKey}`),t.series.forEach(p=>{p[h.optionsKey]&&delete p[h.optionsKey]})}}if(i.length&&!e){n&&(i=["AgCharts.createGauge"]);let h="ag-charts-enterprise",p="https://www.ag-grid.com/charts/javascript/installation/";t.mode==="integrated"&&(h="ag-grid-charts-enterprise' or 'ag-grid-enterprise/charts-enterprise",p="https://www.ag-grid.com/javascript-data-grid/integrated-charts-installation/"),It.warnOnce([`unable to use these enterprise features as '${h}' has not been loaded:`,"",...i,"",`See: ${p}`].join(`
`))}}function Klt(t){const e="mode"in t&&t.mode==="integrated";for(const i of ol.byType("root","legend")){const n=t[i.optionsKey],s=n!=null&&n.enabled===!1,a=!("removable"in i)||i.removable===!0||i.removable==="standalone-only"&&!e;s&&a&&delete t[i.optionsKey]}}function Xk(t){return t!=null&&t.up||t!=null&&t.down||t!=null&&t.neutral?"user-full":t!=null&&t.fills||t!=null&&t.strokes?"user-indexed":"inbuilt"}var Lv="white",Zk={get cartesian(){return{seriesTypes:ai.cartesianTypes,commonOptions:["zoom","navigator"]}},get polar(){return{seriesTypes:ai.polarTypes,commonOptions:[]}},get hierarchy(){return{seriesTypes:ai.hierarchyTypes,commonOptions:[]}},get topology(){return{seriesTypes:ai.topologyTypes,commonOptions:[]}},get"flow-proportion"(){return{seriesTypes:ai.flowProportionTypes,commonOptions:[]}},get standalone(){return{seriesTypes:ai.standaloneTypes,commonOptions:[]}},get gauge(){return{seriesTypes:ai.gaugeTypes,commonOptions:[]}}},Xlt={"radial-gauge":!0,"linear-gauge":!0};function V_(t){return Xlt[t]===!0}var Zlt=Object.values(Zk).reduce((t,{commonOptions:e})=>t.concat(e),[]),vo=class qk{static getAxisDefaults(e){return ie(e,{title:{enabled:!1,text:"Axis Title",spacing:25,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:[1.0833333333333333]},fontFamily:{$ref:"fontFamily"},color:{$ref:"textColor"}},label:{fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},spacing:11,color:{$ref:"textColor"},avoidCollisions:!0},line:{enabled:!0,width:1,stroke:{$ref:"axisColor"}},tick:{enabled:!1,width:1,stroke:{$ref:"axisColor"}},gridLine:{enabled:!0,style:[{stroke:{$ref:"gridLineColor"},lineDash:[]}]},crossLines:{enabled:!1,fill:{$ref:"foregroundColor"},stroke:{$ref:"foregroundColor"},fillOpacity:.1,strokeWidth:1,label:{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},padding:5,color:{$ref:"textColor"}}},crosshair:{enabled:!0}})}getChartDefaults(){return{minHeight:300,minWidth:300,background:{visible:!0,fill:{$ref:"backgroundColor"}},padding:{top:{$ref:"padding"},right:{$ref:"padding"},bottom:{$ref:"padding"},left:{$ref:"padding"}},seriesArea:{padding:{top:0,right:0,bottom:0,left:0}},keyboard:{enabled:!0},title:{enabled:!1,text:"Title",fontWeight:{$ref:"fontWeight"},fontSize:{$rem:[1.4166666666666667]},fontFamily:{$ref:"fontFamily"},color:{$ref:"textColor"},wrapping:"hyphenate",layoutStyle:zu,textAlign:_u},subtitle:{enabled:!1,text:"Subtitle",spacing:20,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:[1.0833333333333333]},fontFamily:{$ref:"fontFamily"},color:{$ref:"subtleTextColor"},wrapping:"hyphenate",layoutStyle:zu,textAlign:_u},footnote:{enabled:!1,text:"Footnote",spacing:20,fontSize:{$rem:[1.0833333333333333]},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"subtleTextColor"},wrapping:"hyphenate",layoutStyle:zu,textAlign:_u},legend:{position:"bottom",spacing:30,listeners:{},toggleSeries:!0,item:{paddingX:16,paddingY:8,marker:{size:15,padding:8},showSeriesStroke:!0,label:{color:{$ref:"textColor"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"}}},reverseOrder:!1,pagination:{marker:{size:12},activeStyle:{fill:{$ref:"foregroundColor"}},inactiveStyle:{fill:{$ref:"subtleTextColor"}},highlightStyle:{fill:{$ref:"foregroundColor"}},label:{color:{$ref:"textColor"}}}},tooltip:{enabled:!0,darkTheme:Uf,delay:0},overlays:{darkTheme:Uf},listeners:{}}}constructor(e={}){const{overrides:i,palette:n}=fn(e),s=this.createChartConfigPerChartType(this.getDefaults()),a={};i&&this.mergeOverrides(s,a,i);const{fills:o,strokes:r,...l}=this.getDefaultColors();this.palette=jm(ie(n,{fills:Object.values(o),strokes:Object.values(r),...l})),this.paletteType=Xk(n),this.config=jm(this.templateTheme(s)),this.presets=jm(a)}mergeOverrides(e,i,n){for(const{seriesTypes:s,commonOptions:a}of Object.values(Zk)){const o={...n.common};for(const r of Zlt)a.includes(r)||delete o[r];if(o)for(const r of s){const l=r;V_(l)||(e[l]=ie(o,e[l]))}}ai.seriesTypes.forEach(s=>{const a=s,o=n[a];V_(a)?i[a]=o:e[a]=ie(o,e[a])})}createChartConfigPerChartType(e){for(const[i,{seriesTypes:n}]of Object.entries(Zk)){const s=Bk.get(i);for(const a of n)e[a]??(e[a]=fn(s))}return e}getDefaults(){const e=(i,n)=>{const s={},a={axes:{},...RN.getThemeTemplates(),...this.getChartDefaults(),...Bk.get(i)};for(const o of n){s[o]=ie(pa.getThemeTemplate(o),s[o]??fn(a));const{axes:r}=s[o];for(const l of fc.keys())r[l]=ie(r[l],fc.getThemeTemplate(l),qk.cartesianAxisDefault[l])}return s};return ie(e("cartesian",ai.cartesianTypes),e("polar",ai.polarTypes),e("hierarchy",ai.hierarchyTypes),e("topology",ai.topologyTypes),e("flow-proportion",ai.flowProportionTypes),e("standalone",ai.standaloneTypes),e("gauge",ai.gaugeTypes))}static applyTemplateTheme(e,i,n){if(Je(e))for(let s=0;s<e.length;s++){const a=e[s];typeof a=="symbol"&&(n!=null&&n.has(a))&&(e[s]=n.get(a))}else for(const[s,a]of Object.entries(e))typeof a=="symbol"&&(n!=null&&n.has(a))&&(e[s]=n.get(a))}templateTheme(e,i=!0){const n=i?fn(e):e,s=this.getTemplateParameters();return dc(n,qk.applyTemplateTheme,void 0,void 0,s),n}getDefaultColors(){return{fills:Hi,strokes:$r,up:{fill:Hi.GREEN,stroke:$r.GREEN},down:{fill:Hi.RED,stroke:$r.RED},neutral:{fill:Hi.GRAY,stroke:$r.GRAY},altUp:{fill:Hi.BLUE,stroke:$r.BLUE},altDown:{fill:Hi.ORANGE,stroke:$r.ORANGE},altNeutral:{fill:Hi.GRAY,stroke:$r.GRAY}}}getPublicParameters(){return{accentColor:"#2196f3",axisColor:{$foregroundBackgroundMix:[.675]},backgroundColor:Lv,borderColor:{$foregroundBackgroundMix:[.818]},foregroundColor:"#464646",fontFamily:"Verdana, sans-serif",fontSize:12,fontWeight:400,gridLineColor:{$foregroundBackgroundAccentMix:[.93,.085]},padding:20,subtleTextColor:{$mix:[{$ref:"textColor"},{$ref:"backgroundColor"},.38]},textColor:{$ref:"foregroundColor"},chromeBackgroundColor:{$foregroundBackgroundMix:[.975]},chromeFontFamily:{$ref:"fontFamily"},chromeFontSize:{$ref:"fontSize"},chromeFontWeight:{$ref:"fontWeight"},chromeTextColor:"#181d1f",chromeSubtleTextColor:{$mix:[{$ref:"chromeTextColor"},{$ref:"backgroundColor"},.38]},inputBackgroundColor:{$ref:"backgroundColor"},inputTextColor:{$ref:"textColor"},crosshairLabelBackgroundColor:{$ref:"foregroundColor"},crosshairLabelTextColor:{$ref:"backgroundColor"}}}getTemplateParameters(){var s,a,o,r,l,c,h,p,f,y,m,b;const{isEnterprise:e}=Zs,i=new Map;i.set(Uf,!1),i.set(eE,e),i.set(tE,!e),i.set(ob,"#d9d9d9"),i.set(LA,Lv),i.set(hh,"#00000080"),i.set(Da,[Hi.ORANGE,Hi.YELLOW,Hi.GREEN]),i.set(PA,[Hi.BLUE,Hi.RED]),i.set(BA,"#aaa"),i.set(Wo,[Hi.GREEN,Hi.YELLOW,Hi.RED]),i.set(yl,["#5090dc","#629be0","#73a6e3","#85b1e7","#96bcea","#a8c8ee","#b9d3f1","#cbdef5"]),i.set(zu,"block"),i.set(_u,"center"),i.set(zA,["#fff","#e0e5ea","#c1ccd5","#a3b4c1","#859cad"]),i.set(_A,["#fff","#c5cbd1","#a4b1bd","#8498a9","#648096"]),i.set(fx,["#797b86","#e24c4a","#f49d2d","#65ab58","#409682","#4db9d2","#5090dc","#3068f9","#e24c4a","#913aac","#d93e64"]),i.set(RA,Lv),i.set(Si,Hi.BLUE),i.set(gn,Hi.BLUE),i.set(cb,Hi.BLUE),i.set(ub,Lv),i.set(hb,"#fafafa"),i.set(db,"#ddd"),i.set(pb,"#000"),i.set(fb,"#181d1f"),i.set(gx,"#e35c5c"),i.set(yx,"#e35c5c"),i.set(gb,"#fafafa"),i.set(yb,"#ddd"),i.set(mb,"#000"),i.set(xb,"top"),i.set(tl,!1);const n=this.getDefaultColors();return i.set(NA,((s=this.palette.up)==null?void 0:s.stroke)??n.up.stroke),i.set(rb,((a=this.palette.up)==null?void 0:a.fill)??n.up.fill),i.set(EA,((o=this.palette.down)==null?void 0:o.stroke)??n.down.stroke),i.set(lb,((r=this.palette.down)==null?void 0:r.fill)??n.down.fill),i.set(Sg,((l=this.palette.neutral)==null?void 0:l.stroke)??n.neutral.stroke),i.set(OA,((c=this.palette.neutral)==null?void 0:c.fill)??n.neutral.fill),i.set(iE,((h=this.palette.altUp)==null?void 0:h.stroke)??n.up.stroke),i.set(sE,((p=this.palette.altUp)==null?void 0:p.fill)??n.up.fill),i.set(nE,((f=this.palette.altDown)==null?void 0:f.stroke)??n.down.stroke),i.set(aE,((y=this.palette.altDown)==null?void 0:y.fill)??n.down.fill),i.set(oE,((m=this.palette.altNeutral)==null?void 0:m.fill)??n.altNeutral.fill),i.set(wA,((b=this.palette.altNeutral)==null?void 0:b.stroke)??n.altNeutral.stroke),i}};vo.cartesianAxisDefault={number:vo.getAxisDefaults({line:{enabled:!1}}),log:vo.getAxisDefaults({base:10,line:{enabled:!1},interval:{minSpacing:NaN}}),category:vo.getAxisDefaults({groupPaddingInner:.1,label:{autoRotate:!0},gridLine:{enabled:tl},crosshair:{enabled:!1}}),"grouped-category":vo.getAxisDefaults({tick:{enabled:!0,stroke:ob},label:{spacing:10,rotation:270},paddingInner:.4,groupPaddingInner:.2,crosshair:{enabled:!1}}),time:vo.getAxisDefaults({gridLine:{enabled:tl}}),"ordinal-time":vo.getAxisDefaults({groupPaddingInner:0,label:{autoRotate:!1},gridLine:{enabled:tl}}),"angle-category":vo.getAxisDefaults({label:{spacing:5},gridLine:{enabled:tl}}),"angle-number":vo.getAxisDefaults({label:{spacing:5},gridLine:{enabled:tl}}),"radius-category":vo.getAxisDefaults({line:{enabled:!1}}),"radius-number":vo.getAxisDefaults({line:{enabled:!1}})};var Pc=vo,Nv="#192232",Us={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},Zh={BLUE:"#74a8e6",ORANGE:"#ffbe70",GREEN:"#6cb176",CYAN:"#75d4ef",YELLOW:"#f6e559",VIOLET:"#aa86d8",GRAY:"#a1a1a1",MAGENTA:"#ce7ab9",BROWN:"#997b52",RED:"#ff7872"},Ig=class extends Pc{getDefaultColors(){return{fills:Us,strokes:Zh,up:{fill:Us.GREEN,stroke:Zh.GREEN},down:{fill:Us.RED,stroke:Zh.RED},neutral:{fill:Us.GRAY,stroke:Zh.GRAY},altUp:{fill:Us.BLUE,stroke:Zh.BLUE},altDown:{fill:Us.ORANGE,stroke:Zh.ORANGE},altNeutral:{fill:Us.GRAY,stroke:Zh.GRAY}}}getPublicParameters(){return{...super.getPublicParameters(),axisColor:{$foregroundBackgroundMix:[.263]},backgroundColor:Nv,borderColor:{$foregroundBackgroundMix:[.784]},chromeBackgroundColor:{$foregroundBackgroundMix:[.93]},foregroundColor:"#fff",gridLineColor:{$foregroundBackgroundAccentMix:[.743,.01]},subtleTextColor:{$mix:[{$ref:"textColor"},{$ref:"backgroundColor"},.57]},chromeTextColor:{$ref:"textColor"},crosshairLabelBackgroundColor:{$foregroundBackgroundAccentMix:[.35,.1]}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.set(Uf,!0),t.set(RA,Nv),t.set(ob,"#7f8389"),t.set(Da,[Us.ORANGE,Us.YELLOW,Us.GREEN]),t.set(Wo,[Us.GREEN,Us.YELLOW,Us.RED]),t.set(yl,["#5090dc","#4882c6","#4073b0","#38659a","#305684","#28486e","#203a58","#182b42"]),t.set(zA,["#192834","#253746","#324859","#3f596c","#4d6a80"]),t.set(_A,["#192834","#3b5164","#496275","#577287","#668399"]),t.set(LA,Nv),t.set(Si,Us.BLUE),t.set(cb,"#fff"),t.set(gn,Us.BLUE),t.set(ub,Nv),t.set(hb,"#28313e"),t.set(db,"#4b525d"),t.set(pb,"#fff"),t.set(fb,"#fff"),t.set(gb,"#28313e"),t.set(yb,"#4b525d"),t.set(mb,"#fff"),t}constructor(t){super(t)}},go={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#A9A9A9"},qh={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#909090"},qlt=class extends Ig{getDefaultColors(){return{fills:{...go},strokes:{...qh},up:{fill:go.GREEN,stroke:qh.GREEN},down:{fill:go.RED,stroke:qh.RED},neutral:{fill:go.BLUE,stroke:qh.BLUE},altUp:{fill:go.GREEN,stroke:qh.GREEN},altDown:{fill:go.RED,stroke:qh.RED},altNeutral:{fill:go.GRAY,stroke:qh.GRAY}}}getPublicParameters(){return{...super.getPublicParameters(),gridLineColor:{$foregroundBackgroundAccentMix:[.88,.01]},padding:0}}getTemplateParameters(){const t=super.getTemplateParameters();return t.set(Da,[go.GREEN,go.BLUE,go.RED]),t.set(Si,go.BLUE),t.set(gn,go.BLUE),t.set(zu,"overlay"),t.set(_u,"left"),t.set(xb,"bottom"),t.set(tl,!0),t}},yo={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#A9A9A9"},Qh={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#909090"},Qlt=class extends Pc{getDefaultColors(){return{fills:{...yo},strokes:{...Qh},up:{fill:yo.GREEN,stroke:Qh.GREEN},down:{fill:yo.RED,stroke:Qh.RED},neutral:{fill:yo.BLUE,stroke:Qh.BLUE},altUp:{fill:yo.GREEN,stroke:Qh.GREEN},altDown:{fill:yo.RED,stroke:Qh.RED},altNeutral:{fill:yo.GRAY,stroke:Qh.GRAY}}}getPublicParameters(){return{...super.getPublicParameters(),gridLineColor:{$foregroundBackgroundAccentMix:[.94,.01]},padding:0}}getTemplateParameters(){const t=super.getTemplateParameters();return t.set(Da,[yo.GREEN,yo.BLUE,yo.RED]),t.set(Si,yo.BLUE),t.set(gn,yo.BLUE),t.set(zu,"overlay"),t.set(_u,"left"),t.set(xb,"bottom"),t.set(tl,!0),t}},Hs={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},Jh={BLUE:"#90CAF9",ORANGE:"#FFCC80",GREEN:"#A5D6A7",CYAN:"#80DEEA",YELLOW:"#FFF9C4",VIOLET:"#B39DDB",GRAY:"#E0E0E0",MAGENTA:"#F48FB1",BROWN:"#A1887F",RED:"#EF9A9A"},Jlt=class extends Ig{getDefaultColors(){return{fills:Hs,strokes:Jh,up:{fill:Hs.GREEN,stroke:Jh.GREEN},down:{fill:Hs.RED,stroke:Jh.RED},neutral:{fill:Hs.GRAY,stroke:Jh.GRAY},altUp:{fill:Hs.BLUE,stroke:Jh.BLUE},altDown:{fill:Hs.RED,stroke:Jh.RED},altNeutral:{fill:Hs.GRAY,stroke:Jh.GRAY}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.set(Da,[Hs.ORANGE,Hs.YELLOW,Hs.GREEN]),t.set(yl,["#2196f3","#208FEC","#1E88E5","#1C7FDC","#1976d2","#176EC9","#1565c0"]),t.set(Wo,[Hs.GREEN,Hs.YELLOW,Hs.RED]),t.set(Si,Hs.BLUE),t.set(gn,Hs.BLUE),t}},Ws={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},td={BLUE:"#1565C0",ORANGE:"#E65100",GREEN:"#2E7D32",CYAN:"#00838F",YELLOW:"#F9A825",VIOLET:"#4527A0",GRAY:"#616161",MAGENTA:"#C2185B",BROWN:"#4E342E",RED:"#B71C1C"},tct=class extends Pc{getDefaultColors(){return{fills:Ws,strokes:td,up:{fill:Ws.GREEN,stroke:td.GREEN},down:{fill:Ws.RED,stroke:td.RED},neutral:{fill:Ws.GRAY,stroke:td.GRAY},altUp:{fill:Ws.BLUE,stroke:td.BLUE},altDown:{fill:Ws.RED,stroke:td.RED},altNeutral:{fill:Ws.GRAY,stroke:td.GRAY}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.set(Da,[Ws.ORANGE,Ws.YELLOW,Ws.GREEN]),t.set(yl,["#2196f3","#329EF4","#42a5f5","#53ADF6","#64b5f6","#7AC0F8","#90caf9"]),t.set(Wo,[Ws.GREEN,Ws.YELLOW,Ws.RED]),t.set(Si,Ws.BLUE),t.set(gn,Ws.BLUE),t}},Vi={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4",GRAY:"#bbbbbb"},ed={BLUE:"#6698ff",PURPLE:"#c0a3ff",MAGENTA:"#fc8dfc",PINK:"#ff82b1",RED:"#ff9b70",ORANGE:"#ffcf4e",YELLOW:"#ffff58",GREEN:"#58dd70",CYAN:"#51e2c9",MODERATE_BLUE:"#4fd7ff",GRAY:"#eeeeee"},ect=class extends Ig{getDefaultColors(){return{fills:Vi,strokes:ed,up:{fill:Vi.GREEN,stroke:ed.GREEN},down:{fill:Vi.RED,stroke:ed.RED},neutral:{fill:Vi.GRAY,stroke:ed.GRAY},altUp:{fill:Vi.BLUE,stroke:ed.BLUE},altDown:{fill:Vi.RED,stroke:ed.RED},altNeutral:{fill:Vi.GRAY,stroke:ed.GRAY}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.set(Da,[Vi.BLUE,Vi.RED]),t.set(yl,[Vi.BLUE,Vi.PURPLE,Vi.MAGENTA,Vi.PINK,Vi.RED,Vi.ORANGE,Vi.YELLOW,Vi.GREEN]),t.set(Wo,[Vi.BLUE,Vi.RED]),t.set(Si,Vi.BLUE),t.set(gn,Vi.BLUE),t}},Ui={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4",GRAY:"#bbbbbb"},id={BLUE:"#2346c9",PURPLE:"#7653d4",MAGENTA:"#a73da9",PINK:"#c32d66",RED:"#c84b1c",ORANGE:"#c87f00",YELLOW:"#c1b900",GREEN:"#008c1c",CYAN:"#00927c",MODERATE_BLUE:"#0087bb",GRAY:"#888888"},ict=class extends Pc{getDefaultColors(){return{fills:Ui,strokes:id,up:{fill:Ui.GREEN,stroke:id.GREEN},down:{fill:Ui.RED,stroke:id.RED},neutral:{fill:Ui.GRAY,stroke:id.GRAY},altUp:{fill:Ui.BLUE,stroke:id.BLUE},altDown:{fill:Ui.RED,stroke:id.RED},altNeutral:{fill:Ui.GRAY,stroke:id.GRAY}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.set(Da,[Ui.BLUE,Ui.RED]),t.set(yl,[Ui.BLUE,Ui.PURPLE,Ui.MAGENTA,Ui.PINK,Ui.RED,Ui.ORANGE,Ui.YELLOW,Ui.GREEN]),t.set(Wo,[Ui.BLUE,Ui.RED]),t.set(Si,Ui.BLUE),t.set(gn,Ui.BLUE),t}},bs={BLUE:"#4472C4",ORANGE:"#ED7D31",GRAY:"#A5A5A5",YELLOW:"#FFC000",MODERATE_BLUE:"#5B9BD5",GREEN:"#70AD47",DARK_GRAY:"#7B7B7B",DARK_BLUE:"#264478",VERY_DARK_GRAY:"#636363",DARK_YELLOW:"#997300"},Su={BLUE:"#6899ee",ORANGE:"#ffa55d",GRAY:"#cdcdcd",YELLOW:"#ffea53",MODERATE_BLUE:"#82c3ff",GREEN:"#96d56f",DARK_GRAY:"#a1a1a1",DARK_BLUE:"#47689f",VERY_DARK_GRAY:"#878787",DARK_YELLOW:"#c0993d"},nct=class extends Ig{getDefaultColors(){return{fills:{...bs,RED:bs.ORANGE},strokes:{...Su,RED:Su.ORANGE},up:{fill:bs.GREEN,stroke:Su.GREEN},down:{fill:bs.ORANGE,stroke:Su.ORANGE},neutral:{fill:bs.GRAY,stroke:Su.GRAY},altUp:{fill:bs.BLUE,stroke:Su.BLUE},altDown:{fill:bs.ORANGE,stroke:Su.ORANGE},altNeutral:{fill:bs.GRAY,stroke:Su.GRAY}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.set(Da,[bs.ORANGE,bs.YELLOW,bs.GREEN]),t.set(Wo,[bs.GREEN,bs.YELLOW,bs.ORANGE]),t.set(Si,bs.BLUE),t.set(gn,bs.BLUE),t}},Ys={BLUE:"#5281d5",ORANGE:"#ff8d44",GRAY:"#b5b5b5",YELLOW:"#ffd02f",MODERATE_BLUE:"#6aabe6",GREEN:"#7fbd57",DARK_GRAY:"#8a8a8a",DARK_BLUE:"#335287",VERY_DARK_GRAY:"#717171",DARK_YELLOW:"#a98220"},Xl={BLUE:"#214d9b",ORANGE:"#c25600",GRAY:"#7f7f7f",YELLOW:"#d59800",MODERATE_BLUE:"#3575ac",GREEN:"#4b861a",DARK_GRAY:"#575757",DARK_BLUE:"#062253",VERY_DARK_GRAY:"#414141",DARK_YELLOW:"#734f00"},sct=class extends Pc{getDefaultColors(){return{fills:{...Ys,RED:Ys.ORANGE},strokes:{...Xl,RED:Xl.ORANGE},up:{fill:Ys.GREEN,stroke:Xl.GREEN},down:{fill:Ys.ORANGE,stroke:Xl.ORANGE},neutral:{fill:Xl.GRAY,stroke:Xl.GRAY},altUp:{fill:Ys.BLUE,stroke:Xl.BLUE},altDown:{fill:Ys.ORANGE,stroke:Xl.ORANGE},altNeutral:{fill:Ys.GRAY,stroke:Xl.GRAY}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.set(Da,[Ys.ORANGE,Ys.YELLOW,Ys.GREEN]),t.set(Wo,[Ys.GREEN,Ys.YELLOW,Ys.ORANGE]),t.set(Si,Ys.BLUE),t.set(gn,Ys.BLUE),t}},$s={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},nd={BLUE:"#67b7ff",ORANGE:"#ffc24d",GREEN:"#5cc86f",CYAN:"#54ebff",VIOLET:"#fff653",YELLOW:"#c18aff",GRAY:"#aeaeae",MAGENTA:"#f078d4",BROWN:"#ba8438",RED:"#ff726e"},act=class extends Ig{getDefaultColors(){return{fills:$s,strokes:nd,up:{fill:$s.GREEN,stroke:nd.GREEN},down:{fill:$s.RED,stroke:nd.RED},neutral:{fill:$s.GRAY,stroke:nd.GRAY},altUp:{fill:$s.BLUE,stroke:nd.BLUE},altDown:{fill:$s.ORANGE,stroke:nd.ORANGE},altNeutral:{fill:$s.GRAY,stroke:nd.GRAY}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.set(Da,[$s.ORANGE,$s.YELLOW,$s.GREEN]),t.set(yl,["#0083ff","#0076e6","#0069cc","#005cb3","#004f99","#004280","#003466","#00274c"]),t.set(Wo,[$s.GREEN,$s.YELLOW,$s.RED]),t.set(Si,$s.BLUE),t.set(gn,$s.BLUE),t}},Ks={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},sd={BLUE:"#0f68c0",ORANGE:"#d47100",GREEN:"#007922",CYAN:"#009ac2",VIOLET:"#bca400",YELLOW:"#753cac",GRAY:"#646464",MAGENTA:"#9b2685",BROWN:"#6c3b00",RED:"#cb0021"},oct=class extends Pc{getDefaultColors(){return{fills:Ks,strokes:sd,up:{fill:Ks.GREEN,stroke:sd.GREEN},down:{fill:Ks.RED,stroke:sd.RED},neutral:{fill:Ks.GRAY,stroke:sd.GRAY},altUp:{fill:Ks.BLUE,stroke:sd.BLUE},altDown:{fill:Ks.ORANGE,stroke:sd.ORANGE},altNeutral:{fill:Ks.GRAY,stroke:sd.GRAY}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.set(Da,[Ks.ORANGE,Ks.YELLOW,Ks.GREEN]),t.set(yl,["#0083ff","#1a8fff","#339cff","#4da8ff","#66b5ff","#80c1ff","#99cdff","#b3daff"]),t.set(Wo,[Ks.GREEN,Ks.YELLOW,Ks.RED]),t.set(Si,Ks.BLUE),t.set(gn,Ks.BLUE),t}},Wf=Xs(()=>new Pc),rct=Xs(()=>new Ig),PE={"ag-default-dark":rct,"ag-sheets-dark":Xs(()=>new nct),"ag-polychroma-dark":Xs(()=>new ect),"ag-vivid-dark":Xs(()=>new act),"ag-material-dark":Xs(()=>new Jlt),"ag-financial-dark":Xs(()=>new qlt),null:Wf,undefined:Wf,"ag-default":Wf,"ag-sheets":Xs(()=>new sct),"ag-polychroma":Xs(()=>new ict),"ag-vivid":Xs(()=>new oct),"ag-material":Xs(()=>new tct),"ag-financial":Xs(()=>new Qlt)},xM=Xs(lct);function lct(t){if(t instanceof Pc)return t;if(t==null||typeof t=="string"){const i=PE[t];return i?i():(It.warnOnce(`the theme [${t}] is invalid, using [ag-default] instead.`),Wf())}const{errors:e}=WM(t,uct,"theme");if(!e.length){const i=cct(t),n=i.baseTheme?xM(i.baseTheme):Wf();return new n.constructor(i)}for(const{message:i}of e)It.warnOnce(i);return Wf()}function cct(t){let e=t,i,n;const s=[];for(;typeof e=="object";)i??(i=e.palette),n??(n=e.params),e.overrides&&s.push(e.overrides),e=e.baseTheme;return{baseTheme:e,overrides:ie(...s),params:n,palette:i}}var uct={baseTheme:Ad(Ra,TC),overrides:TC,params:TC,palette:{fills:xk(Ra),strokes:xk(Ra),up:{fill:Ra,stroke:Ra},down:{fill:Ra,stroke:Ra},neutral:{fill:Ra,stroke:Ra}}},hct=new Set(["map-shape-background","map-line-background"]),BE=class Yr{constructor(e,i,n,s,a,o=!1){this.themeParameters={},this.debug=We.create(!0,"opts"),this.optionMetadata=s??{},this.processedOverrides=i??{};let r=null;if(e instanceof Yr){if(r=e,this.specialOverrides=r.specialOverrides,!a)throw new Error("AG Charts - internal error: deltaOptions must be supplied.");this.userOptions=ie(a,fn(r.userOptions,Yr.OPTIONS_CLONE_OPTS))}else this.userOptions=e,this.specialOverrides=this.specialOverridesDefaults({...n});o&&this.removeLeftoverSymbols(this.userOptions);let l,c,h,p,f;!o&&a!=null&&Yr.isFastPathDelta(a)&&r!=null?{activeTheme:l,processedOptions:c,defaultAxes:h,fastDelta:p}=this.fastSetup(a,r):{activeTheme:l,processedOptions:c,defaultAxes:h,themeParameters:f}=this.slowSetup(i,a,o),this.activeTheme=l,this.processedOptions=c,this.defaultAxes=h,this.fastDelta=p,this.themeParameters=f??{}}static isFastPathDelta(e){for(const i of Object.keys(e))if(!this.FAST_PATH_OPTIONS.has(i))return!1;return!0}fastSetup(e,i){const{activeTheme:n,defaultAxes:s,processedOptions:a}=i,{presetType:o}=this.optionMetadata,r=o?$lt[o]:void 0;o!=null&&e.data!=null&&r!=null&&(e=ie(r(e.data),e)),this.fastSeriesSetup(e,a);const l=ie(e,a);return{activeTheme:n,defaultAxes:s,processedOptions:l,fastDelta:e}}fastSeriesSetup(e,i){var n;e.series&&((n=e.series)!=null&&n.every((s,a)=>{var o;return xU(s,((o=i.series)==null?void 0:o[a])??{})})?delete e.series:e.series=e.series.map((s,a)=>{var o;return ie(s,((o=i.series)==null?void 0:o[a])??{})}))}slowSetup(e,i,n=!1){var S;let s=fn(this.userOptions,Yr.OPTIONS_CLONE_OPTS);i&&(s=ie(i,s),n&&this.removeLeftoverSymbols(s));const{presetType:a}=this.optionMetadata;if(a!=null){const D=Ylt[a],I=this.userOptions,T=this.userOptions.type,k=T!=null?xM(this.userOptions.theme).presets[T]:void 0;this.debug(">>> AgCharts.createOrUpdate() - applying preset",I),s=(D==null?void 0:D(I,k,()=>this.activeTheme))??s}Zs.isEnterprise||G_(s);const o=xM(s.theme);this.sanityCheck(s),this.removeDisabledOptions(s);const r=this.optionsType(s),{axes:l={},annotations:c={},series:h,...p}=this.getSeriesThemeConfig(r,o),[f,y]=this.splitAnnotationsOptions(c);this.annotationThemes=fn(y);const m=this.getDefaultAxes(s,h);let b=ie(e,s,f,p,m);this.processAxesOptions(b,l),this.processSeriesOptions(b,o),this.processMiniChartSeriesOptions(b,o),b=fn(b,Yr.OPTIONS_CLONE_OPTS);const v=this.getThemeParameters(o,b);return this.resolveThemeOperations(v,v),this.resolveThemeOperations(v,b),this.resolveThemeOperations(v,this.annotationThemes),(zN(b)||oH(b)||oot(b))&&((S=b.legend)==null?void 0:S.enabled)==null&&(b.legend??(b.legend={}),b.legend.enabled=b.series.length>1),this.enableConfiguredOptions(b,this.userOptions),o.templateTheme(b,!1),this.removeDisabledOptions(s),Klt(b),Zs.isEnterprise||G_(b,!0),this.debug("AgCharts.createOrUpdate() - processed options",b),{activeTheme:o,processedOptions:b,defaultAxes:m,themeParameters:v}}diffOptions(e){return this===e?{}:e==null?this.processedOptions:this.fastDelta??vc(e.processedOptions,this.processedOptions)}getSeriesThemeConfig(e,i){return(i==null?void 0:i.config[e])??{}}getDefaultAxes(e,i){var a;const n=this.optionsType(e);let s=((a=e.series)==null?void 0:a.find(o=>(o.type??"line")===n))??{};return pa.isDerivedDefaultAxes(n)&&(s=ie(s,i)),pa.cloneDefaultAxes(n,s)}optionsType(e){var i,n;return((n=(i=e.series)==null?void 0:i[0])==null?void 0:n.type)??"line"}sanityCheck(e){this.axesTypeIntegrity(e),this.seriesTypeIntegrity(e),this.soloSeriesIntegrity(e)}splitAnnotationsOptions(e){const{axesButtons:i=null,enabled:n=null,optionsToolbar:s=null,toolbar:a=null,...o}=e;return i==null&&n==null&&s==null&&a==null?[{},o]:[{annotations:{axesButtons:i,enabled:n,optionsToolbar:s,toolbar:a}},o]}processAxesOptions(e,i){var n;"axes"in e&&(e.axes=(n=e.axes)==null?void 0:n.map(s=>{var y,m,b;const{crossLines:a,...o}=ie((y=i[s.type])==null?void 0:y[s.position],i[s.type]);s.crossLines&&(s.crossLines=XS(s.crossLines,a));const r=(m=o.gridLine)==null?void 0:m.style;(b=s.gridLine)!=null&&b.style&&(r!=null&&r.length)&&(s.gridLine.style=s.gridLine.style.map((v,S)=>v.stroke!=null||v.lineDash!=null?ie(v,r.at(S%r.length)):v));const{top:l,right:c,bottom:h,left:p,...f}=ie(s,o);return f}))}processSeriesOptions(e,i){var r,l;const n=this.getTooltipPositionDefaults(e),s=Gn(e.theme)?Xk((r=e.theme)==null?void 0:r.palette):"inbuilt",a={colourIndex:0,userPalette:s},o=(l=e.series)==null?void 0:l.map(c=>{c.type??(c.type=this.getDefaultSeriesType(e));const{innerLabels:h,...p}=this.getSeriesThemeConfig(c.type,i).series??{},f=hct.has(c.type)?{colourIndex:0,userPalette:s}:a,y=this.getSeriesPalette(c.type,f,i),m=this.getTooltipRangeDefaults(e,c.type),b=ie(this.getSeriesGroupingOptions(c),c,n,m,p,y,{visible:!0});return b.innerLabels&&(b.innerLabels=XS(b.innerLabels,h)),b});e.series=this.setSeriesGroupingOptions(o??[])}processMiniChartSeriesOptions(e,i){var a,o;let n=(o=(a=e.navigator)==null?void 0:a.miniChart)==null?void 0:o.series;if(n==null)return;const s={colourIndex:0,userPalette:Gn(e.theme)?Xk(e.theme.palette):"inbuilt"};n=n.map(r=>{r.type??(r.type="line");const{innerLabels:l,...c}=this.getSeriesThemeConfig(r.type,i).series??{};return ie(this.getSeriesGroupingOptions(r),r,c,this.getSeriesPalette(r.type,s,i))}),e.navigator.miniChart.series=this.setSeriesGroupingOptions(n)}getThemeParameters(e,i){const n=e.getPublicParameters();if(!Ls(i.theme)||!i.theme.params)return n;const s=Ns(l=>xa(l)&&xi.validColorString(l),"a color"),a={accentColor:s,axisColor:s,backgroundColor:s,borderColor:s,foregroundColor:s,fontFamily:Ra,fontSize:cc,fontWeight:Ad(Ra,cc),gridLineColor:s,padding:cc,subtleTextColor:s,textColor:s,chromeBackgroundColor:s,chromeFontFamily:Ra,chromeFontSize:cc,chromeFontWeight:Ad(Ra,cc),chromeSubtleTextColor:s,chromeTextColor:s,inputBackgroundColor:s,inputTextColor:s,crosshairLabelBackgroundColor:s,crosshairLabelTextColor:s},{valid:o,errors:r}=WM(i.theme.params,a);for(const{message:l}of r)It.warnOnce(l);return ie(o,n)}resolveThemeOperations(e,i){const n=bU(i,e,new Set(["palette","data"]));this.debug("resolveTheme()",n)}getSeriesPalette(e,i,n){const s=pa.getPaletteFactory(e),{colourIndex:a,userPalette:o}=i,{fills:r=[],strokes:l=[]}=n.palette;return s==null?void 0:s({userPalette:o,colorsCount:Math.max(r.length,l.length),themeTemplateParameters:n.getTemplateParameters(),palette:n.palette,takeColors(c){return i.colourIndex+=c,{fills:g4(r,c,a),strokes:g4(l,c,a)}}})}getSeriesGroupingOptions(e){const i=pa.isGroupable(e.type),n=pa.isStackable(e.type),s=pa.isStackedByDefault(e.type);e.grouped&&!i&&It.warnOnce(`unsupported grouping of series type "${e.type}".`),(e.stacked||e.stackGroup)&&!n&&It.warnOnce(`unsupported stacking of series type "${e.type}".`);let{grouped:a,stacked:o}=e;return o??(o=(s||e.stackGroup!=null)&&!(i&&a)),a??(a=!0),{stacked:n&&o,grouped:i&&a&&!(n&&o)}}setSeriesGroupingOptions(e){const i=this.getSeriesGrouping(e);this.debug("setSeriesGroupingOptions() - series grouping: ",i);const n={},s=i.reduce((a,o)=>{var r;return o.groupType==="default"||(a[r=o.seriesType]??(a[r]=0),a[o.seriesType]+=o.groupType==="stack"?1:o.series.length),a},{});return i.flatMap(a=>{var o;switch(n[o=a.seriesType]??(n[o]=0),a.groupType){case"stack":{const r=n[a.seriesType]++;return a.series.map((l,c)=>Object.assign(l,{seriesGrouping:{groupId:a.groupId,groupIndex:r,groupCount:s[a.seriesType],stackIndex:c,stackCount:a.series.length}}))}case"group":return a.series.map(r=>Object.assign(r,{seriesGrouping:{groupId:a.groupId,groupIndex:n[a.seriesType]++,groupCount:s[a.seriesType],stackIndex:0,stackCount:0}}))}return a.series}).map(({stacked:a,grouped:o,...r})=>r)}getSeriesGroupId(e){return[e.type,e.xKey,e.stacked?e.stackGroup??"stacked":"grouped"].filter(Boolean).join("-")}getSeriesGrouping(e){const i=new Map;return e.reduce((n,s)=>{const a=s.type;if(!s.stacked&&!s.grouped)n.push({groupType:"default",seriesType:a,series:[s],groupId:"__default__"});else{const o=this.getSeriesGroupId(s);if(!i.has(o)){const l={groupType:s.stacked?"stack":"group",seriesType:a,series:[],groupId:o};i.set(o,l),n.push(l)}i.get(o).series.push(s)}return n},[])}getDefaultSeriesType(e){switch(kd.detectChartDefinition(e).name){case"cartesian":return"line";case"polar":return"pie";case"hierarchy":return"treemap";case"topology":return"map-shape";case"flow-proportion":return"sankey";case"standalone":return"pyramid";case"gauge":return"radial-gauge";default:throw new Error("Invalid chart options type detected.")}}getTooltipPositionDefaults(e){var r;const i=(r=e.tooltip)==null?void 0:r.position;if(!Ls(i))return;const{type:n,xOffset:s,yOffset:a}=i,o={};return xa(n)&&get(kW,n)&&(o.type=n),ye(s)&&(o.xOffset=s),ye(a)&&(o.yOffset=a),{tooltip:{position:o}}}getTooltipRangeDefaults(e,i){var n,s;return{tooltip:{range:((n=e.tooltip)==null?void 0:n.range)??((s=pa.getTooltipDefauls(i))==null?void 0:s.range)}}}axesTypeIntegrity(e){if("axes"in e&&e.axes){const i=e.axes;for(const{type:n}of i)if(!lot(n)){delete e.axes;const s=[...fc.keys()].join(", ");It.warnOnce(`unknown axis type: ${n}; expected one of: ${s}`)}}}seriesTypeIntegrity(e){var i;e.series=(i=e.series)==null?void 0:i.filter(({type:n})=>{if(n==null||rot(n)||_at(n))return!0;It.warnOnce(`unknown series type: ${JSON.stringify(n)}; expected one of: ${nH.seriesTypes.join(", ")}`)})}soloSeriesIntegrity(e){const i=e.series;if(i&&i.length>1&&i.some(n=>pa.isSolo(n.type))){const n=this.optionsType(e);if(pa.isSolo(n))It.warn(`series[0] of type '${n}' is incompatible with other series types. Only processing series[0]`),e.series=i.slice(0,1);else{const{solo:s,nonSolo:a}=VL(i,r=>pa.isSolo(r.type)?"solo":"nonSolo"),o=aet(s.map(r=>r.type)).join(", ");It.warn(`Unable to mix these series types with the lead series type: ${o}`),e.series=a}}}static enableConfiguredJsonOptions(e,i){typeof i=="object"&&"enabled"in i&&!i._enabledFromTheme&&e.enabled==null&&(i.enabled=!0)}static cleanupEnabledFromThemeJsonOptions(e){e._enabledFromTheme!=null&&delete e._enabledFromTheme}enableConfiguredOptions(e,i){dc(i,Yr.enableConfiguredJsonOptions,new Set(["data","theme"]),e),dc(e,Yr.cleanupEnabledFromThemeJsonOptions,new Set(["data","theme"]))}static removeDisabledOptionJson(e){"enabled"in e&&e.enabled===!1&&Object.keys(e).forEach(i=>{i!=="enabled"&&delete e[i]})}removeDisabledOptions(e){dc(e,Yr.removeDisabledOptionJson,new Set(["data","theme"]))}static removeLeftoverSymbolsJson(e){if(!(!e||!Gn(e)))for(const[i,n]of Object.entries(e))yet(n)&&delete e[i]}removeLeftoverSymbols(e){dc(e,Yr.removeLeftoverSymbolsJson,new Set(["data"]))}specialOverridesDefaults(e){if(e.window!=null?W5(e.window):typeof window<"u"?e.window=window:typeof global<"u"&&(e.window=global.window),e.document!=null?H5(e.document):typeof document<"u"?e.document=document:typeof global<"u"&&(e.document=global.document),e.window==null)throw new Error("AG Charts - unable to resolve global window");if(e.document==null)throw new Error("AG Charts - unable to resolve global document");return e}};BE.OPTIONS_CLONE_OPTS=new Set(["data","container"]);BE.FAST_PATH_OPTIONS=new Set(["data","width","height"]);var RW=BE,dct=100,zE=class md{constructor(e,i,n,s,a,o=dct){this.name=e,this.buildItem=i,this.releaseItem=n,this.destroyItem=s,this.maxPoolSize=a,this.cleanupTimeMs=o,this.freePool=[],this.busyPool=new Set}static getPool(e,i,n,s,a){return this.pools.has(e)||this.pools.set(e,new md(e,i,n,s,a)),this.pools.get(e)}isFull(){return this.freePool.length+this.busyPool.size>=this.maxPoolSize}obtain(e){if(this.freePool.length===0&&this.isFull())throw new Error("AG Charts - pool exhausted");let i=this.freePool.pop();return i==null?(i=this.buildItem(e),md.debug(`Pool[name=${this.name}]: Created instance (${this.freePool.length} / ${this.busyPool.size+1} / ${this.maxPoolSize})`,i)):md.debug(`Pool[name=${this.name}]: Re-used instance (${this.freePool.length} / ${this.busyPool.size+1} / ${this.maxPoolSize})`,i),this.busyPool.add(i),{item:i,release:()=>this.release(i)}}release(e){if(!this.busyPool.has(e))throw new Error("AG Charts - cannot free item from pool which is not tracked as busy.");md.debug(`Pool[name=${this.name}]: Releasing instance (${this.freePool.length} / ${this.busyPool.size} / ${this.maxPoolSize})`,e),this.releaseItem(e),this.busyPool.delete(e),this.freePool.push(e),md.debug(`Pool[name=${this.name}]: Returned instance to free pool (${this.freePool.length} / ${this.busyPool.size} / ${this.maxPoolSize})`,e),this.cleanPoolTimer&&clearTimeout(this.cleanPoolTimer),this.cleanPoolTimer=setTimeout(()=>{this.cleanPool()},this.cleanupTimeMs)}cleanPool(){const e=this.freePool.splice(0);for(const i of e)this.destroyItem(i);md.debug(`Pool[name=${this.name}]: Cleaned pool of ${e.length} items (${this.freePool.length} / ${this.busyPool.size} / ${this.maxPoolSize})`)}destroy(){this.cleanPool();for(const e of this.busyPool.values())this.destroyItem(e);this.busyPool.clear()}};zE.pools=new Map;zE.debug=We.create(!0,"pool");var pct=zE;kd.registerMany([trt,Slt]);var uc=We.create(!0,"opts"),wo=class{static licenseCheck(t){var e,i;this.licenseChecked||(this.licenseManager=(e=Zs.licenseManager)==null?void 0:e.call(Zs,t),(i=this.licenseManager)==null||i.validateLicense(),this.licenseChecked=!0)}static getLicenseDetails(t){var e;return(e=Zs.licenseManager)==null?void 0:e.call(Zs,{}).getLicenseDetails(t)}static getInstance(t){return U_.getInstance(t)}static create(t,e){return uc.group("AgCharts.create()",()=>{var n,s;this.licenseCheck(t);const i=U_.createOrUpdate({userOptions:t,licenseManager:this.licenseManager,optionsMetadata:e});return(n=this.licenseManager)!=null&&n.isDisplayWatermark()&&this.licenseManager&&((s=Zs.injectWatermark)==null||s.call(Zs,i.chart.ctx.domManager,this.licenseManager.getWatermarkMessage())),i})}static createFinancialChart(t){return uc.group("AgCharts.createFinancialChart()",()=>this.create(t,{presetType:"price-volume"}))}static createGauge(t){return uc.group("AgCharts.createGauge()",()=>this.create(t,{presetType:"gauge"}))}static __createSparkline(t){return uc.group("AgCharts.__createSparkline()",()=>{const{pool:e,...i}=t;return this.create(i,{presetType:"sparkline",pool:e??!0})})}};wo.licenseChecked=!1;var el=class Lu{static getInstance(e){const i=MA.getInstance(e);return i?v_.chartInstances.get(i):void 0}static initialiseModules(){Lu.initialised||(mlt(),xlt(),Lu.initialised=!0)}static createOrUpdate(e){var E,O;let{proxy:i}=e;const{userOptions:n,licenseManager:s,processedOverrides:a=(i==null?void 0:i.chart.chartOptions.processedOverrides)??{},specialOverrides:o=(i==null?void 0:i.chart.chartOptions.specialOverrides)??{},optionsMetadata:r=(i==null?void 0:i.chart.chartOptions.optionMetadata)??{},deltaOptions:l,stripSymbols:c=!1}=e,h=Zs.styles!=null?[["ag-charts-enterprise",Zs.styles]]:[],{presetType:p}=r;Lu.initialiseModules(),uc(()=>[">>> AgCharts.createOrUpdate() user options",fn(n)]);let f=n;wo.optionsMutationFn&&f&&(f=wo.optionsMutationFn(fn(f),p),uc(()=>[">>> AgCharts.createOrUpdate() MUTATED user options",fn(f)]));const{document:y,window:m,styleContainer:b,...v}=f??{},S=(l?i==null?void 0:i.chart.getChartOptions():v)??v,D=new RW(S,a,{...o,document:y,window:m,styleContainer:b},r,l,c);let I=!1,T=i==null?void 0:i.chart,k;return(T==null||kd.detectChartDefinition(D.processedOptions)!==kd.detectChartDefinition(T.chartOptions.processedOptions))&&(k=(E=this.getPool(D))==null?void 0:E.obtain(D),k?T=k.item:(I=!0,T=Lu.createChartInstance(D,T)),h.forEach(([B,R])=>{T==null||T.ctx.domManager.addStyles(B,R)})),i==null?(i=new v_(T,Lu.callbackApi,s),i.releaseChart=k==null?void 0:k.release):(k||I)&&((O=i.releaseChart)==null||O.call(i),i.chart=T,i.releaseChart=k==null?void 0:k.release),uc.check()&&typeof window<"u"&&(window.agChartInstances??(window.agChartInstances={}),window.agChartInstances[T.id]=T),T.queuedUserOptions.push(D.userOptions),T.queuedChartOptions.push(D),T.requestFactoryUpdate(B=>{uc.group(">>>> Chart.applyOptions()",()=>{B.applyOptions(D);const R=B.queuedUserOptions.indexOf(D.userOptions)+1;B.queuedUserOptions.splice(0,R),B.queuedChartOptions.splice(0,R)})}),i}static markRemovedProperties(e,i,n=!1){if(typeof e!="object")return n;for(const[s,a]of Object.entries(e))typeof a>"u"&&(Object.assign(e,{[s]:Symbol("UNSET")}),n||(n=!0));return n}static updateUserDelta(e,i){i=fn(i,new Set(["data"]));const n=dc(i,Lu.markRemovedProperties,new Set(["data"]),void 0,void 0,!1);uc(()=>[">>> AgCharts.updateUserDelta() user delta",fn(i)]),Lu.createOrUpdate({proxy:e,deltaOptions:i,stripSymbols:n})}static createChartInstance(e,i){const n=i==null?void 0:i.destroy({keepTransferableResources:!0});return kd.detectChartDefinition(e.processedOptions).create(e,n)}static getPool(e){if(e.optionMetadata.pool===!0)return pct.getPool(e.optionMetadata.presetType??"default",this.createChartInstance,this.detachAndClear,this.destroy,1/0)}};el.caretaker=new CU(sM);el.initialised=!1;el.callbackApi={caretaker:el.caretaker,create(t,e,i,n){return el.createOrUpdate({userOptions:t,processedOverrides:e,specialOverrides:i,optionsMetadata:n})},update(t,e){return el.createOrUpdate({userOptions:t,proxy:e})},updateUserDelta(t,e){return el.updateUserDelta(t,e)}};el.detachAndClear=t=>t.detachAndClear();el.destroy=t=>t.destroy();var U_=el,fct={};Go(fct,{Arc:()=>ml,BBox:()=>Et,Caption:()=>He,CategoryScale:()=>Kx,Group:()=>Wt,Line:()=>Ya,LinearScale:()=>fr,Marker:()=>kn,Path:()=>ia,RadialColumnShape:()=>Yo,Rect:()=>Es,Scene:()=>bA,Sector:()=>Wn,Shape:()=>_o,TranslatableGroup:()=>Js,getRadialColumnWidth:()=>PW,toRadians:()=>yn});var ml=class extends ia{constructor(){super(),this.centerX=0,this.centerY=0,this.radius=10,this.startAngle=0,this.endAngle=Math.PI*2,this.counterClockwise=!1,this.type=0,this.restoreOwnStyles()}get fullPie(){return lr(qe(this.startAngle),qe(this.endAngle))}updatePath(){const t=this.path;t.clear(),t.arc(this.centerX,this.centerY,this.radius,this.startAngle,this.endAngle,this.counterClockwise),this.type===1?t.closePath():this.type===2&&!this.fullPie&&(t.lineTo(this.centerX,this.centerY),t.closePath())}computeBBox(){return new Et(this.centerX-this.radius,this.centerY-this.radius,this.radius*2,this.radius*2)}isPointInPath(t,e){const i=this.getBBox();return this.type!==0&&i.containsPoint(t,e)&&this.path.isPointInPath(t,e)}};ml.className="Arc";N([$t()],ml.prototype,"centerX",2);N([$t()],ml.prototype,"centerY",2);N([$t()],ml.prototype,"radius",2);N([$t()],ml.prototype,"startAngle",2);N([$t()],ml.prototype,"endAngle",2);N([$t()],ml.prototype,"counterClockwise",2);N([$t()],ml.prototype,"type",2);function JC(t,e,i){const n=Math.sqrt(t**2+e**2),a=Math.atan2(e,t)+i;return{x:Math.cos(a)*n,y:Math.sin(a)*n}}var Yo=class extends ia{constructor(){super(...arguments),this.isBeveled=!0,this.columnWidth=0,this.startAngle=0,this.endAngle=0,this.outerRadius=0,this.innerRadius=0,this.axisInnerRadius=0,this.axisOuterRadius=0,this.isRadiusAxisReversed=!1}set cornerRadius(e){}computeBBox(){const{innerRadius:e,outerRadius:i,columnWidth:n}=this,s=this.getRotation(),a=-n/2,o=n/2,r=-i,l=-e;let c=1/0,h=1/0,p=-1/0,f=-1/0;for(let y=0;y<4;y+=1){const{x:m,y:b}=JC(y%2===0?a:o,y<2?r:l,s);c=Math.min(m,c),h=Math.min(b,h),p=Math.max(m,p),f=Math.max(b,f)}return new Et(c,h,p-c,f-h)}getRotation(){const{startAngle:e,endAngle:i}=this,n=cA(e,i);return qe(e+n/2+Math.PI/2)}updatePath(){const{isBeveled:e}=this;e?this.updateBeveledPath():this.updateRectangularPath(),this.checkPathDirty()}updateRectangularPath(){const{columnWidth:e,innerRadius:i,outerRadius:n,path:s}=this,a=-e/2,o=e/2,r=-n,l=-i,c=this.getRotation(),h=[[a,l],[a,r],[o,r],[o,l]].map(([p,f])=>JC(p,f,c));s.clear(!0),s.moveTo(h[0].x,h[0].y),s.lineTo(h[1].x,h[1].y),s.lineTo(h[2].x,h[2].y),s.lineTo(h[3].x,h[3].y),s.closePath()}updateBeveledPath(){const{columnWidth:e,path:i,outerRadius:n,innerRadius:s,axisInnerRadius:a,axisOuterRadius:o,isRadiusAxisReversed:r}=this,l=lr(s,a),c=Math.asin(e/2/s),h=this.getRotation(),p=(R,L)=>JC(R,L,h),f=(R,L)=>Math.sqrt(R**2+L**2),y=(R,L)=>L>R?0:Math.sqrt(R**2-L**2),m=(R,L,F)=>F?R<L:R>L,b=l&&!isNaN(c)&&c<Math.PI/6;let v=-e/2,S=e/2;const D=-n,I=-s*(b?Math.cos(c):1),T=m(o,f(s,e/2),!r);if(T){const R=y(o,s);v=-R,S=R}i.clear(!0);const k=p(v,I);i.moveTo(k.x,k.y);const E=lr(s,n),O=m(o,f(n,e/2),!r);if(E&&b)i.arc(0,0,s,qe(-c-Math.PI/2)+h,qe(c-Math.PI/2)+h,!1);else if(O){const R=-y(o,e/2),L=y(o,n);if(!T){const F=p(v,R);i.lineTo(F.x,F.y)}if(i.arc(0,0,o,Math.atan2(R,v)+h,Math.atan2(D,-L)+h,!1),!lr(L,0)){const F=p(L,D);i.lineTo(F.x,F.y)}i.arc(0,0,o,Math.atan2(D,L)+h,Math.atan2(R,S)+h,!1)}else{const R=p(v,D),L=p(S,D);i.lineTo(R.x,R.y),i.lineTo(L.x,L.y)}const B=p(S,I);if(i.lineTo(B.x,B.y),b)i.arc(0,0,s,qe(c-Math.PI/2)+h,qe(-c-Math.PI/2)+h,!0);else{const R=p(v,I);i.lineTo(R.x,R.y)}i.closePath()}};Yo.className="RadialColumnShape";N([$t()],Yo.prototype,"isBeveled",2);N([$t()],Yo.prototype,"columnWidth",2);N([$t()],Yo.prototype,"startAngle",2);N([$t()],Yo.prototype,"endAngle",2);N([$t()],Yo.prototype,"outerRadius",2);N([$t()],Yo.prototype,"innerRadius",2);N([$t()],Yo.prototype,"axisInnerRadius",2);N([$t()],Yo.prototype,"axisOuterRadius",2);N([$t()],Yo.prototype,"isRadiusAxisReversed",2);function PW(t,e,i,n,s){const a=cA(t,e),o=a*(1-n)/2;if(t+=o,e-=o,a<.001)return 2*i*s;if(a>=2*Math.PI){const y=t+a/2;t=y-Math.PI,e=y+Math.PI}const r=i*Math.cos(t),l=i*Math.sin(t),c=i*Math.cos(e),h=i*Math.sin(e),p=Math.floor(Math.sqrt((r-c)**2+(l-h)**2)),f=2*i*s;return Math.max(1,Math.min(f,p))}var gct={};Go(gct,{ChartTheme:()=>Pc,DEFAULT_ANNOTATION_HANDLE_FILL:()=>ub,DEFAULT_ANNOTATION_STATISTICS_COLOR:()=>pb,DEFAULT_ANNOTATION_STATISTICS_DIVIDER_STROKE:()=>fb,DEFAULT_ANNOTATION_STATISTICS_DOWN_FILL:()=>gx,DEFAULT_ANNOTATION_STATISTICS_DOWN_STROKE:()=>yx,DEFAULT_ANNOTATION_STATISTICS_FILL:()=>hb,DEFAULT_ANNOTATION_STATISTICS_STROKE:()=>db,DEFAULT_BACKGROUND_COLOUR:()=>LA,DEFAULT_CAPTION_ALIGNMENT:()=>_u,DEFAULT_CAPTION_LAYOUT_STYLE:()=>zu,DEFAULT_COLOR_RANGE:()=>PA,DEFAULT_DIVERGING_SERIES_COLOR_RANGE:()=>Da,DEFAULT_FIBONACCI_STROKES:()=>fx,DEFAULT_FINANCIAL_CHARTS_ANNOTATION_BACKGROUND_FILL:()=>gn,DEFAULT_FINANCIAL_CHARTS_ANNOTATION_COLOR:()=>Si,DEFAULT_FUNNEL_SERIES_COLOR_RANGE:()=>yl,DEFAULT_GAUGE_SERIES_COLOR_RANGE:()=>Wo,DEFAULT_GRIDLINE_ENABLED:()=>tl,DEFAULT_HIERARCHY_FILLS:()=>zA,DEFAULT_HIERARCHY_STROKES:()=>_A,DEFAULT_POLAR_SERIES_STROKE:()=>RA,DEFAULT_SEPARATION_LINES_COLOUR:()=>ob,DEFAULT_SHADOW_COLOUR:()=>hh,DEFAULT_SPARKLINE_CROSSHAIR_STROKE:()=>BA,DEFAULT_TEXTBOX_COLOR:()=>mb,DEFAULT_TEXTBOX_FILL:()=>gb,DEFAULT_TEXTBOX_STROKE:()=>yb,DEFAULT_TEXT_ANNOTATION_COLOR:()=>cb,DEFAULT_TOOLBAR_POSITION:()=>xb,IS_COMMUNITY:()=>tE,IS_DARK_THEME:()=>Uf,IS_ENTERPRISE:()=>eE,PALETTE_ALT_DOWN_FILL:()=>aE,PALETTE_ALT_DOWN_STROKE:()=>nE,PALETTE_ALT_NEUTRAL_FILL:()=>oE,PALETTE_ALT_NEUTRAL_STROKE:()=>wA,PALETTE_ALT_UP_FILL:()=>sE,PALETTE_ALT_UP_STROKE:()=>iE,PALETTE_DOWN_FILL:()=>lb,PALETTE_DOWN_STROKE:()=>EA,PALETTE_NEUTRAL_FILL:()=>OA,PALETTE_NEUTRAL_STROKE:()=>Sg,PALETTE_UP_FILL:()=>rb,PALETTE_UP_STROKE:()=>NA,getChartTheme:()=>xM,themeNames:()=>yct,themeSymbols:()=>JN,themes:()=>PE});var yct=Object.keys(PE),mct={};Go(mct,{Color:()=>xi,interpolateColor:()=>Q5});var z={};Go(z,{AND:()=>dl,ARRAY:()=>Zx,ARRAY_OF:()=>Ac,AbstractBarSeries:()=>pW,AbstractBarSeriesProperties:()=>bE,ActionOnSet:()=>Sa,AnchoredPopover:()=>jW,Animation:()=>aV,AnimationManager:()=>FU,Arc:()=>ml,Axis:()=>xN,AxisGroupZIndexMap:()=>uU,AxisInterval:()=>Hd,AxisLabel:()=>En,AxisTick:()=>cg,AxisTickGenerator:()=>pU,AxisTicks:()=>Gct,BBox:()=>Et,BBoxValues:()=>YM,BOOLEAN:()=>jt,BOOLEAN_ARRAY:()=>_it,Background:()=>xg,BackgroundModule:()=>GH,BandScale:()=>$x,BarSeries:()=>jA,BarSeriesModule:()=>mW,BaseModuleInstance:()=>pA,BaseProperties:()=>Zt,BaseToolbar:()=>WE,ButtonWidget:()=>ib,COLOR_GRADIENT:()=>SV,COLOR_STRING:()=>Ae,COLOR_STRING_ARRAY:()=>Ha,CachedTextMeasurer:()=>jV,CachedTextMeasurerPool:()=>Tc,Caption:()=>He,CartesianAxis:()=>eb,CartesianSeries:()=>lh,CartesianSeriesNodeEvent:()=>HN,CartesianSeriesProperties:()=>Oc,CategoryAxis:()=>hg,CategoryScale:()=>Kx,ChangeDetectableProperties:()=>KN,Chart:()=>MA,ChartAxisDirection:()=>uN,ChartEventManager:()=>GU,ChartOptions:()=>RW,ChartUpdateType:()=>Hm,CollapseMode:()=>sW,Color:()=>xi,ColorScale:()=>ih,ConicGradient:()=>Yct,ContextMenuRegistry:()=>VU,ContinuousScale:()=>ke,DATE:()=>ZL,DATE_ARRAY:()=>jit,DATE_OR_DATETIME_MS:()=>qL,DEFAULT_CARTESIAN_DIRECTION_KEYS:()=>$d,DEFAULT_CARTESIAN_DIRECTION_NAMES:()=>Kd,DEFAULT_TOOLTIP_CLASS:()=>Ts,DEFAULT_TOOLTIP_DARK_CLASS:()=>fH,DIRECTION:()=>DV,DOMManager:()=>RU,DataController:()=>eH,DataModel:()=>JU,DataModelSeries:()=>VN,DataService:()=>vA,Debug:()=>We,Default:()=>sh,Deprecated:()=>xct,DeprecatedAndRenamedTo:()=>bct,DragInterpreter:()=>YU,DraggablePopover:()=>FW,DropShadow:()=>Mr,ExtendedPath2D:()=>hx,FONT_SIZE_RATIO:()=>QN,FONT_STYLE:()=>Dc,FONT_WEIGHT:()=>Ic,FUNCTION:()=>ta,FloatingToolbar:()=>Zct,GREATER_THAN:()=>Qx,Gradient:()=>lA,Group:()=>Wt,GroupedCategoryAxis:()=>mg,HdpiCanvas:()=>EN,HierarchyNode:()=>zct,HierarchySeries:()=>_ct,HierarchySeriesProperties:()=>dh,HighlightManager:()=>UU,HighlightProperties:()=>UN,HighlightStyle:()=>ab,INTERACTION_RANGE:()=>rA,INTERPOLATION_STEP_POSITION:()=>qH,INTERPOLATION_TYPE:()=>ZH,Image:()=>Tg,InteractionManager:()=>jU,InteractionState:()=>_U,InterpolationProperties:()=>Mg,Invalidating:()=>og,LABEL_PLACEMENT:()=>tN,LARGEST_KEY_INTERVAL:()=>OH,LESS_THAN:()=>qx,LINE_CAP:()=>Fit,LINE_DASH:()=>pl,LINE_JOIN:()=>Git,LINE_STYLE:()=>Vit,Label:()=>Nn,LayoutElement:()=>IN,LayoutManager:()=>IU,LegendMarkerLabel:()=>Ho,Line:()=>Ya,LineSeries:()=>FA,LineSeriesModule:()=>bW,LinearGradient:()=>Ik,LinearScale:()=>fr,Listeners:()=>kc,LogScale:()=>FN,LonLatBBox:()=>jct,MARKER_SHAPE:()=>XN,MATCHING_CROSSLINE_TYPE:()=>gN,MAX_SPACING:()=>TV,MIN_SPACING:()=>IV,Marker:()=>kn,Menu:()=>$ct,MercatorScale:()=>Fct,ModuleRegistry:()=>kd,Motion:()=>Ak,NAN:()=>sA,NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>hr,NUMBER:()=>de,NUMBER_ARRAY:()=>aA,NUMBER_OR_NAN:()=>rg,NativeWidget:()=>eg,NiceMode:()=>oU,Node:()=>Qu,NumberAxis:()=>rh,OBJECT:()=>kt,OBJECT_ARRAY:()=>QL,OR:()=>eh,OVERFLOW_STRATEGY:()=>Hit,ObserveChanges:()=>nh,OrdinalTimeScale:()=>al,PHASE_METADATA:()=>ox,PHASE_ORDER:()=>Lf,PLACEMENT:()=>Wit,PLAIN_OBJECT:()=>xV,POSITION:()=>JL,POSITION_TOP_COORDINATES:()=>tM,POSITIVE_NUMBER:()=>Tt,PREV_NEXT_KEYS:()=>Gf,Padding:()=>ah,ParallelStateMachine:()=>lnt,Path:()=>ia,PointerEvents:()=>X5,PolarAxis:()=>ig,PolarSeries:()=>VA,PolarZIndexMap:()=>IW,Popover:()=>HE,PropertiesArray:()=>Xx,ProxyInteractionService:()=>BU,ProxyOnWrite:()=>cnt,ProxyProperty:()=>ni,ProxyPropertyOnWrite:()=>Hn,QUICK_TRANSITION:()=>ZS,RATIO:()=>Le,REAL_NUMBER:()=>bV,RENDER_TO_OFFSCREEN_CANVAS_THRESHOLD:()=>uM,RadialColumnShape:()=>Yo,Range:()=>vr,Rect:()=>Es,RepeatType:()=>sV,Rotatable:()=>lg,RotatableGroup:()=>ant,RotatableText:()=>FV,SKIP_JS_BUILTINS:()=>YL,SMALLEST_KEY_INTERVAL:()=>EH,SORT_DOMAIN_GROUPS:()=>wH,STRING:()=>Dt,STRING_ARRAY:()=>MV,Scalable:()=>sN,ScalableGroup:()=>snt,Scene:()=>bA,SceneChangeDetection:()=>Lt,ScenePathChangeDetection:()=>$t,Sector:()=>Wn,SectorBox:()=>SW,Selection:()=>Yi,Series:()=>SA,SeriesContentZIndexMap:()=>cH,SeriesGroupingChangedEvent:()=>_N,SeriesItemHighlightStyle:()=>Ec,SeriesMarker:()=>Os,SeriesNodeEvent:()=>nb,SeriesNodePickMode:()=>uH,SeriesProperties:()=>$a,SeriesTooltip:()=>ws,SeriesZIndexMap:()=>lH,Shape:()=>_o,SimpleTextMeasurer:()=>rN,SliderWidget:()=>NN,StateMachine:()=>tb,StateMachineProperty:()=>rnt,StopProperties:()=>iN,SvgPath:()=>UE,TEXT_ALIGN:()=>AV,TEXT_WRAP:()=>oA,TICK_INTERVAL:()=>aU,Text:()=>Cn,TextUtils:()=>hi,TextWrapper:()=>cN,ThemeConstants:()=>VH,ThemeSymbols:()=>JN,TimeScale:()=>qV,Toolbar:()=>Kct,ToolbarButtonProperties:()=>Mb,ToolbarButtonWidget:()=>GW,ToolbarWidget:()=>xA,Tooltip:()=>gl,TooltipManager:()=>aM,TooltipPosition:()=>fg,Transformable:()=>Di,TransformableText:()=>Jf,Translatable:()=>Ud,TranslatableGroup:()=>Js,TranslatableLine:()=>iM,UNION:()=>Ye,UpdateService:()=>KU,VERTICAL_ALIGN:()=>Uit,Validate:()=>w,Vec2:()=>Nf,Vec4:()=>Pk,WIDGET_HTML_EVENTS:()=>DN,Widget:()=>fl,WidgetEventUtil:()=>pc,ZIndexMap:()=>sU,ZoomManager:()=>$U,accumulateGroup:()=>RH,accumulateStack:()=>PH,accumulatedValue:()=>DH,accumulativeValueProperty:()=>dx,addHitTestersToQuadtree:()=>mE,adjustLabelPlacement:()=>yW,angleBetween:()=>cA,animationValidation:()=>gg,applyShapeStyle:()=>px,areScalingEqual:()=>Hf,area:()=>Gk,buildFormatter:()=>Yx,buildResetPathFn:()=>gE,calculateDefaultTimeTickFormat:()=>fV,calculateDerivativeExtrema:()=>_k,calculateDerivativeExtremaXY:()=>dH,calculateLabelChartPadding:()=>iU,calculateLabelTranslation:()=>Lk,calculatePlacement:()=>jk,checkCrisp:()=>fW,clamp:()=>qt,clampArray:()=>vk,clippedRoundRect:()=>OS,collapsedStartingBarPosition:()=>Sx,compareDates:()=>VV,computeBarFocusBounds:()=>SE,computeMarkerFocusBounds:()=>Sb,countExpandingSearch:()=>WU,countFractionDigits:()=>ZM,createButton:()=>Vct,createCheckbox:()=>Uct,createDatumId:()=>Ki,createDeprecationWarning:()=>_E,createElement:()=>ae,createElementId:()=>tst,createIcon:()=>zW,createId:()=>Vo,createSelect:()=>Hct,createSvgElement:()=>Ro,createTextArea:()=>Wct,dateToNumber:()=>Is,datesSortOrder:()=>dN,datumKeys:()=>oM,datumStylerProperties:()=>Wu,deconstructSelectionsOrNodes:()=>tA,deepClone:()=>fn,deepFreeze:()=>jm,defaultTimeTickFormat:()=>XL,diff:()=>yg,downloadUrl:()=>Y5,drawCorner:()=>Em,drawMarkerUnitPolygon:()=>Nm,easing:()=>Ak,enterpriseModule:()=>Zs,evaluateBezier:()=>rM,extent:()=>Nc,extractDecoratedProperties:()=>eV,findMinMax:()=>Vn,findQuadtreeMatch:()=>xE,findRangeExtent:()=>Zf,fixNumericExtent:()=>ba,focusCursorAtEnd:()=>Qnt,formatNumber:()=>tU,formatPercent:()=>JV,formatValue:()=>bc,fromToMotion:()=>vi,generateUUID:()=>Aet,getAngleRatioRadians:()=>EV,getColorStops:()=>wV,getDateTicksForInterval:()=>fN,getDatumRefPoint:()=>ON,getDocument:()=>mc,getElementBBox:()=>yU,getIconClassNames:()=>fA,getLastFocus:()=>kN,getMissCount:()=>wN,getPath:()=>WL,getPathComponents:()=>QU,getRadialColumnWidth:()=>PW,getWindow:()=>Qe,groupAccumulativeValueProperty:()=>Yu,groupAverage:()=>AH,groupCount:()=>Fk,groupStackValueProperty:()=>NH,groupSum:()=>MH,hasNoModifiers:()=>mA,inRange:()=>$5,initMenuKeyNav:()=>EU,initRovingTabIndex:()=>NU,interpolatePoints:()=>pM,isAgFlowProportionChartOptions:()=>aot,isAgGaugeChartOptions:()=>rH,isAgHierarchyChartOptions:()=>not,isAgStandaloneChartOptions:()=>oH,isAgTopologyChartOptions:()=>sot,isBetweenAngles:()=>Bu,isButtonClickEvent:()=>CN,isContinuous:()=>uA,isDecoratedObject:()=>JM,isDenseInterval:()=>ux,isInputPending:()=>mU,isInteger:()=>K5,isNegative:()=>XM,isNumberEqual:()=>lr,isProperties:()=>cl,isScaleValid:()=>xx,jsonApply:()=>Um,jsonDiff:()=>vc,jsonPropertyCompare:()=>xU,jsonResolveOperations:()=>bU,jsonWalk:()=>dc,keyProperty:()=>gr,labelDirectionHandling:()=>nU,legendSymbolSvg:()=>pH,lineDistanceSquared:()=>Vm,listDecoratedProperties:()=>Ld,makeAccessibleClickListener:()=>Nst,mapValues:()=>jet,markerFadeInAnimation:()=>bx,markerPaletteFactory:()=>rE,markerScaleInAnimation:()=>dE,markerSwipeScaleInAnimation:()=>pE,mergeArrayDefaults:()=>XS,mergeDefaults:()=>ie,midpointStartingBarPosition:()=>qrt,mod:()=>UL,moduleRegistry:()=>ol,motion:()=>Qct,nearestSquared:()=>KM,nearestSquaredInContainer:()=>ket,normaliseGroupTo:()=>TA,normalisePropertyTo:()=>Nd,normalisedExtentWithMetadata:()=>GN,normalizeAngle180:()=>rx,normalizeAngle360:()=>qe,normalizeAngle360Inclusive:()=>Jit,objectsEqual:()=>Rd,objectsEqualWith:()=>HL,pairUpSpans:()=>Ym,partialAssign:()=>Mk,pathFadeInAnimation:()=>fM,pathMotion:()=>dM,pathSwipeInAnimation:()=>fE,pickByMatchingAngle:()=>NE,plotAreaPathFill:()=>uW,plotInterpolatedAreaSeriesFillSpans:()=>RS,plotInterpolatedLinePathStroke:()=>wS,plotLinePathStroke:()=>cE,predicateWithMessage:()=>Pe,prepareAreaFillAnimationFns:()=>hW,prepareAreaPathAnimation:()=>dW,prepareAxisAnimationContext:()=>eM,prepareAxisAnimationFunctions:()=>rU,prepareBarAnimationFunctions:()=>Mx,prepareLinePathAnimation:()=>cW,prepareLinePathPropertyAnimation:()=>hE,prepareLinePathStrokeAnimationFns:()=>uE,preparePieSeriesAnimationFunctions:()=>Ed,range:()=>cx,rangedValueProperty:()=>YN,resetAxisGroupFn:()=>lU,resetAxisLabelSelectionFn:()=>mN,resetAxisLineSelectionFn:()=>cU,resetAxisSelectionFn:()=>yN,resetBarSelectionsFn:()=>Ax,resetIds:()=>Met,resetLabelFn:()=>Rc,resetMarkerFn:()=>vb,resetMarkerPositionFn:()=>vx,resetMotion:()=>Fn,resetPieSelectionsFn:()=>LE,round:()=>Let,rowCountProperty:()=>LH,sanitizeHtml:()=>Vf,scale:()=>As,sectorBox:()=>MW,seriesLabelFadeInAnimation:()=>Me,seriesLabelFadeOutAnimation:()=>ju,setAttribute:()=>_e,setAttributes:()=>Pd,setDocument:()=>H5,setElementBBox:()=>nM,setElementStyle:()=>dr,setPath:()=>$L,setWindow:()=>W5,shallowClone:()=>MN,singleSeriesPaletteFactory:()=>bb,solveBezier:()=>lM,sortAndUniqueDates:()=>Ck,splitBezier:()=>cM,staticFromToMotion:()=>Mc,stopPageScrolling:()=>OU,sum:()=>irt,sumValues:()=>IA,swapAxisCondition:()=>KH,toDegrees:()=>tnt,toRadians:()=>yn,tooltipContentAriaLabel:()=>gH,trailingAccumulatedValue:()=>IH,trailingAccumulatedValueProperty:()=>art,updateClipPath:()=>gM,updateLabelNode:()=>gW,validateCrossLineValues:()=>eU,valueProperty:()=>ne,visibleRangeIndices:()=>HU,without:()=>Sk});function _E(){return(t,e)=>{const i=[`Property [${t}] is deprecated.`,e].filter(Boolean).join(" ");It.warnOnce(i)}}function xct(t,e){const i=_E(),n=e==null?void 0:e.default;return xc((s,a,o)=>(o!==n&&i(a.toString(),t),o))}function bct(t,e){const i=_E();return xc((n,s,a)=>(a!==n[t]&&(i(s.toString(),`Use [${t}] instead.`),$L(n,t,e?e(a):a)),KS),(n,s)=>(i(s.toString(),`Use [${t}] instead.`),WL(n,t)))}var Nf={add:vct,angle:Tct,apply:Pct,equal:wct,distance:Act,distanceSquared:Dct,from:Rct,gradient:kct,intercept:Lct,intersectAtX:Ect,intersectAtY:Nct,length:FE,lengthSquared:Mct,multiply:Sct,normalized:Ict,origin:GE,required:Bct,rotate:Cct,round:Oct,sub:jE};function vct(t,e){return typeof e=="number"?{x:t.x+e,y:t.y+e}:{x:t.x+e.x,y:t.y+e.y}}function jE(t,e){return typeof e=="number"?{x:t.x-e,y:t.y-e}:{x:t.x-e.x,y:t.y-e.y}}function Sct(t,e){return typeof e=="number"?{x:t.x*e,y:t.y*e}:{x:t.x*e.x,y:t.y*e.y}}function FE(t){return Math.sqrt(t.x*t.x+t.y*t.y)}function Mct(t){return t.x*t.x+t.y*t.y}function Act(t,e){const i=jE(t,e);return Math.sqrt(i.x*i.x+i.y*i.y)}function Dct(t,e){const i=jE(t,e);return i.x*i.x+i.y*i.y}function Ict(t){const e=FE(t);return{x:t.x/e,y:t.y/e}}function Tct(t,e=GE()){return Math.atan2(t.y,t.x)-Math.atan2(e.y,e.x)}function Cct(t,e,i=GE()){const n=FE(t);return{x:i.x+n*Math.cos(e),y:i.y+n*Math.sin(e)}}function kct(t,e,i){const n=e.x-t.x;return(i==null?e.y-t.y:i-e.y-(i-t.y))/n}function Lct(t,e,i){return(i==null?t.y:i-t.y)-e*t.x}function Nct(t,e,i=0,n){return{x:t===1/0?1/0:(i-e)/t,y:n==null?i:n-i}}function Ect(t,e,i=0,n){const s=t===1/0?1/0:t*i+e;return{x:i,y:n==null?s:n-s}}function Oct(t){return{x:Math.round(t.x),y:Math.round(t.y)}}function wct(t,e){return t.x===e.x&&t.y===e.y}function Rct(t,e){if(typeof t=="number")return{x:t,y:e};if("currentX"in t)return{x:t.currentX,y:t.currentY};if("offsetWidth"in t)return{x:t.offsetWidth,y:t.offsetHeight};if("width"in t)return[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y+t.height}];if("x1"in t)return[{x:t.x1,y:t.y1},{x:t.x2,y:t.y2}];throw new Error(`Values can not be converted into a vector: [${JSON.stringify(t)}] [${e}]`)}function Pct(t,e){return t.x=e.x,t.y=e.y,t}function Bct(t){return{x:(t==null?void 0:t.x)??0,y:(t==null?void 0:t.y)??0}}function GE(){return{x:0,y:0}}var BW=class PS{constructor(e,i,n,s,a,o,r,l,c){this.series=e,this.datumIndex=i,this.datum=n,this.sizeValue=s,this.colorValue=a,this.sumSize=o,this.depth=r,this.parent=l,this.children=c,this.midPoint={x:0,y:0}}get hasChildren(){return this.children.length>0}walk(e,i=PS.Walk.PreOrder){i===PS.Walk.PreOrder&&e(this),this.children.forEach(n=>{n.walk(e,i)}),i===PS.Walk.PostOrder&&e(this)}*[Symbol.iterator](){yield this;for(const e of this.children)yield*e}};BW.Walk={PreOrder:0,PostOrder:1};var zct=BW,_ct=class extends SA{constructor(t){super({moduleCtx:t,pickModes:[1,0]}),this.colorDomain=[0,0],this.maxDepth=0,this.colorScale=new ih,this.animationState=new tb("empty",{empty:{update:{target:"ready",action:e=>this.animateEmptyUpdateReady(e)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:e=>this.animateReadyHighlight(e),resize:e=>this.animateReadyResize(e),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:e=>this.animateWaitingUpdateReady(e)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:e=>this.animateClearingUpdateEmpty(e)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}resetAnimation(t){t==="initial"?this.animationState.transition("reset"):t==="ready"&&this.animationState.transition("skip")}processData(){const{NodeClass:t}=this,{childrenKey:e,sizeKey:i,colorKey:n,colorRange:s}=this.properties;let a=0,o=1/0,r=-1/0;const l=(f,y,m)=>{const b=m.depth!=null?m.depth+1:0,v=e!=null?f[e]:void 0,S=v==null||v.length===0;let D=i!=null?f[i]:void 0;Number.isFinite(D)?D=Math.max(D,0):D=S?1:0;const I=D;a=Math.max(a,b);const T=n!=null?f[n]:void 0;return typeof T=="number"&&(o=Math.min(o,T),r=Math.max(r,T)),c(new t(this,y,f,D,T,I,b,m,[]),v)},c=(f,y)=>{const{datumIndex:m}=f;return y==null||y.forEach((b,v)=>{const S=l(b,m.concat(v),f);f.children.push(S),f.sumSize+=S.sumSize}),f},h=c(new t(this,[],void 0,0,void 0,0,void 0,void 0,[]),this.data),p=[o,r];this.colorScale.domain=o<r?[o,r]:[0,1],this.colorScale.range=s??["black"],this.colorScale.update(),this.rootNode=h,this.maxDepth=a,this.colorDomain=p}update({seriesRect:t}){this.updateSelections(),this.updateNodes();const e=this.getAnimationData();this.checkResize(t)&&this.animationState.transition("resize",e),this.animationState.transition("update",e)}resetAllAnimation(t){this.ctx.animationManager.stopByAnimationGroupId(this.id)}animateEmptyUpdateReady(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(t)}animateWaitingUpdateReady(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(t)}animateReadyHighlight(t){}animateReadyResize(t){this.resetAllAnimation(t)}animateClearingUpdateEmpty(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(t)}getAnimationData(){return{}}isProcessedDataAnimatable(){return!0}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}getSeriesDomain(){return[NaN,NaN]}getSeriesRange(t,e){return[NaN,NaN]}getLegendData(t){const{colorKey:e,colorName:i,colorRange:n}=this.properties,{id:s,ctx:{legendManager:a},visible:o}=this;return t==="gradient"&&e!=null&&n!=null?[{legendType:"gradient",enabled:o&&a.getItemEnabled({seriesId:s}),seriesId:s,colorName:i,colorRange:n,colorDomain:this.colorDomain}]:[]}getDatumIdFromData(t){return t.datumIndex.join(":")}getDatumId(t){return this.getDatumIdFromData(t)}removeMeIndexPathForIndex(t){var e;return((e=this.datumSelection.at(t+1))==null?void 0:e.datum.datumIndex)??[]}removeMeIndexForIndexPath(t){for(const{index:e,datum:i}of this.datumSelection)if(sl(i.datumIndex,t))return e-1;return 0}pickFocus(t){var l;if(!((l=this.rootNode)!=null&&l.children.length))return;const e=qt(0,t.datumIndex-t.datumIndexDelta,this.datumSelection.length-1),{datumIndexDelta:i,otherIndexDelta:n}=t;let s=this.removeMeIndexPathForIndex(e);const a=s.reduce((c,h)=>c.children[h],this.rootNode);if(n>0&&a.hasChildren)s=[...s,0];else if(n<0&&s.length>1)s=s.slice(0,-1);else if(n===0&&i!==0){const c=a.parent.children.length-1;s=s.slice(),s[s.length-1]=qt(0,s[s.length-1]+i,c)}const o=s.reduce((c,h)=>c.children[h],this.rootNode),r=this.computeFocusBounds(this.datumSelection.at(e+1));if(r!=null)return{datum:o,datumIndex:this.removeMeIndexForIndexPath(s),otherIndex:o.depth,bounds:r,clipFocusBox:!0}}getDatumAriaText(t,e){if(!(t instanceof this.NodeClass)){It.error(`datum is not HierarchyNode: ${JSON.stringify(t)}`);return}return this.ctx.localeManager.t("ariaAnnounceHierarchyDatum",{level:(t.depth??-1)+1,count:t.children.length,description:e})}},dh=class extends $a{constructor(){super(...arguments),this.childrenKey="children",this.fills=Object.values(Hi),this.strokes=Object.values($r)}};N([w(Dt)],dh.prototype,"childrenKey",2);N([w(Dt,{optional:!0})],dh.prototype,"sizeKey",2);N([w(Dt,{optional:!0})],dh.prototype,"colorKey",2);N([w(Dt,{optional:!0})],dh.prototype,"colorName",2);N([w(Ha)],dh.prototype,"fills",2);N([w(Ha)],dh.prototype,"strokes",2);N([w(Ha,{optional:!0})],dh.prototype,"colorRange",2);var jct=class{constructor(e,i,n,s){this.lon0=e,this.lat0=i,this.lon1=n,this.lat1=s}merge(e){this.lon0=Math.min(this.lon0,e.lon0),this.lat0=Math.min(this.lat0,e.lat0),this.lon1=Math.max(this.lon1,e.lon1),this.lat1=Math.max(this.lat1,e.lat1)}},HA=Math.PI/180,t1=t=>t*HA,e1=t=>-Math.log(Math.tan(Math.PI*.25+t*HA*.5)),i1=t=>t/HA,n1=t=>(Math.atan(Math.exp(-t))-Math.PI*.25)/(HA*.5),Fct=class Qk extends eA{constructor(e,i){super(),this.domain=e,this.range=i,this.type="mercator",this.bounds=Qk.bounds(e)}static bounds(e){const[[i,n],[s,a]]=e,o=t1(i),r=e1(n),l=t1(s),c=e1(a);return new Et(Math.min(o,l),Math.min(r,c),Math.abs(l-o),Math.abs(c-r))}static fixedScale(){return new Qk([[i1(0),n1(0)],[i1(1),n1(1)]],[[0,0],[1,1]])}toDomain(){}normalizeDomains(...e){let i=-1/0,n=1/0,s=-1/0,a=1/0;for(const o of e)for(const[r,l]of o)i=Math.min(r,i),n=Math.max(r,n),s=Math.min(l,s),a=Math.max(l,a);return{domain:[[i,s],[n,a]],animatable:!0}}convert([e,i]){const[[n,s],[a,o]]=this.range,r=(a-n)/this.bounds.width,l=(o-s)/this.bounds.height;return[(t1(e)-this.bounds.x)*r+n,(e1(i)-this.bounds.y)*l+s]}invert([e,i]){const[[n,s],[a,o]]=this.range,r=(a-n)/this.bounds.width,l=(o-s)/this.bounds.height;return[i1((e-n)/r+this.bounds.x),n1((i-s)/l+this.bounds.y)]}},VE=class Jk{constructor(){this.id=Vo(this),this.axisGroup=new Js({name:`${this.id}-AxisTicks`,zIndex:2}),this.labelSelection=Yi.select(this.axisGroup,Cn),this.interval=new Hd,this.label=new En,this.scale=new fr,this.position="bottom",this.translationX=0,this.translationY=0,this.padding=0}attachAxis(e){e.appendChild(this.axisGroup)}calculateLayout(){const e=[],i=this.generateTicks(),{translationX:n,translationY:s}=this;return this.labelSelection.update(i.ticks.map(a=>this.createLabelDatum(a)),void 0,a=>a.tickId),this.labelSelection.each((a,o)=>{a.setProperties(o),o.visible&&e.push(a.getBBox())}),this.axisGroup.setProperties({translationX:n,translationY:s}),Et.merge(e)}getLabelParams(e){const{padding:i}=this,{translate:n}=e;switch(this.position){case"top":case"bottom":return{x:n,y:i,textAlign:"center",textBaseline:"top"};case"left":case"right":return{x:i,y:n,textAlign:"start",textBaseline:"middle"}}}inRange(e,i=.001){const[n,s]=Vn(this.scale.range);return e>=n-i&&e<=s+i}createLabelDatum(e){const{x:i,y:n,textBaseline:s,textAlign:a}=this.getLabelParams(e);return{visible:!!e.tickLabel,tickId:e.tickId,fill:this.label.color,fontFamily:this.label.fontFamily,fontSize:this.label.fontSize,fontStyle:this.label.fontStyle,fontWeight:this.label.fontWeight,rotation:0,rotationCenterX:0,text:e.tickLabel,textAlign:a,textBaseline:s,x:i,y:n}}generateTicks(){const{minSpacing:e,maxSpacing:i}=this.interval,{maxTickCount:n,minTickCount:s,tickCount:a}=ZV(Zf(this.scale.range),1,e,i,Jk.DefaultTickCount,Jk.DefaultMinSpacing),o=this.getTicksData({nice:!0,interval:this.interval.step,tickCount:a,minTickCount:s,maxTickCount:n});if(this.position==="bottom"||this.position==="top"){const r=Tc.getMeasurer({font:this.label}),{domain:l}=this.scale,h=l[0]>l[1]?-1:1;let p=-1/0*h;o.ticks=o.ticks.filter(f=>Math.sign(f.translate-p)!==h?!1:(p=f.translate+r.textWidth(f.tickLabel,!0)*h,!0))}return o}getTicksData(e){var l,c;const i=[],n=e.nice?this.scale.niceDomain(e):this.scale.domain,s=this.scale.ticks(e,n),a=s.reduce((h,p)=>Math.max(h,ZM(p)),0),o=bN(),r=this.label.format?this.scale.tickFormatter({domain:n,ticks:s,fractionDigits:a,specifier:this.label.format}):h=>bc(h,a);for(let h=0;h<s.length;h++){const p=s[h],f=this.scale.convert(p);if(!this.inRange(f))continue;const y=((c=(l=this.label).formatter)==null?void 0:c.call(l,{value:p,index:h,fractionDigits:a}))??r(p),m=o(y);i.push({tick:p,tickId:m,tickLabel:y,translate:f})}return{rawTicks:s,fractionDigits:a,ticks:i}}};VE.DefaultTickCount=5;VE.DefaultMinSpacing=10;var Gct=VE;function Vct(t,e){const i=ae("button",WA("ag-charts-input ag-charts-button",e));return t.label!==void 0?i.append(t.label):(i.append(zW(t.icon)),i.ariaLabel=t.altText),i.addEventListener("click",t.onPress),Pd(i,e),i}function Uct(t,e){const i=ae("input",WA("ag-charts-input ag-charts-checkbox",e));return i.type="checkbox",i.checked=t.checked,i.addEventListener("change",n=>t.onChange(i.checked,n)),i.addEventListener("keydown",n=>{CN(n)&&(n.preventDefault(),i.click())}),Pd(i,e),i}function Hct(t,e){const i=ae("select",WA("ag-charts-input ag-charts-select",e));return i.append(...t.options.map(n=>{const s=ae("option");return s.value=n.value,s.textContent=n.label,s})),_e(i,"data-preventdefault",!1),i.value=t.value,i.addEventListener("change",n=>t.onChange(i.value,n)),Pd(i,e),i}function Wct(t,e){const i=ae("textarea",WA("ag-charts-input ag-charts-textarea",e));return i.value=t.value,i.addEventListener("input",n=>t.onChange(i.value,n)),Pd(i,e),_e(i,"data-preventdefault",!1),i}function zW(t){const e=ae("span",`ag-charts-icon ag-charts-icon-${t}`);return _e(e,"aria-hidden",!0),e}function WA(t,e){return e==null?t:`${t} ${e.class}`}var Yct=class extends lA{constructor(e,i,n=0,s){super(e,i,s),this.angle=n}createCanvasGradient(e,i){const{angle:s}=this,a=qe(yn(s+90)),o=i.x+i.width*.5,r=i.y+i.height*.5;return e.createConicGradient(a,o,r)}},UE=class extends ia{constructor(e=""){super(),this.x=0,this.y=0,this.commands=[],this._d="",this.d=e}get d(){return this._d}set d(e){if(e!==this._d){this._d=e,this.commands.length=0;for(const[i,n,s]of e.matchAll(/([A-Z])([0-9. ]*)/g)){const a=s.split(/\s+/g).map(Number);this.commands.push([n,a])}this.checkPathDirty()}}updatePath(){const{path:e,x:i,y:n}=this;e.clear();let s=i,a=n;for(const[o,r]of this.commands)switch(o){case"M":e.moveTo(i+r[0],n+r[1]),s=i+r[0];break;case"C":e.cubicCurveTo(i+r[0],n+r[1],i+r[2],n+r[3],i+r[4],n+r[5]),s=i+r[4],a=n+r[5];break;case"H":e.lineTo(i+r[0],a),s=n+r[0];break;case"L":e.lineTo(i+r[0],n+r[1]),s=i+r[0],a=n+r[1];break;case"V":e.lineTo(s,n+r[0]),a=n+r[0];break;case"Z":e.closePath();break;default:throw new Error(`Could not translate command '${o}' with '${r.join(" ")}'`)}e.closePath()}};N([$t()],UE.prototype,"x",2);N([$t()],UE.prototype,"y",2);var Tg=class extends Qu{constructor(e){super(),this.sourceImage=e,this.x=0,this.y=0,this.width=0,this.height=0,this.opacity=1}render(e){const{ctx:i}=e,n=this.sourceImage;n&&(i.globalAlpha=this.opacity,i.drawImage(n,0,0,n.width,n.height,this.x,this.y,this.width,this.height)),super.render(e)}};N([Lt()],Tg.prototype,"x",2);N([Lt()],Tg.prototype,"y",2);N([Lt()],Tg.prototype,"width",2);N([Lt()],Tg.prototype,"height",2);N([Lt()],Tg.prototype,"opacity",2);var _W={};Go(_W,{ButtonWidget:()=>ib,NativeWidget:()=>eg,SliderWidget:()=>NN,ToolbarWidget:()=>xA,WIDGET_HTML_EVENTS:()=>DN,Widget:()=>fl,WidgetEventUtil:()=>pc});var H_="canvas-overlay",HE=class extends pA{constructor(t,e,i){super(),this.ctx=t,this.hideFns=[],this.moduleId=`popover-${e}`,i!=null&&i.detached?this.element=ae("div"):this.element=t.domManager.addChild(H_,this.moduleId),this.element.setAttribute("role","presentation"),this.destroyFns.push(()=>t.domManager.removeChild(H_,this.moduleId))}attachTo(t){this.element.parentElement||t.element.append(this.element)}hide(t){const{lastFocus:e=this.lastFocus}=t??{};this.element.children.length!==0&&(this.hideFns.forEach(i=>i()),e==null||e.focus(),this.lastFocus=void 0)}removeChildren(){this.element.replaceChildren()}showWithChildren(t,e){if(!this.element.parentElement)throw new Error("Can not show popover that has not been attached to a parent.");const i=ae("div","ag-charts-popover");if(e.ariaLabel!=null&&i.setAttribute("aria-label",e.ariaLabel),e.class!=null&&i.classList.add(e.class),i.replaceChildren(...t),this.element.replaceChildren(i),this.hideFns.push(()=>this.removeChildren()),e.onHide&&this.hideFns.push(e.onHide),e.initialFocus&&e.sourceEvent){const n=kN(e.sourceEvent);n!==void 0&&(this.lastFocus=n,this.initialFocus=e.initialFocus)}return i}getPopoverElement(){return this.element.firstElementChild}updatePosition(t){var i;const e=this.getPopoverElement();e&&(e.style.setProperty("right","unset"),e.style.setProperty("bottom","unset"),t.x!=null&&e.style.setProperty("left",`${Math.floor(t.x)}px`),t.y!=null&&e.style.setProperty("top",`${Math.floor(t.y)}px`),(i=this.initialFocus)==null||i.focus(),this.initialFocus=void 0)}},jW=class extends HE{setAnchor(t,e){this.anchor=t,this.fallbackAnchor=e,this.updatePosition(t),this.repositionWithinBounds()}showWithChildren(t,e){const i=e.anchor??this.anchor,n=e.fallbackAnchor??this.fallbackAnchor,s=super.showWithChildren(t,e);return i&&this.setAnchor(i,n),Qe().requestAnimationFrame(()=>{this.repositionWithinBounds()}),s}repositionWithinBounds(){const{anchor:t,ctx:e,fallbackAnchor:i}=this,n=this.getPopoverElement();if(!t||!n)return;const s=e.domManager.getBoundingClientRect(),{offsetWidth:a,offsetHeight:o}=n;let r=qt(0,t.x,s.width-a),l=qt(0,t.y,s.height-o);r!==t.x&&(i==null?void 0:i.x)!=null&&(r=qt(0,i.x-a,s.width-a)),l!==t.y&&(i==null?void 0:i.y)!=null&&(l=qt(0,i.y-o,s.height-o)),this.updatePosition({x:r,y:l})}},$ct=class extends jW{show(e){const i=e.items.map(s=>this.createRow(e,s)),n=this.showWithChildren(i,e);n.classList.add("ag-charts-menu"),n.setAttribute("role","menu"),this.menuCloser=EU({orientation:"vertical",menu:n,buttons:i,sourceEvent:e.sourceEvent,closeCallback:()=>this.hide()}),this.hideFns.push(()=>{var s;(s=this.menuCloser)==null||s.finishClosing(),this.menuCloser=void 0})}createRow(e,i){const{menuItemRole:n="menuitem"}=e,s=i.value===e.value,a=ae("div","ag-charts-menu__row");if(a.setAttribute("role",n),n==="menuitemradio"&&a.setAttribute("aria-checked",(e.value===i.value).toString()),typeof i.value=="string"&&(a.dataset.popoverId=i.value),a.classList.toggle("ag-charts-menu__row--active",s),i.icon!=null){const c=ae("span",`ag-charts-menu__icon ${fA(i.icon)}`);a.appendChild(c)}const o=i.strokeWidth!=null;if(o&&(a.classList.toggle("ag-charts-menu__row--stroke-width-visible",o),a.style.setProperty("--strokeWidth",o?`${i.strokeWidth}px`:null)),i.label!=null){const c=ae("span","ag-charts-menu__label");c.textContent=this.ctx.localeManager.t(i.label),a.appendChild(c)}"altText"in i&&(a.ariaLabel=this.ctx.localeManager.t(i.altText));const r=()=>{var c;(c=e.onPress)==null||c.call(e,i)},l=c=>{CN(c)&&(r(),c.preventDefault(),c.stopPropagation())};return a.addEventListener("keydown",l),a.addEventListener("click",l),a.addEventListener("mousemove",()=>{a.focus({preventScroll:!0})}),a}},FW=class extends HE{constructor(){super(...arguments),this.dragged=!1}setDragHandle(e){e.addListener("drag-start",i=>{e.addClass(this.dragHandleDraggingClass),this.onDragStart(i)}),e.addListener("drag-move",this.onDragMove.bind(this)),e.addListener("drag-end",()=>{e.removeClass(this.dragHandleDraggingClass),this.onDragEnd.bind(this)})}onDragStart(e){const i=this.getPopoverElement();i&&(e.sourceEvent.preventDefault(),this.dragged=!0,this.dragStartState={client:Nf.from(e.clientX,e.clientY),position:Nf.from(Number(i.style.getPropertyValue("left").replace("px","")),Number(i.style.getPropertyValue("top").replace("px","")))})}onDragMove(e){const{dragStartState:i}=this,n=this.getPopoverElement();if(!i||!n)return;const s=Nf.sub(Nf.from(e.clientX,e.clientY),i.client),a=Nf.add(i.position,s),o=this.ctx.domManager.getBoundingClientRect(),r={};a.x>=o.x&&a.x+n.offsetWidth<=o.width&&(r.x=a.x),a.y>=o.y&&a.y+n.offsetHeight<=o.height&&(r.y=a.y),this.updatePosition(r)}onDragEnd(){this.dragStartState=void 0}},Mb=class extends Zt{};N([w(Dt,{optional:!0})],Mb.prototype,"icon",2);N([w(Dt,{optional:!0})],Mb.prototype,"label",2);N([w(Dt,{optional:!0})],Mb.prototype,"ariaLabel",2);N([w(Dt,{optional:!0})],Mb.prototype,"tooltip",2);var GW=class extends ib{constructor(e){super(),this.localeManager=e}update(e){const{localeManager:i}=this;e.tooltip&&(this.elem.title=i.t(e.tooltip));let n="";if(e.icon!=null&&(n=`<span class="${fA(e.icon)} ag-charts-toolbar__icon"></span>`),e.label!=null){const s=i.t(e.label);n=`${n}<span class="ag-charts-toolbar__label">${s}</span>`}this.elem.innerHTML=n}setChecked(e){_e(this.elem,"aria-checked",e)}},W_="ag-charts-toolbar__button--active",WE=class extends xA{constructor(t,e="horizontal"){super(e),this.localeManager=t,this.horizontalSpacing=10,this.verticalSpacing=10,this.events=new kc,this.hasPrefix=!1,this.buttonWidgets=[],this.addClass("ag-charts-toolbar"),this.toggleClass("ag-charts-toolbar--horizontal",e==="horizontal"),this.toggleClass("ag-charts-toolbar--vertical",e==="vertical")}addToolbarListener(t,e){return this.events.addListener(t,e)}clearButtons(){for(const t of this.buttonWidgets)t.destroy();this.buttonWidgets.splice(0)}updateButtons(t){const{buttonWidgets:e}=this;for(const[i,n]of t.entries())(this.buttonWidgets.at(i)??this.createButton(i,n)).update(n);for(let i=t.length;i<e.length;i++){const n=this.buttonWidgets.at(i);n==null||n.destroy()}this.buttonWidgets.splice(t.length),this.refreshButtonClasses()}updateButtonByIndex(t,e){var i;(i=this.buttonWidgets.at(t))==null||i.update(e)}clearActiveButton(){for(const t of this.buttonWidgets)t.toggleClass(W_,!1)}toggleActiveButtonByIndex(t){if(t!==-1)for(const[e,i]of this.buttonWidgets.entries())i.toggleClass(W_,t!=null&&t===e)}toggleButtonEnabledByIndex(t,e){var i;t!==-1&&((i=this.buttonWidgets.at(t))==null||i.setEnabled(e))}toggleSwitchCheckedByIndex(t,e){var i;t!==-1&&((i=this.buttonWidgets.at(t))==null||i.setChecked(e))}getButtonBounds(){return this.buttonWidgets.map(t=>this.getButtonWidgetBounds(t))}setButtonHiddenByIndex(t,e){var i;(i=this.buttonWidgets.at(t))==null||i.setHidden(e)}getButtonWidgetBounds(t){const e=this.getBounds(),i=t.getBounds();return new Et(i.x+e.x,i.y+e.y,i.width,i.height)}refreshButtonClasses(){var a;const{buttonWidgets:t,hasPrefix:e}=this;let i,n,s;for(const[o,r]of t.entries())i=!e&&o===0||s!=r.section,n=o===t.length-1||r.section!=((a=t.at(o+1))==null?void 0:a.section),r.toggleClass("ag-charts-toolbar__button--first",i),r.toggleClass("ag-charts-toolbar__button--last",n),r.toggleClass("ag-charts-toolbar__button--gap",o>0&&i),s=r.section}createButton(t,e){const i=this.createButtonWidget();return i.addClass("ag-charts-toolbar__button"),i.addListener("click",n=>{const s={index:t,...e instanceof Zt?e.toJson():e},a=this.getButtonWidgetBounds(i);this.events.dispatch("button-pressed",{event:n,button:s,buttonBounds:a})}),i.addListener("focus",()=>{this.events.dispatch("button-focused",{button:{index:t}})}),e.section&&(i.section=e.section),this.buttonWidgets.push(i),this.addChild(i),i}},Kct=class extends WE{createButtonWidget(){return new GW(this.localeManager)}},Xct=class extends FW{constructor(t,e,i){super(t,e),this.onPopoverMoved=i,this.dragHandleDraggingClass="ag-charts-floating-toolbar__drag-handle--dragging"}show(t,e){this.showWithChildren(t,{...e,class:"ag-charts-floating-toolbar"})}hide(){this.dragged=!1,super.hide()}getBounds(){const t=this.getPopoverElement();return new Et((t==null?void 0:t.offsetLeft)??0,(t==null?void 0:t.offsetTop)??0,(t==null?void 0:t.offsetWidth)??0,(t==null?void 0:t.offsetHeight)??0)}hasBeenDragged(){return this.dragged}setAnchor(t,e,i){const n=this.getPopoverElement();if(!n)return;const s=t.position??"above",{offsetWidth:a,offsetHeight:o}=n;let r=t.y-o-i,l=t.x-a/2;s==="below"?r=t.y+i:s==="right"?(r=t.y-o/2,l=t.x+e):s==="above-left"&&(l=t.x),this.updatePosition({x:l,y:r})}ignorePointerEvents(){const t=this.getPopoverElement();t&&(t.style.pointerEvents="none")}capturePointerEvents(){const t=this.getPopoverElement();t&&(t.style.pointerEvents="unset")}updatePosition(t){const e=this.getBounds(),i=this.ctx.domManager.getBoundingClientRect();t.x=Math.floor(qt(0,t.x,i.width-e.width)),t.y=Math.floor(qt(0,t.y,i.height-e.height)),super.updatePosition(t),this.onPopoverMoved()}},Zct=class extends WE{constructor(e,i){super(e.localeManager),this.hasPrefix=!0,this.popover=new Xct(e,i,this.onPopoverMoved.bind(this)),this.dragHandle=new qct(e.localeManager.t("toolbarAnnotationsDragHandle")),this.popover.setDragHandle(this.dragHandle)}show(e){this.popover.show([this.dragHandle.getElement(),this.getElement()],e)}hide(){this.popover.hide()}setAnchor(e){this.popover.setAnchor(e,this.horizontalSpacing,this.verticalSpacing)}hasBeenDragged(){return this.popover.hasBeenDragged()}ignorePointerEvents(){this.popover.ignorePointerEvents()}capturePointerEvents(){this.popover.capturePointerEvents()}onPopoverMoved(){var n;const e=this.popover.getBounds();if((n=this.popoverBounds)!=null&&n.equals(e))return;this.popoverBounds=e.clone();const i=this.getButtonBounds();this.events.dispatch("toolbar-moved",{popoverBounds:e,buttonBounds:i})}getButtonWidgetBounds(e){const i=this.popover.getBounds(),n=super.getButtonWidgetBounds(e),s=this.dragHandle.getBounds();return new Et(n.x+i.x-s.width,n.y+i.y,n.width,n.height)}},qct=class extends eg{constructor(e){super(ae("div","ag-charts-floating-toolbar__drag-handle"));const i=new eg(ae("span",`${fA("drag-handle")} ag-charts-toolbar__icon`));i.setAriaHidden(!0),this.addChild(i),this.elem.title=e}},Qct={...U5,...CV};wo.create.bind(wo),wo.__createSparkline.bind(wo);function Y_(t,e){return{...t,container:e.current}}function Jct(t,e){const i=ot.forwardRef(function(s,a){const{options:o,style:r,className:l}=s,c=ot.useRef(null),h=ot.useRef();ot.useLayoutEffect(()=>{const f=t(Y_(o,c));return h.current=f,()=>{f.destroy()}},[]);const p=h.current===void 0;return ot.useEffect(()=>{var f;p||(f=h.current)==null||f.update(Y_(o,c)).catch(y=>console.error(y))},[o]),ot.useImperativeHandle(a,()=>h.current,[]),ot.useMemo(()=>ot.createElement("div",{ref:c,style:r,className:l}),[r,l])});return i.displayName=e,i}var tut=Jct(t=>wo.createGauge(t),"AgGauge"),VW=Object.defineProperty,eut=(t,e)=>{for(var i in e)VW(t,i,{get:e[i],enumerable:!0})},A=(t,e,i,n)=>{for(var s=void 0,a=t.length-1,o;a>=0;a--)(o=t[a])&&(s=o(e,i,s)||s);return s&&VW(e,i,s),s},iut=class{constructor(){this.ieCompatibility=!1}init(){this.ieCompatibility=this.md5("hello")!="5d41402abc4b2a76b9719d911017c592"}md5cycle(t,e){let i=t[0],n=t[1],s=t[2],a=t[3];i=this.ff(i,n,s,a,e[0],7,-680876936),a=this.ff(a,i,n,s,e[1],12,-389564586),s=this.ff(s,a,i,n,e[2],17,606105819),n=this.ff(n,s,a,i,e[3],22,-1044525330),i=this.ff(i,n,s,a,e[4],7,-176418897),a=this.ff(a,i,n,s,e[5],12,1200080426),s=this.ff(s,a,i,n,e[6],17,-1473231341),n=this.ff(n,s,a,i,e[7],22,-45705983),i=this.ff(i,n,s,a,e[8],7,1770035416),a=this.ff(a,i,n,s,e[9],12,-1958414417),s=this.ff(s,a,i,n,e[10],17,-42063),n=this.ff(n,s,a,i,e[11],22,-1990404162),i=this.ff(i,n,s,a,e[12],7,1804603682),a=this.ff(a,i,n,s,e[13],12,-40341101),s=this.ff(s,a,i,n,e[14],17,-1502002290),n=this.ff(n,s,a,i,e[15],22,1236535329),i=this.gg(i,n,s,a,e[1],5,-165796510),a=this.gg(a,i,n,s,e[6],9,-1069501632),s=this.gg(s,a,i,n,e[11],14,643717713),n=this.gg(n,s,a,i,e[0],20,-373897302),i=this.gg(i,n,s,a,e[5],5,-701558691),a=this.gg(a,i,n,s,e[10],9,38016083),s=this.gg(s,a,i,n,e[15],14,-660478335),n=this.gg(n,s,a,i,e[4],20,-405537848),i=this.gg(i,n,s,a,e[9],5,568446438),a=this.gg(a,i,n,s,e[14],9,-1019803690),s=this.gg(s,a,i,n,e[3],14,-187363961),n=this.gg(n,s,a,i,e[8],20,1163531501),i=this.gg(i,n,s,a,e[13],5,-1444681467),a=this.gg(a,i,n,s,e[2],9,-51403784),s=this.gg(s,a,i,n,e[7],14,1735328473),n=this.gg(n,s,a,i,e[12],20,-1926607734),i=this.hh(i,n,s,a,e[5],4,-378558),a=this.hh(a,i,n,s,e[8],11,-2022574463),s=this.hh(s,a,i,n,e[11],16,1839030562),n=this.hh(n,s,a,i,e[14],23,-35309556),i=this.hh(i,n,s,a,e[1],4,-1530992060),a=this.hh(a,i,n,s,e[4],11,1272893353),s=this.hh(s,a,i,n,e[7],16,-155497632),n=this.hh(n,s,a,i,e[10],23,-1094730640),i=this.hh(i,n,s,a,e[13],4,681279174),a=this.hh(a,i,n,s,e[0],11,-358537222),s=this.hh(s,a,i,n,e[3],16,-722521979),n=this.hh(n,s,a,i,e[6],23,76029189),i=this.hh(i,n,s,a,e[9],4,-640364487),a=this.hh(a,i,n,s,e[12],11,-421815835),s=this.hh(s,a,i,n,e[15],16,530742520),n=this.hh(n,s,a,i,e[2],23,-995338651),i=this.ii(i,n,s,a,e[0],6,-198630844),a=this.ii(a,i,n,s,e[7],10,1126891415),s=this.ii(s,a,i,n,e[14],15,-1416354905),n=this.ii(n,s,a,i,e[5],21,-57434055),i=this.ii(i,n,s,a,e[12],6,1700485571),a=this.ii(a,i,n,s,e[3],10,-1894986606),s=this.ii(s,a,i,n,e[10],15,-1051523),n=this.ii(n,s,a,i,e[1],21,-2054922799),i=this.ii(i,n,s,a,e[8],6,1873313359),a=this.ii(a,i,n,s,e[15],10,-30611744),s=this.ii(s,a,i,n,e[6],15,-1560198380),n=this.ii(n,s,a,i,e[13],21,1309151649),i=this.ii(i,n,s,a,e[4],6,-145523070),a=this.ii(a,i,n,s,e[11],10,-1120210379),s=this.ii(s,a,i,n,e[2],15,718787259),n=this.ii(n,s,a,i,e[9],21,-343485551),t[0]=this.add32(i,t[0]),t[1]=this.add32(n,t[1]),t[2]=this.add32(s,t[2]),t[3]=this.add32(a,t[3])}cmn(t,e,i,n,s,a){return e=this.add32(this.add32(e,t),this.add32(n,a)),this.add32(e<<s|e>>>32-s,i)}ff(t,e,i,n,s,a,o){return this.cmn(e&i|~e&n,t,e,s,a,o)}gg(t,e,i,n,s,a,o){return this.cmn(e&n|i&~n,t,e,s,a,o)}hh(t,e,i,n,s,a,o){return this.cmn(e^i^n,t,e,s,a,o)}ii(t,e,i,n,s,a,o){return this.cmn(i^(e|~n),t,e,s,a,o)}md51(t){const e=t.length,i=[1732584193,-271733879,-1732584194,271733878];let n;for(n=64;n<=t.length;n+=64)this.md5cycle(i,this.md5blk(t.substring(n-64,n)));t=t.substring(n-64);const s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(n=0;n<t.length;n++)s[n>>2]|=t.charCodeAt(n)<<(n%4<<3);if(s[n>>2]|=128<<(n%4<<3),n>55)for(this.md5cycle(i,s),n=0;n<16;n++)s[n]=0;return s[14]=e*8,this.md5cycle(i,s),i}md5blk(t){const e=[];for(let i=0;i<64;i+=4)e[i>>2]=t.charCodeAt(i)+(t.charCodeAt(i+1)<<8)+(t.charCodeAt(i+2)<<16)+(t.charCodeAt(i+3)<<24);return e}rhex(t){const e="0123456789abcdef".split("");let i="",n=0;for(;n<4;n++)i+=e[t>>n*8+4&15]+e[t>>n*8&15];return i}hex(t){for(let e=0;e<t.length;e++)t[e]=this.rhex(t[e]);return t.join("")}md5(t){return this.hex(this.md51(t))}add32(t,e){return this.ieCompatibility?this.add32Compat(t,e):this.add32Std(t,e)}add32Std(t,e){return t+e&4294967295}add32Compat(t,e){const i=(t&65535)+(e&65535);return(t>>16)+(e>>16)+(i>>16)<<16|i&65535}};function s1(t){return t==null||t.length===0}var Ev={"01":"GRID","02":"CHARTS","0102":"BOTH"},$_="https://www.ag-grid.com/charts/licensing/",YE=class hn{constructor(e){this.watermarkMessage=void 0,this.totalMessageLength=124,this.document=e,this.md5=new iut,this.md5.init()}validateLicense(){const e=this.getLicenseDetails(hn.licenseKey,hn.gridContext),i=`AG ${e.currentLicenseType==="BOTH"?"Grid and ":""}Charts Enterprise`;let n="";if(e.suppliedLicenseType==="BOTH"?n="AG Grid and AG Charts Enterprise":e.suppliedLicenseType==="GRID"?n="AG Grid Enterprise":e.suppliedLicenseType!==void 0&&(n="AG Charts Enterprise"),e.missing)(!this.isWebsiteUrl()||this.isForceWatermark())&&this.outputMissingLicenseKey(i);else if(e.expired){const s=hn.getChartsReleaseDate(),a=hn.formatDate(s);this.outputExpiredKey(e.expiry,a,n)}else e.valid?e.isTrial&&e.trialExpired&&this.outputExpiredTrialKey(e.expiry,i,n):this.outputInvalidLicenseKey(!!e.incorrectLicenseType,i,n)}static extractExpiry(e){const i=e.substring(e.lastIndexOf("_")+1,e.length);return new Date(parseInt(hn.decode(i),10))}static extractLicenseComponents(e){let i=e.replace(/[\u200B-\u200D\uFEFF]/g,"");if(i=i.replace(/\r?\n|\r/g,""),e.length<=32)return{md5:null,license:e,version:null,isTrial:null};const n=i.length-32,s=i.substring(n),a=i.substring(0,n),[o,r,l]=hn.extractBracketedInformation(i);return{md5:s,license:a,version:o,isTrial:r,type:l}}getLicenseDetails(e,i=!1){const n="CHARTS";if(s1(e))return{licenseKey:e,valid:!1,missing:!0,currentLicenseType:n};const s=hn.getChartsReleaseDate(),{md5:a,license:o,version:r,isTrial:l,type:c}=hn.extractLicenseComponents(e);let h=a===this.md5.md5(o)&&e.indexOf("For_Trialing_ag-Grid_Only")===-1,p,f,y=null,m=!1,b;function v(){p=y<new Date,f=void 0}if(h&&(y=hn.extractExpiry(o),h=!isNaN(y.getTime()),h))switch(f=s>y,r){case"legacy":case"2":{h=!1;break}case"3":s1(c)?h=!1:(b=c,c!==Ev["02"]&&c!==Ev["0102"]?(h=!1,m=!0):l&&v())}return h?{licenseKey:e,valid:h,expiry:hn.formatDate(y),expired:f,version:r,isTrial:l,trialExpired:p,invalidLicenseTypeForCombo:i?b!=="BOTH":void 0,incorrectLicenseType:m,currentLicenseType:n,suppliedLicenseType:b}:{licenseKey:e,valid:h,incorrectLicenseType:m,currentLicenseType:n,suppliedLicenseType:b}}isDisplayWatermark(){return this.isForceWatermark()||!this.isLocalhost()&&!this.isWebsiteUrl()&&!s1(this.watermarkMessage)}getWatermarkMessage(){return this.watermarkMessage??""}getHostname(){if(!this.document)return"localhost";const e=this.document.defaultView??window;if(!e)return"localhost";const i=e.location,{hostname:n=""}=i;return n}isForceWatermark(){var n;if(!this.document)return!1;const e=((n=this.document)==null?void 0:n.defaultView)??typeof window<"u"?window:void 0;if(!e)return!1;const{pathname:i}=e.location;return i?i.indexOf("forceWatermark")!==-1:!1}isWebsiteUrl(){const e=this.getHostname();return/^((?:[\w-]+\.)?ag-grid\.com)$/.exec(e)!==null}isLocalhost(){const e=this.getHostname();return/^(?:127\.0\.0\.1|localhost)$/.exec(e)!==null}static formatDate(e){const i=["January","February","March","April","May","June","July","August","September","October","November","December"],n=e.getDate(),s=e.getMonth(),a=e.getFullYear();return n+" "+i[s]+" "+a}static getChartsReleaseDate(){return new Date(parseInt(hn.decode(hn.RELEASE_INFORMATION),10))}static decode(e){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",s,a,o,r,l,c,h,p=0;const f=e.replace(/[^A-Za-z0-9+/=]/g,"");for(;p<f.length;)r=i.indexOf(f.charAt(p++)),l=i.indexOf(f.charAt(p++)),c=i.indexOf(f.charAt(p++)),h=i.indexOf(f.charAt(p++)),s=r<<2|l>>4,a=(l&15)<<4|c>>2,o=(c&3)<<6|h,n=n+String.fromCharCode(s),c!=64&&(n=n+String.fromCharCode(a)),h!=64&&(n=n+String.fromCharCode(o));return n=hn.utf8_decode(n),n}static utf8_decode(e){e=e.replace(/rn/g,"n");let i="";for(let n=0;n<e.length;n++){const s=e.charCodeAt(n);s<128?i+=String.fromCharCode(s):s>127&&s<2048?(i+=String.fromCharCode(s>>6|192),i+=String.fromCharCode(s&63|128)):(i+=String.fromCharCode(s>>12|224),i+=String.fromCharCode(s>>6&63|128),i+=String.fromCharCode(s&63|128))}return i}static setGridContext(e=!1){hn.gridContext=e}static setLicenseKey(e){hn.licenseKey=e}static extractBracketedInformation(e){if(!e.includes("["))return["legacy",!1,void 0];const i=e.match(/\[(.*?)\]/g).map(r=>r.replace("[","").replace("]",""));if(!i||i.length===0)return["legacy",!1,void 0];const n=i.filter(r=>r==="TRIAL").length===1,s=i.filter(r=>r.startsWith("v"))[0],a=s?s.replace("v",""):"legacy",o=Ev[i.filter(r=>Ev[r])[0]];return[a,n,o]}centerPadAndOutput(e){const i=this.totalMessageLength-e.length;console.error(e.padStart(i/2+e.length,"*").padEnd(this.totalMessageLength,"*"))}padAndOutput(e,i="*",n=""){console.error(e.padEnd(this.totalMessageLength-n.length,i)+n)}outputInvalidLicenseKey(e,i,n){hn.gridContext||(e?(this.centerPadAndOutput(""),this.centerPadAndOutput(` ${i} License `),this.centerPadAndOutput(" Incompatible License Key "),this.padAndOutput(`* Your license key is for ${n} only and does not cover you for ${i}.`," ","*"),this.padAndOutput(`* To troubleshoot your license key visit ${$_}.`," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput("")):(this.centerPadAndOutput(""),this.centerPadAndOutput(` ${i} License `),this.centerPadAndOutput(" Invalid License Key "),this.padAndOutput("* Your license key is not valid."," ","*"),this.padAndOutput(`* To troubleshoot your license key visit ${$_}.`," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput(""))),this.watermarkMessage="Invalid License"}outputExpiredTrialKey(e,i,n){hn.gridContext||(this.centerPadAndOutput(""),this.centerPadAndOutput(` ${i} License `),this.centerPadAndOutput(" Trial Period Expired. "),this.padAndOutput(`* Your trial only license for ${n} expired on ${e}.`," ","*"),this.padAndOutput("* Please email info@ag-grid.com to purchase a license."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput("")),this.watermarkMessage="Trial Period Expired"}outputMissingLicenseKey(e){hn.gridContext||(this.centerPadAndOutput(""),this.centerPadAndOutput(` ${e} License `),this.centerPadAndOutput(" License Key Not Found "),this.padAndOutput(`* All ${e} features are unlocked for trial.`," ","*"),this.padAndOutput("* If you want to hide the watermark please email info@ag-grid.com for a trial license key."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput("")),this.watermarkMessage="For Trial Use Only"}outputExpiredKey(e,i,n){hn.gridContext||(this.centerPadAndOutput(""),this.centerPadAndOutput(` ${n} License `),this.centerPadAndOutput(" Incompatible Software Version "),this.padAndOutput(`* Your license key works with versions of ${n} released before ${e}.`," ","*"),this.padAndOutput(`* The version you are trying to use was released on ${i}.`," ","*"),this.padAndOutput("* Please contact info@ag-grid.com to renew your license key."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput("")),this.watermarkMessage="License Expired"}};YE.RELEASE_INFORMATION="MTczOTI4MjAzOTc3OA==";YE.gridContext=!1;var Om=YE;function a1(t,e,i){const n=(a,o,r,l)=>{let c=t[0];for(let h=a;r>0?h<=o:h>o;h+=r){const p=t[h];if(l(c,p))return!0;c=p}return!1},s=Math.floor(t.length/2);return n(e,s,e,i)?!0:n(t.length-e,s,-e,i)}var{OR:nut,POSITIVE_NUMBER:sut,NAN:aut,AxisInterval:out,Validate:rut}=z,$E=class extends out{constructor(){super(...arguments),this.minSpacing=NaN}};A([rut(nut(sut,aut))],$E.prototype,"minSpacing");var{BaseProperties:UW,ChartAxisDirection:lut,ARRAY:cut,BOOLEAN:KE,COLOR_STRING:XE,FONT_STYLE:uut,FONT_WEIGHT:hut,LINE_DASH:dut,NUMBER:HW,OBJECT:put,POSITIVE_NUMBER:fut,RATIO:WW,STRING:YW,UNION:$W,AND:gut,Validate:qi,MATCHING_CROSSLINE_TYPE:KW,createId:yut,Group:o1}=z,Ar=class extends UW{constructor(){super(...arguments),this.fontSize=14,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)"}};A([qi(KE,{optional:!0})],Ar.prototype,"enabled");A([qi(YW,{optional:!0})],Ar.prototype,"text");A([qi(uut,{optional:!0})],Ar.prototype,"fontStyle");A([qi(hut,{optional:!0})],Ar.prototype,"fontWeight");A([qi(fut)],Ar.prototype,"fontSize");A([qi(YW)],Ar.prototype,"fontFamily");A([qi(HW)],Ar.prototype,"padding");A([qi(XE,{optional:!0})],Ar.prototype,"color");A([qi(KE,{optional:!0})],Ar.prototype,"parallel");var Ia=class extends UW{constructor(){super(...arguments),this.id=yut(this),this.shape="polygon",this.label=new Ar,this.scale=void 0,this.clippedRange=[-1/0,1/0],this.gridLength=0,this.sideFlag=-1,this.parallelFlipRotation=0,this.regularFlipRotation=0,this.direction=lut.X,this.axisInnerRadius=0,this.axisOuterRadius=0,this.lineGroup=new o1({name:this.id}),this.rangeGroup=new o1({name:this.id}),this.labelGroup=new o1({name:this.id}),this._isRange=void 0}assignCrossLineGroup(t,e){t!==this._isRange&&(t?this.rangeGroup.appendChild(e):this.lineGroup.appendChild(e)),this._isRange=t}setSectorNodeProps(t){t.fill=this.fill,t.fillOpacity=this.fillOpacity??1,t.stroke=this.stroke,t.strokeOpacity=this.strokeOpacity??1,t.strokeWidth=this.strokeWidth??1,t.lineDash=this.lineDash}setLabelNodeProps(t,e,i,n,s){const{label:a}=this;t.x=e,t.y=i,t.text=a.text,t.textAlign="center",t.textBaseline=n,t.rotation=s,t.rotationCenterX=e,t.rotationCenterY=i,t.fill=a.color,t.fontFamily=a.fontFamily,t.fontSize=a.fontSize,t.fontStyle=a.fontStyle,t.visible=!0}};A([qi(KE,{optional:!0})],Ia.prototype,"enabled");A([qi($W(["range","line"],"a crossLine type"),{optional:!0})],Ia.prototype,"type");A([qi(gut(KW("range"),cut.restrict({length:2})),{optional:!0})],Ia.prototype,"range");A([qi(KW("value"),{optional:!0})],Ia.prototype,"value");A([qi(XE,{optional:!0})],Ia.prototype,"fill");A([qi(WW,{optional:!0})],Ia.prototype,"fillOpacity");A([qi(XE,{optional:!0})],Ia.prototype,"stroke");A([qi(HW,{optional:!0})],Ia.prototype,"strokeWidth");A([qi(WW,{optional:!0})],Ia.prototype,"strokeOpacity");A([qi(dut,{optional:!0})],Ia.prototype,"lineDash");A([qi($W(["polygon","circle"],"a shape"))],Ia.prototype,"shape");A([qi(put)],Ia.prototype,"label");var{ChartAxisDirection:mut,validateCrossLineValues:xut,normalizeAngle360:r1,isNumberEqual:K_,Group:but,Path:X_,Sector:vut,RotatableText:Sut,ContinuousScale:Mut,BandScale:Aut}=z,ZE=class extends Ia{constructor(){super(),this.direction=mut.X,this.polygonNode=new X_,this.sectorNode=new vut,this.lineNode=new X_,this.crossLineRange=new but,this.labelNode=new Sut,this.ticks=[],this.crossLineRange.append(this.polygonNode),this.crossLineRange.append(this.sectorNode),this.crossLineRange.append(this.lineNode),this.labelGroup.append(this.labelNode)}update(t){const{scale:e,shape:i,type:n,value:s,range:a}=this;if(!e||!n||!xut(n,s,a,e,()=>{if(!Mut.is(e))return!0;const[r,l]=a??[s,void 0],{domain:c}=e;return r>=c[0]&&r<=c[1]&&(n==="line"||l>=r&&l<=c[1])})){this.rangeGroup.visible=!1,this.lineGroup.visible=!1,this.labelGroup.visible=!1;return}this.rangeGroup.visible=t,this.lineGroup.visible=t,this.labelGroup.visible=t,n==="line"&&i==="circle"&&Aut.is(e)&&(this.type="range",this.range=[s,s]),this.updateLineNode(t),this.updatePolygonNode(t),this.updateSectorNode(t),this.updateLabelNode(t)}updateLineNode(t){const{scale:e,type:i,value:n,lineNode:s}=this;if(!t||i!=="line"||!e){s.visible=!1;return}const a=e.convert(n);if(isNaN(a)){s.visible=!1;return}const{axisInnerRadius:o,axisOuterRadius:r}=this;s.visible=!0,s.stroke=this.stroke,s.strokeOpacity=this.strokeOpacity??1,s.strokeWidth=this.strokeWidth??1,s.fill=void 0,s.lineDash=this.lineDash;const l=r*Math.cos(a),c=r*Math.sin(a),h=o*Math.cos(a),p=o*Math.sin(a);s.path.clear(!0),s.path.moveTo(h,p),s.path.lineTo(l,c),this.assignCrossLineGroup(!1,this.crossLineRange)}updatePolygonNode(t){const{polygonNode:e,range:i,scale:n,shape:s,type:a,ticks:o}=this;if(!t||a!=="range"||s!=="polygon"||!n||!i){e.visible=!1;return}const{axisInnerRadius:r,axisOuterRadius:l}=this,c=o.indexOf(i[0]),h=o.indexOf(i[1]),f=(c<=h?o.slice(c,h+1):o.slice(c).concat(o.slice(0,h+1))).map(m=>n.convert(m));e.visible=!0,this.setSectorNodeProps(e);const{path:y}=e;y.clear(!0),f.forEach((m,b)=>{const v=l*Math.cos(m),S=l*Math.sin(m);b===0?y.moveTo(v,S):y.lineTo(v,S)}),r===0?y.lineTo(0,0):f.slice().reverse().forEach(m=>{const b=r*Math.cos(m),v=r*Math.sin(m);y.lineTo(b,v)}),e.path.closePath(),this.assignCrossLineGroup(!0,this.crossLineRange)}updateSectorNode(t){const{sectorNode:e,range:i,scale:n,shape:s,type:a}=this;if(!t||a!=="range"||s!=="circle"||!n||!i){e.visible=!1;return}const{axisInnerRadius:o,axisOuterRadius:r}=this,l=i.map(p=>n.convert(p)),c=n.step??0,h=n instanceof z.BandScale?c/2:0;e.visible=!0,this.setSectorNodeProps(e),e.centerX=0,e.centerY=0,e.innerRadius=o,e.outerRadius=r,e.startAngle=l[0]-h,e.endAngle=l[1]+h,this.assignCrossLineGroup(!0,this.crossLineRange)}updateLabelNode(t){const{label:e,labelNode:i,range:n,scale:s,type:a,ticks:o}=this;if(!t||e.enabled===!1||!e.text||!s||a==="range"&&!n){i.visible=!1;return}i.visible=!0;const{axisInnerRadius:r,axisOuterRadius:l}=this;let c,h,p,f;if(a==="line"){const y=r1(s.convert(this.value)),m=1.5*Math.PI,b=K_(y,m)||y>m||y<Math.PI/2,v=(r+l)/2*Math.cos(y),S=(r+l)/2*Math.sin(y);c=v+e.padding*Math.cos(y+Math.PI/2),h=S+e.padding*Math.sin(y+Math.PI/2),f=b?"top":"bottom",p=b?y:y-Math.PI}else{const[y,m]=n.map(D=>r1(s.convert(D)));let b=(y+m)/2;y>m&&(b-=Math.PI),b=r1(b);const v=(K_(b,0)||b>0)&&b<Math.PI;let S;this.shape==="circle"||o.length<3?S=l-e.padding:S=l*Math.cos(Math.PI/o.length)-e.padding,c=S*Math.cos(b),h=S*Math.sin(b),f=v?"bottom":"top",p=v?b-Math.PI/2:b+Math.PI/2}this.setLabelNodeProps(i,c,h,f,p)}};ZE.className="AngleCrossLine";var{ChartAxisDirection:Dut,NUMBER:XW,UNION:Iut,ProxyOnWrite:Tut,TextWrapper:Cut,TextUtils:kut,Validate:qE,isNumberEqual:gf,toRadians:Ov,normalizeAngle360:yf,normalizeAngle360Inclusive:Lut,Path:Nut,RotatableText:Eut,Transformable:Out,BBox:wut}=z,tL=class extends z.AxisLabel{constructor(){super(...arguments),this.orientation="fixed"}};A([qE(Iut(["fixed","parallel","perpendicular"],"a label orientation"))],tL.prototype,"orientation");var Ab=class extends z.PolarAxis{constructor(t,e){super(t,e),this.startAngle=0,this.endAngle=void 0,this.labelData=[],this.tickData=[],this.radiusLine=this.axisGroup.appendChild(new Nut),this.includeInvisibleDomains=!0}get direction(){return Dut.X}createLabel(){return new tL}calculateTickLayout(t){const{nice:e,scale:i}=this,n={nice:e,interval:void 0,tickCount:void 0,minTickCount:0,maxTickCount:1/0},s=e?i.niceDomain(n,t):t,a=this.generateAngleTicks(s);this.tickData=a;const o=a.map(r=>r.value);return{niceDomain:s,primaryTickCount:void 0,tickDomain:s,ticks:o,fractionDigits:0,bbox:this.getBBox()}}update(){super.update(),this.updateRadiusLine()}normalizedAngles(){const t=yf(-Math.PI/2+Ov(this.startAngle)),e=this.endAngle!=null?Lut(Ov(this.endAngle)-Ov(this.startAngle)):2*Math.PI,i=t+e;return[t,i]}computeRange(){this.range=this.normalizedAngles()}updateSelections(){const t=this.tickData;this.gridLineGroupSelection.update(this.gridLength&&this.gridLine.enabled?t:[]),this.tickLineGroupSelection.update(this.tick.enabled?t:[]),this.tickLabelGroupSelection.update(this.label.enabled?t:[]),this.gridLineGroupSelection.cleanup(),this.tickLineGroupSelection.cleanup(),this.tickLabelGroupSelection.cleanup()}updatePosition(){const{translation:t,axisGroup:e,gridGroup:i,crossLineRangeGroup:n,crossLineLineGroup:s,crossLineLabelGroup:a}=this,o=Math.floor(t.x),r=Math.floor(t.y);e.translationX=o,e.translationY=r,i.translationX=o,i.translationY=r,n.translationX=o,n.translationY=r,s.translationX=o,s.translationY=r,a.translationX=o,a.translationY=r}updateRadiusLine(){const t=this.radiusLine,{path:e}=t;e.clear(!0);const{points:i,closePath:n}=this.getAxisLinePoints();i.forEach(({x:s,y:a,moveTo:o,arc:r,radius:l=0,startAngle:c=0,endAngle:h=0})=>{r?e.arc(s,a,l,c,h):o?e.moveTo(s,a):e.lineTo(s,a)}),n&&e.closePath(),t.visible=this.line.enabled,t.stroke=this.line.stroke,t.strokeWidth=this.line.width,t.fill=void 0}getAxisLinePoints(){var r;const{scale:t,shape:e,gridLength:i}=this,[n,s]=this.range,a=gf(s-n,2*Math.PI),o=[];if(e==="circle")a?o.push({x:i,y:0,moveTo:!0},{x:0,y:0,radius:i,startAngle:0,endAngle:2*Math.PI,arc:!0,moveTo:!1}):o.push({x:i*Math.cos(n),y:i*Math.sin(n),moveTo:!0},{x:0,y:0,radius:i,startAngle:yf(n),endAngle:yf(s),arc:!0,moveTo:!1});else if(e==="polygon"){const l=(r=t.ticks({nice:this.nice,interval:void 0,tickCount:void 0,minTickCount:0,maxTickCount:1/0}))==null?void 0:r.map(c=>t.convert(c));l&&l.length>2&&l.forEach((c,h)=>{const p=i*Math.cos(c),f=i*Math.sin(c),y=h===0;o.push({x:p,y:f,moveTo:y})})}return{points:o,closePath:a}}updateGridLines(){const{scale:t,gridLength:e,gridLine:{style:i,width:n},innerRadiusRatio:s}=this;if(!(i&&e>0))return;const a=e*s,o=i.length;this.gridLineGroupSelection.each((r,l,c)=>{const{value:h}=l,{stroke:p,lineDash:f}=i[c%o],y=t.convert(h);r.x1=a*Math.cos(y),r.y1=a*Math.sin(y),r.x2=e*Math.cos(y),r.y2=e*Math.sin(y),r.stroke=p,r.strokeWidth=n,r.lineDash=f,r.fill=void 0}),this.gridLineGroupSelection.cleanup()}updateLabels(){const{label:t,tickLabelGroupSelection:e}=this;e.each((i,n,s)=>{const a=this.labelData[s];if(!a||a.hidden){i.visible=!1;return}i.text=a.text,i.setFont(t),i.fill=t.color,i.x=a.x,i.y=a.y,i.textAlign=a.textAlign,i.textBaseline=a.textBaseline,i.visible=!0,a.rotation?(i.rotation=a.rotation,i.rotationCenterX=a.x,i.rotationCenterY=a.y):i.rotation=0})}updateTickLines(){const{scale:t,gridLength:e,tick:i,tickLineGroupSelection:n}=this;n.each((s,a)=>{const{value:o}=a,r=t.convert(o),l=Math.cos(r),c=Math.sin(r);s.x1=e*l,s.y1=e*c,s.x2=(e+i.size)*l,s.y2=(e+i.size)*c,s.stroke=i.stroke,s.strokeWidth=i.width})}createLabelNodeData(t,e,i){const{label:n,gridLength:s,scale:a,tick:o}=this;if(!n.enabled)return[];const r=new Eut,l=i.x-this.translation.x,c=i.x+i.width-this.translation.x,h=t.map((p,f)=>{const{value:y}=p,m=s+n.spacing+o.size,b=a.convert(y),v=Math.cos(b),S=Math.sin(b),D=m*v,I=m*S,{textAlign:T,textBaseline:k}=this.getLabelAlign(b),E=f===t.length-1&&y!==t[0]&&gf(yf(b),yf(a.convert(t[0]))),O=this.getLabelRotation(b);let B=String(y);if(n.formatter){const{callbackCache:L}=this.moduleCtx;B=L.call(n.formatter,{value:y,index:f})??""}r.text=B,r.x=D,r.y=I,r.setFont(n),r.textAlign=T,r.textBaseline=k,r.rotation=O,O&&(r.rotationCenterX=D,r.rotationCenterY=I);let R=O?Out.toCanvas(r):r.getBBox();if(R&&e.hideWhenNecessary&&!O){const L=l-R.x,F=R.x+R.width-c,j=1;if(L>j||F>j){const G=R.width-Math.max(L,F);B=Cut.wrapText(B,{maxWidth:G,font:n,textWrap:"never"}),B===kut.EllipsisChar&&(B=""),r.text=B,R=r.getBBox()}}return{text:B,x:D,y:I,textAlign:T,textBaseline:k,hidden:B===""||p.hidden||E,rotation:O,box:R}});return n.avoidCollisions&&this.avoidLabelCollisions(h),h}computeLabelsBBox(t,e){this.labelData=this.createLabelNodeData(this.tickData,t,e);const i=this.labelData.map(({box:n})=>n).filter(n=>n!=null);return!this.label.enabled||i.length===0?null:wut.merge(i)}getLabelOrientation(){const{label:t}=this;return t instanceof tL?t.orientation:"fixed"}getLabelRotation(t){let e=Ov(this.label.rotation??0);t=yf(t);const i=this.getLabelOrientation();return i==="parallel"?(e+=t,t>=0&&t<Math.PI?e-=Math.PI/2:e+=Math.PI/2):i==="perpendicular"&&(e+=t,t>=Math.PI/2&&t<1.5*Math.PI&&(e+=Math.PI)),e}getLabelAlign(t){const e=Math.cos(t),i=Math.sin(t);let n,s;const a=this.getLabelOrientation(),o=gf(e,0),r=gf(i,0),l=gf(e,1),c=gf(i,-1),h=e>0&&!o,p=i>0&&!r;return a==="parallel"?(n="center",s=l&&r||p?"top":"bottom"):a==="perpendicular"?(n=c||h?"left":"right",s="middle"):(n="right",o?n="center":h&&(n="left"),s="bottom",r?s="middle":p&&(s="top")),{textAlign:n,textBaseline:s}}updateCrossLines(){const{shape:t,gridLength:e,innerRadiusRatio:i}=this;this.crossLines.forEach(n=>{n instanceof ZE&&(n.ticks=this.tickData.map(s=>s.value),n.shape=t,n.axisOuterRadius=e,n.axisInnerRadius=e*i)}),super.updateCrossLines()}};Ab.CrossLineConstructor=ZE;A([Tut("rotation"),qE(XW)],Ab.prototype,"startAngle");A([qE(XW,{optional:!0})],Ab.prototype,"endAngle");var{RATIO:ZW,OBJECT:Rut,Validate:QE,isNumberEqual:Z_,CategoryScale:Put}=z,qd=class extends Ab{constructor(t){super(t,new Put),this.groupPaddingInner=0,this.paddingInner=0,this.interval=new $E}generateAngleTicks(){const{scale:t,gridLength:e}=this,{values:i,minSpacing:n}=this.interval,s=i??t.ticks({nice:this.nice,interval:void 0,tickCount:void 0,minTickCount:0,maxTickCount:1/0})??[];if(s.length<2||isNaN(n))return s.map(c=>({value:c,visible:!0}));const a=s[0],o=t.convert(a),r=e*Math.cos(o),l=e*Math.sin(o);for(let c=1;c<s.length-1;c++){const h=s[c],p=t.convert(h);if(p-o>Math.PI)break;const f=e*Math.cos(p),y=e*Math.sin(p);if(Math.sqrt((f-r)**2+(y-l)**2)>n){const b=new Set([a]);return a1(s,c,(v,S)=>{b.add(S)}),s.map(v=>{const S=b.has(v);return{value:v,visible:S}})}}return[{value:a,visible:!0}]}avoidLabelCollisions(t){let{minSpacing:e}=this.label;if(Number.isFinite(e)||(e=0),t.length<3)return;const i=(l,c)=>{if(l.hidden||c.hidden)return!1;const h=l.box.clone().grow(e/2),p=c.box.clone().grow(e/2);return h.collidesBBox(p)},n=t[0],s=t.at(-1),a=new Set([n]),o=Z_(n.x,s.x)&&Z_(n.y,s.y),r=Math.floor(t.length/2);for(let l=1;l<=r;l++){const c=o?t.slice(0,-1):t;if(!a1(c,l,i)){a1(c,l,(p,f)=>{a.add(f)});break}}t.forEach(l=>{a.has(l)||(l.hidden=!0,l.box=void 0)})}};qd.className="AngleCategoryAxis";qd.type="angle-category";A([QE(ZW)],qd.prototype,"groupPaddingInner");A([QE(ZW)],qd.prototype,"paddingInner");A([QE(Rut)],qd.prototype,"interval");var But={type:"axis",optionsKey:"axes[]",packageType:"enterprise",chartTypes:["polar"],identifier:"angle-category",moduleFactory:t=>new qd(t)},{range:q_,isDenseInterval:zut,isNumberEqual:_ut,LinearScale:l1}=z,jut=class eL extends l1{constructor(){super(...arguments),this.arcLength=0}static getNiceStepAndTickCount(e,i){const[n,s]=i;let a=l1.getTickStep(n,s,e);const o=isNaN(e.maxTickCount)?1/0:e.maxTickCount,r=Math.abs(s-n)/a;let l=Math.pow(2,Math.ceil(Math.log(r)/Math.log(2)));return l>o&&(l/=2,a*=2),{count:l,step:a}}ticks(e,i=this.domain){const{arcLength:n}=this;if(!i||i.length<2||i.some(c=>!isFinite(c))||n<=0)return[];const{nice:s,interval:a}=e,[o,r]=i;if(a){const c=Math.abs(a),h=this.getPixelRange();if(!zut((r-o)/c,h))return q_(o,r,c)}let l;if(s&&this.hasNiceRange()){const c=super.niceDomain(e,i);l=eL.getNiceStepAndTickCount(e,c).step}else l=l1.getTickStep(o,r,e);return q_(o,r,l)}hasNiceRange(){const e=this.range.slice().sort((n,s)=>n-s);return[Math.PI,2*Math.PI].some(n=>_ut(n,e[1]-e[0]))}niceDomain(e,i=this.domain){const n=super.niceDomain(e,i);if(!this.hasNiceRange())return n;const s=n[0]>n[1],a=s?n[1]:n[0],{step:o,count:r}=eL.getNiceStepAndTickCount(e,n),l=1/o,c=o>=1?Math.ceil(a/o+r)*o:Math.ceil((a+r*o)*l)/l;return s?[c,a]:[a,c]}getPixelRange(){return this.arcLength}},{AND:qW,Default:QW,GREATER_THAN:Fut,LESS_THAN:Gut,NUMBER_OR_NAN:JW,OBJECT:Vut,Validate:JE,angleBetween:Uut,isNumberEqual:Q_,normalisedExtentWithMetadata:Hut,findMinMax:Wut}=z,Cg=class extends Ab{constructor(t){super(t,new jut),this.shape="circle",this.min=NaN,this.max=NaN,this.interval=new $E}normaliseDataDomain(t){const{min:e,max:i}=this,{extent:n,clipped:s}=Hut(t,e,i);return{domain:n,clipped:s}}updateScale(){super.updateScale(),this.scale.arcLength=this.getRangeArcLength()}getRangeArcLength(){const{range:t}=this,e=Math.min(...t),i=Math.max(...t),n=Uut(e,i)||2*Math.PI,s=this.gridLength;return n*s}generateAngleTicks(t){const{scale:e,range:i,nice:n}=this,{values:s,step:a,minSpacing:o,maxSpacing:r}=this.interval;let l;if(s==null){const{arcLength:c}=e,h=r?Math.floor(c/r):1,p=o?Math.floor(c/o):1/0,f=Math.floor(4/Math.PI*Math.abs(i[0]-i[1])),y=Math.max(h,Math.min(p,f)),m={nice:n,interval:a,tickCount:y,minTickCount:h,maxTickCount:p};l=e.ticks(m,t)}else{const[c,h]=Wut(t.map(Number));l=s.filter(p=>p>=c&&p<=h).sort((p,f)=>p-f)}return l.map(c=>({value:c,visible:!0}))}avoidLabelCollisions(t){let{minSpacing:e}=this.label;Number.isFinite(e)||(e=0);const i=(a,o)=>{if(a.hidden||o.hidden)return!1;const r=a.box.clone().grow(e/2),l=o.box.clone().grow(e/2);return r.collidesBBox(l)},n=t[0],s=t.at(-1);n!==s&&Q_(n.x,s.x)&&Q_(n.y,s.y)&&(s.hidden=!0);for(let a=1;a<t.length;a*=2){let o=!1;for(let r=a;r<t.length;r+=a){const l=t[r],c=t[r-a];if(i(c,l)){o=!0;break}}if(!o){t.forEach((r,l)=>{l%a>0&&(r.hidden=!0,r.box=void 0)});return}}t.forEach((a,o)=>{o>0&&(a.hidden=!0,a.box=void 0)})}};Cg.className="AngleNumberAxis";Cg.type="angle-number";A([JE(qW(JW,Gut("max"))),QW(NaN)],Cg.prototype,"min");A([JE(qW(JW,Fut("min"))),QW(NaN)],Cg.prototype,"max");A([JE(Vut)],Cg.prototype,"interval");var Yut={type:"axis",optionsKey:"axes[]",packageType:"enterprise",chartTypes:["polar"],identifier:"angle-number",moduleFactory:t=>new Cg(t)},{OrdinalTimeScale:$ut}=z,tO=class extends z.CategoryAxis{constructor(t){super(t,new $ut)}};tO.className="OrdinalTimeAxis";tO.type="ordinal-time";var Kut={type:"axis",optionsKey:"axes[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"ordinal-time",moduleFactory:t=>new tO(t)},{ChartAxisDirection:Xut,Validate:Zut,NUMBER:qut,validateCrossLineValues:Qut,clamp:J_,normalizeAngle360:Jut,toRadians:tht,isNumberEqual:eht,Group:iht,Path:nht,Sector:sht,RotatableText:aht}=z,tY=class extends Ar{constructor(){super(...arguments),this.positionAngle=void 0}};A([Zut(qut,{optional:!0})],tY.prototype,"positionAngle");var eO=class extends Ia{constructor(){super(),this.direction=Xut.Y,this.label=new tY,this.polygonNode=new nht,this.sectorNode=new sht,this.crossLineRange=new iht,this.labelNode=new aht,this.outerRadius=0,this.innerRadius=0,this.crossLineRange.append(this.polygonNode),this.crossLineRange.append(this.sectorNode),this.labelGroup.append(this.labelNode)}update(t){const{scale:e,type:i,value:n,range:s}=this;if(!e||!i||!Qut(i,n,s,e)){this.rangeGroup.visible=!1,this.lineGroup.visible=!1,this.labelGroup.visible=!1;return}i==="line"&&e instanceof z.BandScale&&(this.type="range",this.range=[n,n]),this.updateRadii();const{innerRadius:a,outerRadius:o}=this;t&&(t=a>=this.axisInnerRadius&&o<=this.axisOuterRadius),this.rangeGroup.visible=t,this.lineGroup.visible=t,this.labelGroup.visible=t,this.updatePolygonNode(t),this.updateSectorNode(t),this.updateLabelNode(t),this.assignCrossLineGroup(this.type==="range",this.crossLineRange)}updateRadii(){const{range:t,scale:e,type:i,axisInnerRadius:n,axisOuterRadius:s}=this;if(!e)return{innerRadius:0,outerRadius:0};const a=l=>s+n-l;let o,r;if(i==="line")o=a(e.convert(this.value)),r=o;else{const l=Math.abs((e==null?void 0:e.bandwidth)??0),c=t.map(h=>e.convert(h));o=a(Math.max(...c)),r=a(Math.min(...c))+l}this.outerRadius=o,this.innerRadius=r}drawPolygon(t,e,i){e.forEach((n,s)=>{const a=t*Math.cos(n),o=t*Math.sin(n);s===0?i.path.moveTo(a,o):i.path.lineTo(a,o)}),i.path.closePath()}updatePolygonNode(t){const{gridAngles:e,polygonNode:i,scale:n,shape:s,type:a,innerRadius:o,outerRadius:r}=this;if(!t||s!=="polygon"||!n||!e){i.visible=!1;return}i.visible=!0;const l=this.getPadding();i.path.clear(!0),this.drawPolygon(r-l,e,i);const c=e.slice().reverse(),h=a==="line"?r-l:o+l;this.drawPolygon(h,c,i),this.setSectorNodeProps(i)}updateSectorNode(t){const{axisInnerRadius:e,axisOuterRadius:i,scale:n,sectorNode:s,shape:a,innerRadius:o,outerRadius:r}=this;if(!t||a!=="circle"||!n){s.visible=!1;return}s.visible=!0,s.startAngle=0,s.endAngle=2*Math.PI;const l=this.getPadding(),c=J_(e,o+l,i),h=J_(e,r-l,i);s.innerRadius=Math.min(c,h),s.outerRadius=Math.max(c,h),this.setSectorNodeProps(s)}updateLabelNode(t){const{innerRadius:e,label:i,labelNode:n,scale:s,shape:a,type:o}=this;if(!t||i.enabled===!1||!i.text||!s){n.visible=!1;return}const r=Jut(tht((i.positionAngle??0)-90)),l=(eht(r,0)||r>0)&&r<Math.PI,c=l?r-Math.PI/2:r+Math.PI/2;let h;const p=this.gridAngles??[];o==="line"?h=e+i.padding:a==="circle"||p.length<3?h=e-i.padding:h=e*Math.cos(Math.PI/p.length)-i.padding;const f=h*Math.cos(r),y=h*Math.sin(r);let m;o==="line"?m=l?"top":"bottom":m=l?"bottom":"top",this.setLabelNodeProps(n,f,y,m,c)}getPadding(){const{scale:t}=this;if(!t)return 0;const e=Math.abs(t.bandwidth??0),i=Math.abs(t.step??0);return t instanceof z.BandScale?(i-e)/2:0}};eO.className="RadiusCrossLine";var{ChartAxisDirection:oht,Default:rht,ZIndexMap:lht,NUMBER:eY,BOOLEAN:cht,Validate:iO,isNumberEqual:uht,normalizeAngle360:tj,toRadians:hht,Caption:dht,Group:pht,Path:fht,Line:ght,Selection:yht,AxisTickGenerator:mht,AxisGroupZIndexMap:xht}=z,nO=class extends z.AxisLabel{constructor(){super(...arguments),this.autoRotateAngle=335}};A([iO(cht,{optional:!0})],nO.prototype,"autoRotate");A([iO(eY)],nO.prototype,"autoRotateAngle");var YA=class extends z.PolarAxis{constructor(t,e){super(t,e),this.positionAngle=0,this.tickGenerator=new mht(this),this.generatedTicks=void 0,this.lineNode=this.axisGroup.appendChild(new ght({name:`${this.id}-Axis-line`,zIndex:xht.AxisLine})),this.gridPathGroup=this.gridGroup.appendChild(new pht({name:`${this.id}-gridPaths`,zIndex:lht.AXIS_GRID})),this.gridPathSelection=yht.select(this.gridPathGroup,fht),this.axisGroup.appendChild(this.title.caption.node),this.destroyFns.push(this.title.caption.registerInteraction(this.moduleCtx,"afterend"))}get direction(){return oht.Y}getAxisTransform(){const t=this.scale.range[0],{translation:e,positionAngle:i,innerRadiusRatio:n}=this,s=t*n,a=hht(i);return{translationX:e.x,translationY:e.y-t-s,rotation:a,rotationCenterX:0,rotationCenterY:t+s}}update(){super.update(),this.updateTitle();const{enabled:t,stroke:e,width:i}=this.line;this.lineNode.setProperties({stroke:e,strokeWidth:t?i:0,x1:0,y1:this.range[0],x2:0,y2:this.range[1]})}calculateTickLayout(t,e,i,n){const{parallelFlipRotation:s,regularFlipRotation:a}=this.calculateRotations(),o=[0,1],r=this.label.getSideFlag(),l=r*(this.getTickSize()+this.label.spacing+this.seriesAreaPadding),c=this.tickGenerator.generateTicks({domain:t,niceMode:e,visibleRange:o,primaryTickCount:n,parallelFlipRotation:s,regularFlipRotation:a,labelX:l,sideFlag:r}),{tickData:h,primaryTickCount:p=n}=c,{ticks:f,rawTicks:y,tickDomain:m,fractionDigits:b,niceDomain:v=t}=h,S=f.map(D=>this.getTickLabelProps(D,c));return this.generatedTicks={ticks:f,labels:S},{ticks:y,tickDomain:m,niceDomain:v,primaryTickCount:p,fractionDigits:b,bbox:void 0}}updateSelections(){const{generatedTicks:t}=this;if(!t)return;const{ticks:e,labels:i}=t;this.gridLineGroupSelection.update(this.gridLength?e:[]),this.tickLineGroupSelection.update(e),this.tickLabelGroupSelection.update(i),this.gridPathSelection.update(this.gridLine.enabled?this.prepareGridPathTickData(e):[]),this.gridLineGroupSelection.cleanup(),this.tickLineGroupSelection.cleanup(),this.tickLabelGroupSelection.cleanup(),this.gridPathSelection.cleanup()}updateLabels(){if(!this.label.enabled)return;const t=z.resetAxisLabelSelectionFn();this.tickLabelGroupSelection.each((e,i)=>{e.fill=i.fill,e.fontFamily=i.fontFamily,e.fontSize=i.fontSize,e.fontStyle=i.fontStyle,e.fontWeight=i.fontWeight,e.text=i.text,e.textBaseline=i.textBaseline,e.textAlign=i.textAlign??"center",e.setProperties(t(e,i))})}updateGridLines(){super.updateGridLines();const{gridLine:{style:t,width:e},shape:i,generatedTicks:n}=this;if(!t||!n)return;const s=t.length,a=(f,y)=>{const{stroke:m,lineDash:b}=t[y%s];f.stroke=m,f.strokeWidth=e,f.lineDash=b,f.fill=void 0},[o,r]=this.gridRange??[0,2*Math.PI],l=uht(r-o,2*Math.PI),p=i==="circle"?(f,y)=>{const{path:m}=f;m.clear(!0);const b=this.getTickRadius(y);l?(m.moveTo(b,0),m.arc(0,0,b,0,2*Math.PI)):(m.moveTo(b*Math.cos(o),b*Math.sin(o)),m.arc(0,0,b,tj(o),tj(r))),l&&m.closePath()}:(f,y)=>{const{path:m}=f,b=this.gridAngles;if(m.clear(!0),!b||b.length<3)return;const v=this.getTickRadius(y);b.forEach((S,D)=>{const I=v*Math.cos(S),T=v*Math.sin(S);D===0?m.moveTo(I,T):m.lineTo(I,T),b.forEach((k,E)=>{const O=v*Math.cos(k),B=v*Math.sin(k);E===0?m.moveTo(O,B):m.lineTo(O,B)}),m.closePath()}),m.closePath()};this.gridPathSelection.each((f,y,m)=>{a(f,m),p(f,y)})}updateTitle(){const t=r=>r.defaultValue,{title:e,range:i,moduleCtx:{callbackCache:n}}=this,{formatter:s=t}=this.title;e.caption.enabled=e.enabled,e.caption.fontFamily=e.fontFamily,e.caption.fontSize=e.fontSize,e.caption.fontStyle=e.fontStyle,e.caption.fontWeight=e.fontWeight,e.caption.color=e.color,e.caption.wrapping=e.wrapping;let a=!1;const o=e.caption.node;e.enabled&&(a=!0,o.rotation=Math.PI/2,o.x=Math.floor((i[0]+i[1])/2),o.y=-dht.SMALL_PADDING,o.textAlign="center",o.textBaseline="bottom",o.text=n.call(s,this.getTitleFormatterParams())),o.visible=a}updateCrossLines(){this.crossLines.forEach(t=>{if(t instanceof eO){const{shape:e,gridAngles:i,range:n,innerRadiusRatio:s}=this,a=n[0];t.shape=e,t.gridAngles=i,t.axisOuterRadius=a,t.axisInnerRadius=a*s}}),super.updateCrossLines()}createLabel(){return new nO}getTickLabelProps(t,e){const{label:i}=this,{combinedRotation:n,textBaseline:s,textAlign:a}=e,o=this.scale.range,r=t.tickLabel,c=i.getSideFlag()*(this.getTickSize()+i.spacing+this.seriesAreaPadding),h=r!==""&&r!=null;return{...this.getLabelStyles({value:t.tickLabel}),tickId:t.tickId,rotation:n,rotationCenterX:c,translationY:t.translationY,text:r,textAlign:a,textBaseline:s,visible:h,x:c,y:0,range:o}}};YA.CrossLineConstructor=eO;A([iO(eY),rht(0)],YA.prototype,"positionAngle");var{RATIO:sO,ProxyPropertyOnWrite:iY,Validate:aO,CategoryScale:ej}=z,Qd=class extends YA{constructor(t){super(t,new ej),this.shape="circle",this.groupPaddingInner=0,this.paddingInner=0,this.paddingOuter=0}normaliseDataDomain(t){return{domain:t,clipped:!1}}prepareGridPathTickData(t){return t.slice().reverse()}getTickRadius(t){const{scale:e,innerRadiusRatio:i}=this,n=e.range[0],s=n*i;if(ej.is(e)){const a=e.domain,o=a.length-1-a.indexOf(t.tick);return o===0?s:e.inset+e.step*(o-.5)+e.bandwidth/2}else{const a=(n-s)/e.domain.length;return n-t.translationY+s-a/2}}};Qd.className="RadiusCategoryAxis";Qd.type="radius-category";A([aO(sO)],Qd.prototype,"groupPaddingInner");A([iY("scale","paddingInner"),aO(sO)],Qd.prototype,"paddingInner");A([iY("scale","paddingOuter"),aO(sO)],Qd.prototype,"paddingOuter");var bht={type:"axis",optionsKey:"axes[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radius-category",moduleFactory:t=>new Qd(t)},{AND:nY,Default:sY,GREATER_THAN:vht,LESS_THAN:Sht,NUMBER_OR_NAN:aY,Validate:oY,normalisedExtentWithMetadata:Mht,LinearScale:Aht}=z,Db=class extends YA{constructor(t){super(t,new Aht),this.shape="polygon",this.min=NaN,this.max=NaN}prepareGridPathTickData(t){const{scale:e}=this,i=e.domain[1];return t.filter(({tick:n})=>n!==i).sort((n,s)=>s.tick-n.tick)}getTickRadius(t){const{scale:e}=this,i=e.range[0],n=i*this.innerRadiusRatio;return i-t.translationY+n}normaliseDataDomain(t){const{min:e,max:i}=this,{extent:n,clipped:s}=Mht(t,e,i);return{domain:n,clipped:s}}};Db.className="RadiusNumberAxis";Db.type="radius-number";A([oY(nY(aY,Sht("max"))),sY(NaN)],Db.prototype,"min");A([oY(nY(aY,vht("min"))),sY(NaN)],Db.prototype,"max");var Dht={type:"axis",optionsKey:"axes[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radius-number",moduleFactory:t=>new Db(t)},{Chart:Iht}=z;function Tht(t){return t.type==="sankey"||t.type==="chord"}var oO=class extends Iht{getChartType(){return"flow-proportion"}async updateData(){await super.updateData();const{nodes:t}=this.getOptions();this.series.forEach(e=>{Tht(e)&&e.setChartNodes(t)})}performLayout(t){const{seriesRoot:e,annotationRoot:i}=this,{layoutBox:n}=t;n.shrink(this.seriesArea.padding.toJson());const s=n.clone();this.seriesRect=s,this.animationRect=s,e.visible=this.series.some(a=>a.visible);for(const a of[e,i])a.translationX=Math.floor(s.x),a.translationY=Math.floor(s.y);this.ctx.layoutManager.emitLayoutComplete(t,{series:{visible:e.visible,rect:s,paddedRect:s}})}};oO.className="FlowProportionChart";oO.type="flow-proportion";var{isAgFlowProportionChartOptions:Cht}=z,kht={type:"chart",name:"flow-proportion",detect:Cht,create(t,e){return new oO(t,e)}},ve={};eut(ve,{error:()=>lY,errorOnce:()=>Oht,log:()=>Lht,logGroup:()=>Rht,reset:()=>wht,table:()=>Nht,warn:()=>rY,warnOnce:()=>Eht});var Dx=new Set;function Lht(...t){console.log(...t)}function rY(t,...e){console.warn(`AG Charts - ${t}`,...e)}function lY(t,...e){typeof t=="object"?console.error("AG Charts error",t,...e):console.error(`AG Charts - ${t}`,...e)}function Nht(...t){console.table(...t)}function Eht(t,...e){const i=`Logger.warn: ${t}`;Dx.has(i)||(rY(t,...e),Dx.add(i))}function Oht(t,...e){const i=`Logger.error: ${t}`;Dx.has(i)||(lY(t,...e),Dx.add(i))}function wht(){Dx.clear()}function Rht(t,e){console.groupCollapsed(t);try{return e()}finally{console.groupEnd()}}function Pht(t){return Array.from(new Set(t))}function cY(t,e,i){if(t>e)return;let n;for(;e>=t;){const s=Math.floor((e+t)/2),a=i(s);a==null?e=s-1:(n=a,t=s+1)}return n}function Bht(t,e=0,i){const{leading:n=!1,trailing:s=!0,maxWait:a=1/0}={};let o,r;if(a<e)throw new Error("Value of maxWait cannot be lower than waitMs.");function l(...c){if(n&&!r){r=Date.now(),o=setTimeout(()=>r=null,e),t(...c);return}let h=e;if(a!==1/0&&r){const p=Date.now()-r;e>a-p&&(h=a-p)}clearTimeout(o),r??(r=Date.now()),o=setTimeout(()=>{r=null,s&&t(...c)},h)}return Object.assign(l,{cancel(){clearTimeout(o),r=null}})}function*zht(...t){for(const e of t)yield*e}function ns(t){return t!=null}function _ht(t){return Array.isArray(t)}function Ix(t){return t instanceof Date}function c1(t){return Ix(t)&&!isNaN(Number(t))}function Qi(t){return typeof t=="object"&&t!==null&&!_ht(t)}function jht(t){return typeof t=="string"}function Wi(t){return typeof t=="number"}function Fu(t){return Number.isFinite(t)}var{CartesianAxis:ij,Chart:Fht,ChartAxisDirection:hm,LinearScale:Ght,PolarAxis:Vht,isBetweenAngles:wv,normalizeAngle360Inclusive:Uht,sectorBox:Hht}=z;function Wht(t){return t.type==="radial-gauge"}function Yht(t){return t.type==="linear-gauge"}var rO=class extends Fht{getChartType(){return"gauge"}updateRadialGauge(t,e){const i=this.axes.find(R=>R.direction===hm.X);if(!(i instanceof Vht))return;i.computeRange();const n=t.x,s=n+t.width,a=t.y,o=a+t.height,[r,l]=i.range,h=Uht(l-r)>Math.PI,p=h||wv(1.5*Math.PI,r,l),f=h||wv(0*Math.PI,r,l),y=h||wv(.5*Math.PI,r,l),m=h||wv(1*Math.PI,r,l);let b;m&&!f?b="right":!m&&f?b="left":b="center";let v;p&&!y?v="bottom":!p&&y?v="top":v="middle";const S=Hht({startAngle:r,endAngle:l,innerRadius:0,outerRadius:.5}),D=-(S.x+S.width/2)*2,I=-(S.y+S.height/2)*2,{minimumRadius:T=0,maximumRadius:k}=e,E=Math.max(.5*Math.min(t.width/S.width,t.height/S.height),0);let O=Math.min(k??1/0,Math.max(E,T??0));const B=8;for(let R=0;R<B;R+=1){const L=O<=T||R===B-1,F=t.x+t.width/2+D*O,j=t.y+t.height/2+I*O;i.translation.x=F,i.translation.y=j,i.gridLength=O,i.calculateLayout();const G=i.computeLabelsBBox({hideWhenNecessary:L},t);if(L)break;let W=0;if(G!=null){const Z=G.x+F,U=Z+G.width,K=G.y+j,$=K+G.height;W=Math.max(a-K,n-Z,$-o,U-s,0)}if(W>0)O=Math.max(O-W,T);else break}i.translation.x=t.x+t.width/2+D*O,i.translation.y=t.y+t.height/2+I*O,e.centerX=t.width/2+D*O,e.centerY=t.height/2+I*O,e.radius=O,e.textAlign=b,e.verticalAlign=v,(O===0||O>E)&&ve.warnOnce("There was insufficient space to display the Radial Gauge.")}updateLinearGauge(t,e){const i=this.axes.find(S=>S.direction===hm.X),n=this.axes.find(S=>S.direction===hm.Y);if(!(i instanceof ij)||!(n instanceof ij))return t;const{horizontal:s,thickness:a}=e;let o=0,r=0;const l=new Ght,c=s?i:n;l.domain=[0,100],l.range=c.range;const h=l.ticks({nice:c.nice,interval:void 0,tickCount:void 0,minTickCount:0,maxTickCount:1/0});s?o=e.computeInset(hm.X,h):r=e.computeInset(hm.Y,h);const p=t.width-Math.abs(o),f=t.height-Math.abs(r),{width:y,height:m}=s?{width:Math.max(p,0),height:Math.max(Math.min(f,a),0)}:{width:Math.max(Math.min(p,a),0),height:Math.max(f,0)},b=t.x+(p-y)/2+Math.max(o,0),v=t.y+(f-m)/2-Math.min(r,0);i.range=[0,y],i.gridLength=y,i.calculateLayout(),i.translation.x=b,i.translation.y=v+(i.position==="bottom"?a:0),n.range=[0,m],n.gridLength=m,n.calculateLayout(),n.translation.x=b+(n.position==="right"?a:0),n.translation.y=v,e.originX=b-t.x,e.originY=v-t.y,(y===0||m===0)&&ve.warnOnce("There was insufficient space to display the Linear Gauge.")}performLayout(t){const{seriesRoot:e,annotationRoot:i,series:n,seriesArea:s}=this,{layoutBox:a}=t,o=a.clone();a.shrink(s.padding.toJson());const r=this.series[0];Wht(r)?this.updateRadialGauge(a,r):Yht(r)&&this.updateLinearGauge(a,r),this.axes.forEach(l=>l.update()),this.seriesRect=o.clone().translate(o.x-a.x,o.y-a.y),this.animationRect=a,e.visible=n.some(l=>l.visible);for(const l of[e,i])l.translationX=Math.floor(a.x),l.translationY=Math.floor(a.y);this.ctx.layoutManager.emitLayoutComplete(t,{series:{visible:e.visible,rect:o,paddedRect:a}})}getAriaLabel(){const t=[],e=this.getCaptionText();e.length!==0&&t.push(e);for(const n of this.series)t.push(n.getCaptionText());const i=t.join(". ");return this.ctx.localeManager.t("ariaAnnounceGaugeChart",{caption:i})}};rO.className="GaugeChart";rO.type="gauge";var{isAgGaugeChartOptions:$ht}=z,Kht={type:"chart",name:"gauge",detect:$ht,create(t,e){return new rO(t,e)}},{Chart:Xht}=z,lO=class extends Xht{getChartType(){return"hierarchy"}performLayout(t){const{seriesRoot:e,annotationRoot:i}=this,{layoutBox:n}=t;n.shrink(this.seriesArea.padding.toJson());const s=n.clone();this.seriesRect=s,this.animationRect=s;for(const a of[e,i])a.translationX=Math.floor(s.x),a.translationY=Math.floor(s.y);e.visible=this.series[0].visible,e.setClipRect(s.clone()),this.ctx.layoutManager.emitLayoutComplete(t,{series:{visible:!0,rect:s,paddedRect:s}})}getAriaLabel(){const t=this.getCaptionText();return this.ctx.localeManager.t("ariaAnnounceHierarchyChart",{caption:t})}};lO.className="HierarchyChart";lO.type="hierarchy";var{isAgHierarchyChartOptions:Zht}=z,qht={type:"chart",name:"hierarchy",detect:Zht,create(t,e){return new lO(t,e)}},{Chart:Qht}=z,cO=class extends Qht{getChartType(){return"standalone"}performLayout(t){const{seriesRoot:e,annotationRoot:i}=this,{layoutBox:n}=t;n.shrink(this.seriesArea.padding.toJson());const s=n.clone();this.seriesRect=s,this.animationRect=s;for(const a of[e,i])a.translationX=Math.floor(n.x),a.translationY=Math.floor(n.y);e.visible=this.series[0].visible,this.ctx.layoutManager.emitLayoutComplete(t,{series:{visible:!0,rect:s,paddedRect:n}})}getAriaLabel(){const t=this.getCaptionText();return this.ctx.localeManager.t("ariaAnnounceHierarchyChart",{caption:t})}};cO.className="StandaloneChart";cO.type="standalone";var{isAgStandaloneChartOptions:Jht}=z,tdt={type:"chart",name:"standalone",detect:Jht,create(t,e){return new cO(t,e)}},{Chart:edt,MercatorScale:nj,NumberAxis:sj}=z;function aj(t){return t.type==="map-shape"||t.type==="map-line"||t.type==="map-marker"||t.type==="map-shape-background"||t.type==="map-line-background"}var uO=class extends edt{constructor(t,e){super(t,e),this.xAxis=new sj(this.getModuleContext()),this.xAxis.position="bottom",this.yAxis=new sj(this.getModuleContext()),this.yAxis.position="left",this.ctx.zoomManager.updateAxes([this.xAxis,this.yAxis])}getChartType(){return"topology"}async updateData(){await super.updateData();const{topology:t}=this.getOptions();this.series.forEach(e=>{aj(e)&&e.setChartTopology(t)})}performLayout(t){const{seriesRoot:e,annotationRoot:i}=this,{layoutBox:n}=t;n.shrink(this.seriesArea.padding.toJson());const s=n.clone();this.seriesRect=s,this.animationRect=s;const a=this.series.filter(aj),o=a.reduce((c,h)=>{if(!h.visible)return c;const p=h.topologyBounds;return p==null?c:c==null?p:(c.merge(p),c)},void 0);let r;if(o!=null){const{lon0:c,lat0:h,lon1:p,lat1:f}=o,y=[[c,h],[p,f]],m=nj.bounds(y),{width:b,height:v}=s,S=Math.min(b/m.width,v/m.height),D=m.width*S,I=m.height*S,T=(b-D)/2,k=(v-I)/2,E=T,O=k,B=T+D,R=k+I,L=this.ctx.zoomManager.getAxisZoom(this.xAxis.id),F=this.ctx.zoomManager.getAxisZoom(this.yAxis.id),j=(B-E)/(L.max-L.min),G=E-j*L.min,W=(R-O)/(1-F.min-(1-F.max)),Z=O-W*(1-F.max);r=new nj(y,[[G,Z],[G+j,Z+W]])}a.forEach(c=>{c.scale=r});const l=this.series.some(c=>c.visible);e.visible=l;for(const c of[e,i])c.translationX=Math.floor(s.x),c.translationY=Math.floor(s.y),c.setClipRect(s.clone());this.ctx.layoutManager.emitLayoutComplete(t,{series:{visible:l,rect:s,paddedRect:s}})}};uO.className="TopologyChart";uO.type="topology";var{isAgTopologyChartOptions:idt}=z,ndt={type:"chart",name:"topology",detect:idt,create(t,e){return new uO(t,e)}},{BOOLEAN:sdt,POSITIVE_NUMBER:adt,ObserveChanges:uY,Validate:hY}=z,hO=class extends z.BaseModuleInstance{constructor(t){super(),this.ctx=t,this.enabled=!0,t.animationManager.skip(!1)}};A([uY((t,e)=>{t.ctx.animationManager.skip(!e)}),hY(sdt)],hO.prototype,"enabled");A([uY((t,e)=>{t.ctx.animationManager.defaultDuration=e}),hY(adt,{optional:!0})],hO.prototype,"duration");var odt={type:"root",optionsKey:"animation",packageType:"enterprise",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],moduleFactory:t=>new hO(t),themeTemplate:{animation:{enabled:!0}}},rdt='<div contenteditable="plaintext-only" class="ag-charts-text-input__textarea" tabindex="0"></div>',{focusCursorAtEnd:ldt}=z,oj="text-input",rj="canvas-overlay",cdt=class extends z.BaseModuleInstance{constructor(t){super(),this.ctx=t,this.layout={getTextInputCoords:()=>({x:0,y:0}),getTextPosition:()=>"center",alignment:"center",textAlign:"center"},this.visible=!1,this.element=t.domManager.addChild(rj,oj),this.element.classList.add("ag-charts-text-input"),this.destroyFns.push(()=>t.domManager.removeChild(rj,oj))}setKeyDownHandler(t){this.element.addEventListener("keydown",t),this.destroyFns.push(()=>this.element.removeEventListener("keydown",t))}show(t){var i,n,s,a,o,r,l,c,h;this.element.innerHTML=rdt;const e=this.element.firstElementChild;z.setAttribute(e,"data-preventdefault",!1),e.isContentEditable||(e.contentEditable="true"),e.setAttribute("placeholder",this.ctx.localeManager.t(t.placeholderText??"inputTextareaPlaceholder")),(i=t.styles)!=null&&i.placeholderColor&&e.style.setProperty("--placeholder-text-color",(n=t.styles)==null?void 0:n.placeholderColor),e.innerText=t.text??"",e.style.color=((s=t.styles)==null?void 0:s.color)??"inherit",e.style.fontFamily=((a=t.styles)==null?void 0:a.fontFamily)??"inherit",e.style.fontSize=(o=t.styles)!=null&&o.fontSize?`${t.styles.fontSize}px`:"inherit",e.style.fontStyle=((r=t.styles)==null?void 0:r.fontStyle)??"inherit",e.style.fontWeight=typeof((l=t.styles)==null?void 0:l.fontWeight)=="number"?`${t.styles.fontWeight}`:((c=t.styles)==null?void 0:c.fontWeight)??"inherit",ldt(e),e.addEventListener("input",()=>{var p;this.updatePosition(),(p=t.onChange)==null||p.call(t,this.getValue(),this.getBBox())}),e.addEventListener("click",p=>{p.stopPropagation()}),t.layout&&(this.layout=t.layout,this.updatePosition()),(h=t.onChange)==null||h.call(t,this.getValue(),this.getBBox()),this.visible=!0}hide(){this.element.innerHTML="",this.layout={getTextInputCoords:()=>({x:0,y:0}),getTextPosition:()=>"center",alignment:"center",textAlign:"center"},this.visible=!1}isVisible(){return this.visible}updateColor(t){this.element.firstElementChild&&(this.element.firstElementChild.style.color=t)}updateFontSize(t){if(this.element.firstElementChild)return this.element.firstElementChild.style.fontSize=`${t}px`,this.updatePosition(),this.getBBox()}getValue(){if(this.element.firstElementChild)return this.element.firstElementChild.innerText.trim()}updatePosition(){const{element:t}=this,e=t.firstElementChild;if(!e)return;const i=this.ctx.domManager.getBoundingClientRect(),{width:n,getTextInputCoords:s,getTextPosition:a,alignment:o,textAlign:r}=this.layout;t.style.setProperty("width",n?`${n}px`:"unset");const l=e.getBoundingClientRect(),c=s(l.height);let h=c.x;o==="center"?h-=(n??l.width)/2:o==="right"&&(h-=n??l.width);const p=a();let f=c.y;p==="center"?f-=l.height/2:p==="bottom"&&(f-=l.height),t.style.setProperty("top",`${f}px`),t.style.setProperty("left",`${h}px`),t.style.setProperty("max-width",`${i.width-h}px`),t.style.setProperty("text-align",o),e.style.setProperty("text-align",r)}getBBox(){const{left:t,top:e,width:i,height:n}=this.element.getBoundingClientRect();return new z.BBox(t,e,i,n)}},{BOOLEAN:udt,BaseProperties:hdt,Validate:dY,UNION:ddt}=z,pdt=ddt(["x","y","xy"],"an axis type"),dO=class extends hdt{constructor(){super(...arguments),this.enabled=!1,this.axes="y"}};A([dY(udt)],dO.prototype,"enabled");A([dY(pdt,{optional:!0})],dO.prototype,"axes");var pO=(t=>(t.Line="line",t.HorizontalLine="horizontal-line",t.VerticalLine="vertical-line",t.DisjointChannel="disjoint-channel",t.ParallelChannel="parallel-channel",t.FibonacciRetracement="fibonacci-retracement",t.FibonacciRetracementTrendBased="fibonacci-retracement-trend-based",t.Callout="callout",t.Comment="comment",t.Note="note",t.Text="text",t.Arrow="arrow",t.ArrowUp="arrow-up",t.ArrowDown="arrow-down",t.DateRange="date-range",t.PriceRange="price-range",t.DatePriceRange="date-price-range",t.QuickDatePriceRange="quick-date-price-range",t))(pO||{}),fdt=Object.values(pO);function gdt(t){for(const e of fdt)if(e===t)return e}var{BOOLEAN:Tx,COLOR_STRING:fO,DATE:Cx,FONT_STYLE:ydt,FONT_WEIGHT:mdt,FUNCTION:xdt,LINE_DASH:bdt,LINE_STYLE:vdt,NUMBER:Bd,OBJECT:kx,OR:Lx,POSITIVE_NUMBER:gO,RATIO:pY,STRING:Ju,TEXT_ALIGN:Sdt,UNION:$A,BaseProperties:ph,Validate:re,predicateWithMessage:Mdt,generateUUID:Adt}=z,Ddt=["value","groupPercentage"],Nx=Mdt(t=>Qi(t)&&Object.keys(t).every(e=>Ddt.includes(e)),"objects with grouping value properties such as 'value' or 'groupPercentage'"),Ex=class extends ph{};A([re(Lx(Ju,Bd,Cx,Nx))],Ex.prototype,"x");A([re(Lx(Ju,Bd,Cx,Nx))],Ex.prototype,"y");var Idt=class extends Rs(Bc(mY(ph))){},yO=class extends Rs(Bc(xl(bO(ep(ph))))){constructor(){super(...arguments),this.cornerRadius=2}};A([re(Tx)],yO.prototype,"enabled");A([re(gO)],yO.prototype,"cornerRadius");var Tdt=class extends xl(ph){},Cdt=class extends Rs(Bc(xl(ph))){},Jd=class extends ep(ph){constructor(){super(...arguments),this.label="",this.position="top",this.alignment="left"}};A([re(Ju)],Jd.prototype,"label");A([re($A(["top","center","bottom"]),{optional:!0})],Jd.prototype,"position");A([re($A(["left","center","right"]),{optional:!0})],Jd.prototype,"alignment");var kdt=class extends ep(ph){},Ib=class extends ep(ph){constructor(){super(...arguments),this.label=""}};A([re(Ju)],Ib.prototype,"label");A([re($A(["top","inside","bottom"]),{optional:!0})],Ib.prototype,"position");A([re($A(["left","center","right"]),{optional:!0})],Ib.prototype,"alignment");function tp(t){class e extends Ndt(mY(t)){constructor(){super(...arguments),this.id=Adt()}isValidWithContext(n,s){return super.isValid(s)}}return e}function mO(t){class e extends t{constructor(){super(...arguments),this.start=new Ex,this.end=new Ex}}return A([re(kx)],e.prototype,"start"),A([re(kx)],e.prototype,"end"),e}function fY(t){class e extends t{}return A([re(Lx(Ju,Bd,Cx,Nx))],e.prototype,"x"),A([re(Lx(Ju,Bd,Cx,Nx))],e.prototype,"y"),e}function gY(t){class e extends t{}return A([re(Lx(Ju,Bd,Cx,Nx))],e.prototype,"value"),e}function xO(t){class e extends t{constructor(){super(...arguments),this.background=new Tdt}}return A([re(kx,{optional:!0})],e.prototype,"background"),e}function fh(t){class e extends t{constructor(){super(...arguments),this.handle=new Cdt}}return A([re(kx,{optional:!0})],e.prototype,"handle"),e}function yY(t){class e extends t{constructor(){super(...arguments),this.axisLabel=new yO}}return A([re(kx,{optional:!0})],e.prototype,"axisLabel"),e}function bO(t){class e extends t{constructor(){super(...arguments),this.padding=void 0,this.textAlign="center",this.formatter=void 0}}return A([re(gO,{optional:!0})],e.prototype,"padding"),A([re(Sdt,{optional:!0})],e.prototype,"textAlign"),A([re(xdt,{optional:!0})],e.prototype,"formatter"),e}function Ldt(t){class e extends t{}return e}function vO(t){class e extends t{}return A([re(Tx,{optional:!0})],e.prototype,"extendStart"),A([re(Tx,{optional:!0})],e.prototype,"extendEnd"),e}function Ndt(t){class e extends t{}return A([re(Tx,{optional:!0})],e.prototype,"locked"),e}function SO(t){class e extends t{setLocaleManager(n){this.localeManager??(this.localeManager=n)}}return e}function mY(t){class e extends t{}return A([re(Tx,{optional:!0})],e.prototype,"visible"),e}function xl(t){class e extends t{}return A([re(fO,{optional:!0})],e.prototype,"fill"),A([re(pY,{optional:!0})],e.prototype,"fillOpacity"),e}function Rs(t){class e extends t{}return A([re(fO,{optional:!0})],e.prototype,"stroke"),A([re(pY,{optional:!0})],e.prototype,"strokeOpacity"),A([re(Bd,{optional:!0})],e.prototype,"strokeWidth"),e}function Bc(t){class e extends t{constructor(){super(...arguments),this.lineCap=void 0,this.computedLineDash=void 0}}return A([re(bdt,{optional:!0})],e.prototype,"lineDash"),A([re(Bd,{optional:!0})],e.prototype,"lineDashOffset"),A([re(vdt,{optional:!0})],e.prototype,"lineStyle"),e}function ep(t){class e extends t{constructor(){super(...arguments),this.fontSize=12,this.fontFamily="Verdana, sans-serif"}}return A([re(ydt,{optional:!0})],e.prototype,"fontStyle"),A([re(mdt,{optional:!0})],e.prototype,"fontWeight"),A([re(gO)],e.prototype,"fontSize"),A([re(Ju)],e.prototype,"fontFamily"),A([re(fO,{optional:!0})],e.prototype,"color"),e}function oi(t){return Wi(t)||jht(t)||Ix(t)?{value:t,groupPercentage:0}:t??{value:void 0,groupPercentage:0}}var{clampArray:Edt}=z;function mr(t,e){if(t.start==null||t.end==null)return;const i=Mi(t.start,e),n=Mi(t.end,e);if(!(i==null||n==null))return{x1:i.x,y1:i.y,x2:n.x,y2:n.y}}function Mi(t,e){const i=Gu(t.x,e.xAxis),n=Gu(t.y,e.yAxis);return{x:i,y:n}}function Gu(t,e){if(t==null)return 0;const{value:i,groupPercentage:n}=oi(t),{scale:s,snapToGroup:a}=e,o=s.bandwidth===0?s.step??0:s.bandwidth??0,r=a?o/2:o*n;return s.convert(i)+r}function ri(t,e){const i=Ox(t.x,e.xAxis),n=Ox(t.y,e.yAxis);return{x:i,y:n}}function Ox(t,e){const{scale:i}=e;if(e.continuous&&i.step==null)return e.scaleInvert(t);const n=e.scaleInvertNearest(t),s=i.bandwidth===0?i.step:i.bandwidth??0,a=i.convert(n),o=a+s,r=Edt(t,i.range),l=a===o?0:(r-a)/(o-a);return{value:n,groupPercentage:l}}var{BaseProperties:Odt}=z,MO=class extends tp(mO(fh(Odt))){constructor(){super(...arguments),this.snapToAngle=45}isValidWithContext(t,e){return super.isValid(e)}getDefaultColor(t){}getDefaultOpacity(t){}},{STRING:wdt,Validate:Rdt}=z,xY=class extends SO(bO(ep(MO))){constructor(){super(...arguments),this.text="",this.position="top",this.alignment="left",this.placement="inside",this.placeholderText="inputTextareaPlaceholder"}isValidWithContext(t,e){return super.isValid(e)}getDefaultColor(t){return this.color}getDefaultOpacity(t){}getPlaceholderColor(){}getPadding(){const{padding:t=0}=this;return{top:t,right:t,bottom:t,left:t}}getText(){const t=this.text.length==0;let e=this.text;return t&&(e=this.placeholderText??"",this.localeManager&&(e=this.localeManager.t(e))),{text:e,isPlaceholder:t}}getTextInputCoords(t,e){return Mi(this.end,t)}getTextPosition(){return this.position}};A([Rdt(wdt)],xY.prototype,"text");var{STRING:Pdt,Validate:Bdt,Color:lj}=z,zdt={top:6,right:12,bottom:9,left:12},cr=class extends xl(Rs(xY)){constructor(){super(...arguments),this.type="callout",this.position="bottom",this.alignment="left"}static is(t){return Qi(t)&&t.type==="callout"}getDefaultColor(t){switch(t){case"fill-color":return this.fill;case"line-color":return this.stroke;case"text-color":default:return this.color}}getDefaultOpacity(t){switch(t){case"fill-color":return this.fillOpacity;case"line-color":return this.strokeOpacity;case"text-color":default:return}}getPlaceholderColor(){const{r:t,g:e,b:i}=lj.fromString(this.color??"#888888");return new lj(t,e,i,.66).toString()}getPadding(){const{padding:t}=this;return t==null?{...zdt}:{top:t,right:t,bottom:t,left:t}}getTextInputCoords(t,e){const i=super.getTextInputCoords(t,e),n=this.getPadding(),s=n.left??0,a=n.bottom??0;return{x:i.x+s,y:i.y-a}}};A([Bdt(Pdt)],cr.prototype,"type");var{STRING:_dt,BaseProperties:jdt,Validate:Fdt}=z,KA=class extends tp(fY(fh(bO(ep(jdt))))){constructor(){super(...arguments),this.text="",this.position="top",this.alignment="left",this.placement="inside",this.placeholderText="inputTextareaPlaceholder"}isValidWithContext(t,e){return super.isValid(e)}getDefaultColor(t){return this.color}getDefaultOpacity(t){}getPlaceholderColor(){}getPadding(){const{padding:t=0}=this;return{top:t,right:t,bottom:t,left:t}}getText(){const t=this.text.length==0;return{text:t?this.placeholderText??"":this.text,isPlaceholder:t}}getTextInputCoords(t,e){return Mi(this,t)}getTextPosition(){return this.position}};A([Fdt(_dt)],KA.prototype,"text");var{STRING:Gdt,Validate:Vdt,Color:cj}=z,Rv={top:8,right:14,bottom:8,left:14},Zr=class extends xl(Rs(KA)){constructor(){super(...arguments),this.type="comment",this.position="bottom",this.alignment="left"}static is(t){return Qi(t)&&t.type==="comment"}getDefaultColor(t){switch(t){case"fill-color":return this.fill;case"line-color":return this.stroke;case"text-color":default:return this.color}}getDefaultOpacity(t){switch(t){case"fill-color":return this.fillOpacity;case"line-color":return this.strokeOpacity;case"text-color":default:return}}getPlaceholderColor(){const{r:t,g:e,b:i}=cj.fromString(this.color??"#888888");return new cj(t,e,i,.66).toString()}getPadding(){const{padding:t,fontSize:e}=this;return t==null?{top:Math.max(e*.4,Rv.top),bottom:Math.max(e*.4,Rv.bottom),left:Math.max(e*.8,Rv.left),right:Math.max(e*.8,Rv.right)}:{top:t,right:t,bottom:t,left:t}}getTextInputCoords(t,e){const i=super.getTextInputCoords(t,e),n=this.getPadding();return{x:i.x+n.left,y:i.y-n.bottom}}};A([Vdt(Gdt)],Zr.prototype,"type");var{Vec2:ad}=z;function wx(t,e){return t?"dashed":e??"solid"}function bY(t,e){switch(e){case"solid":return[];case"dashed":return[t*4,t*2];case"dotted":return[0,t*2]}}function kg(t,e,i,n){const s=wx(t,i);return e??t??bY(n??1,s)}function Lg(t,e,i){const n=wx(e,i);return t??n==="dotted"?"round":void 0}function Udt(t,e){const[i,n]=ad.from(t),s=e.height,a=ad.gradient(n,i,s),o=ad.intercept(n,a,s),r=[{x:i.x,y:s??0},{x:i.x,y:s==null?e.height:s-e.height}];if(a===1/0)return r;let l=[ad.intersectAtY(a,o,0,s),ad.intersectAtY(a,o,e.height,s),ad.intersectAtX(a,o,0,s),ad.intersectAtX(a,o,e.width,s)];return l=l.filter(c=>c.x>=e.x&&c.x<=e.width&&c.y>=e.y&&c.y<=e.height).sort((c,h)=>c.x===h.x?0:c.x<h.x?-1:1),l.length!==2?r:l}var{BOOLEAN:XA,OBJECT:Ng,STRING:ZA,BaseProperties:AO,Validate:Ta}=z,Hdt=class extends Rs(AO){},DO=class extends ep(xl(Rs(AO))){constructor(){super(...arguments),this.divider=new Hdt}};A([Ta(Ng,{optional:!0})],DO.prototype,"divider");var iL=class extends xl(Rs(fh(AO))){constructor(){super(...arguments),this.statistics=new DO}};A([Ta(Ng,{optional:!0})],iL.prototype,"statistics");var Eg=class extends SO(xO(Rs(Bc(MO)))){constructor(){super(...arguments),this.direction="both",this.hasDateRange=!1,this.hasPriceRange=!1,this.statistics=new DO,this.getVolume=()=>{},this.text=new Jd}getDefaultColor(t){switch(t){case"fill-color":return this.background.fill;case"line-color":return this.stroke;case"text-color":return this.text.color}}getDefaultOpacity(t){switch(t){case"fill-color":return this.background.fillOpacity;case"line-color":return this.strokeOpacity}}getLineDash(){return kg(this.lineDash,this.computedLineDash,this.lineStyle,this.strokeWidth)}getLineCap(){return Lg(this.lineCap,this.lineDash,this.lineStyle)}};A([Ta(Ng,{optional:!0})],Eg.prototype,"statistics");A([Ta(Ng,{optional:!0})],Eg.prototype,"text");function IO(t){class e extends t{constructor(){super(...arguments),this.hasDateRange=!0}}return e}function TO(t){class e extends t{constructor(){super(...arguments),this.hasPriceRange=!0}}return e}var To=class extends IO(Eg){constructor(){super(...arguments),this.type="date-range",this.direction="horizontal"}static is(t){return Qi(t)&&t.type==="date-range"}};A([Ta(ZA)],To.prototype,"type");A([Ta(XA,{optional:!0})],To.prototype,"extendAbove");A([Ta(XA,{optional:!0})],To.prototype,"extendBelow");var Co=class extends TO(Eg){constructor(){super(...arguments),this.type="price-range",this.direction="vertical"}static is(t){return Qi(t)&&t.type==="price-range"}};A([Ta(ZA)],Co.prototype,"type");A([Ta(XA,{optional:!0})],Co.prototype,"extendLeft");A([Ta(XA,{optional:!0})],Co.prototype,"extendRight");var sc=class extends IO(TO(Eg)){constructor(){super(...arguments),this.type="date-price-range",this.direction="both"}static is(t){return Qi(t)&&t.type==="date-price-range"}};A([Ta(ZA)],sc.prototype,"type");var Ba=class extends IO(TO(Eg)){constructor(){super(...arguments),this.type="quick-date-price-range",this.up=new iL,this.down=new iL,this.direction="both"}static is(t){return Qi(t)&&t.type==="quick-date-price-range"}};A([Ta(ZA)],Ba.prototype,"type");A([Ta(Ng,{optional:!0})],Ba.prototype,"up");A([Ta(Ng,{optional:!0})],Ba.prototype,"down");var{TextWrapper:Wdt,CachedTextMeasurerPool:Ydt,BBox:$dt}=z,qA=1.38;function vY(t){return{font:{fontFamily:t.fontFamily,fontSize:t.fontSize,fontStyle:t.fontStyle,fontWeight:t.fontWeight},textAlign:t.textAlign,textBaseline:t.position=="center"?"middle":t.position,lineHeight:qA,avoidOrphans:!1,textWrap:"always"}}function QA(t,e,i){return i?Wdt.wrapText(e,{...vY(t),maxWidth:i}):e}function Kdt(t,e){const i=vY(t),{lineMetrics:n,width:s}=Ydt.measureLines(e,i),a=n.length*(t.fontSize??14)*qA;return{width:s,height:a}}function CO(t,e,i,n){let s=(n==null?void 0:n.width)??0,a=(n==null?void 0:n.height)??0;if(!n){const o=t.width!=null?QA(t,e,t.width):e;({width:s,height:a}=Kdt(t,o))}return new $dt(i.x,i.y,s,a)}function SY(t,e,i,n,{x:s,y:a}){const{visible:o=!0,fontFamily:r,fontSize:l=14,fontStyle:c,fontWeight:h,textAlign:p}=n,f=l*qA,y=n.position=="center"?"middle":n.position,m=i?n.getPlaceholderColor():n.color;t.setProperties({x:s,y:a,visible:o,text:e,fill:m,fontFamily:r,fontSize:l,fontStyle:c,fontWeight:h,textAlign:p,lineHeight:f,textBaseline:y})}var{OBJECT:Xdt,STRING:Zdt,BaseProperties:qdt,Validate:MY,clamp:Qdt}=z,Jdt=10,tpt=11,AY=20,ept=22,ipt=10,DY=AY+ipt,IY=34,npt=class extends xl(Rs(qdt)){},fa=class extends xl(Rs(KA)){constructor(){super(...arguments),this.type="note",this.background=new npt,this.position="bottom",this.alignment="center",this.width=200}static is(t){return Qi(t)&&t.type==="note"}getDefaultColor(t){switch(t){case"line-color":return this.fill;case"text-color":return this.color}}getDefaultOpacity(t){switch(t){case"line-color":return this.fillOpacity;case"text-color":return}}getPadding(){const t=this.padding??Jdt;return{top:t,right:t,bottom:t,left:t}}getTextInputCoords(t,e){const{width:i,text:n}=this,s=super.getTextInputCoords(t,e),a=this.getPadding().top,o=CO(this,n,s);o.x=Qdt(i/2,o.x,t.seriesRect.width-i/2);const r=o.y-DY-a*2,l=o.y+tpt+a*2,c=Math.max(o.height,e);return r-c-IY<0?(o.y=l,this.position="top"):(o.y=r+a,this.position="bottom"),{x:o.x,y:o.y}}};A([MY(Zdt)],fa.prototype,"type");A([MY(Xdt,{optional:!0})],fa.prototype,"background");var{BaseProperties:spt}=z,apt=class extends tp(fY(fh(spt))){isValidWithContext(t,e){return super.isValid(e)}getDefaultColor(t){}getDefaultOpacity(t){}},kO=class TY extends xl(apt){constructor(){super(...arguments),this.size=32}static is(e){return e instanceof TY}getDefaultColor(e){return e==="fill-color"?this.fill:void 0}getDefaultOpacity(e){return e==="fill-color"?this.fillOpacity:void 0}};function Rx(t,e,i,n){let s=!0;return s&&(s=xr(t,e.start,i,n&&`${n}[start] `)),s&&(s=xr(t,e.end,i,n&&`${n}[end] `)),s}function CY(t,e,i){const n=e.direction==="horizontal"?t.yAxis:t.xAxis,s=nL(e.value,n);if(!s&&i){const{value:a}=oi(e.value);ve.warnOnce(`${i}is outside the axis domain, ignoring. - value: [${a}]]`)}return s}function xr(t,e,i,n){if(e.x==null||e.y==null)return n&&ve.warnOnce(`${n}requires both an [x] and [y] property, ignoring.`),!1;const s=(i==null?void 0:i.x)===!1?!0:nL(e.x,t.xAxis),a=(i==null?void 0:i.y)===!1?!0:nL(e.y,t.yAxis);if(!s||!a){let o="x & y domains";if(s&&(o="y domain"),a&&(o="x domain"),n){const{value:r}=oi(e.x),{value:l}=oi(e.y);ve.warnOnce(`${n}is outside the ${o}, ignoring. - x: [${r}], y: ${l}]`)}return!1}return!0}function nL(t,e){const{domain:i}=e.scale,{value:n}=oi(t);return i&&n!=null&&e.continuous?n>=i[0]&&n<=i.at(-1):!0}function opt(t){return(t==null?void 0:t.x)!=null&&(t==null?void 0:t.y)!=null}var{OBJECT:kY,STRING:LY,BaseProperties:NY,Validate:JA}=z,Ds=class extends tp(gY(fh(yY(Rs(Bc(NY)))))){constructor(){super(...arguments),this.direction="horizontal",this.type="horizontal-line",this.text=new Jd}static is(t){return Qi(t)&&t.type==="horizontal-line"}isValidWithContext(t,e){return super.isValid(e)&&CY(t,this,e)}getDefaultColor(){return this.stroke}getDefaultOpacity(){return this.strokeOpacity}getLineDash(){return kg(this.lineDash,this.computedLineDash,this.lineStyle,this.strokeWidth)}getLineCap(){return Lg(this.lineCap,this.lineDash,this.lineStyle)}};A([JA(LY)],Ds.prototype,"type");A([JA(kY,{optional:!0})],Ds.prototype,"text");var qr=class extends tp(gY(fh(yY(Rs(Bc(NY)))))){constructor(){super(...arguments),this.direction="vertical",this.type="vertical-line",this.text=new Jd}static is(t){return Qi(t)&&t.type==="vertical-line"}isValidWithContext(t,e){return super.isValid(e)&&CY(t,this,e)}getDefaultColor(){return this.stroke}getDefaultOpacity(){return this.strokeOpacity}getLineDash(){return kg(this.lineDash,this.computedLineDash,this.lineStyle,this.strokeWidth)}getLineCap(){return Lg(this.lineCap,this.lineDash,this.lineStyle)}};A([JA(LY)],qr.prototype,"type");A([JA(kY,{optional:!0})],qr.prototype,"text");var{NUMBER:EY,OBJECT:rpt,STRING:lpt,BaseProperties:cpt,Validate:tD}=z,ko=class extends tp(xO(mO(fh(vO(Rs(Bc(cpt))))))){constructor(){super(...arguments),this.type="disjoint-channel",this.text=new Ib,this.snapToAngle=45}static is(t){return Qi(t)&&t.type==="disjoint-channel"}get bottom(){const t={start:{x:this.start.x,y:this.start.y},end:{x:this.end.x,y:this.end.y}};return typeof t.start.y=="number"&&typeof t.end.y=="number"?(t.start.y-=this.startHeight,t.end.y-=this.endHeight):ve.warnOnce(`Annotation [${this.type}] can only be used with a numeric y-axis.`),t}isValidWithContext(t,e){return super.isValid(e)&&Rx(t,this,{y:!1},e)&&Rx(t,this.bottom,{y:!1},e)}getDefaultColor(t){switch(t){case"fill-color":return this.background.fill;case"line-color":return this.stroke;case"text-color":return this.text.color}}getDefaultOpacity(t){switch(t){case"fill-color":return this.background.fillOpacity;case"line-color":return this.strokeOpacity}}getLineDash(){return kg(this.lineDash,this.computedLineDash,this.lineStyle,this.strokeWidth)}getLineCap(){return Lg(this.lineCap,this.lineDash,this.lineStyle)}};A([tD(lpt)],ko.prototype,"type");A([tD(EY)],ko.prototype,"startHeight");A([tD(EY)],ko.prototype,"endHeight");A([tD(rpt,{optional:!0})],ko.prototype,"text");var{OBJECT:upt,STRING:OY,Validate:LO}=z,eD=class extends SO(Ldt(vO(Rs(Bc(MO))))){constructor(){super(...arguments),this.text=new Jd}isValidWithContext(t,e){return super.isValid(e)&&Rx(t,this,void 0,e)}getDefaultColor(t){switch(t){case"line-color":return this.stroke;case"text-color":return this.text.color}}getDefaultOpacity(){return this.strokeOpacity}getLineDash(){return kg(this.lineDash,this.computedLineDash,this.lineStyle,this.strokeWidth)}getLineCap(){return Lg(this.lineCap,this.lineDash,this.lineStyle)}};A([LO(upt,{optional:!0})],eD.prototype,"text");var ac=class extends eD{constructor(){super(...arguments),this.type="arrow",this.endCap="arrow"}static is(t){return Qi(t)&&t.type==="arrow"}};A([LO(OY)],ac.prototype,"type");var oc=class extends eD{constructor(){super(...arguments),this.type="line"}static is(t){return Qi(t)&&t.type==="line"}};A([LO(OY)],oc.prototype,"type");var{OBJECT:hpt,BOOLEAN:NO,COLOR_STRING:dpt,COLOR_STRING_ARRAY:ppt,Validate:ip,predicateWithMessage:fpt}=z,gpt=[10,6,4],ypt=fpt(t=>Fu(t)&&gpt.includes(t),"Number of fibonacci ranges, 10, 6 or 4"),zc=class extends eD{constructor(){super(...arguments),this.label=new kdt,this.reverse=!1,this.showFill=!0,this.isMultiColor=!0,this.strokes=[],this.bands=10}getDefaultColor(t){switch(t){case"line-color":return this.rangeStroke??this.stroke;case"text-color":return this.text.color}}};A([ip(hpt,{optional:!0})],zc.prototype,"label");A([ip(NO,{optional:!0})],zc.prototype,"reverse");A([ip(NO,{optional:!0})],zc.prototype,"showFill");A([ip(NO,{optional:!0})],zc.prototype,"isMultiColor");A([ip(ppt,{optional:!0})],zc.prototype,"strokes");A([ip(dpt,{optional:!0})],zc.prototype,"rangeStroke");A([ip(ypt,{optional:!0})],zc.prototype,"bands");var{STRING:mpt,OBJECT:xpt,Validate:wY}=z,Qr=class extends zc{constructor(){super(...arguments),this.type="fibonacci-retracement-trend-based",this.endRetracement=new Ex}static is(t){return Qi(t)&&t.type==="fibonacci-retracement-trend-based"}};A([wY(mpt)],Qr.prototype,"type");A([wY(xpt)],Qr.prototype,"endRetracement");var{STRING:bpt,Validate:vpt}=z,rc=class extends zc{constructor(){super(...arguments),this.type="fibonacci-retracement"}static is(t){return Qi(t)&&t.type==="fibonacci-retracement"}};A([vpt(bpt)],rc.prototype,"type");var{NUMBER:Spt,STRING:Mpt,OBJECT:RY,BaseProperties:Apt,Validate:iD}=z,Lo=class extends tp(xO(mO(fh(vO(Rs(Bc(Apt))))))){constructor(){super(...arguments),this.type="parallel-channel",this.middle=new Idt,this.text=new Ib,this.snapToAngle=45}static is(t){return Qi(t)&&t.type==="parallel-channel"}get bottom(){const t={start:{x:this.start.x,y:this.start.y},end:{x:this.end.x,y:this.end.y}};return typeof t.start.y=="number"&&typeof t.end.y=="number"?(t.start.y-=this.height,t.end.y-=this.height):ve.warnOnce(`Annotation [${this.type}] can only be used with a numeric y-axis.`),t}isValidWithContext(t,e){return super.isValid(e)&&Rx(t,this,{y:!1},e)&&Rx(t,this.bottom,{y:!1},e)}getDefaultColor(t){switch(t){case"fill-color":return this.background.fill;case"line-color":return this.stroke;case"text-color":return this.text.color}}getDefaultOpacity(t){switch(t){case"fill-color":return this.background.fillOpacity;case"line-color":return this.strokeOpacity}}getLineDash(){return kg(this.lineDash,this.computedLineDash,this.lineStyle,this.strokeWidth)}getLineCap(){return Lg(this.lineCap,this.lineDash,this.lineStyle)}};A([iD(Mpt)],Lo.prototype,"type");A([iD(Spt)],Lo.prototype,"height");A([iD(RY,{optional:!0})],Lo.prototype,"middle");A([iD(RY,{optional:!0})],Lo.prototype,"text");var{STRING:Dpt,Validate:Ipt}=z,lc=class extends KA{constructor(){super(...arguments),this.type="text",this.position="bottom"}static is(t){return Qi(t)&&t.type==="text"}};A([Ipt(Dpt)],lc.prototype,"type");function Vu(t){return Ba.is(t)}function nD(t){return oc.is(t)||Ds.is(t)||qr.is(t)||ac.is(t)||PY(t)}function yc(t){return ko.is(t)||Lo.is(t)}function PY(t){return rc.is(t)||Qr.is(t)}function rl(t){return cr.is(t)||Zr.is(t)||fa.is(t)||lc.is(t)}function Tb(t){return To.is(t)||Co.is(t)||sc.is(t)||Ba.is(t)}function u1(t){return rl(t)&&!fa.is(t)}function Nu(t){return nD(t)||yc(t)||Tb(t)&&!Ba.is(t)}function Tpt(t){return nD(t)||yc(t)||Tb(t)||cr.is(t)||fa.is(t)}function Cpt(t){return fa.is(t)}function kpt(t){return yc(t)||Tb(t)||cr.is(t)||Zr.is(t)||kO.is(t)}function Lpt(t){return rl(t)&&!fa.is(t)}function Yf(t){return(nD(t)||yc(t)||Tb(t))&&!Vu(t)&&Qi(t.text)}function Npt(t,e){"fontSize"in t&&(t.fontSize=e),Yf(t)&&(t.text.fontSize=e)}function BY(t,e){const i=(e==null?void 0:e.strokeWidth)??t.strokeWidth??1,n=(e==null?void 0:e.type)??t.lineStyle,s=n??wx(t.lineDash,n),a=bY(i,s);t.strokeWidth=i,t.computedLineDash=a,t.lineStyle=s,t.lineCap=s==="dotted"?"round":void 0}function sD(t,e,i,n,s,a){switch(e){case"fill-color":{"fill"in t&&(t.fill=n),"fillOpacity"in t&&(t.fillOpacity=s),"background"in t&&(t.background.fill=n,t.background.fillOpacity=s);break}case"line-color":{"axisLabel"in t&&(t.axisLabel.fill=n,t.axisLabel.fillOpacity=s,t.axisLabel.stroke=n,t.axisLabel.strokeOpacity=s),"fill"in t&&"fillOpacity"in t&&Cpt(t)?(t.fill=n,t.fillOpacity=s):("strokeOpacity"in t&&(t.strokeOpacity=s),"isMultiColor"in t&&"rangeStroke"in t?(t.isMultiColor=a,t.rangeStroke=n):"stroke"in t&&(t.stroke=n));break}case"text-color":{"color"in t&&(t.color=i),Yf(t)&&(t.text.color=n);break}}}var{deepClone:mo}=z,Ept=class{constructor(){this.mementoOriginatorKey="annotation-defaults",this.colors=new Map(Object.values(pO).map(t=>[t,new Map([["line-color",void 0],["fill-color",void 0],["text-color",void 0]])])),this.fontSizes=new Map([["callout",void 0],["comment",void 0],["text",void 0],["arrow",void 0],["line",void 0],["disjoint-channel",void 0],["parallel-channel",void 0],["date-range",void 0],["price-range",void 0],["date-price-range",void 0]]),this.lineStyles=new Map([["line",void 0],["horizontal-line",void 0],["vertical-line",void 0],["disjoint-channel",void 0],["parallel-channel",void 0],["arrow",void 0],["date-range",void 0],["price-range",void 0],["date-price-range",void 0]]),this.lineTextAlignments=new Map([["line",void 0],["horizontal-line",void 0],["vertical-line",void 0],["disjoint-channel",void 0],["parallel-channel",void 0],["arrow",void 0],["date-range",void 0],["price-range",void 0],["date-price-range",void 0]]),this.lineTextPositions=new Map([["line",void 0],["horizontal-line",void 0],["vertical-line",void 0],["disjoint-channel",void 0],["parallel-channel",void 0],["arrow",void 0],["date-range",void 0],["price-range",void 0],["date-price-range",void 0]]),this.fibonacciOptions=new Map([["fibonacci-retracement",{bands:void 0,reverse:void 0,showFill:void 0}],["fibonacci-retracement-trend-based",{bands:void 0,reverse:void 0,showFill:void 0}]])}createMemento(){return{colors:mo(this.colors),fontSizes:mo(this.fontSizes),lineStyles:mo(this.lineStyles),lineTextAlignments:mo(this.lineTextAlignments),lineTextPositions:mo(this.lineTextPositions),fibonacciOptions:mo(this.fibonacciOptions)}}guardMemento(t){return!0}restoreMemento(t,e,i){this.colors=mo(i.colors),this.fontSizes=mo(i.fontSizes),this.lineStyles=mo(i.lineStyles),this.lineTextAlignments=mo(i.lineTextAlignments),this.lineTextPositions=mo(i.lineTextPositions),this.fibonacciOptions=mo(i.fibonacciOptions)}setDefaultColor(t,e,i,n,s,a){var o;(o=this.colors.get(t))==null||o.set(e,[i,n,s,a])}setDefaultFontSize(t,e){this.fontSizes.set(t,e)}setDefaultLineStyleType(t,e){const i=this.lineStyles.get(t);i?i.type=e:this.lineStyles.set(t,{type:e})}setDefaultLineStyleWidth(t,e){const i=this.lineStyles.get(t);i?i.strokeWidth=e:this.lineStyles.set(t,{strokeWidth:e})}setDefaultLineTextAlignment(t,e){this.lineTextAlignments.set(t,e)}setDefaultLineTextPosition(t,e){this.lineTextPositions.set(t,e)}setDefaultFibonacciOptions(t,e,i){if(t!="fibonacci-retracement"&&t!="fibonacci-retracement-trend-based")return;const n=this.fibonacciOptions.get(t);n[e]=i,this.fibonacciOptions.set(t,n)}applyDefaults(t){for(const[e,i]of this.colors)if(t.type===e)for(const[n,[s,a,o,r]=[]]of i)s&&a&&o!=null&&r!=null&&sD(t,n,s,a,o,r);for(const[e,i]of this.fontSizes)t.type!==e||i==null||Npt(t,i);for(const[e,i]of this.lineStyles)t.type!==e||i==null||BY(t,i);for(const[e,i]of this.lineTextPositions)t.type!==e||i==null||(t.text.position=i);for(const[e,i]of this.lineTextAlignments)t.type!==e||i==null||(t.text.alignment=i);for(const[e,i]of this.fibonacciOptions)t.type!==e||i==null||Object.entries(i).forEach(([n,s])=>{s!=null&&t.set({[n]:s})})}},Opt='<div class="ag-charts-color-picker__palette" tabindex="0"></div><div class="ag-charts-color-picker__color-row"><button class="ag-charts-color-picker__multi-color-button" tabindex="0" type="button"></button> <input class="ag-charts-color-picker__hue-input" tabindex="0" type="range" min="0" max="360" value="0"></div><input class="ag-charts-color-picker__alpha-input" tabindex="0" type="range" min="0" max="1" value="1" step="0.01"> <label class="ag-charts-color-picker__color-field"><span class="ag-charts-color-picker__color-label">Color</span> <input class="ag-charts-color-picker__color-input" tabindex="0" value="#000"></label>',{Color:sL,clamp:Pv,createElement:wpt}=z,uj=t=>{try{const e=sL.fromString(t),[i,n,s]=e.toHSB();return[i,n,s,e.a]}catch{return}},zY=class extends z.AnchoredPopover{constructor(t,e){super(t,"color-picker",e),this.hasChanged=!1,this.hideFns.push(()=>{var i;this.hasChanged&&((i=this.onChangeHide)==null||i.call(this))})}show(t){this.hasChanged=!1,this.onChangeHide=t.onChangeHide;const{element:e,initialFocus:i}=this.createColorPicker(t),n=this.showWithChildren([e],{initialFocus:i,...t});n.classList.add("ag-charts-color-picker"),n.setAttribute("role","dialog")}createColorPicker(t){let e=t.isMultiColor??!1,[i,n,s,a]=uj(t.color??"#f00")??[0,1,.5,1];a=t.opacity??a;const o=wpt("div","ag-charts-color-picker__content");o.innerHTML=Opt,o.ariaLabel=this.ctx.localeManager.t("ariaLabelColorPicker");const r=o.querySelector(".ag-charts-color-picker__palette"),l=o.querySelector(".ag-charts-color-picker__hue-input"),c=o.querySelector(".ag-charts-color-picker__multi-color-button"),h=o.querySelector(".ag-charts-color-picker__alpha-input"),p=o.querySelector(".ag-charts-color-picker__color-input"),f=o.querySelector(".ag-charts-color-picker__color-label");c.classList.toggle("ag-charts-color-picker__multi-color-button--hidden",!t.hasMultiColorOption);const y=(S=!0)=>{var T;const I=sL.fromHSB(i,n,s,a).toHexString();if(o.style.setProperty("--h",`${i}`),o.style.setProperty("--s",`${n}`),o.style.setProperty("--v",`${s}`),o.style.setProperty("--a",`${a}`),o.style.setProperty("--color",I.slice(0,7)),o.style.setProperty("--color-a",I),l.value=`${i}`,h.value=`${a}`,h.classList.toggle("ag-charts-color-picker__alpha-input--opaque",a===1),c.classList.toggle("ag-charts-color-picker__multi-color-button--active",e),f.classList.toggle("ag-charts-color-picker__color-label--multi-color",e),document.activeElement!==p&&(p.value=e?"Multi Colour":I.toUpperCase()),S||t.color==null){const k=sL.fromHSB(i,n,s,1).toHexString();(T=t.onChange)==null||T.call(t,I,k,a,e)}S&&(this.hasChanged=!0)};y(!1);const m=S=>S.preventDefault(),b=S=>S.stopPropagation(),v=S=>{S.preventDefault();const D=S.currentTarget;D.focus();const I=D.getBoundingClientRect(),T=({pageX:E,pageY:O})=>{e=!1,n=Math.min(Math.max((E-I.left)/I.width,0),1),s=1-Math.min(Math.max((O-I.top)/I.height,0),1),y()},k=()=>{window.removeEventListener("pointermove",T)};T(S),window.addEventListener("pointermove",T),window.addEventListener("pointerup",k,{once:!0})};return o.addEventListener("mousedown",b),o.addEventListener("touchstart",b),o.addEventListener("touchmove",b),o.addEventListener("keydown",S=>{switch(S.stopPropagation(),S.key){case"Enter":case"Escape":this.hide();break;default:return}S.preventDefault()}),r.addEventListener("pointerdown",v),r.addEventListener("touchstart",m,{passive:!1}),r.addEventListener("touchmove",m,{passive:!1}),r.addEventListener("keydown",S=>{if(S.key==="ArrowLeft")n=Pv(0,n-.01,1);else if(S.key==="ArrowRight")n=Pv(0,n+.01,1);else if(S.key==="ArrowUp")s=Pv(0,s+.01,1);else if(S.key==="ArrowDown")s=Pv(0,s-.01,1);else return;S.preventDefault(),y()}),c.addEventListener("click",()=>{e=!e,y()}),l.addEventListener("input",S=>{e=!1,i=S.currentTarget.valueAsNumber??0,y()}),h.addEventListener("input",S=>{e=!1,a=S.currentTarget.valueAsNumber??0,y()}),p.addEventListener("input",S=>{e=!1;const D=uj(S.currentTarget.value);D!=null&&([i,n,s,a]=D,y())}),p.addEventListener("blur",()=>y()),p.addEventListener("keydown",S=>{S.key==="Enter"&&(S.currentTarget.blur(),y())}),{element:o,initialFocus:r}}};function hj(t){return!(t instanceof z.LogScale)&&!(t instanceof z.BandScale)}var Rpt=[{label:"toolbarAnnotationsTrendLine",icon:"trend-line-drawing",value:"line"},{label:"toolbarAnnotationsHorizontalLine",icon:"horizontal-line-drawing",value:"horizontal-line"},{label:"toolbarAnnotationsVerticalLine",icon:"vertical-line-drawing",value:"vertical-line"},{label:"toolbarAnnotationsParallelChannel",icon:"parallel-channel-drawing",value:"parallel-channel",visible:hj},{label:"toolbarAnnotationsDisjointChannel",icon:"disjoint-channel-drawing",value:"disjoint-channel",visible:hj}],Ppt=[{label:"toolbarAnnotationsFibonacciRetracement",icon:"fibonacci-retracement-drawing",value:"fibonacci-retracement"},{label:"toolbarAnnotationsFibonacciRetracementTrendBased",icon:"fibonacci-retracement-trend-based-drawing",value:"fibonacci-retracement-trend-based"}],Bpt=[{label:"Fibonacci - Extended",value:10},{label:"Fibonacci - 6 Band",value:6},{label:"Fibonacci - 4 Band",value:4}],zpt=[{label:"toolbarAnnotationsText",icon:"text-annotation",value:"text"},{label:"toolbarAnnotationsComment",icon:"comment-annotation",value:"comment"},{label:"toolbarAnnotationsCallout",icon:"callout-annotation",value:"callout"},{label:"toolbarAnnotationsNote",icon:"note-annotation",value:"note"}],_pt=[{label:"toolbarAnnotationsArrow",icon:"arrow-drawing",value:"arrow"},{label:"toolbarAnnotationsArrowUp",icon:"arrow-up-drawing",value:"arrow-up"},{label:"toolbarAnnotationsArrowDown",icon:"arrow-down-drawing",value:"arrow-down"}],jpt=[{label:"toolbarAnnotationsQuickDatePriceRange",icon:"measurer-drawing",value:"quick-date-price-range"},{label:"toolbarAnnotationsDateRange",icon:"date-range-drawing",value:"date-range"},{label:"toolbarAnnotationsPriceRange",icon:"price-range-drawing",value:"price-range"},{label:"toolbarAnnotationsDatePriceRange",icon:"date-price-range-drawing",value:"date-price-range"}],_Y=[{strokeWidth:1,label:"1",value:1},{strokeWidth:2,label:"2",value:2},{strokeWidth:3,label:"3",value:3},{strokeWidth:4,label:"4",value:4},{strokeWidth:8,label:"8",value:8}],$m=[{icon:"line-style-solid",altText:"iconAltTextLineStyleSolid",value:"solid"},{icon:"line-style-dashed",altText:"iconAltTextLineStyleDashed",value:"dashed"},{icon:"line-style-dotted",altText:"iconAltTextLineStyleDotted",value:"dotted"}],jY=[{label:"10",value:10},{label:"12",value:12},{label:"14",value:14},{label:"16",value:16},{label:"18",value:18},{label:"22",value:22},{label:"28",value:28},{label:"36",value:36},{label:"46",value:46}],{ARRAY:Fpt,BOOLEAN:Gpt,NUMBER:Vpt,OBJECT:Upt,STRING:Hpt,UNION:Wpt,Color:dj,FloatingToolbar:Ypt,Listeners:$pt,Menu:h1,PropertiesArray:Kpt,ToolbarButtonProperties:pj,ToolbarButtonWidget:Xpt,Validate:np}=z,Og=class extends pj{constructor(){super(...arguments),this.checkedOverrides=new pj}};A([np(Wpt(["line-stroke-width","line-style-type","line-color","fill-color","text-color","text-size","delete","settings","lock"]))],Og.prototype,"value");A([np(Upt,{optional:!0})],Og.prototype,"checkedOverrides");A([np(Hpt,{optional:!0})],Og.prototype,"color");A([np(Vpt,{optional:!0})],Og.prototype,"strokeWidth");A([np(Boolean,{optional:!0})],Og.prototype,"isMultiColor");var Zpt=class extends Xpt{update(t){super.update(t),t.value==="line-stroke-width"&&this.updateLineStrokeWidth(t),(t.value==="fill-color"||t.value==="line-color"||t.value==="text-color")&&this.updateFillColor(t)}updateFillColor(t){const e=this.getElement();e.classList.add("ag-charts-annotations__color-picker-button"),e.classList.toggle("ag-charts-annotations__color-picker-button--multi-color",t.isMultiColor),e.style.setProperty("--color",t.color??null)}updateLineStrokeWidth(t){const e=this.getElement();e.classList.add("ag-charts-annotations__stroke-width-button"),e.style.setProperty("--stroke-width",`${t.strokeWidth}px`)}},qpt=class extends Ypt{createButtonWidget(){return new Zpt(this.localeManager)}},EO=class extends z.BaseProperties{constructor(t,e){super(),this.ctx=t,this.getActiveDatum=e,this.enabled=!0,this.buttons=new Kpt(Og),this.destroyFns=[],this.events=new $pt,this.visibleButtons=[],this.toolbar=new qpt(this.ctx,"annotation-options"),this.colorPicker=new zY(this.ctx),this.textSizeMenu=new h1(this.ctx,"text-size"),this.lineStyleTypeMenu=new h1(this.ctx,"annotations-line-style-type"),this.lineStrokeWidthMenu=new h1(this.ctx,"annotations-line-stroke-width"),this.destroyFns.push(this.toolbar.addToolbarListener("button-pressed",this.onButtonPress.bind(this)),this.toolbar.addToolbarListener("toolbar-moved",this.onToolbarMoved.bind(this)),t.widgets.seriesWidget.addListener("drag-start",this.onDragStart.bind(this)),t.widgets.seriesWidget.addListener("drag-end",this.onDragEnd.bind(this)),()=>this.colorPicker.destroy())}onDragStart(){this.toolbar.ignorePointerEvents()}onDragEnd(){this.toolbar.capturePointerEvents()}destroy(){for(const t of this.destroyFns)t()}addListener(t,e){return this.events.addListener(t,e)}show(){this.toolbar.show({})}hide(){this.toolbar.hide()}updateButtons(t){const e={"line-style-type":Nu(t),"line-stroke-width":Nu(t),"line-color":Tpt(t),"text-color":Lpt(t),"fill-color":kpt(t),"text-size":u1(t),settings:Yf(t),lock:!0,delete:!0};this.visibleButtons=this.buttons.filter(i=>e[i.value]),this.toolbar.clearButtons(),this.toolbar.updateButtons(this.visibleButtons),this.refreshButtons(t)}setAnchorScene(t){this.toolbar.hasBeenDragged()||this.toolbar.setAnchor(t.getAnchor())}hideOverlays(){this.toolbar.clearActiveButton(),this.colorPicker.hide({lastFocus:null}),this.textSizeMenu.hide(),this.lineStyleTypeMenu.hide(),this.lineStrokeWidthMenu.hide(),this.dispatch("hid-overlays")}clearActiveButton(){this.toolbar.clearActiveButton()}updateColors(t){this.updateColorPickerColor("line-color",t.getDefaultColor("line-color"),t.getDefaultOpacity("line-color"),"isMultiColor"in t&&(t==null?void 0:t.isMultiColor)),this.updateColorPickerColor("fill-color",t.getDefaultColor("fill-color"),t.getDefaultOpacity("fill-color"),"isMultiColor"in t&&(t==null?void 0:t.isMultiColor)),this.updateColorPickerColor("text-color",t.getDefaultColor("text-color"),t.getDefaultOpacity("text-color"),"isMultiColor"in t&&(t==null?void 0:t.isMultiColor))}updateColorPickerColor(t,e,i,n){if(e!=null&&i!=null){const{r:s,g:a,b:o}=dj.fromString(e);e=dj.fromArray([s,a,o,i]).toHexString()}this.updateButtonByValue(t,{color:e,isMultiColor:n})}updateFontSize(t){this.updateButtonByValue("text-size",{label:t!=null?String(t):void 0})}updateLineStyleType(t){this.updateButtonByValue("line-style-type",{icon:t.icon})}updateStrokeWidth(t){this.updateButtonByValue("line-stroke-width",{label:t.label,strokeWidth:t.value})}dispatch(t,e){this.events.dispatch(t,e)}onButtonPress({event:t,button:e}){const i=this.getActiveDatum();if(i)switch(this.hideOverlays(),e.value){case"line-style-type":{const n=Nu(i)?wx(i.lineDash,i.lineStyle):void 0;this.lineStyleTypeMenu.show({items:$m,ariaLabel:this.ctx.localeManager.t("toolbarAnnotationsLineStyle"),value:n,sourceEvent:t.sourceEvent,onPress:s=>this.onLineStyleTypeMenuPress(s,i),class:"ag-charts-annotations__line-style-type-menu"});break}case"line-stroke-width":{const n=Nu(i)?i.strokeWidth:void 0;this.lineStrokeWidthMenu.show({items:_Y,ariaLabel:this.ctx.localeManager.t("toolbarAnnotationsLineStrokeWidth"),value:n,sourceEvent:t.sourceEvent,onPress:s=>this.onLineStrokeWidthMenuPress(s,i),class:"ag-charts-annotations__line-stroke-width-menu"});break}case"line-color":case"fill-color":case"text-color":{this.toolbar.toggleActiveButtonByIndex(e.index),this.colorPicker.show({color:i==null?void 0:i.getDefaultColor(e.value),opacity:i==null?void 0:i.getDefaultOpacity(e.value),sourceEvent:t.sourceEvent,hasMultiColorOption:"isMultiColor"in i,isMultiColor:"isMultiColor"in i&&(i==null?void 0:i.isMultiColor),onChange:i!=null?this.onColorPickerChange.bind(this,e.value,i):void 0,onChangeHide:(n=>{this.dispatch("saved-color",{type:i.type,colorPickerType:e.value,color:i.getDefaultColor(n)})}).bind(this,e.value)});break}case"text-size":{const n=rl(i)?i.fontSize:void 0;this.textSizeMenu.show({items:jY,ariaLabel:this.ctx.localeManager.t("toolbarAnnotationsTextSize"),value:n,sourceEvent:t.sourceEvent,onPress:s=>this.onTextSizeMenuPress(s,i),class:"ag-charts-annotations__text-size-menu"});break}case"delete":{this.dispatch("pressed-delete");break}case"lock":{i.locked=!i.locked,this.refreshButtons(i),this.dispatch("pressed-lock");break}case"settings":{this.toolbar.toggleActiveButtonByIndex(e.index),this.dispatch("pressed-settings",t);break}}}onToolbarMoved(t){const{buttonBounds:e,popoverBounds:i}=t,n={x:i.x,y:i.y+i.height+4},s={y:i.y-4};this.colorPicker.setAnchor(n,s);for(const[a,o]of e.entries()){const r=this.visibleButtons.at(a);if(!r)continue;const l={x:o.x,y:o.y+o.height-1},c={y:o.y};switch(r.value){case"line-stroke-width":this.lineStrokeWidthMenu.setAnchor(l,c);break;case"line-style-type":this.lineStyleTypeMenu.setAnchor(l,c);break;case"text-size":this.textSizeMenu.setAnchor(l,c);break}}}onColorPickerChange(t,e,i,n,s,a){this.dispatch("updated-color",{type:e.type,colorPickerType:t,colorOpacity:i,color:n,opacity:s,isMultiColor:a}),this.updateColorPickerColor(t,i,s,a)}onTextSizeMenuPress(t,e){if(!u1(e))return;const i=t.value;this.dispatch("updated-font-size",{type:e.type,fontSize:i}),this.textSizeMenu.hide(),this.updateFontSize(i)}onLineStyleTypeMenuPress(t,e){if(!Nu(e))return;const i=t.value;this.dispatch("updated-line-style",{type:e.type,lineStyleType:i}),this.lineStyleTypeMenu.hide(),this.updateLineStyleType(t)}onLineStrokeWidthMenuPress(t,e){if(!Nu(e))return;const i=t.value;this.dispatch("updated-line-width",{type:e.type,strokeWidth:i}),this.lineStrokeWidthMenu.hide(),this.updateStrokeWidth(t)}refreshButtons(t){const e=t.locked??!1;for(const[i,n]of this.visibleButtons.entries())n&&(n.value==="lock"?(this.toolbar.toggleSwitchCheckedByIndex(i,e),this.updateButtonByIndex(i,e?n.checkedOverrides.toJson():n.toJson())):this.toolbar.toggleButtonEnabledByIndex(i,!e));u1(t)&&this.updateFontSize(t.fontSize),this.updateColors(t),this.updateLineStyles(t)}updateLineStyles(t){if(!Nu(t))return;const e=t.strokeWidth??1,i=wx(t.lineDash,t.lineStyle);this.updateStrokeWidth({strokeWidth:e,value:e,label:String(e)}),this.updateLineStyleType($m.find(n=>n.value===i)??$m[0])}updateButtonByValue(t,e){const i=this.visibleButtons.findIndex(n=>n.value===t);i!==-1&&this.updateButtonByIndex(i,e)}updateButtonByIndex(t,e){const i=this.visibleButtons.at(t);i&&this.toolbar.updateButtonByIndex(t,{...i.toJson(),...e,value:e.value??i.value})}};A([np(Gpt)],EO.prototype,"enabled");A([np(Fpt)],EO.prototype,"buttons");var{StateMachine:fj,StateMachineProperty:OO,Vec2:gj,Debug:Qpt}=z,Ji=class extends fj{constructor(t){const e=({context:i})=>{var n;(n=this.node)==null||n.drag(this.datum,this.offset,i,this.snapping),t.update()};super("idle",{idle:{dragStart:{target:"dragging",action:({offset:i,context:n})=>{var s;this.hasMoved=!1,this.dragStart=i,this.offset=i,(s=this.node)==null||s.dragStart(this.datum,i,n)}}},dragging:{keyDown:e,keyUp:e,drag:({offset:i,context:n})=>{var s;this.hasMoved=gj.lengthSquared(gj.sub(i,this.dragStart))>0,this.offset=i,(s=this.node)==null||s.drag(this.datum,i,n,this.snapping),t.update()},dragEnd:{target:fj.parent,action:()=>{var i;(i=this.node)==null||i.stopDragging(),this.hasMoved&&t.recordAction("Move annotation"),t.update()}}}}),this.debug=Qpt.create(!0,"annotations"),this.hasMoved=!1,this.snapping=!1}};A([OO()],Ji.prototype,"snapping");A([OO()],Ji.prototype,"datum");A([OO()],Ji.prototype,"node");var{STRING:Jpt,Validate:tft}=z,Eu=class extends kO{constructor(){super(...arguments),this.type="arrow-down"}static is(t){return Qi(t)&&t.type==="arrow-down"}};A([tft(Jpt)],Eu.prototype,"type");var FY=class GY extends z.Group{constructor(){super(...arguments),this.active=!1,this.locked=!1,this.visible=!1,this.zIndex=1}drag(e){const{handle:i,locked:n}=this;return n?{point:{x:i.x,y:i.y},offset:{x:0,y:0}}:{point:e,offset:{x:e.x-i.x,y:e.y-i.y}}}toggleActive(e){this.active=e,e||(this.handle.strokeWidth=GY.INACTIVE_STROKE_WIDTH)}toggleHovered(e){this.glow.visible=!this.locked&&e,this.glow.dirtyPath=!0}toggleDragging(e){this.locked||(this.handle.visible=!e,this.glow.visible=this.glow.visible&&!e,this.handle.dirtyPath=!0,this.glow.dirtyPath=!0)}toggleLocked(e){this.locked=e}getCursor(){}containsPoint(e,i){return this.handle.containsPoint(e,i)}};FY.INACTIVE_STROKE_WIDTH=2;var Ku=FY,wO=class VY extends Ku{constructor(){super(),this.handle=new z.Marker({shape:"circle"}),this.glow=new z.Marker({shape:"circle"}),this.append([this.handle]),this.handle.size=VY.HANDLE_SIZE,this.handle.strokeWidth=Ku.INACTIVE_STROKE_WIDTH,this.handle.zIndex=2}update(e){this.handle.setProperties({...e,strokeWidth:Ku.INACTIVE_STROKE_WIDTH})}drag(e){return{point:e,offset:{x:0,y:0}}}};wO.HANDLE_SIZE=7;wO.GLOW_SIZE=9;var Ou=wO,aD=class da extends Ku{constructor(){super(),this.handle=new z.Rect,this.glow=new z.Rect,this.gradient="horizontal",this.append([this.glow,this.handle]),this.handle.cornerRadius=da.CORNER_RADIUS,this.handle.width=da.HANDLE_SIZE,this.handle.height=da.HANDLE_SIZE,this.handle.strokeWidth=Ku.INACTIVE_STROKE_WIDTH,this.handle.zIndex=2,this.glow.cornerRadius=da.CORNER_RADIUS,this.glow.width=da.GLOW_SIZE,this.glow.height=da.GLOW_SIZE,this.glow.strokeWidth=0,this.glow.fillOpacity=.2,this.glow.zIndex=1,this.glow.visible=!1}toggleLocked(e){if(super.toggleLocked(e),e){const i=(da.HANDLE_SIZE-Ou.HANDLE_SIZE)/2;this.handle.cornerRadius=1,this.handle.fill=this.handle.stroke,this.handle.strokeWidth=0,this.handle.x+=i,this.handle.y+=i,this.handle.width=Ou.HANDLE_SIZE,this.handle.height=Ou.HANDLE_SIZE,this.glow.width=Ou.GLOW_SIZE,this.glow.height=Ou.GLOW_SIZE}else this.handle.cornerRadius=da.CORNER_RADIUS,this.handle.width=da.HANDLE_SIZE,this.handle.height=da.HANDLE_SIZE,this.glow.width=da.GLOW_SIZE,this.glow.height=da.GLOW_SIZE,this.cachedStyles&&this.handle.setProperties(this.cachedStyles)}update(e){if(this.cachedStyles={...e},this.active||delete e.strokeWidth,this.locked){delete e.fill,delete e.strokeWidth;const i=(da.HANDLE_SIZE-Ou.HANDLE_SIZE)/2;e.x-=i,e.y-=i,this.cachedStyles.x-=i,this.cachedStyles.y-=i}this.handle.setProperties(e),this.glow.setProperties({...e,x:(e.x??this.glow.x)-2,y:(e.y??this.glow.y)-2,strokeWidth:0,fill:e.stroke})}drag(e){return this.locked?{point:e,offset:{x:0,y:0}}:this.gradient==="vertical"?{point:{x:e.x,y:this.handle.y},offset:{x:e.x-this.handle.x,y:0}}:{point:{x:this.handle.x,y:e.y},offset:{x:0,y:e.y-this.handle.y}}}getCursor(){if(!this.locked)return this.gradient==="vertical"?"col-resize":"row-resize"}};aD.HANDLE_SIZE=12;aD.GLOW_SIZE=16;aD.CORNER_RADIUS=4;var Bf=aD,RO=class wm extends Ku{constructor(){super(),this.handle=new z.Marker({shape:"circle"}),this.glow=new z.Marker({shape:"circle"}),this.append([this.glow,this.handle]),this.handle.size=wm.HANDLE_SIZE,this.handle.strokeWidth=Ku.INACTIVE_STROKE_WIDTH,this.handle.zIndex=2,this.glow.size=wm.GLOW_SIZE,this.glow.strokeWidth=0,this.glow.fillOpacity=.2,this.glow.zIndex=1,this.glow.visible=!1}toggleLocked(e){super.toggleLocked(e),e?(this.handle.fill=this.handle.stroke,this.handle.strokeWidth=0,this.handle.size=Ou.HANDLE_SIZE,this.glow.size=Ou.GLOW_SIZE):(this.handle.size=wm.HANDLE_SIZE,this.glow.size=wm.GLOW_SIZE,this.cachedStyles&&this.handle.setProperties(this.cachedStyles))}update(e){this.cachedStyles={...e},this.active||delete e.strokeWidth,this.locked&&(delete e.fill,delete e.strokeWidth),this.handle.setProperties(e),this.glow.setProperties({...e,strokeWidth:0,fill:e.stroke})}getCursor(){return"pointer"}};RO.HANDLE_SIZE=11;RO.GLOW_SIZE=17;var Ai=RO,{ZIndexMap:eft}=z,Un=class extends z.Group{constructor(){super(...arguments),this.name="AnnotationScene",this.zIndex=eft.CHART_ANNOTATION}static isCheck(t,e){return Qi(t)&&Object.hasOwn(t,"type")&&t.type===e}toggleHovered(t){this.toggleHandles(t)}*nonHandleChildren(){for(const t of this.children())t instanceof Ku||(yield t)}computeBBoxWithoutHandles(){return z.Transformable.toCanvas(this,z.Group.computeChildrenBBox(this.nonHandleChildren()))}updateNode(t,e,i){if(!i&&e){this.removeChild(e);return}return i&&e==null&&(e=new t,this.appendChild(e)),e}},{Vec2:UY,toRadians:ift}=z;function Px(t,e,i=!1,n,s=1){if(!i)return ri(t,e);const a=n?Mi(n,e):UY.origin();return ri(Cb(t,a,s),e)}function Cb({x:t,y:e},i,n,s=1){const{x:a,y:o}=i,r=Math.sqrt(Math.pow(t-a,2)+Math.pow(e-o,2)),l=Math.atan2(e-o,t-a),c=ift(n),h=Math.round(l/c)*c;return{x:a+r*Math.cos(h),y:o+r*Math.sin(h)*s}}function oD(t,e){const i={};return Object.entries(t).forEach(([n,s])=>{i[n]=Mi(s,e)}),i}function PO(t,e,i){const n=[],s={};Object.entries(t).forEach(([h,p])=>{const f=UY.add(p,e);n.push(f),s[h]=ri(f,i)});const{xAxis:a,yAxis:o}=i,r=(h,p,f)=>p>=h&&p<=f,l=n.every(h=>r(a.bounds.x,h.x,a.bounds.x+a.bounds.width)),c=n.every(h=>r(o.bounds.y,h.y,o.bounds.y+o.bounds.height));return{vectors:s,translateX:l,translateY:c}}var{Vec2:d1}=z,HY=class extends Un{constructor(){super(...arguments),this.handle=new Ai,this.anchor={x:0,y:0,position:"above"}}update(t,e){const i=Mi(t,e);this.updateHandle(t,i),this.anchor=this.updateAnchor(t,i,e)}dragStart(t,e,i){this.dragState={offset:e,...oD({handle:t},i)}}drag(t,e,i){const{dragState:n}=this;if(t.locked||!n)return;const s=d1.add(n.handle,d1.sub(e,n.offset)),a=ri(s,i);xr(i,a)&&(t.x=a.x,t.y=a.y)}translate(t,e,i){const n=d1.add(Mi(t,i),e),s=ri(n,i);xr(i,s)&&(t.x=s.x,t.y=s.y)}toggleHandles(t){this.handle.visible=!!t,this.handle.toggleHovered(this.activeHandle==="handle")}toggleActive(t){this.toggleHandles(t),this.handle.toggleActive(t)}stopDragging(){this.handle.toggleDragging(!1)}copy(t,e,i){const n=Mi(t,i),s=ri({x:n.x-30,y:n.y-30},i);return e.x=s.x,e.y=s.y,e}getAnchor(){return this.anchor}getCursor(){return"pointer"}containsPoint(t,e){const{handle:i}=this;return this.activeHandle=void 0,i.containsPoint(t,e)?(this.activeHandle="handle",!0):!1}getNodeAtCoords(t,e){if(this.handle.containsPoint(t,e))return"handle"}updateHandle(t,e,i){const{x:n,y:s}=this.getHandleCoords(t,e,i),a=this.getHandleStyles(t);this.handle.update({...a,x:n,y:s}),this.handle.toggleLocked(t.locked??!1)}updateAnchor(t,e,i){const n=this.getHandleCoords(t,e);return{x:n.x+i.seriesRect.x,y:n.y+i.seriesRect.y,position:this.anchor.position}}getHandleCoords(t,e,i){return{x:e.x,y:e.y}}getHandleStyles(t){return{fill:t.handle.fill,stroke:t.handle.stroke,strokeOpacity:t.handle.strokeOpacity,strokeWidth:t.handle.strokeWidth}}},WY=class extends HY{constructor(){super(),this.append([this.handle])}update(t,e){super.update(t,e);const i=Mi(t,e);this.updateShape(t,i)}updateShape(t,e){this.updateShapeStyles(t),this.updateShapePath(t,e)}updateShapeStyles(t){const{shape:e}=this;e.fill=t.fill,e.fillOpacity=t.fillOpacity??1}updateShapePath(t,e){const{shape:i}=this;i.x=e.x,i.y=e.y,i.size=t.size}containsPoint(t,e){return super.containsPoint(t,e)||this.shape.containsPoint(t,e)}getNodeAtCoords(t,e){return this.shape.containsPoint(t,e)?"shape":super.getNodeAtCoords(t,e)}},YY=[[.5,0],[1,.5],[.75,.5],[.75,1],[.25,1],[.25,.5],[0,.5]];function $Y(t){z.drawMarkerUnitPolygon(t,YY)}$Y.anchor={x:.5,y:0};var Bv=class extends WY{constructor(){super(),this.type="arrow-up",this.shape=new z.Marker({shape:$Y}),this.append([this.shape])}static is(t){return Un.isCheck(t,"arrow-up")}getHandleCoords(t,e){const i=Ai.HANDLE_SIZE/2,n=super.getHandleCoords(t,e);return n.y-=i,n}},nft=YY.map(([t,e])=>[t,1-e]);function KY(t){z.drawMarkerUnitPolygon(t,nft)}KY.anchor={x:.5,y:1};var zv=class extends WY{constructor(){super(),this.type="arrow-down",this.shape=new z.Marker({shape:KY}),this.append([this.shape])}static is(t){return Un.isCheck(t,"arrow-down")}updateAnchor(t,e,i){const n=super.updateAnchor(t,e,i);return n.y-=t.size,n}getHandleCoords(t,e){const i=Ai.HANDLE_SIZE/2,n=super.getHandleCoords(t,e);return n.y+=i,n}},{StateMachine:_v,StateMachineProperty:sft,Debug:aft}=z,BO=class extends _v{constructor(t){const e=({point:n})=>{const s=this.createDatum();s.set({x:n.x,y:n.y}),t.create(s)},i=()=>{var n;(n=this.node)==null||n.toggleActive(!0),t.showAnnotationOptions(),t.update()};super("start",{start:{click:{target:"waiting-first-render",action:e},drag:{target:"waiting-first-render",action:e},cancel:_v.parent,reset:_v.parent},"waiting-first-render":{render:{target:_v.parent,action:i}}}),this.debug=aft.create(!0,"annotations")}};A([sft()],BO.prototype,"node");var oft=class extends BO{createDatum(){return new Eu}},yj={type:"arrow-down",datum:Eu,scene:zv,isDatum:Eu.is,translate:(t,e,i,n)=>{Eu.is(e)&&zv.is(t)&&t.translate(e,i,n)},copy:(t,e,i,n)=>{if(Eu.is(e)&&Eu.is(i)&&zv.is(t))return t.copy(e,i,n)},update:(t,e,i)=>{Eu.is(e)&&zv.is(t)&&t.update(e,i)},createState:(t,{createDatum:e})=>new oft({...t,create:e("arrow-down")}),dragState:t=>new Ji(t)},{STRING:rft,Validate:lft}=z,wu=class extends kO{constructor(){super(...arguments),this.type="arrow-up"}static is(t){return Qi(t)&&t.type==="arrow-up"}};A([lft(rft)],wu.prototype,"type");var cft=class extends BO{createDatum(){return new wu}},mj={type:"arrow-up",datum:wu,scene:Bv,isDatum:wu.is,translate:(t,e,i,n)=>{wu.is(e)&&Bv.is(t)&&t.translate(e,i,n)},copy:(t,e,i,n)=>{if(wu.is(e)&&wu.is(i)&&Bv.is(t))return t.copy(e,i,n)},update:(t,e,i)=>{wu.is(e)&&Bv.is(t)&&t.update(e,i)},createState:(t,{createDatum:e})=>new cft({...t,create:e("arrow-up")}),dragState:t=>new Ji(t)},{Vec2:uft,Vec4:xj}=z,XY=class extends Un{extendLine({x1:t,y1:e,x2:i,y2:n},s,a){const o={x1:t,y1:e,x2:i,y2:n};if(!s.extendStart&&!s.extendEnd)return o;const[r,l]=Udt(o,a.yAxis.bounds),c=o.x2<o.x1,h=o.y1>=o.y2,p=o.x2===o.x1;return s.extendEnd&&(p?o.y2=h?l.y:r.y:(o.x2=c?r.x:l.x,o.y2=c?r.y:l.y)),s.extendStart&&(p?o.y1=h?r.y:l.y:(o.x1=c?l.x:r.x,o.y1=c?l.y:r.y)),o}dragStart(t,e,i){this.dragState={offset:e,...oD({start:t.start,end:t.end},i)}}drag(t,e,i,n){t.locked||(this.activeHandle?this.dragHandle(t,e,i,n):this.dragAll(t,e,i))}dragAll(t,e,i){const{dragState:n}=this;n&&this.translatePoints(t,n.start,n.end,uft.sub(e,n.offset),i)}translatePoints(t,e,i,n,s){var l,c,h,p;const{vectors:a,translateX:o,translateY:r}=PO({start:e,end:i},n,s);o&&(t.start.x=(l=a.start)==null?void 0:l.x,t.end.x=(c=a.end)==null?void 0:c.x),(this.ignoreYBounds||r)&&(t.start.y=(h=a.start)==null?void 0:h.y,t.end.y=(p=a.end)==null?void 0:p.y)}translate(t,e,i){this.translatePoints(t,Mi(t.start,i),Mi(t.end,i),e,i)}copy(t,e,i){const n=mr(t,i);if(!n)return;const s=this.computeBBoxWithoutHandles(),a={x:-s.width/2,y:-s.height/2};return this.translatePoints(e,xj.start(n),xj.end(n),a,i),e}},{Vec4:bj}=z,zO=class extends XY{constructor(){super(...arguments),this.start=new Ai,this.end=new Ai,this.anchor={x:0,y:0,position:"above"}}update(t,e){const i=mr(t,e);i!=null&&(this.updateHandles(t,i),this.updateAnchor(t,i,e))}toggleHandles(t){if(typeof t=="boolean")this.start.visible=t,this.end.visible=t;else for(const[e,i]of Object.entries(t))this[e].visible=i;this.start.toggleHovered(this.activeHandle==="start"),this.end.toggleHovered(this.activeHandle==="end")}toggleActive(t){this.toggleHandles(t),this.start.toggleActive(t),this.end.toggleActive(t)}dragHandle(t,e,i,n){const{activeHandle:s,dragState:a}=this;if(!s||!a)return;this[s].toggleDragging(!0);const o=n?this.snapToAngle(t,e,i):ri(this[s].drag(e).point,i);!o||!xr(i,o)||(t[s].x=o.x,t[s].y=o.y)}snapToAngle(t,e,i){const{activeHandle:n}=this,a=["start","end"].find(r=>r!==n);if(!n||!a)return;this[n].toggleDragging(!0);const o=Mi(t[a],i);return ri(Cb(e,o,t.snapToAngle),i)}stopDragging(){this.start.toggleDragging(!1),this.end.toggleDragging(!1)}getAnchor(){return this.anchor}getCursor(){return"pointer"}containsPoint(t,e){const{start:i,end:n}=this;return this.activeHandle=void 0,i.containsPoint(t,e)?(this.activeHandle="start",!0):n.containsPoint(t,e)?(this.activeHandle="end",!0):!1}getNodeAtCoords(t,e){if(this.start.containsPoint(t,e)||this.end.containsPoint(t,e))return"handle"}updateHandles(t,e,i){this.start.update({...this.getHandleStyles(t,"start"),...this.getHandleCoords(t,e,"start")}),this.end.update({...this.getHandleStyles(t,"end"),...this.getHandleCoords(t,e,"end",i)}),this.start.toggleLocked(t.locked??!1),this.end.toggleLocked(t.locked??!1)}updateAnchor(t,e,i,n){this.anchor={x:e.x1+i.seriesRect.x,y:e.y1+i.seriesRect.y,position:this.anchor.position}}getHandleCoords(t,e,i,n){return i==="start"?bj.start(e):bj.end(e)}getHandleStyles(t,e){return{fill:t.handle.fill,stroke:t.handle.stroke,strokeOpacity:t.handle.strokeOpacity,strokeWidth:t.handle.strokeWidth}}},{Vec2:vj,Vec4:Sj}=z,hft=class extends zO{constructor(){super(...arguments),this.label=new z.Text({zIndex:1}),this.anchor={x:0,y:0,position:"above-left"}}setTextInputBBox(t){this.textInputBBox=t,this.markDirty()}update(t,e){const i=mr(t,e);if(i==null)return;const n=this.getTextBBox(t,i);this.updateLabel(t,n,i),this.updateHandles(t,i,n),this.updateShape(t,n,i),this.updateAnchor(t,i,e,n)}dragHandle(t,e,i,n){const{activeHandle:s,dragState:a}=this;if(!s||!a)return;this[s].toggleDragging(!0);const o=vj.add(a.end,vj.sub(e,a.offset)),r=n?this.snapToAngle(t,o,i):ri(o,i);!r||!xr(i,r)||(t[s].x=r.x,t[s].y=r.y)}containsPoint(t,e){const{label:i}=this;return super.containsPoint(t,e)||i.containsPoint(t,e)}getNodeAtCoords(t,e){return this.label.containsPoint(t,e)?"text":super.getNodeAtCoords(t,e)}getTextBBox(t,e){const{text:i}=t.getText();return CO(t,i,Sj.end(e),this.textInputBBox)}updateLabel(t,e,i){const{text:n,isPlaceholder:s}=t.getText();SY(this.label,n,s,t,this.getLabelCoords(t,e,i))}updateShape(t,e,i){}getLabelCoords(t,e,i){return Sj.end(i)}getHandleStyles(t,e){return{...super.getHandleStyles(t,e),stroke:t.handle.stroke??t.color}}},{drawCorner:dft,Path:pft}=z,jv=class extends hft{constructor(){super(),this.type="callout",this.shape=new pft,this.append([this.shape,this.label,this.start,this.end])}static is(t){return Un.isCheck(t,"callout")}drag(t,e,i,n){t.locked||(this.activeHandle==="end"?this.dragHandle(t,e,i,n):this.dragAll(t,e,i))}getLabelCoords(t,e,i){const n=t.getPadding(),{bodyBounds:s={x:0,y:0,width:0,height:0}}=this.getDimensions(t,e,i)??{};return{x:s.x+n.left,y:s.y-n.bottom}}getHandleStyles(t,e){return e==="start"?{fill:t.handle.fill,stroke:t.handle.stroke??t.stroke,strokeOpacity:t.handle.strokeOpacity,strokeWidth:t.handle.strokeWidth}:{fill:void 0,strokeWidth:0}}updateAnchor(t,e,i,n){const{bodyBounds:s}=this.getDimensions(t,n,e)??{},a=s??n;this.anchor={x:a.x+i.seriesRect.x,y:a.y+i.seriesRect.y-a.height,position:this.anchor.position}}updateShape(t,e,i){const{shape:n}=this;n.fill=t.fill,n.fillOpacity=t.fillOpacity??1,n.stroke=t.stroke,n.strokeWidth=t.strokeWidth??1,n.strokeOpacity=t.strokeOpacity??1;const{tailPoint:s,bodyBounds:a}=this.getDimensions(t,e,i)??{};!s||!a||this.updatePath(s,a)}updatePath(t,e){const{x:i,y:n}=t,{x:s,y:a,width:o,height:r}=e,l=a-r,c=s+o,h=this.calculateCalloutPlacement({x:i,y:n},e),p=8,f=[{coordinates:{x0:s,x1:s+p,y0:l+p,y1:l,cx:h==="topLeft"?i:s+p,cy:h==="topLeft"?n:l+p},type:h==="topLeft"?"calloutCorner":"corner"},{coordinates:{x0:s+p,x1:c-p,y0:l,y1:l,cx:i,cy:n},type:h==="top"?"calloutSide":"side"},{coordinates:{x0:c-p,x1:c,y0:l,y1:l+p,cx:h==="topRight"?i:c-p,cy:h==="topRight"?n:l+p},type:h==="topRight"?"calloutCorner":"corner"},{coordinates:{x0:c,x1:c,y0:l+p,y1:a-p,cx:i,cy:n},type:h==="right"?"calloutSide":"side"},{coordinates:{x0:c,x1:c-p,y0:a-p,y1:a,cx:h==="bottomRight"?i:c-p,cy:h==="bottomRight"?n:a-p},type:h==="bottomRight"?"calloutCorner":"corner"},{coordinates:{x0:c-p,x1:s+p,y0:a,y1:a,cx:i,cy:n},type:h==="bottom"?"calloutSide":"side"},{coordinates:{x0:s+p,x1:s,y0:a,y1:a-p,cx:h==="bottomLeft"?i:s+p,cy:h==="bottomLeft"?n:a-p},type:h==="bottomLeft"?"calloutCorner":"corner"},{coordinates:{x0:s,x1:s,y0:a-p,y1:l+p,cx:i,cy:n},type:h==="left"?"calloutSide":"side"}],{path:y}=this.shape;y.clear(),y.moveTo(s,l+p),f.forEach(({coordinates:m,type:b})=>{this.drawPath(y,m,p,b)}),y.closePath()}drawPath(t,{x0:e,y0:i,x1:n,y1:s,cx:a,cy:o},r,l){switch(l){case"calloutCorner":{t.lineTo(a,o),t.lineTo(n,s);break}case"corner":{dft(t,{x0:e,x1:n,y0:i,y1:s,cx:a,cy:o},r,!1);break}case"calloutSide":{if(e!==n){const h=e>n?-1:1,p=Math.min(e,n)+Math.abs(n-e)/2;t.lineTo(p-6*h,i),t.lineTo(a,o),t.lineTo(p+6*h,i),t.lineTo(n,s)}else{const h=i>s?-1:1,p=Math.min(i,s)+Math.abs(i-s)/2;t.lineTo(e,p-6*h),t.lineTo(a,o),t.lineTo(e,p+6*h),t.lineTo(n,s)}break}case"side":default:{t.lineTo(n,s);break}}}calculateCalloutPlacement(t,e){const i=e.x+e.width,n=e.y-e.height;let s,a;return t.x>i?s="right":t.x<e.x&&(s="left"),t.y>e.y?a="bottom":t.y<n&&(a="top"),s&&a?`${a}${s[0].toUpperCase()}${s.substring(1)}`:a??s}getDimensions(t,e,i){const{fontSize:n}=t,s=t.getPadding(),a=s.left+s.right,o=s.top+s.bottom,r=e.width+a,l=Math.max(e.height+o,n+o);return{tailPoint:{x:i.x1,y:i.y1},bodyBounds:{x:e.x,y:e.y,width:r,height:l}}}containsPoint(t,e){const{start:i,end:n,shape:s}=this;if(this.activeHandle=void 0,i.containsPoint(t,e))return this.activeHandle="start",!0;const a=n.containsPoint(t,e)||s.containsPoint(t,e);return a&&(this.activeHandle="end"),a}};function _O({key:t}){return t==="Escape"}function jO({key:t,shiftKey:e}){return!e&&t==="Enter"}var{StateMachine:nr,StateMachineProperty:ZY,Debug:fft}=z,FO=class extends nr{constructor(t){const e=({point:f})=>{const y=this.createDatum();y.set({start:f,end:f,visible:!0}),t.create(y)},i=()=>{const{node:f}=this;f==null||f.toggleActive(!0),f==null||f.toggleHandles({start:!0})},n=()=>{t.showTextInput(),this.datum&&(this.datum.visible=!1)},s=()=>{t.hideTextInput(),this.datum&&(this.datum.visible=!0),t.deselect()},a=f=>{var y;(y=this.node)==null||y.setTextInputBBox(f),t.update()},o=({point:f})=>{const{datum:y,node:m}=this;y==null||y.set({end:f}),m==null||m.toggleActive(!0),m==null||m.toggleHandles({end:!1}),t.update()},r=()=>{var f;t.showAnnotationOptions(),(f=this.node)==null||f.toggleHandles({end:!0})},l=({colorPickerType:f,colorOpacity:y,color:m,opacity:b,isMultiColor:v})=>{const{datum:S}=this;S&&(f==="text-color"&&t.updateTextInputColor(m),sD(S,f,y,m,b,v),t.update())},c=f=>{const{datum:y,node:m}=this;!y||!m||!rl(y)||(y.fontSize=f,t.updateTextInputFontSize(f),t.update())},h=()=>{t.delete()},p=({textInputValue:f,bbox:y})=>{const{datum:m}=this;if(y!=null&&f!=null&&f.length>0){if(!rl(m))return;const b=QA(m,f,y.width);m==null||m.set({text:b}),t.update(),t.recordAction(`Create ${m==null?void 0:m.type} annotation`)}else t.delete()};super("start",{start:{click:{target:"waiting-first-render",action:e},dragStart:{target:"waiting-first-render",action:e},cancel:nr.parent,reset:nr.parent},"waiting-first-render":{render:{target:"end",action:i}},end:{hover:o,drag:o,click:{target:"edit",action:r},dragEnd:{target:"edit",action:r},reset:{target:nr.parent,action:h},cancel:{target:nr.parent,action:h}},edit:{onEnter:n,updateTextInputBBox:a,color:l,fontSize:c,textInput:[{guard:_O,target:nr.parent,action:h},{guard:jO,target:nr.parent,action:p}],click:{target:nr.parent,action:p},dragStart:{target:nr.parent,action:p},resize:{target:nr.parent,action:p},onExit:s,cancel:{target:nr.parent,action:h}}}),this.debug=fft.create(!0,"annotations")}};A([ZY()],FO.prototype,"datum");A([ZY()],FO.prototype,"node");var gft=class extends FO{createDatum(){return new cr}},Mj={type:"callout",datum:cr,scene:jv,isDatum:cr.is,translate:(t,e,i,n)=>{if(cr.is(e)&&jv.is(t))return t.translate(e,i,n)},copy:(t,e,i,n)=>{if(cr.is(e)&&cr.is(i)&&jv.is(t))return t.copy(e,i,n)},update:(t,e,i)=>{cr.is(e)&&jv.is(t)&&t.update(e,i)},createState:(t,{createDatum:e})=>new gft({...t,create:e("callout")}),dragState:t=>new Ji(t)},GO=class extends HY{constructor(){super(...arguments),this.label=new z.Text({zIndex:1}),this.anchor={x:0,y:0,position:"above-left"}}setTextInputBBox(t){this.textInputBBox=t,this.markDirty()}update(t,e){const i=Mi(t,e),n=this.getTextBBox(t,i,e);this.updateLabel(t,n),this.updateHandle(t,i,n),this.updateShape(t,n),this.anchor=this.updateAnchor(t,n,e)}copy(t,e,i){const n=Mi(t,i),s=this.getTextBBox(t,n,i),a=t.getPadding(),o=a.left+a.right,r=a.top+a.bottom,l=(s.width+o)/2,c=s.height+r,h=ri({x:n.x-l,y:n.y-c},i);return e.x=h.x,e.y=h.y,e}containsPoint(t,e){const{label:i}=this;return super.containsPoint(t,e)||i.visible&&i.containsPoint(t,e)}getNodeAtCoords(t,e){return this.label.visible&&this.label.containsPoint(t,e)?"text":super.getNodeAtCoords(t,e)}getTextBBox(t,e,i){const{text:n}=t.getText();return CO(t,n,{x:e.x,y:e.y},this.textInputBBox)}updateLabel(t,e){const{text:i,isPlaceholder:n}=t.getText();SY(this.label,i,n,t,this.getLabelCoords(t,e))}updateShape(t,e){}updateAnchor(t,e,i){return{x:e.x+i.seriesRect.x,y:e.y+i.seriesRect.y-e.height,position:this.anchor.position}}getLabelCoords(t,e){return e}getHandleCoords(t,e,i){return i}getHandleStyles(t){const e=super.getHandleStyles(t);return e.stroke=t.handle.stroke??t.color,e}},{drawCorner:p1}=z,Fv=class extends GO{constructor(){super(),this.type="comment",this.shape=new z.Path,this.append([this.shape,this.label,this.handle])}static is(t){return Un.isCheck(t,"comment")}updateShape(t,e){const{shape:i}=this;i.fill=t.fill,i.fillOpacity=t.fillOpacity??1,i.stroke=t.stroke??"transparent",i.strokeWidth=t.strokeWidth??1,i.strokeOpacity=t.strokeOpacity??1,this.updatePath(t,e)}getLabelCoords(t,e){const i=t.getPadding();return{x:e.x+i.left,y:e.y-i.bottom}}getHandleStyles(t){return{fill:t.handle.fill,stroke:t.handle.stroke??t.stroke??t.fill,strokeOpacity:t.handle.strokeOpacity,strokeWidth:t.handle.strokeWidth}}updateAnchor(t,e,i){const n=super.updateAnchor(t,e,i),s=t.getPadding();return n.y-=s.bottom+s.top,n}updatePath(t,e){const i=t.getPadding(),{x:n,y:s}=e;let{width:a,height:o}=e;const{fontSize:r}=t,l=i.left+i.right,c=i.top+i.bottom;a=a+l,o=Math.max(o+c,r+c);const h=s-o,p=n+a,f=(r*qA+c)/2,{path:y}=this.shape;y.clear(),y.moveTo(n,s),y.lineTo(n,h+f),p1(y,{x0:n,x1:n+f,y0:h+f,y1:h,cx:n+f,cy:h+f},f,!1),y.lineTo(p-f,h),p1(y,{x0:p-f,x1:p,y0:h,y1:h+f,cx:p-f,cy:h+f},f,!1),y.lineTo(p,s-f),p1(y,{x0:p,x1:p-f,y0:s-f,y1:s,cx:p-f,cy:s-f},f,!1),y.closePath()}containsPoint(t,e){return super.containsPoint(t,e)||this.shape.containsPoint(t,e)}},{StateMachine:Zl,StateMachineProperty:qY,Debug:yft}=z,kb=class extends Zl{constructor(t){const e=({point:h})=>{const p=this.createDatum();p.set({x:h.x,y:h.y}),t.create(p)},i=()=>{var h;(h=this.node)==null||h.toggleActive(!0),t.showAnnotationOptions(),t.update()},n=()=>{t.showTextInput(),this.datum&&(this.datum.visible=!1)},s=()=>{t.hideTextInput(),this.datum&&(this.datum.visible=!0),t.deselect()},a=h=>{var p;(p=this.node)==null||p.setTextInputBBox(h),t.update()},o=({colorPickerType:h,colorOpacity:p,color:f,opacity:y,isMultiColor:m})=>{this.datum&&(h==="text-color"&&t.updateTextInputColor(f),sD(this.datum,h,p,f,y,m),t.update())},r=h=>{const{datum:p,node:f}=this;!p||!f||!rl(p)||(p.fontSize=h,t.updateTextInputFontSize(h),t.update())},l=()=>{t.delete()},c=({textInputValue:h,bbox:p})=>{if(p!=null&&h!=null&&h.length>0){const{datum:f}=this;if(!rl(f))return;const y=QA(f,h,p.width);f==null||f.set({text:y}),t.update(),t.recordAction(`Create ${f==null?void 0:f.type} annotation`)}else t.delete()};super("start",{start:{click:{target:"waiting-first-render",action:e},dragStart:{target:"waiting-first-render",action:e},cancel:Zl.parent,reset:Zl.parent},"waiting-first-render":{render:{target:"edit",action:i}},edit:{onEnter:n,updateTextInputBBox:a,color:o,fontSize:r,textInput:[{guard:_O,target:Zl.parent,action:l},{guard:jO,target:Zl.parent,action:c}],click:{target:Zl.parent,action:c},dragStart:{target:Zl.parent,action:c},resize:{target:Zl.parent,action:c},onExit:s,cancel:{target:Zl.parent,action:l}}}),this.debug=yft.create(!0,"annotations")}};A([qY()],kb.prototype,"datum");A([qY()],kb.prototype,"node");var mft=class extends kb{createDatum(){return new Zr}},Aj={type:"comment",datum:Zr,scene:Fv,isDatum:Zr.is,translate:(t,e,i,n)=>{Zr.is(e)&&Fv.is(t)&&t.translate(e,i,n)},copy:(t,e,i,n)=>{if(Zr.is(e)&&Zr.is(i)&&Fv.is(t))return t.copy(e,i,n)},update:(t,e,i)=>{Zr.is(e)&&Fv.is(t)&&t.update(e,i)},createState:(t,{createDatum:e})=>new mft({...t,create:e("comment")}),dragState:t=>new Ji(t)},{calculateLabelTranslation:xft,ChartAxisDirection:bft}=z,QY=class extends z.Group{constructor(){super({name:"AnnotationAxisLabelGroup"}),this.label=new z.Text({zIndex:1}),this.rect=new z.Rect;const{label:t}=this;t.fontSize=12,t.fontFamily="Verdana, sans-serif",t.fill="black",t.textBaseline="middle",t.textAlign="center",this.append([this.rect,this.label])}update(t){this.updateLabel(t),this.updateRect(t),this.updatePosition(t)}updateLabel({value:t,styles:e,context:i}){const{fontWeight:n,fontSize:s,fontStyle:a,fontFamily:o,textAlign:r,color:l="white",formatter:c}=e,h=c?c({value:t}):i.scaleValueFormatter()(t);this.label.setProperties({fontWeight:n,fontSize:s,fontStyle:a,fontFamily:o,textAlign:r,fill:l,text:h})}updateRect({styles:t}){const{rect:e}=this,{cornerRadius:i,fill:n,fillOpacity:s,stroke:a,strokeOpacity:o}=t;e.setProperties({cornerRadius:i,fill:n,fillOpacity:s,stroke:a,strokeOpacity:o})}updatePosition({x:t,y:e,context:i,styles:{padding:n}}){var m;const{label:s,rect:a}=this,o=(m=s.getBBox())==null?void 0:m.clone(),r=n??8,l=n??5;o.grow(r,"horizontal"),o.grow(l,"vertical");const c=i.direction===bft.X?Math.round(l/2):r,{xTranslation:h,yTranslation:p}=xft({yDirection:!0,padding:i.labelPadding-c,position:i.position??"left",bbox:o}),f=t+h,y=e+p;s.x=f,s.y=y,a.y=y-Math.round(o.height/2),a.x=f-Math.round(o.width/2),a.height=o.height,a.width=o.width}};QY.className="AxisLabel";var{Vec2:Ur}=z,ga=class extends z.Line{constructor(){super(...arguments),this.growCollisionBox=9,this.clipMask=new Map}setProperties(t,e){return super.setProperties(t,e),this.updateCollisionBBox(),this}updateCollisionBBox(){const{growCollisionBox:t,strokeWidth:e,x1:i,y1:n,x2:s,y2:a}=this;let o=e+t;o%2===0&&(o+=1);const r=Ur.from(i,n-Math.floor(o/2)),l=Ur.from(s,a),c=Ur.distance(r,l);this.collisionBBox=new z.BBox(r.x,r.y,c,o)}isPointInPath(t,e){const{collisionBBox:i,x1:n,y1:s,x2:a,y2:o}=this;if(!i)return!1;const r=Ur.from(n,s),l=Ur.from(a,o),c=Ur.sub(Ur.from(t,e),r),h=Ur.sub(l,r),p=Ur.rotate(c,Ur.angle(c,h),r);return i.containsPoint(p.x,p.y)??!1}render(t){this.applyClipMask(t.ctx),super.render(t),this.closeClipMask(t.ctx)}setClipMask(t,e){const i=this.clipMask.get(t);z.jsonDiff(i,e)!=null&&this.markDirty(),e?this.clipMask.set(t,e):this.clipMask.delete(t)}applyClipMask(t){const{clipMask:e}=this;e.size!==0&&this.clipMask.forEach(i=>{const{x:n,y:s,radius:a}=i;t.save(),t.beginPath(),t.rect(0,0,t.canvas.width,t.canvas.height),t.ellipse(n,s,a,a,0,Math.PI*2,0,!0),t.clip()})}closeClipMask(t){this.clipMask.size!==0&&t.restore()}},zd=class extends z.TransformableText{constructor(){super(...arguments),this.growCollisionBox={top:4,right:4,bottom:4,left:4}}isPointInPath(t,e){const i=this.fromParentPoint(t,e),n=this.computeBBoxWithoutTransforms();return n?n.grow(this.growCollisionBox).containsPoint(i.x,i.y):!1}},{Vec2:Ms}=z;function $f(t,e,i,n,s,a,o){if(!a||!s||!n){e.setClipMask(t);return}const{alignment:r,position:l}=n,c=t$(i,n.fontSize,o),{point:h,textBaseline:p}=e$(c,l,r);i$(s,a,n,h,c.angle,p);const{x:f,y,width:m,height:b}=s.getBBox(),v=Ms.length(Ms.from(m,b)),S={x:f+m/2,y:y+b/2,radius:v/2+Ms.length(c.offset)};return l==="center"?e.setClipMask(t,S):e.setClipMask(t),{clipMask:S,numbers:c}}function JY(t,e,i,n,s,a,o){if(!o||!a)return;const{alignment:r,position:l}=n,[c,h]=e.y1<=i.y1?[e,i]:[i,e];let p=c;l==="bottom"?p=h:l==="inside"&&(p={x1:(c.x1+h.x1)/2,y1:(c.y1+h.y1)/2,x2:(c.x2+h.x2)/2,y2:(c.y2+h.y2)/2});const f=t$(p,n.fontSize,s),{point:y,textBaseline:m}=e$(f,l==="inside"?"center":l,r,t);i$(a,o,n,y,f.angle,m)}function t$(t,e,i){let[n,s]=Ms.from(t);n.x>s.x&&([n,s]=[s,n]);const a=Ms.normalized(Ms.sub(s,n)),o=Ms.angle(a),r=Ms.multiply(a,Ai.HANDLE_SIZE/2+(e??14)/2),l=Ms.multiply(a,(i??2)/2+(e??14)/3);return{left:n,right:s,normal:a,angle:o,inset:r,offset:l}}function e$({left:t,right:e,normal:i,angle:n,inset:s,offset:a},o,r,l){let c;r==="right"?c=Ms.sub(e,s):r==="center"?c=Ms.add(t,Ms.multiply(i,Ms.distance(t,e)/2)):c=Ms.add(t,s);let h="bottom";return o==="bottom"?(c=Ms.rotate(a,n+Math.PI/2,c),h="top"):o==="center"&&!l?h="middle":c=Ms.rotate(a,n-Math.PI/2,c),{point:c,textBaseline:h}}function i$(t,e,i,n,s,a){t.setProperties({text:e,x:n.x,y:n.y,rotation:s,rotationCenterX:n.x,rotationCenterY:n.y,fill:i.color,fontFamily:i.fontFamily,fontSize:i.fontSize,fontStyle:i.fontStyle,fontWeight:i.fontWeight,textAlign:i.alignment,textBaseline:a})}var{ChartAxisDirection:vft,Vec2:mf,Vec4:f1}=z,Uu=class extends Un{constructor(){super(),this.type="cross-line",this.line=new ga,this.middle=new Bf,this.isHorizontal=!1,this.append([this.line,this.middle])}static is(t){return Un.isCheck(t,"cross-line")}update(t,e){const{seriesRect:i}=e;this.seriesRect=i,this.isHorizontal=Ds.is(t);const n=this.isHorizontal?e.yAxis:e.xAxis,s=this.convertCrossLine(t,n);if(s==null){this.visible=!1;return}this.visible=t.visible??!0,this.visible&&(this.updateLine(t,s),this.updateHandle(t,s),this.updateText(t,s),this.updateAxisLabel(t,n,s))}updateLine(t,e){const{line:i}=this,{lineDashOffset:n,stroke:s,strokeWidth:a,strokeOpacity:o}=t,{x1:r,y1:l,x2:c,y2:h}=e;i.setProperties({x1:r,y1:l,x2:c,y2:h,lineCap:t.getLineCap(),lineDash:t.getLineDash(),lineDashOffset:n,stroke:s,strokeWidth:a,strokeOpacity:o,fillOpacity:0})}updateHandle(t,e){const{middle:i}=this,{locked:n,stroke:s,strokeWidth:a,strokeOpacity:o}=t,r={fill:t.handle.fill,stroke:t.handle.stroke??s,strokeOpacity:t.handle.strokeOpacity??o,strokeWidth:t.handle.strokeWidth??a},l=mf.sub(f1.center(e),mf.from(i.handle.width/2,i.handle.height/2));i.gradient=this.isHorizontal?"horizontal":"vertical",i.update({...r,...l}),i.toggleLocked(n??!1)}updateText(t,e){this.text=this.updateNode(zd,this.text,!!t.text.label),$f(this.line.id,this.line,e,t.text,this.text,t.text.label,t.strokeWidth)}createAxisLabel(t){const e=new QY;return t.attachLabel(e),e}updateAxisLabel(t,e,i){this.axisLabel||(this.axisLabel=this.createAxisLabel(e));const{axisLabel:n,seriesRect:s}=this,{direction:a,position:o}=e;if(t.axisLabel.enabled){n.visible=this.visible;const r=o==="left"||o==="top"?f1.start(i):f1.end(i),l=a===vft.X?r.x:r.y;if(!e.inRange(l)){n.visible=!1;return}const{value:c}=oi(t.value);n.update({...mf.add(r,mf.required(s)),value:c,styles:t.axisLabel,context:e})}else n.visible=!1}setAxisLabelOpacity(t){this.axisLabel&&(this.axisLabel.opacity=t)}setAxisLabelVisible(t){this.axisLabel&&(this.axisLabel.visible=t)}toggleHandles(t){this.middle.visible=t,this.middle.toggleHovered(this.activeHandle==="middle")}destroy(){var t;super.destroy(),(t=this.axisLabel)==null||t.destroy()}toggleActive(t){this.toggleHandles(t),this.middle.toggleActive(t)}dragStart(t,e,i){const n=Ds.is(t)?{x:e.x,y:Gu(t.value,i.yAxis)}:{x:Gu(t.value,i.xAxis),y:e.y};this.dragState={offset:e,middle:n}}drag(t,e,i){const{activeHandle:n,dragState:s}=this;if(t.locked)return;let a;if(n)this[n].toggleDragging(!0),a=this[n].drag(e).point;else if(s)a=mf.add(s.middle,mf.sub(e,s.offset));else return;const o=ri(a,i),r=Ds.is(t);t.set({value:r?o.y:o.x})}translate(t,{x:e,y:i},n){if(t.locked)return;const{axisContext:s,translation:a}=Ds.is(t)?{axisContext:n.yAxis,translation:i}:{axisContext:n.xAxis,translation:e},o=Gu(t.value,s)+a,r=Ox(o,s);isNaN(r)||t.set({value:r})}stopDragging(){this.middle.toggleDragging(!1)}copy(t,e,i){const n=Ds.is(t),s=this.isHorizontal?i.yAxis:i.xAxis,a=this.convertCrossLine(t,s);if(!a)return;const o=n?-30:0,r=n?0:-30,l=ri({x:a.x1+r,y:a.y1+o},i);return e.set({value:n?l.y:l.x}),e}getCursor(){return this.activeHandle==null?"pointer":this[this.activeHandle].getCursor()}containsPoint(t,e){const{middle:i,line:n,text:s}=this;return this.activeHandle=void 0,i.containsPoint(t,e)?(this.activeHandle="middle",!0):n.isPointInPath(t,e)||!!(s!=null&&s.containsPoint(t,e))}getNodeAtCoords(t,e){var i;if((i=this.text)!=null&&i.containsPoint(t,e))return"text";if(this.line.isPointInPath(t,e))return"line";if(this.middle.containsPoint(t,e))return"handle"}getAnchor(){const t=this.computeBBoxWithoutHandles();return this.isHorizontal?{x:t.x+t.width/2,y:t.y}:{x:t.x+t.width,y:t.y+t.height/2,position:"right"}}convertCrossLine(t,e){if(t.value==null)return;let i=0,n=0,s,a;const{bounds:o}=e,r=Gu(t.value,e);return Ds.is(t)?(s=o.width,n=r,a=r):(i=r,s=r,a=o.height),{x1:i,y1:n,x2:s,y2:a}}},{StateMachine:Gv,StateMachineProperty:Sft,Debug:Mft}=z,VO=class extends Gv{constructor(t,e){const i=({point:s})=>{const a=t==="horizontal",o=a?new Ds:new qr;o.set({value:a?s.y:s.x}),e.create(o),e.recordAction(`Create ${a?"horizontal-line":"vertical-line"} annotation`)},n=()=>{var s;(s=this.node)==null||s.toggleActive(!0),e.showAnnotationOptions(),e.update()};super("start",{start:{click:{target:"waiting-first-render",action:i},drag:{target:"waiting-first-render",action:i},reset:Gv.parent,cancel:Gv.parent},"waiting-first-render":{render:{target:Gv.parent,action:n}}}),this.debug=Mft.create(!0,"annotations")}};A([Sft()],VO.prototype,"node");var Dj={type:"horizontal-line",datum:Ds,scene:Uu,isDatum:Ds.is,translate:(t,e,i,n)=>{Ds.is(e)&&Uu.is(t)&&t.translate(e,i,n)},copy:(t,e,i,n)=>{if(Ds.is(e)&&Ds.is(i)&&Uu.is(t))return t.copy(e,i,n)},update:(t,e,i)=>{Ds.is(e)&&Uu.is(t)&&t.update(e,i)},createState:(t,{createDatum:e})=>new VO("horizontal",{...t,create:e("horizontal-line")}),dragState:t=>new Ji(t)},Ij={type:"vertical-line",datum:qr,scene:Uu,isDatum:qr.is,translate:(t,e,i,n)=>{qr.is(e)&&Uu.is(t)&&t.translate(e,i,n)},copy:(t,e,i,n)=>{if(qr.is(e)&&qr.is(i)&&Uu.is(t))return t.copy(e,i,n)},update:(t,e,i)=>{qr.is(e)&&Uu.is(t)&&t.update(e,i)},createState:(t,{createDatum:e})=>new VO("vertical",{...t,create:e("vertical-line")}),dragState:t=>new Ji(t)},{Vec4:Aft}=z,n$=class{static updateBackground(t,e,i,n){var c;const{background:s}=this,{seriesRect:a}=n;s.path.clear(!0);const o=Aft.from(0,0,a.width,a.height),r=this.getBackgroundPoints(t,e,i,o);for(let h=0;h<r.length;h++){const p=r[h];h===0?s.path.moveTo(p.x,p.y):s.path.lineTo(p.x,p.y)}s.path.closePath(),s.checkPathDirty();const l=((c=this.getBackgroundStyles)==null?void 0:c.call(this,t))??t.background;s.setProperties({fill:l.fill,fillOpacity:l.fillOpacity})}},s$=class extends XY{constructor(){super(...arguments),this.handles={},this.topLine=new ga,this.bottomLine=new ga,this.background=new z.Path({zIndex:-1}),this.anchor={x:0,y:0},this.updateBackground=n$.updateBackground.bind(this)}update(t,e){const{locked:i,visible:n}=t,s=mr(t,e),a=mr(t.bottom,e);if(s==null||a==null){this.visible=!1;return}else this.visible=n??!0;const o=this.extendLine(s,t,e),r=this.extendLine(a,t,e);this.updateLines(t,o,r,e,s,a),this.updateHandles(t,s,a),this.updateText(t,s,a),this.updateBackground(t,o,r,e),this.updateAnchor(s,a);for(const l of Object.values(this.handles))l.toggleLocked(i??!1)}snapToAngle(t,e,i,n,s,a){const{handles:o}=this,r=o[n].handle,l=o[i].drag(t).point;return ri(Cb(l,r,s,a),e)}toggleHandles(t){const{handles:e}=this;if(typeof t=="boolean"){for(const[i,n]of Object.entries(e))n.visible=t,n.toggleHovered(this.activeHandle===i);return}for(const[i,n]of Object.entries(t)){const s=e[i];s.visible=n??!0,s.toggleHovered(this.activeHandle===i)}}toggleActive(t){this.toggleHandles(t);for(const e of Object.values(this.handles))e.toggleActive(t)}stopDragging(){const{activeHandle:t,handles:e}=this;t!=null&&e[t].toggleDragging(!1)}getAnchor(){return this.anchor}getCursor(){return this.activeHandle==null?"pointer":this.handles[this.activeHandle].getCursor()}containsPoint(t,e){const{handles:i,topLine:n,bottomLine:s,text:a}=this;this.activeHandle=void 0;for(const[o,r]of Object.entries(i))if(r.containsPoint(t,e))return this.activeHandle=o,!0;return n.containsPoint(t,e)||s.containsPoint(t,e)||!!(a!=null&&a.containsPoint(t,e))}getNodeAtCoords(t,e){var i;if((i=this.text)!=null&&i.containsPoint(t,e))return"text";if(this.topLine.containsPoint(t,e)||this.bottomLine.containsPoint(t,e))return"line";for(const[n,s]of Object.entries(this.handles))if(s.containsPoint(t,e))return"handle"}updateAnchor(t,e){const{x:i,y:n}=z.Transformable.toCanvasPoint(this.topLine,(t.x1+t.x2)/2,Math.min(t.y1,t.y2,e.y1,e.y2));this.anchor.x=i,this.anchor.y=n}},{Vec2:Mu,Vec4:Vv}=z,Uv=class extends s${constructor(){super(),this.type="disjoint-channel",this.ignoreYBounds=!0,this.handles={topLeft:new Ai,topRight:new Ai,bottomLeft:new Ai,bottomRight:new Bf},this.append([this.background,this.topLine,this.bottomLine,...Object.values(this.handles)])}static is(t){return Un.isCheck(t,"disjoint-channel")}dragHandle(t,e,i,n){const{activeHandle:s,handles:a}=this;if(s==null)return;const{offset:o}=a[s].drag(e);a[s].toggleDragging(!0);const r=f=>ri(f,i),l=t.toJson(),c=t.snapToAngle,{value:h}=oi(t.end.y),{value:p}=oi(t.start.y);switch(s){case"topLeft":case"bottomLeft":{const f=s==="topLeft"?1:-1,y=n?this.snapToAngle(e,i,"topLeft","topRight",c,f):r({x:a.topLeft.handle.x+o.x,y:a.topLeft.handle.y+o.y*f}),m=n?this.snapToAngle(e,i,"bottomLeft","bottomRight",c,-f):r({x:a.bottomLeft.handle.x+o.x,y:a.bottomLeft.handle.y+o.y*-f});if((y==null?void 0:y.y)==null||(m==null?void 0:m.y)==null||p==null||!Wi(p))return;const b=t.startHeight+(y.y-p)*2;t.start.x=y.x,t.start.y=y.y,t.startHeight=b;break}case"topRight":{const f=n?this.snapToAngle(e,i,"topRight","topLeft",c):r({x:a.topRight.handle.x+o.x,y:a.topRight.handle.y+o.y});if((f==null?void 0:f.y)==null||h==null||!Wi(h))return;const y=t.endHeight+(f.y-h)*2;t.end.x=f.x,t.end.y=f.y,t.endHeight=y;break}case"bottomRight":{const f=r({x:a.bottomLeft.handle.x+o.x,y:a.bottomLeft.handle.y+o.y}),y=r({x:a.bottomRight.handle.x+o.x,y:a.bottomRight.handle.y+o.y});if(!f||!y||t.start.y==null||h==null||!Wi(h))return;const m=h-y.y,b=t.startHeight-(t.endHeight-m);t.startHeight=b,t.endHeight=m}}t.isValidWithContext(i)||t.set(l)}updateLines(t,e,i){const{topLine:n,bottomLine:s}=this,{lineDashOffset:a,stroke:o,strokeOpacity:r,strokeWidth:l}=t,c={lineCap:t.getLineCap(),lineDash:t.getLineDash(),lineDashOffset:a,stroke:o,strokeOpacity:r,strokeWidth:l};n.setProperties({...e,...c}),s.setProperties({...i,...c})}updateHandles(t,e,i){const{handles:{topLeft:n,topRight:s,bottomLeft:a,bottomRight:o}}=this,r={fill:t.handle.fill,stroke:t.handle.stroke??t.stroke,strokeOpacity:t.handle.strokeOpacity??t.strokeOpacity,strokeWidth:t.handle.strokeWidth??t.strokeWidth};n.update({...r,...Vv.start(e)}),s.update({...r,...Vv.end(e)}),a.update({...r,...Vv.start(i)}),o.update({...r,...Mu.sub(Vv.end(i),Mu.from(o.handle.width/2,o.handle.height/2))})}updateText(t,e,i){this.text=this.updateNode(zd,this.text,!!t.text.label),JY(!1,e,i,t.text,t.strokeWidth,this.text,t.text.label)}getBackgroundPoints(t,e,i,n){const s=e.x1>e.x2,a=e.y1>e.y2,o=a?n.y2:n.y1,r=a?n.y1:n.y2,l=Mu.from(e);return t.extendEnd&&e.y2===r&&l.push(Mu.from(s?n.x1:n.x2,a?n.y1:n.y2)),t.extendEnd&&i.y2===o&&l.push(Mu.from(s?n.x1:n.x2,a?n.y2:n.y1)),l.push(...Mu.from(i).reverse()),t.extendStart&&i.y1===r&&l.push(Mu.from(s?n.x2:n.x1,a?n.y1:n.y2)),t.extendStart&&e.y1===o&&l.push(Mu.from(s?n.x2:n.x1,a?n.y2:n.y1)),l}},{StateMachine:Au,StateMachineProperty:UO,Debug:Dft}=z,rD=class extends Au{constructor(t){const e=({point:l})=>{const c=new ko;c.set({start:l,end:l,startHeight:0,endHeight:0}),t.create(c)},i=()=>{const{node:l}=this;l==null||l.toggleActive(!0),l==null||l.toggleHandles({topLeft:!0,topRight:!1,bottomLeft:!1,bottomRight:!1})},n=({offset:l,context:c})=>{const{datum:h,snapping:p}=this;h&&(h.set({end:Px(l,c,p,h.start,h.snapToAngle)}),t.update())},s=()=>{var l;(l=this.node)==null||l.toggleHandles({topRight:!0}),t.update()},a=({point:l})=>{const{datum:c,node:h}=this,{value:p}=oi(c==null?void 0:c.end.y),{value:f}=oi(c==null?void 0:c.start.y),{y}=l;if(c==null||!Wi(f)||!Wi(p)||!Wi(y))return;const m=p-(y??0),b=(f-p)*2+m,v={x:c==null?void 0:c.start.x,y:f-b},S={x:c==null?void 0:c.end.x,y:l.y};h==null||h.toggleHandles({bottomLeft:!0,bottomRight:!0}),!(!t.validatePoint(v)||!t.validatePoint(S))&&(c.set({startHeight:b,endHeight:m}),t.update())},o=({point:l})=>{const{datum:c,node:h}=this,{value:p}=oi(c==null?void 0:c.end.y),{value:f}=oi(c==null?void 0:c.start.y),{y}=l;if(c==null||!Wi(f)||!Wi(p)||!Wi(y))return;const m=p-(y??0),b=(f-p)*2+m,v={x:c.start.x,y:f-m},S={x:c.end.x,y:l.y};h==null||h.toggleHandles(!0),!(!t.validatePoint(v)||!t.validatePoint(S))&&(c.set({startHeight:b,endHeight:m}),t.recordAction("Create disjoint-channel annotation"),t.showAnnotationOptions(),t.update())},r=()=>t.delete();super("start",{start:{click:{target:"waiting-first-render",action:e},drag:{target:"waiting-first-render",action:e},reset:Au.parent},"waiting-first-render":{render:{target:"end",action:i}},end:{hover:n,drag:n,click:{target:"height",action:s},dragEnd:{target:"height",action:s},reset:{target:Au.parent,action:r},cancel:{target:Au.parent,action:r}},height:{hover:a,click:{target:Au.parent,action:o},drag:{target:Au.parent,action:o},reset:{target:Au.parent,action:r},cancel:{target:Au.parent,action:r}}}),this.debug=Dft.create(!0,"annotations"),this.snapping=!1}};A([UO()],rD.prototype,"datum");A([UO()],rD.prototype,"node");A([UO()],rD.prototype,"snapping");var Tj={type:"disjoint-channel",datum:ko,scene:Uv,isDatum:ko.is,translate:(t,e,i,n)=>{ko.is(e)&&Uv.is(t)&&t.translate(e,i,n)},copy:(t,e,i,n)=>{if(ko.is(e)&&ko.is(i)&&Uv.is(t))return t.copy(e,i,n)},update:(t,e,i)=>{ko.is(e)&&Uv.is(t)&&t.update(e,i)},createState:(t,{createDatum:e})=>new rD({...t,create:e("disjoint-channel")}),dragState:t=>new Ji(t)},aL=[0,23.6,38.2,50,61.8,78.6,100],Ift=[161.8,261.8,361.8,423.6],Tft=[...aL,...Ift],Cft={10:Tft,6:aL,4:aL.filter(t=>t!==78.6&&t!==23.6)},kft=10;function Lft(t,e){const{x2:i,y1:n,y2:s}=t,a=n-s;return e==null?{x1:i,x2:i,y1:s-a,y2:s}:{x1:e.x1,x2:e.x2,y1:e.y2-a,y2:e.y2}}function a$({x1:t,y1:e,x2:i,y2:n},s,a,o,r=10){const l=e-n,c=a?-1:1;let h=o;const p=[];return Cft[r].forEach((f,y)=>{const m=o+l*(f/100)*c,b=s.yAxis.scaleInvert(m);p.push({id:y,x1:t,x2:i,y1:h,y2:m,tag:f==100?0:1,label:{x1:Math.min(t,i)-kft,x2:i,y1:m,y2:m,text:`${(f/100).toFixed(3)} (${b.toFixed(2)})`}}),h=m}),p}var{Vec2:Nft,Vec4:Cj}=z,o$=class extends Un{constructor(){super(),this.trendLine=new ga,this.rangeFillsGroup=new z.Group({name:`${this.id}-range-fills`}),this.rangeFillsGroupSelection=z.Selection.select(this.rangeFillsGroup,z.Range),this.rangeStrokesGroup=new z.Group({name:`${this.id}-range-strokes`}),this.rangeStrokesGroupSelection=z.Selection.select(this.rangeStrokesGroup,ga),this.labelsGroup=new z.Group({name:`${this.id}-ranges-labels`}),this.labelsGroupSelection=z.Selection.select(this.labelsGroup,zd),this.anchor={x:0,y:0,position:"above"},this.append([this.trendLine,this.rangeFillsGroup,this.rangeStrokesGroup,this.labelsGroup])}update(t,e){let i=mr(t,e);if(i==null){this.visible=!1;return}if(i=Cj.round(i),this.visible=t.visible??!0,!this.visible)return;this.updateLine(t,i,this.trendLine),this.updateHandles(t,i),this.updateAnchor(t,i,e);const{reverse:n}=t,s=this.extendLine(i,t,e),a=n?s.y1:s.y2,o=n?s.y2:s.y1,r=a$(s,e,t.reverse,a,t.bands);this.updateRanges(t,r,e);const l={...s,y1:o,y2:o};this.updateText(t,l)}extendLine({x1:t,y1:e,x2:i,y2:n},s,a){const o={x1:t,y1:e,x2:i,y2:n};if(!s.extendStart&&!s.extendEnd)return o;const{x:r,width:l}=a.xAxis.bounds;return s.extendEnd&&(o[t>i?"x1":"x2"]=r+l),s.extendStart&&(o[t>i?"x2":"x1"]=r),o}updateLine(t,e,i){if(!e||!i)return;const{lineDashOffset:n,strokeWidth:s,strokeOpacity:a,stroke:o}=t;i.setProperties({...e,lineCap:t.getLineCap(),lineDash:[3,4],lineDashOffset:n,strokeWidth:s,strokeOpacity:a,fillOpacity:0,stroke:o})}updateRangeStrokes(t){const{lineDashOffset:e,strokeWidth:i,strokeOpacity:n,strokes:s,rangeStroke:a,isMultiColor:o}=t;this.rangeStrokesGroupSelection.each((r,{x1:l,x2:c,y2:h,tag:p},f)=>{const y=h,m=o?s[f%s.length]:a;r.setProperties({x1:l,x2:c,y1:y,y2:y,stroke:m,strokeOpacity:n,strokeWidth:i,lineCap:t.getLineCap(),lineDash:t.getLineDash(),lineDashOffset:e,tag:p})})}updateRanges(t,e,i){const n=s=>s.id;this.rangeFillsGroupSelection.update(e,void 0,n),this.rangeStrokesGroupSelection.update(e,void 0,n),this.labelsGroupSelection.update(e,void 0,n),this.updateRangeFills(t),this.updateRangeStrokes(t),this.updateRangeLabels(t,i)}updateRangeFills(t){const{lineDashOffset:e,strokeWidth:i,strokeOpacity:n,strokes:s,rangeStroke:a,showFill:o,isMultiColor:r}=t;this.rangeFillsGroupSelection.each((l,{x1:c,x2:h,y1:p,y2:f},y)=>{const m=r?s[y%s.length]:a;if(!o){l.visible=!1;return}l.setProperties({x1:c,x2:h,y1:p,y2:f,startLine:!1,endLine:!1,isRange:!0,stroke:m,strokeOpacity:n,fill:m,fillOpacity:(n??1)*.15,strokeWidth:i,lineCap:t.getLineCap(),lineDash:t.getLineDash(),lineDashOffset:e,visible:!0})})}updateRangeLabels(t,{xAxis:e}){const{rangeStrokesGroupSelection:i}=this,{strokes:n,strokeWidth:s,rangeStroke:a,isMultiColor:o,label:{fontFamily:r,fontSize:l,fontStyle:c,fontWeight:h,color:p}}=t,f={fontFamily:r,fontSize:l,fontStyle:c,fontWeight:h},y=this.checkWithinBounds(e,f,this.labelsGroupSelection.at(0));this.labelsGroupSelection.each((m,b,v)=>{const S=p??(o?n[v%n.length]:a),D=i.at(v);if(!D)return;const{text:I,...T}=b.label;if(y)m.setProperties({...f,text:I,x:T.x1,y:T.y1,textBaseline:"middle",textAlign:"end",fill:S}),$f(m.id,D,T);else{const k={...f,position:"center",alignment:"left",color:S};$f(m.id,D,T,k,m,I,s)}})}checkWithinBounds(t,e,i){if(!i)return!1;const{text:n,...s}=i.datum.label;i.setProperties({...e,text:n,x:s.x1,y:s.y1,textBaseline:"middle",textAlign:"end"});const{x:a}=i.getBBox();return a>=t.bounds.x&&a<=t.bounds.x+t.bounds.width}updateText(t,e){const i=this.rangeStrokesGroupSelection.selectByTag(0)[0];if(!i)return;const{text:n,strokeWidth:s}=t;this.text=this.updateNode(zd,this.text,!!n.label),$f(i.id,i,e,n,this.text,n.label,s)}updateAnchor(t,e,i,n){const s=Cj.topCenter(e);Nft.apply(this.anchor,z.Transformable.toCanvasPoint(this.trendLine,s.x,s.y))}containsPoint(t,e){const{trendLine:i,rangeStrokesGroupSelection:n,text:s}=this;let a=!1;return n.each(o=>a||(a=o.isPointInPath(t,e))),a||i.isPointInPath(t,e)||!!(s!=null&&s.containsPoint(t,e))}getNodeAtCoords(t,e){var i;if((i=this.text)!=null&&i.containsPoint(t,e))return"text";if(this.trendLine.isPointInPath(t,e))return"line"}getHandleStyles(t){return{fill:t.handle.fill,stroke:t.handle.stroke??t.stroke,strokeOpacity:t.handle.strokeOpacity??t.strokeOpacity,strokeWidth:t.handle.strokeWidth??t.strokeWidth}}drag(t,e,i,n){t.locked||(this.activeHandle?this.dragHandle(t,e,i,n):this.dragAll(t,e,i))}getAnchor(){return this.anchor}getCursor(){return"pointer"}},{Vec2:Eft,Vec4:od}=z,Hv=class extends o${constructor(){super(),this.type="fibonacci-retracement-trend-based",this.endRetracementLine=new ga,this.start=new Ai,this.end=new Ai,this.endRetracement=new Ai,this.append([this.endRetracementLine,this.start,this.end,this.endRetracement])}static is(t){return Un.isCheck(t,"fibonacci-retracement-trend-based")}update(t,e){let{coords1:i,coords2:n}=this.getCoords(t,e);if(i==null||n==null){this.visible=!1;return}if(i=od.round(i),n=od.round(n),this.visible=t.visible??!0,!this.visible)return;(t.endRetracement.x==null||t.endRetracement.y==null)&&(n=void 0),this.updateLine(t,i,this.trendLine),this.updateLine(t,n,this.endRetracementLine),this.updateHandles(t,i,n),this.updateAnchor(t,n??i,e);const{reverse:s,bands:a}=t,o=Lft(i,n),r=this.extendLine(o,t,e),l=r.y2,c=r.y1,h=n?a$(r,e,s,l,a):[];this.updateRanges(t,h,e);const p={...r,y1:c,y2:c};this.updateText(t,p)}containsPoint(t,e){const{start:i,end:n,endRetracement:s,endRetracementLine:a}=this;return this.activeHandle=void 0,i.containsPoint(t,e)?(this.activeHandle="start",!0):n.containsPoint(t,e)?(this.activeHandle="end",!0):s.containsPoint(t,e)?(this.activeHandle="endRetracement",!0):a.isPointInPath(t,e)||super.containsPoint(t,e)}getNodeAtCoords(t,e){return this.start.containsPoint(t,e)||this.end.containsPoint(t,e)||this.endRetracement.containsPoint(t,e)?"handle":this.endRetracementLine.isPointInPath(t,e)?"line":super.getNodeAtCoords(t,e)}dragStart(t,e,i){this.dragState={offset:e,...oD({start:t.start,end:t.end,endRetracement:t.endRetracement},i)}}stopDragging(){this.start.toggleDragging(!1),this.end.toggleDragging(!1),this.endRetracement.toggleDragging(!1)}dragAll(t,e,i){const{dragState:n}=this;n&&this.translatePoints({datum:t,start:n.start,end:n.end,endRetracement:n.endRetracement,translation:Eft.sub(e,n.offset),context:i})}dragHandle(t,e,i,n){const{activeHandle:s,dragState:a}=this;if(!s||!a)return;this[s].toggleDragging(!0);const o=n?this.snapToAngle(t,e,i):ri(this[s].drag(e).point,i);!o||!xr(i,o)||(t[s].x=o.x,t[s].y=o.y)}snapToAngle(t,e,i){const{activeHandle:n}=this,s=["start","end","endRetracement"];if(!n)return;const a=(s.indexOf(n)+1)%s.length,o=s[a];this[n].toggleDragging(!0);const r=Mi(t[o],i);return ri(Cb(e,r,t.snapToAngle),i)}translatePoints({datum:t,start:e,end:i,endRetracement:n,translation:s,context:a}){var c,h,p,f,y,m;const{vectors:o,translateX:r,translateY:l}=PO({start:e,end:i,endRetracement:n},s,a);r&&(t.start.x=(c=o.start)==null?void 0:c.x,t.end.x=(h=o.end)==null?void 0:h.x,t.endRetracement.x=(p=o.endRetracement)==null?void 0:p.x),(this.ignoreYBounds||l)&&(t.start.y=(f=o.start)==null?void 0:f.y,t.end.y=(y=o.end)==null?void 0:y.y,t.endRetracement.y=(m=o.endRetracement)==null?void 0:m.y)}translate(t,e,i){this.translatePoints({datum:t,start:Mi(t.start,i),end:Mi(t.end,i),endRetracement:Mi(t.endRetracement,i),translation:e,context:i})}copy(t,e,i){const{coords1:n,coords2:s}=this.getCoords(t,i);if(!n||!s)return;const a=this.computeBBoxWithoutHandles();return this.translatePoints({datum:e,start:od.start(n),end:od.end(n),endRetracement:od.end(s),translation:{x:-a.width/2,y:-a.height/2},context:i}),e}getCoords(t,e){return{coords1:mr(t,e),coords2:mr({start:t.end,end:t.endRetracement},e)}}toggleHandles(t){if(typeof t=="boolean")this.start.visible=t,this.end.visible=t,this.endRetracement.visible=t;else for(const[e,i]of Object.entries(t))this[e].visible=i;this.start.toggleHovered(this.activeHandle==="start"),this.end.toggleHovered(this.activeHandle==="end"),this.endRetracement.toggleHovered(this.activeHandle==="endRetracement")}toggleActive(t){this.toggleHandles(t),this.start.toggleActive(t),this.end.toggleActive(t),this.endRetracement.toggleActive(t)}updateHandles(t,e,i,n){this.start.update({...this.getHandleStyles(t),...this.getHandleCoords(t,e,"start")}),this.end.update({...this.getHandleStyles(t),...this.getHandleCoords(t,e,"end",n)}),i&&this.endRetracement.update({...this.getHandleStyles(t),...this.getHandleCoords(t,i,"endRetracement",n)}),this.start.toggleLocked(t.locked??!1),this.end.toggleLocked(t.locked??!1),this.endRetracement.toggleLocked(t.locked??!1)}getHandleCoords(t,e,i,n){return i==="start"?od.start(e):od.end(e)}},{StateMachine:Du,StateMachineProperty:HO,Debug:Oft}=z,lD=class extends Du{constructor(t){const e=({point:c})=>{const h=this.createDatum();h.set({start:c,end:c}),t.create(h)},i=()=>{const{node:c}=this;c==null||c.toggleActive(!0),c==null||c.toggleHandles({start:!0,end:!1,endRetracement:!1})},n=({offset:c,context:h})=>{const{datum:p,snapping:f}=this;p&&(p.set({end:Px(c,h,f,p.start,p.snapToAngle)}),t.update())},s=()=>{var h;const{datum:c}=this;c&&(c.endRetracement.x=c.end.x,c.endRetracement.y=c.end.y,(h=this.node)==null||h.toggleHandles({end:!0}),t.update())},a=({offset:c,context:h})=>{const{datum:p,snapping:f}=this;p&&(p.set({endRetracement:Px(c,h,f,p.end,p.snapToAngle)}),t.update())},o=()=>{var c;(c=this.node)==null||c.toggleHandles({endRetracement:!0}),t.update()},r=()=>t.delete(),l=()=>{var c;t.showAnnotationOptions(),t.recordAction(`Create ${(c=this.datum)==null?void 0:c.type} annotation`)};super("start",{start:{click:{target:"waiting-first-render",action:e},drag:{target:"waiting-first-render",action:e},reset:Du.parent},"waiting-first-render":{render:{target:"end",action:i}},end:{hover:n,click:{target:"endRetracement",action:s},drag:n,dragEnd:{target:"endRetracement",action:s},reset:{target:Du.parent,action:r},cancel:{target:Du.parent,action:r},onExit:l},endRetracement:{hover:a,click:{target:Du.parent,action:o},drag:{target:Du.parent,action:o},reset:{target:Du.parent,action:r},cancel:{target:Du.parent,action:r}}}),this.debug=Oft.create(!0,"annotations"),this.snapping=!1}createDatum(){return new Qr}};A([HO()],lD.prototype,"datum");A([HO()],lD.prototype,"node");A([HO()],lD.prototype,"snapping");var kj={type:"fibonacci-retracement-trend-based",datum:Qr,scene:Hv,isDatum:Qr.is,translate:(t,e,i,n)=>{Qr.is(e)&&Hv.is(t)&&t.translate(e,i,n)},copy:(t,e,i,n)=>{if(Qr.is(e)&&Qr.is(i)&&Hv.is(t))return t.copy(e,i,n)},update:(t,e,i)=>{Qr.is(e)&&Hv.is(t)&&t.update(e,i)},createState:(t,{createDatum:e})=>new lD({...t,create:e("fibonacci-retracement-trend-based")}),dragState:t=>new Ji(t)},{Vec2:wft,Vec4:Lj}=z,Wv=class extends o${constructor(){super(),this.type="fibonacci-retracement",this.start=new Ai,this.end=new Ai,this.append([this.start,this.end])}static is(t){return Un.isCheck(t,"fibonacci-retracement")}containsPoint(t,e){const{start:i,end:n}=this;return this.activeHandle=void 0,i.containsPoint(t,e)?(this.activeHandle="start",!0):n.containsPoint(t,e)?(this.activeHandle="end",!0):super.containsPoint(t,e)}getNodeAtCoords(t,e){return this.start.containsPoint(t,e)||this.end.containsPoint(t,e)?"handle":super.getNodeAtCoords(t,e)}dragStart(t,e,i){this.dragState={offset:e,...oD({start:t.start,end:t.end},i)}}stopDragging(){this.start.toggleDragging(!1),this.end.toggleDragging(!1)}dragAll(t,e,i){const{dragState:n}=this;n&&this.translatePoints({datum:t,start:n.start,end:n.end,translation:wft.sub(e,n.offset),context:i})}dragHandle(t,e,i,n){const{activeHandle:s,dragState:a}=this;if(!s||!a)return;this[s].toggleDragging(!0);const o=n?this.snapToAngle(t,e,i):ri(this[s].drag(e).point,i);!o||!xr(i,o)||(t[s].x=o.x,t[s].y=o.y)}snapToAngle(t,e,i){const{activeHandle:n}=this,a=["start","end"].find(r=>r!==n);if(!n||!a)return;this[n].toggleDragging(!0);const o=Mi(t[a],i);return ri(Cb(e,o,t.snapToAngle),i)}translatePoints({datum:t,start:e,end:i,translation:n,context:s}){var l,c,h,p;const{vectors:a,translateX:o,translateY:r}=PO({start:e,end:i},n,s);o&&(t.start.x=(l=a.start)==null?void 0:l.x,t.end.x=(c=a.end)==null?void 0:c.x),(this.ignoreYBounds||r)&&(t.start.y=(h=a.start)==null?void 0:h.y,t.end.y=(p=a.end)==null?void 0:p.y)}translate(t,e,i){this.translatePoints({datum:t,start:Mi(t.start,i),end:Mi(t.end,i),translation:e,context:i})}copy(t,e,i){const n=mr(t,i);if(!n)return;const s=this.computeBBoxWithoutHandles();return this.translatePoints({datum:e,start:{x:n.x1,y:n.y1},end:{x:n.x2,y:n.y2},translation:{x:-s.width/2,y:-s.height/2},context:i}),e}toggleHandles(t){if(typeof t=="boolean")this.start.visible=t,this.end.visible=t;else for(const[e,i]of Object.entries(t))this[e].visible=i;this.start.toggleHovered(this.activeHandle==="start"),this.end.toggleHovered(this.activeHandle==="end")}toggleActive(t){this.toggleHandles(t),this.start.toggleActive(t),this.end.toggleActive(t)}updateHandles(t,e,i,n){this.start.update({...this.getHandleStyles(t),...this.getHandleCoords(t,e,"start")}),this.end.update({...this.getHandleStyles(t),...this.getHandleCoords(t,e,"end",n)}),this.start.toggleLocked(t.locked??!1),this.end.toggleLocked(t.locked??!1)}getHandleCoords(t,e,i,n){return i==="start"?Lj.start(e):Lj.end(e)}},{StateMachine:xf,StateMachineProperty:WO,Debug:Rft}=z,wg=class extends xf{constructor(t){const e=({point:r})=>{const l=this.createDatum();l.set({start:r,end:r}),t.create(l)},i=()=>{const{node:r}=this;r==null||r.toggleActive(!0),r==null||r.toggleHandles({start:!0,end:!1})},n=({offset:r,context:l})=>{const{datum:c,snapping:h}=this;c&&(c.set({end:Px(r,l,h,c.start,c.snapToAngle)}),t.update())},s=()=>{var r;(r=this.node)==null||r.toggleHandles({end:!0}),t.update()},a=()=>t.delete(),o=()=>{var r;t.showAnnotationOptions(),t.recordAction(`Create ${(r=this.datum)==null?void 0:r.type} annotation`)};super("start",{start:{click:{target:"waiting-first-render",action:e},drag:{target:"waiting-first-render",action:e},reset:xf.parent},"waiting-first-render":{render:{target:"end",action:i}},end:{hover:n,click:{target:xf.parent,action:s},drag:n,dragEnd:{target:xf.parent,action:s},reset:{target:xf.parent,action:a},cancel:{target:xf.parent,action:a},onExit:o}}),this.debug=Rft.create(!0,"annotations"),this.snapping=!1}};A([WO()],wg.prototype,"datum");A([WO()],wg.prototype,"node");A([WO()],wg.prototype,"snapping");var Pft=class extends wg{createDatum(){return new ac}},Bft=class extends wg{createDatum(){return new oc}},zft=class extends wg{createDatum(){return new rc}},Nj={type:"fibonacci-retracement",datum:rc,scene:Wv,isDatum:rc.is,translate:(t,e,i,n)=>{rc.is(e)&&Wv.is(t)&&t.translate(e,i,n)},copy:(t,e,i,n)=>{if(rc.is(e)&&rc.is(i)&&Wv.is(t))return t.copy(e,i,n)},update:(t,e,i)=>{rc.is(e)&&Wv.is(t)&&t.update(e,i)},createState:(t,{createDatum:e})=>new zft({...t,create:e("fibonacci-retracement")}),dragState:t=>new Ji(t)},{Vec2:dm}=z,_ft=class extends z.Group{},bM=class extends _ft{constructor(){super(),this.type="arrow",this.path=new z.Path,this.armLength=6,this.append([this.path])}update(t){const{path:e}=this,{x:i,y:n,angle:s,...a}=t,o=dm.from(i,n),r=3*Math.PI/4,l=this.armLength+(t.strokeWidth??0)*2,c=dm.rotate(dm.from(0,l),s+r,o),h=dm.rotate(dm.from(l,0),s-r,o);e.setProperties(a),e.fillOpacity=0,e.path.clear(),e.path.moveTo(c.x,c.y),e.path.lineTo(o.x,o.y),e.path.lineTo(h.x,h.y)}},{Vec2:sr,Vec4:Ej}=z,Hu=class extends zO{constructor(){super(),this.type="line",this.line=new ga,this.append([this.line,this.start,this.end])}static is(t){return Un.isCheck(t,"line")}update(t,e){let i=mr(t,e);if(i==null){this.visible=!1;return}i=Ej.round(i),this.visible=t.visible??!0,this.visible&&(this.updateLine(t,i,e),this.updateHandles(t,i),this.updateText(t,i),this.updateCaps(t,i),this.updateAnchor(t,i,e))}updateLine(t,e,i){const{line:n}=this,{lineDashOffset:s,stroke:a,strokeWidth:o,strokeOpacity:r}=t,l=this.extendLine(e,t,i);n.setProperties({...l,lineCap:t.getLineCap(),lineDash:t.getLineDash(),lineDashOffset:s,stroke:a,strokeWidth:o,strokeOpacity:r,fillOpacity:0})}updateText(t,e){this.text=this.updateNode(zd,this.text,!!t.text.label),$f(this.line.id,this.line,e,t.text,this.text,t.text.label,t.strokeWidth)}updateCaps(t,e){if(!t.startCap&&this.startCap&&(this.removeChild(this.startCap),this.startCap=void 0),!t.endCap&&this.endCap&&(this.removeChild(this.endCap),this.endCap=void 0),!t.startCap&&!t.endCap)return;const{stroke:i,strokeWidth:n,strokeOpacity:s}=t,[a,o]=sr.from(e),r=sr.angle(sr.sub(o,a));t.startCap&&(this.startCap&&this.startCap.type!==t.startCap&&(this.removeChild(this.startCap),this.startCap=void 0),this.startCap==null&&(this.startCap=new bM,this.append([this.startCap])),this.startCap.update({x:a.x,y:a.y,angle:r-Math.PI,stroke:i,strokeWidth:n,strokeOpacity:s})),t.endCap&&(this.endCap&&this.endCap.type!==t.endCap&&(this.removeChild(this.endCap),this.endCap=void 0),this.endCap==null&&(this.endCap=new bM,this.append([this.endCap])),this.endCap.update({x:o.x,y:o.y,angle:r,stroke:i,strokeWidth:n,strokeOpacity:s}))}updateAnchor(t,e,i,n){const s=Ej.topCenter(e);sr.apply(this.anchor,z.Transformable.toCanvasPoint(this.line,s.x,s.y))}containsPoint(t,e){const{line:i,text:n}=this;return super.containsPoint(t,e)||i.isPointInPath(t,e)||!!(n!=null&&n.containsPoint(t,e))}getNodeAtCoords(t,e){var i;return(i=this.text)!=null&&i.containsPoint(t,e)?"text":this.line.isPointInPath(t,e)?"line":super.getNodeAtCoords(t,e)}getHandleCoords(t,e,i,n){const{startCap:s,endCap:a}=this;let[o,r]=sr.from(e);const l=sr.angle(sr.sub(r,o));return s&&(o=sr.rotate(sr.from(0,-Ai.HANDLE_SIZE/2),l,o)),a&&(r=sr.rotate(sr.from(0,Ai.HANDLE_SIZE/2),l,r)),i==="start"?o:r}getHandleStyles(t){return{fill:t.handle.fill,stroke:t.handle.stroke??t.stroke,strokeOpacity:t.handle.strokeOpacity??t.strokeOpacity,strokeWidth:t.handle.strokeWidth??t.strokeWidth}}},Oj={type:"line",datum:oc,scene:Hu,isDatum:oc.is,translate:(t,e,i,n)=>{oc.is(e)&&Hu.is(t)&&t.translate(e,i,n)},copy:(t,e,i,n)=>{if(oc.is(e)&&oc.is(i)&&Hu.is(t))return t.copy(e,i,n)},update:(t,e,i)=>{oc.is(e)&&Hu.is(t)&&t.update(e,i)},createState:(t,{createDatum:e})=>new Bft({...t,create:e("line")}),dragState:t=>new Ji(t)},wj={type:"arrow",datum:ac,scene:Hu,isDatum:ac.is,translate:(t,e,i,n)=>{ac.is(e)&&Hu.is(t)&&t.translate(e,i,n)},copy:(t,e,i,n)=>{if(ac.is(e)&&ac.is(i)&&Hu.is(t))return t.copy(e,i,n)},update:(t,e,i)=>{ac.is(e)&&Hu.is(t)&&t.update(e,i)},createState:(t,{createDatum:e})=>new Pft({...t,create:e("arrow")}),dragState:t=>new Ji(t)};function Rj(t,e=0,i=0){let n=e;for(const s of t)if(Array.isArray(s)){for(const a of s)Pj(a,n);n+=z.Group.computeChildrenBBox(s).width+i}else Pj(s,n),n+=s.getBBox().width+i}function jft(t,e=0,i=0){let n=e;for(const s of t)if(Array.isArray(s)){for(const a of s)Bj(a,n);n+=z.Group.computeChildrenBBox(s).height+i}else Bj(s,n),n+=s.getBBox().height+i}function Pj(t,e){"x1"in t?(t.x2=e+(t.x2-t.x1),t.x1=e):t.x=e}function Bj(t,e){"y1"in t?(t.y2=e+(t.y2-t.y1),t.y1=e):t.y=e}function zj(t,e){"x1"in t?(t.x1+=e,t.x2+=e):t.x+=e}function _j(t,e){"y1"in t?(t.y1+=e,t.y2+=e):t.y+=e}var{Vec4:g1}=z,r$=class extends z.Group{constructor(){super(),this.name="MeasurerStatisticsScene",this.background=new z.Rect,this.dateRangeBarsText=new z.Text,this.dateRangeDivider=new z.Line,this.dateRangeValueText=new z.Text,this.priceRangeValueText=new z.Text,this.priceRangeDivider=new z.Line,this.priceRangePercentageText=new z.Text,this.volumeText=new z.Text,this.volumeFormatter=new Intl.NumberFormat("en-US",{notation:"compact",minimumFractionDigits:2,maximumFractionDigits:2}),this.append([this.background,this.dateRangeBarsText,this.dateRangeDivider,this.dateRangeValueText,this.priceRangeValueText,this.priceRangeDivider,this.priceRangePercentageText,this.volumeText])}update(t,e,i,n,s,a,o){this.verticalDirection=a;const r=this.updateStatistics(t,e,i,o),l=z.Group.computeChildrenBBox(r.flat()),c=10;l.grow(c),this.updateBackground(t,l,c),this.reposition(r,c,s),this.checkVisibility(t,s,n)}checkVisibility(t,e,i){const n=g1.from(new z.BBox(0,0,e.seriesRect.width,e.seriesRect.height));g1.collides(i,n)?this.visible=t.visible??!0:this.visible=!1}updateStatistics(t,e,i,n){const{dateRangeBarsText:s,dateRangeDivider:a,dateRangeValueText:o,priceRangeValueText:r,priceRangeDivider:l,priceRangePercentageText:c,volumeText:h}=this,p=8,f=6,y=t.statistics.fontSize+3,m=-2,b=this.getTextStyles(t),v={...this.getDividerStyles(t),x1:0,y1:0,x2:0,y2:y},S=[s,a,o],D=[r,l,c],I=[];return e.priceRange&&(r.setProperties({...b,text:this.formatPriceRangeValue(e.priceRange.value,n)}),l.setProperties(v),c.setProperties({...b,text:this.formatPriceRangePercentage(e.priceRange.percentage,n)}),Rj(D,i.x,p),I.push(D)),e.dateRange&&(s.setProperties({...b,text:this.formatDateRangeBars(e.dateRange.bars,n)}),a.setProperties(v),o.setProperties({...b,text:this.formatDateRangeValue(e.dateRange.value)}),Rj(S,i.x,p),I.push(S)),e.volume!=null?(h.setProperties({...b,x:i.x,text:this.formatVolume(e.volume,n),visible:!0}),I.push(h)):h.visible=!1,jft(I,i.y,f),l.y1+=m,l.y2+=m,a.y1+=m,a.y2+=m,I}updateBackground(t,e,i){const n=this.getBackgroundStyles(t);this.background.setProperties({...n,...e,x:e.x-e.width/2+i,y:e.y})}reposition(t,e,i){const{width:n,height:s}=i.seriesRect,a=g1.from(this.background.getBBox());let o=0;a.x1<0&&(o=-a.x1),a.x2>n&&(o=n-a.x2);const r=Math.min(e,s-a.y2);for(const l of t)if(Array.isArray(l)){const c=z.Group.computeChildrenBBox(l).width;for(const h of l)zj(h,o-c/2),_j(h,r)}else zj(l,o-l.getBBox().width/2),_j(l,r);this.background.x+=o,this.background.y+=r}getTextStyles(t){return{fill:t.statistics.color,fontFamily:t.statistics.fontFamily,fontSize:t.statistics.fontSize,fontStyle:t.statistics.fontStyle,fontWeight:t.statistics.fontWeight,textBaseline:"top"}}getDividerStyles(t){return{stroke:t.statistics.divider.stroke,strokeOpacity:t.statistics.divider.strokeOpacity,strokeWidth:t.statistics.divider.strokeWidth}}getBackgroundStyles(t){return{fill:t.statistics.fill,stroke:t.statistics.stroke,strokeOpacity:t.statistics.strokeOpacity,strokeWidth:t.statistics.strokeWidth,cornerRadius:4}}formatDateRangeBars(t,e){return(e==null?void 0:e.t("measurerDateRangeBars",{value:t}))??`${t}`}formatDateRangeValue(t){const e=[],i=t>=0?"":"-";t=Math.abs(t);const n=1e3*60,s=n*60,a=s*24,o=Math.floor(t/n),r=Math.floor(t/s),l=Math.floor(t/a),c=r%(a/s),h=o%(s/n);return l>=1&&e.push(`${l}d`),r>=1&&(t<a||c!==0)&&e.push(`${c}h`),(t<s||h!==0)&&e.push(`${h}m`),e[0]=`${i}${e[0]}`,e.join(" ")}formatPriceRangeValue(t,e){return(e==null?void 0:e.t("measurerPriceRangeValue",{value:Number(t.toFixed(2))}))??`${t}`}formatPriceRangePercentage(t,e){return(e==null?void 0:e.t("measurerPriceRangePercent",{value:t}))??`${t}`}formatVolume(t,e){const i=isNaN(t)?"":this.volumeFormatter.format(t);return(e==null?void 0:e.t("measurerVolume",{value:i}))??i}},Fft=class extends r${getDirectionStyles(t){return this.verticalDirection==="down"?t.down.statistics:t.up.statistics}getTextStyles(t){const e=this.getDirectionStyles(t);return{...super.getTextStyles(t),fill:e.color,fontFamily:e.fontFamily,fontSize:e.fontSize,fontStyle:e.fontStyle,fontWeight:e.fontWeight}}getDividerStyles(t){const e=this.getDirectionStyles(t);return{stroke:e.divider.stroke,strokeOpacity:e.divider.strokeOpacity,strokeWidth:e.divider.strokeWidth}}getBackgroundStyles(t){const e=this.getDirectionStyles(t);return{...super.getBackgroundStyles(t),fill:e.fill,stroke:e.stroke,strokeOpacity:e.strokeOpacity,strokeWidth:e.strokeWidth}}},{Vec2:Hr,Vec4:rd}=z,_a=class extends zO{constructor(){super(),this.type="measurer",this.horizontalLine=new ga,this.verticalLine=new ga,this.horizontalStartLine=new ga,this.horizontalEndLine=new ga,this.verticalStartLine=new ga,this.verticalEndLine=new ga,this.horizontalEndCap=new bM,this.verticalEndCap=new bM,this.background=new z.Path({zIndex:-1}),this.updateBackground=n$.updateBackground.bind(this),this.statistics=this.createStatisticsScene(),this.statistics.zIndex=1,this.append([this.background,this.verticalStartLine,this.verticalEndLine,this.horizontalStartLine,this.horizontalEndLine,this.horizontalLine,this.verticalLine,this.horizontalEndCap,this.verticalEndCap,this.start,this.end,this.statistics])}static is(t){return Un.isCheck(t,"measurer")}createStatisticsScene(){return new r$}update(t,e){const i=mr(t,e);if(i==null){this.visible=!1;return}if(this.visible=t.visible??!0,!this.visible)return;const n=this.extendPerpendicular(i,t,e),s={...n,y2:n.y1},a={...n,y1:n.y2};this.verticalDirection=i.y1<i.y2?"down":"up",this.updateVisibilities(t),this.updateLines(t,i),this.updateHandles(t,i),this.updateText(t,i),this.updateCaps(t,i),this.updateBoundingLines(t,n),this.updateBackground(t,s,a,e),this.updateStatistics(t,i,e),this.updateAnchor(t,i,e)}extendPerpendicular(t,e,i){const n={x1:Math.min(t.x1,t.x2),x2:Math.max(t.x1,t.x2),y1:Math.min(t.y1,t.y2),y2:Math.max(t.y1,t.y2)},[s,a]=Hr.from(i.yAxis.bounds);return To.is(e)?(e.extendAbove&&(n.y1=s.y),e.extendBelow&&(n.y2=a.y)):Co.is(e)&&(e.extendLeft&&(n.x1=s.x),e.extendRight&&(n.x2=a.x)),n}updateVisibilities(t){const{horizontalStartLine:e,horizontalEndLine:i,horizontalEndCap:n,verticalStartLine:s,verticalEndLine:a,verticalEndCap:o}=this,{direction:r}=t;s.visible=r!=="vertical",a.visible=r!=="vertical",n.visible=r!=="vertical",e.visible=r!=="horizontal",i.visible=r!=="horizontal",o.visible=r!=="horizontal"}updateLines(t,e){const{horizontalLine:i,verticalLine:n}=this,{direction:s}=t,{x1:a,y1:o,x2:r,y2:l}=e,c=Hr.round(rd.center(e)),h=this.getLineStyles(t);s!=="vertical"&&i.setProperties({...h,x1:a,x2:r,y1:c.y,y2:c.y}),s!=="horizontal"&&n.setProperties({...h,x1:c.x,x2:c.x,y1:o,y2:l})}updateText(t,e){const{direction:i}=t,n=Hr.round(rd.center(e));let s;const a={...e};i==="vertical"?(s=this.verticalLine,a.x1=n.x,a.x2=n.x):(s=this.horizontalLine,a.y1=n.y,a.y2=n.y),this.text=this.updateNode(zd,this.text,!!t.text.label);const{id:o}=s,r=$f(o,s,a,t.text,this.text,t.text.label,t.strokeWidth);let l;if(i==="both"&&r&&this.text){const c=rd.from(this.text.getBBox()),{offset:h}=r.numbers;c.x1<=n.x+h.x&&c.x2>=n.x-h.x&&(l={x:n.x,y:r.clipMask.y,radius:this.text.getBBox().height/2+Hr.length(h)})}this.verticalLine.setClipMask(o,l)}updateCaps(t,e){const{horizontalEndCap:i,verticalEndCap:n}=this,{direction:s}=t,{x1:a,y1:o,x2:r,y2:l}=e,c=Hr.round(rd.center(e)),{stroke:h,strokeWidth:p,strokeOpacity:f}=this.getLineStyles(t),y={stroke:h,strokeWidth:p,strokeOpacity:f};if(s!=="vertical"){const m=a<=r?0:Math.PI;let b=r;s==="horizontal"&&(b+=a<=r?-2:2),i.update({...y,x:b,y:c.y,angle:m})}if(s!=="horizontal"){const m=o<=l?Math.PI/2:Math.PI/-2;let b=l;s==="vertical"&&(b+=o<=l?-2:2),n.update({...y,x:c.x,y:b,angle:m})}}updateBoundingLines(t,e){const{verticalStartLine:i,verticalEndLine:n,horizontalStartLine:s,horizontalEndLine:a}=this,{direction:o}=t,{x1:r,y1:l,x2:c,y2:h}=e,p=this.getLineStyles(t);o==="horizontal"&&(i.setProperties({...p,x1:r,y1:l,x2:r,y2:h}),n.setProperties({...p,x1:c,y1:l,x2:c,y2:h})),o==="vertical"&&(s.setProperties({...p,x1:r,y1:l,x2:c,y2:l}),a.setProperties({...p,x1:r,y1:h,x2:c,y2:h}))}updateStatistics(t,e,i){const n=Hr.add(rd.bottomCenter(e),Hr.from(0,10)),s={volume:this.getVolume(t)};t.hasPriceRange&&(s.priceRange={percentage:this.getPriceRangePercentage(t),value:this.getPriceRangeValue(t)}),t.hasDateRange&&(s.dateRange={bars:this.getDateRangeBars(e,i),value:this.getDateRangeValue(t)}),this.statistics.update(t,s,n,e,i,this.verticalDirection,t.localeManager)}updateAnchor(t,e,i,n){const s=rd.topCenter(e);Hr.apply(this.anchor,z.Transformable.toCanvasPoint(this.horizontalLine,s.x,s.y))}getBackgroundPoints(t,e,i,n){const[s,a]=Hr.from(e),[o,r]=Hr.from(i);return[s,a,r,o]}getLineStyles(t){const{lineDashOffset:e,stroke:i,strokeWidth:n,strokeOpacity:s}=t;return{lineCap:t.getLineCap(),lineDash:t.getLineDash(),lineDashOffset:e,stroke:i,strokeWidth:n,strokeOpacity:s,fillOpacity:0}}getBackgroundStyles(t){const{background:e}=t;return{fill:e.fill,fillOpacity:e.fillOpacity}}getHandleStyles(t){return{fill:t.handle.fill,stroke:t.handle.stroke??t.stroke,strokeOpacity:t.handle.strokeOpacity??t.strokeOpacity,strokeWidth:t.handle.strokeWidth??t.strokeWidth}}containsPoint(t,e){const{horizontalLine:i,text:n,verticalLine:s,horizontalStartLine:a,horizontalEndLine:o,verticalStartLine:r,verticalEndLine:l}=this;return super.containsPoint(t,e)||i.isPointInPath(t,e)||s.isPointInPath(t,e)||a.visible&&a.isPointInPath(t,e)||o.visible&&o.isPointInPath(t,e)||r.visible&&r.isPointInPath(t,e)||l.visible&&l.isPointInPath(t,e)||!!(n!=null&&n.containsPoint(t,e))}getNodeAtCoords(t,e){var i;return(i=this.text)!=null&&i.containsPoint(t,e)?"text":this.start.containsPoint(t,e)||this.end.containsPoint(t,e)?"handle":"line"}getDateRangeBars(t,e){const{step:i}=e.xAxis.scale,n=t.x1<=t.x2?1:-1;return i?Math.round(rd.width(t)/i)*n:0}getDateRangeValue(t){const{value:e}=oi(t.start.x),{value:i}=oi(t.end.x);if(!Ix(e)||!Ix(i))throw new Error("Can not create a date range measurement of non-date x-axis.");return i.getTime()-e.getTime()}getPriceRangePercentage(t){if(t.start.y==null||t.end.y==null)throw new Error("Can not create a price range measurement of a non-numeric y-axis");const{value:e}=oi(t.end.y),{value:i}=oi(t.start.y);if(!Wi(e)||!Wi(i))throw new Error("Can not create a price range measurement of a non-numeric y-axis");return(e-i)/i}getPriceRangeValue(t){if(t.start.y==null||t.end.y==null)throw new Error("Can not create a price range measurement of a non-numeric y-axis");const{value:e}=oi(t.end.y),{value:i}=oi(t.start.y);if(!Wi(e)||!Wi(i))throw new Error("Can not create a price range measurement of a non-numeric y-axis");return e-i}getVolume(t){return t.getVolume(t.start.x,t.end.x)}},Yv=class extends _a{constructor(){super(...arguments),this.type="quick-measurer"}static is(t){return Un.isCheck(t,"quick-measurer")}createStatisticsScene(){return new Fft}getDirectionStyles(t){return this.verticalDirection==="down"?t.down:t.up}getLineStyles(t){const e=this.getDirectionStyles(t);return{...super.getLineStyles(t),stroke:e.stroke,strokeWidth:e.strokeWidth,strokeOpacity:e.strokeOpacity}}getBackgroundStyles(t){const e=this.getDirectionStyles(t);return{fill:e.fill,fillOpacity:e.fillOpacity}}getHandleStyles(t){const e=this.getDirectionStyles(t);return{fill:e.handle.fill,stroke:e.handle.stroke??e.stroke,strokeOpacity:e.handle.strokeOpacity??e.strokeOpacity,strokeWidth:e.handle.strokeWidth??e.strokeWidth}}},{StateMachine:bf,StateMachineProperty:l$,Debug:Gft}=z,Rg=class extends bf{constructor(t){const e=({point:o})=>{const r=this.createDatum();r.set({start:o,end:o}),t.create(r)},i=({point:o})=>{const{datum:r,node:l}=this;r==null||r.set({end:o}),l==null||l.toggleActive(!0),l==null||l.toggleHandles({end:!1}),t.update()},n=()=>{var o;(o=this.node)==null||o.toggleHandles({end:!0})},s=()=>t.delete(),a=()=>{var o;t.showAnnotationOptions(),!Vu(this.datum)&&t.recordAction(`Create ${(o=this.node)==null?void 0:o.type} annotation`)};super("start",{start:{reset:bf.parent,click:{target:"end",action:e},drag:{target:"end",action:e}},end:{hover:i,drag:i,click:{target:bf.parent,action:n},dragEnd:{target:bf.parent,action:n},reset:{target:bf.parent,action:s},cancel:{target:bf.parent,action:s},onExit:a}}),this.debug=Gft.create(!0,"annotations")}};A([l$()],Rg.prototype,"datum");A([l$()],Rg.prototype,"node");var Vft=class extends Rg{createDatum(){return new To}},Uft=class extends Rg{createDatum(){return new Co}},Hft=class extends Rg{createDatum(){return new sc}},Wft=class extends Rg{createDatum(){return new Ba}},jj={type:"date-range",datum:To,scene:_a,isDatum:To.is,translate:(t,e,i,n)=>{To.is(e)&&_a.is(t)&&t.translate(e,i,n)},copy:(t,e,i,n)=>{if(To.is(e)&&To.is(i)&&_a.is(t))return t.copy(e,i,n)},update:(t,e,i)=>{To.is(e)&&_a.is(t)&&t.update(e,i)},createState:(t,{createDatum:e})=>new Vft({...t,create:e("date-range")}),dragState:t=>new Ji(t)},Fj={type:"price-range",datum:Co,scene:_a,isDatum:Co.is,translate:(t,e,i,n)=>{Co.is(e)&&_a.is(t)&&t.translate(e,i,n)},copy:(t,e,i,n)=>{if(Co.is(e)&&Co.is(i)&&_a.is(t))return t.copy(e,i,n)},update:(t,e,i)=>{Co.is(e)&&_a.is(t)&&t.update(e,i)},createState:(t,{createDatum:e})=>new Uft({...t,create:e("date-range")}),dragState:t=>new Ji(t)},Gj={type:"date-price-range",datum:sc,scene:_a,isDatum:sc.is,translate:(t,e,i,n)=>{sc.is(e)&&_a.is(t)&&t.translate(e,i,n)},copy:(t,e,i,n)=>{if(sc.is(e)&&sc.is(i)&&_a.is(t))return t.copy(e,i,n)},update:(t,e,i)=>{sc.is(e)&&_a.is(t)&&t.update(e,i)},createState:(t,{createDatum:e})=>new Hft({...t,create:e("date-range")}),dragState:t=>new Ji(t)},Vj={type:"quick-date-price-range",datum:Ba,scene:Yv,isDatum:Ba.is,translate:(t,e,i,n)=>{Ba.is(e)&&Yv.is(t)&&t.translate(e,i,n)},copy:(t,e,i,n)=>{if(Ba.is(e)&&Ba.is(i)&&Yv.is(t))return t.copy(e,i,n)},update:(t,e,i)=>{Ba.is(e)&&Yv.is(t)&&t.update(e,i)},createState:(t,{createDatum:e})=>new Wft({...t,create:e("quick-date-price-range")}),dragState:t=>new Ji(t)},{ZIndexMap:Uj,TextWrapper:Yft,clamp:$ft}=z,$v=class extends GO{constructor(){super(),this.type="note",this.shape=new z.Rect,this.iconBackground=new z.SvgPath("M22 1.83333C22 0.820811 21.1792 0 20.1667 0H1.83333C0.820811 0 0 0.82081 0 1.83333V13.9868C0 14.9994 0.820811 15.8202 1.83333 15.8202L5.88971 15.8202C6.44575 15.8202 6.97175 16.0725 7.31971 16.5062L9.57006 19.3112C10.304 20.2259 11.6962 20.2259 12.4301 19.3112L14.6804 16.5062C15.0284 16.0725 15.5544 15.8202 16.1104 15.8202L20.1667 15.8202C21.1792 15.8202 22 14.9994 22 13.9868V1.83333Z"),this.iconLines=new z.SvgPath("M17.1114 5.75C17.1114 6.16421 16.7756 6.5 16.3614 6.5H5.63916C5.22495 6.5 4.88916 6.16421 4.88916 5.75V5.75C4.88916 5.33579 5.22495 5 5.63916 5H16.3614C16.7756 5 17.1114 5.33579 17.1114 5.75V5.75ZM17.1114 9.25C17.1114 9.66421 16.7756 10 16.3614 10H5.63916C5.22495 10 4.88916 9.66421 4.88916 9.25V9.25C4.88916 8.83579 5.22495 8.5 5.63916 8.5H16.3614C16.7756 8.5 17.1114 8.83579 17.1114 9.25V9.25Z"),this.active=!1,this.shape.visible=!1,this.label.visible=!1,this.iconBackground.fillShadow=new z.DropShadow,this.append([this.shape,this.label,this.iconBackground,this.iconLines,this.handle])}static is(t){return Un.isCheck(t,"note")}update(t,e){this.updateIcon(t,e),super.update(t,e)}getTextBBox(t,e,i){const n=super.getTextBBox(t,e,i);n.x-=t.width/2,n.x=$ft(0,n.x,i.seriesRect.width-t.width);const s=t.getPadding().top,a=n.y-DY-s*2,o=n.y+Ai.HANDLE_SIZE+s*2;return a-n.height-IY<0?(n.y=o,t.position="top"):(n.y=a+s,t.position="bottom"),n}updateLabel(t,e){const i=t.visible===!1?!1:this.label.visible;super.updateLabel(t,e),this.label.visible=i,this.label.text=Yft.wrapText(t.text,{font:{fontFamily:t.fontFamily,fontSize:t.fontSize,fontStyle:t.fontStyle,fontWeight:t.fontWeight},avoidOrphans:!1,textAlign:t.textAlign,textBaseline:"hanging",textWrap:"always",maxWidth:200})}updateShape(t,e){const{shape:i}=this;i.fill=t.background.fill,i.fillOpacity=t.background.fillOpacity??1,i.stroke=t.background.stroke,i.strokeOpacity=t.background.strokeOpacity??1,i.strokeWidth=t.background.strokeWidth??1,i.cornerRadius=4;const n=t.getPadding().top,s=t.position==="top";i.x=e.x-n,i.width=t.width+n*2,i.height=e.height+n*2,i.y=e.y+(s?0:-e.height)-n}updateIcon(t,e){const{active:i,iconBackground:n,iconLines:s}=this,{x:a,y:o}=Mi(t,e);n.x=a-ept/2,n.y=o-AY,s.x=n.x,s.y=n.y,n.fill=t.fill,n.fillOpacity=t.fillOpacity??1,n.stroke=t.stroke,n.strokeOpacity=t.strokeOpacity??1,n.strokeWidth=t.strokeWidth??1,s.fill=t.stroke,i?n.fillShadow.color=t.fill??"rgba(0, 0, 0, 0.22)":n.fillShadow.color="rgba(0, 0, 0, 0.22)"}updateAnchor(t,e,i){const n=t.getPadding().top,s=t.position==="top",a=s?1:-1;return{x:e.x+i.seriesRect.x+t.width/2,y:e.y+i.seriesRect.y+a*(e.height+n),position:s?"below":"above"}}getLabelCoords(t,e){const i=t.position==="top",n=t.getPadding().top;return{x:e.x,y:e.y+(i?n/2:0)}}getHandleCoords(t,e,i){return{x:e.x,y:e.y+Ai.HANDLE_SIZE/2+4}}getHandleStyles(t){return{fill:t.handle.fill,stroke:t.handle.stroke??t.fill,strokeOpacity:t.handle.strokeOpacity,strokeWidth:t.handle.strokeWidth}}toggleHovered(t){super.toggleHovered(t),this.label.visible=t,this.shape.visible=t,this.zIndex=t?Uj.CHART_ANNOTATION_FOCUSED:Uj.CHART_ANNOTATION}toggleActive(t){super.toggleActive(t),this.label.visible=t,this.shape.visible=t,this.active=t}containsPoint(t,e){return this.shape.visible&&this.shape.containsPoint(t,e)||this.iconBackground.containsPoint(t,e)?!0:super.containsPoint(t,e)}},Kft=class extends kb{createDatum(){return new fa}},Hj={type:"note",datum:fa,scene:$v,isDatum:fa.is,translate:(t,e,i,n)=>{fa.is(e)&&$v.is(t)&&t.translate(e,i,n)},copy:(t,e,i,n)=>{if(fa.is(e)&&fa.is(i)&&$v.is(t))return t.copy(e,i,n)},update:(t,e,i)=>{fa.is(e)&&$v.is(t)&&t.update(e,i)},createState:(t,{createDatum:e})=>new Kft({...t,create:e("note")}),dragState:t=>new Ji(t)},{Vec2:Wr,Vec4:vf}=z,Kv=class extends s${constructor(){super(),this.type="parallel-channel",this.ignoreYBounds=!0,this.handles={topLeft:new Ai,topMiddle:new Bf,topRight:new Ai,bottomLeft:new Ai,bottomMiddle:new Bf,bottomRight:new Ai},this.middleLine=new ga,this.append([this.background,this.topLine,this.middleLine,this.bottomLine,...Object.values(this.handles)])}static is(t){return Un.isCheck(t,"parallel-channel")}dragHandle(t,e,i,n){const{activeHandle:s,handles:a}=this;if(s==null)return;const{offset:o}=a[s].drag(e);a[s].toggleDragging(!0);const r=t.toJson();let l=[],c=[];switch(s){case"topLeft":case"bottomLeft":l=["topLeft","bottomLeft"],c=["topRight","bottomRight"];break;case"topMiddle":l=["topLeft","topRight"],o.y-=Bf.HANDLE_SIZE/2;break;case"topRight":case"bottomRight":l=["topRight","bottomRight"],c=["topLeft","bottomLeft"];break;case"bottomMiddle":l=["bottomLeft","bottomRight"],o.y-=Bf.HANDLE_SIZE/2;break}const h=t.snapToAngle,p=l.map((y,m)=>n&&c[m]?this.snapToAngle(e,i,y,c[m],h):ri(Wr.add(a[y].handle,o),i)).filter(opt);if(p.some(y=>!xr(i,y,{y:!1})))return;const{value:f}=oi(t.start.y);if((s==="topMiddle"||s==="bottomMiddle")&&f!=null&&Wi(f)){const y=ri(Wr.add(a.topLeft.handle,o),i);s==="topMiddle"?t.height+=y.y-f:t.height-=y.y-f}for(const[y,m]of p.entries())switch(l[y]){case"topLeft":t.start.x=m.x,t.start.y=m.y;break;case"topRight":t.end.x=m.x,t.end.y=m.y;break}t.isValidWithContext(i)||t.set(r)}containsPoint(t,e){return super.containsPoint(t,e)||this.middleLine.visible&&this.middleLine.strokeWidth>0&&this.middleLine.containsPoint(t,e)}getNodeAtCoords(t,e){return this.middleLine.visible&&this.middleLine.strokeWidth>0&&this.middleLine.containsPoint(t,e)?"line":super.getNodeAtCoords(t,e)}updateLines(t,e,i,n,s,a){const{topLine:o,middleLine:r,bottomLine:l}=this,{lineDashOffset:c,stroke:h,strokeOpacity:p,strokeWidth:f}=t,y=t.getLineDash(),m={lineCap:t.getLineCap(),lineDash:y,lineDashOffset:c,stroke:h,strokeOpacity:p,strokeWidth:f};o.setProperties({...e,...m}),l.setProperties({...i,...m});const b=this.extendLine({x1:s.x1,y1:a.y1+(s.y1-a.y1)/2,x2:s.x2,y2:a.y2+(s.y2-a.y2)/2},t,n);r.setProperties({...b,lineDash:t.middle.lineDash??y,lineDashOffset:t.middle.lineDashOffset??c,stroke:t.middle.stroke??h,strokeOpacity:t.middle.strokeOpacity??p,strokeWidth:t.middle.strokeWidth??f,visible:t.middle.visible??!0})}updateHandles(t,e,i){const{handles:{topLeft:n,topMiddle:s,topRight:a,bottomLeft:o,bottomMiddle:r,bottomRight:l}}=this,c={fill:t.handle.fill,stroke:t.handle.stroke??t.stroke,strokeOpacity:t.handle.strokeOpacity??t.strokeOpacity,strokeWidth:t.handle.strokeWidth??t.strokeWidth};n.update({...c,...vf.start(e)}),a.update({...c,...vf.end(e)}),o.update({...c,...vf.start(i)}),l.update({...c,...vf.end(i)}),s.update({...c,...Wr.sub(vf.center(e),Wr.from(s.handle.width/2,s.handle.height/2))}),r.update({...c,...Wr.sub(vf.center(i),Wr.from(r.handle.width/2,r.handle.height/2))})}updateText(t,e,i){this.text=this.updateNode(zd,this.text,!!t.text.label),JY(!0,e,i,t.text,t.strokeWidth,this.text,t.text.label)}getBackgroundPoints(t,e,i,n){const s=e.x1>e.x2,a=e.y1>e.y2,o=e.x1!==i.x1&&e.y1!==i.y1,r=e.x2!==i.x2&&e.y2!==i.y2,l=Wr.from(e);return t.extendEnd&&r&&l.push(Wr.from(s?n.x1:n.x2,a?n.y1:n.y2)),l.push(...Wr.from(i).reverse()),t.extendStart&&o&&l.push(Wr.from(s?n.x2:n.x1,a?n.y2:n.y1)),l}},{StateMachine:Iu,StateMachineProperty:YO,Debug:Xft}=z,cD=class extends Iu{constructor(t){const e=({point:l})=>{const c=new Lo;c.set({start:l,end:l,height:0}),t.create(c)},i=()=>{const{node:l}=this;l==null||l.toggleActive(!0),l==null||l.toggleHandles({topLeft:!0,topMiddle:!1,topRight:!1,bottomLeft:!1,bottomMiddle:!1,bottomRight:!1})},n=({offset:l,context:c})=>{const{datum:h,snapping:p}=this;h&&(h.set({end:Px(l,c,p,h.start,h.snapToAngle)}),t.update())},s=()=>{var l;(l=this.node)==null||l.toggleHandles({topRight:!0}),t.update()},a=({point:l})=>{const{datum:c,node:h}=this,{value:p}=oi(c==null?void 0:c.end.y),{value:f}=oi(c==null?void 0:c.start.y),{y}=l;if(c==null||!Wi(f)||!Wi(p)||!Wi(y))return;const m=p-(y??0),b=f-m;h==null||h.toggleHandles({bottomLeft:!0,bottomRight:!0}),!(!t.validatePoint({x:c.start.x,y:b})||!t.validatePoint({x:c.end.x,y:l.y}))&&(c.set({height:m}),t.update())},o=({point:l})=>{const{datum:c,node:h}=this,{value:p}=oi(c==null?void 0:c.end.y),{value:f}=oi(c==null?void 0:c.start.y),{y}=l;if(c==null||!Wi(f)||!Wi(p)||!Wi(y))return;const m=p-(y??0),b=f-m;h==null||h.toggleHandles(!0),!(!t.validatePoint({x:c.start.x,y:b})||!t.validatePoint({x:c.end.x,y:l.y}))&&(c.set({height:m}),t.recordAction("Create parallel-channel annotation"),t.showAnnotationOptions(),t.update())},r=()=>t.delete();super("start",{start:{click:{target:"waiting-first-render",action:e},drag:{target:"waiting-first-render",action:e},reset:Iu.parent},"waiting-first-render":{render:{target:"end",action:i}},end:{hover:n,drag:n,click:{target:"height",action:s},dragEnd:{target:"height",action:s},reset:{target:Iu.parent,action:r},cancel:{target:Iu.parent,action:r}},height:{hover:a,click:{target:Iu.parent,action:o},drag:{target:Iu.parent,action:o},reset:{target:Iu.parent,action:r},cancel:{target:Iu.parent,action:r}}}),this.debug=Xft.create(!0,"annotations"),this.snapping=!1}};A([YO()],cD.prototype,"datum");A([YO()],cD.prototype,"node");A([YO()],cD.prototype,"snapping");var Wj={type:"parallel-channel",datum:Lo,scene:Kv,isDatum:Lo.is,translate:(t,e,i,n)=>{Lo.is(e)&&Kv.is(t)&&t.translate(e,i,n)},copy:(t,e,i,n)=>{if(Lo.is(e)&&Lo.is(i)&&Kv.is(t))return t.copy(e,i,n)},update:(t,e,i)=>{Lo.is(e)&&Kv.is(t)&&t.update(e,i)},createState:(t,{createDatum:e})=>new cD({...t,create:e("parallel-channel")}),dragState:t=>new Ji(t)},Xv=class extends GO{constructor(){super(),this.type="text",this.append([this.label,this.handle])}static is(t){return Un.isCheck(t,"text")}getHandleCoords(t,e){const i=Ai.HANDLE_SIZE/2;return{x:e.x+i,y:e.y+2+i}}},Zft=class extends kb{createDatum(){return new lc}},Yj={type:"text",datum:lc,scene:Xv,isDatum:lc.is,translate:(t,e,i,n)=>{lc.is(e)&&Xv.is(t)&&t.translate(e,i,n)},copy:(t,e,i,n)=>{if(lc.is(e)&&lc.is(i)&&Xv.is(t))return t.copy(e,i,n)},update:(t,e,i)=>{lc.is(e)&&Xv.is(t)&&t.update(e,i)},createState:(t,{createDatum:e})=>new Zft({...t,create:e("text")}),dragState:t=>new Ji(t)},Pa={[Oj.type]:Oj,[Dj.type]:Dj,[Ij.type]:Ij,[Wj.type]:Wj,[Tj.type]:Tj,[Nj.type]:Nj,[kj.type]:kj,[Mj.type]:Mj,[Aj.type]:Aj,[Hj.type]:Hj,[Yj.type]:Yj,[wj.type]:wj,[mj.type]:mj,[yj.type]:yj,[jj.type]:jj,[Fj.type]:Fj,[Gj.type]:Gj,[Vj.type]:Vj};function Id(t){for(const{isDatum:e}of Object.values(Pa))if(e(t))return t}var{ActionOnSet:qft,ParallelStateMachine:Qft,StateMachine:$O,StateMachineProperty:bl,Debug:Jft}=z,uD=class extends Qft{constructor(t){super(new tgt(e=>{this.snapping=e}),new egt(()=>{this.node=this.active==null?void 0:t.node(this.active)}),new gh(t,e=>{this.active=e,this.datum=this.active==null?void 0:t.datum(this.active),this.node=this.active==null?void 0:t.node(this.active)})),this.snapping=!1}getActive(){return this.active}isActive(t){return t===this.active}};A([bl()],uD.prototype,"snapping");A([bl()],uD.prototype,"datum");A([bl()],uD.prototype,"node");var tgt=class extends $O{constructor(t){super("idle",{idle:{hover:({shiftKey:e})=>t(e),keyDown:({shiftKey:e})=>t(e),keyUp:({shiftKey:e})=>t(e),click:({shiftKey:e})=>t(e),drag:({shiftKey:e})=>t(e)},dragging:{},"text-input":{}})}},egt=class extends $O{constructor(t){super("idle",{idle:{onEnter:t,render:t},dragging:{onEnter:t,render:t},"text-input":{render:t}})}},gh=class extends $O{constructor(t,e){const i=I=>T=>{t.create(I,T),this.active=t.selectLast()},n=()=>{this.active!=null&&t.delete(this.active),this.active=void 0,t.select()},s={createDatum:i},a={...t,delete:n,showTextInput:()=>{this.active!=null&&t.showTextInput(this.active)},deselect:()=>{const I=this.active;this.active=void 0,this.hovered=void 0,t.select(this.active,I)},showAnnotationOptions:()=>{this.active!=null&&t.showAnnotationOptions(this.active)}},o=Object.fromEntries(Object.entries(Pa).map(([I,T])=>[I,T.createState(a,s)])),r=Object.fromEntries(Object.entries(Pa).map(([I,T])=>[I,T.dragState(t,s)])),l=({colorPickerType:I,colorOpacity:T,color:k,opacity:E,isMultiColor:O})=>{this.datum&&(I==="text-color"&&t.updateTextInputColor(k),sD(this.datum,I,T,k,E,O),t.update())},c=I=>{const{datum:T,node:k}=this;!T||!k||(rl(T)?(T.fontSize=I,t.updateTextInputFontSize(I)):Yf(T)&&(T.text.fontSize=I),t.update())},h=I=>{const{datum:T,node:k}=this;!T||!k||!Nu(T)||(BY(T,I),t.update())},p=I=>{const{node:T}=this;!T||!("setTextInputBBox"in T)||(T.setTextInputBBox(I),t.update())},f=({textInputValue:I,bbox:T})=>{const{datum:k}=this;if(T!=null&&I!=null&&I.length>0){if(!rl(k))return;const E=QA(k,I,T.width);k.set({text:E}),t.update(),t.recordAction(`Change ${k.type} annotation text`)}else t.delete(this.active),t.recordAction(`Delete ${k==null?void 0:k.type} annotation`)},y=()=>{t.updateTextInputBBox(void 0)},m=()=>this.active!=null,b=()=>this.copied!=null,v=()=>{const{active:I,datum:T}=this;return I==null||!T?!1:Yf(T)&&!T.locked},S=()=>this.active!=null&&!Vu(this.datum),D=()=>this.hovered!=null;super("idle",{idle:{onEnter:()=>{t.select(this.active,this.active),this.hoverCoords&&(this.hovered=t.hoverAtCoords(this.hoverCoords,this.active,this.hovered))},hover:({offset:I})=>{this.hovered=t.hoverAtCoords(I,this.active,this.hovered),this.hoverCoords=I},translate:{guard:m,action:({translation:I})=>{t.startInteracting(),t.translate(this.active,I),t.update()}},translateEnd:{guard:m,action:()=>{t.stopInteracting()}},copy:{guard:S,action:()=>{this.copied=t.copy(this.active)}},cut:{guard:S,action:()=>{this.copied=t.copy(this.active),n()}},paste:{guard:b,action:()=>{t.paste(this.copied)}},selectLast:()=>{const I=this.active;this.active=t.selectLast(),t.select(this.active,I)},click:[{guard:()=>{const{active:I,hovered:T,datum:k}=this;return I==null||T!==I||!k?!1:rl(k)&&!k.locked},target:"text-input"},{action:()=>{const I=this.active;this.active=this.hovered,t.select(this.active,I)}}],dblclick:{guard:v,action:({offset:I})=>{const T=t.getNodeAtCoords(I,this.active)==="text"?"text":"line";t.showAnnotationSettings(this.active,void 0,T)}},dragStart:[{guard:D,target:"dragging",action:()=>{const I=this.active;this.active=this.hovered,t.select(this.active,I),t.startInteracting()}},{action:()=>{const I=this.active;this.active=this.hovered,t.select(this.active,I)}}],color:{guard:m,action:l},fontSize:{guard:m,action:c},lineProps:{guard:m,action:I=>{const T=Id(this.datum);T==null||T.set(I),t.update(),t.recordAction(`Change ${T==null?void 0:T.type} ${Object.entries(I).map(([k,E])=>`${k} to ${E}`).join(", ")}`)}},lineStyle:{guard:m,action:h},lineText:{guard:m,action:I=>{const T=Id(this.datum);Yf(T)&&(yc(T)&&I.position==="center"&&(I.position="inside"),T.text.set(I),t.update())}},updateTextInputBBox:{guard:m,action:p},toolbarPressSettings:{guard:v,action:I=>{t.showAnnotationSettings(this.active,I)}},reset:()=>{var I;this.active!=null&&((I=this.node)==null||I.toggleActive(!1)),this.hovered=void 0,this.active=void 0,t.select(this.active,this.active),t.resetToIdle()},delete:()=>{var I;this.active!=null&&(t.delete(this.active),!Vu(this.datum)&&t.recordAction(`Delete ${(I=this.datum)==null?void 0:I.type} annotation`))},deleteAll:()=>{t.deleteAll()},...o},dragging:{onEnter:(I,T)=>{if(this.active==null)return;const k=t.getAnnotationType(this.active);k&&(this.transitionRoot(k),this.transitionRoot("dragStart",T))},...r},"text-input":{onEnter:()=>{if(this.active==null)return;const I=Id(this.datum);!I||!("getTextInputCoords"in I)||(t.startInteracting(),t.showTextInput(this.active),I.visible=!1,t.update())},updateTextInputBBox:{guard:m,action:p},resize:{target:"idle",action:f},click:{target:"idle",action:f},drag:{target:"idle",action:f},textInput:[{guard:_O,target:"idle",action:y},{guard:jO,target:"idle",action:f}],color:{guard:m,action:l},fontSize:{guard:m,action:c},cancel:{target:"idle",action:y},onExit:()=>{t.stopInteracting(),t.hideTextInput();const I=this.active;if(this.active=this.hovered=void 0,t.select(this.active,I),I==null)return;const T=t.datum(I),k=t.node(I);!T||!k||(T.visible=!0)}}}),this.setActive=e,this.debug=Jft.create(!0,"annotations"),this.snapping=!1}};A([qft({changeValue(t){this.setActive(t)}}),bl()],gh.prototype,"active");A([bl()],gh.prototype,"hovered");A([bl()],gh.prototype,"hoverCoords");A([bl()],gh.prototype,"copied");A([bl()],gh.prototype,"snapping");A([bl()],gh.prototype,"datum");A([bl()],gh.prototype,"node");var{ARRAY:igt,BOOLEAN:ngt,UNION:sgt,POSITIVE_NUMBER:agt,ActionOnSet:ogt,LayoutElement:rgt,Menu:lgt,PropertiesArray:cgt,ToolbarButtonProperties:ugt,Validate:hD,ChartAxisDirection:hgt}=z,c$=class extends ugt{};A([hD(sgt(["line-menu","fibonacci-menu","text-menu","shape-menu","measurer-menu","clear"]))],c$.prototype,"value");var dD=class extends z.BaseProperties{constructor(t){super(),this.ctx=t,this.enabled=!0,this.padding=20,this.buttons=new cgt(c$),this.events=new z.Listeners,this.annotationMenu=new lgt(this.ctx,"annotations"),this.destroyFns=[],this.toolbar=t.sharedToolbar.getSharedToolbar("annotations");const e=this.onKeyDown.bind(this);this.toolbar.addListener("keydown",e),this.destroyFns.push(this.toolbar.addToolbarListener("button-pressed",this.onToolbarButtonPress.bind(this)),t.layoutManager.registerElement(rgt.ToolbarLeft,this.onLayoutStart.bind(this)),()=>{this.toolbar.removeListener("keydown",e),this.toolbar.destroy()})}destroy(){for(const t of this.destroyFns)t()}addListener(t,e){return this.events.addListener(t,e)}toggleVisibility(t){this.toolbar.setHidden(!t)}toggleClearButtonEnabled(t){const e=this.buttons.findIndex(i=>i.value==="clear");this.toolbar.toggleButtonEnabledByIndex(e,t)}resetButtonIcons(){for(const[t,e]of this.buttons.entries())switch(e.value){case"line-menu":this.updateButtonByIndex(t,{icon:"trend-line-drawing",value:"line-menu"});break;case"fibonacci-menu":this.updateButtonByIndex(t,{icon:"fibonacci-retracement-drawing",value:"fibonacci-menu"});break;case"text-menu":this.updateButtonByIndex(t,{icon:"text-annotation",value:"text-menu"});break;case"shape-menu":this.updateButtonByIndex(t,{icon:"arrow-drawing",value:"shape-menu"});break;case"measurer-menu":this.updateButtonByIndex(t,{icon:"measurer-drawing",value:"measurer-menu"});break}}hideOverlays(){this.annotationMenu.hide()}clearActiveButton(){this.toolbar.clearActiveButton()}dispatch(t,e){this.events.dispatch(t,e)}onLayoutStart(t){this.enabled&&(this.toolbar.updateButtons(this.buttons),this.toolbar.layout(t.layoutBox,this.padding))}refreshButtonsEnabled(t){for(const[e,i]of this.buttons.entries())i&&this.toolbar.toggleButtonEnabledByIndex(e,t)}onToolbarButtonPress({event:t,button:e,buttonBounds:i}){const n=this.ctx.axisManager.getAxisContext(hgt.Y)[0].scale;switch(e.value){case"clear":this.dispatch("pressed-clear");break;case"line-menu":this.onToolbarButtonPressShowMenu(t,i,e.value,"toolbarAnnotationsLineAnnotations",Rpt.filter(s=>s.visible?s.visible(n):!0));break;case"fibonacci-menu":this.onToolbarButtonPressShowMenu(t,i,e.value,"toolbarAnnotationsFibonacciAnnotations",Ppt);break;case"text-menu":this.onToolbarButtonPressShowMenu(t,i,e.value,"toolbarAnnotationsTextAnnotations",zpt);break;case"shape-menu":this.onToolbarButtonPressShowMenu(t,i,e.value,"toolbarAnnotationsShapeAnnotations",_pt);break;case"measurer-menu":this.onToolbarButtonPressShowMenu(t,i,e.value,"toolbarAnnotationsMeasurerAnnotations",jpt);break}}onToolbarButtonPressShowMenu(t,e,i,n,s){this.dispatch("pressed-show-menu");const a=this.buttons.findIndex(o=>o.value===i);this.toolbar.toggleActiveButtonByIndex(a),this.annotationMenu.setAnchor({x:e.x+e.width+6,y:e.y}),this.annotationMenu.show({items:s,ariaLabel:this.ctx.localeManager.t(n),class:"ag-charts-annotations__toolbar-menu",sourceEvent:t.sourceEvent,onPress:this.onButtonPressMenuCreateAnnotation.bind(this,i)})}onButtonPressMenuCreateAnnotation(t,e){const i=this.buttons.findIndex(n=>n.value===t);this.updateButtonByIndex(i,{icon:e.icon}),this.dispatch("pressed-create-annotation",{annotation:e.value}),this.annotationMenu.hide()}onKeyDown({sourceEvent:t}){t.key==="Escape"&&this.dispatch("cancel-create-annotation")}updateButtonByIndex(t,e){const i=this.buttons.at(t);i&&(i.set({...i.toJson(),...e,value:e.value??i.value}),this.toolbar.updateButtonByIndex(t,{...i.toJson()}))}};A([hD(ngt),ogt({changeValue(t){var e;(e=this.toolbar)==null||e.setHidden(!t)}})],dD.prototype,"enabled");A([hD(agt)],dD.prototype,"padding");A([hD(igt)],dD.prototype,"buttons");var{BaseModuleInstance:dgt,InteractionState:pm,Validate:pgt,BOOLEAN:fgt,ChartAxisDirection:ggt,getIconClassNames:ygt}=z,Rm="ag-charts-annotations__axis-button",u$=class extends dgt{constructor(t,e,i,n){super(),this.ctx=t,this.axisCtx=e,this.onButtonClick=i,this.seriesRect=n,this.enabled=!0,this.snap=!1,this.padding=0,this.button=this.setup(),this.toggleVisibility(!1),this.updateButtonElement(),this.snap=!!e.scale.bandwidth,t.domManager.addEventListener("focusin",({target:s})=>{const a=s instanceof HTMLElement?s:void 0;!(a&&t.domManager.contains(a,"series-area"))&&a!==this.button.getElement()&&this.hide()}),this.destroyFns.push(t.widgets.seriesWidget.addListener("drag-move",s=>this.onMouseDrag(s)),t.widgets.seriesWidget.addListener("mousemove",s=>this.onMouseMove(s)),t.widgets.seriesWidget.addListener("mouseleave",()=>this.onMouseLeave()),t.widgets.seriesDragInterpreter.addListener("click",s=>this.onClick(s)),t.chartEventManager.addListener("series-focus-change",()=>this.onKeyPress()),t.zoomManager.addListener("zoom-pan-start",()=>this.hide()),t.zoomManager.addListener("zoom-change",()=>this.hide()),()=>this.destroyElements(),()=>this.button.destroy())}update(t,e){this.seriesRect=t,this.padding=e}setup(){const t=new _W.ButtonWidget;return t.addClass(Rm),t.setTabIndex(-1),t.setAriaLabel(this.ctx.localeManager.t("ariaLabelAddHorizontalLine")),this.ctx.widgets.seriesWidget.getElement().appendChild(t.getElement()),t}destroyElements(){this.ctx.domManager.removeChild("canvas-overlay",Rm)}onMouseMove(t){this.ctx.interactionManager.isState(pm.Clickable)&&this.show(t)}onMouseDrag(t){this.ctx.interactionManager.isState(pm.AnnotationsMoveable)&&this.show(t)}onMouseLeave(){this.ctx.interactionManager.isState(pm.Clickable)&&this.hide()}onClick(t){this.ctx.interactionManager.isState(pm.Clickable)&&t.device==="touch"&&this.show(t)}show(t){const{sourceEvent:e,currentX:i,currentY:n}=t;if(!(this.enabled&&this.ctx.widgets.seriesWidget.getElement().contains(e.target))){this.hide();return}this.toggleVisibility(!0);const s=this.getButtonCoordinates({x:i,y:n});this.coords={x:s.x+this.button.clientWidth/2,y:s.y+this.button.clientHeight/2},this.updatePosition(s)}hide(){this.toggleVisibility(!1)}onKeyPress(){this.snap&&this.ctx.interactionManager.isState(pm.Default)||this.hide()}getButtonCoordinates({x:t,y:e}){const{axisCtx:{direction:i,position:n},seriesRect:s,snap:a,axisCtx:o,padding:r}=this,{clientWidth:l,clientHeight:c}=this.button,[h,p]=[0,s.height],[f,y]=[0,s.width];if(a&&(t=Gu(Ox(t-s.x,o),o)+s.x,e=Gu(Ox(e-s.y,o),o)+s.y),i===ggt.X){const b=c-Math.max(0,r-5);t=t-l/2,e=n==="top"?h-c+b:p-b}else{const b=l-Math.max(0,r-9);t=n==="left"?f-l+b:y-b,e=e-c/2}return{x:t,y:e}}toggleVisibility(t){const{button:e}=this;if(e==null)return;const i=this.enabled&&t;this.toggleClass("-hidden",!i)}toggleClass(t,e){this.button.toggleClass(`${Rm}-${t}`,e)}updatePosition({x:t,y:e}){this.button.getElement().style.transform=`translate(${Math.round(t)}px, ${Math.round(e)}px)`}updateButtonElement(){const{button:t}=this;t.addListener("click",()=>this.onButtonClick(this.coords)),t.addListener("touchend",()=>this.onButtonClick(this.coords)),t.addListener("drag-start",()=>{}),t.setInnerHTML(`<span class="${ygt("zoom-in")} ${Rm}-icon"></span>`)}};A([pgt(fgt)],u$.prototype,"enabled");var{Color:$j,DraggablePopover:mgt,NativeWidget:oL,Vec2:un,createButton:Zv,createCheckbox:xgt,createElementId:Kj,createSelect:bgt,createTextArea:vgt,initRovingTabIndex:Xj,getIconClassNames:Sgt,mapValues:y1,setAttribute:Mgt,setAttributes:m1,createElement:nc,getWindow:Agt}=z,h$=class rL extends mgt{constructor(e,i){super(e,i),this.dragHandleDraggingClass="ag-charts-dialog__drag-handle--dragging",this.colorPicker=new zY(this.ctx,{detached:!0}),this.destroyFns.push(e.layoutManager.addListener("layout:complete",this.onLayoutComplete.bind(this)))}showWithChildren(e,i){const n=super.showWithChildren(e,i);return n.classList.add("ag-charts-dialog"),n.setAttribute("role","dialog"),n.addEventListener("mousedown",s=>{var a;(a=s.target.classList)!=null&&a.contains("ag-charts-dialog__color-picker-button")||this.colorPicker.hide()}),n.addEventListener("keydown",this.onKeyDown.bind(this)),Agt().requestAnimationFrame(()=>this.reposition()),this.colorPicker.attachTo(this),n}updatePosition(e){super.updatePosition(e);const{anchor:i,fallbackAnchor:n}=this.getColorPickerAnchors()??{};i&&this.colorPicker.setAnchor(i,n)}createTabs(e,i,n){const s=nc("div","ag-charts-dialog__tabs"),a=y1(n,()=>Kj("ag-charts-dialog__tab")),o=y1(n,()=>Kj("ag-charts-dialog__tab-panel"));for(const[y,m]of Object.entries(n))m1(m.panel,{id:o[y],role:"tabpanel","aria-labelledby":a[y]});const r=y=>{var m;for(const[b,v]of Object.entries(n))v.panel.classList.toggle("ag-charts-dialog__tab-panel--active",b===y),h[b].classList.toggle("ag-charts-dialog__tab-button--active",b===y),Mgt(h[b],"aria-selected",b===y),b===y&&((m=v.onShow)==null||m.call(v))},l=new oL(nc("div","ag-charts-dialog__header"));l.addListener("drag-start",y=>{const{sourceEvent:m}=y;m.target instanceof Element&&m.target.classList.contains("ag-charts-dialog__header")&&this.onDragStart(y)}),l.addListener("drag-move",y=>this.onDragMove(y)),l.addListener("drag-end",()=>this.onDragEnd());const c=new Igt;this.setDragHandle(c);const h=y1(n,(y,m)=>Zv({label:this.ctx.localeManager.t(y.label),onPress:()=>r(m)},{id:a[m],class:"ag-charts-dialog__tab-button",role:"tab","aria-controls":o[m]})),p=nc("div","ag-charts-dialog__tab-list");m1(p,{role:"tablist","aria-label":this.ctx.localeManager.t(e)}),p.append(...Object.values(h));const f=this.createHeaderCloseButton();return l.getElement().append(c.getElement(),p,f),s.append(l.getElement(),...Object.values(n).map(y=>y.panel)),r(i),Xj({orientation:"horizontal",buttons:Object.values(h)}),{tabs:s,initialFocus:h[i]}}createTabPanel(){return nc("div","ag-charts-dialog__tab-panel")}createInputGroupLine(){return nc("div","ag-charts-dialog__input-group-line")}createRadioGroup({label:e,options:i,value:n,onChange:s}){const a=this.createInputGroup(e);m1(a,{role:"radiogroup",tabindex:-1,"aria-label":this.ctx.localeManager.t(e)});const o="ag-charts-dialog__button--active",r=[];for(const l of i){const{icon:c,altText:h}=l,p=this.ctx.localeManager.t(h),f=Zv({icon:c,altText:p,onPress:()=>{for(const y of Array.from(a.children))y.classList.remove(o),y.ariaChecked="false";f.classList.add(o),f.ariaChecked="true",s(l.value)}},{"aria-checked":l.value===n,class:"ag-charts-dialog__button",role:"radio",title:p});l.value===n&&f.classList.add(o),a.appendChild(f),r.push(f)}return Xj({orientation:"horizontal",buttons:r}),a}createSelect({altText:e,label:i,options:n,value:s,onChange:a}){const o=this.createInputGroup(i),r=this.ctx.localeManager.t(e),l=bgt({value:s,options:n,onChange:a},{class:"ag-charts-dialog__select","aria-label":r,title:r});return o.append(l),o}createTextArea({placeholder:e,value:i,onChange:n}){const s=e?this.ctx.localeManager.t(e):void 0;return vgt({value:i,onChange:n},{placeholder:s})}createCheckbox({label:e,checked:i,onChange:n}){const s=`ag-charts__${e}`,a=this.createInputGroup(e,{for:s}),o=xgt({checked:i,onChange:n},{class:"ag-charts-dialog__checkbox",role:"switch",id:s});return a.append(o),a}createColorPicker({color:e,opacity:i,label:n,altText:s,onChange:a,onChangeHide:o,isMultiColor:r,hasMultiColorOption:l}){const c=this.createInputGroup(n),h=this.ctx.localeManager.t(s),p=Zv({label:h,onPress:f=>{const{anchor:y,fallbackAnchor:m}=this.getColorPickerAnchors(p)??{};this.colorPicker.show({anchor:y,fallbackAnchor:m,color:e,opacity:i,isMultiColor:r,hasMultiColorOption:l,sourceEvent:f,onChange:(b,v,S,D)=>{p.style.setProperty("--color",b),p.classList.toggle("ag-charts-dialog__color-picker-button--multi-color",D),a(b,v,S,D)},onChangeHide:o})}},{"aria-label":h,tabindex:0,class:"ag-charts-dialog__color-picker-button",title:h});if(r)p.classList.toggle("ag-charts-dialog__color-picker-button--multi-color");else if(e){const f=$j.fromString(e),y=new $j(f.r,f.g,f.b,i);p.style.setProperty("--color",y.toHexString())}return c.append(p),this.hideFns.push(()=>{this.colorPicker.hide()}),c}createHeaderCloseButton(){return Zv({icon:"close",altText:this.ctx.localeManager.t("iconAltTextClose"),onPress:()=>this.hide()},{class:"ag-charts-dialog__close-button"})}createInputGroup(e,i){const n=nc("div","ag-charts-dialog__input-group"),s=nc("label","ag-charts-dialog__input-group-label");return s.innerText=this.ctx.localeManager.t(e),i!=null&&i.for&&s.setAttribute("for",i.for),n.appendChild(s),n}onLayoutComplete(e){this.seriesRect=e.series.paddedRect,this.reposition()}onKeyDown(e){e.altKey||e.ctrlKey||e.metaKey||e.isComposing||e.key!=="Escape"||this.hide()}reposition(){const{seriesRect:e,ctx:i}=this,n=i.domManager.getBoundingClientRect(),s=this.getPopoverElement();if(!e||!s)return;const a=un.from(0,e.y),o=un.from(n.width,e.height),r=un.from(s),l=un.from(.5,1);let c;if(e.width>1e3){const h=un.sub(un.add(a,un.multiply(o,l)),un.multiply(r,l));c=un.sub(h,un.from(0,rL.offset))}else{const h=un.sub(un.add(a,o),r);c=un.sub(h,rL.offset)}this.updatePosition(c)}getColorPickerAnchors(e){if(e&&(this.colorPickerAnchorElement=e),!this.colorPickerAnchorElement)return;const i=this.colorPickerAnchorElement.getBoundingClientRect(),n=this.ctx.domManager.getBoundingClientRect(),s=un.sub(un.from(i.x,i.y),un.from(n.left,n.top)),a=un.add(s,un.from(0,i.height+5)),o=un.sub(s,un.from(0,5));return{anchor:a,fallbackAnchor:o}}};h$.offset=60;var Dgt=h$,Igt=class extends oL{constructor(){super(nc("div","ag-charts-dialog__drag-handle"));const t=new oL(nc("span",Sgt("drag-handle")));t.setAriaHidden(!0),this.addChild(t)}},{Listeners:Tgt,focusCursorAtEnd:Cgt}=z,kgt=class extends Dgt{constructor(t){super(t,"settings"),this.events=new Tgt,this.hideFns.push(()=>this.events.dispatch("hidden"))}addListener(t,e){return this.events.addListener(t,e)}show(t,e){const i=this.createLinearLineTab(t,e),n=this.createLinearTextTab(t,e);let s="dialogHeaderLine";yc(t)?s="dialogHeaderChannel":PY(t)?s="dialogHeaderFibonacciRange":t.type==="date-range"?s="dialogHeaderDateRange":t.type==="price-range"?s="dialogHeaderPriceRange":t.type==="date-price-range"&&(s="dialogHeaderDatePriceRange");const{tabs:a,initialFocus:o}=this.createTabs("ariaLabelSettingsTabBar",e.initialSelectedTab,{line:{label:s,panel:i},text:{label:"dialogHeaderText",panel:n.panel,onShow:n.onShow}});e.initialFocus=o,this.showWithChildren([a],e).classList.add("ag-charts-dialog--annotation-settings")}createLinearLineTab(t,e){const i=this.createTabPanel(),n=this.createInputGroupLine(),s=this.createInputGroupLine(),a="isMultiColor"in t,o=this.createColorPickerInput("line-color",t.getDefaultColor("line-color"),t.getDefaultOpacity("line-color"),a?t.isMultiColor:!1,a,e.onChangeLineColor,e.onChangeHideLineColor),r=this.createStrokeWidthSelect(t.strokeWidth??2,e.onChangeLineStyleWidth),l=this.createLineStyleRadioGroup(t.lineStyle??"solid",e.onChangeLineStyleType);if(n.append(o),"background"in t){const c=this.createColorPickerInput("fill-color",t.getDefaultColor("fill-color"),t.getDefaultOpacity("fill-color"),!1,!1,e.onChangeFillColor,e.onChangeHideFillColor);n.append(c),s.append(r)}else"showFill"in t?(n.append(this.createCheckbox({label:"dialogInputShowFill",checked:t.showFill??!0,onChange:c=>e.onChangeLine({showFill:c})})),s.append(r)):n.append(r);return s.append(l),i.append(n,s),"bands"in t&&i.append(this.createFibonacciRatioSelect(t.bands??10,c=>e.onChangeLine({bands:c}))),"extendStart"in t&&"extendEnd"in t&&i.append(this.createCheckbox({label:yc(t)?"dialogInputExtendChannelStart":"dialogInputExtendLineStart",checked:t.extendStart??!1,onChange:c=>e.onChangeLine({extendStart:c})}),this.createCheckbox({label:yc(t)?"dialogInputExtendChannelEnd":"dialogInputExtendLineEnd",checked:t.extendEnd??!1,onChange:c=>e.onChangeLine({extendEnd:c})})),"extendAbove"in t&&"extendBelow"in t&&i.append(this.createCheckbox({label:"dialogInputExtendAbove",checked:t.extendAbove??!1,onChange:c=>e.onChangeLine({extendAbove:c})}),this.createCheckbox({label:"dialogInputExtendBelow",checked:t.extendBelow??!1,onChange:c=>e.onChangeLine({extendBelow:c})})),"extendLeft"in t&&"extendRight"in t&&i.append(this.createCheckbox({label:"dialogInputExtendLeft",checked:t.extendLeft??!1,onChange:c=>e.onChangeLine({extendLeft:c})}),this.createCheckbox({label:"dialogInputExtendRight",checked:t.extendRight??!1,onChange:c=>e.onChangeLine({extendRight:c})})),"reverse"in t&&"showFill"in t&&i.append(this.createCheckbox({label:"dialogInputReverse",checked:t.reverse??!1,onChange:c=>e.onChangeLine({reverse:c})})),i}createLinearTextTab(t,e){const i=this.createTabPanel(),n=this.createTextArea({placeholder:"inputTextareaPlaceholder",value:t.text.label,onChange:h=>e.onChangeText({label:h})}),s=this.createFontSizeSelect(t.text.fontSize,e.onChangeTextFontSize),a=this.createColorPickerInput("text-color",t.text.color,1,!1,!1,e.onChangeTextColor,e.onChangeHideTextColor),o=t.text.position==="inside"?"center":t.text.position,r=this.createPositionRadioGroup(o??"top",h=>e.onChangeText({position:h})),l=this.createAlignmentRadioGroup(t.text.alignment??"center",h=>e.onChangeText({alignment:h})),c=this.createInputGroupLine();return c.append(s,a,r,l),i.append(n,c),{panel:i,onShow:()=>Cgt(n)}}createColorPickerInput(t,e,i,n,s,a,o){const r=t==="fill-color"?"dialogInputFillColorPicker":"dialogInputColorPicker",l=t==="fill-color"?"dialogInputFillColorPickerAltText":"dialogInputColorPickerAltText";return this.createColorPicker({label:r,altText:l,color:e,opacity:i,isMultiColor:n,hasMultiColorOption:s,onChange:a,onChangeHide:o})}createStrokeWidthSelect(t,e){return this.createSelect({label:"dialogInputStrokeWidth",altText:"dialogInputStrokeWidthAltText",options:_Y.map(({label:i,value:n})=>({label:i,value:`${n}`})),value:String(t),onChange:i=>e(Number(i))})}createFibonacciRatioSelect(t,e){return this.createSelect({label:"dialogInputFibonacciBands",altText:"dialogInputFibonacciBandsAltText",options:Bpt.map(({label:i,value:n})=>({label:i,value:`${n}`})),value:String(t),onChange:i=>e(Number(i))})}createLineStyleRadioGroup(t,e){return this.createRadioGroup({label:"dialogInputLineStyle",options:[{icon:"line-style-solid",altText:"iconAltTextLineStyleSolid",value:"solid"},{icon:"line-style-dashed",altText:"iconAltTextLineStyleDashed",value:"dashed"},{icon:"line-style-dotted",altText:"iconAltTextLineStyleDotted",value:"dotted"}],value:t,onChange:e})}createFontSizeSelect(t,e){return this.createSelect({label:"dialogInputFontSize",altText:"dialogInputFontSizeAltText",options:jY.map(({label:i,value:n})=>({label:i,value:String(n)})),value:String(t),onChange:i=>e(Number(i))})}createPositionRadioGroup(t,e){return this.createRadioGroup({label:"dialogInputPosition",options:[{icon:"position-top",altText:"iconAltTextPositionTop",value:"top"},{icon:"position-center",altText:"iconAltTextPositionCenter",value:"center"},{icon:"position-bottom",altText:"iconAltTextPositionBottom",value:"bottom"}],value:t,onChange:e})}createAlignmentRadioGroup(t,e){return this.createRadioGroup({label:"dialogInputAlign",options:[{icon:"align-left",altText:"iconAltTextAlignLeft",value:"left"},{icon:"align-center",altText:"iconAltTextAlignCenter",value:"center"},{icon:"align-right",altText:"iconAltTextAlignRight",value:"right"}],value:t,onChange:e})}};function x1(t){return t.gridPadding+t.seriesAreaPadding+t.tickSize+t.label.spacing}function Lgt(t,e,i){for(const{update:n}of Object.values(Pa))n(t,e,i)}var{BOOLEAN:d$,OBJECT:KO,ChartUpdateType:Ngt,InteractionState:ua,ObserveChanges:Egt,PropertiesArray:Ogt,Validate:Lb,ChartAxisDirection:wgt,Vec2:ld,keyProperty:Rgt,valueProperty:Pgt,Selection:Bgt,BBox:zgt}=z,Pg=class p$ extends z.BaseModuleInstance{constructor(e){super(),this.ctx=e,this.enabled=!0,this.toolbar=new dD(this.ctx),this.optionsToolbar=new EO(this.ctx,()=>{const i=this.state.getActive();if(i!=null)return Id(this.annotationData.at(i))}),this.axesButtons=new dO,this.snap=!1,this.data=void 0,this.xKey=void 0,this.volumeKey=void 0,this.annotationData=new Ogt(p$.createAnnotationDatum),this.defaults=new Ept,this.container=new z.Group({name:"static-annotations"}),this.annotations=new Bgt(this.container,this.createAnnotationScene.bind(this)),this.settingsDialog=new kgt(this.ctx),this.textInput=new cdt(this.ctx),this.restoreAnnotations=!0,this.postUpdateFns=[],this.state=this.setupStateMachine(),this.setupListeners(),this.setupDOM(),this.ctx.historyManager.addMementoOriginator(e.annotationManager),this.ctx.historyManager.addMementoOriginator(this.defaults),this.textInput.setKeyDownHandler(this.onTextInput.bind(this))}setupStateMachine(){const{ctx:e}=this;return new uD({resetToIdle:()=>{e.domManager.updateCursor("annotations"),this.popAnnotationState(ua.Annotations),this.hideOverlays(),this.optionsToolbar.hide(),this.deleteEphemeralAnnotations(),this.update()},hoverAtCoords:(i,n,s)=>{var o;let a;return this.annotations.each((r,l,c)=>{const h=r.containsPoint(i.x,i.y);h&&(a??(a=c)),r.toggleHovered(h||n===c)}),a!=null?e.tooltipManager.suppressTooltip("annotations"):this.isAnnotationState()||e.tooltipManager.unsuppressTooltip("annotations"),this.ctx.domManager.updateCursor("annotations",a==null||(o=this.annotations.at(a))==null?void 0:o.getCursor()),a!==s&&this.update(),a},getNodeAtCoords:(i,n)=>{const s=this.annotations.at(n);if(s)return s.getNodeAtCoords(i.x,i.y)},translate:(i,n)=>{const s=this.annotations.at(i),a=Id(this.annotationData.at(i));if(!(!s||!a))return this.translateNode(s,a,n)},copy:i=>{const n=this.annotations.at(i),s=Id(this.annotationData.at(i));if(!(!n||!s))return this.createAnnotationDatumCopy(n,s)},paste:i=>{this.createAnnotation(i.type,i,!1),this.postUpdateFns.push(()=>{this.state.transitionAsync("selectLast"),this.state.transitionAsync("copy")})},select:(i,n)=>{const{annotations:s,optionsToolbar:a,toolbar:o}=this;this.hideOverlays(),o.clearActiveButton(),o.resetButtonIcons();const r=i!=null?s.at(i):null,l=n!=null?s.at(n):null;l===r&&r!=null||(l==null||l.toggleActive(!1),a.hide(),r?(this.pushAnnotationState(ua.AnnotationsSelected),r.toggleActive(!0),a.updateButtons(this.annotationData.at(i)),this.postUpdateFns.push(()=>{a.show(),a.setAnchorScene(r)})):(this.popAnnotationState(ua.AnnotationsSelected),this.popAnnotationState(ua.Annotations)),this.deleteEphemeralAnnotations(),this.update())},selectLast:()=>(this.pushAnnotationState(ua.AnnotationsSelected),this.annotationData.length-1),startInteracting:()=>{this.pushAnnotationState(ua.Annotations)},stopInteracting:()=>{this.popAnnotationState(ua.Annotations)},create:(i,n)=>{this.createAnnotation(i,n)},delete:i=>{this.annotationData.splice(i,1)},deleteAll:()=>{this.annotationData.splice(0,this.annotationData.length)},validatePoint:i=>{const n=this.getAnnotationContext();return n?xr(n,i):!0},getAnnotationType:i=>gdt(this.annotationData[i].type),datum:i=>this.annotationData.at(i),node:i=>this.annotations.at(i),recordAction:i=>{this.recordActionAfterNextUpdate(i)},update:()=>{this.postUpdateFns.push(()=>{const i=this.state.getActive(),n=i!=null?this.annotations.at(i):null;n!=null&&this.optionsToolbar.setAnchorScene(n)}),this.update()},showTextInput:i=>{const n=Id(this.annotationData.at(i));if(!this.annotations.at(i)||!n||!("getTextInputCoords"in n)||!("getTextPosition"in n))return;const a={color:n.color,fontFamily:n.fontFamily,fontSize:n.fontSize,fontStyle:n.fontStyle,fontWeight:n.fontWeight,placeholderColor:n.getPlaceholderColor()},o=this.getAnnotationContext(),r=c=>ld.add(n.getTextInputCoords(o,c),ld.required(this.seriesRect)),l=()=>n.getTextPosition();this.textInput.show({styles:a,layout:{getTextInputCoords:r,getTextPosition:l,alignment:n.alignment,textAlign:n.textAlign,width:n.width},text:n.text,placeholderText:n.placeholderText,onChange:(c,h)=>{this.state.transition("updateTextInputBBox",h)}}),this.ctx.domManager.updateCursor("annotations")},hideTextInput:()=>{this.textInput.hide()},updateTextInputColor:i=>{this.textInput.updateColor(i)},updateTextInputFontSize:i=>{const n=this.textInput.updateFontSize(i);this.state.transition("updateTextInputBBox",n)},updateTextInputBBox:i=>{this.state.transition("updateTextInputBBox",i)},showAnnotationOptions:i=>{const n=this.annotations.at(i);!n||Vu(this.annotationData.at(i))||(this.optionsToolbar.updateButtons(this.annotationData.at(i)),this.optionsToolbar.show(),this.optionsToolbar.setAnchorScene(n))},showAnnotationSettings:(i,n,s="line")=>{const a=this.annotationData.at(i);if(!nD(a)&&!yc(a)&&!Tb(a)||Vu(a))return;const o=c=>(h,p,f,y)=>{this.setColorAndDefault(a.type,c,h,p,f,y),this.optionsToolbar.updateColorPickerColor(c,p,f,y)},r=c=>()=>{this.recordActionAfterNextUpdate(`Change ${a.type} ${c} to ${a.getDefaultColor(c)}`,["annotations","defaults"]),this.update()},l={initialSelectedTab:s,ariaLabel:this.ctx.localeManager.t("ariaLabelAnnotationSettingsDialog"),sourceEvent:n,onChangeLine:c=>{this.state.transition("lineProps",c),c.bands!=null&&this.defaults.setDefaultFibonacciOptions(a.type,"bands",c.bands),c.reverse!=null&&this.defaults.setDefaultFibonacciOptions(a.type,"reverse",c.reverse),c.showFill!=null&&this.defaults.setDefaultFibonacciOptions(a.type,"showFill",c.showFill)},onChangeText:c=>{this.state.transition("lineText",c),c.alignment&&this.defaults.setDefaultLineTextAlignment(a.type,c.alignment),c.position&&this.defaults.setDefaultLineTextPosition(a.type,c.position),this.recordActionAfterNextUpdate(`Change ${a.type} text ${Object.entries(c).map(([h,p])=>`${h} to ${p}`).join(", ")}`)},onChangeFillColor:o("fill-color"),onChangeHideFillColor:r("fill-color"),onChangeLineColor:o("line-color"),onChangeHideLineColor:r("line-color"),onChangeLineStyleType:c=>{this.setLineStyleTypeAndDefault(a.type,c),this.optionsToolbar.updateLineStyleType($m.find(h=>h.value===c)??$m[0])},onChangeLineStyleWidth:c=>{this.setLineStyleWidthAndDefault(a.type,c),this.optionsToolbar.updateStrokeWidth({strokeWidth:c,value:c,label:String(c)})},onChangeTextColor:o("text-color"),onChangeHideTextColor:r("text-color"),onChangeTextFontSize:c=>{this.setFontSizeAndDefault(a.type,c)}};this.settingsDialog.show(a,l)}})}setupListeners(){const{ctx:e,optionsToolbar:i,settingsDialog:n,toolbar:s}=this,{seriesWidget:a,seriesDragInterpreter:o,chartWidget:r}=e.widgets;this.destroyFns.push(o.addListener("click",this.hoverTouchPreHandler.bind(this)),o.addListener("drag-start",this.hoverTouchPreHandler.bind(this)),o.addListener("drag-move",this.dragMoveTouchPreHandler.bind(this)),o.addListener("mousemove",this.onHover.bind(this)),o.addListener("click",this.onClick.bind(this)),o.addListener("dblclick",this.onDoubleClick.bind(this)),o.addListener("drag-start",this.onDragStart.bind(this)),o.addListener("drag-move",this.onDrag.bind(this)),o.addListener("drag-end",this.onDragEnd.bind(this)),a.addListener("keydown",this.onKeyDown.bind(this)),a.addListener("keyup",this.onKeyUp.bind(this)),r.addListener("click",this.onCancel.bind(this)),e.annotationManager.addListener("restore-annotations",this.onRestoreAnnotations.bind(this)),e.layoutManager.addListener("layout:complete",this.onLayoutComplete.bind(this)),e.updateService.addListener("pre-scene-render",this.onPreRender.bind(this)),e.zoomManager.addListener("zoom-change",()=>this.onResize()),e.domManager.addListener("resize",()=>this.onResize()),s.addListener("cancel-create-annotation",()=>{this.cancel(),this.reset(),this.update()}),s.addListener("pressed-create-annotation",({annotation:l})=>{this.cancel(),this.pushAnnotationState(ua.Annotations),this.state.transition(l),this.update()}),s.addListener("pressed-clear",()=>{this.clear(),this.recordActionAfterNextUpdate("Clear all")}),s.addListener("pressed-show-menu",()=>{this.cancel(),this.reset()}),s.addListener("pressed-unrelated",()=>{this.reset()}),i.addListener("pressed-delete",()=>{this.cancel(),this.delete(),this.reset()}),i.addListener("pressed-settings",({sourceEvent:l})=>{this.state.transition("toolbarPressSettings",l)}),i.addListener("pressed-lock",()=>{this.update()}),i.addListener("hid-overlays",()=>{this.settingsDialog.hide()}),i.addListener("saved-color",({type:l,colorPickerType:c,color:h})=>{this.recordActionAfterNextUpdate(`Change ${l} ${c} to ${h}`,["annotations","defaults"])}),i.addListener("updated-color",({type:l,colorPickerType:c,colorOpacity:h,color:p,opacity:f,isMultiColor:y})=>{this.setColorAndDefault(l,c,h,p,f,y)}),i.addListener("updated-font-size",({type:l,fontSize:c})=>{this.setFontSizeAndDefault(l,c)}),i.addListener("updated-line-style",({type:l,lineStyleType:c})=>{this.setLineStyleTypeAndDefault(l,c)}),i.addListener("updated-line-width",({type:l,strokeWidth:c})=>{this.setLineStyleWidthAndDefault(l,c)}),n.addListener("hidden",()=>{this.optionsToolbar.clearActiveButton()}))}setupDOM(){const{ctx:e,toolbar:i}=this;this.destroyFns.push(e.annotationManager.attachNode(this.container),()=>e.domManager.removeStyles(Rm),()=>i.destroy())}async processData(e){if(!this.enabled||this.data==null||this.xKey==null||this.volumeKey==null)return;const i=[Rgt(this.xKey,void 0,{id:"date"}),Pgt(this.volumeKey,"number",{id:"volume"})],{dataModel:n,processedData:s}=await e.request("annotations",this.data,{props:i});this.dataModel=n,this.processedData=s}createAnnotationScene(e){if(e.type in Pa)return new Pa[e.type].scene;throw new Error(`AG Charts - Cannot create annotation scene of type [${e.type}], expected one of [${Object.keys(Pa)}], ignoring.`)}static createAnnotationDatum(e){if(e.type in Pa)return new Pa[e.type].datum().set(e);throw new Error(`AG Charts - Cannot create annotation datum of unknown type [${e.type}], expected one of [${Object.keys(Pa)}], ignoring.`)}createAnnotation(e,i,n=!0){if(this.annotationData.push(i),n){const s=this.ctx.annotationManager.getAnnotationTypeStyles(e);s&&i.set(s),this.defaults.applyDefaults(i)}this.injectDatumDependencies(i),this.update()}injectDatumDependencies(e){"setLocaleManager"in e&&e.setLocaleManager(this.ctx.localeManager),"getVolume"in e&&(e.getVolume=this.getDatumRangeVolume.bind(this))}getDatumRangeVolume(e,i){const{dataModel:n,processedData:s}=this;let a=oi(e).value,o=oi(i).value;if(!c1(a)||!c1(o)||!n||!s||this.volumeKey==null)return;a>o&&([a,o]=[o,a]);const r=n.resolveKeysById({id:"annotations"},"date",s),l=n.resolveColumnById({id:"annotations"},"volume",s);let c=0;for(let h=0;h<s.input.count;h++){const p=r[h];c1(p)&&p>=a&&p<=o&&(c+=l[h])}return c}translateNode(e,i,n){const s=this.getAnnotationConfig(i),a=this.getAnnotationContext();a&&s.translate(e,i,n,a)}createAnnotationDatumCopy(e,i){const n=this.getAnnotationConfig(i),s=new n.datum;s.set(i.toJson());const a=this.getAnnotationContext();if(a)return n.copy(e,i,s,a)}getAnnotationConfig(e){if(e.type in Pa)return Pa[e.type];throw new Error(`AG Charts - Cannot get annotation config of unknown type [${e.type}], expected one of [${Object.keys(Pa)}], ignoring.`)}onRestoreAnnotations(e){this.enabled&&(this.clear(),this.annotationData.set(e.annotations),this.restoreAnnotations=!0,this.update())}onLayoutComplete(e){var n,s;const i=e.series.paddedRect;this.seriesRect=i,this.container.setClipRect(i);for(const a of e.axes??[])a.direction===z.ChartAxisDirection.X?this.xAxis=this.getAxis(a,i,(n=this.xAxis)==null?void 0:n.button):this.yAxis=this.getAxis(a,i,(s=this.yAxis)==null?void 0:s.button);this.showAnnotations()?this.animateAnnotations({from:0,to:1,phase:"trailing"}):this.animateAnnotations({from:1,to:0,phase:"remove"})}showAnnotations(){if(!this.yAxis||!this.xAxis)return!1;const e=this.ctx.chartService.series.some(s=>s.hasData),n=this.yAxis.context.seriesIds().some(s=>{const a=this.ctx.chartService.series.find(o=>o.id===s);return a==null?void 0:a.visible});return e&&n}animateAnnotations({from:e,to:i,phase:n}){var a;const{annotations:s}=this;(a=this.ctx.animationManager)==null||a.animate({from:e,to:i,id:"chart-annotations",phase:n,groupId:"opacity",onUpdate(o){s.each(r=>{r.opacity=o,"setAxisLabelOpacity"in r&&r.setAxisLabelOpacity(o)})},onStop(){s.each(o=>{o.opacity=i,"setAxisLabelOpacity"in o&&o.setAxisLabelOpacity(i)})}})}onPreRender(){this.updateAnnotations(),this.state.transition("render")}getAxis(e,i,n){const s=this.ctx.axisManager.getAxisContext(e.direction)[0],{position:a="bottom",direction:o}=s,r=e.gridPadding+e.seriesAreaPadding,l=new zgt(0,0,i.width,i.height).grow(r,a),c=s.direction===wgt.X?"vertical":"horizontal",{axesButtons:h,snap:p}=this;if(this.enabled&&h.enabled&&(h.axes==="xy"||h.axes===o)){n??(n=new u$(this.ctx,{...s,snapToGroup:p},m=>this.onAxisButtonClick(m,c),i));const y=x1(e);n.update(i,y)}else n==null||n.destroy(),n=void 0;return{layout:e,context:s,bounds:l,button:n}}recordActionAfterNextUpdate(e,i=["annotations"]){const{defaults:n,ctx:{annotationManager:s,historyManager:a}}=this,o=i.map(r=>r==="defaults"?n:s);this.postUpdateFns.push(()=>{a.record(e,...o)})}setColorAndDefault(e,i,n,s,a,o){this.state.transition("color",{colorPickerType:i,colorOpacity:n,color:s,opacity:a,isMultiColor:o}),this.defaults.setDefaultColor(e,i,n,s,a,o)}setFontSizeAndDefault(e,i){this.state.transition("fontSize",i),this.defaults.setDefaultFontSize(e,i),this.recordActionAfterNextUpdate(`Change ${e} font size to ${i}`,["annotations","defaults"])}setLineStyleTypeAndDefault(e,i){this.state.transition("lineStyle",{type:i}),this.defaults.setDefaultLineStyleType(e,i),this.recordActionAfterNextUpdate(`Change ${e} line style to ${i}`,["annotations","defaults"])}setLineStyleWidthAndDefault(e,i){this.state.transition("lineStyle",{strokeWidth:i}),this.defaults.setDefaultLineStyleWidth(e,i),this.recordActionAfterNextUpdate(`Change ${e} stroke width to ${i}`,["annotations","defaults"])}updateAnnotations(){const{annotationData:e,annotations:i,seriesRect:n,ctx:{annotationManager:s}}=this,a=this.getAnnotationContext();if(!n||!a)return;s.updateData(e.toJson().filter(l=>!Vu(l)));const o=this.showAnnotations();this.toolbar.refreshButtonsEnabled(o),this.toolbar.toggleClearButtonEnabled(e.length>0&&o);const r=this.restoreAnnotations;i.update(e??[],void 0,l=>l.id).each((l,c)=>{if(!o||!this.validateDatum(c,r)){l.visible=!1,"setAxisLabelVisible"in l&&l.setAxisLabelVisible(!1);return}"setAxisLabelVisible"in l&&l.setAxisLabelVisible(!0),this.injectDatumDependencies(c),Lgt(l,c,a)}),this.postUpdateFns.forEach(l=>l()),this.postUpdateFns=[],this.restoreAnnotations=!1}validateDatum(e,i){const n=this.getAnnotationContext(),s=i?`Annotation [${e.type}] `:void 0;return n?e.isValidWithContext(n,s):!0}getAnnotationContext(){const{seriesRect:e,xAxis:i,yAxis:n,snap:s}=this;if(e&&i&&n)return{seriesRect:e,xAxis:{...i.context,bounds:i.bounds,labelPadding:x1(i.layout),snapToGroup:s},yAxis:{...n.context,bounds:n.bounds,labelPadding:x1(i.layout),snapToGroup:s}}}onHover(e){const{state:i}=this,n=this.getAnnotationContext();if(!n)return;const s=e.sourceEvent.shiftKey,a=ld.from(e),o=ri(a,n);i.transition("hover",{offset:a,point:o,shiftKey:s,context:n})}onClick(e){const{state:i}=this,n=this.getAnnotationContext();if(!n)return;const s=e.sourceEvent.shiftKey,a=ri(ld.from(e),n),o=this.textInput.getValue(),r=this.textInput.getBBox();i.transition("click",{point:a,shiftKey:s,textInputValue:o,bbox:r})}onDoubleClick(e){const{state:i}=this;if(!this.getAnnotationContext())return;const s=ld.from(e);i.transition("dblclick",{offset:s})}onAxisButtonClick(e,i){this.cancel(),this.reset();const n=this.getAnnotationContext();if(!this.annotationData||!n)return;const{state:s}=this;this.pushAnnotationState(ua.Annotations);const a=i==="horizontal";if(s.transition(a?"horizontal-line":"vertical-line"),this.optionsToolbar.hide(),!e)return;const o=ri(e,n);xr(n,o)&&(s.transition("click",{point:o,shiftKey:!1}),this.update())}onResize(){const e=this.textInput.getValue(),i=this.textInput.getBBox();this.state.transition("resize",{textInputValue:e,bbox:i})}hoverTouchPreHandler(e){e.device==="touch"&&this.onHover(e)}dragMoveTouchPreHandler(e){e.device==="touch"&&this.ctx.interactionManager.isState(ua.AnnotationsSelected)&&e.sourceEvent.preventDefault()}onDragStart(e){if(!this.ctx.interactionManager.isState(ua.AnnotationsDraggable))return;const i=this.getAnnotationContext();if(!i)return;const n=ld.from(e),s=ri(n,i),a=this.textInput.getValue(),o=this.textInput.getBBox();this.state.transition("dragStart",{context:i,offset:n,point:s,textInputValue:a,bbox:o})}onDrag(e){if(!this.ctx.interactionManager.isState(ua.AnnotationsDraggable))return;const i=this.getAnnotationContext();if(!i)return;const n=ld.from(e),s=ri(n,i),a=e.sourceEvent.shiftKey,o=this.textInput.getValue(),r=this.textInput.getBBox();this.state.transition("drag",{context:i,offset:n,point:s,shiftKey:a,textInputValue:o,bbox:r})}onDragEnd(){this.state.transition("dragEnd")}onCancel(e){const{sourceEvent:i}=e??{};(i==null?void 0:i.currentTarget)===(i==null?void 0:i.target)&&(this.cancel(),this.reset())}onDelete(){this.textInput.isVisible()||(this.cancel(),this.delete(),this.reset(),this.update())}onTextInput(e){const{state:i}=this,n=this.getAnnotationContext();if(!n)return;const{key:s,shiftKey:a}=e,o=this.textInput.getValue(),r=this.textInput.getBBox();i.transition("textInput",{key:s,shiftKey:a,textInputValue:o,bbox:r,context:n})}onKeyDown(e){const{state:i}=this,n=this.getAnnotationContext();if(!n)return;const{sourceEvent:s}=e,{shiftKey:a,ctrlKey:o,metaKey:r}=s,l=o||r,c=o||a;this.state.transition("keyDown",{shiftKey:a,context:n});const h={x:0,y:0},p=Math.max((n==null?void 0:n.xAxis.scale.bandwidth)??0,c?10:1),f=Math.max((n==null?void 0:n.yAxis.scale.bandwidth)??0,c?10:1);switch(s.key){case"ArrowDown":h.y=f;break;case"ArrowUp":h.y=-f;break;case"ArrowLeft":h.x=-p;break;case"ArrowRight":h.x=p;break;case"Escape":this.onCancel();return;case"Backspace":case"Delete":this.onDelete();return}if((h.x||h.y)&&(i.transition("translate",{translation:h}),s.stopPropagation(),s.preventDefault()),!!l)switch(s.key){case"c":i.transition("copy");return;case"x":i.transition("cut"),this.recordActionAfterNextUpdate("Cut annotation");return;case"v":i.transition("paste"),this.recordActionAfterNextUpdate("Paste annotation");return}}onKeyUp(e){const{shiftKey:i}=e.sourceEvent,n=this.getAnnotationContext();n&&(this.state.transition("keyUp",{shiftKey:i,context:n}),this.state.transition("translateEnd"))}clear(){this.cancel(),this.deleteAll(),this.reset()}reset(){this.state.transition("reset")}cancel(){this.state.transition("cancel")}delete(){this.state.transition("delete")}deleteAll(){this.state.transition("deleteAll")}deleteEphemeralAnnotations(){for(const[e,i]of this.annotationData.entries())Vu(i)&&this.annotationData.splice(e,1)}hideOverlays(){this.settingsDialog.hide(),this.toolbar.hideOverlays(),this.optionsToolbar.hideOverlays()}pushAnnotationState(e){this.ctx.interactionManager.pushState(e),this.ctx.tooltipManager.suppressTooltip("annotations")}popAnnotationState(e){this.ctx.interactionManager.popState(e),this.ctx.tooltipManager.unsuppressTooltip("annotations")}isAnnotationState(){return this.ctx.interactionManager.isState(ua.Annotations)||this.ctx.interactionManager.isState(ua.AnnotationsSelected)}update(e=Ngt.PRE_SCENE_RENDER){this.ctx.updateService.update(e)}};A([Egt((t,e,i)=>{var a;const{ctx:{annotationManager:n,stateManager:s}}=t;e!==i&&((a=t.toolbar)==null||a.toggleVisibility(!!e),i===!1&&e===!0?s.restoreState(n):e===!1&&t.clear())}),Lb(d$)],Pg.prototype,"enabled");A([Lb(KO)],Pg.prototype,"toolbar");A([Lb(KO)],Pg.prototype,"optionsToolbar");A([Lb(KO)],Pg.prototype,"axesButtons");A([Lb(d$)],Pg.prototype,"snap");var _gt=Pg,{FONT_SIZE_RATIO:jgt,ThemeSymbols:Dn}=z,So={stroke:{$ref:"foregroundColor"},strokeOpacity:1,strokeWidth:2},es={fill:Dn.DEFAULT_ANNOTATION_HANDLE_FILL,strokeOpacity:1,strokeWidth:2},_d={color:{$ref:"backgroundColor"},fontSize:{$rem:[jgt.LARGE]},fontFamily:{$ref:"fontFamily"}},Zj={..._d,enabled:!0,fill:{$ref:"foregroundColor"},fontSize:{$ref:"fontSize"}},qv={..._d,textAlign:"left"},xd={..._d,position:"top",alignment:"center",color:{$ref:"textColor"}},qj={..._d,position:"top",alignment:"center",color:{$ref:"textColor"}},lL={..._d,fontSize:{$ref:"fontSize"},color:Dn.DEFAULT_ANNOTATION_STATISTICS_COLOR,fill:Dn.DEFAULT_ANNOTATION_STATISTICS_FILL,stroke:Dn.DEFAULT_ANNOTATION_STATISTICS_STROKE,strokeWidth:1,divider:{stroke:Dn.DEFAULT_ANNOTATION_STATISTICS_DIVIDER_STROKE,strokeWidth:1,strokeOpacity:.5}},b1={...So,background:{fill:{$ref:"foregroundColor"},fillOpacity:.075},handle:{...es},text:{...xd},statistics:{...lL}},Fgt={buttons:[{icon:"text-annotation",tooltip:"toolbarAnnotationsTextAnnotations",value:"text-menu"},{icon:"trend-line-drawing",tooltip:"toolbarAnnotationsLineAnnotations",value:"line-menu"},{icon:"arrow-drawing",tooltip:"toolbarAnnotationsShapeAnnotations",value:"shape-menu"},{icon:"delete",tooltip:"toolbarAnnotationsClearAll",value:"clear"}],padding:{$ref:"padding"}},Ggt={buttons:[{icon:"text-annotation",tooltip:"toolbarAnnotationsTextColor",value:"text-color"},{icon:"line-color",tooltip:"toolbarAnnotationsLineColor",value:"line-color"},{icon:"fill-color",tooltip:"toolbarAnnotationsFillColor",value:"fill-color"},{tooltip:"toolbarAnnotationsTextSize",value:"text-size"},{tooltip:"toolbarAnnotationsLineStrokeWidth",value:"line-stroke-width"},{icon:"line-style-solid",tooltip:"toolbarAnnotationsLineStyle",value:"line-style-type"},{icon:"settings",tooltip:"toolbarAnnotationsSettings",value:"settings"},{icon:"unlocked",tooltip:"toolbarAnnotationsLock",ariaLabel:"toolbarAnnotationsLock",checkedOverrides:{icon:"locked",tooltip:"toolbarAnnotationsUnlock"},value:"lock"},{icon:"delete",tooltip:"toolbarAnnotationsDelete",value:"delete"}]},Vgt={enabled:!1,line:{...So,handle:{...es},text:{...xd}},"horizontal-line":{...So,handle:{...es},axisLabel:{...Zj},text:{...xd}},"vertical-line":{...So,handle:{...es},axisLabel:{...Zj},text:{...xd}},"disjoint-channel":{...So,background:{fill:{$ref:"foregroundColor"},fillOpacity:.075},handle:{...es},text:{...qj}},"parallel-channel":{...So,middle:{lineDash:[6,5],strokeWidth:1},background:{fill:{$ref:"foregroundColor"},fillOpacity:.075},handle:{...es},text:{...qj}},"fibonacci-retracement":{...So,strokes:Dn.DEFAULT_FIBONACCI_STROKES,rangeStroke:{$ref:"foregroundColor"},handle:{...es},text:{...xd,position:"center"},label:{..._d,color:void 0,fontSize:{$round:[{$mul:[{$ref:"fontSize"},10/12]}]}}},"fibonacci-retracement-trend-based":{...So,strokes:Dn.DEFAULT_FIBONACCI_STROKES,rangeStroke:{$ref:"foregroundColor"},handle:{...es},text:{...xd,position:"center"},label:{..._d,color:void 0,fontSize:{$round:[{$mul:[{$ref:"fontSize"},10/12]}]}}},callout:{...So,...qv,color:{$ref:"textColor"},handle:{...es},fill:{$ref:"foregroundColor"},fillOpacity:.075},comment:{...qv,fontWeight:700,handle:{...es},fill:{$ref:"foregroundColor"}},note:{...qv,color:Dn.DEFAULT_TEXTBOX_COLOR,fill:Dn.DEFAULT_FINANCIAL_CHARTS_ANNOTATION_COLOR,stroke:{$ref:"backgroundColor"},strokeWidth:1,strokeOpacity:1,handle:{...es},background:{fill:Dn.DEFAULT_TEXTBOX_FILL,stroke:Dn.DEFAULT_TEXTBOX_STROKE,strokeWidth:1}},text:{...qv,color:{$ref:"textColor"},handle:{...es}},arrow:{...So,handle:{...es},text:{...xd}},"arrow-up":{fill:Dn.PALETTE_UP_FILL,handle:{...es,stroke:{$ref:"foregroundColor"}}},"arrow-down":{fill:Dn.PALETTE_DOWN_FILL,handle:{...es,stroke:{$ref:"foregroundColor"}}},"date-range":{...b1},"price-range":{...b1},"date-price-range":{...b1},"quick-date-price-range":{up:{...So,fill:Dn.DEFAULT_FINANCIAL_CHARTS_ANNOTATION_BACKGROUND_FILL,fillOpacity:.2,handle:{...es},statistics:{...lL,color:"#fff",fill:Dn.DEFAULT_FINANCIAL_CHARTS_ANNOTATION_BACKGROUND_FILL,strokeWidth:0,divider:{stroke:"#fff",strokeWidth:1,strokeOpacity:.5}}},down:{...So,stroke:Dn.DEFAULT_ANNOTATION_STATISTICS_DOWN_STROKE,fill:Dn.DEFAULT_ANNOTATION_STATISTICS_DOWN_FILL,fillOpacity:.2,handle:{...es,stroke:Dn.DEFAULT_ANNOTATION_STATISTICS_DOWN_STROKE},statistics:{...lL,color:"#fff",fill:Dn.DEFAULT_ANNOTATION_STATISTICS_DOWN_FILL,strokeWidth:0,divider:{stroke:"#fff",strokeWidth:1,strokeOpacity:.5}}}},axesButtons:{},toolbar:Fgt,optionsToolbar:Ggt},Ugt={type:"root",optionsKey:"annotations",packageType:"enterprise",chartTypes:["cartesian"],moduleFactory:t=>new _gt(t),themeTemplate:{annotations:Vgt}},{BaseProperties:Hgt,ObserveChanges:Wgt,ProxyProperty:Ygt,Validate:sp,NUMBER:pD,POSITIVE_NUMBER:f$,RATIO:$gt,calculatePlacement:Kgt,createElement:Xgt}=z,vl=class extends Hgt{constructor(){super(),this.opacity=1,this.loadedSynchronously=!0,this.containerWidth=0,this.containerHeight=0,this.onLoad=void 0,this.onImageLoad=()=>{var e;this.loadedSynchronously||(this.node.visible=!1,this.performLayout(this.containerWidth,this.containerHeight),(e=this.onLoad)==null||e.call(this))},this.imageElement=Xgt("img"),this.imageElement.onload=this.onImageLoad,this.node=new z.Image(this.imageElement)}get complete(){return this.imageElement.width>0&&this.imageElement.height>0}performLayout(e,i){this.containerWidth=e,this.containerHeight=i;const n={width:e,height:i},s=Kgt(this.imageElement.width,this.imageElement.height,n,this);return this.node.setProperties(this.complete?{visible:!0,opacity:this.opacity,...s}:{visible:!1}),s}};A([sp(pD,{optional:!0})],vl.prototype,"top");A([sp(pD,{optional:!0})],vl.prototype,"right");A([sp(pD,{optional:!0})],vl.prototype,"bottom");A([sp(pD,{optional:!0})],vl.prototype,"left");A([sp(f$,{optional:!0})],vl.prototype,"width");A([sp(f$,{optional:!0})],vl.prototype,"height");A([sp($gt)],vl.prototype,"opacity");A([Ygt("imageElement.src"),Wgt(t=>t.loadedSynchronously=t.complete)],vl.prototype,"url");var{ActionOnSet:Zgt,OBJECT:qgt,Validate:Qgt}=z,g$=class extends z.Background{constructor(){super(...arguments),this.image=new vl}onLayoutComplete(t){if(super.onLayoutComplete(t),this.image){const{width:e,height:i}=t.chart;this.image.performLayout(e,i)}}onImageLoad(){this.ctx.updateService.update(z.ChartUpdateType.SCENE_RENDER)}};A([Qgt(qgt,{optional:!0}),Zgt({newValue(t){this.node.appendChild(t.node),t.onLoad=()=>this.onImageLoad()},oldValue(t){this.node.removeChild(t.node),t.onLoad=void 0}})],g$.prototype,"image");var Jgt={type:"root",optionsKey:"background",packageType:"enterprise",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],moduleFactory:t=>new g$(t)},{BOOLEAN:tyt,ActionOnSet:eyt,LayoutElement:iyt,Menu:nyt,Validate:syt}=z,v1=[{label:"toolbarSeriesTypeOHLC",icon:"ohlc-series",value:"ohlc"},{label:"toolbarSeriesTypeCandles",icon:"candlestick-series",value:"candlestick"},{label:"toolbarSeriesTypeHollowCandles",icon:"hollow-candlestick-series",value:"hollow-candlestick"},{label:"toolbarSeriesTypeLine",icon:"line-series",value:"line"},{label:"toolbarSeriesTypeStepLine",icon:"step-line-series",value:"step-line"},{label:"toolbarSeriesTypeHLC",icon:"hlc-series",value:"hlc"},{label:"toolbarSeriesTypeHighLow",icon:"high-low-series",value:"high-low"}],y$=class extends z.BaseModuleInstance{constructor(t){super(),this.ctx=t,this.enabled=!1,this.menu=new nyt(this.ctx,"chart-toolbar"),this.toolbar=t.sharedToolbar.getSharedToolbar("chartToolbar"),this.destroyFns.push(this.toolbar.addToolbarListener("button-pressed",this.onButtonPressed.bind(this)),t.layoutManager.registerElement(iyt.ToolbarLeft,this.onLayoutStart.bind(this)),()=>this.toolbar.destroy())}onLayoutStart(t){this.enabled&&(this.updateButton(),this.toolbar.layout(t.layoutBox))}onButtonPressed({event:t,buttonBounds:e}){this.menu.setAnchor({x:e.x+e.width+6,y:e.y}),this.menu.show({items:v1,menuItemRole:"menuitemradio",ariaLabel:this.ctx.localeManager.t("toolbarSeriesTypeDropdown"),class:"ag-charts-chart-toolbar__menu",value:this.getChartType(),sourceEvent:t.sourceEvent,onPress:i=>{this.setChartType(i.value),this.hidePopover()},onHide:()=>{this.toolbar.clearActiveButton()}}),this.toolbar.toggleActiveButtonByIndex(0)}updateButton(){var i;const t=this.getChartType(),e=(i=v1.find(n=>n.value===t))==null?void 0:i.icon;e!=null&&this.toolbar.updateButtons([{icon:e,tooltip:"toolbarSeriesTypeDropdown"}])}hidePopover(){this.toolbar.clearActiveButton(),this.menu.hide()}setChartType(t){var i;const e={chartType:t};(i=this.ctx.chartService.publicApi)==null||i.updateDelta(e).catch(n=>ve.error(n))}getChartType(){var e,i;const t=(i=(e=this.ctx.chartService.publicApi)==null?void 0:e.getOptions())==null?void 0:i.chartType;return t==null||!v1.some(n=>n.value===t)?"candlestick":t}};A([syt(tyt),eyt({changeValue(t){var e;(e=this.toolbar)==null||e.setHidden(!t)}})],y$.prototype,"enabled");var ayt={type:"root",optionsKey:"chartToolbar",packageType:"enterprise",chartTypes:["cartesian"],moduleFactory:t=>new y$(t)},Qv="ag-charts-context-menu",Jv="ag-charts-dark-context-menu",{BOOLEAN:m$,Validate:x$,initMenuKeyNav:oyt,makeAccessibleClickListener:ryt,ContextMenuRegistry:fm,createElement:S1}=z,M1="context-menu";function lyt(t,e){const{children:i}=t??{};if(!i)return[];const n=[];for(const s of Array.from(i))s instanceof e&&n.push(s);return n}var XO=class extends z.BaseModuleInstance{constructor(t){if(super(),this.ctx=t,this.enabled=!0,this.darkTheme=!1,this.extraActions=[],this.extraNodeActions=[],this.extraSeriesAreaActions=[],this.extraLegendItemActions=[],this.pickedNode=void 0,this.showEvent=void 0,this.x=0,this.y=0,this.interactionManager=t.interactionManager,this.registry=t.contextMenuRegistry,this.groups={default:[],extra:[],extraSeriesArea:[],extraNode:[],extraLegendItem:[]},this.element=t.domManager.addChild("canvas-overlay",M1),this.element.classList.add(Qv),this.element.addEventListener("contextmenu",e=>e.preventDefault()),this.destroyFns.push(()=>{var e;return(e=this.element.parentNode)==null?void 0:e.removeChild(this.element)}),this.doClose(),this.destroyFns.push(t.domManager.addListener("hidden",()=>this.hide())),typeof MutationObserver<"u"){const e=new MutationObserver(()=>{this.menuElement&&this.element.contains(this.menuElement)&&this.reposition()});e.observe(this.element,{childList:!0}),this.mutationObserver=e,this.destroyFns.push(()=>e.disconnect())}this.destroyFns.push(this.registry.registerDefaultAction({id:"download",type:"all",label:"contextMenuDownload",action:()=>{var n;const e=t.chartService.title;let i="image";e!=null&&e.enabled&&(e==null?void 0:e.text)!==void 0&&(i=e.text.replace(/\.+/,"")),(n=this.ctx.chartService.publicApi)==null||n.download({fileName:i}).catch(s=>{ve.error("Unable to download chart",s)})}})),this.destroyFns.push(this.registry.addListener(e=>this.onContext(e)))}onContext(t){if(!this.enabled)return;t.sourceEvent.preventDefault(),this.showEvent=t.sourceEvent,this.x=t.x,this.y=t.y,this.groups.default=this.registry.filterActions(t.type);for(const r of this.groups.default)r.id==null||r.toggleEnabledOnShow==null||(r.toggleEnabledOnShow(t)?this.registry.enableAction(r.id):this.registry.disableAction(r.id));this.pickedNode=void 0,this.pickedLegendItem=void 0,this.groups.extra=this.extraActions.map(({label:r,action:l})=>({type:"all",label:r,action:l})),this.groups.extraSeriesArea=[],this.groups.extraNode=[],fm.check("series-area",t)&&(this.pickedNode=t.context.pickedNode,this.groups.extraSeriesArea=this.extraSeriesAreaActions.map(({label:r,action:l})=>({type:"series-area",label:r,action:l})),this.pickedNode&&(this.groups.extraNode=this.extraNodeActions.map(({label:r,action:l})=>({type:"node",label:r,action:l})))),this.groups.extraLegendItem=[],fm.check("legend",t)&&(this.pickedLegendItem=t.context.legendItem,this.pickedLegendItem&&(this.groups.extraLegendItem=this.extraLegendItemActions.map(({label:r,action:l})=>({type:"legend",label:r,action:l}))));const{default:e,extra:i,extraSeriesArea:n,extraNode:s,extraLegendItem:a}=this.groups;[e,i,n,s,a].reduce((r,l)=>l.length+r,0)!==0&&this.show(t.sourceEvent)}show(t){var s;this.interactionManager.pushState(z.InteractionState.ContextMenu),this.element.classList.toggle(Jv,this.darkTheme);const e=this.renderMenu();(s=this.menuCloser)==null||s.close(),this.menuElement?this.element.replaceChild(e,this.menuElement):this.element.appendChild(e),this.menuElement=e,this.element.style.display="block";const i=t.pointerType==="touch"?!1:void 0,n=lyt(e,HTMLButtonElement);this.menuCloser=oyt({menu:e,buttons:n,orientation:"vertical",sourceEvent:t,overrideFocusVisible:i,autoCloseOnBlur:!0,closeCallback:()=>this.doClose()}),t.pointerType==="touch"&&this.ctx.chartService.overrideFocusVisible(!1)}hide(){var t;(t=this.menuCloser)==null||t.close()}doClose(){this.interactionManager.popState(z.InteractionState.ContextMenu),this.menuElement&&(this.element.removeChild(this.menuElement),this.menuElement=void 0,this.menuCloser=void 0),this.element.style.display="none"}renderMenu(){const t=S1("div");return t.classList.add(`${Qv}__menu`),t.classList.toggle(Jv,this.darkTheme),t.role="menu",this.appendMenuGroup(t,this.groups.default,!1),this.appendMenuGroup(t,this.groups.extra),this.appendMenuGroup(t,this.groups.extraSeriesArea),this.pickedNode&&this.appendMenuGroup(t,this.groups.extraNode),this.pickedLegendItem&&this.appendMenuGroup(t,this.groups.extraLegendItem),t}appendMenuGroup(t,e,i=!0){e.length!==0&&(i&&t.appendChild(this.createDividerElement()),e.forEach(n=>{const s=this.renderItem(n);s&&t.appendChild(s)}))}renderItem(t){if(t&&typeof t=="object"&&t.constructor===Object)return this.createActionElement(t)}createDividerElement(){const t=S1("div");return t.classList.add(`${Qv}__divider`),t.classList.toggle(Jv,this.darkTheme),t.role="separator",t}createActionElement({id:t,label:e,type:i,action:n}){const s=!!(t&&this.registry.isDisabled(t));return this.createButtonElement(i,e,n,s)}createButtonOnClick(t,e){return fm.checkCallback("legend",t,e)?i=>{if(this.pickedLegendItem){const{seriesId:n,itemId:s}=this.pickedLegendItem;e({type:"contextmenu",seriesId:n,itemId:s,event:i}),this.hide()}}:fm.checkCallback("series-area",t,e)?()=>{e({type:"seriesContextMenuAction",event:this.showEvent}),this.hide()}:fm.checkCallback("node",t,e)?()=>{const{pickedNode:i,showEvent:n}=this,s=i==null?void 0:i.series.createNodeContextMenuActionEvent(n,i);s?e(s):ve.error("series node not found"),this.hide()}:()=>{e({type:"contextMenuEvent",event:this.showEvent}),this.hide()}}createButtonElement(t,e,i,n){const s=S1("button");return s.classList.add(`${Qv}__item`),s.classList.toggle(Jv,this.darkTheme),s.ariaDisabled=n.toString(),s.textContent=this.ctx.localeManager.t(e),s.role="menuitem",s.onclick=ryt(s,this.createButtonOnClick(t,i)),s.addEventListener("mouseover",()=>s.focus({preventScroll:!0})),s}reposition(){let{x:t,y:e}=this;this.element.style.top="unset",this.element.style.bottom="unset";const i=this.ctx.domManager.getBoundingClientRect(),{offsetWidth:n,offsetHeight:s}=this.element;t=z.clamp(0,t,i.width-n),e=z.clamp(0,e,i.height-s),this.element.style.left=`${t}px`,this.element.style.top=`calc(${e}px - 0.5em)`}destroy(){var t;super.destroy(),(t=this.mutationObserver)==null||t.disconnect(),this.ctx.domManager.removeStyles(M1),this.ctx.domManager.removeChild("canvas-overlay",M1)}};A([x$(m$)],XO.prototype,"enabled");A([x$(m$)],XO.prototype,"darkTheme");var cyt={type:"root",packageType:"enterprise",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],optionsKey:"contextMenu",moduleFactory:t=>new XO(t),themeTemplate:{contextMenu:{enabled:!0,darkTheme:z.ThemeSymbols.IS_DARK_THEME}}},{BaseProperties:uyt,BOOLEAN:b$,FUNCTION:v$,NUMBER:fD,STRING:S$,Validate:Sl,createId:hyt,setAttribute:dyt}=z,pyt="ag-charts-crosshair-label",Bg=class extends z.ChangeDetectableProperties{constructor(){super(...arguments),this.enabled=!0,this.xOffset=0,this.yOffset=0,this.format=void 0,this.renderer=void 0}};A([Sl(b$)],Bg.prototype,"enabled");A([Sl(fD)],Bg.prototype,"xOffset");A([Sl(fD)],Bg.prototype,"yOffset");A([Sl(S$,{optional:!0})],Bg.prototype,"format");A([Sl(v$,{optional:!0})],Bg.prototype,"renderer");var zg=class extends uyt{constructor(t,e,i){super(),this.domManager=t,this.id=hyt(this),this.enabled=!0,this.xOffset=0,this.yOffset=0,this.renderer=void 0,this.element=t.addChild("canvas-overlay",`crosshair-label-${this.id}`),this.element.classList.add(pyt),dyt(this.element,"aria-hidden",!0),this.element.setAttribute("data-key",e),this.element.setAttribute("data-axis-id",i)}show(t){const{element:e}=this,i=t.x+this.xOffset,n=t.y+this.yOffset;e.style.top=`${Math.round(n)}px`,e.style.left=`${Math.round(i)}px`,this.toggle(!0)}setLabelHtml(t){t!==void 0&&(this.element.innerHTML=t)}getBBox(){const{element:t}=this;return new z.BBox(t.clientLeft,t.clientTop,t.clientWidth,t.clientHeight)}toggle(t){this.element.classList.toggle("ag-charts-crosshair-label--hidden",!t)}destroy(){this.domManager.removeChild("canvas-overlay",`crosshair-label-${this.id}`)}toLabelHtml(t,e){if(typeof t=="string")return t;e=e??{};const{text:i=e.text??"",color:n=e.color,backgroundColor:s=e.backgroundColor,opacity:a=e.opacity??1}=t;return`<div class="ag-charts-crosshair-label-content" style="${`opacity: ${a}; background-color: ${s==null?void 0:s.toLowerCase()}; color: ${n}`}">
                    <span>${i}</span>
                </div>`}};A([Sl(b$)],zg.prototype,"enabled");A([Sl(fD)],zg.prototype,"xOffset");A([Sl(fD)],zg.prototype,"yOffset");A([Sl(S$,{optional:!0})],zg.prototype,"format");A([Sl(v$,{optional:!0})],zg.prototype,"renderer");var{Group:fyt,TranslatableGroup:gyt,Line:Qj,BBox:Jj,createId:yyt,POSITIVE_NUMBER:M$,RATIO:myt,BOOLEAN:A$,COLOR_STRING:xyt,LINE_DASH:byt,OBJECT:vyt,InteractionState:tS,Validate:yh,ZIndexMap:tF,formatNumber:Syt,isInteger:Myt,ChartAxisDirection:eF}=z,_c=class extends z.BaseModuleInstance{constructor(t){super(),this.ctx=t,this.id=yyt(this),this.enabled=!1,this.stroke="rgb(195, 195, 195)",this.lineDash=[6,3],this.lineDashOffset=0,this.strokeWidth=1,this.strokeOpacity=1,this.snap=!0,this.label=new Bg,this.seriesRect=new Jj(0,0,0,0),this.bounds=new Jj(0,0,0,0),this.crosshairGroup=new gyt({name:"crosshairs",zIndex:tF.SERIES_CROSSHAIR}),this.lineGroup=this.crosshairGroup.appendChild(new fyt({name:`${this.id}-crosshair-lines`,zIndex:tF.SERIES_CROSSHAIR})),this.lineGroupSelection=z.Selection.select(this.lineGroup,Qj,!1),this.activeHighlight=void 0,this.axisCtx=t.parent,this.labels={},this.hideCrosshairs(),t.domManager.addEventListener("focusin",({target:e})=>{const i=e instanceof HTMLElement&&t.domManager.contains(e,"series-area");this.crosshairGroup.visible&&!i&&(this.hideCrosshairs(),this.ctx.updateService.update(z.ChartUpdateType.PERFORM_LAYOUT))}),this.destroyFns.push(t.scene.attachNode(this.crosshairGroup),t.widgets.seriesWidget.addListener("mousemove",e=>this.onMouseHoverLike(e)),t.widgets.seriesWidget.addListener("drag-move",e=>this.onMouseHoverLike(e)),t.widgets.seriesWidget.addListener("mouseleave",()=>this.onMouseOut()),t.widgets.seriesDragInterpreter.addListener("click",e=>this.onClick(e)),t.chartEventManager.addListener("series-focus-change",()=>this.onKeyPress()),t.zoomManager.addListener("zoom-pan-start",()=>this.onMouseOut()),t.zoomManager.addListener("zoom-change",()=>this.onMouseOut()),t.highlightManager.addListener("highlight-change",e=>this.onHighlightChange(e)),t.layoutManager.addListener("layout:complete",e=>this.layout(e)),()=>Object.entries(this.labels).forEach(([e,i])=>i.destroy()))}layout({series:{rect:t,visible:e},axes:i}){if(!e||!i||!this.enabled)return;this.seriesRect=t;const{position:n="left",axisId:s}=this.axisCtx,a=i.find(c=>c.id===s);if(!a)return;this.axisLayout=a,this.bounds=t.clone().grow(a.gridPadding+a.seriesAreaPadding,n);const{crosshairGroup:o,bounds:r}=this;o.translationX=Math.round(r.x),o.translationY=Math.round(r.y);const l=["pointer",...this.axisCtx.seriesKeyProperties()];this.updateSelections(l),this.updateLines(),this.updateLabels(l)}updateSelections(t){this.lineGroupSelection.update(t,e=>e.append(new Qj),e=>e)}updateLabels(t){const{labels:e,ctx:i}=this;for(const n of t)this.label.enabled&&(e[n]??(e[n]=new zg(i.domManager,n,this.axisCtx.axisId))),e[n]&&this.updateLabel(e[n]);this.labelFormatter=this.axisCtx.scaleValueFormatter(this.label.format)}updateLabel(t){const{enabled:e,xOffset:i,yOffset:n,format:s,renderer:a}=this.label;t.enabled=e,t.xOffset=i,t.yOffset=n,t.format=s,t.renderer=a}updateLines(){const{lineGroupSelection:t,bounds:e,stroke:i,strokeWidth:n,strokeOpacity:s,lineDash:a,lineDashOffset:o,axisLayout:r}=this;if(!r)return;const l=this.isVertical();t.each(c=>{c.stroke=i,c.strokeWidth=n,c.strokeOpacity=s,c.lineDash=a,c.lineDashOffset=o,c.y1=0,c.y2=l?e.height:0,c.x1=0,c.x2=l?0:e.width})}isVertical(){return this.axisCtx.direction===eF.X}isHover(t){return t.type==="mousemove"||t.type==="click"||t.device==="touch"&&this.ctx.chartService.touch.dragAction==="hover"}formatValue(t){const{labelFormatter:e,axisLayout:i,ctx:{callbackCache:n}}=this;if(e){const s=n.call(e,t);if(s!=null)return s}if(typeof t=="number"){const s=((i==null?void 0:i.label.fractionDigits)??0)+(Myt(t)?0:1);return Syt(t,s)}return String(t??"")}onClick(t){t.device==="touch"&&this.onMouseHoverLike(t)}onMouseHoverLike(t){if(!this.enabled||this.snap)return;const e=this.isHover(t)?tS.Clickable:tS.AnnotationsMoveable;this.ctx.interactionManager.isState(e)&&(this.updatePositions(this.getData(t)),this.crosshairGroup.visible=!0,this.ctx.updateService.update(z.ChartUpdateType.SCENE_RENDER))}onMouseOut(){this.ctx.interactionManager.isState(tS.Clickable)&&(this.hideCrosshairs(),this.ctx.updateService.update(z.ChartUpdateType.SCENE_RENDER))}onKeyPress(){this.enabled&&!this.snap&&this.ctx.interactionManager.isState(tS.Default)&&this.hideCrosshairs()}onHighlightChange(t){var o,r;if(!this.enabled)return;const{crosshairGroup:e,axisCtx:i}=this,{datum:n,series:s}=t.currentHighlight??{},a=n&&(((o=s==null?void 0:s.axes.x)==null?void 0:o.id)===i.axisId||((r=s==null?void 0:s.axes.y)==null?void 0:r.id)===i.axisId);if(this.activeHighlight=a?t.currentHighlight:void 0,!this.activeHighlight)this.hideCrosshairs();else if(this.snap){const l=this.getActiveHighlightData(this.activeHighlight);this.updatePositions(l),e.visible=!0}}isInRange(t){return this.axisCtx.inRange(t)}updatePositions(t){const{seriesRect:e,lineGroupSelection:i}=this;i.each((n,s)=>{const a=t[s];if(!a){n.visible=!1,this.hideLabel(s);return}n.visible=!0;const{value:o,position:r}=a;let l=0,c=0;this.isVertical()?(l=r,n.x=Math.round(l)):(c=r,n.y=Math.round(c)),this.label.enabled?this.showLabel(l+e.x,c+e.y,o,s):this.hideLabel(s)})}getData(t){const{axisCtx:e}=this,i="pointer",{datum:n,xKey:s="",yKey:a=""}=this.activeHighlight??{},{currentX:o,currentY:r}=t,l=this.isVertical(),c=l?o:r;let h=(n==null?void 0:n[l?s:a])??"";return e.continuous&&(h=e.scaleInvert(c)),{[i]:{position:c,value:h}}}getActiveHighlightData(t){var b;const{axisCtx:e}=this,{datum:i,series:n,xKey:s="",aggregatedValue:a,cumulativeValue:o,midPoint:r}=t,l=n.getKeyProperties(e.direction),c=(e.scale.bandwidth??0)/2,h=((b=n.axes[e.direction])==null?void 0:b.id)===e.axisId,p=l.indexOf("yKey")>-1&&h,f=l.indexOf("xKey")>-1&&h,y=a??o;if(p&&y!==void 0){const v=e.scale.convert(y)+c;return this.isInRange(v)?{yKey:{value:y,position:v}}:{}}if(f){const v=(this.isVertical()?r==null?void 0:r.x:r==null?void 0:r.y)??0,S=e.continuous?e.scaleInvert(v):i[s];return this.isInRange(v)?{xKey:{value:S,position:v}}:{}}const m={};return l.forEach(v=>{const S=n.properties[v],D=i[S],I=e.scale.convert(D)+c;this.isInRange(I)&&(m[v]={value:D,position:I})}),m}getLabelHtml(t,e){var s,a;const i=((a=(s=this.axisLayout)==null?void 0:s.label)==null?void 0:a.fractionDigits)??0,n={text:this.formatValue(t)};return this.label.renderer?e.toLabelHtml(this.label.renderer({value:t,fractionDigits:i}),n):e.toLabelHtml(n)}showLabel(t,e,i,n){if(!this.axisLayout)return;const{bounds:s}=this,a=this.labels[n],o=this.getLabelHtml(i,a);a.setLabelHtml(o);const{width:r,height:l}=a.getBBox(),c=this.axisCtx.position;let h=this.axisLayout.label.spacing+this.axisLayout.tickSize;this.axisCtx.direction===eF.X?(h-=4,a.show({x:t-r/2,y:c==="bottom"?s.y+s.height+h:s.y-l-h})):(h-=8,a.show({x:c==="right"?s.x+s.width+h:s.x-r-h,y:e-l/2}))}hideCrosshairs(){this.crosshairGroup.visible=!1;for(const t of Object.keys(this.labels))this.hideLabel(t)}hideLabel(t){var e;(e=this.labels[t])==null||e.toggle(!1)}};A([yh(A$)],_c.prototype,"enabled");A([yh(xyt,{optional:!0})],_c.prototype,"stroke");A([yh(byt,{optional:!0})],_c.prototype,"lineDash");A([yh(M$)],_c.prototype,"lineDashOffset");A([yh(M$)],_c.prototype,"strokeWidth");A([yh(myt)],_c.prototype,"strokeOpacity");A([yh(A$)],_c.prototype,"snap");A([yh(vyt)],_c.prototype,"label");var Ayt={type:"axis-option",optionsKey:"crosshair",packageType:"enterprise",chartTypes:["cartesian"],axisTypes:["category","ordinal-time","number","log","time"],moduleFactory:t=>new _c(t),themeTemplate:{crosshair:{snap:!0,stroke:{$ref:"subtleTextColor"},strokeWidth:1,strokeOpacity:1,lineDash:[5,6],lineDashOffset:0,label:{enabled:!0}}}},{BOOLEAN:Dyt,FUNCTION:Iyt,ActionOnSet:Nb,Validate:D$}=z,_g=class extends z.BaseModuleInstance{constructor(t){super(),this.enabled=!1,this.getData=()=>Promise.resolve(),this.dataService=t.dataService}updateCallback(t,e){this.dataService&&(t&&e!=null?this.dataService.updateCallback(e):this.dataService.clearCallback())}};A([Nb({newValue(t){this.updateCallback(t,this.getData)}}),D$(Dyt)],_g.prototype,"enabled");A([Nb({newValue(t){this.updateCallback(this.enabled,t)}}),D$(Iyt)],_g.prototype,"getData");A([Nb({newValue(t){this.dataService.requestThrottle=t}})],_g.prototype,"requestThrottle");A([Nb({newValue(t){this.dataService.dispatchThrottle=t}})],_g.prototype,"updateThrottle");A([Nb({newValue(t){this.dataService.dispatchOnlyLatest=!t}})],_g.prototype,"updateDuringInteraction");var Tyt={type:"root",optionsKey:"dataSource",packageType:"enterprise",chartTypes:["cartesian","hierarchy","polar","topology","flow-proportion","standalone","gauge"],moduleFactory:t=>new _g(t),themeTemplate:{dataSource:{enabled:!1}}},{nearestSquaredInContainer:Cyt,partialAssign:kyt,mergeDefaults:iF,BBox:ic}=z,Lyt=class{constructor(t){this.components=t,this.union=ic.merge(t)}containsPoint(t,e){if(!this.union.containsPoint(t,e))return!1;for(const i of this.components)if(i.containsPoint(t,e))return!0;return!1}},Nyt=class extends z.Group{constructor(){super(),this.capLength=NaN,this._datum=void 0,this.whiskerPath=new z.Path,this.capsPath=new z.Path,this.bboxes=new Lyt([]),this.append([this.whiskerPath,this.capsPath])}get datum(){return this._datum}set datum(t){this._datum=t}calculateCapLength(t,e){const{lengthRatio:i=1,length:n}=t,{lengthRatioMultiplier:s,lengthMax:a}=e,o=n??i*s;return Math.min(o,a)}getItemStylerParams(t,e,i){const{datum:n}=this;if(n==null||t.itemStyler==null)return;const{xLowerKey:s,xUpperKey:a,yLowerKey:o,yUpperKey:r}=t;return{...e,datum:n.datum,seriesId:n.datum.seriesId,xKey:n.xKey,yKey:n.yKey,xLowerKey:s,xUpperKey:a,yLowerKey:o,yUpperKey:r,highlighted:i}}formatStyles(t,e,i){let{cap:n,...s}=t;const a=this.getItemStylerParams(e,t,i);if(a!=null&&e.itemStyler!=null){const o=e.itemStyler(a);s=iF(o,s),n=iF(o==null?void 0:o.cap,o,n)}return{whiskerStyle:s,capsStyle:n}}applyStyling(t,e){kyt(["visible","stroke","strokeWidth","strokeOpacity","lineDash","lineDashOffset"],t,e)}update(t,e,i){if(this.datum===void 0)return;const{whiskerStyle:n,capsStyle:s}=this.formatStyles(t,e,i),{xBar:a,yBar:o,capDefaults:r}=this.datum,l=this.whiskerPath;this.applyStyling(l,n),l.path.clear(!0),o!==void 0&&(l.path.moveTo(o.lowerPoint.x,o.lowerPoint.y),l.path.lineTo(o.upperPoint.x,o.upperPoint.y)),a!==void 0&&(l.path.moveTo(a.lowerPoint.x,a.lowerPoint.y),l.path.lineTo(a.upperPoint.x,a.upperPoint.y)),l.path.closePath(),this.capLength=this.calculateCapLength(s??{},r);const c=this.capLength/2,h=this.capsPath;this.applyStyling(h,s),h.path.clear(!0),o!==void 0&&(h.path.moveTo(o.lowerPoint.x-c,o.lowerPoint.y),h.path.lineTo(o.lowerPoint.x+c,o.lowerPoint.y),h.path.moveTo(o.upperPoint.x-c,o.upperPoint.y),h.path.lineTo(o.upperPoint.x+c,o.upperPoint.y)),a!==void 0&&(h.path.moveTo(a.lowerPoint.x,a.lowerPoint.y-c),h.path.lineTo(a.lowerPoint.x,a.lowerPoint.y+c),h.path.moveTo(a.upperPoint.x,a.upperPoint.y-c),h.path.lineTo(a.upperPoint.x,a.upperPoint.y+c)),h.path.closePath()}updateBBoxes(){const{capLength:t,whiskerPath:e,capsPath:i}=this,{yBar:n,xBar:s}=this.datum??{},a=t/2,o=[];if(n!==void 0){const r=n.lowerPoint.y-n.upperPoint.y;o.push(new ic(n.lowerPoint.x,n.upperPoint.y,e.strokeWidth,r),new ic(n.lowerPoint.x-a,n.lowerPoint.y,t,i.strokeWidth),new ic(n.upperPoint.x-a,n.upperPoint.y,t,i.strokeWidth))}if(s!==void 0){const r=s.upperPoint.x-s.lowerPoint.x;o.push(new ic(s.lowerPoint.x,s.upperPoint.y,r,e.strokeWidth),new ic(s.lowerPoint.x,s.lowerPoint.y-a,i.strokeWidth,t),new ic(s.upperPoint.x,s.upperPoint.y-a,i.strokeWidth,t))}this.bboxes.components=o,this.bboxes.union=ic.merge(o)}containsPoint(t,e){return this.bboxes.containsPoint(t,e)}pickNode(t,e){return this.containsPoint(t,e)?this:void 0}nearestSquared(t,e,i){const{bboxes:n}=this;if(n.union.distanceSquared(t,e)>i)return{nearest:void 0,distanceSquared:1/0};const{distanceSquared:s}=ic.nearestBox(t,e,n.components);return{nearest:this,distanceSquared:s}}},Eyt=class extends z.Group{nearestSquared(t,e){const{nearest:i,distanceSquared:n}=Cyt(t,e,{children:this.children()});if(i!==void 0&&!isNaN(n))return{datum:i.datum,distanceSquared:n}}},{BaseProperties:I$,Validate:pi,BOOLEAN:T$,COLOR_STRING:C$,FUNCTION:Oyt,LINE_DASH:k$,NUMBER:wyt,OBJECT:Ryt,POSITIVE_NUMBER:gD,RATIO:ZO,STRING:mh}=z,jc=class extends I${};A([pi(T$,{optional:!0})],jc.prototype,"visible");A([pi(C$,{optional:!0})],jc.prototype,"stroke");A([pi(gD,{optional:!0})],jc.prototype,"strokeWidth");A([pi(ZO,{optional:!0})],jc.prototype,"strokeOpacity");A([pi(k$,{optional:!0})],jc.prototype,"lineDash");A([pi(gD,{optional:!0})],jc.prototype,"lineDashOffset");A([pi(wyt,{optional:!0})],jc.prototype,"length");A([pi(ZO,{optional:!0})],jc.prototype,"lengthRatio");var ds=class extends I${constructor(){super(...arguments),this.visible=!0,this.stroke="black",this.strokeWidth=1,this.strokeOpacity=1,this.cap=new jc}};A([pi(mh,{optional:!0})],ds.prototype,"yLowerKey");A([pi(mh,{optional:!0})],ds.prototype,"yLowerName");A([pi(mh,{optional:!0})],ds.prototype,"yUpperKey");A([pi(mh,{optional:!0})],ds.prototype,"yUpperName");A([pi(mh,{optional:!0})],ds.prototype,"xLowerKey");A([pi(mh,{optional:!0})],ds.prototype,"xLowerName");A([pi(mh,{optional:!0})],ds.prototype,"xUpperKey");A([pi(mh,{optional:!0})],ds.prototype,"xUpperName");A([pi(T$,{optional:!0})],ds.prototype,"visible");A([pi(C$,{optional:!0})],ds.prototype,"stroke");A([pi(gD,{optional:!0})],ds.prototype,"strokeWidth");A([pi(ZO,{optional:!0})],ds.prototype,"strokeOpacity");A([pi(k$,{optional:!0})],ds.prototype,"lineDash");A([pi(gD,{optional:!0})],ds.prototype,"lineDashOffset");A([pi(Oyt,{optional:!0})],ds.prototype,"itemStyler");A([pi(Ryt)],ds.prototype,"cap");var{fixNumericExtent:Pyt,groupAccumulativeValueProperty:Byt,mergeDefaults:zyt,valueProperty:eS,ChartAxisDirection:A1}=z;function _yt(t){for(const e of $k)if(e===t.series.type)return t.series;throw new Error(`AG Charts - unsupported series type '${t.series.type}', error bars supported series types: ${$k.join(", ")}`)}var jyt=class Pm extends z.BaseModuleInstance{constructor(e){super(),this.properties=new ds;const i=_yt(e),{annotationGroup:n,annotationSelections:s}=i;this.cartesianSeries=i,this.groupNode=new Eyt({name:`${n.id}-errorBars`}),n.appendChild(this.groupNode),this.selection=z.Selection.select(this.groupNode,()=>this.errorBarFactory()),s.add(this.selection),i.addEventListener("seriesVisibilityChange",a=>this.onToggleSeriesItem(a)),this.destroyFns.push(i.addListener("data-processed",a=>this.onDataProcessed(a)),i.addListener("data-update",a=>this.onDataUpdate(a)),e.highlightManager.addListener("highlight-change",a=>this.onHighlightChange(a)),()=>n.removeChild(this.groupNode),()=>s.delete(this.selection))}hasErrorBars(){const{xLowerKey:e,xUpperKey:i,yLowerKey:n,yUpperKey:s}=this.properties;return ns(e)&&ns(i)||ns(n)&&ns(s)}isStacked(){var i;const e=(i=this.cartesianSeries.seriesGrouping)==null?void 0:i.stackCount;return e==null?!1:e>0}getUnstackPropertyDefinition(e){const i=[],{xLowerKey:n,xUpperKey:s,yLowerKey:a,yUpperKey:o,xErrorsID:r,yErrorsID:l}=this.getMaybeFlippedKeys(),{xScaleType:c,yScaleType:h}=e;return a!=null&&o!=null&&i.push(eS(a,h,{id:`${l}-lower`}),eS(o,h,{id:`${l}-upper`})),n!=null&&s!=null&&i.push(eS(n,c,{id:`${r}-lower`}),eS(s,c,{id:`${r}-upper`})),i}getStackPropertyDefinition(e){var v;const i=[],{cartesianSeries:n}=this,{xLowerKey:s,xUpperKey:a,yLowerKey:o,yUpperKey:r,xErrorsID:l,yErrorsID:c}=this.getMaybeFlippedKeys(),{xScaleType:h,yScaleType:p}=e,f=((v=n.seriesGrouping)==null?void 0:v.groupIndex)??n.id,y={invalidValue:null,missingValue:0,separateNegative:!0,...n.visible?{}:{forceValue:0}},m=(S,D,I,T)=>Byt(S,"normal","current",{id:`${D}-${I}`,groupId:`errorGroup-${f}-${I}`,...y},T),b=(S,D,I,T)=>{i.push(...m(S,I,"lower",T),...m(D,I,"upper",T))};return o!=null&&r!=null&&b(o,r,c,p),s!=null&&a!=null&&b(s,a,l,h),i}getPropertyDefinitions(e){return this.isStacked()?this.getStackPropertyDefinition(e):this.getUnstackPropertyDefinition(e)}onDataProcessed(e){this.dataModel=e.dataModel,this.processedData=e.processedData}getDomain(e){const{xLowerKey:i,xUpperKey:n,xErrorsID:s,yLowerKey:a,yUpperKey:o,yErrorsID:r}=this.getMaybeFlippedKeys();if(e===A1.X?ns(i)&&ns(n):ns(a)&&ns(o)){const{dataModel:c,processedData:h,cartesianSeries:p}=this;if(c!=null&&h!=null){const f={x:s,y:r}[e],y=c.getDomain(p,`${f}-lower`,"value",h),m=c.getDomain(p,`${f}-upper`,"value",h),b=[Math.min(...y,...m),Math.max(...y,...m)];return Pyt(b)}}return[]}onDataUpdate(e){this.dataModel=e.dataModel,this.processedData=e.processedData,ns(e.dataModel)&&ns(e.processedData)&&(this.createNodeData(),this.update())}getNodeData(){var e;return this.hasErrorBars()?(e=this.cartesianSeries.contextNodeData)==null?void 0:e.nodeData:void 0}createNodeData(){var s,a;const e=this.getNodeData(),i=(s=this.cartesianSeries.axes[A1.X])==null?void 0:s.scale,n=(a=this.cartesianSeries.axes[A1.Y])==null?void 0:a.scale;if(!(!i||!n||!e))for(let o=0;o<e.length;o++){const{midPoint:r,xLower:l,xUpper:c,yLower:h,yUpper:p}=this.getDatum(e,o);if(r!=null){let f,y;ns(l)&&ns(c)&&(f={lowerPoint:{x:this.convert(i,l),y:r.y},upperPoint:{x:this.convert(i,c),y:r.y}}),ns(h)&&ns(p)&&(y={lowerPoint:{x:r.x,y:this.convert(n,h)},upperPoint:{x:r.x,y:this.convert(n,p)}}),e[o].xBar=f,e[o].yBar=y}}}getMaybeFlippedKeys(){let{xLowerKey:e,xUpperKey:i,yLowerKey:n,yUpperKey:s}=this.properties,[a,o]=["xValue-errors","yValue-errors"];return this.cartesianSeries.shouldFlipXY()&&([e,n]=[n,e],[i,s]=[s,i],[a,o]=[o,a]),{xLowerKey:e,xUpperKey:i,xErrorsID:a,yLowerKey:n,yUpperKey:s,yErrorsID:o}}static getDatumKey(e,i,n){if(i==null)return;const s=e.datum[i];if(s!=null){if(typeof s!="number"){ve.warnOnce(`Found [${i}] error value of type ${typeof s}. Expected number type`);return}return s+n}}getDatum(e,i){const{xLowerKey:n,xUpperKey:s,yLowerKey:a,yUpperKey:o}=this.getMaybeFlippedKeys(),r=e[i],l=r.cumulativeValue==null||!this.isStacked()?0:r.cumulativeValue-r.yValue,[c,h]=this.cartesianSeries.shouldFlipXY()?[l,0]:[0,l];return{midPoint:r.midPoint,xLower:Pm.getDatumKey(r,n,c),xUpper:Pm.getDatumKey(r,s,c),yLower:Pm.getDatumKey(r,a,h),yUpper:Pm.getDatumKey(r,o,h)}}convert(e,i){const n=(e.bandwidth??0)/2;return e.convert(i)+n}update(){const e=this.getNodeData();e!=null&&(this.selection.update(e),this.selection.each((i,n,s)=>this.updateNode(i,n,s)))}updateNode(e,i,n){e.datum=i,e.update(this.getDefaultStyle(),this.properties,!1),e.updateBBoxes()}pickNodeExact(e){const{x:i,y:n}=e,s=this.groupNode.pickNode(i,n);if(s!=null)return{datum:s.datum,distanceSquared:0}}pickNodeNearest(e){return this.groupNode.nearestSquared(e.x,e.y)}pickNodeMainAxisFirst(e){return this.groupNode.nearestSquared(e.x,e.y)}getTooltipParams(){const{xLowerKey:e,xUpperKey:i,yLowerKey:n,yUpperKey:s,xLowerName:a=e,xUpperName:o=i,yLowerName:r=n,yUpperName:l=s}=this.properties;return{xLowerKey:e,xLowerName:a,xUpperKey:i,xUpperName:o,yLowerKey:n,yLowerName:r,yUpperKey:s,yUpperName:l}}onToggleSeriesItem(e){this.groupNode.visible=e.visible}makeStyle(e){return{visible:e.visible,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,stroke:e.stroke,strokeWidth:e.strokeWidth,strokeOpacity:e.strokeOpacity,cap:zyt(this.properties.cap,e)}}getDefaultStyle(){return this.makeStyle(this.getWhiskerProperties())}getHighlightStyle(){return this.makeStyle(this.getWhiskerProperties())}restyleHighlightChange(e,i,n){var a;const s=this.getNodeData();if(s!=null){for(let o=0;o<s.length;o++)if(e===s[o]){(a=this.selection.at(o))==null||a.update(i,this.properties,n);break}}}onHighlightChange(e){const{previousHighlight:i,currentHighlight:n}=e;(n==null?void 0:n.series)===this.cartesianSeries&&this.restyleHighlightChange(n,this.getHighlightStyle(),!0),(i==null?void 0:i.series)===this.cartesianSeries&&this.restyleHighlightChange(i,this.getDefaultStyle(),!1),this.groupNode.opacity=this.cartesianSeries.getOpacity()}errorBarFactory(){return new Nyt}getWhiskerProperties(){const{stroke:e,strokeWidth:i,visible:n,strokeOpacity:s,lineDash:a,lineDashOffset:o}=this.properties;return{stroke:e,strokeWidth:i,visible:n,strokeOpacity:s,lineDash:a,lineDashOffset:o}}},Fyt={series:{errorBar:{visible:!0,stroke:{$ref:"foregroundColor"},strokeWidth:1,strokeOpacity:1,cap:{length:void 0,lengthRatio:void 0}}}},Gyt={type:"series-option",identifier:"error-bars",optionsKey:"errorBar",packageType:"enterprise",chartTypes:["cartesian"],seriesTypes:$k,moduleFactory:t=>new jyt(t),themeTemplate:Fyt},{ZIndexMap:Vyt,ActionOnSet:Uyt,Validate:qO,ProxyPropertyOnWrite:L$,OBJECT:Hyt,RATIO:Wyt,COLOR_STRING:Yyt}=z,yD=class extends z.Background{constructor(){super(...arguments),this.image=new vl,this.fill="transparent",this.fillOpacity=void 0}createNode(){return new z.Group({name:"foreground",zIndex:Vyt.FOREGROUND})}onLayoutComplete(t){super.onLayoutComplete(t);const{width:e,height:i}=t.chart;let n={x:0,y:0,width:e,height:i};this.image&&(n=this.image.performLayout(e,i)),this.text&&this.updateTextNode(n)}onImageLoad(){this.ctx.updateService.update(z.ChartUpdateType.SCENE_RENDER)}updateTextNode(t){const{textNode:e}=this;e.fontWeight="bold",e.fontFamily="Impact, sans-serif",e.fontSize=19,e.opacity=.7,e.fill="#9b9b9b",e.textBaseline="top";const i=this.textNode.getBBox(),n=10;e.x=t.x+t.width/2-i.width/2,e.y=t.y+t.height+n}};A([qO(Hyt,{optional:!0}),Uyt({newValue(t){this.node.appendChild(t.node),t.onLoad=()=>this.onImageLoad()},oldValue(t){this.node.removeChild(t.node),t.onLoad=void 0}})],yD.prototype,"image");A([qO(Yyt,{optional:!0}),L$("rectNode","fill")],yD.prototype,"fill");A([qO(Wyt,{optional:!0}),L$("rectNode","fillOpacity")],yD.prototype,"fillOpacity");var $yt={type:"root",optionsKey:"foreground",packageType:"enterprise",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],moduleFactory:t=>new yD(t)},{TranslatableGroup:Kyt,ScenePathChangeDetection:N$}=z,QO=class extends Kyt{constructor(){super(...arguments),this.inset=0,this.cornerRadius=0}applyClip(t,e){const{cornerRadius:i,inset:n}=this,{x:s,y:a,width:o,height:r}=e;t.beginPath(),t.roundRect(s+n,a+n,o-2*n,r-2*n,i),t.clip()}};A([N$()],QO.prototype,"inset");A([N$()],QO.prototype,"cornerRadius");var{Validate:JO,BOOLEAN:Xyt,POSITIVE_NUMBER:E$,ZIndexMap:cd,ActionOnSet:O$,CategoryAxis:Zyt,TextUtils:qyt,Padding:Qyt,Group:ud,BBox:nF,ProxyProperty:w$}=z,tw=class{constructor(){this.top=0,this.bottom=0}};A([JO(E$)],tw.prototype,"top");A([JO(E$)],tw.prototype,"bottom");var jg=class extends z.BaseModuleInstance{constructor(t){super(),this.ctx=t,this.enabled=!1,this.padding=new tw,this.root=new ud({name:"root"}),this.seriesRoot=this.root.appendChild(new QO({name:"Series-root",zIndex:cd.SERIES_LAYER,renderToOffscreenCanvas:!0})),this.axisGridGroup=this.root.appendChild(new ud({name:"Axes-Grids",zIndex:cd.AXIS_GRID})),this.axisGroup=this.root.appendChild(new ud({name:"Axes-Grids",zIndex:cd.AXIS_GRID})),this.axisLabelGroup=this.root.appendChild(new ud({name:"Axes-Labels",zIndex:cd.SERIES_LABEL})),this.axisCrosslineRangeGroup=this.root.appendChild(new ud({name:"Axes-Crosslines-Range",zIndex:cd.SERIES_CROSSLINE_RANGE})),this.axisCrosslineLineGroup=this.root.appendChild(new ud({name:"Axes-Crosslines-Line",zIndex:cd.SERIES_CROSSLINE_LINE})),this.axisCrosslineLabelGroup=this.root.appendChild(new ud({name:"Axes-Crosslines-Label",zIndex:cd.SERIES_LABEL})),this.data=[],this._destroyed=!1,this.miniChartAnimationPhase="initial",this.axes=[],this.series=[]}destroy(){this._destroyed||(this.destroySeries(this.series),this.axes.forEach(t=>t.destroy()),this.axes=[],this._destroyed=!0)}onSeriesChange(t,e){const i=(e==null?void 0:e.filter(n=>!t.includes(n)))??[];this.destroySeries(i);for(const n of t){if(e!=null&&e.includes(n))continue;n.attachSeries(this.seriesRoot,this.seriesRoot,void 0);const s=this;n.chart={get mode(){return"standalone"},get isMiniChart(){return!0},get seriesRect(){return s.seriesRect}},n.resetAnimation(this.miniChartAnimationPhase==="initial"?"initial":"disabled")}}destroySeries(t){t==null||t.forEach(e=>{e.destroy(),e.detachSeries(this.seriesRoot,this.seriesRoot,void 0),e.chart=void 0})}assignSeriesToAxes(){this.axes.forEach(t=>{t.boundSeries=this.series.filter(e=>e.axes[t.direction]===t)})}assignAxesToSeries(){const t={};this.axes.forEach(e=>{const i=e.direction;(t[i]??(t[i]=[])).push(e)}),this.series.forEach(e=>{e.directions.forEach(i=>{const n=t[i];if(!n){ve.warnOnce(`no available axis for direction [${i}]; check series and axes configuration.`);return}const s=e.getKeys(i),a=this.findMatchingAxis(n,s);if(!a){ve.warnOnce(`no matching axis for direction [${i}] and keys [${s}]; check series and axes configuration.`);return}e.axes[i]=a})})}findMatchingAxis(t,e){for(const i of t){if(!i.keys.length)return i;if(e){for(const n of e)if(i.keys.includes(n))return i}}}updateData(t){this.series.forEach(e=>e.setChartData(t)),this.miniChartAnimationPhase==="initial"&&this.ctx.animationManager.onBatchStop(()=>{this.miniChartAnimationPhase="ready",this.series.forEach(e=>e.resetAnimation("disabled"))})}async processData(t){this.series.some(e=>e.canHaveAxes)&&(this.assignAxesToSeries(),this.assignSeriesToAxes()),await Promise.all(this.series.map(e=>(e.resetDatumCallbackCache(),e.processData(t))));for(const e of this.axes)e.processData()}computeAxisPadding(){const t=new Qyt;return this.enabled&&this.axes.forEach(({position:e,thickness:i,line:n,label:s})=>{if(e==null)return;let a;i?a=i:a=(n.enabled?n.width:0)+(s.enabled?qyt.getLineHeight(s.fontSize??0)+s.spacing:0),t[e]=Math.ceil(a)}),t}async layout(t,e){const{padding:i}=this,n=this.seriesRect!=null,s=new nF(0,0,t,e-(i.top+i.bottom));this.seriesRect=s,this.seriesRoot.translationY=i.top,this.seriesRoot.setClipRectCanvasSpace(new nF(0,-i.top,t,e)),this.axes.forEach(a=>{const{position:o="left"}=a;switch(o){case"top":case"bottom":a.range=[0,s.width],a.gridLength=s.height;break;case"right":case"left":{const r=a instanceof Zyt;a.range=r?[0,s.height]:[s.height,0],a.gridLength=s.width;break}}a.gridPadding=0,a.translation.x=0,a.translation.y=0,o==="right"?a.translation.x=t:o==="bottom"&&(a.translation.y=e),n||a.resetAnimation("initial"),a.calculateLayout(),a.update()}),await Promise.all(this.series.map(a=>a.update({seriesRect:s})))}};A([JO(Xyt)],jg.prototype,"enabled");A([w$(["seriesRoot","inset"])],jg.prototype,"inset");A([w$(["seriesRoot","cornerRadius"])],jg.prototype,"cornerRadius");A([O$({changeValue(t,e=[]){const i={axisNode:this.axisGroup,gridNode:this.axisGridGroup,labelNode:this.axisLabelGroup,crossLineLineNode:this.axisCrosslineLineGroup,crossLineRangeNode:this.axisCrosslineRangeGroup,crossLineLabelNode:this.axisCrosslineLabelGroup};for(const n of e)t.includes(n)||(n.detachAxis(i),n.destroy());for(const n of t)e!=null&&e.includes(n)||n.attachAxis(i)}})],jg.prototype,"axes");A([O$({changeValue(t,e){this.onSeriesChange(t,e)}})],jg.prototype,"series");var{clamp:Jyt,SliderWidget:sF}=z,tmt=class{constructor(t,e){this.ctx=t,this.sliderHandlers=e,this._min=0,this._max=1,this.minRange=.001,this.dragStartX=0,this.ctx=t,this.toolbar=t.proxyInteractionService.createProxyContainer({type:"toolbar",domManagerId:"navigator-toolbar",classList:["ag-charts-proxy-navigator-toolbar"],orientation:"vertical",ariaLabel:{id:"ariaLabelNavigator"}}),this.sliders=[t.proxyInteractionService.createProxyElement({type:"slider",domIndex:1,ariaLabel:{id:"ariaLabelNavigatorMinimum"},parent:this.toolbar,cursor:"ew-resize"}),t.proxyInteractionService.createProxyElement({type:"slider",domIndex:-1/0,ariaLabel:{id:"ariaLabelNavigatorRange"},parent:this.toolbar,cursor:"grab"}),t.proxyInteractionService.createProxyElement({type:"slider",domIndex:2,ariaLabel:{id:"ariaLabelNavigatorMaximum"},parent:this.toolbar,cursor:"ew-resize"})];for(const[i,n]of["min","pan","max"].entries()){const s=this.sliders[i];s.step=sF.STEP_HUNDRETH,s.keyboardStep=sF.STEP_ONE,s.orientation="horizontal",s.setPreventsDefault(!1),s.addListener("drag-start",a=>this.onDragStart(i,a,n)),s.addListener("drag-move",a=>this.onDrag(s,a,n)),s.addListener("drag-end",()=>this.updateSliderRatios()),s.addListener("contextmenu",a=>this.onContextMenu(s,a))}this.sliders[0].addListener("change",()=>this.onMinSliderChange()),this.sliders[1].addListener("change",()=>this.onPanSliderChange()),this.sliders[2].addListener("change",()=>this.onMaxSliderChange()),this.updateSliderRatios(),this.updateVisibility(!1)}destroy(){this.toolbar.destroy()}updateVisibility(t){this.toolbar.setHidden(!t)}updateZoom(){const{_min:t,_max:e}=this;if(!(t==null||e==null))return this.ctx.zoomManager.updateZoom("navigator",{x:{min:t,max:e}})}updateBounds(t){this.toolbar.setBounds(t)}updateSliderBounds(t,e){this.sliders[t].setBounds(e)}updateMinMax(t,e){this._min=t,this._max=e,this.updateSliderRatios()}updateSliderRatios(){const{_min:t,_max:e}=this,i=this.ctx.localeManager.t("ariaValuePanRange",{min:t,max:e});this.sliders[0].setValueRatio(t),this.sliders[1].setValueRatio(t,{ariaValueText:i}),this.sliders[2].setValueRatio(e)}toCanvasOffsets(t){return{offsetX:this.dragStartX+t.originDeltaX}}moveToFront(t){if(t===1)return;const e=this.sliders[t],i=this.sliders[2-t];this.toolbar.moveChild(i,e.domIndex-1)}onDragStart(t,e,i){const n=this.sliders[t],s=this.toolbar.cssLeft(),a=n.cssLeft();this.dragStartX=s+a+e.offsetX,this.moveToFront(t),e.device==="touch"&&e.sourceEvent.preventDefault(),this.sliderHandlers.onDragStart(i,this.toCanvasOffsets(e))}onDrag(t,e,i){e.device==="touch"&&e.sourceEvent.preventDefault(),this.sliderHandlers.onDrag(i,this.toCanvasOffsets(e))}onContextMenu(t,{sourceEvent:e,offsetX:i,offsetY:n}){const{x:s,y:a}=this.toolbar.getBounds(),{x:o,y:r}=t.getBounds(),l=i+s+o,c=n+a+r;this.ctx.contextMenuRegistry.dispatchContext("all",{sourceEvent:e,canvasX:l,canvasY:c},{})}onPanSliderChange(){const t=this.sliders[1].getValueRatio(),e=this._max-this._min;this._min=Jyt(0,t,1-e),this._max=this._min+e,this.updateZoom()}onMinSliderChange(){this._min=this.sliders[0].clampValueRatio(0,this._max-this.minRange),this.updateZoom()}onMaxSliderChange(){this._max=this.sliders[2].clampValueRatio(this._min+this.minRange,1),this.updateZoom()}},{Validate:mD,ScenePathChangeDetection:xD,POSITIVE_NUMBER:ew,BOOLEAN:emt,BBox:imt,ExtendedPath2D:nmt}=z,Xu=class extends z.Path{constructor(){super(...arguments),this.zIndex=3,this.centerX=0,this.centerY=0,this.width=8,this.height=16,this.cornerRadius=4,this.grip=!0,this.gripPath=new nmt}setCenter(t,e){this.dirtyPath=!0,(this.centerX!==t||this.centerY!==e)&&(this.centerX=t,this.centerY=e,this.markDirty())}static align(t,e,i,n,s,a,o,r,l){const c=t.align(i+s*o)+l,h=c+t.align(i+s*o,s*(r-o))-2*l,p=t.align(n+a/2);t.setCenter(c,p),e.setCenter(h,p)}computeBBox(){const{centerX:t,centerY:e,width:i,height:n}=this,s=t-i/2,a=e-n/2;return new imt(s,a,i,n)}isPointInPath(t,e){return this.getBBox().containsPoint(t,e)}updatePath(){var f,y;const{centerX:t,centerY:e,path:i,gripPath:n,strokeWidth:s,cornerRadius:a,grip:o}=this,r=s/2,l=((y=(f=this.layerManager)==null?void 0:f.canvas)==null?void 0:y.pixelRatio)??1;i.clear(),n.clear();const c=Math.floor(this.width/2*l)/l,h=Math.floor(this.height/2*l)/l;i.roundRect(t-c+r,e-h+r,2*(c-r),2*(h-r),a);const p=3;if(o)for(let m=-.5;m<=.5;m+=1)for(let b=-1;b<=1;b+=1)n.arc(t+m*p,e+b*p,1,0,2*Math.PI),n.closePath()}renderFill(t,e){const{stroke:i}=this;super.renderFill(t,e),t.fillStyle=typeof i=="string"?i:"black",t.fill(this.gripPath.getPath2D())}};Xu.className="RangeHandle";A([mD(ew),xD()],Xu.prototype,"width");A([mD(ew),xD()],Xu.prototype,"height");A([mD(ew),xD()],Xu.prototype,"cornerRadius");A([mD(emt),xD()],Xu.prototype,"grip");var{Path:smt,BBox:gm,ExtendedPath2D:amt,clippedRoundRect:D1,POSITIVE_NUMBER:omt,Validate:rmt,ScenePathChangeDetection:lmt}=z,iw=class extends smt{constructor(){super(...arguments),this.cornerRadius=4,this.zIndex=2,this.x=0,this.y=0,this.width=200,this.height=30,this.min=0,this.max=1,this.visiblePath=new amt}layout(t,e,i,n,s,a){s=isNaN(s)?this.min:s,a=isNaN(a)?this.max:a,(t!==this.x||e!==this.y||i!==this.width||this.height!==n||s!==this.min||a!==this.max)&&(this.x=t,this.y=e,this.width=i,this.height=n,this.min=s,this.max=a,this.dirtyPath=!0,this.markDirty())}computeBBox(){const{x:t,y:e,width:i,height:n}=this;return new gm(t,e,i,n)}computeVisibleRangeBBox(){const{x:t,y:e,width:i,height:n,min:s,max:a}=this,o=t+i*s,r=t+i*a;return new gm(o,e,r-o,n)}updatePath(){const{path:t,visiblePath:e,x:i,y:n,width:s,height:a,min:o,max:r,strokeWidth:l,cornerRadius:c}=this,h=l/2;t.clear(),e.clear();const p=this.align(i)+h,f=this.align(n)+h,y=this.align(i,s)-2*h,m=this.align(n,a)-2*h,b=this.align(i+s*o)+h,v=b+this.align(i+s*o,s*(r-o))-2*h,S={topLeft:c,topRight:c,bottomRight:c,bottomLeft:c};D1(t,p,f,y,m,S,new gm(p,f,b-p,m)),D1(t,p,f,y,m,S,new gm(v,f,y+p-v,m)),v-b>1&&D1(e,p,f,y,m,S,new gm(b,f,v-b,m))}renderStroke(t,e){super.renderStroke(t,e),super.renderStroke(t,this.visiblePath.getPath2D())}};iw.className="RangeMask";A([rmt(omt),lmt()],iw.prototype,"cornerRadius");var cmt=class extends z.Group{constructor(t){super({name:"rangeSelectorGroup",zIndex:z.ZIndexMap.NAVIGATOR}),this.x=0,this.y=0,this.width=200,this.height=30,this.lOffset=0,this.rOffset=0,this.background=this.appendChild(new z.TranslatableGroup({name:"navigator-background",zIndex:1})),this.append(t)}layout(t,e,i,n,s,a){this.x=t,this.y=e,this.width=i,this.height=n,this.lOffset=s,this.rOffset=a,this.background.translationX=t,this.background.translationY=e,this.markDirty()}updateBackground(t,e){t!=null&&this.background.removeChild(t),e!=null&&this.background.appendChild(e),this.markDirty()}computeBBox(){const{x:t,y:e,width:i,height:n,lOffset:s,rOffset:a}=this;return new z.BBox(t-s,e,i+(s+a),n)}},{clamp:I1,BaseModuleInstance:umt,ObserveChanges:nw,Validate:bD,BOOLEAN:hmt,POSITIVE_NUMBER:sw}=z,Fg=class extends umt{constructor(t){super(),this.ctx=t,this.enabled=!1,this.mask=new iw,this.minHandle=new Xu,this.maxHandle=new Xu,this.maskVisibleRange={id:"navigator-mask-visible-range",getBBox:()=>this.mask.computeVisibleRangeBBox(),toCanvasBBox:()=>this.mask.computeVisibleRangeBBox(),fromCanvasPoint:(e,i)=>({x:e,y:i})},this.height=30,this.cornerRadius=0,this.spacing=10,this.x=0,this.y=0,this.width=0,this.rangeSelector=new cmt([this.mask,this.minHandle,this.maxHandle]),this.destroyFns.push(t.scene.attachNode(this.rangeSelector),this.ctx.localeManager.addListener("locale-changed",()=>this.updateZoom()),this.ctx.layoutManager.registerElement(z.LayoutElement.Navigator,e=>this.onLayoutStart(e)),this.ctx.layoutManager.addListener("layout:complete",e=>this.onLayoutComplete(e)),t.zoomManager.addListener("zoom-change",e=>this.onZoomChange(e))),this.domProxy=new tmt(t,this),this.updateGroupVisibility(),this.miniChart=new jg(t)}updateBackground(t,e){var i;(i=this.rangeSelector)==null||i.updateBackground(t,e)}updateGroupVisibility(){const{enabled:t}=this;this.rangeSelector==null||t===this.rangeSelector.visible||(this.rangeSelector.visible=t,this.domProxy.updateVisibility(t),t?this.updateZoom():this.ctx.zoomManager.updateZoom("navigator"))}onLayoutStart(t){if(this.enabled){const{layoutBox:e}=t,i=this.height+this.spacing;e.shrink(i,"bottom"),this.y=e.y+e.height+this.spacing}else this.y=0;if(this.enabled&&this.miniChart){const{top:e,bottom:i}=this.miniChart.computeAxisPadding();t.layoutBox.shrink(e+i,"bottom"),this.y-=i,this.miniChart.inset=this.mask.strokeWidth/2,this.miniChart.cornerRadius=this.mask.cornerRadius}}onLayoutComplete(t){var a;const{x:e,width:i}=t.series.rect,{y:n,height:s}=this;if(this.domProxy.updateVisibility(this.enabled),this.enabled){const{_min:o,_max:r}=this.domProxy;this.layoutNodes(e,n,i,s,o,r),this.domProxy.updateBounds({x:e,y:n,width:i,height:s})}this.x=e,this.width=i,(a=this.miniChart)==null||a.layout(i,s).catch(o=>ve.error(o))}canDrag(){return this.enabled&&this.ctx.interactionManager.isState(z.InteractionState.ZoomDraggable)}onDragStart(t,{offsetX:e}){this.canDrag()&&(t==="pan"&&(this.panStart=(e-this.x)/this.width-this.domProxy._min),this.ctx.zoomManager.fireZoomPanStartEvent("navigator"))}onDrag(t,{offsetX:e}){if(!this.canDrag())return;const{panStart:i,x:n,width:s}=this,{minRange:a}=this.domProxy;let{_min:o,_max:r}=this.domProxy;const l=(e-n)/s;if(t==="min")o=I1(0,l,r-a);else if(t==="max")r=I1(o+a,l,1);else if(t==="pan"&&i!=null){const c=r-o;o=I1(0,l-i,1-c),r=o+c}this.domProxy._min=o,this.domProxy._max=r,this.updateZoom()}onZoomChange(t){const{x:e}=t;if(!e)return;const{x:i,y:n,width:s,height:a}=this,{min:o,max:r}=e;this.domProxy.updateMinMax(o,r),this.layoutNodes(i,n,s,a,o,r)}layoutNodes(t,e,i,n,s,a){const{rangeSelector:o,mask:r,minHandle:l,maxHandle:c}=this;r.layout(t,e,i,n,s,a),o.layout(t,e,i,n,l.width/2,c.width/2),Xu.align(l,c,t,e,i,n,s,a,r.strokeWidth/2),s+(a-s)/2<.5?(l.zIndex=3,c.zIndex=4):(l.zIndex=4,c.zIndex=3),[l,this.maskVisibleRange,c].forEach((h,p)=>{const f=h.getBBox(),y={x:f.x-t,y:f.y-e,height:f.height,width:f.width};this.domProxy.updateSliderBounds(p,y)})}updateZoom(){this.enabled&&this.domProxy.updateZoom()}updateData(t){var e;return(e=this.miniChart)==null?void 0:e.updateData(t)}async processData(t){var e;if(this.miniChart)return(e=this.miniChart)==null?void 0:e.processData(t)}};A([nw((t,e,i)=>{t.updateBackground(i==null?void 0:i.root,e==null?void 0:e.root)})],Fg.prototype,"miniChart");A([bD(hmt),nw((t,e)=>{t.ctx.zoomManager.setNavigatorEnabled(!!e),t.updateGroupVisibility()})],Fg.prototype,"enabled");A([bD(sw)],Fg.prototype,"height");A([bD(sw),nw((t,e)=>{t.mask.cornerRadius=e})],Fg.prototype,"cornerRadius");A([bD(sw)],Fg.prototype,"spacing");var dmt={type:"root",optionsKey:"navigator",packageType:"enterprise",chartTypes:["cartesian"],moduleFactory:t=>new Fg(t),removable:!1,themeTemplate:{navigator:{enabled:!1,height:18,cornerRadius:4,mask:{fill:{$ref:"foregroundColor"},fillOpacity:.1,stroke:{$ref:"borderColor"},strokeWidth:1},minHandle:{fill:{$ref:"backgroundColor"},stroke:{$ref:"borderColor"},strokeWidth:1,width:12,height:24,cornerRadius:4},maxHandle:{fill:{$ref:"backgroundColor"},stroke:{$ref:"borderColor"},strokeWidth:1,width:12,height:24,cornerRadius:4},miniChart:{enabled:!1,label:{color:{$ref:"textColor"},fontSize:{$rem:[z.FONT_SIZE_RATIO.SMALLER]},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},spacing:5},padding:{top:0,bottom:0}}}}},{AND:pmt,ARRAY:aF,FUNCTION:fmt,NUMBER:gmt,OR:ymt,ToolbarButtonProperties:mmt,Validate:xmt}=z,R$=class extends mmt{};A([xmt(ymt(gmt,pmt(aF,aF.restrict({length:2})),fmt))],R$.prototype,"value");var{BOOLEAN:bmt,OBJECT:vmt,ChartAxisDirection:T1,LayoutElement:Smt,PropertiesArray:Mmt,Toolbar:Amt,Validate:P$}=z,aw=class extends z.BaseModuleInstance{constructor(t){super(),this.ctx=t,this.enabled=!1,this.buttons=new Mmt(R$),this.verticalSpacing=10,this.container=t.domManager.addChild("canvas-overlay","range-buttons"),this.container.role="presentation",this.toolbar=new Amt(this.ctx.localeManager),this.toolbar.addClass("ag-charts-range-buttons"),this.container.append(this.toolbar.getElement()),this.destroyFns.push(this.toolbar.addToolbarListener("button-pressed",this.onButtonPress.bind(this)),t.layoutManager.registerElement(Smt.ToolbarBottom,this.onLayoutStart.bind(this)),t.zoomManager.addListener("zoom-change",this.onZoomChanged.bind(this)),this.teardown.bind(this))}teardown(){this.container.removeChild(this.toolbar.getElement()),this.toolbar.destroy()}onLayoutStart(t){const{buttons:e,ctx:i,enabled:n,toolbar:s,verticalSpacing:a}=this,{layoutBox:o}=t;if(!n||!i.zoomManager.isZoomEnabled()){s.setHidden(!0);return}s.setHidden(!1),s.updateButtons(e);const r=s.getBounds().height;s.setBounds({x:o.x,y:o.y+o.height-r,width:o.width,height:r}),o.shrink({bottom:r+a})}onZoomChanged(){this.toolbar.clearActiveButton()}onButtonPress({button:{index:t}}){const{zoomManager:e}=this.ctx,i=this.buttons.at(t);if(!i)return;const{value:n}=i;typeof n=="number"?e.extendToEnd("zoom-buttons",T1.X,n):Array.isArray(n)?e.updateWith("zoom-buttons",T1.X,()=>n):typeof n=="function"&&e.updateWith("zoom-buttons",T1.X,n),this.toolbar.toggleActiveButtonByIndex(t)}};A([P$(bmt)],aw.prototype,"enabled");A([P$(vmt)],aw.prototype,"buttons");var B$=1e3*60*60*24,C1=B$*30,Dmt=B$*365,Imt={type:"root",optionsKey:"ranges",packageType:"enterprise",chartTypes:["cartesian"],moduleFactory:t=>new aw(t),themeTemplate:{ranges:{enabled:!1,buttons:[{label:"toolbarRange1Month",ariaLabel:"toolbarRange1MonthAria",value:C1},{label:"toolbarRange3Months",ariaLabel:"toolbarRange3MonthsAria",value:3*C1},{label:"toolbarRange6Months",ariaLabel:"toolbarRange6MonthsAria",value:6*C1},{label:"toolbarRangeYearToDate",ariaLabel:"toolbarRangeYearToDateAria",value:(t,e)=>[new Date(`${new Date(e).getFullYear()}-01-01`).getTime(),e]},{label:"toolbarRange1Year",ariaLabel:"toolbarRange1YearAria",value:Dmt},{label:"toolbarRangeAll",ariaLabel:"toolbarRangeAllAria",value:(t,e)=>[t,e]}]}}},z$=class Bm extends z.BaseModuleInstance{constructor(e){super(),this.ctx=e,this.activeSections=new Set,this.sectionButtons={annotations:[],chartToolbar:[]},this.container=this.ctx.domManager.addChild("canvas-overlay","shared-toolbar"),this.container.role="presentation"}getSharedToolbar(e){return this.sharedToolbar||this.createSharedToolbar(),this.toolbarWithSection(e)}createSharedToolbar(){this.sharedToolbar=new z.Toolbar(this.ctx.localeManager,"vertical"),this.sharedToolbar.addClass("ag-charts-shared-toolbar"),this.container.append(this.sharedToolbar.getElement()),this.destroyFns.push(()=>{this.sharedToolbar&&(this.container.removeChild(this.sharedToolbar.getElement()),this.sharedToolbar.destroy(),this.sharedToolbar=void 0)})}toolbarWithSection(e){const i=this.sharedToolbar,n={layout:(s,a)=>{if(this.firstLayoutSection!=null&&this.firstLayoutSection!==e&&this.activeSections.has(this.firstLayoutSection))return;this.firstLayoutSection=e;const o=i.getBounds().width;i.setBounds({x:s.x,y:s.y,width:o}),s.shrink({left:o+i.horizontalSpacing+(a??0)})},addToolbarListener:(s,a)=>i.addToolbarListener(s,o=>{const r=this.getSectionIndex(e,o.button.index);if(r<0)return;const l={...o,button:this.sectionButtons[e][r]};a(l)}),updateButtons:s=>{this.sectionButtons[e]=s;const a=Bm.SECTION_ORDER.flatMap(o=>this.sectionButtons[o]);i.updateButtons(a)},updateButtonByIndex:(s,a)=>{i.updateButtonByIndex(this.getIndex(e,s),a)},toggleActiveButtonByIndex:s=>{i.toggleActiveButtonByIndex(this.getIndex(e,s))},toggleButtonEnabledByIndex:(s,a)=>{i.toggleButtonEnabledByIndex(this.getIndex(e,s),a)},setHidden:s=>{s?this.activeSections.delete(e):this.activeSections.add(e);let a=0;for(const o of Bm.SECTION_ORDER){if(o!==e){a+=this.sectionButtons[o].length;continue}for(const r of this.sectionButtons[e].keys())i.setButtonHiddenByIndex(a+r,s)}},destroy:()=>{n.setHidden(!0),this.activeSections.size===0&&this.destroy()},clearActiveButton:i.clearActiveButton.bind(i),addListener:i.addListener.bind(i),removeListener:i.removeListener.bind(i)};return n.setHidden(!1),n}getIndex(e,i){let n=0;for(const s of Bm.SECTION_ORDER){if(s===e)return n+i;n+=this.sectionButtons[s].length}return-1}getSectionIndex(e,i){let n=0;for(const s of Bm.SECTION_ORDER){if(s===e)return i>=n+this.sectionButtons[e].length?-1:i-n;n+=this.sectionButtons[s].length}return-1}};z$.SECTION_ORDER=["chartToolbar","annotations"];var Tmt=z$,Cmt={type:"context",contextKey:"sharedToolbar",packageType:"enterprise",chartTypes:["cartesian"],moduleFactory:t=>new Tmt(t)},{CachedTextMeasurerPool:ym,ZIndexMap:kmt,LayoutElement:Lmt,Validate:na,BaseProperties:Nmt,OBJECT:Gg,BOOLEAN:Emt,STRING:Vg,COLOR_STRING:Omt,RATIO:wmt,valueProperty:Rmt,TextUtils:Pmt,Group:Bmt,Label:mm,Rect:zmt,Text:jn}=z,oF={ohlc:62,candlestick:62,"hollow-candlestick":62,line:96,"step-line":96,hlc:184,"high-low":800},_mt={up:"positive",down:"negative"},jmt={hlc:"altNeutral"},ow=class extends Nmt{constructor(){super(...arguments),this.fill="black",this.fillOpacity=1}};A([na(Omt)],ow.prototype,"fill");A([na(wmt)],ow.prototype,"fillOpacity");var Ca=class extends z.BaseModuleInstance{constructor(t){super(),this.ctx=t,this.enabled=!1,this.openKey=void 0,this.highKey=void 0,this.lowKey=void 0,this.closeKey=void 0,this.volumeKey=void 0,this.title=new mm,this.positive=new mm,this.negative=new mm,this.neutral=new mm,this.altNeutral=new mm,this.background=new ow,this.layoutStyle="block",this.id="status-bar",this.data=void 0,this.layer=new Bmt({name:"StatusBar",zIndex:kmt.STATUS_BAR}),this.labelGroup=this.layer.appendChild(new z.TranslatableGroup),this.backgroundNode=this.labelGroup.appendChild(new zmt),this.labels=[{label:"O",configuration:2,title:this.labelGroup.appendChild(new jn),value:this.labelGroup.appendChild(new jn),id:"openValue",key:"openKey",domain:void 0,formatter:new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})},{label:"H",configuration:16,title:this.labelGroup.appendChild(new jn),value:this.labelGroup.appendChild(new jn),id:"highValue",key:"highKey",domain:void 0,formatter:new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})},{label:"H",configuration:256,title:this.labelGroup.appendChild(new jn),value:this.labelGroup.appendChild(new jn),style:"neutral",id:"highValue",key:"highKey",domain:void 0,formatter:new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})},{label:"L",configuration:8,title:this.labelGroup.appendChild(new jn),value:this.labelGroup.appendChild(new jn),id:"lowValue",key:"lowKey",domain:void 0,formatter:new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})},{label:"L",configuration:512,title:this.labelGroup.appendChild(new jn),value:this.labelGroup.appendChild(new jn),style:"neutral",id:"lowValue",key:"lowKey",domain:void 0,formatter:new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})},{label:"C",configuration:4,title:this.labelGroup.appendChild(new jn),value:this.labelGroup.appendChild(new jn),id:"closeValue",key:"closeKey",domain:void 0,formatter:new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})},{label:"C",configuration:128,title:this.labelGroup.appendChild(new jn),value:this.labelGroup.appendChild(new jn),id:"closeValue",key:"closeKey",style:"neutral",domain:void 0,formatter:new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})},{label:"",configuration:64,title:this.labelGroup.appendChild(new jn),value:this.labelGroup.appendChild(new jn),style:"neutral",id:"closeValue",key:"closeKey",domain:void 0,formatter:new Intl.NumberFormat("en-US",{notation:"compact",minimumFractionDigits:2,maximumFractionDigits:2})},{label:"Vol",configuration:32,title:this.labelGroup.appendChild(new jn),value:this.labelGroup.appendChild(new jn),id:"volumeValue",key:"volumeKey",domain:void 0,formatter:new Intl.NumberFormat("en-US",{notation:"compact",minimumFractionDigits:2,maximumFractionDigits:2})}],this.highlightManager=t.highlightManager,this.labelGroup.visible=!1,this.destroyFns.push(t.scene.attachNode(this.layer),t.layoutManager.registerElement(Lmt.Overlay,e=>this.startPerformLayout(e)),t.layoutManager.addListener("layout:complete",e=>this.onLayoutComplete(e)),t.highlightManager.addListener("highlight-change",()=>this.updateHighlight()))}async processData(t){if(!this.enabled||this.data==null)return;const e=[];for(const s of this.labels){const{id:a,key:o}=s,r=this[o];r==null?s.domain=void 0:e.push(Rmt(r,"number",{id:a}))}if(e.length===0)return;const{processedData:i,dataModel:n}=await t.request(this.id,this.data,{props:e});for(const s of this.labels){const{id:a,key:o}=s;this[o]!=null&&(s.domain=n.getDomain(this,a,"value",i))}}startPerformLayout(t){if(this.labelGroup.translationX=0,this.labelGroup.translationY=0,!this.enabled)return;const{layoutBox:e}=t,i=4,n=12,s=0,a=8;this.labelGroup.translationY=e.y+s;const o=Math.max(this.title.fontSize,this.positive.fontSize,this.negative.fontSize),r=Pmt.getLineHeight(o),l=oF[this.getChartType()]??0;let c=0,h,p="alphabetic";if(this.layoutStyle==="block")e.shrink(s+r+a,"top"),h=o+(r-o)/2;else{const{title:f}=this.ctx.chartService;if(p="top",h=s+f.padding,f.enabled){const y=f.node.getBBox();c=y.x+y.width+n}else c=f.padding}for(const{label:f,configuration:y,title:m,value:b,domain:v,formatter:S}of this.labels){if(v==null||!(l&y)){m.visible=!1,b.visible=!1;continue}const D=Math.max(ym.measureText(S.format(v[0]),{font:this.positive.getFont(),textBaseline:p,textAlign:"left"}).width,ym.measureText(S.format(v[1]),{font:this.positive.getFont(),textBaseline:p,textAlign:"left"}).width,ym.measureText(S.format(v[0]),{font:this.negative.getFont(),textBaseline:p,textAlign:"left"}).width,ym.measureText(S.format(v[1]),{font:this.negative.getFont(),textBaseline:p,textAlign:"left"}).width);m.visible=!0,b.visible=!0;const I=ym.measureText(f,{font:this.title.getFont(),textBaseline:p,textAlign:"left"});m.setFont(this.title),m.fill=this.title.color,m.text=f,m.textBaseline=p,m.y=h,m.x=c,c+=I.width+i,b.textBaseline=p,b.y=h,b.x=c,c+=D+n}this.backgroundNode.x=0,this.backgroundNode.y=0,this.backgroundNode.width=c-n,this.backgroundNode.height=r+s+a,this.backgroundNode.fill=this.background.fill,this.backgroundNode.fillOpacity=this.background.fillOpacity}onLayoutComplete(t){this.labelGroup.translationX=t.series.rect.x,this.updateHighlight()}updateHighlight(){var s;if(!this.enabled)return;const t=this.highlightManager.getActiveHighlight(),e=(t==null?void 0:t.datum)??((s=this.data)==null?void 0:s.at(-1));if(e==null){this.labelGroup.visible=!1;return}this.labelGroup.visible=!0;const i=t==null?void 0:t.itemId;let n=i!=null?_mt[i]:void 0;n==null&&this.openKey!=null&&this.closeKey!=null&&(e[this.openKey]<e[this.closeKey]?n="positive":n="negative");for(const{domain:a,value:o,key:r,formatter:l,style:c}of this.labels){if(a==null)continue;let h=c??n??"neutral";h==="neutral"&&(h=jmt[this.getChartType()]??h);const p=this[r],f=p!=null?e==null?void 0:e[p]:void 0;o.setFont(this[h]),o.fill=this[h].color,o.text=typeof f=="number"?l.format(f):""}}getChartType(){var e,i;let t=(i=(e=this.ctx.chartService.publicApi)==null?void 0:e.getOptions())==null?void 0:i.chartType;return(t==null||oF[t]==null)&&(t="candlestick"),t}};A([na(Emt)],Ca.prototype,"enabled");A([na(Vg,{optional:!0})],Ca.prototype,"openKey");A([na(Vg,{optional:!0})],Ca.prototype,"highKey");A([na(Vg,{optional:!0})],Ca.prototype,"lowKey");A([na(Vg,{optional:!0})],Ca.prototype,"closeKey");A([na(Vg,{optional:!0})],Ca.prototype,"volumeKey");A([na(Gg)],Ca.prototype,"title");A([na(Gg)],Ca.prototype,"positive");A([na(Gg)],Ca.prototype,"negative");A([na(Gg)],Ca.prototype,"neutral");A([na(Gg)],Ca.prototype,"altNeutral");A([na(Gg)],Ca.prototype,"background");A([na(Vg)],Ca.prototype,"layoutStyle");var Fmt={type:"root",identifier:"status-bar",optionsKey:"statusBar",packageType:"enterprise",chartTypes:["cartesian"],moduleFactory:t=>new Ca(t),themeTemplate:{statusBar:{enabled:!1,layoutStyle:z.ThemeSymbols.DEFAULT_CAPTION_LAYOUT_STYLE,title:{color:{$ref:"textColor"},fontFamily:{$ref:"fontFamily"},fontSize:{$ref:"fontSize"},fontWeight:{$ref:"fontWeight"}},positive:{color:z.ThemeSymbols.PALETTE_UP_STROKE,fontFamily:{$ref:"fontFamily"},fontSize:{$ref:"fontSize"},fontWeight:{$ref:"fontWeight"}},negative:{color:z.ThemeSymbols.PALETTE_DOWN_STROKE,fontFamily:{$ref:"fontFamily"},fontSize:{$ref:"fontSize"},fontWeight:{$ref:"fontWeight"}},neutral:{color:z.ThemeSymbols.PALETTE_NEUTRAL_STROKE,fontFamily:{$ref:"fontFamily"},fontSize:{$ref:"fontSize"},fontWeight:{$ref:"fontWeight"}},background:{fill:{$ref:"backgroundColor"},fillOpacity:.5},altNeutral:{color:"gray"}}}},{BOOLEAN:rw,STRING:Gmt,UNION:Vmt,BaseProperties:Umt,CartesianAxis:rF,ChartUpdateType:lF,ObserveChanges:Eb,TooltipManager:Hmt,Validate:Ob}=z,ap=class extends Umt{constructor(t){super(),this.moduleContext=t,this.enabled=!1,this.axes="x",this.nodeInteraction=!0,this.zoom=!0}updateSiblings(t){const{syncManager:e}=this.moduleContext;for(const i of e.getGroupSiblings(t??this.groupId))this.updateChart(i)}updateChart(t,e=lF.UPDATE_DATA){t.ctx.updateService.update(e,{skipSync:!0})}enabledZoomSync(){const{syncManager:t,zoomManager:e}=this.moduleContext;this.disableZoomSync=e.addListener("zoom-change",()=>{var i;for(const n of t.getGroupSiblings(this.groupId))(i=n.modulesManager.getModule("sync"))!=null&&i.zoom&&n.ctx.zoomManager.updateZoom("sync",this.mergeZoom(n))})}enabledNodeInteractionSync(){const{highlightManager:t,syncManager:e}=this.moduleContext;this.disableNodeInteractionSync=t.addListener("highlight-change",i=>{var n,s,a,o,r,l,c;for(const h of e.getGroupSiblings(this.groupId))if((n=h.modulesManager.getModule("sync"))!=null&&n.nodeInteraction){if(!((s=i.currentHighlight)!=null&&s.datum)){h.ctx.highlightManager.updateHighlight(h.id),h.ctx.tooltipManager.removeTooltip(h.id);continue}for(const p of h.axes){const f=this.axes==="xy"?"x":this.axes;if(!rF.is(p)||p.direction!==f)continue;const y=h.series.map(m=>{const b=m.getKeys(p.direction);if(p.keys.length&&!p.keys.some(k=>b.includes(k)))return;const{nodeData:v}=m.contextNodeData;if(!(v!=null&&v.length))return;const S=v[0][`${p.direction}Key`];let D=i.currentHighlight.datum[S];const I=Ix(D);I&&(D=D.getTime());const T=v.find(k=>{const E=k.datum[S];return I?E.getTime()===D:E===D});return T?{series:m,nodeDatum:T}:null}).filter(ns);if(y.length<2&&((a=y[0])==null?void 0:a.nodeDatum)!==h.ctx.highlightManager.getActiveHighlight()){const{series:m,nodeDatum:b}=y[0]??{};if(h.ctx.highlightManager.updateHighlight(h.id,b),b){const v=((o=b.midPoint)==null?void 0:o.x)??((r=b.point)==null?void 0:r.x)??0,S=((l=b.midPoint)==null?void 0:l.y)??((c=b.point)==null?void 0:c.y)??0,D=Hmt.makeTooltipMeta({type:"pointermove",canvasX:v,canvasY:S},m,b);delete D.lastPointerEvent,h.ctx.tooltipManager.updateTooltip(h.id,D,m.getTooltipContent(b))}else h.ctx.tooltipManager.removeTooltip(h.id);this.updateChart(h,lF.SERIES_UPDATE)}}}})}getSyncedDomain(t){if(!rF.is(t)||this.axes!=="xy"&&this.axes!==t.direction)return;const{syncManager:e}=this.moduleContext,i=e.getGroup(this.groupId),[{axes:n}]=i,{direction:s,min:a,max:o,nice:r,reverse:l}=t;for(const c of n)if(s===c.direction&&(r!==c.nice||l!==c.reverse||a!==c.min&&(Fu(a)||Fu(c.min))||o!==c.max&&(Fu(o)||Fu(c.max)))){ve.warnOnce("To allow synchronization, ensure that all charts have matching min, max, nice, and reverse properties on the synchronized axes."),this.enabled=!1;return}return Pht(i.flatMap(c=>c.series).filter(c=>{if(c.visible){const h=c.getKeys(t.direction);return t.keys.length?t.keys.some(p=>h.includes(p)):!0}}).flatMap(c=>c.getDomain(t.direction)))}mergeZoom(t){var n;const{zoomManager:e}=this.moduleContext;if(this.axes==="xy")return e.getZoom();const i=t.ctx.zoomManager.getZoom()??{};return i[this.axes]=(n=e.getZoom())==null?void 0:n[this.axes],i}onEnabledChange(){const{syncManager:t}=this.moduleContext;this.enabled?t.subscribe(this.groupId):t.unsubscribe(this.groupId),this.updateSiblings(),this.onNodeInteractionChange(),this.onZoomChange()}onGroupIdChange(t,e){if(!this.enabled||t===e)return;const{syncManager:i}=this.moduleContext;i.unsubscribe(e),i.subscribe(t),this.updateSiblings(e),this.updateSiblings(t)}onAxesChange(){if(!this.enabled)return;const{syncManager:t}=this.moduleContext;this.updateChart(t.getChart())}onNodeInteractionChange(){var t;this.enabled&&this.nodeInteraction?this.enabledNodeInteractionSync():(t=this.disableNodeInteractionSync)==null||t.call(this)}onZoomChange(){var t;this.enabled&&this.zoom?this.enabledZoomSync():(t=this.disableZoomSync)==null||t.call(this)}destroy(){var e;const{syncManager:t}=this.moduleContext;t.unsubscribe(this.groupId),this.updateSiblings(),(e=this.disableZoomSync)==null||e.call(this)}};ap.className="Sync";A([Ob(rw),Eb(t=>t.onEnabledChange())],ap.prototype,"enabled");A([Ob(Gmt,{optional:!0}),Eb((t,e,i)=>t.onGroupIdChange(e,i))],ap.prototype,"groupId");A([Ob(Vmt(["x","y","xy"],"an axis")),Eb(t=>t.onAxesChange())],ap.prototype,"axes");A([Ob(rw),Eb(t=>t.onNodeInteractionChange())],ap.prototype,"nodeInteraction");A([Ob(rw),Eb(t=>t.onZoomChange())],ap.prototype,"zoom");var Wmt={type:"root",optionsKey:"sync",packageType:"enterprise",chartTypes:["cartesian"],moduleFactory:t=>new ap(t),themeTemplate:{sync:{enabled:!1}}},{COLOR_STRING:Ymt,RATIO:$mt,Validate:_$}=z,cF="#2196f3",Kmt="#8a8a8a",vD=class extends z.Rect{constructor(){super(...arguments),this.fill=cF,this.fillOpacity=.2,this.zIndex=z.ZIndexMap.ZOOM_SELECTION}updateValid(){this.fill=cF}updateInvalid(){this.fill=Kmt}};vD.className="ZoomRect";A([_$(Ymt)],vD.prototype,"fill");A([_$($mt)],vD.prototype,"fillOpacity");var{UNION:Xmt,clamp:Zmt,isNumberEqual:uF,round:CLt}=z,Ue={min:0,max:1},j$="end",F$="middle",SD=Xmt(["pointer","start","middle","end"],"an anchor point"),iS=(t,e=Ue.min,i=Ue.max)=>Zmt(e,t,i);function lw(){return{x:{...Ue},y:{...Ue}}}function ls(t){return t.x.max-t.x.min}function Bo(t){return t.y.max-t.y.min}function hF(t,e,i=1e-10){return uF(t.min,e.min,i)&&uF(t.max,e.max,i)}function Km(t,e,i){return hF(t.x,e.x,i)&&hF(t.y,e.y,i)}function Cs(t){var e,i,n,s;return{x:{min:((e=t==null?void 0:t.x)==null?void 0:e.min)??Ue.min,max:((i=t==null?void 0:t.x)==null?void 0:i.max)??Ue.max},y:{min:((n=t==null?void 0:t.y)==null?void 0:n.min)??Ue.min,max:((s=t==null?void 0:t.y)==null?void 0:s.max)??Ue.max}}}function Sc(t,e,i){if(!t)return{x:0,y:0};const n=iS(e-t.x,0,t.x+t.width),s=iS(i-t.y,0,t.y+t.height),a=1/t.width*n,o=1-1/t.height*s;return{x:iS(a),y:iS(o)}}function jd(t,e,i){return{x:{min:t.x.min+e,max:t.x.max+e},y:{min:t.y.min+i,max:t.y.max+i}}}function G$(t,e,i){return{x:{min:t.x.min,max:t.x.min+ls(t)*e},y:{min:t.y.min,max:t.y.min+Bo(t)*i}}}function dF(t,e,i){const n=ls(t),s=Bo(t),a=t.x.min+n/2,o=t.y.min+s/2;return{x:{min:a-n*e/2,max:a+n*e/2},y:{min:o-s*i/2,max:o+s*i/2}}}function ur(t,e,i,n){const{min:s,max:a}=e,o=s+(a-s)/2,r=t.max-t.min;switch(i){case"start":return{min:s,max:e.min+r};case"end":return{min:e.max-r,max:a};case"middle":return{min:o-r/2,max:o+r/2};case"pointer":return qmt(t,e,n??o);default:return{min:s,max:a}}}function qmt(t,e,i){const n=t.max-t.min,s=e.max-e.min,a=i*(1-(s-n)),o=i-a,r=t.min+o,l=t.max+o;return{min:r,max:l}}function Qmt(t,e,i){return{x:{min:t.x.min*e,max:t.x.max*e},y:{min:t.y.min*i,max:t.y.max*i}}}function jo(t){return{x:vM(t.x),y:vM(t.y)}}function vM(t){const e=t.max-t.min;let i=t.max>Ue.max?Ue.max-e:t.min,n=t.min<Ue.min?e:t.max;return i=Math.max(Ue.min,i),n=Math.min(Ue.max,n),{min:i,max:n}}var Jmt=class{update(t,e,i,n,s,a){return this.oldZoom??(this.oldZoom=Cs(e===z.ChartAxisDirection.X?{...s,x:a}:{...s,y:a})),this.updateCoords(t.currentX,t.currentY),this.updateZoom(e,i,n)}stop(){this.coords=void 0,this.oldZoom=void 0}updateCoords(t,e){this.coords?(this.coords.x2=t,this.coords.y2=e):this.coords={x1:t,y1:e,x2:t,y2:e}}updateZoom(t,e,i){const{coords:n,oldZoom:s}=this;let a=Cs(s);if(!n||!s)return t===z.ChartAxisDirection.X?a.x:a.y;const o=Sc(i,n.x1,n.y1),r=Sc(i,n.x2,n.y2);if(t===z.ChartAxisDirection.X){const c=(r.x-o.x)*ls(s);return a.x.max+=c,a.x=ur(a.x,s.x,e,o.x),a=jo(a),a.x}const l=(r.y-o.y)*Bo(s);return a.y.max-=l,a.y=ur(a.y,s.y,e,o.y),a=jo(a),a.y}},txt="zoom-action",ext="pan-action",ixt=class{constructor(t,e,i,n,s,a){this.contextMenuRegistry=t,this.zoomManager=e,this.getModuleProperties=i,this.getRect=n,this.updateZoom=s,this.isZoomValid=a}registerActions(t){if(!t)return;const{contextMenuRegistry:e}=this,i=e.registerDefaultAction({id:txt,type:"series-area",label:"contextMenuZoomToCursor",action:this.onZoomToHere.bind(this),toggleEnabledOnShow:s=>{const a=this.getRect();if(!a)return!0;const o=Sc(a,s.x,s.y);return this.iterateFindNextZoomAtPoint(o)!=null}}),n=e.registerDefaultAction({id:ext,type:"series-area",label:"contextMenuPanToCursor",action:this.onPanToHere.bind(this),toggleEnabledOnShow:()=>!Km(Cs(this.zoomManager.getZoom()),lw())});return()=>{i(),n()}}computeOrigin(t){const e=this.getRect(),{enabled:i}=this.getModuleProperties();if(!i||!e||!(t!=null&&t.target)||!(t instanceof MouseEvent))return;const n={x:0,y:0,width:e.width,height:e.height};return Sc(n,t.offsetX,t.offsetY)}onZoomToHere({event:t}){const e=this.computeOrigin(t);if(!e)return;const i=this.iterateFindNextZoomAtPoint(e);i!=null&&this.updateZoom(i)}onPanToHere({event:t}){const e=this.computeOrigin(t);if(!e)return;const i=Cs(this.zoomManager.getZoom()),n=ls(i),s=Bo(i),a=e.x*n,o=e.y*s,r=(Ue.max-Ue.min)/2;let l={x:{min:e.x-r,max:e.x+r},y:{min:e.y-r,max:e.y+r}};l=dF(l,n,s),l=jd(l,i.x.min-e.x+a,i.y.min-e.y+o),this.updateZoom(jo(l))}iterateFindNextZoomAtPoint(t){const{scrollingStep:e}=this.getModuleProperties();for(let i=e;i<=1-e;i+=e){const n=this.getNextZoomAtPoint(t,i);if(this.isZoomValid(n))return n}}getNextZoomAtPoint(t,e){const{isScalingX:i,isScalingY:n}=this.getModuleProperties(),s=Cs(this.zoomManager.getZoom()),a=t.x*ls(s),o=t.y*Bo(s),r=Ue.max-Ue.min,l=r/2;let c={x:{min:t.x-l,max:t.x+l},y:{min:t.y-l,max:t.y+l}};return c=dF(c,i?ls(s)*e:r,n?Bo(s)*e:r),c=jd(c,s.x.min-t.x+a,s.y.min-t.y+o),jo(c)}},{BBoxValues:nxt}=z,sxt=class{constructor(t){this.axesHandlers=t,this.axes=[]}initAxis(t,e,i,n){const{X:s,Y:a}=z.ChartAxisDirection,o={[s]:"ew-resize",[a]:"ns-resize"}[n],l=t.proxyInteractionService.createProxyElement({type:"region",domManagerId:e,where:"afterend"});return l.setCursor(o),l.addListener("drag-start",c=>{c.device==="touch"&&c.sourceEvent.preventDefault(),i.onDragStart(e,n)}),l.addListener("drag-move",c=>i.onDrag(c)),l.addListener("drag-end",i.onDragEnd),l.addListener("dblclick",()=>i.onDoubleClick(e,n)),{axisId:e,div:l}}destroy(){this.axes.forEach(t=>t.div.destroy())}update(t,e){if(this.axes.forEach(r=>r.div.setHidden(!t)),!t)return;const{X:i,Y:n}=z.ChartAxisDirection,s=[...e.axisManager.getAxisContext(i),...e.axisManager.getAxisContext(n)],{removed:a,added:o}=this.diffAxisIds(s);a.length>0&&(this.axes=this.axes.filter(r=>a.includes(r.axisId)?(r.div.destroy(),!1):!0));for(const r of o){const{axisId:l,direction:c}=r;this.axes.push(this.initAxis(e,l,this.axesHandlers,c))}for(const r of this.axes){const c=s.filter(h=>h.axisId===r.axisId)[0].getCanvasBounds();r.div.setHidden(nxt.isEmpty(c)),c!==void 0&&r.div.setBounds(c)}}diffAxisIds(t){const e=this.axes.map(a=>a.axisId),i=t.map(a=>a.axisId),n=e.filter(a=>!i.includes(a)),s=t.filter(a=>!e.includes(a.axisId));return{removed:n,added:s}}},pF=16,axt={off:1,short:.01,long:.002},oxt=class{constructor(){this.deceleration=1,this.zoomCoordsHistoryIndex=0,this.coordsHistory=[]}get decelerationValue(){const{deceleration:t}=this;return Math.max(typeof t=="number"?t:axt[t]??1,1e-4)}addListener(t,e){return this.onUpdate=e,()=>{this.onUpdate=void 0}}stopInteractions(){this.inertiaHandle!=null&&(cancelAnimationFrame(this.inertiaHandle),this.inertiaHandle=void 0)}update(t){var a;this.updateCoords(t.currentX,t.currentY);const{x1:e=0,y1:i=0,x2:n=0,y2:s=0}=this.coords??{};(a=this.onUpdate)==null||a.call(this,{type:"update",deltaX:e-n,deltaY:i-s})}start(){this.coordsMonitorTimeout=setInterval(this.recordCurrentZoomCoords.bind(this),16)}stop(){const{coordsHistory:t}=this;let e=0,i=0,n=0;if(t.length>0){const s=this.zoomCoordsHistoryIndex%pF;let a=s-1;a<0&&(a=t.length-1);let o=s;o>=t.length&&(o=0);const r=t[a],l=t[o];e=r.x-l.x,i=r.y-l.y,n=r.t-l.t}if(this.coords=void 0,clearInterval(this.coordsMonitorTimeout),this.coordsMonitorTimeout=void 0,this.zoomCoordsHistoryIndex=0,this.coordsHistory.length=0,n>0&&this.decelerationValue<1){const s=e/n,a=i/n,o=Math.hypot(s,a),r=Math.atan2(a,s),l=performance.now();this.inertiaHandle=z.getWindow().requestAnimationFrame(c=>{this.animateInertia(c,c,l,o,r)})}}recordCurrentZoomCoords(){const{coords:t,coordsHistory:e,zoomCoordsHistoryIndex:i}=this;if(!t)return;const{x2:n,y2:s}=t,a=Date.now();e[i%pF]={x:n,y:s,t:a},this.zoomCoordsHistoryIndex+=1}animateInertia(t,e,i,n,s){var c;const a=1-this.decelerationValue,o=-n/Math.log(a),r=n*(a**(e-i)-1)/Math.log(a),l=n*(a**(t-i)-1)/Math.log(a);(c=this.onUpdate)==null||c.call(this,{type:"update",deltaX:-Math.cos(s)*(l-r),deltaY:-Math.sin(s)*(l-r)}),!(l>=o-1)&&(this.inertiaHandle=requestAnimationFrame(h=>{this.animateInertia(h,t,i,n,s)}))}updateCoords(t,e){this.coords?this.coords={x1:this.coords.x2,y1:this.coords.y2,x2:t,y2:e}:this.coords={x1:t,y1:e,x2:t,y2:e}}translateZooms(t,e,i,n){const s=Sc(t,t.x+Math.abs(i),t.y+t.height-Math.abs(n)),a=Math.sign(i)*s.x,o=-Math.sign(n)*s.y,r={};for(const[l,{direction:c,zoom:h}]of Object.entries(e)){if(h&&h.min===Ue.min&&h.max===Ue.max)continue;let p=Cs({[c]:h});p=jo(jd(p,a*ls(p),o*Bo(p))),r[l]={direction:c,zoom:p[c]}}return r}},rxt=200,lxt=class{update(t,e,i,n){const s=t.deltaX*e*rxt;return this.translateZooms(i,n,s)}translateZooms(t,e,i){const n={},s=Sc(t,t.x+Math.abs(i),0),a=i<0?-s.x:s.x;for(const[o,{direction:r,zoom:l}]of Object.entries(e)){if(r!==z.ChartAxisDirection.X)continue;let c=Cs({x:l});c=jo(jd(c,a*ls(c),0)),n[o]={direction:r,zoom:c.x}}return n}},cxt=class{updateAxes(t,e,i,n){const s=t.sourceEvent,a={},{anchorPointX:o,anchorPointY:r,isScalingX:l,isScalingY:c,scrollingStep:h}=e,p=Sc(i,s.offsetX??s.clientX,s.offsetY??s.clientY);for(const[f,{direction:y,zoom:m}]of Object.entries(n)){if(m==null)continue;let b={...m};const v=h*t.deltaY*(m.max-m.min);if(y===z.ChartAxisDirection.X&&l)b.max+=v,b=ur(b,m,o,p.x);else if(y===z.ChartAxisDirection.Y&&c)b.max+=v,b=ur(b,m,r,p.y);else continue;a[f]={direction:y,zoom:vM(b)}}return a}update(t,e,i,n){const{anchorPointX:s,anchorPointY:a,isScalingX:o,isScalingY:r,scrollingStep:l}=e,c=t.offsetX+i.x,h=t.offsetY+i.y,p=Sc(i,c,h),f=t.deltaY;let y=Cs(n);return y.x.max+=o?l*f*ls(n):0,y.y.max+=r?l*f*Bo(n):0,o&&(y.x=ur(y.x,n.x,s,p.x)),r&&(y.y=ur(y.y,n.y,a,p.y)),y=jo(y),y}updateDelta(t,e,i){const{anchorPointX:n,anchorPointY:s,isScalingX:a,isScalingY:o,scrollingStep:r}=e;let l=Cs(i);return l.x.max+=a?r*-t*ls(i):0,l.y.max+=o?r*-t*Bo(i):0,a&&(l.x=ur(l.x,i.x,n)),o&&(l.y=ur(l.y,i.y,s)),l=jo(l),l}},uxt=class{constructor(t,e,i){this.rect=t,this.getZoom=e,this.isZoomValid=i,this.rect.visible=!1}update(t,e,i){const n=t.currentX+((i==null?void 0:i.x)??0),s=t.currentY+((i==null?void 0:i.y)??0);this.rect.visible=!0,this.updateCoords(n,s,e,i),this.updateRect(i)}stop(t,e,i){let n=Cs();if(!t||!e)return n;this.coords&&(n=this.createZoomFromCoords(e,i));const s=e.width/t.width,a=e.height/t.height;return n=jo(Qmt(n,s,a)),this.reset(),n}reset(){this.coords=void 0,this.rect.visible=!1}didUpdate(){return this.rect.visible&&this.rect.width>0&&this.rect.height>0}updateCoords(t,e,i,n){if(!this.coords){this.coords={x1:t,y1:e,x2:t,y2:e};return}const{coords:s}=this;if(s.x2=t,s.y2=e,!n)return;const{isScalingX:a,isScalingY:o,keepAspectRatio:r}=i,l=this.getNormalisedDimensions();if(r&&a&&o){const c=n.width/n.height;s.y2<s.y1?s.y2=Math.min(s.y1-l.width/c,s.y1):s.y2=Math.max(s.y1+l.width/c,s.y1)}a||(s.x1=n.x,s.x2=n.x+n.width),o||(s.y1=n.y,s.y2=n.y+n.height)}updateRect(t){if(!t)return;const{rect:e}=this,i=this.getNormalisedDimensions(),{width:n,height:s}=i;let{x:a,y:o}=i;a=Math.max(a,t.x),a-=Math.max(0,a+n-(t.x+t.width)),o=Math.max(o,t.y),o-=Math.max(0,o+s-(t.y+t.height)),e.x=a,e.y=o,e.width=n,e.height=s;const r=this.createZoomFromCoords(t,this.getZoom());this.isZoomValid(r)?e.updateValid():e.updateInvalid()}createZoomFromCoords(t,e){const i=Cs(e),n=this.getNormalisedDimensions(),s=Sc(t,n.x,n.y+n.height),a=n.width/t.width,o=n.height/t.height;let r=G$(i,a,o);const l=s.x*ls(i),c=s.y*Bo(i);return r=jd(r,l,c),r=jo(r),r}getNormalisedDimensions(){const{x1:t=0,y1:e=0,x2:i=0,y2:n=0}=this.coords??{},s=t<=i?t:i,a=e<=n?e:n,o=t<=i?i-t:t-i,r=e<=n?n-e:e-n;return{x:s,y:a,width:o,height:r}}},{ARRAY:hxt,BOOLEAN:dxt,STRING:pxt,UNION:V$,ActionOnSet:U$,BaseProperties:fxt,ChartAxisDirection:gxt,NativeWidget:yxt,PropertiesArray:mxt,Toolbar:xxt,ToolbarButtonProperties:bxt,Validate:op,createElement:vxt}=z,cw=class extends bxt{};A([op(V$(["reset","zoom-in","zoom-out","pan-left","pan-right","pan-start","pan-end"]))],cw.prototype,"value");A([op(pxt)],cw.prototype,"section");var Ug=class extends fxt{constructor(t,e,i,n,s,a,o){super(),this.ctx=t,this.getModuleProperties=e,this.getResetZoom=i,this.updateZoom=n,this.updateAxisZoom=s,this.resetZoom=a,this.isZoomValid=o,this.enabled=!1,this.buttons=new mxt(cw),this.visible="hover",this.verticalSpacing=10,this.detectionRange=38,this.destroyFns=[],this.container=new yxt(vxt("div")),this.container.addClass("ag-charts-zoom-buttons"),t.domManager.addChild("canvas-overlay","zoom-buttons",this.container.getElement()),this.toolbar=new xxt(t.localeManager),this.container.addChild(this.toolbar),this.toggleVisibility(this.visible==="always"),this.destroyFns.push(this.toolbar.addToolbarListener("button-pressed",this.onButtonPress.bind(this)),this.toolbar.addToolbarListener("button-focused",this.onButtonFocus.bind(this)),t.widgets.containerWidget.addListener("mousemove",this.onHover.bind(this)),t.widgets.containerWidget.addListener("mouseleave",this.onLeave.bind(this)),t.layoutManager.addListener("layout:complete",this.onLayoutComplete.bind(this)),this.teardown.bind(this))}destroy(){for(const t of this.destroyFns)t()}toggleVisibleZoomed(t){this.visible==="zoomed"&&this.toggleVisibility(!t)}teardown(){this.ctx.domManager.removeChild("canvas-overlay","zoom-buttons"),this.container.destroy()}onLayoutComplete(t){const{buttons:e,container:i}=this,{rect:n}=t.series;this.toolbar.updateButtons(e),this.toggleButtons();const s=i.getBounds().height;i.setBounds({y:n.y+n.height-s})}onHover(t){if(!this.enabled||this.visible!=="hover"||this.toolbar.isHidden())return;const{container:e,detectionRange:i,ctx:{scene:n}}=this,{currentY:s,sourceEvent:{target:a}}=t,o=e.getElement(),r=o.offsetTop-i,l=s>r&&s<n.canvas.element.offsetHeight||a===o;this.toggleVisibility(l)}onLeave(){this.visible==="hover"&&this.toggleVisibility(!1)}toggleVisibility(t,e=!1){const{container:i,toolbar:n,verticalSpacing:s}=this;n.toggleClass("ag-charts-zoom-buttons__toolbar--hidden",!t);const a=n.getElement();a.style.transitionDuration=e?"0s":"",a.style.transform=t?"translateY(0)":`translateY(${i.getBounds().height+s}px)`}toggleButtons(){const t=Cs(this.ctx.zoomManager.getZoom());if(!(this.previousZoom&&Km(this.previousZoom,t))){this.previousZoom=t;for(const[e,i]of this.buttons.entries()){let n=!0;switch(i==null?void 0:i.value){case"pan-start":n=t.x.min>Ue.min;break;case"pan-end":n=t.x.max<Ue.max;break;case"pan-left":n=t.x.min>Ue.min;break;case"pan-right":n=t.x.max<Ue.max;break;case"zoom-out":n=!Km(t,lw());break;case"zoom-in":n=this.isZoomValid(this.getNextZoomStateUnified("zoom-in",t,this.getModuleProperties()));break;case"reset":n=!Km(t,this.getResetZoom());break}this.toolbar.toggleButtonEnabledByIndex(e,n)}}}onButtonPress({button:t}){if(!this.enabled||this.toolbar.isHidden())return;const e=this.getModuleProperties();if(e.independentAxes&&t.value!=="reset"){const i=this.ctx.zoomManager.getAxisZooms();for(const[n,{direction:s,zoom:a}]of Object.entries(i))a!=null&&this.onButtonPressAxis(t,e,n,s,a)}else this.onButtonPressUnified(t,e)}onButtonFocus(t){this.toggleVisibility(!0,!0)}onButtonPressAxis(t,e,i,n,s){const{isScalingX:a,isScalingY:o,scrollingStep:r}=e;let l={...s};const c=s.max-s.min;switch(t.value){case"pan-start":l.max=c,l.min=0;break;case"pan-end":l.min=l.max-c,l.max=Ue.max;break;case"pan-left":l.min-=c*r,l.max-=c*r;break;case"pan-right":l.min+=c*r,l.max+=c*r;break;case"zoom-in":case"zoom-out":{const h=n===gxt.X,p=h&&a||!h&&o;let f=t.value==="zoom-in"?1-r:1+r;p||(f=1);const y=h?this.getAnchorPointX(e):this.getAnchorPointY(e);l.max=l.min+(l.max-l.min)*f,l=ur(l,s,y);break}}this.updateAxisZoom(i,n,vM(l))}onButtonPressUnified(t,e){const{scrollingStep:i}=e,n=Cs(this.ctx.zoomManager.getZoom());let s=Cs(n);switch(t.value){case"reset":this.resetZoom();return;case"pan-start":s.x.max=ls(s),s.x.min=0;break;case"pan-end":s.x.min=Ue.max-ls(s),s.x.max=Ue.max;break;case"pan-left":s=jd(s,-ls(s)*i,0);break;case"pan-right":s=jd(s,ls(s)*i,0);break;case"zoom-in":case"zoom-out":{s=this.getNextZoomStateUnified(t.value,n,e);break}}this.updateZoom(jo(s))}getNextZoomStateUnified(t,e,i){const{isScalingX:n,isScalingY:s,scrollingStep:a}=i,o=t==="zoom-in"?1-a:1+a,r=G$(e,n?o:1,s?o:1);return r.x=ur(r.x,e.x,this.getAnchorPointX(i)),r.y=ur(r.y,e.y,this.getAnchorPointY(i)),r}getAnchorPointX(t){const e=this.anchorPointX??t.anchorPointX;return e==="pointer"?j$:e}getAnchorPointY(t){const e=this.anchorPointY??t.anchorPointY;return e==="pointer"?F$:e}};A([op(dxt),U$({changeValue(t){var e;(e=this.toolbar)==null||e.setHidden(!t)}})],Ug.prototype,"enabled");A([op(hxt)],Ug.prototype,"buttons");A([op(V$(["always","zoomed","hover"])),U$({changeValue(t,e){e!=null&&this.toggleVisibility(t==="always")}})],Ug.prototype,"visible");A([op(SD)],Ug.prototype,"anchorPointX");A([op(SD)],Ug.prototype,"anchorPointY");var vd=1e6;function SM({min:t,max:e},i,n,s){return s===0?0:vd*((i-n)/s*(e-t)+t)}function Sxt(t,e,i,n,s,a){[t,e]=[Math.min(t,e),Math.max(t,e)],[i,n]=[Math.min(i,n),Math.max(i,n)];const o=vd*(i-s)/a,r=vd*(n-s)/a,l=(i-s)/(n-s),c=(t-l*e)/(vd-o+l*(r-vd)),h=(e+(r-vd)*c)/r;return{min:c,max:h}}function fF(t,e,i,n){e===0&&(e=30),n===0&&(n=30);const s=t-e,a=t+e,o=i-n,r=i+n;return!(a<o||r<s)}var Mxt=class{constructor(){this.touchStart={origins:[{identifier:0,normalX:NaN,normalY:NaN},{identifier:0,normalX:NaN,normalY:NaN}]},this.initialZoom={x:{min:0,max:1},y:{min:0,max:1}},this.previous={a1:NaN,a2:NaN,b1:NaN,b2:NaN}}start(t,e,i){var m,b,v,S;if(t.sourceEvent.targetTouches.length!==2)return!1;t.sourceEvent.preventDefault();const n=Array.from(t.sourceEvent.targetTouches),{x:s,y:a,width:o,height:r}=e.getBoundingClientRect();this.initialZoom.x.min=((m=i.x)==null?void 0:m.min)??0,this.initialZoom.x.max=((b=i.x)==null?void 0:b.max)??1,this.initialZoom.y.min=((v=i.y)==null?void 0:v.min)??0,this.initialZoom.y.max=((S=i.y)==null?void 0:S.max)??1,this.touchStart.origins.forEach(D=>D.identifier=0),this.previous.a1=NaN,this.previous.a2=NaN,this.previous.b1=NaN,this.previous.b2=NaN;for(const D of[0,1]){const I=n[D].clientX,T=a+r-n[D].clientY;this.touchStart.origins[D].identifier=n[D].identifier,this.touchStart.origins[D].normalX=SM(this.initialZoom.x,I,s,o),this.touchStart.origins[D].normalY=SM(this.initialZoom.y,T,a,r)}const[l,c]=n,[h,p]=this.touchStart.origins,f=fF(l.clientX,l.radiusX,c.clientX,c.radiusX);return fF(l.clientY,l.radiusY,c.clientY,c.radiusY)&&(h.normalY=p.normalY=(h.normalY+p.normalY)/2),f&&(h.normalX=p.normalX=(h.normalX+p.normalX)/2),!0}update(t,e){t.sourceEvent.preventDefault();const i=Array.from(t.sourceEvent.targetTouches),{x:n,y:s,width:a,height:o}=e.getBoundingClientRect(),{origins:r}=this.touchStart,l=[0,1].map(S=>i.find(D=>D.identifier===r[S].identifier)),c=r[0].normalX,h=r[1].normalX,p=l[0].clientX,f=l[1].clientX,y=r[0].normalY,m=r[1].normalY,b=s+o-l[0].clientY,v=s+o-l[1].clientY;return this.twitchTolerantZoomPan4(c,h,p,f,y,m,b,v,n,s,a,o)}end(t){const e=Array.from(t.sourceEvent.targetTouches).map(i=>i.identifier);return!e.includes(this.touchStart.origins[0].identifier)||!e.includes(this.touchStart.origins[1].identifier)}twitchTolerantZoomPan4(t,e,i,n,s,a,o,r,l,c,h,p){const{initialZoom:f,previous:y}=this,m=gF(t,e,i,n,y,"a1","a2",l,h,f.x),b=gF(s,a,o,r,y,"b1","b2",c,p,f.y);return{x:m,y:b}}};function gF(t,e,i,n,s,a,o,r,l,c){if(t!=e){const h=s[a],p=s[o];return Math.abs(i-h)+Math.abs(n-p)<=1?(i=h,n=p):(s[a]=i,s[o]=n),Sxt(t,e,i,n,r,l)}else{const h=SM(c,i,r,l),p=SM(c,n,r,l),f=(h+p)/2,y=(t-f)/vd;return{min:c.min+y,max:c.max+y}}}var{BOOLEAN:Ml,NUMBER:H$,POSITIVE_NUMBER:Axt,RATIO:uw,UNION:hw,OBJECT:W$,OR:Dxt,ActionOnSet:MD,ChartAxisDirection:xm,ChartUpdateType:yF,Deprecated:Y$,Validate:Bi,InteractionState:nS,ProxyProperty:Ixt,round:Txt}=z,sS=t=>Txt(t,10),mF="zoom-cursor",k1="zoom-tooltip",dw=class extends z.BaseProperties{constructor(t){super(),this.onChange=t,this.enabled=!1,this.padding=0}};A([Bi(Ml),MD({changeValue(t){this.onChange({enabled:t,padding:this.padding})}})],dw.prototype,"enabled");A([Bi(uw),MD({changeValue(t){this.onChange({enabled:this.enabled,padding:t})}})],dw.prototype,"padding");var tn=class extends z.BaseModuleInstance{constructor(t){super(),this.ctx=t,this.enabled=!1,this.enableAxisDragging=!0,this.enableDoubleClickToReset=!0,this.enablePanning=!0,this.enableScrolling=!0,this.enableSelecting=!1,this.enableTwoFingerZoom=!0,this.panKey="alt",this.axes="x",this.scrollingStep=(Ue.max-Ue.min)/10,this.keepAspectRatio=!1,this.minVisibleItems=2,this.anchorPointX=j$,this.anchorPointY=F$,this.autoScaling=new dw(i=>{this.ctx.zoomManager.setAutoScaleYAxis(i.enabled,i.padding)}),this.buttons=new Ug(this.ctx,this.getModuleProperties.bind(this),this.getResetZoom.bind(this),this.updateZoom.bind(this),this.updateAxisZoom.bind(this),this.resetZoom.bind(this),this.isZoomValid.bind(this)),this.axisDragger=new Jmt,this.panner=new oxt,this.scroller=new cxt,this.scrollPanner=new lxt,this.twoFingers=new Mxt,this.deceleration="short",this.dragState=0,this.isState=i=>this.ctx.interactionManager.isState(i),this.destroyContextMenuActions=void 0,this.isFirstWheelEvent=!0,this.debouncedWheelReset=Bht(()=>{this.isFirstWheelEvent=!0},100);const e=new vD;this.selector=new uxt(e,this.getZoom.bind(this),this.isZoomValid.bind(this)),this.contextMenu=new ixt(t.contextMenuRegistry,t.zoomManager,this.getModuleProperties.bind(this),()=>this.paddedRect,this.updateZoom.bind(this),this.isZoomValid.bind(this)),this.domProxy=new sxt({onDragStart:(i,n)=>this.onAxisDragStart(i,n),onDrag:i=>{this.onDragMove({...i,currentX:i.offsetX,currentY:i.offsetY})},onDragEnd:()=>this.onDragEnd(),onDoubleClick:(i,n)=>{this.hoveredAxis={id:i,direction:n},this.onDoubleClick(),this.hoveredAxis=void 0}}),this.destroyFns.push(t.scene.attachNode(e),t.chartEventManager.addListener("series-keynav-zoom",i=>this.onNavZoom(i)),t.widgets.seriesDragInterpreter.addListener("dblclick",i=>this.onDoubleClick(i)),t.widgets.seriesDragInterpreter.addListener("drag-move",i=>this.onDragMove(i)),t.widgets.seriesDragInterpreter.addListener("drag-start",i=>this.onDragStart(i)),t.widgets.seriesDragInterpreter.addListener("drag-end",()=>this.onDragEnd()),t.widgets.seriesWidget.addListener("wheel",i=>this.onWheel(i)),t.widgets.seriesWidget.addListener("touchstart",(i,n)=>this.onTouchStart(i,n)),t.widgets.seriesWidget.addListener("touchmove",(i,n)=>this.onTouchMove(i,n)),t.widgets.seriesWidget.addListener("touchend",i=>this.onTouchEnd(i)),t.widgets.seriesWidget.addListener("touchcancel",i=>this.onTouchEnd(i)),t.updateService.addListener("process-data",i=>this.onProcessData(i)),t.layoutManager.addListener("layout:complete",i=>this.onLayoutComplete(i)),t.zoomManager.addListener("zoom-change",i=>this.onZoomChange(i)),t.zoomManager.addListener("zoom-pan-start",i=>this.onZoomPanStart(i)),this.panner.addListener("update",i=>this.onPanUpdate(i)),()=>this.teardown())}teardown(){var t;this.ctx.zoomManager.setZoomModuleEnabled(!1),this.buttons.destroy(),(t=this.destroyContextMenuActions)==null||t.call(this)}onEnabledChange(t){var e;this.ctx.zoomManager.setZoomModuleEnabled(t),this.contextMenu&&((e=this.destroyContextMenuActions)==null||e.call(this),this.destroyContextMenuActions=this.contextMenu.registerActions(t))}isIgnoredTouch(t){if(this.ctx.chartService.touch.dragAction!=="drag")return!0;if((t==null?void 0:t.device)!=="touch"||this.enableSelecting)return!1;if(!this.enablePanning)return!0;const{x:e,y:i}=this.getZoom();return e.min===0&&e.max===1&&i.min===0&&i.max===1}onDoubleClick(t){const{enabled:e,enableDoubleClickToReset:i,hoveredAxis:n,ctx:{zoomManager:s}}=this;!e||!i||!this.isState(nS.ZoomClickable)||(n?s.resetAxisZoom("zoom",n.id):t!=null&&t.preventZoomDblClick||this.resetZoom())}onDragStart(t){const{enabled:e,enableAxisDragging:i,enablePanning:n,enableSelecting:s,hoveredAxis:a,ctx:{domManager:o,zoomManager:r}}=this;if(!e||!this.hoveredAxis&&(!this.isState(nS.ZoomDraggable)||this.dragState!==0||this.isIgnoredTouch(t)))return;this.panner.stopInteractions();let l=0;if(i&&a)l=1;else if(t!=null){const c=this.isPanningKeyPressed(t.sourceEvent);n&&(!s||c)?(o.updateCursor(mF,"grabbing"),l=2,this.panner.start()):s&&!c&&(l=3)}(this.dragState=l)!==0&&r.fireZoomPanStartEvent("zoom")}onDragMove(t){const{anchorPointX:e,anchorPointY:i,axisDragger:n,dragState:s,enabled:a,paddedRect:o,panner:r,selector:l,seriesRect:c,shouldFlipXY:h,hoveredAxis:p,ctx:{interactionManager:f,tooltipManager:y,updateService:m,zoomManager:b}}=this;if(!a||!o||!c||!p&&(!this.isState(nS.ZoomDraggable)||this.isIgnoredTouch(t)))return;f.pushState(z.InteractionState.ZoomDrag),t.device==="touch"&&t.sourceEvent.preventDefault();const v=this.getZoom();switch(s){case 1:{if(!p)break;const{id:S,direction:D}=p;let I=D===xm.X?e:i;h&&(I=D===xm.X?i:e);const T=b.getAxisZoom(S),k=n.update(t,D,I,c,v,T);b.setAxisManuallyAdjusted("zoom",S),this.updateAxisZoom(S,D,k);break}case 2:r.update(t);break;case 3:l.update(t,this.getModuleProperties(),o);break;case 0:return}y.updateTooltip(k1),m.update(yF.PERFORM_LAYOUT,{skipAnimations:!0})}onDragEnd(){const{axisDragger:t,dragState:e,enabled:i,panner:n,selector:s,ctx:{domManager:a,interactionManager:o,tooltipManager:r}}=this;if(o.popState(z.InteractionState.ZoomDrag),!(!i||e===0)){switch(e){case 1:this.hoveredAxis=void 0,t.stop();break;case 2:n.stop();break;case 3:{if(!s.didUpdate())break;const l=this.getZoom(),c=s.stop(this.seriesRect,this.paddedRect,l);this.updateZoom(c);break}}this.dragState=0,a.updateCursor(mF),r.removeTooltip(k1)}}onNavZoom(t){const{enabled:e,enableScrolling:i,scroller:n}=this;!this.ctx.interactionManager.isState(z.InteractionState.Default)||!e||!i||(t.widgetEvent.sourceEvent.preventDefault(),this.updateZoom(n.updateDelta(t.delta,this.getModuleProperties(),this.getZoom())))}onWheel(t){const{enabled:e,enablePanning:i,enableScrolling:n,paddedRect:s}=this;if(!e||!n||!s||!this.isState(nS.ZoomWheelable))return;const{deltaX:a,deltaY:o}=t.sourceEvent,r=a!=null&&o!=null&&Math.abs(a)>Math.abs(o);i&&r?this.onWheelPanning(t):this.onWheelScrolling(t)}onWheelPanning(t){const{scrollingStep:e,scrollPanner:i,seriesRect:n,ctx:{zoomManager:s}}=this;if(!n)return;t.sourceEvent.preventDefault();const a=i.update(t,e,n,s.getAxisZooms());for(const[o,{direction:r,zoom:l}]of Object.entries(a))this.updateAxisZoom(o,r,l)}onWheelScrolling(t){const{enableAxisDragging:e,enableIndependentAxes:i,hoveredAxis:n,scroller:s,seriesRect:a,ctx:{zoomManager:o}}=this;if(!a)return;const r=this.getZoom();let l=t.deltaY>0&&this.isMaxZoom(r);const c=e&&n!=null;let h=this.isScalingX(),p=this.isScalingY();c&&(h=n.direction===z.ChartAxisDirection.X,p=!h);const f=this.getModuleProperties({isScalingX:h,isScalingY:p});let y=!0;if(i===!0){const m=s.updateAxes(t,f,a,o.getAxisZooms());for(const[b,{direction:v,zoom:S}]of Object.entries(m))c&&n.id!==b||y&&(y=this.updateAxisZoom(b,v,S))}else{const m=s.update(t,f,a,this.getZoom());y=this.updateUnifiedZoom(m)}l||(l=t.deltaY<0&&!y),(!this.isFirstWheelEvent||!l)&&t.sourceEvent.preventDefault(),this.isFirstWheelEvent=!1,this.debouncedWheelReset()}onAxisDragStart(t,e){this.hoveredAxis={id:t,direction:e},this.onDragStart(void 0)}onTouchStart(t,e){!this.enableTwoFingerZoom||this.dragState!==0||this.twoFingers.start(t,e,this.getZoom())&&(this.dragState=4)}onTouchMove(t,e){if(!this.enableTwoFingerZoom||this.dragState!==4)return;const i=this.twoFingers.update(t,e);this.updateZoom(jo(i))}onTouchEnd(t){!this.enableTwoFingerZoom||this.dragState!==4||(t.sourceEvent.preventDefault(),this.twoFingers.end(t)&&(this.dragState=0))}onProcessData(t){this.shouldFlipXY=t.series.shouldFlipXY}onLayoutComplete(t){this.domProxy.update(this.enableAxisDragging,this.ctx);const{enabled:e}=this;if(!e)return;const{series:{rect:i,paddedRect:n}}=t;this.seriesRect=i,this.paddedRect=n}onZoomChange(t){t.callerId!=="zoom"&&this.panner.stopInteractions();const e=this.getZoom();this.buttons.toggleVisibleZoomed(this.isMaxZoom(e))}onZoomPanStart(t){t.callerId==="zoom"&&this.panner.stopInteractions()}onPanUpdate(t){const{panner:e,seriesRect:i,ctx:{tooltipManager:n,zoomManager:s}}=this;if(!i)return;const a=e.translateZooms(i,s.getAxisZooms(),t.deltaX,t.deltaY);for(const[o,{direction:r,zoom:l}]of Object.entries(a))this.updateAxisZoom(o,r,l);n.updateTooltip(k1)}isPanningKeyPressed(t){switch(this.panKey){case"alt":return t.altKey;case"ctrl":return t.ctrlKey;case"shift":return t.shiftKey;case"meta":return t.metaKey}}isScalingX(){return this.axes==="xy"?!0:this.shouldFlipXY?this.axes==="y":this.axes==="x"}isScalingY(){return this.axes==="xy"?!0:this.shouldFlipXY?this.axes==="x":this.axes==="y"}getAnchorPointX(){return this.shouldFlipXY?this.anchorPointY:this.anchorPointX}getAnchorPointY(){return this.shouldFlipXY?this.anchorPointX:this.anchorPointY}isMaxZoom(t){return Km(t,lw())}isZoomValid(t){const{minVisibleItems:e,minVisibleItemsX:i,minVisibleItemsY:n,ctx:{zoomManager:s}}=this;if(e===0)return!0;const a=this.getZoom(),o=sS(ls(t))<sS(ls(a)),r=sS(Bo(t))<sS(Bo(a));return!o&&!r?!0:i!=null&&o?s.isVisibleItemsCountAtLeast(t,i):n!=null&&r?s.isVisibleItemsCountAtLeast(t,n):s.isVisibleItemsCountAtLeast(t,e)}isAxisZoomValid(t,e){const{minVisibleItems:i,minVisibleItemsX:n,minVisibleItemsY:s,ctx:{zoomManager:a}}=this,o=this.getZoom(),r=e.max-e.min,l=o[t].max-o[t].min,c={...o,[t]:e},h=t===xm.X?n:s;return r>=l||a.isVisibleItemsCountAtLeast(c,h??i)}resetZoom(){this.ctx.zoomManager.resetZoom("zoom")}updateZoom(t){this.enableIndependentAxes?this.updatePrimaryAxisZooms(t):this.updateUnifiedZoom(t)}updateUnifiedZoom(t){return this.isZoomValid(t)?(this.ctx.zoomManager.updateZoom("zoom",t),!0):(this.ctx.updateService.update(yF.SCENE_RENDER,{skipAnimations:!0}),!1)}updatePrimaryAxisZooms(t){this.updatePrimaryAxisZoom(t,xm.X),this.updatePrimaryAxisZoom(t,xm.Y)}updatePrimaryAxisZoom(t,e){const i=this.ctx.zoomManager.getPrimaryAxisId(e);i!=null&&this.updateAxisZoom(i,e,t[e])}updateAxisZoom(t,e,i){const{enableIndependentAxes:n,ctx:{zoomManager:s}}=this;if(!i)return!1;const a=this.getZoom();return n!==!0?(a[e]=i,this.updateUnifiedZoom(a)):this.isAxisZoomValid(e,i)?(s.updateAxisZoom("zoom",t,i),!0):!1}getZoom(){return Cs(this.ctx.zoomManager.getZoom())}getResetZoom(){return Cs(this.ctx.zoomManager.getRestoredZoom())}getModuleProperties(t){return{anchorPointX:(t==null?void 0:t.anchorPointX)??this.getAnchorPointX(),anchorPointY:(t==null?void 0:t.anchorPointY)??this.getAnchorPointY(),enabled:(t==null?void 0:t.enabled)??this.enabled,independentAxes:(t==null?void 0:t.independentAxes)??this.enableIndependentAxes===!0,isScalingX:(t==null?void 0:t.isScalingX)??this.isScalingX(),isScalingY:(t==null?void 0:t.isScalingY)??this.isScalingY(),keepAspectRatio:(t==null?void 0:t.keepAspectRatio)??this.keepAspectRatio,scrollingStep:(t==null?void 0:t.scrollingStep)??this.scrollingStep}}};A([MD({newValue(t){this.onEnabledChange(t)}}),Bi(Ml)],tn.prototype,"enabled");A([Bi(Ml)],tn.prototype,"enableAxisDragging");A([Bi(Ml)],tn.prototype,"enableDoubleClickToReset");A([MD({changeValue(t){this.ctx.zoomManager.setIndependentAxes(!!t)}}),Bi(Ml,{optional:!0})],tn.prototype,"enableIndependentAxes");A([Bi(Ml)],tn.prototype,"enablePanning");A([Bi(Ml)],tn.prototype,"enableScrolling");A([Bi(Ml)],tn.prototype,"enableSelecting");A([Bi(Ml)],tn.prototype,"enableTwoFingerZoom");A([Bi(hw(["alt","ctrl","meta","shift"],"a pan key"))],tn.prototype,"panKey");A([Bi(hw(["x","y","xy"],"an axis"))],tn.prototype,"axes");A([Bi(uw)],tn.prototype,"scrollingStep");A([Bi(Ml)],tn.prototype,"keepAspectRatio");A([Bi(Axt)],tn.prototype,"minVisibleItems");A([Y$("Use [minVisibleItems] instead."),Bi(H$.restrict({min:1}))],tn.prototype,"minVisibleItemsX");A([Y$("Use [minVisibleItems] instead."),Bi(H$.restrict({min:1}))],tn.prototype,"minVisibleItemsY");A([Bi(SD)],tn.prototype,"anchorPointX");A([Bi(SD)],tn.prototype,"anchorPointY");A([Bi(W$)],tn.prototype,"autoScaling");A([Bi(W$)],tn.prototype,"buttons");A([Ixt("panner.deceleration"),Bi(Dxt(uw,hw(["off","short","long"],"a deceleration")))],tn.prototype,"deceleration");var Cxt={enabled:!0,visible:"hover",buttons:[{icon:"zoom-out",tooltip:"toolbarZoomZoomOut",value:"zoom-out",section:"scale"},{icon:"zoom-in",tooltip:"toolbarZoomZoomIn",value:"zoom-in",section:"scale"},{icon:"pan-left",tooltip:"toolbarZoomPanLeft",value:"pan-left",section:"pan"},{icon:"pan-right",tooltip:"toolbarZoomPanRight",value:"pan-right",section:"pan"},{icon:"reset",tooltip:"toolbarZoomReset",value:"reset",section:"reset"}]},kxt={type:"root",optionsKey:"zoom",packageType:"enterprise",chartTypes:["cartesian","topology"],moduleFactory:t=>new tn(t),themeTemplate:{zoom:{anchorPointX:"end",anchorPointY:"middle",axes:"x",buttons:Cxt,enabled:!1,enableAxisDragging:!0,enableDoubleClickToReset:!0,enablePanning:!0,enableScrolling:!0,enableSelecting:!1,enableTwoFingerZoom:!0,deceleration:"short",minVisibleItems:2,panKey:"alt",scrollingStep:.1,autoScaling:{enabled:!1,padding:.05}}}},{BOOLEAN:$$,OBJECT:Lxt,POSITION:Nxt,POSITIVE_NUMBER:pw,BaseProperties:Ext,AxisTicks:Oxt,ZIndexMap:wxt,ProxyProperty:fw,Validate:rp,LayoutElement:Rxt,createId:Pxt,Group:Bxt,Rect:zxt,Marker:_xt,TranslatableGroup:jxt,LinearGradient:Fxt}=z,gw=class extends Ext{constructor(){super(...arguments),this.thickness=16,this.preferredLength=100}};A([rp(pw)],gw.prototype,"thickness");A([rp(pw)],gw.prototype,"preferredLength");var AD=class{constructor(t){this.axisTicks=t}};A([fw("axisTicks.label")],AD.prototype,"label");A([fw("axisTicks.interval")],AD.prototype,"interval");A([fw("axisTicks.padding")],AD.prototype,"padding");var lp=class{constructor(t){this.ctx=t,this.id=Pxt(this),this.legendGroup=new jxt({name:"legend",zIndex:wxt.LEGEND}),this.gradientRect=new zxt,this.arrow=new _xt({shape:"triangle"}),this.ticksGroup=new Bxt({name:"legend-axis-group"}),this.destroyFns=[],this.enabled=!1,this.position="bottom",this.reverseOrder=!1,this.gradient=new gw,this.spacing=20,this.data=[],this.highlightManager=t.highlightManager,this.axisTicks=new Oxt,this.axisTicks.attachAxis(this.ticksGroup),this.scale=new AD(this.axisTicks),this.legendGroup.append([this.gradientRect,this.arrow,this.ticksGroup]),this.destroyFns.push(t.highlightManager.addListener("highlight-change",()=>this.onChartHoverChange()),t.layoutManager.registerElement(Rxt.Legend,e=>this.onStartLayout(e)),()=>this.legendGroup.remove())}isVertical(){return this.position==="right"||this.position==="left"}destroy(){this.destroyFns.forEach(t=>t())}attachLegend(t){t.appendChild(this.legendGroup)}onStartLayout(t){const[e]=this.data;if(!this.enabled||!(e!=null&&e.enabled)){this.legendGroup.visible=!1;return}const{colorRange:i}=this.normalizeColorArrays(e);this.updateGradientRect(t.layoutBox,i);const n=this.updateAxis(e),{left:s,top:a}=this.getMeasurements(t.layoutBox,n);this.updateArrow(),this.legendGroup.visible=!0,this.legendGroup.translationX=s,this.legendGroup.translationY=a}normalizeColorArrays(t){let e=t.colorDomain.slice();const i=t.colorRange.slice();if(e.length===i.length)return{colorDomain:e,colorRange:i};e.length>i.length&&i.splice(e.length);const[n,s]=e,a=i.length;return e=i.map((o,r)=>r===0?n:r===a-1?s:n+(s-n)*r/(a-1)),{colorDomain:e,colorRange:i}}updateGradientRect(t,e){const{gradientRect:i}=this,{preferredLength:n,thickness:s}=this.gradient;let a;this.isVertical()?(a=0,i.width=s,i.height=Math.min(t.height,n)):(a=90,i.width=Math.min(t.width,n),i.height=s),i.fill=new Fxt("oklch",e.map((o,r)=>({offset:r/(e.length-1),color:o})),a)}updateAxis(t){const{axisTicks:e}=this,i=this.isVertical(),n=this.reverseOrder!==i;return e.position=this.position,e.translationX=i?this.gradient.thickness:0,e.translationY=i?0:this.gradient.thickness,e.scale.domain=n?t.colorDomain.slice().reverse():t.colorDomain,e.scale.range=i?[0,this.gradientRect.height]:[0,this.gradientRect.width],e.calculateLayout()}updateArrow(){const t=this.highlightManager.getActiveHighlight(),{arrow:e}=this;if((t==null?void 0:t.colorValue)==null){e.visible=!1;return}const{scale:i,label:n}=this.axisTicks,s=n.fontSize??0,a=i.convert(t.colorValue);let{x:o,y:r}=this.gradientRect,l=Math.PI;this.isVertical()?(o-=s/2,r+=a,l/=2):(o+=a,r-=s/2),e.visible=!0,e.fill=n.color,e.rotation=l,e.size=s,e.translationX=o,e.translationY=r}getMeasurements(t,e){let{x:i,y:n}=t,{width:s,height:a}=this.gradientRect;switch(this.isVertical()?s+=e.width+5:a+=e.height+5,this.position){case"left":n+=t.height/2-a/2,t.shrink(s+this.spacing,"left");break;case"right":i+=t.width-s,n+=t.height/2-a/2,t.shrink(s+this.spacing,"right");break;case"top":i+=t.width/2-s/2,t.shrink(a+this.spacing,"top");break;case"bottom":i+=t.width/2-s/2,n+=t.height-a,t.shrink(a+this.spacing,"bottom")}return{top:n,left:i}}onChartHoverChange(){this.enabled&&this.updateArrow()}};lp.className="GradientLegend";A([rp($$)],lp.prototype,"enabled");A([rp(Nxt)],lp.prototype,"position");A([rp($$)],lp.prototype,"reverseOrder");A([rp(Lxt)],lp.prototype,"gradient");A([rp(pw)],lp.prototype,"spacing");var Gxt={type:"legend",optionsKey:"gradientLegend",packageType:"enterprise",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],identifier:"gradient",moduleFactory:t=>new lp(t),themeTemplate:{enabled:!1,position:"bottom",spacing:20,scale:{padding:13,label:{color:{$ref:"textColor"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"}},interval:{minSpacing:15}},gradient:{preferredLength:100,thickness:16},reverseOrder:!1},removable:"standalone-only"};function Vxt(t,e){const i=t.addChild("canvas-overlay","watermark"),n=z.createElement("span");n.innerText=e,i.addEventListener("animationend",()=>{t.removeChild("canvas-overlay","watermark"),t.removeStyles("watermark")}),i.classList.add("ag-watermark"),i.appendChild(n)}var{findMinMax:Uxt}=z,os=0,qs=1,ya=2,ma=3,ja=4;function wb(t,e=1){let i=Math.ceil(Math.log2(t.length/e))-1;return i=Math.min(Math.max(i,0),16),2**i|0}function Rb(t){return Uxt(t.map(e=>Number(e)))}function DD(t,e,i){return(t.valueOf()-e)/(i-e)}function ID(t,e){return Math.min(Math.floor(t*e),e-1)*ja|0}function Pb(t,e,i,n,s,a){const o=new Int32Array(a*ja).fill(-1),r=new Float64Array(a*ja).fill(NaN);for(let l=0;l<t.length;l+=1){const c=t[l],h=e[l],p=i[l];if(c==null||h==null||p==null)continue;const f=DD(c,n,s),y=h.valueOf(),m=p.valueOf(),b=ID(f,a),v=o[b+os]===-1;(v||f<r[b+os])&&(o[b+os]=l,r[b+os]=f),(v||f>r[b+qs])&&(o[b+qs]=l,r[b+qs]=f),(v||m<r[b+ya])&&(o[b+ya]=l,r[b+ya]=m),(v||y>r[b+ma])&&(o[b+ma]=l,r[b+ma]=y)}return{indexData:o,valueData:r}}function Bb(t,e,i,{inPlace:n=!1}={}){const s=i/2|0,a=n?t:new Int32Array(s*ja),o=n?e:new Float64Array(s*ja);for(let r=0;r<s;r+=1){const l=r*ja|0,c=l*2|0,h=c+ja|0,p=t[h+os]===-1,f=p||e[c+os]<e[h+os]?c:h;a[l+os]=t[f+os],o[l+os]=e[f+os];const y=p||e[c+qs]>e[h+qs]?c:h;a[l+qs]=t[y+qs],o[l+qs]=e[y+qs];const m=p||e[c+ya]<e[h+ya]?c:h;a[l+ya]=t[m+ya],o[l+ya]=e[m+ya];const b=p||e[c+ma]>e[h+ma]?c:h;a[l+ma]=t[b+ma],o[l+ma]=e[b+ma]}return{maxRange:s,indexData:a,valueData:o}}var xF={xMin:os,xMax:qs,yMin:ya,yMax:ma,span:ja},Hxt=1e3,Wxt=5;function bF(t,e){return Array.from({length:t},(i,n)=>{const s=n*ja,a=e[s+os],o=e[s+qs];return(a+o)/2|0})}function Yxt(t,e,i){if(t.length<Hxt)return;const[n,s]=Rb(i);let a=wb(t,Wxt),{indexData:o,valueData:r}=Pb(t,e,e,n,s,a),l=bF(a,o);const c=[{maxRange:a,indexData:o,indices:l,indexes:xF}];for(;a>64;)({indexData:o,valueData:r,maxRange:a}=Bb(o,r,a)),l=bF(a,o),c.push({maxRange:a,indexData:o,indices:l,indexes:xF});return c.reverse(),c}var{ChartAxisDirection:$xt,ContinuousScale:Kxt,OrdinalTimeScale:Xxt}=z,Zxt=class extends z.BarSeries{aggregateData(t,e){if((e==null?void 0:e.type)!=="ungrouped")return;const i=this.axes[$xt.X];if(i==null||!(Kxt.is(i.scale)||Xxt.is(i.scale)))return;const n=t.resolveKeysById(this,"xValue",e),s=t.resolveColumnById(this,"yValue-raw",e),{index:a}=t.resolveProcessedDataDefById(this,"xValue"),o=e.domain.keys[a];return Yxt(n,s,o)}},{BarSeriesModule:qxt}=z,Qxt={...qxt,type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"bar",moduleFactory:t=>new Zxt(t)};function Jxt(t){return{from:t?{scalingX:1,scalingY:0}:{scalingX:0,scalingY:1},to:{scalingX:1,scalingY:1}}}function tbt(t){return(e,i)=>t?{scalingCenterY:i.scaledValues.medianValue}:{scalingCenterX:i.scaledValues.medianValue}}var{ScalableGroup:ebt,Rect:Sf,Line:bm,BBox:ibt,Selection:vF}=z,nbt=class extends ebt{constructor(){super(),this.append([new Sf({tag:0}),new Sf({tag:0}),new Sf({tag:2}),new Sf({tag:1}),new bm({tag:3}),new bm({tag:3}),new bm({tag:4}),new bm({tag:4})])}updateDatumStyles(t,e,i,n){const{bandwidth:s,scaledValues:{xValue:a,medianValue:o}}=t;let{minValue:r,q1Value:l,q3Value:c,maxValue:h}=t.scaledValues;(i&&!n||!i&&n)&&([h,c,l,r]=[r,l,c,h]);const p=(_,V,Y,J)=>i?{y:_,x:V,width:J,height:Y}:{x:_,y:V,width:Y,height:J},f=(_,V,Y)=>i?{y1:_,y2:V,x:Y}:{x1:_,x2:V,y:Y},y=(_,V,Y)=>i?{x1:V,x2:Y,y:_}:{x:_,y1:V,y2:Y},m=(_,V,Y,J)=>({x:_,y:V,width:Y,height:J}=p(_,V,Y,J),new ibt(_,V,Y,J)),{fill:b,fillOpacity:v,stroke:S,strokeWidth:D,strokeOpacity:I,lineDash:T,lineDashOffset:k,cornerRadius:E,cap:O,whisker:B}=e,R=vF.select(this,Sf),L=R.selectByTag(0),[F]=R.selectByTag(2),[j]=R.selectByTag(1),G=R.selectByTag(3),W=R.selectByTag(4);B.strokeWidth>s&&(B.strokeWidth=s);const Z=p(l,a,c-l,s);F.setProperties(Z),L[0].setProperties(Z),L[0].setProperties({cornerRadius:E,clipBBox:m(l,a,Math.round(o-l+D/2),s)}),L[1].setProperties(Z),L[1].setProperties({cornerRadius:E,clipBBox:m(Math.round(o-D/2),a,Math.floor(c-o+D/2),s)});const U=Math.max(Math.round(o-D/2),l+D),K=Math.min(Math.round(o+D/2),c-D);j.setProperties(Z),j.setProperties({visible:U<K,cornerRadius:E,clipBBox:m(U,a+D,K-U,Math.max(0,s-D*2))});const $=Math.floor(a+s*(1-O.lengthRatio)/2),X=Math.ceil(a+s*(1+O.lengthRatio)/2);W[0].setProperties(y(r,$,X)),W[1].setProperties(y(h,$,X)),G[0].setProperties(f(Math.round(r+B.strokeWidth/2),l,Math.floor(a+s/2))),G[1].setProperties(f(c,Math.round(h-B.strokeWidth/2),Math.floor(a+s/2)));for(const _ of L)_.setProperties({fill:b,fillOpacity:v,strokeWidth:D*2,strokeOpacity:0});j.setProperties({fill:S,fillOpacity:I,strokeWidth:0});for(const _ of[...G,...W])_.setProperties(B);F.setProperties({stroke:S,strokeWidth:D,strokeOpacity:I,lineDash:T,lineDashOffset:k,cornerRadius:E,fillOpacity:0})}distanceSquared(t,e){const i=vF.selectByClass(this,Sf,bm);return z.nearestSquared(t,e,i).distanceSquared}get midPoint(){const t=this.datum;return t.midPoint===void 0?(ve.error("BoxPlotGroup.datum.midPoint is undefined"),{x:NaN,y:NaN}):t.midPoint}},{BaseProperties:K$,AbstractBarSeriesProperties:sbt,SeriesTooltip:abt,Validate:Ne,COLOR_STRING:TD,FUNCTION:obt,LINE_DASH:X$,OBJECT:yw,POSITIVE_NUMBER:zb,RATIO:CD,STRING:Ka,mergeDefaults:rbt}=z,Z$=class extends K${constructor(){super(...arguments),this.lengthRatio=.5}};A([Ne(CD)],Z$.prototype,"lengthRatio");var Hg=class extends K${};A([Ne(TD,{optional:!0})],Hg.prototype,"stroke");A([Ne(zb)],Hg.prototype,"strokeWidth");A([Ne(CD)],Hg.prototype,"strokeOpacity");A([Ne(X$,{optional:!0})],Hg.prototype,"lineDash");A([Ne(zb)],Hg.prototype,"lineDashOffset");var ti=class extends sbt{constructor(){super(...arguments),this.fill="#c16068",this.fillOpacity=1,this.stroke="#333",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.cap=new Z$,this.whisker=new Hg,this.tooltip=new abt,this.backgroundFill="white"}toJson(){const{stroke:t,strokeWidth:e,strokeOpacity:i,lineDash:n,lineDashOffset:s}=this,a=super.toJson();return a.whisker=rbt(a.whisker,{stroke:t,strokeWidth:e,strokeOpacity:i,lineDash:n,lineDashOffset:s}),a}};A([Ne(Ka)],ti.prototype,"xKey");A([Ne(Ka)],ti.prototype,"minKey");A([Ne(Ka)],ti.prototype,"q1Key");A([Ne(Ka)],ti.prototype,"medianKey");A([Ne(Ka)],ti.prototype,"q3Key");A([Ne(Ka)],ti.prototype,"maxKey");A([Ne(Ka,{optional:!0})],ti.prototype,"xName");A([Ne(Ka,{optional:!0})],ti.prototype,"yName");A([Ne(Ka,{optional:!0})],ti.prototype,"minName");A([Ne(Ka,{optional:!0})],ti.prototype,"q1Name");A([Ne(Ka,{optional:!0})],ti.prototype,"medianName");A([Ne(Ka,{optional:!0})],ti.prototype,"q3Name");A([Ne(Ka,{optional:!0})],ti.prototype,"maxName");A([Ne(TD,{optional:!0})],ti.prototype,"fill");A([Ne(CD)],ti.prototype,"fillOpacity");A([Ne(TD)],ti.prototype,"stroke");A([Ne(zb)],ti.prototype,"strokeWidth");A([Ne(CD)],ti.prototype,"strokeOpacity");A([Ne(X$)],ti.prototype,"lineDash");A([Ne(zb)],ti.prototype,"lineDashOffset");A([Ne(zb)],ti.prototype,"cornerRadius");A([Ne(obt,{optional:!0})],ti.prototype,"itemStyler");A([Ne(yw)],ti.prototype,"cap");A([Ne(yw)],ti.prototype,"whisker");A([Ne(yw)],ti.prototype,"tooltip");A([Ne(TD)],ti.prototype,"backgroundFill");var{extractDecoratedProperties:SF,fixNumericExtent:lbt,keyProperty:cbt,mergeDefaults:L1,SeriesNodePickMode:MF,SMALLEST_KEY_INTERVAL:ubt,valueProperty:vm,diff:hbt,animationValidation:dbt,computeBarFocusBounds:pbt,createDatumId:AF,Color:kLt,ContinuousScale:fbt,ChartAxisDirection:DF,motion:IF}=z,gbt=class extends z.SeriesNodeEvent{constructor(t,e,i,n){super(t,e,i,n),this.xKey=n.properties.xKey,this.minKey=n.properties.minKey,this.q1Key=n.properties.q1Key,this.medianKey=n.properties.medianKey,this.q3Key=n.properties.q3Key,this.maxKey=n.properties.maxKey}},mw=class extends z.AbstractBarSeries{constructor(t){super({moduleCtx:t,pickModes:[MF.NEAREST_NODE,MF.EXACT_SHAPE_MATCH],directionKeys:{x:["xKey"],y:["medianKey","q1Key","q3Key","minKey","maxKey"]},directionNames:{x:["xName"],y:["medianName","q1Name","q3Name","minName","maxName"]},pathsPerSeries:[],hasHighlightedLabels:!0}),this.properties=new ti,this.NodeEvent=gbt}async processData(t){var b,v,S;if(!this.properties.isValid()||!this.visible)return;const{xKey:e,minKey:i,q1Key:n,medianKey:s,q3Key:a,maxKey:o}=this.properties,r=!this.ctx.animationManager.isSkipped(),l=(b=this.getCategoryAxis())==null?void 0:b.scale,c=(v=this.getValueAxis())==null?void 0:v.scale,{isContinuousX:h,xScaleType:p,yScaleType:f}=this.getScaleInformation({xScale:l,yScale:c}),y=[];r&&this.processedData&&y.push(hbt(this.id,this.processedData)),r&&y.push(dbt());const{processedData:m}=await this.requestDataModel(t,this.data,{props:[cbt(e,p,{id:"xValue"}),vm(i,f,{id:"minValue"}),vm(n,f,{id:"q1Value"}),vm(s,f,{id:"medianValue"}),vm(a,f,{id:"q3Value"}),vm(o,f,{id:"maxValue"}),...h?[ubt]:[],...y]});this.smallestDataInterval=(S=m.reduced)==null?void 0:S.smallestKeyInterval,this.animationState.transition("updateData")}getSeriesDomain(t){const{processedData:e,dataModel:i}=this;if(!(e&&i))return[];if(t!==this.getBarDirection()){const{index:s,def:a}=i.resolveProcessedDataDefById(this,"xValue"),o=e.domain.keys[s];return a.type==="key"&&a.valueType==="category"?o:this.padBandExtent(o)}const n=this.domainForClippedRange(DF.Y,["minValue","maxValue"],"xValue",!0);return lbt(n)}getSeriesRange(t,e){return this.domainForVisibleRange(DF.Y,["maxValue","minValue"],"xValue",e,!0)}createNodeData(){const{visible:t,dataModel:e,processedData:i}=this,n=this.getCategoryAxis(),s=this.getValueAxis();if(!(e&&i&&n&&s))return;const{xKey:a,fill:o,fillOpacity:r,stroke:l,strokeWidth:c,strokeOpacity:h,lineDash:p,lineDashOffset:f,cap:y,whisker:m}=this.properties,b=[],v=e.resolveKeysById(this,"xValue",i),S=e.resolveColumnById(this,"minValue",i),D=e.resolveColumnById(this,"q1Value",i),I=e.resolveColumnById(this,"medianValue",i),T=e.resolveColumnById(this,"q3Value",i),k=e.resolveColumnById(this,"maxValue",i),{barWidth:E,groupIndex:O}=this.updateGroupScale(n),B=fbt.is(n.scale)?E*-.5:0,{groupScale:R}=this,L=this.isVertical(),F={itemId:a,nodeData:b,labelData:[],scales:this.calculateScaling(),visible:this.visible};return t&&(i.dataSources.get(this.id)??[]).forEach((G,W)=>{const Z=v[W];if(Z==null)return;const U=S[W],K=D[W],$=I[W],X=T[W],_=k[W];if([U,K,$,X,_].some(ct=>typeof ct!="number")||U>K||K>$||$>X||X>_)return;const V={xValue:Math.round(n.scale.convert(Z)),minValue:Math.round(s.scale.convert(U)),q1Value:Math.round(s.scale.convert(K)),medianValue:Math.round(s.scale.convert($)),q3Value:Math.round(s.scale.convert(X)),maxValue:Math.round(s.scale.convert(_))};V.xValue+=Math.round(R.convert(String(O)))+B;const Y=Math.round(E),J=Math.abs(V.q3Value-V.q1Value),q=V.xValue+Y/2,nt=Math.min(V.q3Value,V.q1Value)+J/2,st={x:L?q:nt,y:L?nt:q};let rt;L?rt={x:st.x-Y/2,y:V.minValue,width:Y,height:V.maxValue-V.minValue}:rt={x:V.minValue,y:st.y-Y/2,width:V.maxValue-V.minValue,height:Y},b.push({series:this,itemId:Z,datum:G,datumIndex:W,xKey:a,bandwidth:Y,scaledValues:V,cap:y,whisker:m,fill:o,fillOpacity:r,stroke:l,strokeWidth:c,strokeOpacity:h,lineDash:p,lineDashOffset:f,midPoint:st,focusRect:rt})}),F}legendItemSymbol(){const{fill:t,fillOpacity:e,stroke:i,strokeWidth:n,strokeOpacity:s,lineDash:a,lineDashOffset:o}=this.properties;return{marker:{fill:t,fillOpacity:e,stroke:i,strokeOpacity:s,strokeWidth:n,lineDash:a,lineDashOffset:o}}}getLegendData(t){const{id:e,ctx:{legendManager:i},visible:n}=this,{xKey:s,yName:a,showInLegend:o,legendItemName:r}=this.properties;return!s||t!=="category"?[]:[{legendType:"category",id:e,itemId:e,seriesId:e,enabled:n&&i.getItemEnabled({seriesId:e,itemId:e}),label:{text:r??a??e},symbol:this.legendItemSymbol(),legendItemName:r,hideInLegend:!o}]}getTooltipContent(t){var Z;const{id:e,dataModel:i,processedData:n,properties:s}=this,{xKey:a,xName:o,yName:r,medianKey:l,medianName:c,q1Key:h,q1Name:p,q3Key:f,q3Name:y,minKey:m,minName:b,maxKey:v,maxName:S,legendItemName:D,tooltip:I}=s,T=this.getCategoryAxis(),k=this.getValueAxis();if(!i||!n||!T||!k)return;const{datumIndex:E}=t,O=(Z=n.dataSources.get(this.id))==null?void 0:Z[E],B=i.resolveKeysById(this,"xValue",n)[E],R=i.resolveColumnById(this,"minValue",n)[E],L=i.resolveColumnById(this,"q1Value",n)[E],F=i.resolveColumnById(this,"medianValue",n)[E],j=i.resolveColumnById(this,"q3Value",n)[E],G=i.resolveColumnById(this,"maxValue",n)[E];if(B==null)return;const W=this.getItemBaseStyle(!1);return Object.assign(W,this.getItemStyleOverrides(String(E),O,W,!1)),I.formatTooltip({heading:T.formatDatum(B),title:D??r,symbol:this.legendItemSymbol(),data:[{label:b,fallbackLabel:m,value:k.formatDatum(R)},{label:p,fallbackLabel:h,value:k.formatDatum(L)},{label:c,fallbackLabel:l,value:k.formatDatum(F)},{label:y,fallbackLabel:f,value:k.formatDatum(j)},{label:S,fallbackLabel:v,value:k.formatDatum(G)}]},{seriesId:e,datum:O,title:r,xKey:a,xName:o,yName:r,medianKey:l,medianName:c,q1Key:h,q1Name:p,q3Key:f,q3Name:y,minKey:m,minName:b,maxKey:v,maxName:S,...W})}animateEmptyUpdateReady({datumSelection:t}){const e=this.isVertical(),{from:i,to:n}=Jxt(e);IF.resetMotion([t],tbt(e)),IF.staticFromToMotion(this.id,"datums",this.ctx.animationManager,[t],i,n,{phase:"initial"})}isLabelEnabled(){return!1}updateDatumSelection(t){const e=t.nodeData??[];return t.datumSelection.update(e)}getItemBaseStyle(t){const{properties:e}=this,{cornerRadius:i,cap:n,whisker:s}=e,a=t?e.highlightStyle.item:void 0,o=this.getStrokeWidth(e.strokeWidth);return{fill:(a==null?void 0:a.fill)??e.fill,fillOpacity:(a==null?void 0:a.fillOpacity)??e.fillOpacity,stroke:(a==null?void 0:a.stroke)??e.stroke,strokeWidth:(a==null?void 0:a.strokeWidth)??o,strokeOpacity:(a==null?void 0:a.strokeOpacity)??e.strokeOpacity,lineDash:(a==null?void 0:a.lineDash)??e.lineDash??[],lineDashOffset:(a==null?void 0:a.lineDashOffset)??e.lineDashOffset,cornerRadius:i,cap:n,whisker:s}}getItemStyleOverrides(t,e,i,n){const{id:s,properties:a}=this,{xKey:o,minKey:r,q1Key:l,medianKey:c,q3Key:h,maxKey:p,itemStyler:f}=a;if(f!=null)return this.cachedDatumCallback(AF(t,n?"highlight":"node"),()=>f({seriesId:s,datum:e,xKey:o,minKey:r,q1Key:l,medianKey:c,q3Key:h,maxKey:p,highlighted:n,...i}))}updateDatumNodes({datumSelection:t,isHighlight:e}){var s;const i=this.isVertical(),n=(s=this.getValueAxis())==null?void 0:s.isReversed();t.each((a,o)=>{let r=this.getFormattedStyles(o,e?"highlight":"node");e&&(r=L1(this.properties.highlightStyle.item,r));const{stroke:l,strokeWidth:c,strokeOpacity:h,lineDash:p,lineDashOffset:f}=r;r.whisker=L1(r.whisker,{stroke:l,strokeWidth:c,strokeOpacity:h,lineDash:p,lineDashOffset:f}),a.updateDatumStyles(o,r,i,n)})}updateLabelNodes(){}updateLabelSelection(t){const{labelData:e,labelSelection:i}=t;return i.update(e)}nodeFactory(){return new nbt}getFormattedStyles(t,e){const{id:i,properties:n}=this,{xKey:s,minKey:a,q1Key:o,medianKey:r,q3Key:l,maxKey:c,itemStyler:h,backgroundFill:p,cornerRadius:f}=n,{datum:y,stroke:m,strokeWidth:b,strokeOpacity:v,lineDash:S,lineDashOffset:D,cap:I,whisker:T}=t;let k,E;k=t.fill,E=n.fillOpacity;const O={fill:k,fillOpacity:E,stroke:m,strokeWidth:b,strokeOpacity:v,lineDash:S,lineDashOffset:D,cornerRadius:f,cap:SF(I),whisker:SF(T)};if(h){const B=this.cachedDatumCallback(AF(y.index,e),()=>h({datum:y,seriesId:i,highlighted:e==="highlight",...O,xKey:s,minKey:a,q1Key:o,medianKey:r,q3Key:l,maxKey:c}));if(B)return L1(B,O)}return O}computeFocusBounds({datumIndex:t}){var e;return pbt(this,(e=this.contextNodeData)==null?void 0:e.nodeData[t].focusRect)}};mw.className="BoxPlotSeries";mw.type="box-plot";var{CARTESIAN_AXIS_TYPE:TF}=z.ThemeConstants,ybt={series:{direction:"vertical",strokeWidth:2},axes:{[TF.NUMBER]:{crosshair:{snap:!1}},[TF.CATEGORY]:{groupPaddingInner:.2,crosshair:{enabled:!1,snap:!1}}}},{Color:N1,swapAxisCondition:mbt,ThemeSymbols:{DEFAULT_BACKGROUND_COLOUR:xbt},ThemeConstants:{CARTESIAN_AXIS_TYPE:CF,CARTESIAN_POSITION:kF}}=z,bbt={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"box-plot",moduleFactory:t=>new mw(t),tooltipDefaults:{range:"exact"},defaultAxes:mbt([{type:CF.NUMBER,position:kF.LEFT},{type:CF.CATEGORY,position:kF.BOTTOM}],t=>(t==null?void 0:t.direction)==="horizontal"),themeTemplate:ybt,groupable:!0,paletteFactory:({takeColors:t,themeTemplateParameters:e})=>{const i=e.get(xbt),n=(Array.isArray(i)?i[0]:i)??"white",{fills:[s],strokes:[a]}=t(1);let o;try{o=N1.mix(N1.fromString(n),N1.fromString(s),.3).toString()}catch{o=s}return{fill:o,stroke:a,backgroundFill:n}}},vbt=1e3,LF=os,Sbt=ma,Mbt=ya,NF=qs;function Abt(t,e,i,n){if(t.length<vbt)return;const[s,a]=Rb(n);let o=wb(t),{indexData:r,valueData:l}=Pb(t,e,i,s,a,o);const c=[{maxRange:o,indexData:r}];for(;o>64;)({indexData:r,valueData:l,maxRange:o}=Bb(r,l,o)),c.push({maxRange:o,indexData:r});return c.reverse(),c}var{fixNumericExtent:Dbt,keyProperty:Ibt,createDatumId:EF,SeriesNodePickMode:OF,ChartAxisDirection:E1,SMALLEST_KEY_INTERVAL:Tbt,valueProperty:aS,diff:Cbt,animationValidation:kbt,computeBarFocusBounds:Lbt,visibleRangeIndices:wF,ContinuousScale:Nbt,OrdinalTimeScale:Ebt,BandScale:Obt}=z,wbt=class extends z.SeriesNodeEvent{constructor(t,e,i,n){super(t,e,i,n),this.xKey=n.properties.xKey,this.openKey=n.properties.openKey,this.closeKey=n.properties.closeKey,this.highKey=n.properties.highKey,this.lowKey=n.properties.lowKey}},q$=class extends z.AbstractBarSeries{constructor(t){super({moduleCtx:t,pickModes:[OF.AXIS_ALIGNED,OF.EXACT_SHAPE_MATCH],directionKeys:{x:["xKey"],y:["lowKey","highKey","openKey","closeKey"]},directionNames:{x:["xName"],y:["lowName","highName","openName","closeName"]},pathsPerSeries:[]}),this.NodeEvent=wbt,this.dataAggregationFilters=void 0}async processData(t){var b,v,S;if(!this.properties.isValid()||!this.visible)return;const{xKey:e,openKey:i,closeKey:n,highKey:s,lowKey:a}=this.properties,o=!this.ctx.animationManager.isSkipped(),r=(b=this.getCategoryAxis())==null?void 0:b.scale,l=(v=this.getValueAxis())==null?void 0:v.scale,{isContinuousX:c,xScaleType:h,yScaleType:p}=this.getScaleInformation({xScale:r,yScale:l}),f=[];o&&(this.processedData&&f.push(Cbt(this.id,this.processedData)),f.push(kbt())),i&&f.push(aS(i,p,{id:"openValue",invalidValue:void 0,missingValue:void 0}));const{dataModel:y,processedData:m}=await this.requestDataModel(t,this.data,{props:[Ibt(e,h,{id:"xValue"}),aS(n,p,{id:"closeValue"}),aS(s,p,{id:"highValue"}),aS(a,p,{id:"lowValue"}),...c?[Tbt]:[],...f]});this.smallestDataInterval=(S=m.reduced)==null?void 0:S.smallestKeyInterval,this.dataAggregationFilters=this.aggregateData(y,m),this.animationState.transition("updateData")}aggregateData(t,e){const i=this.axes[E1.X];if(i==null||!(Nbt.is(i.scale)||Ebt.is(i.scale)))return;const n=t.resolveKeysById(this,"xValue",e),s=t.resolveColumnById(this,"highValue",e),a=t.resolveColumnById(this,"lowValue",e),{index:o}=t.resolveProcessedDataDefById(this,"xValue"),r=e.domain.keys[o];return Abt(n,s,a,r)}getSeriesDomain(t){const{processedData:e,dataModel:i}=this;if(!(e&&i))return[];if(t!==this.getBarDirection()){const{index:s,def:a}=i.resolveProcessedDataDefById(this,"xValue"),o=e.domain.keys[s];return a.type==="key"&&a.valueType==="category"?o:this.padBandExtent(o)}const n=this.domainForClippedRange(E1.Y,["highValue","lowValue"],"xValue",!0);return Dbt(n)}getSeriesRange(t,e){return this.domainForVisibleRange(E1.Y,["highValue","lowValue"],"xValue",e,!0)}getVisibleItems(t,e,i){return this.countVisibleItems("xValue",["highValue","lowValue"],t,e,i)}createNodeData(){const{visible:t,dataModel:e,processedData:i}=this,n=this.getCategoryAxis(),s=this.getValueAxis();if(!(e&&i&&n&&s))return;const a=[],{xKey:o,highKey:r,lowKey:l}=this.properties,c=i.dataSources.get(this.id)??[],h=e.resolveKeysById(this,"xValue",i),p=e.resolveColumnById(this,"openValue",i),f=e.resolveColumnById(this,"closeValue",i),y=e.resolveColumnById(this,"highValue",i),m=e.resolveColumnById(this,"lowValue",i),{groupScale:b}=this,{barWidth:v,groupIndex:S}=this.updateGroupScale(n),D=b.convert(String(S)),I=v>=1?v:b.rawBandwidth,T=Obt.is(n.scale),k={itemId:o,nodeData:a,labelData:[],scales:this.calculateScaling(),visible:this.visible};if(!t)return k;const E=(W,Z,U,K,$,X,_,V)=>{const Y=c[W],J=T?_/2:0,q=n.scale.convert(Z)+D+J,nt=s.scale.convert(U),st=s.scale.convert(K),rt=s.scale.convert($),ct=s.scale.convert(X),dt=K>U,ht=dt?"up":"down",yt=Math.min(rt,ct),pt=Math.max(rt,ct)-yt,vt={x:q,y:yt+pt/2};a.push({series:this,itemId:ht,datum:Y,datumIndex:W,xKey:o,xValue:Z,openValue:U,closeValue:K,highValue:$,lowValue:X,midPoint:vt,aggregatedValue:K,isRising:dt,centerX:q,width:_,y:yt,height:pt,yOpen:nt,yClose:st,crisp:V})},{dataAggregationFilters:O}=this,B=n.scale,[R,L]=B.range,F=L-R,j=W=>B.convert(h[W])+D,G=O==null?void 0:O.find(W=>W.maxRange>F);if(G==null){let[W,Z]=wF(c.length,n.range,U=>{const K=j(U);return[K,K+I]});i.input.count<1e3&&(W=0,Z=i.input.count);for(let U=W;U<Z;U+=1){const K=h[U];if(K==null)continue;const $=p[U],X=f[U],_=y[U],V=m[U],Y=V!=null&&V<=$&&V<=X,J=_!=null&&_>=$&&_>=X;if(!Y){ve.warnOnce(`invalid low value for key [${l}] in data element, low value cannot be higher than datum open or close values`);continue}if(!J){ve.warnOnce(`invalid high value for key [${r}] in data element, high value cannot be lower than datum open or close values.`);continue}E(U,K,$,X,_,V,I,!0)}}else{const{maxRange:W,indexData:Z}=G,[U,K]=wF(W,n.range,$=>{const X=$*ja,_=Z[X+LF],V=Z[X+NF];if(_!==-1)return[j(_),j(V)+I]});for(let $=U;$<K;$+=1){const X=$*ja,_=Z[X+LF],V=Z[X+NF],Y=Z[X+Sbt],J=Z[X+Mbt];if(_===-1)continue;const q=(_+V)/2|0,nt=h[q];if(nt==null)continue;const st=p[_],rt=f[V],ct=y[Y],dt=m[J],ht=Math.abs(j(V)-j(_))+I;E(q,nt,st,rt,ct,dt,ht,!1)}}return k}isVertical(){return!0}isLabelEnabled(){return!1}updateDatumSelection(t){const e=t.nodeData??[];return t.datumSelection.update(e)}updateLabelNodes(t){}updateLabelSelection(t){const{labelData:e,labelSelection:i}=t;return i.update(e)}getItemBaseStyle(t,e){const{properties:i}=this,n=i.item[t],s=e?i.highlightStyle.item:void 0;return{fill:(s==null?void 0:s.fill)??n.fill,fillOpacity:(s==null?void 0:s.fillOpacity)??n.fillOpacity,stroke:(s==null?void 0:s.stroke)??n.stroke,strokeWidth:(s==null?void 0:s.strokeWidth)??n.strokeWidth,strokeOpacity:(s==null?void 0:s.strokeOpacity)??n.strokeOpacity,lineDash:(s==null?void 0:s.lineDash)??n.lineDash,lineDashOffset:(s==null?void 0:s.lineDashOffset)??n.lineDashOffset}}getItemStyleOverrides(t,e,i,n,s){const{id:a,properties:o}=this,{itemStyler:r}=o;if(r==null)return;const{xKey:l,openKey:c,closeKey:h,highKey:p,lowKey:f}=o;return this.cachedDatumCallback(EF(t,s?"highlight":"node"),()=>r({seriesId:a,datum:e,itemId:i,xKey:l,openKey:c,closeKey:h,highKey:p,lowKey:f,highlighted:s,...n}))}getTooltipContent(t){var W;const{id:e,dataModel:i,processedData:n,properties:s}=this,{xKey:a,xName:o,yName:r,openKey:l,openName:c,highKey:h,highName:p,lowKey:f,lowName:y,closeKey:m,closeName:b,legendItemName:v,tooltip:S}=s,D=this.getCategoryAxis(),I=this.getValueAxis();if(!i||!n||!D||!I)return;const{datumIndex:T}=t,k=(W=n.dataSources.get(this.id))==null?void 0:W[T],E=i.resolveKeysById(this,"xValue",n)[T],O=i.resolveColumnById(this,"openValue",n)[T],B=i.resolveColumnById(this,"highValue",n)[T],R=i.resolveColumnById(this,"lowValue",n)[T],L=i.resolveColumnById(this,"closeValue",n)[T];if(E==null)return;const F=L>=O?"up":"down",j=this.properties.item[F],G=this.getItemBaseStyle(F,!1);return Object.assign(G,this.getItemStyleOverrides(String(T),k,F,G,!1)),S.formatTooltip({heading:D.formatDatum(E),title:v,symbol:{marker:{fill:j.fill??j.stroke,fillOpacity:j.fillOpacity??j.strokeOpacity??1,stroke:j.stroke,strokeWidth:j.strokeWidth??1,strokeOpacity:j.strokeOpacity??1,lineDash:j.lineDash??[0],lineDashOffset:j.lineDashOffset??0}},data:[{label:c,fallbackLabel:l,value:I.formatDatum(O)},{label:p,fallbackLabel:h,value:I.formatDatum(B)},{label:y,fallbackLabel:f,value:I.formatDatum(R)},{label:b,fallbackLabel:m,value:I.formatDatum(L)}]},{seriesId:e,datum:k,title:r,itemId:F,xKey:a,xName:o,yName:r,openKey:l,openName:c,highKey:h,highName:p,lowKey:f,lowName:y,closeKey:m,closeName:b,...G})}getDatumId(t){return EF(t.xValue)}computeFocusBounds(t){var r;const e=(r=this.getNodeData())==null?void 0:r.at(t.datumIndex);if(e==null)return;const{centerX:i,y:n,width:s,height:a}=e,o={x:i-s/2,y:n,width:s,height:a};return Lbt(this,o)}},{Path:Rbt,ScenePathChangeDetection:xh,BBox:Pbt}=z,Al=class extends Rbt{constructor(){super(...arguments),this.centerX=0,this.y=0,this.width=0,this.height=0,this.yOpen=0,this.yClose=0,this.crisp=!1,this.strokeAlignment=0}computeBBox(){const{centerX:t,y:e,width:i,height:n}=this;return new Pbt(t-i/2,e,i,n)}isPointInPath(t,e){return this.getBBox().containsPoint(t,e)}distanceSquared(t,e){return this.getBBox().distanceSquared(t,e)}get midPoint(){return{x:this.centerX,y:this.y+this.height/2}}alignedCoordinates(){const{y:t,width:e,height:i,crisp:n,strokeAlignment:s}=this;let{centerX:a,yOpen:o,yClose:r}=this,l=a-e/2,c=a+e/2,h=t,p=t+i;if(n&&e>1){a=this.align(a),o=this.align(o),r=this.align(r);const y=this.align(e/2);l=a-y,c=a+y,h=this.align(t),p=h+this.align(h,i)}const f=(h+p)/2;return a+=s,l+=s,c+=s,h-=s,p+=s,o+=o<f?s:-s,r+=r<f?s:-s,{centerX:a,x0:l,x1:c,y0:h,y1:p,yOpen:o,yClose:r}}executeStroke(t,e){const{width:i,strokeWidth:n}=this;i<n&&(t.lineWidth=i),super.executeStroke(t,e)}};A([xh()],Al.prototype,"centerX");A([xh()],Al.prototype,"y");A([xh()],Al.prototype,"width");A([xh()],Al.prototype,"height");A([xh()],Al.prototype,"yOpen");A([xh()],Al.prototype,"yClose");A([xh()],Al.prototype,"crisp");A([xh()],Al.prototype,"strokeAlignment");var Bbt=class extends Al{updatePath(){const{path:t}=this,{centerX:e,x0:i,x1:n,y0:s,y1:a,yOpen:o,yClose:r}=this.alignedCoordinates();t.clear(),t.moveTo(e,s),t.lineTo(e,a),Math.abs(n-i)>1&&(t.moveTo(i,o),t.lineTo(e,o),t.moveTo(e,r),t.lineTo(n,r))}},{ScenePathChangeDetection:_b,ExtendedPath2D:zbt}=z,Wg=class extends Al{constructor(){super(...arguments),this.wickPath=new zbt,this.wickStroke=void 0,this.wickStrokeWidth=void 0,this.wickStrokeOpacity=void 0}updatePath(){const{path:t,stroke:e,strokeWidth:i,strokeOpacity:n,lineDash:s,lineDashOffset:a,wickStroke:o,wickStrokeWidth:r,wickStrokeOpacity:l,wickLineDash:c,wickLineDashOffset:h,strokeAlignment:p}=this,{centerX:f,x0:y,x1:m,y0:b,y1:v,yOpen:S,yClose:D}=this.alignedCoordinates();this.path.clear(),this.wickPath.clear();const T=o!=null&&o!==e||r!=null&&r!==i||l!=null&&l!==n||c!=null&&c!==s||h!=null&&h!==a?this.wickPath:t;if(Math.abs(m-y)<=3){T.moveTo(f,b),T.lineTo(f,v);return}const k=Math.min(S,D),E=Math.max(S,D);T.moveTo(f,b),T.lineTo(f,k+i/2),T.moveTo(f,v),T.lineTo(f,E-i/2);const O=p+i/2,B=E-k-2*O;if(B>0)t.rect(y+O,k+O,m-y-2*O,B);else{const R=(k+E)/2;t.moveTo(y,R),t.lineTo(m,R)}}drawPath(t){super.drawPath(t);const{wickPath:e}=this;if(e.isEmpty())return;const{stroke:i,strokeWidth:n,strokeOpacity:s,lineDash:a,lineDashOffset:o,wickStroke:r=i,wickStrokeWidth:l=n,wickStrokeOpacity:c=s,wickLineDash:h=a,wickLineDashOffset:p=o}=this;l!==0&&(t.globalAlpha*=c,typeof r=="string"&&(t.strokeStyle=r),t.lineWidth=l,h!=null&&t.setLineDash(h),t.lineDashOffset=p,t.stroke(e.getPath2D()))}};A([_b()],Wg.prototype,"wickStroke");A([_b()],Wg.prototype,"wickStrokeWidth");A([_b()],Wg.prototype,"wickStrokeOpacity");A([_b()],Wg.prototype,"wickLineDash");A([_b()],Wg.prototype,"wickLineDashOffset");var{BaseProperties:Q$,Validate:en,AbstractBarSeriesProperties:_bt,SeriesTooltip:jbt,STRING:Dr,COLOR_STRING:Fbt,FUNCTION:Gbt,LINE_DASH:Vbt,OBJECT:kD,POSITIVE_NUMBER:J$,RATIO:Ubt}=z,Fd=class extends Q${constructor(){super(...arguments),this.stroke="#333",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0}};A([en(Fbt)],Fd.prototype,"stroke");A([en(J$)],Fd.prototype,"strokeWidth");A([en(Ubt)],Fd.prototype,"strokeOpacity");A([en(Vbt)],Fd.prototype,"lineDash");A([en(J$)],Fd.prototype,"lineDashOffset");var xw=class extends Q${constructor(){super(...arguments),this.up=new Fd,this.down=new Fd}};A([en(kD)],xw.prototype,"up");A([en(kD)],xw.prototype,"down");var Xa=class extends _bt{};A([en(Dr)],Xa.prototype,"xKey");A([en(Dr)],Xa.prototype,"openKey");A([en(Dr)],Xa.prototype,"closeKey");A([en(Dr)],Xa.prototype,"highKey");A([en(Dr)],Xa.prototype,"lowKey");A([en(Dr,{optional:!0})],Xa.prototype,"xName");A([en(Dr,{optional:!0})],Xa.prototype,"yName");A([en(Dr,{optional:!0})],Xa.prototype,"openName");A([en(Dr,{optional:!0})],Xa.prototype,"closeName");A([en(Dr,{optional:!0})],Xa.prototype,"highName");A([en(Dr,{optional:!0})],Xa.prototype,"lowName");var LD=class extends Xa{constructor(){super(...arguments),this.tooltip=new jbt,this.item=new xw}};A([en(kD)],LD.prototype,"tooltip");A([en(kD)],LD.prototype,"item");A([en(Gbt,{optional:!0})],LD.prototype,"itemStyler");var{BaseProperties:bw,SeriesTooltip:Hbt,Validate:On,COLOR_STRING:vw,FUNCTION:Wbt,LINE_DASH:t6,OBJECT:jb,POSITIVE_NUMBER:Fb,RATIO:Sw}=z,Yg=class extends bw{};A([On(vw,{optional:!0})],Yg.prototype,"stroke");A([On(Fb)],Yg.prototype,"strokeWidth");A([On(Sw)],Yg.prototype,"strokeOpacity");A([On(t6,{optional:!0})],Yg.prototype,"lineDash");A([On(Fb)],Yg.prototype,"lineDashOffset");var br=class extends bw{constructor(){super(...arguments),this.fill="#c16068",this.fillOpacity=1,this.stroke="#333",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.wick=new Yg}};A([On(vw,{optional:!0})],br.prototype,"fill");A([On(Sw)],br.prototype,"fillOpacity");A([On(vw)],br.prototype,"stroke");A([On(Fb)],br.prototype,"strokeWidth");A([On(Sw)],br.prototype,"strokeOpacity");A([On(t6)],br.prototype,"lineDash");A([On(Fb)],br.prototype,"lineDashOffset");A([On(Fb)],br.prototype,"cornerRadius");A([On(jb)],br.prototype,"wick");var Mw=class extends bw{constructor(){super(...arguments),this.up=new br,this.down=new br}};A([On(jb)],Mw.prototype,"up");A([On(jb)],Mw.prototype,"down");var ND=class extends Xa{constructor(){super(...arguments),this.item=new Mw,this.tooltip=new Hbt}};A([On(jb)],ND.prototype,"item");A([On(jb)],ND.prototype,"tooltip");A([On(Wbt,{optional:!0})],ND.prototype,"itemStyler");var{createDatumId:Ybt}=z,Aw=class extends q${constructor(){super(...arguments),this.properties=new ND}nodeFactory(){return new Wg}updateDatumNodes({datumSelection:t,isHighlight:e}){const{id:i,properties:n}=this,{xKey:s,highKey:a,lowKey:o,openKey:r,closeKey:l,item:c,itemStyler:h}=n,{up:p,down:f}=c,{fill:y,fillOpacity:m,stroke:b,strokeWidth:v,strokeOpacity:S,lineDash:D,lineDashOffset:I}=p,{stroke:T,strokeWidth:k,strokeOpacity:E,lineDash:O,lineDashOffset:B}=p.wick,{fill:R,fillOpacity:L,stroke:F,strokeWidth:j,strokeOpacity:G,lineDash:W,lineDashOffset:Z}=f,{stroke:U,strokeWidth:K,strokeOpacity:$,lineDash:X,lineDashOffset:_}=f.wick,V=e?n.highlightStyle.item:void 0;t.each((Y,J)=>{const{isRising:q,centerX:nt,width:st,y:rt,height:ct,yOpen:dt,yClose:ht,crisp:yt}=J;let pt;if(h!=null){const{fill:At,fillOpacity:bt,stroke:Rt,strokeWidth:Nt,strokeOpacity:Ot,lineDash:Xt,lineDashOffset:zt}=q?p:f;pt=this.cachedDatumCallback(Ybt(this.getDatumId(J),e?"highlight":"node"),()=>h({seriesId:i,itemId:J.itemId,xKey:s,highKey:a,lowKey:o,openKey:r,closeKey:l,datum:J.datum,fill:At,fillOpacity:bt,strokeOpacity:Ot,stroke:Rt,strokeWidth:Nt,lineDash:Xt,lineDashOffset:zt,highlighted:e}))}Y.centerX=nt,Y.width=st,Y.y=rt,Y.height=ct,Y.yOpen=dt,Y.yClose=ht,Y.crisp=yt,Y.fill=(V==null?void 0:V.fill)??(pt==null?void 0:pt.fill)??(q?y:R),Y.fillOpacity=(V==null?void 0:V.fillOpacity)??(pt==null?void 0:pt.fillOpacity)??(q?m:L),Y.stroke=(V==null?void 0:V.stroke)??(pt==null?void 0:pt.stroke)??(q?b:F),Y.strokeWidth=(V==null?void 0:V.strokeWidth)??(pt==null?void 0:pt.strokeWidth)??(q?v:j),Y.strokeOpacity=(V==null?void 0:V.strokeOpacity)??(pt==null?void 0:pt.strokeOpacity)??(q?S:G),Y.lineDash=(V==null?void 0:V.lineDash)??(pt==null?void 0:pt.lineDash)??(q?D:W),Y.lineDashOffset=(V==null?void 0:V.lineDashOffset)??(pt==null?void 0:pt.lineDashOffset)??(q?I:Z);const vt=pt==null?void 0:pt.wick;Y.wickStroke=(V==null?void 0:V.stroke)??(vt==null?void 0:vt.stroke)??(q?T:U),Y.wickStrokeWidth=(V==null?void 0:V.strokeWidth)??(vt==null?void 0:vt.strokeWidth)??(q?k:K),Y.wickStrokeOpacity=(V==null?void 0:V.strokeOpacity)??(vt==null?void 0:vt.strokeOpacity)??(q?E:$),Y.wickLineDash=(V==null?void 0:V.lineDash)??(vt==null?void 0:vt.lineDash)??(q?O:X),Y.wickLineDashOffset=(V==null?void 0:V.lineDashOffset)??(vt==null?void 0:vt.lineDashOffset)??(q?B:_),Y.strokeAlignment=((pt==null?void 0:pt.strokeWidth)??(q?v:j))/2})}legendItemSymbol(){const{up:t,down:e}=this.properties.item,i=new z.LinearGradient("rgb",[{color:t.fill,offset:0},{color:t.fill,offset:.5},{color:e.fill,offset:.5}],90),n=new z.LinearGradient("rgb",[{color:t.stroke,offset:0},{color:t.stroke,offset:.5},{color:e.stroke,offset:.5}],90);return{marker:{fill:i,fillOpacity:t.fillOpacity,stroke:n,strokeWidth:t.strokeWidth??1,strokeOpacity:t.strokeOpacity??1,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset}}}getLegendData(t){const{id:e,data:i,visible:n,ctx:{legendManager:s}}=this,{xKey:a,yName:o,showInLegend:r,legendItemName:l}=this.properties;return!(i!=null&&i.length)||!a||t!=="category"?[]:[{legendType:"category",id:e,itemId:e,seriesId:e,enabled:n&&s.getItemEnabled({seriesId:e,itemId:e}),label:{text:l??o??e},symbol:this.legendItemSymbol(),legendItemName:l,hideInLegend:!r}]}};Aw.className="CandleStickSeries";Aw.type="candlestick";var{CARTESIAN_AXIS_TYPE:RF}=z.ThemeConstants,$bt={series:{highlightStyle:{item:{strokeWidth:3}}},animation:{enabled:!1},axes:{[RF.NUMBER]:{crosshair:{snap:!1}},[RF.ORDINAL_TIME]:{groupPaddingInner:0,crosshair:{enabled:!0}}}},{CARTESIAN_AXIS_TYPE:PF,CARTESIAN_POSITION:BF}=z.ThemeConstants,Kbt={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"candlestick",moduleFactory:t=>new Aw(t),tooltipDefaults:{range:"nearest"},defaultAxes:[{type:PF.NUMBER,position:BF.LEFT},{type:PF.ORDINAL_TIME,position:BF.BOTTOM}],themeTemplate:$bt,groupable:!1,paletteFactory:({takeColors:t,colorsCount:e,userPalette:i,palette:n})=>{if(i==="user-indexed"){const{fills:s,strokes:a}=t(e);return{item:{up:{fill:"transparent",stroke:a[0]},down:{fill:s[0],stroke:a[0]}}}}return{item:{up:n.up,down:n.down}}}};function zF(t,e,i){i||(e=Xbt(e));const n=new Map;for(const a of t)n.set(a.id,{datum:a,linksBefore:[],linksAfter:[],maxPathLengthBefore:-1,maxPathLengthAfter:-1});let s=0;return n.forEach((a,o)=>{s=Math.max(s,cL(n,e,a,o,-1,[])+cL(n,e,a,o,1,[])+1)}),{links:e,nodeGraph:n,maxPathLength:s}}function e6(t,e,i,n){const s=n.indexOf(e);if(s!==-1){for(let o=s;o<n.length;o+=1)i.add(n[o]);return}n.push(e);const{toNode:a}=e;for(const o of t)o.fromNode===a&&e6(t,o,i,n);n.pop()}function Xbt(t){const e=new Set;for(const i of t)e6(t,i,e,[]);return e.size!==0&&ve.warnOnce("Some links formed circular references. These will be removed from the output."),e.size===0?t:t.filter(i=>!e.has(i))}function cL(t,e,i,n,s,a){if(a.includes(n))return 1/0;let o=s===-1?i.maxPathLengthBefore:i.maxPathLengthAfter;if(o===-1){o=0;const r=s===-1?i.linksBefore:i.linksAfter;for(const l of e){const{fromNode:c,toNode:h}=l,p=s===-1?h.id:c.id,f=s===-1?c.id:h.id,y=n===p?t.get(f):void 0;y!=null&&(r.push({node:y,link:l}),a==null||a.push(n),o=Math.max(o,cL(t,e,y,f,s,a)+1),a==null||a.pop())}s===-1?i.maxPathLengthBefore=o:i.maxPathLengthAfter=o}return o}var{Series:Zbt,DataController:qbt,Validate:Qbt,ARRAY:Jbt,keyProperty:t0t,valueProperty:oS,Selection:hd,Group:Mf,TransformableText:e0t}=z,i0t=class extends z.SeriesNodeEvent{constructor(t,e,i,n){var o;super(t,e,i,n);const{datumIndex:s}=i,a=(o=n.contextNodeData)==null?void 0:o.nodeData.find(r=>r.datumIndex.type===s.type&&r.datumIndex.index===s.index);this.size=a==null?void 0:a.size,this.label=(a==null?void 0:a.type)===1?a==null?void 0:a.label:void 0}},Dw=class extends Zbt{constructor(){super(...arguments),this.NodeEvent=i0t,this._chartNodes=void 0,this.nodeCount=0,this.linkCount=0,this.linksDataModel=void 0,this.linksProcessedData=void 0,this.nodesDataModel=void 0,this.nodesProcessedData=void 0,this.processedNodes=new Map,this.linkGroup=this.contentGroup.appendChild(new Mf({name:"linkGroup"})),this.nodeGroup=this.contentGroup.appendChild(new Mf({name:"nodeGroup"})),this.focusLinkGroup=this.highlightNode.appendChild(new Mf({name:"linkGroup"})),this.focusNodeGroup=this.highlightNode.appendChild(new Mf({name:"nodeGroup"})),this.highlightLinkGroup=this.highlightNode.appendChild(new Mf({name:"linkGroup"})),this.highlightNodeGroup=this.highlightNode.appendChild(new Mf({name:"nodeGroup"})),this.labelSelection=hd.select(this.labelGroup,e0t),this.linkSelection=hd.select(this.linkGroup,()=>this.linkFactory()),this.nodeSelection=hd.select(this.nodeGroup,()=>this.nodeFactory()),this.focusLinkSelection=hd.select(this.focusLinkGroup,()=>this.linkFactory()),this.focusNodeSelection=hd.select(this.focusNodeGroup,()=>this.nodeFactory()),this.highlightLinkSelection=hd.select(this.highlightLinkGroup,()=>this.linkFactory()),this.highlightNodeSelection=hd.select(this.highlightNodeGroup,()=>this.nodeFactory())}get nodes(){return this.properties.nodes??this._chartNodes}setChartNodes(t){this._chartNodes=t,this.nodes===t&&(this.nodeDataRefresh=!0)}async processData(t){var m,b;const{data:e,nodes:i}=this;if(e==null||!this.properties.isValid())return;const{fromKey:n,toKey:s,sizeKey:a,idKey:o,labelKey:r}=this.properties,l=new qbt("standalone",t.suppressFieldDotNotation),c=i!=null?l.request(this.id,i,{props:[t0t(o,void 0,{id:"idValue",includeProperty:!1}),...r!=null?[oS(r,void 0,{id:"labelValue",includeProperty:!1})]:[]],groupByKeys:!0}):null,h=t.request(this.id,e,{props:[oS(n,void 0,{id:"fromValue",includeProperty:!1}),oS(s,void 0,{id:"toValue",includeProperty:!1}),...a!=null?[oS(a,void 0,{id:"sizeValue",includeProperty:!1,missingValue:0})]:[]],groupByKeys:!1});i!=null&&l.execute();const[p,f]=await Promise.all([c,h]);this.nodesDataModel=p==null?void 0:p.dataModel,this.nodesProcessedData=p==null?void 0:p.processedData,this.linksDataModel=f==null?void 0:f.dataModel,this.linksProcessedData=f==null?void 0:f.processedData;const y=new Map;if(p==null){const v=f.dataModel.resolveColumnById(this,"fromValue",f.processedData),S=f.dataModel.resolveColumnById(this,"toValue",f.processedData),D=I=>{const T=y.size;return{series:this,itemId:void 0,datum:{},datumIndex:{type:1,index:T},type:1,index:T,linksBefore:[],linksAfter:[],id:I,size:0,label:I}};(m=f.processedData.dataSources.get(this.id))==null||m.forEach((I,T)=>{const k=v[T],E=S[T];k==null||E==null||(y.has(k)||y.set(k,D(k)),y.has(E)||y.set(E,D(E)))})}else{const v=p.dataModel.resolveColumnById(this,"idValue",p.processedData),S=r!=null?p.dataModel.resolveColumnById(this,"labelValue",p.processedData):void 0;(b=p.processedData.dataSources.get(this.id))==null||b.forEach((D,I)=>{const T=v[I],k=S==null?void 0:S[I];y.set(T,{series:this,itemId:void 0,datum:D,datumIndex:{type:1,index:I},type:1,index:I,linksBefore:[],linksAfter:[],id:T,size:0,label:k})})}this.processedNodes=y}getNodeGraph(t,e,{includeCircularReferences:i}){var m;const{linksDataModel:n,linksProcessedData:s}=this;if(n==null||s==null){const{links:b,nodeGraph:v,maxPathLength:S}=zF(new Map().values(),[],i);return this.nodeCount=0,this.linkCount=0,{nodeGraph:v,links:b,maxPathLength:S}}const{sizeKey:a}=this.properties,o=n.resolveColumnById(this,"fromValue",s),r=n.resolveColumnById(this,"toValue",s),l=a!=null?n.resolveColumnById(this,"sizeValue",s):void 0,c=new Map;this.processedNodes.forEach(b=>{const v=t(b);c.set(b.id,v)});const h=[];(m=s.dataSources.get(this.id))==null||m.forEach((b,v)=>{const S=o[v],D=r[v],I=l!=null?l[v]:1,T=c.get(S),k=c.get(D);if(I<=0||T==null||k==null)return;const E=e({series:this,itemId:void 0,datum:b,datumIndex:{type:0,index:v},type:0,index:v,fromNode:T,toNode:k,size:I});h.push(E)});const{links:p,nodeGraph:f,maxPathLength:y}=zF(c.values(),h,i);return f.forEach(b=>{b.datum.linksBefore=b.linksBefore.map(v=>v.link),b.datum.linksAfter=b.linksAfter.map(v=>v.link)}),this.nodeCount=f.size,this.linkCount=p.length,{nodeGraph:f,links:p,maxPathLength:y}}updateSelections(){this.nodeDataRefresh&&(this.contextNodeData=this.createNodeData(),this.nodeDataRefresh=!1)}update(t){var h,p,f;const{seriesRect:e}=t,i={seriesRectWidth:(e==null?void 0:e.width)??0,seriesRectHeight:(e==null?void 0:e.height)??0};(this._nodeDataDependencies==null||this._nodeDataDependencies.seriesRectWidth!==i.seriesRectWidth||this._nodeDataDependencies.seriesRectHeight!==i.seriesRectHeight)&&(this._nodeDataDependencies=i),this.updateSelections();const n=((h=this.contextNodeData)==null?void 0:h.nodeData)??[],s=((p=this.contextNodeData)==null?void 0:p.labelData)??[];let a=(f=this.ctx.highlightManager)==null?void 0:f.getActiveHighlight();if((a==null?void 0:a.series)===this&&a.type==null){const{itemId:y}=a;a=y!=null?n.find(m=>m.type===1&&m.id===y):void 0}else(a==null?void 0:a.series)!==this&&(a=void 0);this.contentGroup.visible=this.visible,this.contentGroup.opacity=a!=null?this.properties.highlightStyle.series.dimOpacity??1:1,this.labelSelection=this.updateLabelSelection({labelData:s,labelSelection:this.labelSelection}),this.updateLabelNodes({labelSelection:this.labelSelection}),this.linkSelection=this.updateLinkSelection({nodeData:n.filter(y=>y.type===0),datumSelection:this.linkSelection}),this.updateLinkNodes({datumSelection:this.linkSelection,isHighlight:!1}),this.nodeSelection=this.updateNodeSelection({nodeData:n.filter(y=>y.type===1),datumSelection:this.nodeSelection}),this.updateNodeNodes({datumSelection:this.nodeSelection,isHighlight:!1});let o,r,l,c;(a==null?void 0:a.type)===1?(o=n.filter(y=>y.type===0&&(y.toNode===a||y.fromNode===a)),r=o.map(y=>y.fromNode===a?y.toNode:y.fromNode),r.push(a),l=[],c=[a]):(a==null?void 0:a.type)===0?(o=[a],r=[a.fromNode,a.toNode],l=[a],c=[]):(o=[],r=[],l=[],c=[]),this.focusLinkSelection=this.updateLinkSelection({nodeData:o,datumSelection:this.focusLinkSelection}),this.updateLinkNodes({datumSelection:this.focusLinkSelection,isHighlight:!1}),this.focusNodeSelection=this.updateNodeSelection({nodeData:r,datumSelection:this.focusNodeSelection}),this.updateNodeNodes({datumSelection:this.focusNodeSelection,isHighlight:!1}),this.highlightLinkSelection=this.updateLinkSelection({nodeData:l,datumSelection:this.highlightLinkSelection}),this.updateLinkNodes({datumSelection:this.highlightLinkSelection,isHighlight:!0}),this.highlightNodeSelection=this.updateNodeSelection({nodeData:c,datumSelection:this.highlightNodeSelection}),this.updateNodeNodes({datumSelection:this.highlightNodeSelection,isHighlight:!0})}resetAnimation(t){}getSeriesDomain(t){return[]}getSeriesRange(t,e){return[NaN,NaN]}legendItemSymbol(t,e,i={}){const{fills:n,strokes:s}=this.properties,{fill:a=n[e%n.length],fillOpacity:o=1,stroke:r=s[e%s.length],strokeWidth:l=0,strokeOpacity:c=1,lineDash:h=[0],lineDashOffset:p=0}=i;return{marker:{fill:a,fillOpacity:o,stroke:r,strokeWidth:l,strokeOpacity:c,lineDash:h,lineDashOffset:p}}}getLegendData(t){if(t!=="category")return[];const{showInLegend:e}=this.properties;return Array.from(this.processedNodes.values(),({id:i,label:n},s)=>({legendType:"category",id:this.id,itemId:i,seriesId:this.id,enabled:!0,label:{text:n??i},symbol:this.legendItemSymbol(1,s),hideInLegend:!e,isFixed:!0}))}pickNodeClosestDatum({x:t,y:e}){let i=1/0,n;return this.linkSelection.each((s,a)=>{const o=s.containsPoint(t,e)?0:1/0;o<i&&(i=o,n=a)}),this.nodeSelection.each((s,a)=>{const o=s.distanceSquared(t,e);o<i&&(i=o,n=a)}),n!=null?{datum:n,distance:Math.sqrt(i)}:void 0}getDatumAriaText(t,e){if(t.type===0)return this.ctx.localeManager.t("ariaAnnounceFlowProportionLink",{index:t.index+1,count:this.linkCount,from:t.fromNode.id,to:t.toNode.id,size:t.size,sizeName:this.properties.sizeName??this.properties.sizeKey});if(t.type===1)return this.ctx.localeManager.t("ariaAnnounceFlowProportionNode",{index:t.index+1,count:this.nodeCount,description:e})}pickFocus(t){var r,l;const{datumIndexDelta:e,otherIndexDelta:i}=t,n=(r=this.contextNodeData)==null?void 0:r.nodeData[t.datumIndex-t.datumIndexDelta];let s=n;if(i!==0||e===0)return;if((n==null?void 0:n.type)===0){const c=Array.from(this.linkSelection,f=>f.datum),p=c.indexOf(n)+e;if(p>=0&&p<c.length)s=c[p];else if(p>0)s=c[c.length-1];else{const f=Array.from(this.nodeSelection,y=>y.datum);s=f[f.length-1]}}else if((n==null?void 0:n.type)===1){const c=Array.from(this.nodeSelection,f=>f.datum),p=c.indexOf(n)+e;p>=0&&p<c.length?s=c[p]:p<0?s=c[0]:s=Array.from(this.linkSelection,y=>y.datum)[0]}if(s==null)return;const a=s.type===1?Array.from(this.nodeSelection).find(c=>c.datum===s):Array.from(this.linkSelection).find(c=>c.datum===s);if(a==null)return;const o=this.computeFocusBounds(a.node);if(o!=null)return{datum:a.datum,datumIndex:((l=this.contextNodeData)==null?void 0:l.nodeData.indexOf(a.datum))??0,otherIndex:0,bounds:o,clipFocusBox:!0}}};A([Qbt(Jbt,{optional:!0,property:"nodes"})],Dw.prototype,"_chartNodes");var{BBox:n0t,Path:s0t,ScenePathChangeDetection:bh}=z;function MM({radius:t,startAngle:e,endAngle:i,tension:n}){const s=t*Math.cos(e),a=t*Math.sin(e),o=t*Math.cos(i),r=t*Math.sin(i),l=s*n,c=a*n,h=o*n,p=r*n;return{x:[s,l,h,o],y:[a,c,p,r]}}var Fc=class extends s0t{constructor(){super(...arguments),this.centerX=0,this.centerY=0,this.radius=0,this.startAngle1=0,this.endAngle1=0,this.startAngle2=0,this.endAngle2=0,this.tension=1}computeBBox(){const{centerX:t,centerY:e,radius:i,startAngle1:n,endAngle1:s,startAngle2:a,endAngle2:o,tension:r}=this,l=MM({radius:i,startAngle:n,endAngle:o,tension:r}),c=MM({radius:i,startAngle:a,endAngle:s,tension:r}),h=Math.min(...l.x,...c.x),p=Math.max(...l.x,...c.x)-h,f=Math.min(...l.y,...c.y),y=Math.max(...l.y,...c.y)-f;return new n0t(t+h,e+f,p,y)}tensionedCurveTo(t,e,i,n,s,a,o,r){const{path:l,tension:c}=this,h=1-c;l.cubicCurveTo((i-t)*h+t,(n-e)*h+e,(s-o)*h+o,(a-r)*h+r,o,r)}updatePath(){const{path:t,centerX:e,centerY:i,radius:n}=this;let{startAngle1:s,endAngle1:a,startAngle2:o,endAngle2:r}=this;s>o&&([s,o]=[o,s],[a,r]=[r,a]),t.clear();const l=e+n*Math.cos(s),c=i+n*Math.sin(s);t.moveTo(l,c),this.tensionedCurveTo(l,c,e,i,e,i,e+n*Math.cos(r),i+n*Math.sin(r)),t.arc(e,i,n,r,o,!0),this.tensionedCurveTo(e+n*Math.cos(o),i+n*Math.sin(o),e,i,e,i,e+n*Math.cos(a),i+n*Math.sin(a)),t.arc(e,i,n,a,s,!0),t.closePath()}};A([bh()],Fc.prototype,"centerX");A([bh()],Fc.prototype,"centerY");A([bh()],Fc.prototype,"radius");A([bh()],Fc.prototype,"startAngle1");A([bh()],Fc.prototype,"endAngle1");A([bh()],Fc.prototype,"startAngle2");A([bh()],Fc.prototype,"endAngle2");A([bh()],Fc.prototype,"tension");var{BaseProperties:i6,SeriesTooltip:a0t,SeriesProperties:o0t,ARRAY:r0t,COLOR_STRING:ED,COLOR_STRING_ARRAY:n6,FUNCTION:s6,LINE_DASH:a6,OBJECT:OD,POSITIVE_NUMBER:vh,RATIO:Gb,STRING:Sh,Validate:pe,Label:l0t}=z,Iw=class extends l0t{constructor(){super(...arguments),this.spacing=1,this.maxWidth=1}};A([pe(vh)],Iw.prototype,"spacing");A([pe(vh)],Iw.prototype,"maxWidth");var Dl=class extends i6{constructor(){super(...arguments),this.fill=void 0,this.fillOpacity=1,this.stroke=void 0,this.strokeOpacity=1,this.strokeWidth=1,this.lineDash=[0],this.lineDashOffset=0,this.tension=0}};A([pe(ED,{optional:!0})],Dl.prototype,"fill");A([pe(Gb)],Dl.prototype,"fillOpacity");A([pe(ED,{optional:!0})],Dl.prototype,"stroke");A([pe(Gb)],Dl.prototype,"strokeOpacity");A([pe(vh)],Dl.prototype,"strokeWidth");A([pe(a6)],Dl.prototype,"lineDash");A([pe(vh)],Dl.prototype,"lineDashOffset");A([pe(Gb)],Dl.prototype,"tension");A([pe(s6,{optional:!0})],Dl.prototype,"itemStyler");var Ir=class extends i6{constructor(){super(...arguments),this.spacing=1,this.width=1,this.fill=void 0,this.fillOpacity=1,this.stroke=void 0,this.strokeOpacity=1,this.strokeWidth=1,this.lineDash=[0],this.lineDashOffset=0}};A([pe(vh)],Ir.prototype,"spacing");A([pe(vh)],Ir.prototype,"width");A([pe(ED,{optional:!0})],Ir.prototype,"fill");A([pe(Gb)],Ir.prototype,"fillOpacity");A([pe(ED,{optional:!0})],Ir.prototype,"stroke");A([pe(Gb)],Ir.prototype,"strokeOpacity");A([pe(vh)],Ir.prototype,"strokeWidth");A([pe(a6)],Ir.prototype,"lineDash");A([pe(vh)],Ir.prototype,"lineDashOffset");A([pe(s6,{optional:!0})],Ir.prototype,"itemStyler");var Ps=class extends o0t{constructor(){super(...arguments),this.idKey="",this.idName=void 0,this.labelKey=void 0,this.labelName=void 0,this.sizeKey=void 0,this.sizeName=void 0,this.nodes=void 0,this.fills=[],this.strokes=[],this.label=new Iw,this.link=new Dl,this.node=new Ir,this.tooltip=new a0t}};A([pe(Sh)],Ps.prototype,"fromKey");A([pe(Sh)],Ps.prototype,"toKey");A([pe(Sh)],Ps.prototype,"idKey");A([pe(Sh,{optional:!0})],Ps.prototype,"idName");A([pe(Sh,{optional:!0})],Ps.prototype,"labelKey");A([pe(Sh,{optional:!0})],Ps.prototype,"labelName");A([pe(Sh,{optional:!0})],Ps.prototype,"sizeKey");A([pe(Sh,{optional:!0})],Ps.prototype,"sizeName");A([pe(r0t,{optional:!0})],Ps.prototype,"nodes");A([pe(n6)],Ps.prototype,"fills");A([pe(n6)],Ps.prototype,"strokes");A([pe(OD)],Ps.prototype,"label");A([pe(OD)],Ps.prototype,"link");A([pe(OD)],Ps.prototype,"node");A([pe(OD)],Ps.prototype,"tooltip");var{SeriesNodePickMode:_F,CachedTextMeasurerPool:c0t,TextWrapper:u0t,TextUtils:h0t,createDatumId:rS,angleBetween:BS,normalizeAngle360:d0t,isBetweenAngles:jF,Sector:p0t,evaluateBezier:lS,applyShapeStyle:f0t}=z,cS=t=>t.startAngle+BS(t.startAngle,t.endAngle)/2,Tw=class extends Dw{constructor(t){super({moduleCtx:t,pickModes:[_F.NEAREST_NODE,_F.EXACT_SHAPE_MATCH]}),this.properties=new Ps}isLabelEnabled(){return(this.properties.labelKey!=null||this.nodes==null)&&this.properties.label.enabled}linkFactory(){return new Fc}nodeFactory(){return new p0t}createNodeData(){const{id:t,_nodeDataDependencies:{seriesRectWidth:e,seriesRectHeight:i}={seriesRectWidth:0,seriesRectHeight:0}}=this,{fromKey:n,toKey:s,sizeKey:a,label:{spacing:o,maxWidth:r,fontSize:l},node:{width:c,spacing:h}}=this.properties,p=e/2,f=i/2;let y=[];const{nodeGraph:m,links:b}=this.getNodeGraph(G=>({...G,centerX:p,centerY:f,innerRadius:NaN,outerRadius:NaN,startAngle:NaN,endAngle:NaN}),G=>({...G,centerX:p,centerY:f,radius:NaN,startAngle1:NaN,endAngle1:NaN,startAngle2:NaN,endAngle2:NaN}),{includeCircularReferences:!0});let v=0;m.forEach(({datum:G,linksBefore:W,linksAfter:Z},U)=>{const K=W.reduce(($,{link:X})=>$+X.size,0)+Z.reduce(($,{link:X})=>$+X.size,0);if(K===0)m.delete(U);else{G.size=K,v+=G.size;const $=this.getLabelText(this.properties.label,{datum:G.datum,value:G.label,fromKey:n,toKey:s,sizeKey:a,size:G.size});G.label=String($)}});let S=0;if(this.isLabelEnabled()){const G=this.properties.label.getFont();let W=0;m.forEach(({datum:Z})=>{const{id:U,label:K}=Z;if(K==null)return;const $=u0t.wrapText(K,{maxWidth:r,font:this.properties.label,textWrap:"never"}),{width:X}=c0t.measureText($,{font:G,textAlign:"left",textBaseline:"middle"});W=Math.max(X,W),y.push({id:U,text:$,centerX:p,centerY:f,angle:NaN,radius:NaN})}),S=W+o}const D=m.size;let I=Math.min(e,i)/2-c-S,T=h/I;if(S!==0&&(D*T>=1.5*Math.PI||I<=0)&&(y=[],I=Math.min(e,i)/2-c,T=h/I),D*T>=2*Math.PI||I<=0){ve.warnOnce("There was insufficient space to display the Chord Series.");return}const k=I,E=I+c,O=Math.max((2*Math.PI-D*T)/v,0);let B=0;m.forEach(({datum:G})=>{G.innerRadius=k,G.outerRadius=E,G.startAngle=B,G.endAngle=B+G.size*O,B=G.endAngle+T;const W=(G.innerRadius+G.outerRadius)/2,Z=cS(G);G.midPoint={x:G.centerX+W*Math.cos(Z),y:G.centerY+W*Math.sin(Z)}});const R=[];m.forEach(({datum:G,linksBefore:W,linksAfter:Z})=>{const U=cS(G),K=[...W.map(X=>({link:X.link,distance:BS(cS(X.node.datum),U),after:!1})),...Z.map(X=>({link:X.link,distance:BS(cS(X.node.datum),U),after:!0}))];let $=G.startAngle;K.toSorted((X,_)=>X.distance-_.distance).forEach(({link:X,after:_})=>{const V=X.size*O;_?(X.startAngle1=$,X.endAngle1=$+V):(X.startAngle2=$,X.endAngle2=$+V),$+=X.size*O}),R.push(G)});const{tension:L}=this.properties.link;b.forEach(G=>{G.radius=I;const W=MM({radius:I,startAngle:G.startAngle1,endAngle:G.endAngle2,tension:L}),Z=MM({radius:I,startAngle:G.startAngle2,endAngle:G.endAngle1,tension:L}),U=lS(...W.x,.5),K=lS(...W.y,.5),$=lS(...Z.x,.5),X=lS(...Z.y,.5);G.midPoint={x:G.centerX+(U+$)/2,y:G.centerY+(K+X)/2},R.push(G)}),y.forEach(G=>{var Z;const W=(Z=m.get(G.id))==null?void 0:Z.datum;W!=null&&(G.radius=E+o,G.angle=d0t(W.startAngle+BS(W.startAngle,W.endAngle)/2))}),y.sort((G,W)=>G.angle-W.angle);let F=1/0,j=-1/0;return y=y.filter(G=>{const W=h0t.getLineHeight(l),Z=Math.atan2(W/2,G.radius),U=G.angle-Z,K=G.angle+Z;return jF(F,U,K)||jF(j,U,K)?!1:(F=Math.min(U,F),j=Math.max(K,j),!0)}),{itemId:t,nodeData:R,labelData:y}}updateLabelSelection(t){const e=this.isLabelEnabled()?t.labelData:[];return t.labelSelection.update(e)}updateLabelNodes(t){const{labelSelection:e}=t,{color:i,fontStyle:n,fontWeight:s,fontSize:a,fontFamily:o}=this.properties.label;e.each((r,{text:l,centerX:c,centerY:h,radius:p,angle:f})=>{r.visible=!0,r.translationX=c+p*Math.cos(f),r.translationY=h+p*Math.sin(f),r.text=l,r.fill=i,r.fontStyle=n,r.fontWeight=s,r.fontSize=a,r.fontFamily=o,r.textBaseline="middle",Math.cos(f)>=0?(r.textAlign="left",r.rotation=f):(r.textAlign="right",r.rotation=f-Math.PI)})}updateNodeSelection(t){return t.datumSelection.update(t.nodeData,void 0,e=>rS([e.type,e.id]))}getBaseNodeStyle(t){const{properties:e}=this,{fill:i,fillOpacity:n,stroke:s,strokeOpacity:a,lineDash:o,lineDashOffset:r}=e.node,l=t?e.highlightStyle.item:void 0;return{fill:(l==null?void 0:l.fill)??i,fillOpacity:(l==null?void 0:l.fillOpacity)??n,stroke:(l==null?void 0:l.stroke)??s,strokeOpacity:(l==null?void 0:l.strokeOpacity)??a,strokeWidth:(l==null?void 0:l.strokeWidth)??this.getStrokeWidth(e.node.strokeWidth),lineDash:(l==null?void 0:l.lineDash)??o,lineDashOffset:(l==null?void 0:l.lineDashOffset)??r}}getNodeStyleOverrides(t,e,i,n,s,a,o){const{id:r,properties:l}=this,{fills:c,strokes:h}=l,{itemStyler:p}=l.node,f=a.fill??c[i%c.length],y=a.stroke??h[i%h.length],m={};if(o||(m.fill=f,m.stroke=y),p!=null){const b=this.cachedDatumCallback(rS(t,o?"highlight":"node"),()=>{const{fillOpacity:v=1,strokeOpacity:S=1,strokeWidth:D=0,lineDash:I=[],lineDashOffset:T=0}=a;return p({seriesId:r,datum:e,highlighted:o,label:s,size:n,fill:f,fillOpacity:v,stroke:y,strokeOpacity:S,strokeWidth:D,lineDash:I,lineDashOffset:T})});Object.assign(m,b)}return m}updateNodeNodes(t){const{datumSelection:e,isHighlight:i}=t,n=this.getBaseNodeStyle(i);e.each((s,a)=>{const{datumIndex:o,size:r,label:l}=a,c=this.getNodeStyleOverrides(String(o),a,o.index,r,l,n,i);s.centerX=a.centerX,s.centerY=a.centerY,s.innerRadius=a.innerRadius,s.outerRadius=a.outerRadius,s.startAngle=a.startAngle,s.endAngle=a.endAngle,s.fill=c.fill??(n==null?void 0:n.fill),s.fillOpacity=c.fillOpacity??(n==null?void 0:n.fillOpacity),s.stroke=c.stroke??(n==null?void 0:n.stroke),s.strokeOpacity=c.strokeOpacity??(n==null?void 0:n.strokeOpacity),s.strokeWidth=c.strokeWidth??(n==null?void 0:n.strokeWidth),s.lineDash=c.lineDash??(n==null?void 0:n.lineDash),s.lineDashOffset=c.lineDashOffset??(n==null?void 0:n.lineDashOffset),s.inset=s.strokeWidth/2})}updateLinkSelection(t){return t.datumSelection.update(t.nodeData,void 0,e=>rS([e.type,e.index,e.fromNode.id,e.toNode.id]))}getBaseLinkStyle(t){const{properties:e}=this,{fill:i,fillOpacity:n,stroke:s,strokeOpacity:a,lineDash:o,lineDashOffset:r,tension:l}=e.link,c=t?e.highlightStyle.item:void 0;return{fill:(c==null?void 0:c.fill)??i,fillOpacity:(c==null?void 0:c.fillOpacity)??n,stroke:(c==null?void 0:c.stroke)??s,strokeOpacity:(c==null?void 0:c.strokeOpacity)??a,strokeWidth:(c==null?void 0:c.strokeWidth)??this.getStrokeWidth(e.link.strokeWidth),lineDash:(c==null?void 0:c.lineDash)??o,lineDashOffset:(c==null?void 0:c.lineDashOffset)??r,tension:l}}getLinkStyleOverrides(t,e,i,n,s){const{id:a,properties:o}=this,{fills:r,strokes:l}=o,{itemStyler:c}=o.link,h=n.fill??r[i%r.length],p=n.stroke??l[i%l.length],f={};if(s||(f.fill=h,f.stroke=p),c!=null){const y=this.cachedDatumCallback(rS(t,s?"highlight":"node"),()=>{const{fillOpacity:m=1,strokeOpacity:b=1,strokeWidth:v=0,lineDash:S=[],lineDashOffset:D=0,tension:I}=n;return c({seriesId:a,datum:e,highlighted:s,tension:I,fill:h,fillOpacity:m,stroke:p,strokeOpacity:b,strokeWidth:v,lineDash:S,lineDashOffset:D})});Object.assign(f,y)}return f}updateLinkNodes(t){const{datumSelection:e,isHighlight:i}=t,n=this.getBaseLinkStyle(i);e.each((s,a)=>{const{datumIndex:o}=a,r=a.fromNode.datumIndex,l=this.getLinkStyleOverrides(String(o),a,r.index,n,i);s.centerX=a.centerX,s.centerY=a.centerY,s.radius=a.radius,s.startAngle1=a.startAngle1,s.endAngle1=a.endAngle1,s.startAngle2=a.startAngle2,s.endAngle2=a.endAngle2,f0t(s,n,l),s.tension=(l==null?void 0:l.tension)??n.tension})}getTooltipContent(t){var v,S;const{id:e,linksProcessedData:i,nodesProcessedData:n,properties:s}=this,{fromKey:a,toKey:o,sizeKey:r,sizeName:l,tooltip:c}=s,{datumIndex:h}=t,p=t.type===0?t.fromNode.index:t.index,f=t.type===0?`${t.fromNode.label} - ${t.toNode.label}`:t.label,y=h.type===0?(v=i==null?void 0:i.dataSources.get(this.id))==null?void 0:v[h.index]:(S=n==null?void 0:n.dataSources.get(this.id))==null?void 0:S[h.index],m=t.size;let b;if(t.type===0){const D=t.fromNode.datumIndex,I=this.getBaseLinkStyle(!1);Object.assign(I,this.getLinkStyleOverrides(String(h),y,D.index,I,!1)),b=I}else{const D=t.label,I=this.getBaseNodeStyle(!1);Object.assign(I,this.getNodeStyleOverrides(String(h),y,h.index,m,D,I,!1)),b=I}return c.formatTooltip({title:f,symbol:this.legendItemSymbol(t.type,p,b),data:r!=null?[{label:l,fallbackLabel:r,value:String(m)}]:[]},{seriesId:e,datum:y,title:f,fromKey:a,toKey:o,sizeKey:r,sizeName:l,size:m,...b})}computeFocusBounds(t){return t}};Tw.className="ChordSeries";Tw.type="chord";var g0t={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["flow-proportion"],solo:!0,identifier:"chord",tooltipDefaults:{range:"exact"},moduleFactory:t=>new Tw(t),themeTemplate:{series:{highlightStyle:{series:{dimOpacity:.2}},label:{fontFamily:{$ref:"fontFamily"},fontSize:{$ref:"fontSize"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"},spacing:5,maxWidth:100},node:{spacing:8,width:10,strokeWidth:0},link:{fillOpacity:.5,strokeWidth:0,tension:.4}},legend:{enabled:!1,toggleSeries:!1}},paletteFactory({takeColors:t,colorsCount:e}){const{fills:i,strokes:n}=t(e);return{fills:i,strokes:n}}},{ThemeConstants:{CARTESIAN_AXIS_TYPE:zf,CARTESIAN_POSITION:Af},ThemeSymbols:{DEFAULT_SHADOW_COLOUR:y0t}}=z;function o6(t){const{placement:e,...i}=(t==null?void 0:t.stageLabel)??{};return(t==null?void 0:t.direction)!=="horizontal"?[{type:zf.CATEGORY,position:e==="after"?Af.RIGHT:Af.LEFT,label:i},{type:zf.NUMBER,position:Af.BOTTOM}]:[{type:zf.NUMBER,position:Af.LEFT},{type:zf.CATEGORY,position:e==="before"?Af.TOP:Af.BOTTOM,label:i}]}var m0t={series:{direction:"vertical",strokeWidth:0,spacingRatio:.25,label:{enabled:!0,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"backgroundColor"}},dropOff:{enabled:!0,fillOpacity:.2,strokeWidth:0},shadow:{enabled:!1,color:y0t,xOffset:3,yOffset:3,blur:5}},axes:{[zf.NUMBER]:{nice:!1,gridLine:{enabled:!1},crosshair:{enabled:!1},label:{enabled:!1,formatter(t){return Math.abs(t.value).toFixed(t.fractionDigits??0)}}},[zf.CATEGORY]:{line:{enabled:!1}}}},{lineDistanceSquared:uS,BBox:x0t,Path:b0t,ScenePathChangeDetection:Mh}=z,FF=1e-6;function GF([t,e],[i,n]){return Math.abs(t-i)<=FF&&Math.abs(e-n)<=FF}var Il=class extends b0t{constructor(){super(...arguments),this.x0=0,this.y0=0,this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.x3=0,this.y3=0}get midPoint(){const{x0:t,y0:e,x1:i,y1:n,x2:s,y2:a,x3:o,y3:r}=this;return{x:(t+i+s+o)/4,y:(e+n+a+r)/4}}distanceSquared(t,e){if(this.containsPoint(t,e))return 0;const{x0:i,y0:n,x1:s,y1:a,x2:o,y2:r,x3:l,y3:c}=this;return Math.min(uS(t,e,i,n,s,a,1/0),uS(t,e,s,a,o,r,1/0),uS(t,e,o,r,l,c,1/0),uS(t,e,l,c,i,n,1/0))}computeBBox(){const{x0:t,y0:e,x1:i,y1:n,x2:s,y2:a,x3:o,y3:r}=this,l=Math.min(t,i,s,o),c=Math.max(t,i,s,o)-l,h=Math.min(e,n,a,r),p=Math.max(e,n,a,r)-h;return new x0t(l,h,c,p)}updatePath(){const{path:t,x0:e,y0:i,x1:n,y1:s,x2:a,y2:o,x3:r,y3:l}=this,c=[[e,i],[n,s],[a,o],[r,l]];t.clear();let h,p;c.forEach(f=>{if(h!=null&&GF(h,f)||p!=null&&GF(p,f))return;const[y,m]=f;h==null?t.moveTo(y,m):t.lineTo(y,m),h??(h=f),p=f}),t.closePath()}};A([Mh()],Il.prototype,"x0");A([Mh()],Il.prototype,"y0");A([Mh()],Il.prototype,"x1");A([Mh()],Il.prototype,"y1");A([Mh()],Il.prototype,"x2");A([Mh()],Il.prototype,"y2");A([Mh()],Il.prototype,"x3");A([Mh()],Il.prototype,"y3");var{NODE_UPDATE_STATE_TO_PHASE_MAPPING:v0t}=z;function VF(t,e,i,n){const{x0:s,y0:a,x1:o,y1:r,x2:l,y2:c,x3:h,y3:p,opacity:f}=t;return i?{x0:(s+h)/2,y0:(a+p)/2,x1:(o+l)/2,y1:(r+c)/2,x2:(o+l)/2,y2:(r+c)/2,x3:(s+h)/2,y3:(a+p)/2,opacity:f}:{x0:(s+o)/2,y0:(a+r)/2,x1:(s+o)/2,y1:(a+r)/2,x2:(l+h)/2,y2:(c+p)/2,x3:(l+h)/2,y3:(c+p)/2,opacity:f}}function S0t(t,e){const i=a=>a==null;return{fromFn:(a,o,r)=>{r==="updated"&&i(o)?r="removed":r==="updated"&&i(a.previousDatum)&&(r="added");let l;r==="added"&&a.previousDatum==null&&e==="fade"||(r==="unknown"||r==="added"?l=VF(o,a.previousDatum,t):l={x0:a.x0,y0:a.y0,x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2,x3:a.x3,y3:a.y3,opacity:a.opacity});const c=v0t[r];return{...l,phase:c}},toFn:(a,o,r)=>{let l;return r==="removed"&&a.datum==null&&e==="fade"||(r==="removed"||i(o)?l=VF(o,a.previousDatum,t):l=uL(a,o)),l}}}function uL(t,e){const{x0:i,y0:n,x1:s,y1:a,x2:o,y2:r,x3:l,y3:c,opacity:h}=e;return{x0:i,y0:n,x1:s,y1:a,x2:o,y2:r,x3:l,y3:c,opacity:h}}var{SeriesNodePickMode:UF,SeriesZIndexMap:HF,valueProperty:M0t,keyProperty:A0t,ChartAxisDirection:WF,updateLabelNode:D0t,SMALLEST_KEY_INTERVAL:I0t,LARGEST_KEY_INTERVAL:T0t,diff:C0t,fixNumericExtent:k0t,seriesLabelFadeInAnimation:YF,resetMotion:L0t,resetLabelFn:N0t,animationValidation:E0t,computeBarFocusBounds:O0t,ContinuousScale:w0t,Group:R0t,Selection:P0t,PointerEvents:$F,motion:B0t,checkCrisp:z0t,createDatumId:_0t}=z,j0t=class extends z.SeriesNodeEvent{constructor(t,e,i,n){super(t,e,i,n),this.xKey=n.properties.stageKey,this.yKey=n.properties.valueKey}},r6=class extends z.AbstractBarSeries{constructor({moduleCtx:t,animationResetFns:e}){super({moduleCtx:t,pickModes:[UF.AXIS_ALIGNED,UF.EXACT_SHAPE_MATCH],hasHighlightedLabels:!0,directionKeys:{x:["stageKey"],y:["valueKey"]},directionNames:{x:[],y:[]},datumSelectionGarbageCollection:!1,animationResetFns:{datum:e.datum,label:N0t}}),this.NodeEvent=j0t,this.connectorNodeGroup=this.contentGroup.appendChild(new R0t({name:`${this.id}-series-connectorNodes`,zIndex:HF.BACKGROUND})),this.connectorSelection=P0t.select(this.connectorNodeGroup,()=>this.connectionFactory()),this.connectorNodeGroup.pointerEvents=$F.None}get pickModeAxis(){return"main-category"}setSeriesIndex(t){return super.setSeriesIndex(t)?(this.connectorNodeGroup.zIndex=[HF.BACKGROUND,t],!0):!1}isVertical(){return!super.isVertical()}connectionFactory(){return new Il}async processData(t){var m,b,v,S;if(!this.properties.isValid())return;const{stageKey:e,valueKey:i}=this.properties,{visible:n,id:s}=this,a=(D,I,T)=>n&&this.ctx.legendManager.getItemEnabled({seriesId:s,itemId:T}),o=(m=this.getCategoryAxis())==null?void 0:m.scale,r=(b=this.getValueAxis())==null?void 0:b.scale,{isContinuousX:l,xScaleType:c,yScaleType:h}=this.getScaleInformation({xScale:o,yScale:r}),p=[];this.ctx.animationManager.isSkipped()||(this.processedData&&p.push(C0t(this.id,this.processedData)),p.push(E0t()));const f=this.visible?{}:{forceValue:0},{processedData:y}=await this.requestDataModel(t,this.data,{props:[A0t(e,c,{id:"xValue"}),M0t(i,h,{id:"yValue",...f,validation:a,invalidValue:0}),...l?[I0t,T0t]:[],...p],groupByKeys:!1});this.smallestDataInterval=(v=y.reduced)==null?void 0:v.smallestKeyInterval,this.largestDataInterval=(S=y.reduced)==null?void 0:S.largestKeyInterval,this.animationState.transition("updateData")}getSeriesDomain(t){const{processedData:e,dataModel:i,id:n,ctx:{legendManager:s}}=this;if(!e||!i)return[];const{keys:[a]}=e.domain;if(t===this.getCategoryDirection()){const o=i.resolveProcessedDataDefById(this,"xValue");return(o==null?void 0:o.def.type)==="key"&&(o==null?void 0:o.def.valueType)==="category"?this.hasData?a.filter((r,l)=>s.getItemEnabled({seriesId:n,itemId:l})):[]:this.padBandExtent(a)}else{const o=this.domainForClippedRange(WF.Y,["yValue"],"xValue",!0),r=Math.max(...o),l=[-r,r];return k0t(l)}}getSeriesRange(t,e){return[NaN,NaN]}createNodeData(){const{hasData:t,data:e,dataModel:i,groupScale:n,processedData:s,id:a,ctx:{legendManager:o}}=this,r=this.getCategoryAxis(),l=this.getValueAxis();if(!(t&&e&&r&&l&&i&&(s==null?void 0:s.type)==="ungrouped"))return;const c=r.scale,h=l.scale,p=this.getBarDirection()===WF.X,{stageKey:f,valueKey:y}=this.properties,{strokeWidth:m}=this.barStyle(),b=`${y}`,v={itemId:b,nodeData:[],labelData:[],connectorData:[],scales:this.calculateScaling(),visible:this.visible},S=this.visible;if(!S)return v;const D=i.resolveKeysById(this,"xValue",s),I=i.resolveColumnById(this,"yValue",s),{barWidth:T,groupIndex:k}=this.updateGroupScale(r),E=w0t.is(c)?T*-.5:0,O=z0t(r==null?void 0:r.scale,r==null?void 0:r.visibleRange,this.smallestDataInterval,this.largestDataInterval);let B;return(s.dataSources.get(this.id)??[]).forEach((L,F)=>{const j=S&&o.getItemEnabled({seriesId:a,itemId:F}),G=D[F];if(G==null)return;const W=Math.round(c.convert(G))+n.convert(String(k))+E,Z=I[F],U=Math.round(h.convert(-Z)),K=Math.round(h.convert(Z)),$=Math.max(m,Math.abs(K-U)),X={x:p?Math.min(K,U):W,y:p?W:Math.min(K,U),width:p?$:T,height:p?T:$},_={x:X.x+X.width/2,y:X.y+X.height/2},V=this.createLabelData({datumIndex:F,rect:X,barAlongX:p,yDatum:Z,datum:L,visible:j}),Y={index:F,series:this,itemId:b,datum:L,datumIndex:F,xValue:G,yValue:Z,xKey:f,yKey:y,x:X.x,y:X.y,width:X.width,height:X.height,midPoint:_,strokeWidth:m,crisp:O,label:V,visible:j};if(v.nodeData.push(Y),V!=null&&v.labelData.push(V),B!=null){const J=B.rect,q=B.nodeDatum,nt=B.datumIndex;p?v.connectorData.push({datum:q,datumIndex:nt,x0:J.x,y0:J.y+J.height,x1:J.x+J.width,y1:J.y+J.height,x2:X.x+X.width,y2:X.y,x3:X.x,y3:X.y,opacity:1}):v.connectorData.push({datum:q,datumIndex:nt,x0:J.x+J.width,y0:J.y,x1:X.x,y1:X.y,x2:X.x,y2:X.y+X.height,x3:J.x+J.width,y3:J.y+J.height,opacity:1})}j&&(B={itemId:b,rect:X,nodeDatum:Y,datumIndex:F})}),v}updateNodes(t,e,i){var a;super.updateNodes(t,e,i);const{connectorSelection:n}=this,s=((a=this.contextNodeData)==null?void 0:a.connectorData)??[];this.connectorSelection=this.updateConnectorSelection({connectorSelection:n,connectorData:s}),this.updateConnectorNodes({connectorSelection:n})}updateDatumSelection(t){const{nodeData:e,datumSelection:i}=t,n=e??[];return i.update(n,void 0,s=>this.getDatumId(s))}updateConnectorSelection(t){const{connectorData:e,connectorSelection:i}=t;return i.update(this.connectorEnabled()?e:[],void 0,n=>this.getDatumId(n.datum))}updateConnectorNodes(t){const{fills:e,strokes:i}=this.properties,{fill:n,fillOpacity:s,stroke:a,strokeOpacity:o,strokeWidth:r,lineDash:l,lineDashOffset:c}=this.connectorStyle();t.connectorSelection.each((h,p)=>{const{datumIndex:f}=p;h.setProperties(uL(h,p)),h.fill=n??e[f%e.length],h.fillOpacity=s,h.stroke=a??i[f%i.length],h.strokeOpacity=o,h.strokeWidth=r,h.lineDash=l,h.lineDashOffset=c})}getHighlightLabelData(t,e){const i=t.filter(n=>n.datum===e.datum);return i.length>0?i:void 0}updateLabelSelection(t){const e=this.properties.label.enabled?t.labelData:[];return t.labelSelection.update(e,i=>{i.pointerEvents=$F.None})}updateLabelNodes(t){t.labelSelection.each((e,i)=>{D0t(e,this.properties.label,i)})}getTooltipContent(t){var m;const{id:e,dataModel:i,processedData:n,properties:s}=this,{stageKey:a,valueKey:o,tooltip:r}=s,l=this.getCategoryAxis(),c=this.getValueAxis();if(!i||!n||!l||!c)return;const{datumIndex:h}=t,p=(m=n.dataSources.get(this.id))==null?void 0:m[h],f=i.resolveKeysById(this,"xValue",n)[h],y=i.resolveColumnById(this,"yValue",n)[h];if(f!=null)return r.formatTooltip({symbol:this.legendItemSymbol(h),data:[{label:l.formatDatum(f),value:c.formatDatum(y)}]},{seriesId:e,datum:p,title:a,stageKey:a,valueKey:o,...this.tooltipStyle(p,h)})}resetAllAnimation(t){super.resetAllAnimation(t),L0t([this.connectorSelection],uL)}animateEmptyUpdateReady({labelSelection:t}){const{connectorSelection:e}=this,i=this.isVertical(),s=S0t(i,"normal");B0t.fromToMotion(this.id,"connectors",this.ctx.animationManager,[e],s),YF(this,"labels",this.ctx.animationManager,t)}animateWaitingUpdateReady(t){const{labelSelection:e}=t;this.ctx.animationManager.stopByAnimationGroupId(this.id),YF(this,"labels",this.ctx.animationManager,e)}getDatumId(t){return _0t(t.xValue)}isLabelEnabled(){return this.properties.label.enabled}computeFocusBounds({datumIndex:t}){var e;return O0t(this,(e=this.contextNodeData)==null?void 0:e.nodeData[t])}legendItemSymbol(t){const{strokeWidth:e,fillOpacity:i,strokeOpacity:n,lineDash:s,lineDashOffset:a}=this.barStyle(),{fills:o,strokes:r}=this.properties,l=o[t%o.length]??"black",c=r[t%r.length]??"black";return{marker:{fill:l,fillOpacity:i,stroke:c,strokeWidth:e,strokeOpacity:n,lineDash:s,lineDashOffset:a}}}getLegendData(t){const{id:e,processedData:i,dataModel:n,ctx:{legendManager:s},visible:a}=this;if(!n||!i||t!=="category"||!this.properties.isValid())return[];const{showInLegend:o}=this.properties,r=n.resolveKeysById(this,"xValue",i);return(i.dataSources.get(this.id)??[]).map((l,c)=>{const h=r[c];if(h!=null)return{legendType:"category",id:e,datum:l,itemId:c,seriesId:e,enabled:a&&s.getItemEnabled({seriesId:e,itemId:c}),label:{text:String(h)},symbol:this.legendItemSymbol(c),skipAnimations:!0,hideInLegend:!o}}).filter(l=>l!=null)}},{Label:F0t,AbstractBarSeriesProperties:G0t,SeriesTooltip:V0t,AxisLabel:U0t,Validate:sa,UNION:l6,COLOR_STRING_ARRAY:c6,LINE_DASH:H0t,OBJECT:Cw,POSITIVE_NUMBER:kw,RATIO:u6,STRING:h6}=z,Lw=class extends F0t{constructor(){super(...arguments),this.spacing=0}};A([sa(l6(["before","middle","after"],"a placement"))],Lw.prototype,"placement");A([sa(kw)],Lw.prototype,"spacing");var d6=class extends U0t{};A([sa(l6(["before","after"],"a placement"))],d6.prototype,"placement");var Za=class extends G0t{constructor(){super(...arguments),this.fills=[],this.fillOpacity=1,this.strokes=[],this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.label=new Lw,this.stageLabel=new d6,this.tooltip=new V0t}};A([sa(h6)],Za.prototype,"stageKey");A([sa(h6)],Za.prototype,"valueKey");A([sa(c6)],Za.prototype,"fills");A([sa(u6)],Za.prototype,"fillOpacity");A([sa(c6)],Za.prototype,"strokes");A([sa(kw)],Za.prototype,"strokeWidth");A([sa(u6)],Za.prototype,"strokeOpacity");A([sa(H0t)],Za.prototype,"lineDash");A([sa(kw)],Za.prototype,"lineDashOffset");A([sa(Cw)],Za.prototype,"label");A([sa(Cw)],Za.prototype,"stageLabel");A([sa(Cw)],Za.prototype,"tooltip");function KF(t,{x:e,y:i,width:n,height:s,opacity:a}){return{x1:e,y1:i,x2:e+n,y2:i+s,opacity:a}}var{formatValue:W0t,Line:Y0t}=z,Nw=class extends r6{constructor(t){super({moduleCtx:t,animationResetFns:{datum:KF}}),this.properties=new Za}get hasData(){var n;const{id:t,ctx:{legendManager:e}}=this,i=(n=this.data)==null?void 0:n.reduce((s,a,o)=>s+(e.getItemEnabled({seriesId:t,itemId:o})?1:0),0);return i!=null&&i>1}getBandScalePadding(){return{inner:1,outer:0}}connectorEnabled(){return!0}barStyle(){return{fillOpacity:1,strokeOpacity:1,strokeWidth:0,lineDash:[],lineDashOffset:0}}connectorStyle(){const{fillOpacity:t,strokeOpacity:e,strokeWidth:i,lineDash:n,lineDashOffset:s}=this.properties;return{fillOpacity:t,strokeOpacity:e,strokeWidth:i,lineDash:n,lineDashOffset:s}}nodeFactory(){return new Y0t}createLabelData({datumIndex:t,rect:e,barAlongX:i,yDatum:n,datum:s,visible:a}){const{stageKey:o,valueKey:r,label:l}=this.properties,{spacing:c,placement:h}=l;let p,f,y,m;if(i)switch(p=e.x+e.width/2,y="center",h){case"before":f=e.y-c,m="bottom";break;case"after":f=e.y+e.height+c,m="top";break;default:f=e.y+e.height/2,m="middle"}else switch(f=e.y+e.height/2,m="middle",h){case"before":p=e.x-c,y="right";break;case"after":p=e.x+e.width+c,y="left";break;default:p=e.x+e.width/2,y="center"}return{x:p,y:f,textAlign:y,textBaseline:m,text:this.getLabelText(l,{itemId:r,value:n,datum:s,stageKey:o,valueKey:r},b=>W0t(b,0)),itemId:r,datum:s,datumIndex:t,series:this,visible:a}}updateDatumNodes(t){const e=t.isHighlight?this.properties.highlightStyle.item:void 0;t.datumSelection.each((i,n)=>{i.setProperties(KF(i,n)),i.stroke=e==null?void 0:e.stroke,i.strokeWidth=(e==null?void 0:e.strokeWidth)??0,i.strokeOpacity=(e==null?void 0:e.strokeOpacity)??1,i.lineDash=e==null?void 0:e.lineDash,i.lineDashOffset=(e==null?void 0:e.lineDashOffset)??0})}tooltipStyle(t,e){const{fills:i,strokes:n}=this.properties,s=i[e%i.length]??"black",a=n[e%n.length]??"black",{fillOpacity:o,strokeOpacity:r,strokeWidth:l,lineDash:c,lineDashOffset:h}=this.barStyle();return{fill:s,fillOpacity:o,stroke:a,strokeOpacity:r,strokeWidth:l,lineDash:c,lineDashOffset:h}}};Nw.className="ConeFunnelSeries";Nw.type="cone-funnel";var{ThemeConstants:{CARTESIAN_AXIS_TYPE:XF}}=z,$0t={series:{direction:"vertical",strokeWidth:0,label:{enabled:!0,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"},placement:"before",spacing:4}},seriesArea:{padding:{top:20,bottom:20}},axes:{[XF.NUMBER]:{nice:!1,gridLine:{enabled:!1},crosshair:{enabled:!1},label:{enabled:!1,formatter(t){return Math.abs(t.value).toFixed(t.fractionDigits??0)}}},[XF.CATEGORY]:{line:{enabled:!1}}}},K0t={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"cone-funnel",moduleFactory:t=>new Nw(t),solo:!0,tooltipDefaults:{range:"nearest"},defaultAxes:o6,themeTemplate:$0t,paletteFactory:({userPalette:t,themeTemplateParameters:e,takeColors:i,colorsCount:n})=>{const{fills:s}=i(n),a=e.get(z.ThemeSymbols.DEFAULT_FUNNEL_SERIES_COLOR_RANGE),o=t==="inbuilt"?a:[s[0],s[1]];return{fills:o,strokes:o.slice(0)}}},{Label:X0t,DropShadow:Z0t,AbstractBarSeriesProperties:q0t,BaseProperties:Q0t,SeriesTooltip:J0t,AxisLabel:tvt,Validate:li,UNION:evt,BOOLEAN:ivt,COLOR_STRING_ARRAY:p6,COLOR_STRING:f6,FUNCTION:nvt,LINE_DASH:g6,OBJECT:Vb,POSITIVE_NUMBER:wD,RATIO:Ub,STRING:y6}=z,svt=class extends X0t{},m6=class extends tvt{};A([li(evt(["before","after"],"a placement"))],m6.prototype,"placement");var Gc=class extends Q0t{constructor(){super(...arguments),this.enabled=!0,this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0}};A([li(ivt)],Gc.prototype,"enabled");A([li(f6,{optional:!0})],Gc.prototype,"fill");A([li(Ub)],Gc.prototype,"fillOpacity");A([li(f6,{optional:!0})],Gc.prototype,"stroke");A([li(wD)],Gc.prototype,"strokeWidth");A([li(Ub)],Gc.prototype,"strokeOpacity");A([li(g6)],Gc.prototype,"lineDash");A([li(wD)],Gc.prototype,"lineDashOffset");var ps=class extends q0t{constructor(){super(...arguments),this.fills=[],this.fillOpacity=1,this.strokes=[],this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.spacingRatio=0,this.dropOff=new Gc,this.shadow=new Z0t().set({enabled:!1}),this.label=new svt,this.stageLabel=new m6,this.tooltip=new J0t}};A([li(y6)],ps.prototype,"stageKey");A([li(y6)],ps.prototype,"valueKey");A([li(p6)],ps.prototype,"fills");A([li(Ub)],ps.prototype,"fillOpacity");A([li(p6)],ps.prototype,"strokes");A([li(wD)],ps.prototype,"strokeWidth");A([li(Ub)],ps.prototype,"strokeOpacity");A([li(g6)],ps.prototype,"lineDash");A([li(wD)],ps.prototype,"lineDashOffset");A([li(Ub)],ps.prototype,"spacingRatio");A([li(nvt,{optional:!0})],ps.prototype,"itemStyler");A([li(Vb)],ps.prototype,"dropOff");A([li(Vb)],ps.prototype,"shadow");A([li(Vb)],ps.prototype,"label");A([li(Vb)],ps.prototype,"stageLabel");A([li(Vb)],ps.prototype,"tooltip");var{ChartAxisDirection:avt,resetBarSelectionsFn:ovt,prepareBarAnimationFunctions:ZF,midpointStartingBarPosition:qF,createDatumId:rvt,formatValue:lvt,Rect:cvt,motion:QF,applyShapeStyle:uvt}=z,Ew=class extends r6{constructor(t){super({moduleCtx:t,animationResetFns:{datum:ovt}}),this.properties=new ps}getBandScalePadding(){return{inner:this.properties.spacingRatio,outer:0}}connectorEnabled(){return this.properties.dropOff.enabled}barStyle(){const{fillOpacity:t,strokeOpacity:e,strokeWidth:i,lineDash:n,lineDashOffset:s}=this.properties;return{fillOpacity:t,strokeOpacity:e,strokeWidth:i,lineDash:n,lineDashOffset:s}}connectorStyle(){const{fill:t,fillOpacity:e,stroke:i,strokeOpacity:n,strokeWidth:s,lineDash:a,lineDashOffset:o}=this.properties.dropOff;return{fill:t,fillOpacity:e,stroke:i,strokeOpacity:n,strokeWidth:s,lineDash:a,lineDashOffset:o}}nodeFactory(){return new cvt}createLabelData({datumIndex:t,rect:e,yDatum:i,datum:n,visible:s}){const{valueKey:a,stageKey:o,label:r}=this.properties;return{x:e.x+e.width/2,y:e.y+e.height/2,textAlign:"center",textBaseline:"middle",text:this.getLabelText(r,{itemId:o,value:i,datum:n,valueKey:a,stageKey:o},l=>lvt(l,0)),itemId:o,datum:n,datumIndex:t,series:this,visible:s}}getItemBaseStyle(t){const{properties:e}=this,i=t?e.highlightStyle.item:void 0;return{fill:i==null?void 0:i.fill,fillOpacity:(i==null?void 0:i.fillOpacity)??e.fillOpacity,stroke:i==null?void 0:i.stroke,strokeWidth:(i==null?void 0:i.strokeWidth)??this.getStrokeWidth(e.strokeWidth),strokeOpacity:(i==null?void 0:i.strokeOpacity)??e.strokeOpacity,lineDash:(i==null?void 0:i.lineDash)??e.lineDash,lineDashOffset:(i==null?void 0:i.lineDashOffset)??e.lineDashOffset}}getItemStyleOverrides(t,e,i,n,s){const{id:a,properties:o}=this,{stageKey:r,valueKey:l,fills:c,strokes:h,itemStyler:p}=o,f=n.fill??c[i%c.length]??"black",y=n.stroke??h[i%h.length]??"black",m={};if(s||(m.fill=f,m.stroke=y),p!=null){const b=this.cachedDatumCallback(rvt(t,s?"highlight":"node"),()=>{const{fillOpacity:v,strokeOpacity:S,strokeWidth:D,lineDash:I,lineDashOffset:T}=n;return p({seriesId:a,datum:e,highlighted:s,stageKey:r,valueKey:l,fill:f,fillOpacity:v,stroke:y,strokeOpacity:S,strokeWidth:D,lineDash:I,lineDashOffset:T})});Object.assign(m,b)}return m}updateDatumNodes(t){const{shadow:e}=this.properties,{datumSelection:i,isHighlight:n}=t,s=this.getCategoryDirection()===avt.X,a=this.getItemBaseStyle(n);i.each((o,r)=>{const{datumIndex:l}=r,c=this.getItemStyleOverrides(String(r.datumIndex),r.datum,l,a,n);uvt(o,a,c),o.visible=s?r.width>0:r.height>0,o.crisp=r.crisp,o.fillShadow=e})}tooltipStyle(t,e){const i=this.getItemBaseStyle(!1);return Object.assign(i,this.getItemStyleOverrides(String(e),t,e,i,!1)),i}animateEmptyUpdateReady(t){super.animateEmptyUpdateReady(t);const{datumSelection:e}=t,i=this.isVertical(),s=ZF(qF(i,"normal"));QF.fromToMotion(this.id,"datums",this.ctx.animationManager,[e],s)}animateWaitingUpdateReady(t){var a,o;super.animateWaitingUpdateReady(t);const{datumSelection:e}=t,{processedData:i}=this,n=(o=(a=i==null?void 0:i.reduced)==null?void 0:a.diff)==null?void 0:o[this.id],s=ZF(qF(this.isVertical(),"fade"));QF.fromToMotion(this.id,"datums",this.ctx.animationManager,[e],s,(r,l)=>l.xValue,n)}};Ew.className="FunnelSeries";Ew.type="funnel";var hvt={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"funnel",moduleFactory:t=>new Ew(t),solo:!0,tooltipDefaults:{range:"exact"},defaultAxes:o6,themeTemplate:m0t,paletteFactory:({takeColors:t})=>{const{fills:e,strokes:i}=t(1);return{fills:e,strokes:i}}},{CachedTextMeasurerPool:x6,TextUtils:b6,TextWrapper:AM}=z;function dvt(t,e){const{fontSize:i,minimumFontSize:n=i}=t,{fontSize:s,minimumFontSize:a=s}=e,o=i-n,r=s-a;let l=t.fontSize,c=e.fontSize;const h=[{labelFontSize:i,secondaryLabelFontSize:s}];for(;l>n||c>a;){const p=o>0?(l-n)/o:-1,f=r>0?(c-a)/r:-1;p>f?l--:c--,h.push({labelFontSize:l,secondaryLabelFontSize:c})}return h.reverse(),h}function ng(t,e){return t.lineHeight!=null&&t.fontSize!=null?t.lineHeight*e/t.fontSize:b6.getLineHeight(e)}function v6(t,e,i,n,{padding:s},a){const{spacing:o=0}=e,r=2*s,l=2*s+o,c=(e.minimumFontSize??e.fontSize)+(n.minimumFontSize??n.fontSize);if(c>a(c+l,!1).height-l)return;const h=dvt(e,n),p={fontFamily:e.fontFamily,fontSize:e.fontSize,fontStyle:e.fontStyle,fontWeight:e.fontWeight},f={fontFamily:n.fontFamily,fontSize:n.fontSize,fontStyle:n.fontStyle,fontWeight:n.fontWeight};let y,m;return cY(0,h.length-1,b=>{const{labelFontSize:v,secondaryLabelFontSize:S}=h[b],D=b===0,I=ng(e,v),T=ng(n,S),k=a(I+T+l,D),E=k.width-r,O=k.height-l;if(I+T>O||((y==null||y.fontSize!==v)&&(p.fontSize=v,y=t3(e,t,E,O,p,e.wrapping,D?e.overflowStrategy:"hide")),y==null||y.width>E||y.height>O)||((m==null||m.fontSize!==S)&&(f.fontSize=S,m=t3(n,i,E,O,f,n.wrapping,D?n.overflowStrategy:"hide")),m==null))return;const B=y.height+m.height;if(!(m.width>E||B>O))return{width:Math.max(y.width,m.width),height:B+o,meta:k.meta,label:y,secondaryLabel:m}})}function Bx(t,e,{padding:i},n){const s=2*i,a=Math.min(e.minimumFontSize??e.fontSize,e.fontSize),o={fontFamily:e.fontFamily,fontSize:e.fontSize,fontStyle:e.fontStyle,fontWeight:e.fontWeight};return cY(a,e.fontSize,r=>{const l=ng(e,r),c=r===a,h=n(l+s,c),p=h.width-s,f=h.height-s;if(l>f)return;o.fontSize=r;const y=AM.wrapLines(t,{maxWidth:p,maxHeight:f,font:o,textWrap:e.wrapping,overflow:(c?e.overflowStrategy:void 0)??"hide"});if(!y.length)return;const m=pvt(y,{lineHeight:l,font:o,maxWidth:p,maxHeight:f});if(m)return[{fontSize:r,lineHeight:l,...m},h.meta]})}function JF(t){return(t==null?void 0:t.minimumFontSize)!=null&&(t==null?void 0:t.fontSize)!=null&&(t==null?void 0:t.minimumFontSize)>(t==null?void 0:t.fontSize)}function Ow(t,e,i,n,s,a){const o=e.enabled?t:void 0,r=n.enabled?i:void 0;(JF(e)||JF(n))&&ve.warnOnce("minimumFontSize should be set to a value less than or equal to the font size");let l;o!=null&&r!=null&&(l=v6(o,e,r,n,s,a));let c;if(l==null&&o!=null&&(c=Bx(o,e,s,a)),c!=null){const[p,f]=c;l={width:p.width,height:p.height,meta:f,label:p,secondaryLabel:void 0}}let h;if(l==null&&o==null&&r!=null&&(h=Bx(r,n,s,a)),h!=null){const[p,f]=h;l={width:p.width,height:p.height,meta:f,label:void 0,secondaryLabel:p}}return l}function t3(t,e,i,n,s,a,o){const r=AM.wrapLines(e,{maxWidth:i,maxHeight:n,font:s,textWrap:a,overflow:o});if(!r.length)return;const l=ng(t,s.fontSize),{width:c}=x6.measureLines(r,{font:s});return{width:c,lineHeight:l,text:r.join(`
`),height:r.length*l,fontSize:s.fontSize}}function pvt(t,{font:e,lineHeight:i=b6.defaultLineHeight,maxWidth:n,maxHeight:s=1/0}){let a=i*t.length;for(;a>s;){if(t.length===1)return;t.pop(),t[t.length-1]=AM.appendEllipsis(t.at(-1)),a=i*t.length}const o=x6.measureLines(t,{font:e});let r,l;if(o.width>n){const c=[];l=0;for(const h of o.lineMetrics){if(h.width>n){if(!c.length)return;break}c.push(h.text),l=Math.max(l,h.width)}r=AM.appendEllipsis(c.join(`
`))}else r=t.join(`
`),l=o.width;return{text:r,width:l,height:a}}var{Validate:Hb,NUMBER:fvt,POSITIVE_NUMBER:S6,TEXT_WRAP:gvt,OVERFLOW_STRATEGY:yvt}=z,$g=class extends z.Label{constructor(){super(...arguments),this.wrapping="on-space",this.overflowStrategy="ellipsis"}};A([Hb(gvt)],$g.prototype,"wrapping");A([Hb(yvt)],$g.prototype,"overflowStrategy");A([Hb(S6,{optional:!0})],$g.prototype,"lineHeight");A([Hb(S6,{optional:!0})],$g.prototype,"minimumFontSize");var hl=class extends $g{constructor(){super(...arguments),this.spacing=0}};A([Hb(fvt)],hl.prototype,"spacing");var Wb=class extends $g{},{CartesianSeriesProperties:mvt,SeriesTooltip:xvt,Validate:fs,AND:bvt,ARRAY:vvt,COLOR_STRING:Svt,COLOR_STRING_ARRAY:Mvt,FUNCTION:Avt,OBJECT:M6,POSITIVE_NUMBER:A6,RATIO:Dvt,STRING:cp,TEXT_ALIGN:Ivt,VERTICAL_ALIGN:Tvt}=z,Yn=class extends mvt{constructor(){super(...arguments),this.colorRange=["black","black"],this.stroke="black",this.strokeOpacity=1,this.strokeWidth=0,this.textAlign="center",this.verticalAlign="middle",this.itemPadding=0,this.label=new hl,this.tooltip=new xvt}};A([fs(cp,{optional:!0})],Yn.prototype,"title");A([fs(cp)],Yn.prototype,"xKey");A([fs(cp)],Yn.prototype,"yKey");A([fs(cp,{optional:!0})],Yn.prototype,"colorKey");A([fs(cp,{optional:!0})],Yn.prototype,"xName");A([fs(cp,{optional:!0})],Yn.prototype,"yName");A([fs(cp,{optional:!0})],Yn.prototype,"colorName");A([fs(bvt(Mvt,vvt.restrict({minLength:1})))],Yn.prototype,"colorRange");A([fs(Svt,{optional:!0})],Yn.prototype,"stroke");A([fs(Dvt)],Yn.prototype,"strokeOpacity");A([fs(A6,{optional:!0})],Yn.prototype,"strokeWidth");A([fs(Ivt)],Yn.prototype,"textAlign");A([fs(Tvt)],Yn.prototype,"verticalAlign");A([fs(A6)],Yn.prototype,"itemPadding");A([fs(Avt,{optional:!0})],Yn.prototype,"itemStyler");A([fs(M6)],Yn.prototype,"label");A([fs(M6)],Yn.prototype,"tooltip");var{SeriesNodePickMode:e3,computeBarFocusBounds:Cvt,getMissCount:kvt,valueProperty:O1,ChartAxisDirection:xo,DEFAULT_CARTESIAN_DIRECTION_KEYS:Lvt,DEFAULT_CARTESIAN_DIRECTION_NAMES:Nvt,createDatumId:Evt,ColorScale:Ovt,Rect:wvt,PointerEvents:Rvt,applyShapeStyle:Pvt}=z,Bvt=class extends z.CartesianSeriesNodeEvent{constructor(t,e,i,n){super(t,e,i,n),this.colorKey=n.properties.colorKey}},zvt={left:-.5,center:0,right:-.5},_vt={top:-.5,middle:0,bottom:-.5},ww=class extends z.CartesianSeries{constructor(t){super({moduleCtx:t,directionKeys:Lvt,directionNames:Nvt,pickModes:[e3.NEAREST_NODE,e3.EXACT_SHAPE_MATCH],pathsPerSeries:[],hasMarkers:!1,hasHighlightedLabels:!0}),this.properties=new Yn,this.NodeEvent=Bvt,this.colorScale=new Ovt}async processData(t){var m,b,v;const e=this.axes[xo.X],i=this.axes[xo.Y];if(!e||!i||!this.properties.isValid()||!((m=this.data)!=null&&m.length))return;const{xKey:n,yKey:s,colorRange:a,colorKey:o}=this.properties,r=(b=this.axes[xo.X])==null?void 0:b.scale,l=(v=this.axes[xo.Y])==null?void 0:v.scale,{xScaleType:c,yScaleType:h}=this.getScaleInformation({xScale:r,yScale:l}),p=this.colorScale.type,{dataModel:f,processedData:y}=await this.requestDataModel(t,this.data,{props:[O1(n,c,{id:"xValue"}),O1(s,h,{id:"yValue"}),...o?[O1(o,p,{id:"colorValue"})]:[]]});if(this.isColorScaleValid()){const S=f.resolveProcessedDataIndexById(this,"colorValue");this.colorScale.domain=y.domain.values[S],this.colorScale.range=a,this.colorScale.update()}}isColorScaleValid(){const{colorKey:t}=this.properties;if(!t)return!1;const{dataModel:e,processedData:i}=this;if(!e||!i)return!1;const n=e.resolveProcessedDataIndexById(this,"colorValue"),s=i.input.count,a=kvt(this,i.defs.values[n].missing);return!(s===0||s===a)}xCoordinateRange(t,e){const i=this.axes[xo.X].scale,n=e*(i.bandwidth??0)/2,s=i.convert(t)+n,a=e*(i.bandwidth??10);return[s,s+a]}yCoordinateRange(t,e){const i=this.axes[xo.Y].scale,n=e*(i.bandwidth??0)/2,s=i.convert(t[0])+n,a=e*(i.bandwidth??10);return[s,s+a]}getSeriesDomain(t){const{dataModel:e,processedData:i}=this;return!e||!i?[]:t===xo.X?e.getDomain(this,"xValue","value",i):e.getDomain(this,"yValue","value",i)}getSeriesRange(t,e){return[NaN,NaN]}createNodeData(){const{data:t,visible:e,axes:i,dataModel:n,processedData:s}=this,a=i[xo.X],o=i[xo.Y];if(!(t&&n&&s&&e&&a&&o))return;if(a.type!=="category"||o.type!=="category"){ve.warnOnce(`Heatmap series expected axes to have "category" type, but received "${a.type}" and "${o.type}" instead.`);return}const{xKey:r,xName:l,yKey:c,yName:h,colorKey:p,colorName:f,textAlign:y,verticalAlign:m,itemPadding:b,label:v}=this.properties,S=n.resolveColumnById(this,"xValue",s),D=n.resolveColumnById(this,"yValue",s),I=p?n.resolveColumnById(this,"colorValue",s):void 0,T=a.scale,k=o.scale,E=(T.bandwidth??0)/2,O=(k.bandwidth??0)/2,B=[],R=[],L=T.bandwidth??10,F=k.bandwidth??10,j=(L-2*b)*zvt[y],G=(F-2*b)*_vt[m],W=()=>({width:L,height:F,meta:null});return(s.dataSources.get(this.id)??[]).forEach((U,K)=>{const $=S[K],X=D[K],_=T.convert($)+E,V=k.convert(X)+O,Y=I==null?void 0:I[K],J=Y==null?void 0:this.getLabelText(v,{value:Y,datum:U,colorKey:p,colorName:f,xKey:r,yKey:c,xName:l,yName:h}),q=Ow(J,this.properties.label,void 0,this.properties.label,{padding:b},W),nt={x:_,y:V,size:0};if(B.push({series:this,itemId:c,datumIndex:K,yKey:c,xKey:r,xValue:$,yValue:X,colorValue:Y,datum:U,point:nt,width:L,height:F,midPoint:{x:_,y:V},missing:Y==null}),(q==null?void 0:q.label)!=null){const{text:st,fontSize:rt,lineHeight:ct,height:dt}=q.label,{fontStyle:ht,fontFamily:yt,fontWeight:pt,color:vt}=this.properties.label,At=nt.x+j*(L-2*b),bt=nt.y+G*(F-2*b)-(q.height-dt)*.5;R.push({series:this,itemId:c,datum:U,datumIndex:K,text:st,fontSize:rt,lineHeight:ct,fontStyle:ht,fontFamily:yt,fontWeight:pt,color:vt,textAlign:y,verticalAlign:m,x:At,y:bt})}}),{itemId:this.properties.yKey??this.id,nodeData:B,labelData:R,scales:this.calculateScaling(),visible:this.visible}}nodeFactory(){return new wvt}update(t){return this.ctx.animationManager.skipCurrentBatch(),super.update(t)}updateDatumSelection(t){const{nodeData:e,datumSelection:i}=t,n=e??[];return i.update(n)}getItemBaseStyle(t){const{properties:e}=this,i=t?e.highlightStyle.item:void 0;return{fill:i==null?void 0:i.fill,fillOpacity:(i==null?void 0:i.fillOpacity)??1,stroke:(i==null?void 0:i.stroke)??e.stroke,strokeWidth:(i==null?void 0:i.strokeWidth)??this.getStrokeWidth(e.strokeWidth),strokeOpacity:(i==null?void 0:i.strokeOpacity)??e.strokeOpacity}}getItemStyleOverrides(t,e,i,n,s){const{id:a,properties:o}=this,{xKey:r,yKey:l,colorRange:c,itemStyler:h}=o,p=this.isColorScaleValid()&&i!=null?this.colorScale.convert(i):c[0];let f=n.fill==null?{fill:p}:void 0;if(h!=null){f??(f={});const y=this.cachedDatumCallback(Evt(t,s?"highlight":"node"),()=>h({seriesId:a,datum:e,xKey:r,yKey:l,highlighted:s,fill:p,...n}));Object.assign(f,y)}return f}updateDatumNodes(t){const{isHighlight:e}=t,i=this.axes[xo.X],[n,s]=(i==null?void 0:i.visibleRange)??[],o=!(n!==0||s!==1),r=this.getItemBaseStyle(e);t.datumSelection.each((l,c)=>{const{datumIndex:h,colorValue:p,datum:f,point:y,width:m,height:b}=c,v=this.getItemStyleOverrides(String(h),f,p,r,e);l.crisp=o,l.x=Math.floor(y.x-m/2),l.y=Math.floor(y.y-b/2),l.width=Math.ceil(m),l.height=Math.ceil(b),Pvt(l,r,v)})}updateLabelSelection(t){const{labelData:e,labelSelection:i}=t,{enabled:n}=this.properties.label,s=n?e:[];return i.update(s)}updateLabelNodes(t){t.labelSelection.each((e,i)=>{e.text=i.text,e.fontSize=i.fontSize,e.lineHeight=i.lineHeight,e.fontStyle=i.fontStyle,e.fontFamily=i.fontFamily,e.fontWeight=i.fontWeight,e.fill=i.color,e.textAlign=i.textAlign,e.textBaseline=i.verticalAlign,e.x=i.x,e.y=i.y,e.pointerEvents=Rvt.None})}getTooltipContent(t){var j;const{id:e,dataModel:i,processedData:n,axes:s,properties:a,colorScale:o}=this,{xKey:r,xName:l,yKey:c,yName:h,colorKey:p,colorName:f,colorRange:y,title:m,legendItemName:b,tooltip:v}=a,S=s[xo.X],D=s[xo.Y];if(!i||!n||!S||!D)return;const{datumIndex:I}=t,T=(j=n.dataSources.get(this.id))==null?void 0:j[I],k=i.resolveColumnById(this,"xValue",n)[I],E=i.resolveColumnById(this,"yValue",n)[I],O=p!=null&&this.isColorScaleValid()?i.resolveColumnById(this,"colorValue",n)[I]:void 0;if(k==null)return;const B=[];let R;O==null?R=y[0]:(R=o.convert(O),B.push({label:f,fallbackLabel:p,value:String(O)})),B.push({label:l,fallbackLabel:r,value:S.formatDatum(k)},{label:h,fallbackLabel:c,value:D.formatDatum(E)});const L=R!=null?{marker:{shape:"square",fill:R,fillOpacity:1,stroke:void 0,strokeWidth:0,strokeOpacity:1,lineDash:[0],lineDashOffset:0}}:void 0,F=this.getItemBaseStyle(!1);return Object.assign(F,this.getItemStyleOverrides(String(I),T,O,F,!1)),v.formatTooltip({title:m??b,symbol:L,data:B},{seriesId:e,datum:T,title:m,xKey:r,xName:l,yKey:c,yName:h,colorKey:p,colorName:f,...F})}getLegendData(t){return t!=="gradient"||!this.properties.isValid()||!this.isColorScaleValid()||!this.dataModel?[]:[{legendType:"gradient",enabled:this.visible,seriesId:this.id,colorName:this.properties.colorName,colorDomain:this.processedData.domain.values[this.dataModel.resolveProcessedDataIndexById(this,"colorValue")],colorRange:this.properties.colorRange}]}isLabelEnabled(){return this.properties.label.enabled&&!!this.properties.colorKey}getBandScalePadding(){return{inner:0,outer:0}}computeFocusBounds({datumIndex:t}){var o;const e=(o=this.contextNodeData)==null?void 0:o.nodeData[t];if(e===void 0)return;const{width:i,height:n,midPoint:s}=e,a={x:s.x-i/2,y:s.y-n/2,width:i,height:n};return Cvt(this,a)}};ww.className="HeatmapSeries";ww.type="heatmap";var jvt={series:{label:{enabled:!1,color:{$ref:"textColor"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},wrapping:"on-space",overflowStrategy:"ellipsis"},itemPadding:3},gradientLegend:{enabled:!0}},{ThemeSymbols:{DEFAULT_DIVERGING_SERIES_COLOR_RANGE:Fvt,DEFAULT_BACKGROUND_COLOUR:Gvt},ThemeConstants:{CARTESIAN_AXIS_TYPE:i3,CARTESIAN_POSITION:n3}}=z,Vvt={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"heatmap",moduleFactory:t=>new ww(t),tooltipDefaults:{range:"exact"},defaultAxes:[{type:i3.CATEGORY,position:n3.LEFT},{type:i3.CATEGORY,position:n3.BOTTOM}],themeTemplate:jvt,paletteFactory:({takeColors:t,colorsCount:e,userPalette:i,themeTemplateParameters:n})=>{const s=n.get(Fvt),a=n.get(Gvt),o=(Array.isArray(a)?a[0]:a)??"white",{fills:r,strokes:l}=t(e);return{stroke:i==="inbuilt"?o:l[0],colorRange:i==="inbuilt"?s:[r[0],r[1]]}}},Uvt=1e3,s3=10;function a3(t,e,i,n,s,a){const o=t[a];if(o==null)return!1;const r=DD(o,e,i),l=ID(r,s);return a===n[l+os]||a===n[l+qs]||a===n[l+ya]||a===n[l+ma]}function Hvt(t,e,i){if(t.length<Uvt)return;const[n,s]=Rb(i);let a=wb(t,s3);const{indexData:o,valueData:r}=Pb(t,e,e,n,s,a);let l=[];for(let h=0;h<t.length;h+=1)a3(t,n,s,o,a,h)&&l.push(h);const c=[{maxRange:a,indices:l}];for(;l.length>s3&&a>64;)({maxRange:a}=Bb(o,r,a,{inPlace:!0})),l=l.filter(a3.bind(null,t,n,s,o,a)),c.push({maxRange:a,indices:l});return c.reverse(),c}var{ChartAxisDirection:Wvt,ContinuousScale:Yvt,OrdinalTimeScale:$vt}=z,Kvt=class extends z.LineSeries{aggregateData(t,e){const i=this.axes[Wvt.X];if(i==null||!(Yvt.is(i.scale)||$vt.is(i.scale)))return;const n=t.resolveColumnById(this,"xValue",e),s=t.resolveColumnById(this,"yValueRaw",e),a=t.getDomain(this,"xValue","value",e);return Hvt(n,s,a)}},{LineSeriesModule:Xvt}=z,Zvt={...Xvt,type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"line",moduleFactory:t=>new Kvt(t)},{ColorScale:qvt}=z;function D6(t){if(t==null)return[];const e=new qvt;e.domain=[0,1],e.range=t;const i=5;return Array.from({length:5},(n,s)=>e.convert(s/(i-1)))}var I6=class{*[Symbol.iterator](){const{node:t,datum:e}=this;t&&e&&(yield{node:t,datum:e})}nodes(){return this.node?[this.node]:[]}update(t,e,i,n){var a;const s=t.nodes();if(s.length===0)(a=this.node)==null||a.remove(),this.node=void 0;else{this.node===void 0&&(this.node=new i,this.node.fillOpacity=0,this.node.strokeOpacity=0,e.appendChild(this.node));const o=s[0],r=s.toReversed().find(l=>l.datum.datum.value>l.datum.datum.segmentStart)??s[s.length-1];this.node.datum=this.datum=o.datum,n(this.node,o,r)}}},T6={fromFn:()=>({opacity:0,phase:"initial"}),toFn:()=>({opacity:1})};function C6(t,e){if(t==null)return"";if(e==null)return String(t);const[i,n]=e.scale.domain,s=i!==0?Math.ceil(Math.log10(Math.abs(i))):0,a=n!==0?Math.ceil(Math.log10(Math.abs(n))):0,o=Math.max(2-Math.max(s,a),0);return t.toFixed(o)}function zx(t,e,i){var a;if(e.text!=null)return e.text;const n=i??e.value,s=(a=e==null?void 0:e.formatter)==null?void 0:a.call(e,{seriesId:t.id,datum:void 0,value:n});if(s!=null)return String(s)}function k6({path:t,x:e,y:i,size:n}){t.moveTo(e,i-n/2),t.lineTo(e,i+n/2)}var{clamp:o3}=z;function L6(t,e){const i=zht(t.datumUnion.nodes(),t.targetSelection.nodes());return t.pickNodeNearestDistantObject(e,i)}function N6(t,e){var l,c;const i=[{data:(l=t.contextNodeData)==null?void 0:l.nodeData,selection:t.datumUnion},{data:(c=t.contextNodeData)==null?void 0:c.targetData,selection:t.targetSelection}].filter(h=>h.data&&h.data.length>0),n=o3(0,e.otherIndex+e.otherIndexDelta,i.length-1);if(i.length===0)return;const{data:s,selection:a}=i[n];if(s==null||s.length===0)return;const o=o3(0,e.datumIndex,s.length-1),r=s[o];for(const h of a)if(h.datum===r)return{bounds:h.node,clipFocusBox:!0,datum:r,datumIndex:o,otherIndex:n}}var{MARKER_SHAPE:Qvt,UNION:Rw,OR:Jvt}=z,RD=Rw(["continuous","discrete"],"a fill mode"),E6=Jvt(Qvt,Rw(["line"],"a marker shape")),O6=Rw(["container","item"],"a corner mode");function w6(t){let e,i;return typeof t.value=="number"&&(e=t.value),typeof t.text=="string"&&(i=t.text),{value:e,text:i}}var{BaseProperties:R6,Validate:Kg,OBJECT:tSt,BOOLEAN:eSt,NUMBER:Pw,NUMBER_ARRAY:iSt}=z,PD=class extends R6{getSegments(t,e){var l;const{values:i,step:n,count:s}=this,a=Math.min(...t.domain),o=Math.max(...t.domain);let r;if(i!=null){const c=i.filter(h=>h>a&&h<o).sort((h,p)=>h-p);r=[a,...c,o]}else if(n!=null){const c=[];for(let h=a;h<o;h+=n)c.push(h);c.push(o),r=c}else if(s!=null){const c=s+1;r=Array.from({length:c+1},(h,p)=>p/c*(o-a)+a)}else{const c=(l=t.ticks({nice:!0,interval:void 0,tickCount:void 0,minTickCount:0,maxTickCount:1/0}))==null?void 0:l.filter(h=>h>a&&h<o);r=c!=null?[a,...c,o]:void 0}return r!=null&&r.length>e&&(ve.warnOnce("the configured segmentation results in more than 1 item per pixel, ignoring. Supply a segmentation configuration that results in larger segments or omit this configuration"),r=void 0),r??(r=[a,o]),r}};A([Kg(iSt,{optional:!0})],PD.prototype,"values");A([Kg(Pw,{optional:!0})],PD.prototype,"step");A([Kg(Pw,{optional:!0})],PD.prototype,"count");var Yb=class extends R6{constructor(){super(...arguments),this.enabled=!1,this.interval=new PD,this.spacing=0}};A([Kg(eSt)],Yb.prototype,"enabled");A([Kg(tSt)],Yb.prototype,"interval");A([Kg(Pw)],Yb.prototype,"spacing");var{BaseProperties:Bw,SeriesTooltip:nSt,SeriesProperties:sSt,PropertiesArray:zw,Validate:Ut,BOOLEAN:P6,COLOR_STRING:up,COLOR_STRING_ARRAY:aSt,FUNCTION:oSt,LINE_DASH:_w,NUMBER:Xg,OBJECT_ARRAY:jw,OBJECT:hp,POSITIVE_NUMBER:Tl,RATIO:dp,STRING:B6,UNION:Fw,Label:rSt}=z,lSt=Fw(["before","after","middle"],"a placement"),cSt=Fw(["inside-start","outside-start","inside-end","outside-end","inside-center","bar-inside","bar-inside-end","bar-outside-end","bar-end"],"an placement"),uSt=Fw(["horizontal","vertical"],"an orientation"),z6=class extends rSt{};A([Ut(Xg,{optional:!0})],z6.prototype,"spacing");var cs=class extends Bw{constructor(){super(...arguments),this.value=0,this.label=new z6}};A([Ut(B6,{optional:!0})],cs.prototype,"text");A([Ut(Xg)],cs.prototype,"value");A([Ut(E6,{optional:!0})],cs.prototype,"shape");A([Ut(lSt,{optional:!0})],cs.prototype,"placement");A([Ut(Xg,{optional:!0})],cs.prototype,"spacing");A([Ut(Tl,{optional:!0})],cs.prototype,"size");A([Ut(Xg,{optional:!0})],cs.prototype,"rotation");A([Ut(up,{optional:!0})],cs.prototype,"fill");A([Ut(dp,{optional:!0})],cs.prototype,"fillOpacity");A([Ut(up,{optional:!0})],cs.prototype,"stroke");A([Ut(Tl,{optional:!0})],cs.prototype,"strokeWidth");A([Ut(dp,{optional:!0})],cs.prototype,"strokeOpacity");A([Ut(_w,{optional:!0})],cs.prototype,"lineDash");A([Ut(Tl,{optional:!0})],cs.prototype,"lineDashOffset");A([Ut(hp)],cs.prototype,"label");var qa=class extends Bw{constructor(){super(...arguments),this.enabled=!0,this.thicknessRatio=1,this.fills=new zw(z.StopProperties),this.fillMode="continuous",this.fillOpacity=1,this.stroke="black",this.strokeWidth=0,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0}};A([Ut(P6)],qa.prototype,"enabled");A([Ut(Tl,{optional:!0})],qa.prototype,"thickness");A([Ut(dp)],qa.prototype,"thicknessRatio");A([Ut(jw)],qa.prototype,"fills");A([Ut(RD)],qa.prototype,"fillMode");A([Ut(up,{optional:!0})],qa.prototype,"fill");A([Ut(dp)],qa.prototype,"fillOpacity");A([Ut(up)],qa.prototype,"stroke");A([Ut(Tl)],qa.prototype,"strokeWidth");A([Ut(dp)],qa.prototype,"strokeOpacity");A([Ut(_w)],qa.prototype,"lineDash");A([Ut(Tl)],qa.prototype,"lineDashOffset");var Tr=class extends Bw{constructor(){super(...arguments),this.fills=new zw(z.StopProperties),this.fillMode="continuous",this.fillOpacity=1,this.stroke="black",this.strokeWidth=0,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.defaultFill="black"}};A([Ut(jw)],Tr.prototype,"fills");A([Ut(RD)],Tr.prototype,"fillMode");A([Ut(up,{optional:!0})],Tr.prototype,"fill");A([Ut(dp)],Tr.prototype,"fillOpacity");A([Ut(up)],Tr.prototype,"stroke");A([Ut(Tl)],Tr.prototype,"strokeWidth");A([Ut(dp)],Tr.prototype,"strokeOpacity");A([Ut(_w)],Tr.prototype,"lineDash");A([Ut(Tl)],Tr.prototype,"lineDashOffset");A([Ut(up)],Tr.prototype,"defaultFill");var BD=class extends hl{constructor(){super(...arguments),this.placement="inside-center",this.avoidCollisions=!0}};A([Ut(B6,{optional:!0})],BD.prototype,"text");A([Ut(cSt)],BD.prototype,"placement");A([Ut(P6)],BD.prototype,"avoidCollisions");var Bs=class extends sSt{constructor(){super(...arguments),this.value=0,this.segmentation=new Yb,this.defaultColorRange=[],this.targets=new zw(cs),this.defaultTarget=new cs,this.direction="vertical",this.thickness=1,this.cornerRadius=0,this.cornerMode="container",this.margin=0,this.scale=new Tr,this.bar=new qa,this.label=new BD,this.tooltip=new nSt}};A([Ut(Xg)],Bs.prototype,"value");A([Ut(hp)],Bs.prototype,"segmentation");A([Ut(aSt)],Bs.prototype,"defaultColorRange");A([Ut(jw)],Bs.prototype,"targets");A([Ut(hp)],Bs.prototype,"defaultTarget");A([Ut(uSt)],Bs.prototype,"direction");A([Ut(Tl)],Bs.prototype,"thickness");A([Ut(Tl)],Bs.prototype,"cornerRadius");A([Ut(O6)],Bs.prototype,"cornerMode");A([Ut(Xg)],Bs.prototype,"margin");A([Ut(hp)],Bs.prototype,"scale");A([Ut(hp)],Bs.prototype,"bar");A([Ut(oSt,{optional:!0})],Bs.prototype,"itemStyler");A([Ut(hp)],Bs.prototype,"label");A([Ut(hp)],Bs.prototype,"tooltip");var{CachedTextMeasurerPool:hSt,BBox:dSt}=z;function Gw(t){const{x0:e,y0:i,x1:n,y1:s,horizontalInset:a,verticalInset:o}=t,r=Math.min(e,n)+a,l=Math.min(i,s)+o,c=Math.max(Math.abs(n-e)-2*a,0),h=Math.max(Math.abs(s-i)-2*o,0);return{x:r,y:l,width:c,height:h}}function pSt(t,e){if(e==null)return!0;const i=Gw(t),n=1e-6,s=i.x+n,a=i.y+n,o=i.x+i.width-n,r=i.y+i.height-n,l=e.x,c=e.x+e.width,h=e.y,p=e.y+e.height;return Math.max(s,l)<=Math.min(o,c)&&Math.max(a,h)<=Math.min(r,p)}function hL(t){const{clipX0:e,clipX1:i,clipY0:n,clipY1:s}=t;return e!=null&&i!=null||n!=null&&s!=null}function fSt(t){if(!hL(t))return;const{x0:e,y0:i,x1:n,y1:s}=t,{x:a,y:o,width:r,height:l}=Gw(t);let{clipX0:c,clipX1:h,clipY0:p,clipY1:f}=t;(c==null||h==null)&&(c=e,h=n),(p==null||f==null)&&(p=i,f=s);const y=Math.min(c,h),m=Math.min(p,f),b=Math.abs(h-c),v=Math.abs(f-p);return c=Math.max(a,y),p=Math.max(o,m),h=Math.min(a+r,y+b),f=Math.min(o+l,m+v),new dSt(Math.min(c,h),Math.min(p,f),Math.abs(h-c),Math.abs(f-p))}function r3(t,e){const i=t?"initial":"update";return{node:{fromFn(s,a){const o=s.previousDatum;let{x0:r,y0:l,x1:c,y1:h,clipX0:p,clipY0:f,clipX1:y,clipY1:m}=o??a;const{horizontalInset:b,verticalInset:v}=a,S=o!=null&&hL(o),D=hL(a);return S&&D||(!S&&D?({x0:r,y0:l,x1:c,y1:h,clipX0:p,clipY0:f,clipX1:y,clipY1:m}=a,t&&(e?y=a.clipX0:m=a.clipY0)):S&&!D?({x0:r,y0:l,x1:c,y1:h}=a,p=void 0,f=void 0,y=void 0,m=void 0):t&&(e?c=r:h=l)),{x0:r,y0:l,x1:c,y1:h,clipX0:p,clipY0:f,clipX1:y,clipY1:m,horizontalInset:b,verticalInset:v,phase:i}},toFn(s,a){const{x0:o,y0:r,x1:l,y1:c,clipX0:h,clipY0:p,clipX1:f,clipY1:y,horizontalInset:m,verticalInset:b}=a;return{x0:o,y0:r,x1:l,y1:c,clipX0:h,clipY0:p,clipX1:f,clipY1:y,horizontalInset:m,verticalInset:b}},applyFn(s,a){s.setProperties(zS(s,a))}}}}function zS(t,e){const{x:i,y:n,width:s,height:a}=Gw(e),o=fSt(e),r=pSt(e,o);return{x:i,y:n,width:s,height:a,clipBBox:o,visible:r}}var gSt={Before:"right",Center:"center",After:"left"},ySt={Before:"top",Center:"middle",After:"bottom"},mSt={Before:-1,Center:-.5,After:0},xSt={Before:0,Center:-.5,After:-1};function bSt(t,e,i,n,s){const{scale:a,bar:o}=n,{padding:r,horizontal:l}=i;e.each((c,h)=>{const p=zx(t,h,s==null?void 0:s.label),f=()=>({width:a.width,height:a.height,meta:null});let y;const m=h.avoidCollisions&&h.placement!=="outside-start"&&h.placement!=="outside-end";if(p==null)return;if(m){const G=Bx(p,h,{padding:r},f);y=G==null?void 0:G[0]}else{const G={fontSize:h.fontSize,fontStyle:h.fontStyle,fontWeight:h.fontWeight,fontFamily:h.fontFamily,lineHeight:h.lineHeight},{width:W,height:Z}=hSt.measureText(p,{font:G});y={text:p,fontSize:h.fontSize,lineHeight:ng(h,h.fontSize),width:W,height:Z}}if(y==null){c.visible=!1;return}const b=l?a.x:a.y+a.height,v=l?a.x+a.width:a.y,S=l?o.x:o.y+o.height,D=l?o.x+o.width:o.y,I=h.spacing*(l?1:-1);let T,k,E,O;switch(h.placement){case"outside-start":T=-1/0,k=1/0,E=b-I,O="Before";break;case"outside-end":T=-1/0,k=1/0,E=v+I,O="After";break;case"inside-start":T=b,k=D,E=b+I,O="After";break;case"inside-end":T=D,k=v,E=v-I,O="Before";break;case"inside-center":T=b,k=v,E=(b+v)/2,O="Center";break;case"bar-inside":T=S,k=D,E=(S+D)/2,O="Center";break;case"bar-inside-end":T=S,k=D,E=D-I,O="Before";break;case"bar-outside-end":T=D,k=v,E=D+I,O="After";break;case"bar-end":T=-1/0,k=1/0,E=D,O="Center";break}const B=l?E:a.x+a.width/2,R=l?a.y+a.height/2:E;let L,F;l?(L=B+mSt[O]*y.width,F=L+y.width):(L=R+xSt[O]*y.height,F=L+y.height);const j=Math.min(L,F)>=Math.min(T,k)&&Math.max(L,F)<=Math.max(T,k);if(h.avoidCollisions&&!j){c.visible=!1;return}c.visible=!0,c.text=y.text,c.fontSize=y.fontSize,c.lineHeight=y.lineHeight,c.textAlign=l?gSt[O]:"center",c.textBaseline=l?"middle":ySt[O],c.x=B,c.y=R})}var{fromToMotion:w1,resetMotion:vSt,SeriesNodePickMode:l3,StateMachine:SSt,createDatumId:c3,ChartAxisDirection:ar,CachedTextMeasurerPool:MSt,toRadians:ASt,BBox:Sm,Group:Df,PointerEvents:DSt,Selection:If,Rect:ISt,Text:u3,LinearGradient:TSt,Marker:CSt,easing:kSt,getColorStops:LSt}=z,NSt={before:180,middle:0,after:0},ESt={before:90,middle:0,after:-90},Vw=class extends z.Series{constructor(t){super({moduleCtx:t,useLabelLayer:!0,pickModes:[l3.EXACT_SHAPE_MATCH,l3.NEAREST_NODE]}),this.canHaveAxes=!0,this.properties=new Bs,this.originX=0,this.originY=0,this.scaleGroup=this.contentGroup.appendChild(new Df({name:"scaleGroup"})),this.itemGroup=this.contentGroup.appendChild(new Df({name:"itemGroup"})),this.itemTargetGroup=this.contentGroup.appendChild(new Df({name:"itemTargetGroup"})),this.itemTargetLabelGroup=this.contentGroup.appendChild(new Df({name:"itemTargetLabelGroup"})),this.itemLabelGroup=this.contentGroup.appendChild(new Df({name:"itemLabelGroup"})),this.highlightTargetGroup=this.highlightGroup.appendChild(new Df({name:"itemTargetLabelGroup"})),this.scaleSelection=If.select(this.scaleGroup,()=>this.nodeFactory()),this.datumSelection=If.select(this.itemGroup,()=>this.nodeFactory()),this.targetSelection=If.select(this.itemTargetGroup,()=>this.markerFactory()),this.targetLabelSelection=If.select(this.itemTargetLabelGroup,u3),this.labelSelection=If.select(this.itemLabelGroup,u3),this.highlightTargetSelection=If.select(this.highlightTargetGroup,()=>this.markerFactory()),this.datumUnion=new I6,this.animationState=new SSt("empty",{empty:{update:{target:"ready",action:()=>this.animateEmptyUpdateReady()},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",resize:()=>this.animateReadyResize(),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:()=>this.animateWaitingUpdateReady()},reset:"empty",skip:"ready"},clearing:{update:{target:"empty"},reset:"empty",skip:"ready"}}),this.scaleGroup.pointerEvents=DSt.None}get horizontal(){return this.properties.direction==="horizontal"}get thickness(){return this.properties.thickness}computeInset(t,e){var o;const{label:i}=this.properties;let n;switch(i.placement){case"outside-start":n=1;break;case"outside-end":n=-1;break;default:return 0}const s=(o=i.text)==null?void 0:o.split(`
`);let a;if(t===ar.Y)a=ng(i,i.fontSize)*((s==null?void 0:s.length)??1);else{const r=i.getFont();a=(s??e.map(c=>zx(this,this.labelDatum(i,c))??"")).reduce((c,h)=>{const{width:p}=MSt.measureText(h,{font:r});return Math.max(c,p)},0)}return n*(i.spacing+a)}get hasData(){return!0}nodeFactory(){const t=new ISt;return t.crisp=!0,t}markerFactory(){return new CSt}processData(){this.nodeDataRefresh=!0,this.animationState.transition("updateData")}formatLabel(t){const{axes:e,horizontal:i}=this,n=i?e[ar.X]:e[ar.Y];return C6(t,n)}createLinearGradient(t,e){const{properties:i,originX:n,originY:s,horizontal:a,axes:o}=this,{thickness:r,defaultColorRange:l}=i,c=a?o[ar.X]:o[ar.Y],{domain:h,range:p}=c.scale,f=p[1]-p[0],y=LSt(t,l,h,e);return new TSt("oklch",y,a?90:0,new Sm(n,s,a?f:r,a?r:f))}getTargets(){const{properties:t}=this,e=t.defaultTarget;return Array.from(t.targets).map(i=>{const{text:n=e.text,value:s=e.value??0,shape:a=e.shape??"triangle",rotation:o=e.rotation??0,strokeWidth:r=e.strokeWidth??0,placement:l=e.placement??"middle",spacing:c=e.spacing??0,size:h=e.size??0,fill:p=e.fill??"black",fillOpacity:f=e.fillOpacity??1,stroke:y=e.stroke??"black",strokeOpacity:m=e.strokeOpacity??1,lineDash:b=e.lineDash??[0],lineDashOffset:v=e.lineDashOffset??0}=i,{enabled:S=e.label.enabled,color:D=e.label.color??"black",fontStyle:I=e.label.fontStyle??"normal",fontWeight:T=e.label.fontWeight??"normal",fontSize:k=e.label.fontSize,fontFamily:E=e.label.fontFamily,spacing:O=e.label.spacing??0}=i.label;return{text:n,value:s,shape:a,placement:l,spacing:c,size:h,rotation:o,fill:p,fillOpacity:f,stroke:y,strokeWidth:r,strokeOpacity:m,lineDash:b,lineDashOffset:v,label:{enabled:S,color:D,fontStyle:I,fontWeight:T,fontSize:k,fontFamily:E,spacing:O}}})}getTargetPoint(t){const e=this.axes[ar.X],i=this.axes[ar.Y];if(e==null||i==null)return{x:0,y:0};const{properties:n,originX:s,originY:a,horizontal:o}=this,{thickness:r}=n,{value:l,placement:c,spacing:h,size:p}=t,f=o?e:i,y=f.scale.convert(l)-f.scale.range[0];let m;switch(c){case"before":m=-(h+p/2);break;case"after":m=r+h+p/2;break;default:m=r/2;break}return{x:s+e.range[0]+(o?y:m),y:a+i.range[0]+(o?m:y)}}getTargetLabel(t){const{size:e,placement:i,label:n}=t,{spacing:s,color:a,fontStyle:o,fontWeight:r,fontSize:l,fontFamily:c}=n,h=void 0,p=e/2+s;let f,y,m=0,b=0;return this.horizontal?(f="center",i==="after"?(y="top",b=p):(y="bottom",b=-p)):(y="middle",i==="before"?(f="right",m=-p):(f="left",m=p)),{offsetX:m,offsetY:b,fill:a,textAlign:f,textBaseline:y,fontStyle:o,fontWeight:r,fontSize:l,fontFamily:c,lineHeight:h}}labelDatum(t,e){const{placement:i,avoidCollisions:n,spacing:s,text:a,color:o,fontSize:r,minimumFontSize:l,fontStyle:c,fontWeight:h,fontFamily:p,lineHeight:f,wrapping:y,overflowStrategy:m,formatter:b=v=>this.formatLabel(v.value)}=t;return{placement:i,avoidCollisions:n,spacing:s,text:a,value:e,fill:o,fontSize:r,minimumFontSize:l,fontStyle:c,fontWeight:h,fontFamily:p,lineHeight:f,wrapping:y,overflowStrategy:m,formatter:b}}createNodeData(){const{id:t,properties:e,originX:i,originY:n,horizontal:s}=this;if(!e.isValid())return;const{value:a,segmentation:o,thickness:r,cornerRadius:l,cornerMode:c,bar:h,scale:p,label:f}=e,y=this.getTargets(),m=this.axes[ar.X],b=this.axes[ar.Y];if(m==null||b==null)return;const v=s?m:b,S=m.scale,D=b.scale,I=v.scale;let{domain:T}=v.scale;v.isReversed()&&(T=T.slice().reverse());const k=[],E=[],O=[],B=[],[R,L]=I.range,F=Math.abs(L-R);let[j,G]=m.range;m.isReversed()&&([G,j]=[j,G]);let[W,Z]=b.range;b.isReversed()&&([Z,W]=[W,Z]);const U=s?S.convert(a):G,K=s?Z:D.convert(a),$=o.enabled?o.spacing/2:0,X=s?$:0,_=s?0:$,V=Math.min(h.thickness??Math.round(h.thicknessRatio*r),r),Y=-(r-V)/2,J=s?0:Y,q=s?Y:0,nt=c==="item",st=Math.ceil(F);let rt=o.enabled?o.interval.getSegments(I,st):void 0;const ct=h.fill??this.createLinearGradient(h.fills,h.fillMode),dt=p.fill??(h.enabled&&p.fills.length===0?p.defaultFill:void 0)??this.createLinearGradient(p.fills,p.fillMode);if(rt==null&&nt){const yt=Math.min(...T),pt=Math.max(...T),vt={value:a,segmentStart:yt,segmentEnd:pt};if(h.enabled){const Xt=Math.min(l,V/2,F/2)*(v.isReversed()?-1:1),zt=s?Xt:0,Gt=s?0:Xt;k.push({series:this,itemId:"value",datum:vt,datumIndex:{type:0},type:0,x0:i+j-zt-J,y0:n+W-Gt-q,x1:i+U+zt+J,y1:n+K+Gt+q,clipX0:void 0,clipY0:void 0,clipX1:void 0,clipY1:void 0,topLeftCornerRadius:l,topRightCornerRadius:l,bottomRightCornerRadius:l,bottomLeftCornerRadius:l,fill:ct,horizontalInset:X,verticalInset:_})}const bt=Math.min(l,r/2,F/2)*(v.isReversed()?-1:1),Rt=s?bt:0,Nt=s?0:bt;B.push({series:this,itemId:"scale",datum:vt,datumIndex:{type:0},type:0,x0:i+j-Rt,y0:n+W-Nt,x1:i+G+Rt,y1:n+Z+Nt,clipX0:void 0,clipY0:void 0,clipX1:void 0,clipY1:void 0,topLeftCornerRadius:l,topRightCornerRadius:l,bottomRightCornerRadius:l,bottomLeftCornerRadius:l,fill:dt,horizontalInset:X,verticalInset:_})}else{rt??(rt=T);const yt=i+j-J,pt=n+W-q,vt=i+U+J,At=n+K+q;for(let bt=0;bt<rt.length-1;bt+=1){const Rt=rt[bt+0],Nt=rt[bt+1],Ot={value:a,segmentStart:Rt,segmentEnd:Nt},Xt=bt===0,zt=bt===rt.length-2,Gt=I.convert(Rt),St=I.convert(Nt),Ie=nt||Xt?l:0,Ht=nt||zt?l:0,on=s?Ie:Ht,Fi=Ht,gs=s?Ht:Ie,Fs=Ie;h.enabled&&k.push({series:this,itemId:`value-${bt}`,datum:Ot,datumIndex:{type:0},type:0,x0:i+(s?Gt:j),y0:n+(s?W:Gt),x1:i+(s?St:G),y1:n+(s?Z:St),clipX0:yt,clipY0:pt,clipX1:vt,clipY1:At,topLeftCornerRadius:on,topRightCornerRadius:Fi,bottomRightCornerRadius:gs,bottomLeftCornerRadius:Fs,fill:ct,horizontalInset:X,verticalInset:_}),B.push({series:this,itemId:`scale-${bt}`,datum:Ot,datumIndex:{type:0},type:0,x0:i+(s?Gt:j),y0:n+(s?W:Gt),x1:i+(s?St:G),y1:n+(s?Z:St),clipX0:void 0,clipY0:void 0,clipX1:void 0,clipY1:void 0,topLeftCornerRadius:on,topRightCornerRadius:Fi,bottomRightCornerRadius:gs,bottomLeftCornerRadius:Fs,fill:dt,horizontalInset:X,verticalInset:_})}}f.enabled&&O.push(this.labelDatum(f,a));const ht=s?NSt:ESt;for(let yt=0;yt<y.length;yt+=1){const pt=y[yt],{value:vt,text:At,shape:bt,size:Rt,fill:Nt,fillOpacity:Ot,stroke:Xt,strokeWidth:zt,strokeOpacity:Gt,lineDash:St,lineDashOffset:Ie}=pt,Ht=this.getTargetPoint(pt),on=ASt(pt.rotation+ht[pt.placement]);E.push({series:this,itemId:`target-${yt}`,midPoint:Ht,datum:{value:vt},datumIndex:{type:1,index:yt},type:1,value:vt,text:At,x:Ht.x,y:Ht.y,shape:bt,size:Rt,rotation:on,fill:Nt,fillOpacity:Ot,stroke:Xt,strokeOpacity:Gt,strokeWidth:zt,lineDash:St,lineDashOffset:Ie,label:this.getTargetLabel(pt)})}return{itemId:t,nodeData:k,targetData:E,labelData:O,scaleData:B}}updateSelections(t){(this.nodeDataRefresh||t)&&(this.contextNodeData=this.createNodeData(),this.nodeDataRefresh=!1)}highlightDatum(t){if(t!=null&&t.series===this&&t.type===1)return t}update({seriesRect:t}){var y,m,b,v;const{datumSelection:e,labelSelection:i,targetSelection:n,targetLabelSelection:s,scaleSelection:a,highlightTargetSelection:o}=this,r=this.checkResize(t);this.updateSelections(r),this.contentGroup.visible=this.visible,this.contentGroup.opacity=this.getOpacity();const l=((y=this.contextNodeData)==null?void 0:y.nodeData)??[],c=((m=this.contextNodeData)==null?void 0:m.labelData)??[],h=((b=this.contextNodeData)==null?void 0:b.targetData)??[],p=((v=this.contextNodeData)==null?void 0:v.scaleData)??[],f=this.highlightDatum(this.ctx.highlightManager.getActiveHighlight());this.scaleSelection=this.updateScaleSelection({scaleData:p,scaleSelection:a}),this.updateScaleNodes({scaleSelection:a}),this.targetSelection=this.updateTargetSelection({targetData:h,targetSelection:n}),this.updateTargetNodes({targetSelection:n,isHighlight:!1}),this.targetLabelSelection=this.updateTargetLabelSelection({targetData:h,targetLabelSelection:s}),this.updateTargetLabelNodes({targetLabelSelection:s}),this.datumSelection=this.updateDatumSelection({nodeData:l,datumSelection:e}),this.updateDatumNodes({datumSelection:e}),this.labelSelection=this.updateLabelSelection({labelData:c,labelSelection:i}),this.updateLabelNodes({labelSelection:i}),this.highlightTargetSelection=this.updateTargetSelection({targetData:f!=null?[f]:[],targetSelection:o}),this.updateTargetNodes({targetSelection:o,isHighlight:!0}),r&&this.animationState.transition("resize"),this.animationState.transition("update")}updateDatumSelection(t){return t.datumSelection.update(t.nodeData,void 0,e=>c3(t.nodeData.length,e.itemId))}updateDatumNodes(t){const{datumSelection:e}=t,{ctx:i,properties:n}=this,{bar:s}=n,{fillOpacity:a,stroke:o,strokeOpacity:r,lineDash:l,lineDashOffset:c}=s,h=this.getStrokeWidth(s.strokeWidth),p=i.animationManager.isSkipped();e.each((f,y)=>{const{topLeftCornerRadius:m,topRightCornerRadius:b,bottomRightCornerRadius:v,bottomLeftCornerRadius:S,fill:D}=y;f.fill=D,f.fillOpacity=a,f.stroke=o,f.strokeOpacity=r,f.strokeWidth=h,f.lineDash=l,f.lineDashOffset=c,f.topLeftCornerRadius=m,f.topRightCornerRadius=b,f.bottomRightCornerRadius=v,f.bottomLeftCornerRadius=S,f.pointerEvents=this.properties.bar.enabled?z.PointerEvents.All:z.PointerEvents.None,(p||f.previousDatum==null)&&f.setProperties(zS(f,y))}),this.datumUnion.update(e,this.itemGroup,z.Rect,(f,y,m)=>{var b,v,S,D;f.pointerEvents=z.PointerEvents.None,f.clipBBox??(f.clipBBox=new Sm(NaN,NaN,NaN,NaN)),f.x=y.x,f.y=y.y,f.clipBBox.x=((b=y.clipBBox)==null?void 0:b.x)??y.x,f.clipBBox.y=((v=y.clipBBox)==null?void 0:v.y)??y.y,this.properties.direction==="horizontal"?(f.height=f.clipBBox.height=m.height,f.width=m===y?m.width:m.x+m.width,f.clipBBox.width=f.width-(m.width-(((S=m.clipBBox)==null?void 0:S.width)??m.width)),f.topLeftCornerRadius=y.topLeftCornerRadius,f.bottomLeftCornerRadius=y.bottomLeftCornerRadius,f.topRightCornerRadius=m.topRightCornerRadius,f.bottomRightCornerRadius=m.bottomRightCornerRadius):(f.width=f.clipBBox.width=m.width,f.height=m===y?m.height:m.x+m.height,f.clipBBox.height=f.height-(m.height-(((D=m.clipBBox)==null?void 0:D.height)??m.height)),f.topLeftCornerRadius=y.topLeftCornerRadius,f.topRightCornerRadius=y.topRightCornerRadius,f.bottomLeftCornerRadius=m.bottomLeftCornerRadius,f.bottomRightCornerRadius=m.bottomRightCornerRadius)})}updateScaleSelection(t){return t.scaleSelection.update(t.scaleData,void 0,e=>c3(t.scaleData.length,e.itemId))}updateScaleNodes(t){const{scaleSelection:e}=t,{scale:i}=this.properties,{fillOpacity:n,stroke:s,strokeOpacity:a,strokeWidth:o,lineDash:r,lineDashOffset:l}=i;e.each((c,h)=>{const{topLeftCornerRadius:p,topRightCornerRadius:f,bottomRightCornerRadius:y,bottomLeftCornerRadius:m,fill:b}=h;c.fill=b,c.fillOpacity=n,c.stroke=s,c.strokeOpacity=a,c.strokeWidth=o,c.lineDash=r,c.lineDashOffset=l,c.topLeftCornerRadius=p,c.topRightCornerRadius=f,c.bottomRightCornerRadius=y,c.bottomLeftCornerRadius=m,c.setProperties(zS(c,h))})}updateTargetSelection(t){return t.targetSelection.update(t.targetData,void 0,e=>e.itemId)}updateTargetNodes(t){const{targetSelection:e,isHighlight:i}=t,n=i?this.properties.highlightStyle.item:void 0;e.each((s,a)=>{const{x:o,y:r,shape:l,size:c,rotation:h,fill:p,fillOpacity:f,stroke:y,strokeOpacity:m,strokeWidth:b,lineDash:v,lineDashOffset:S}=a;s.size=c,s.shape=l==="line"?k6:l,s.fill=(n==null?void 0:n.fill)??p,s.fillOpacity=(n==null?void 0:n.fillOpacity)??f,s.stroke=(n==null?void 0:n.stroke)??y,s.strokeOpacity=(n==null?void 0:n.strokeOpacity)??m,s.strokeWidth=(n==null?void 0:n.strokeWidth)??b,s.lineDash=(n==null?void 0:n.lineDash)??v,s.lineDashOffset=(n==null?void 0:n.lineDashOffset)??S,s.translationX=o,s.translationY=r,s.rotation=h})}updateTargetLabelSelection(t){return t.targetLabelSelection.update(t.targetData)}updateTargetLabelNodes(t){const{targetLabelSelection:e}=t;e.each((i,n)=>{const{x:s,y:a,text:o}=n,{offsetX:r,offsetY:l,fill:c,fontStyle:h,fontWeight:p,fontSize:f,fontFamily:y,textAlign:m,textBaseline:b}=n.label;i.visible=!0,i.x=s+r,i.y=a+l,i.text=o,i.fill=c,i.fontStyle=h,i.fontWeight=p,i.fontSize=f,i.fontFamily=y,i.textAlign=m,i.textBaseline=b})}updateLabelSelection(t){return t.labelSelection.update(t.labelData,void 0,e=>"primary")}updateLabelNodes(t){const{labelSelection:e}=t,i=this.ctx.animationManager.isSkipped();e.each((n,s)=>{n.fill=s.fill,n.fontStyle=s.fontStyle,n.fontWeight=s.fontWeight,n.fontFamily=s.fontFamily}),(i||this.labelsHaveExplicitText())&&this.formatLabelText()}labelsHaveExplicitText(){for(const{datum:t}of this.labelSelection)if(t.text==null)return!1;return!0}formatLabelText(t){const{labelSelection:e,horizontal:i,axes:n}=this,s=n[ar.X],a=n[ar.Y];if(s==null||a==null)return;const[o,r]=s.range,[l,c]=a.range,h=this.originX+Math.min(o,r),p=this.originY+Math.min(l,c),f=Math.abs(r-o),y=Math.abs(c-l),m=(t==null?void 0:t.label)??this.properties.value;let b;if(i){const D=s.scale.convert(m);b=new Sm(h,p,D-h,y)}else{const D=a.scale.convert(m);b=new Sm(h,D,f,y-D)}const v={scale:new Sm(h,p,f,y),bar:b},{margin:S}=this.properties;bSt(this,e,{padding:S,horizontal:i},v,t)}resetAllAnimation(){this.ctx.animationManager.stopByAnimationGroupId(this.id),vSt([this.datumSelection],zS),this.formatLabelText()}resetAnimation(t){t==="initial"?this.animationState.transition("reset"):t==="ready"&&this.animationState.transition("skip")}animateLabelText(t={}){const{animationManager:e}=this.ctx;let i=0,n=0;if(this.labelSelection.each((s,a)=>{var o;s.opacity=1,i=((o=s.previousDatum)==null?void 0:o.value)??t.from??a.value,n=a.value}),!this.labelsHaveExplicitText())if(i===n)this.formatLabelText({label:n});else{const s=`${this.id}_labels`;e.animate({id:s,groupId:"label",from:{label:i},to:{label:n},phase:t.phase??"update",ease:kSt.easeOut,onUpdate:a=>this.formatLabelText(a)})}}animateEmptyUpdateReady(){const{animationManager:t}=this.ctx,{node:e}=r3(!0,this.horizontal);w1(this.id,"node",t,[this.datumSelection],e,(i,n)=>n.itemId),w1(this.id,"label",t,[this.labelSelection],T6,()=>"primary"),this.animateLabelText({from:0,phase:"initial"})}animateWaitingUpdateReady(){const{animationManager:t}=this.ctx,{node:e}=r3(!1,this.horizontal);w1(this.id,"node",t,[this.datumSelection],e,(i,n)=>n.itemId),this.animateLabelText()}animateReadyResize(){this.resetAllAnimation()}getSeriesDomain(){return[0,1]}getSeriesRange(t,e){return[NaN,NaN]}getLegendData(){return[]}getTooltipContent(t){const{id:e,properties:i}=this,{tooltip:n}=i;if(!i.isValid())return;const{value:s=i.value,text:a=i.label.text}=w6(t);return n.formatTooltip({data:[{label:a,fallbackLabel:"Value",value:this.formatLabel(s)}]},{seriesId:e,title:void 0,datum:void 0,value:s})}pickNodeClosestDatum(t){return L6(this,t)}pickFocus(t){return N6(this,t)}getCaptionText(){return this.formatLabel(this.properties.value)}};Vw.className="LinearGaugeSeries";Vw.type="linear-gauge";var{ThemeSymbols:{DEFAULT_HIERARCHY_FILLS:OSt,DEFAULT_GAUGE_SERIES_COLOR_RANGE:wSt},ThemeConstants:{CARTESIAN_AXIS_TYPE:R1}}=z,RSt={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["gauge"],identifier:"linear-gauge",moduleFactory:t=>new Vw(t),tooltipDefaults:{range:10},defaultAxes:[{type:R1.NUMBER,line:{enabled:!1}},{type:R1.NUMBER,line:{enabled:!1}}],themeTemplate:{minWidth:200,minHeight:200,tooltip:{enabled:!1},series:{thickness:50,bar:{strokeWidth:0},segmentation:{enabled:!1,interval:{},spacing:1},defaultTarget:{fill:{$ref:"foregroundColor"},stroke:{$ref:"foregroundColor"},size:10,shape:"triangle",placement:"after",spacing:5,label:{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$ref:"textColor"},spacing:5}},label:{enabled:!1,placement:"inside-start",fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},fontSize:{$rem:[2]},minimumFontSize:12,spacing:18,color:{$ref:"backgroundColor"}},margin:4},axes:{[R1.NUMBER]:{line:{enabled:!1},gridLine:{enabled:!1}}}},paletteFactory(t){const{takeColors:e,colorsCount:i,userPalette:n,themeTemplateParameters:s}=t,{fills:a}=e(i),o=s.get(wSt),r=s.get(OSt),l=n==="inbuilt"?o:[a[0],a[1]];return{scale:{defaultFill:r==null?void 0:r[1],stroke:r==null?void 0:r[2]},defaultColorRange:D6(l)}}},$b={zoom:{axes:"xy",anchorPointX:"pointer",anchorPointY:"pointer",buttons:{anchorPointX:"middle",anchorPointY:"middle"}},legend:{enabled:!1},gradientLegend:{enabled:!1},tooltip:{range:"exact"}},PSt=1e-9;function _6(t,e,i,n){const[s,a]=t,[o,r]=e,l=o-s,c=r-a,h=l*l+c*c;let p,f;if(Math.abs(h)<PSt)p=s,f=a;else{let b=((i-s)*l+(n-a)*c)/h;b=Math.max(0,Math.min(1,b)),p=s+b*(o-s),f=a+b*(r-a)}const y=i-p,m=n-f;return y*y+m*m}function h3(t,e,i){let n=1/0,s=t[t.length-1];for(const a of t)n=Math.min(n,_6(s,a,e,i)),s=a;return Math.sqrt(n)}function dL(t){let[e,i]=t[0],n=0;for(let s=1;s<t.length;s+=1){const[a,o]=t[s],r=Math.hypot(a-e,o-i);n+=r,e=a,i=o}return n}function DM(t){if(t.length===0)return;const e=dL(t)/2;let[i,n]=t[0],s=0;for(let a=1;a<t.length;a+=1){const[o,r]=t[a],l=Math.hypot(o-i,r-n),c=s+l;if(c>e){const h=(e-s)/l,p=[i+(o-i)*h,n+(r-n)*h],f=Math.atan2(r-n,o-i);return{point:p,angle:f}}s=c,i=o,n=r}}var{LonLatBBox:BSt}=z;function Xm(t,e,i,n,s){return t==null?t=new BSt(e,i,n,s):(t.lon0=Math.min(t.lon0,e),t.lat0=Math.min(t.lat0,i),t.lon1=Math.max(t.lon1,n),t.lat1=Math.max(t.lat1,s)),t}function Td(t,e){return t.forEach(i=>{const[n,s]=i;e=Xm(e,n,s,n,s)}),e}function zSt(t){if(t.length===0)return;let e=0,i=0,n=0,[s,a]=t[t.length-1];for(const[o,r]of t){const l=s*r-o*a;n+=l,e+=(s+o)*l,i+=(a+r)*l,s=o,a=r}return n*=3,[e/n,i/n]}function IM(t,e,i){let n=!1,s=1/0;for(const a of t){let o=a[a.length-1],[r,l]=o;for(const c of a){const[h,p]=c;p>i!=l>i&&e<(r-h)*(i-p)/(l-p)+h&&(n=!n),s=Math.min(s,_6(o,c,e,i)),o=c,r=h,l=p}}return(n?-1:1)*Math.sqrt(s)}var{Path:_St,ExtendedPath2D:jSt,BBox:FSt,ScenePathChangeDetection:j6}=z,Zg=class extends _St{constructor(){super(...arguments),this.projectedGeometry=void 0,this.renderMode=3,this.strokePath=new jSt}computeBBox(){var t;return(this.dirtyPath||this.isDirtyPath())&&(this.updatePath(),this.dirtyPath=!1),(t=this.bbox)==null?void 0:t.clone()}updatePath(){const{projectedGeometry:t}=this;this.strokePath.clear(),this.path.clear(),this.bbox=t!=null?this.drawGeometry(t,void 0):void 0}drawPath(t){super.drawPath(t),this.renderStroke(t,this.strokePath.getPath2D())}containsPoint(t,e){const{projectedGeometry:i}=this;return i==null||!this.getBBox().containsPoint(t,e)?!1:this.geometryDistance(i,t,e)<=0}distanceSquared(t,e){const{projectedGeometry:i}=this;if(i==null)return 1/0;const n=this.geometryDistance(i,t,e);return n>0?n*n:0}geometryDistance(t,e,i){const{renderMode:n,strokeWidth:s}=this,a=(n&1)!==0,o=(n&2)!==0,r=Math.max(s/2,1)+1;switch(t.type){case"GeometryCollection":return t.geometries.reduce((l,c)=>Math.min(l,this.geometryDistance(c,e,i)),1/0);case"MultiPolygon":return a?t.coordinates.reduce((l,c)=>Math.min(l,Math.max(IM(c,e,i),0)),1/0):1/0;case"Polygon":return a?Math.max(IM(t.coordinates,e,i),0):1/0;case"MultiLineString":return o?t.coordinates.reduce((l,c)=>Math.min(l,Math.max(h3(c,e,i)-r,0)),1/0):1/0;case"LineString":return o?Math.max(h3(t.coordinates,e,i)-r,0):1/0;case"MultiPoint":case"Point":default:return 1/0}}drawGeometry(t,e){const{renderMode:i,path:n,strokePath:s}=this,a=(i&1)!==0,o=(i&2)!==0;switch(t.type){case"GeometryCollection":t.geometries.forEach(r=>{e=this.drawGeometry(r,e)});break;case"MultiPolygon":a&&t.coordinates.forEach(r=>{e=this.drawPolygon(n,r,e)});break;case"Polygon":a&&(e=this.drawPolygon(n,t.coordinates,e));break;case"LineString":o&&(e=this.drawLineString(s,t.coordinates,e,!1));break;case"MultiLineString":o&&t.coordinates.forEach(r=>{e=this.drawLineString(s,r,e,!1)});break}return e}drawPolygon(t,e,i){if(e.length<1)return i;i=this.drawLineString(t,e[0],i,!0);for(let n=1;n<e.length;n+=1){const s=e[n];this.drawLineString(t,s,void 0,!0)}return i}drawLineString(t,e,i,n){if(e.length<2)return i;const s=n?e.length-1:e.length;for(let a=0;a<s;a+=1){const[o,r]=e[a];if(a===0?t.moveTo(o,r):t.lineTo(o,r),i==null)i=new FSt(o,r,0,0);else{const{x:l,y:c}=i,h=l+i.width,p=c+i.height;i.x=Math.min(l,o),i.y=Math.min(c,r),i.width=Math.max(h,o)-i.x,i.height=Math.max(p,r)-i.y}}return n&&t.closePath(),i}};A([j6()],Zg.prototype,"projectedGeometry");A([j6()],Zg.prototype,"renderMode");function qg(t,e){if(t.bbox!=null){const[i,n,s,a]=t.bbox;return e=Xm(e,i,n,s,a),e}switch(t.type){case"GeometryCollection":t.geometries.forEach(i=>{e=qg(i,e)});break;case"MultiPolygon":t.coordinates.forEach(i=>{i.length>0&&(e=Td(i[0],e))});break;case"Polygon":t.coordinates.length>0&&(e=Td(t.coordinates[0],e));break;case"MultiLineString":t.coordinates.forEach(i=>{e=Td(i,e)});break;case"LineString":e=Td(t.coordinates,e);break;case"MultiPoint":t.coordinates.forEach(i=>{const[n,s]=i;e=Xm(e,n,s,n,s)});break;case"Point":{const[i,n]=t.coordinates;e=Xm(e,i,n,i,n);break}}return e}function TM(t){switch(t.type){case"GeometryCollection":{let e,i;return t.geometries.forEach(n=>{const s=TM(n);if(s==null)return;const a=Td(s[0],void 0);if(a==null)return;const o=Math.abs(a.lat1-a.lat0)*Math.abs(a.lon1-a.lon0);(e==null||o>e)&&(e=o,i=s)}),i}case"MultiPolygon":{let e,i;return t.coordinates.forEach(n=>{const s=Td(n[0],void 0);if(s==null)return;const a=Math.abs(s.lat1-s.lat0)*Math.abs(s.lon1-s.lon0);(e==null||a>e)&&(e=a,i=n)}),i}case"Polygon":return t.coordinates;case"MultiLineString":case"LineString":case"MultiPoint":case"Point":return}}function CM(t){switch(t.type){case"GeometryCollection":{let e,i;return t.geometries.forEach(n=>{const s=CM(n);if(s==null)return;const a=dL(s);a!=null&&(e==null||a>e)&&(e=a,i=s)}),i}case"MultiLineString":{let e=0,i;return t.coordinates.forEach(n=>{const s=dL(n);s>e&&(e=s,i=n)}),i}case"LineString":return t.coordinates;case"MultiPolygon":case"Polygon":case"MultiPoint":case"Point":return}}function Uw(t,e){if(t==null)return!1;switch(t.type){case"GeometryCollection":return t.geometries.some(i=>Uw(i,e));case"MultiPolygon":case"Polygon":return(e&1)!==0;case"MultiLineString":case"LineString":return(e&2)!==0;case"MultiPoint":case"Point":return(e&4)!==0}}function th(t,e){switch(t.type){case"GeometryCollection":return{type:"GeometryCollection",geometries:t.geometries.map(i=>th(i,e))};case"Polygon":return{type:"Polygon",coordinates:pL(t.coordinates,e)};case"MultiPolygon":return{type:"MultiPolygon",coordinates:GSt(t.coordinates,e)};case"MultiLineString":return{type:"MultiLineString",coordinates:pL(t.coordinates,e)};case"LineString":return{type:"LineString",coordinates:fL(t.coordinates,e)};case"MultiPoint":return{type:"MultiPoint",coordinates:fL(t.coordinates,e)};case"Point":return{type:"Point",coordinates:e.convert(t.coordinates)}}}function GSt(t,e){return t.map(i=>pL(i,e))}function pL(t,e){return t.map(i=>fL(i,e))}function fL(t,e){return t.map(i=>e.convert(i))}(class extends z.SeriesProperties{});var Kb=class extends z.DataModelSeries{addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager.addListener("legend-item-click",t=>{this.onLegendItemClick(t)}),this.ctx.chartEventManager.addListener("legend-item-double-click",t=>{this.onLegendItemDoubleClick(t)}))}getSeriesDomain(){return[NaN,NaN]}getSeriesRange(t,e){return[NaN,NaN]}};function F6(t){return Array.isArray(t)&&t.length>=2&&t.every(Fu)}function _S(t){return Array.isArray(t)&&t.length>=2&&t.every(F6)}var d3=.001;function VSt(t){return Math.abs(t[0][0]-t[t.length-1][0])<d3&&Math.abs(t[0][1]-t[t.length-1][1])<d3}function p3(t){return Array.isArray(t)&&t.every(_S)&&t.every(VSt)}function G6(t){if(t===null)return!0;if(typeof t!="object"||t.type==null)return!1;const{type:e,coordinates:i}=t;switch(e){case"GeometryCollection":return Array.isArray(t.geometries)&&t.geometries.every(G6);case"MultiPolygon":return Array.isArray(i)&&i.every(p3);case"Polygon":return p3(i);case"MultiLineString":return Array.isArray(i)&&i.every(_S);case"LineString":return _S(i);case"MultiPoint":return _S(i);case"Point":return F6(i)}}function USt(t){return t!==null&&typeof t=="object"&&t.type==="Feature"&&G6(t.geometry)}function HSt(t){return t!==null&&typeof t=="object"&&t.type==="FeatureCollection"&&Array.isArray(t.features)&&t.features.every(USt)}var Cl=z.predicateWithMessage(HSt,"a GeoJSON object"),{COLOR_STRING:WSt,LINE_DASH:YSt,OBJECT:$St,POSITIVE_NUMBER:V6,RATIO:KSt,Validate:pp,SeriesProperties:XSt,SeriesTooltip:ZSt}=z,Ah=class extends XSt{constructor(){super(...arguments),this.topology=void 0,this.stroke="black",this.strokeOpacity=1,this.strokeWidth=0,this.lineDash=[0],this.lineDashOffset=0,this.tooltip=new ZSt}};A([pp(Cl,{optional:!0})],Ah.prototype,"topology");A([pp(WSt)],Ah.prototype,"stroke");A([pp(KSt)],Ah.prototype,"strokeOpacity");A([pp(V6)],Ah.prototype,"strokeWidth");A([pp(YSt)],Ah.prototype,"lineDash");A([pp(V6)],Ah.prototype,"lineDashOffset");A([pp($St)],Ah.prototype,"tooltip");var{createDatumId:qSt,SeriesNodePickMode:QSt,Validate:JSt,Group:tMt,Selection:eMt,PointerEvents:iMt}=z,zD=class extends Kb{constructor(t){super({moduleCtx:t,useLabelLayer:!0,pickModes:[QSt.EXACT_SHAPE_MATCH]}),this.properties=new Ah,this._chartTopology=void 0,this.itemGroup=this.contentGroup.appendChild(new tMt({name:"itemGroup"})),this.datumSelection=eMt.select(this.itemGroup,()=>this.nodeFactory())}getNodeData(){var t;return(t=this.contextNodeData)==null?void 0:t.nodeData}get topology(){return this.properties.topology??this._chartTopology}get focusable(){return!1}setOptionsData(){}setChartData(){}get hasData(){return!1}renderToOffscreenCanvas(){return!0}setChartTopology(t){this._chartTopology=t,this.topology===t&&(this.nodeDataRefresh=!0)}setSeriesIndex(t){return super.setSeriesIndex(t)?(this.contentGroup.zIndex=[0,t,0],this.highlightGroup.zIndex=[0,t,1],!0):!1}nodeFactory(){const t=new Zg;return t.renderMode=2,t.lineJoin="round",t.lineCap="round",t.pointerEvents=iMt.None,t}processData(){const{topology:t}=this;this.topologyBounds=t==null?void 0:t.features.reduce((e,i)=>{const n=i.geometry;return n==null?e:qg(n,e)},void 0),t==null&&ve.warnOnce("no topology was provided for [MapShapeBackgroundSeries]; nothing will be rendered.")}createNodeData(){const{id:t,topology:e,scale:i}=this;if(e==null)return;const n=[],s=[];return e.features.forEach((a,o)=>{const{geometry:r}=a,l=r!=null&&i!=null?th(r,i):void 0;l!=null&&n.push({series:this,itemId:o,datum:a,datumIndex:0,index:o,projectedGeometry:l})}),{itemId:t,nodeData:n,labelData:s}}updateSelections(){this.nodeDataRefresh&&(this.contextNodeData=this.createNodeData(),this.nodeDataRefresh=!1)}update(){const{datumSelection:t}=this;this.updateSelections(),this.contentGroup.visible=this.visible;const{nodeData:e=[]}=this.contextNodeData??{};this.datumSelection=this.updateDatumSelection({nodeData:e,datumSelection:t}),this.updateDatumNodes({datumSelection:t})}updateDatumSelection(t){return t.datumSelection.update(t.nodeData,void 0,e=>qSt(e.index))}updateDatumNodes(t){const{properties:e}=this,{datumSelection:i}=t,{stroke:n,strokeOpacity:s,lineDash:a,lineDashOffset:o}=e,r=this.getStrokeWidth(e.strokeWidth);i.each((l,c)=>{const{projectedGeometry:h}=c;if(h==null){l.visible=!1,l.projectedGeometry=void 0;return}l.visible=!0,l.projectedGeometry=h,l.stroke=n,l.strokeWidth=r,l.strokeOpacity=s,l.lineDash=a,l.lineDashOffset=o})}resetAnimation(){}getLegendData(){return[]}getTooltipContent(t){}computeFocusBounds(t){}};zD.className="MapLineBackgroundSeries";zD.type="map-line-background";A([JSt(Cl,{optional:!0,property:"topology"})],zD.prototype,"_chartTopology");var{DEFAULT_HIERARCHY_STROKES:nMt}=z.ThemeSymbols,sMt={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["topology"],identifier:"map-line-background",moduleFactory:t=>new zD(t),tooltipDefaults:{range:"exact"},themeTemplate:{...$b,series:{strokeWidth:1,lineDash:[0],lineDashOffset:0}},paletteFactory:({themeTemplateParameters:t})=>{var e;return{stroke:(e=t.get(nMt))==null?void 0:e[1]}}};function aMt(){return{fromFn:(i,n,s)=>s==="removed"?{scalingX:1,scalingY:1}:i.previousDatum==null?{scalingX:0,scalingY:0}:{scalingX:i.scalingX,scalingY:i.scalingY},toFn:(i,n,s)=>s==="removed"?{scalingX:0,scalingY:0}:{scalingX:1,scalingY:1}}}function U6(t,e){var n;const i=(n=t.contextNodeData)==null?void 0:n.nodeData[e.datumIndex];if(i!==void 0){for(const s of t.datumSelection.nodes())if(s.datum===i)return s}}var{AND:oMt,ARRAY:rMt,COLOR_STRING:lMt,COLOR_STRING_ARRAY:cMt,FUNCTION:uMt,LINE_DASH:hMt,NUMBER_ARRAY:dMt,OBJECT:H6,POSITIVE_NUMBER:Hw,RATIO:pMt,STRING:Cr,Validate:ki,SeriesProperties:fMt,SeriesTooltip:gMt,Label:yMt}=z,fi=class extends fMt{constructor(){super(...arguments),this.topology=void 0,this.idKey="",this.topologyIdKey="name",this.idName=void 0,this.labelKey=void 0,this.labelName=void 0,this.colorRange=void 0,this.maxStrokeWidth=void 0,this.stroke="black",this.strokeOpacity=1,this.strokeWidth=0,this.lineDash=[0],this.lineDashOffset=0,this.label=new yMt,this.tooltip=new gMt}};A([ki(Cl,{optional:!0})],fi.prototype,"topology");A([ki(Cr,{optional:!0})],fi.prototype,"title");A([ki(Cr,{optional:!0})],fi.prototype,"legendItemName");A([ki(Cr)],fi.prototype,"idKey");A([ki(Cr)],fi.prototype,"topologyIdKey");A([ki(Cr,{optional:!0})],fi.prototype,"idName");A([ki(Cr,{optional:!0})],fi.prototype,"labelKey");A([ki(Cr,{optional:!0})],fi.prototype,"labelName");A([ki(Cr,{optional:!0})],fi.prototype,"sizeKey");A([ki(Cr,{optional:!0})],fi.prototype,"sizeName");A([ki(Cr,{optional:!0})],fi.prototype,"colorKey");A([ki(Cr,{optional:!0})],fi.prototype,"colorName");A([ki(dMt,{optional:!0})],fi.prototype,"sizeDomain");A([ki(oMt(cMt,rMt.restrict({minLength:1})),{optional:!0})],fi.prototype,"colorRange");A([ki(Hw,{optional:!0})],fi.prototype,"maxStrokeWidth");A([ki(lMt)],fi.prototype,"stroke");A([ki(pMt)],fi.prototype,"strokeOpacity");A([ki(Hw)],fi.prototype,"strokeWidth");A([ki(hMt)],fi.prototype,"lineDash");A([ki(Hw)],fi.prototype,"lineDashOffset");A([ki(uMt,{optional:!0})],fi.prototype,"itemStyler");A([ki(H6)],fi.prototype,"label");A([ki(H6)],fi.prototype,"tooltip");var{getMissCount:mMt,createDatumId:f3,SeriesNodePickMode:g3,valueProperty:Mm,CachedTextMeasurerPool:xMt,Validate:bMt,ColorScale:vMt,LinearScale:SMt,Selection:P1,Text:MMt,Transformable:AMt}=z,_D=class extends Kb{constructor(t){super({moduleCtx:t,useLabelLayer:!0,pickModes:[g3.EXACT_SHAPE_MATCH,g3.NEAREST_NODE],usesPlacedLabels:!0}),this.properties=new fi,this._chartTopology=void 0,this.colorScale=new vMt,this.sizeScale=new SMt,this.datumSelection=P1.select(this.contentGroup,()=>this.nodeFactory()),this.labelSelection=P1.select(this.labelGroup,MMt),this.highlightDatumSelection=P1.select(this.highlightNode,()=>this.nodeFactory()),this._previousDatumMidPoint=void 0}getNodeData(){var t;return(t=this.contextNodeData)==null?void 0:t.nodeData}get topology(){return this.properties.topology??this._chartTopology}get hasData(){return super.hasData&&this.topology!=null}renderToOffscreenCanvas(){return!0}setSeriesIndex(t){return super.setSeriesIndex(t)?(this.contentGroup.zIndex=[1,t],this.highlightGroup.zIndex=[2,t],!0):!1}setChartTopology(t){this._chartTopology=t,this.topology===t&&(this.nodeDataRefresh=!0)}isLabelEnabled(){return this.properties.labelKey!=null&&this.properties.label.enabled}nodeFactory(){const t=new Zg;return t.renderMode=2,t.lineJoin="round",t.lineCap="round",t}async processData(t){var I;if(this.data==null||!this.properties.isValid())return;const{data:e,topology:i,sizeScale:n,colorScale:s}=this,{topologyIdKey:a,idKey:o,sizeKey:r,colorKey:l,labelKey:c,sizeDomain:h,colorRange:p}=this.properties,f=new Map;i==null||i.features.forEach(T=>{var E;const k=(E=T.properties)==null?void 0:E[a];k==null||!Uw(T.geometry,2)||f.set(k,T)});const y=this.sizeScale.type,m=this.colorScale.type,b=(I=this.scale)==null?void 0:I.type,{dataModel:v,processedData:S}=await this.requestDataModel(t,e,{props:[Mm(o,b,{id:"idValue",includeProperty:!1}),Mm(o,b,{id:"featureValue",includeProperty:!1,processor:()=>T=>f.get(T)}),...c!=null?[Mm(c,"band",{id:"labelValue"})]:[],...r!=null?[Mm(r,y,{id:"sizeValue"})]:[],...l!=null?[Mm(l,m,{id:"colorValue"})]:[]]}),D=v.resolveColumnById(this,"featureValue",S);if(this.topologyBounds=D.reduce((T,k)=>{const E=k==null?void 0:k.geometry;return E==null?T:qg(E,T)},void 0),r!=null){const T=v.resolveProcessedDataIndexById(this,"sizeValue"),k=S.domain.values[T]??[];n.domain=h??k}if(p!=null&&this.isColorScaleValid()){const T=v.resolveProcessedDataIndexById(this,"colorValue");s.domain=S.domain.values[T],s.range=p,s.update()}i==null&&ve.warnOnce("no topology was provided for [MapLineSeries]; nothing will be rendered.")}isColorScaleValid(){const{colorKey:t}=this.properties;if(!t)return!1;const{dataModel:e,processedData:i}=this;if(!e||!i)return!1;const n=e.resolveProcessedDataIndexById(this,"colorValue"),s=i.input.count,a=mMt(this,i.defs.values[n].missing);return!(s===0||s===a)}getLabelDatum(t,e,i,n){if(e==null||i==null)return;const s=CM(i);if(s==null)return;const{idKey:a,idName:o,sizeKey:r,sizeName:l,colorKey:c,colorName:h,labelKey:p,labelName:f,label:y}=this.properties,m=this.getLabelText(y,{value:e,datum:t,idKey:a,idName:o,sizeKey:r,sizeName:l,colorKey:c,colorName:h,labelKey:p,labelName:f});if(m==null)return;const b=xMt.measureText(String(m),{font:n}),v=DM(s);if(v==null)return;const[S,D]=v.point,{width:I,height:T}=b;return{point:{x:S,y:D,size:0},label:{width:I,height:T,text:m},anchor:void 0,placement:void 0}}createNodeData(){var B;const{id:t,dataModel:e,processedData:i,sizeScale:n,properties:s,scale:a}=this,{idKey:o,sizeKey:r,colorKey:l,labelKey:c,label:h}=s;if(e==null||i==null)return;const p=e.resolveColumnById(this,"idValue",i),f=e.resolveColumnById(this,"featureValue",i),y=c!=null?e.resolveColumnById(this,"labelValue",i):void 0,m=r!=null?e.resolveColumnById(this,"sizeValue",i):void 0,b=l!=null?e.resolveColumnById(this,"colorValue",i):void 0,v=s.maxStrokeWidth??s.strokeWidth;n.range=[Math.min(s.strokeWidth,v),v];const S=h.getFont(),D=new Map;(B=i.dataSources.get(this.id))==null||B.forEach((R,L)=>{var W;const F=p[L],j=((W=f[L])==null?void 0:W.geometry)??void 0,G=j!=null&&a!=null?th(j,a):void 0;F!=null&&G!=null&&D.set(F,G)});const I=[],T=[],k=[];(i.dataSources.get(this.id)??[]).forEach((R,L)=>{const F=p[L],j=b==null?void 0:b[L],G=m==null?void 0:m[L],W=y==null?void 0:y[L],Z=D.get(F);Z==null&&k.push(F);const U=this.getLabelDatum(R,W,Z,S);U!=null&&T.push(U),I.push({series:this,itemId:o,datum:R,datumIndex:L,idValue:F,labelValue:W,colorValue:j,sizeValue:G,projectedGeometry:Z})});const O=10;if(k.length>O){const R=k.length-O;k.length=O,k.push(`(+${R} more)`)}return k.length>0&&ve.warnOnce("some data items do not have matches in the provided topology",k),{itemId:t,nodeData:I,labelData:T}}updateSelections(){this.nodeDataRefresh&&(this.contextNodeData=this.createNodeData(),this.nodeDataRefresh=!1)}update(){var s,a;const{datumSelection:t,highlightDatumSelection:e}=this;this.updateSelections(),this.contentGroup.visible=this.visible,this.contentGroup.opacity=this.getOpacity();let i=(s=this.ctx.highlightManager)==null?void 0:s.getActiveHighlight();i!=null&&(i.series!==this||i.datum==null)&&(i=void 0);const n=((a=this.contextNodeData)==null?void 0:a.nodeData)??[];this.datumSelection=this.updateDatumSelection({nodeData:n,datumSelection:t}),this.updateDatumNodes({datumSelection:t,isHighlight:!1}),this.highlightDatumSelection=this.updateDatumSelection({nodeData:i!=null?[i]:[],datumSelection:e}),this.updateDatumNodes({datumSelection:e,isHighlight:!0})}updateDatumSelection(t){return t.datumSelection.update(t.nodeData,void 0,e=>f3(e.idValue))}getItemBaseStyle(t){const{properties:e}=this,i=t?e.highlightStyle.item:void 0;return{stroke:(i==null?void 0:i.stroke)??e.stroke,strokeWidth:(i==null?void 0:i.strokeWidth)??this.getStrokeWidth(e.strokeWidth),strokeOpacity:(i==null?void 0:i.strokeOpacity)??e.strokeOpacity,lineDash:(i==null?void 0:i.lineDash)??e.lineDash,lineDashOffset:(i==null?void 0:i.lineDashOffset)??e.lineDashOffset}}getItemStyleOverrides(t,e,i,n,s,a){const{id:o,properties:r,colorScale:l,sizeScale:c}=this,{colorRange:h,itemStyler:p}=r;let f;if(!a&&i!=null&&(f??(f={}),f.stroke=this.isColorScaleValid()?l.convert(i):(h==null?void 0:h[0])??r.stroke),n!=null&&(f??(f={}),f.strokeWidth=c.convert(n,!0)),p!=null){const y=this.cachedDatumCallback(f3(t,a?"highlight":"node"),()=>p({seriesId:o,datum:e,highlighted:a,...s,...f}));f??(f={}),Object.assign(f,y)}return f}updateDatumNodes(t){const{datumSelection:e,isHighlight:i}=t,n=this.getItemBaseStyle(i);e.each((s,a)=>{const{datum:o,datumIndex:r,colorValue:l,sizeValue:c,projectedGeometry:h}=a;if(h==null){s.visible=!1,s.projectedGeometry=void 0;return}const p=this.getItemStyleOverrides(String(r),o,l,c,n,i);s.visible=!0,s.projectedGeometry=h,s.stroke=(p==null?void 0:p.stroke)??n.stroke,s.strokeWidth=(p==null?void 0:p.strokeWidth)??n.strokeWidth,s.strokeOpacity=(p==null?void 0:p.strokeOpacity)??n.strokeOpacity,s.lineDash=(p==null?void 0:p.lineDash)??n.lineDash,s.lineDashOffset=(p==null?void 0:p.lineDashOffset)??n.lineDashOffset})}updatePlacedLabelData(t){this.labelSelection=this.labelSelection.update(t,e=>{e.pointerEvents=z.PointerEvents.None}),this.updateLabelNodes({labelSelection:this.labelSelection})}updateLabelNodes(t){const{labelSelection:e}=t,{color:i,fontStyle:n,fontWeight:s,fontSize:a,fontFamily:o}=this.properties.label;e.each((r,{x:l,y:c,width:h,height:p,text:f})=>{r.visible=!0,r.x=l+h/2,r.y=c+p/2,r.text=f,r.fill=i,r.fontStyle=n,r.fontWeight=s,r.fontSize=a,r.fontFamily=o,r.textAlign="center",r.textBaseline="middle"})}resetAnimation(){}getLabelData(){var t;return this.isLabelEnabled()?((t=this.contextNodeData)==null?void 0:t.labelData)??[]:[]}pickNodeClosestDatum({x:t,y:e}){let i=1/0,n;return this.datumSelection.each((s,a)=>{const o=s.distanceSquared(t,e);o<i&&(i=o,n=a)}),n!=null?{datum:n,distance:Math.sqrt(i)}:void 0}datumMidPoint(t){var o;const{_previousDatumMidPoint:e}=this;if((e==null?void 0:e.datum)===t)return e.point;const i=t.projectedGeometry,n=i!=null?CM(i):void 0,s=n!=null?(o=DM(n))==null?void 0:o.point:void 0,a=s!=null?{x:s[0],y:s[1]}:void 0;return this._previousDatumMidPoint={datum:t,point:a},a}legendItemSymbol(t){const{dataModel:e,processedData:i,properties:n}=this,{strokeWidth:s,strokeOpacity:a,lineDash:o}=n;let{stroke:r}=n;if(t!=null&&this.isColorScaleValid()){const c=e.resolveColumnById(this,"colorValue",i)[t];r=this.colorScale.convert(c)}return{marker:{fill:void 0,fillOpacity:0,stroke:void 0,strokeWidth:0,strokeOpacity:0,lineDash:[0],lineDashOffset:0,enabled:!1},line:{stroke:r,strokeWidth:s,strokeOpacity:a,lineDash:o}}}getLegendData(t){const{processedData:e,dataModel:i}=this;if(e==null||i==null)return[];const{id:n,visible:s}=this,{title:a,legendItemName:o,idKey:r,idName:l,colorKey:c,colorName:h,colorRange:p,showInLegend:f}=this.properties;if(t==="gradient"&&c!=null&&p!=null){const y=e.domain.values[i.resolveProcessedDataIndexById(this,"colorValue")];return[{legendType:"gradient",enabled:s,seriesId:n,colorName:h,colorRange:p,colorDomain:y}]}else return t==="category"?[{legendType:"category",id:n,itemId:n,seriesId:n,enabled:s,label:{text:o??a??l??r},symbol:this.legendItemSymbol(),legendItemName:o,hideInLegend:!f}]:[]}getTooltipContent(t){var O;const{id:e,dataModel:i,processedData:n,properties:s}=this,{idKey:a,idName:o,colorKey:r,colorName:l,sizeKey:c,sizeName:h,labelKey:p,labelName:f,title:y,legendItemName:m,tooltip:b}=s;if(!i||!n)return;const{datumIndex:v}=t,S=(O=n.dataSources.get(this.id))==null?void 0:O[v],D=i.resolveColumnById(this,"idValue",n),I=[],T=c!=null?i.resolveColumnById(this,"sizeValue",n)[v]:void 0,k=r!=null?i.resolveColumnById(this,"colorValue",n)[v]:void 0;if(c!=null&&I.push({label:h,fallbackLabel:c,value:String(T)}),r!=null&&I.push({label:l,fallbackLabel:r,value:String(k)}),p!=null&&p!==a){const B=i.resolveColumnById(this,"labelValue",n)[v];I.push({label:f,fallbackLabel:p,value:B})}const E=this.getItemBaseStyle(!1);return Object.assign(E,this.getItemStyleOverrides(String(v),v,k,T,E,!1)),b.formatTooltip({heading:D[v],title:y??m,symbol:this.legendItemSymbol(v),data:I},{seriesId:e,datum:S,title:y,idKey:a,idName:o,colorKey:r,colorName:l,sizeKey:c,sizeName:h,labelKey:p,labelName:f,...E})}computeFocusBounds(t){const e=U6(this,t);return e?AMt.toCanvas(this.contentGroup,e.getBBox()):void 0}};_D.className="MapLineSeries";_D.type="map-line";A([bMt(Cl,{optional:!0,property:"topology"})],_D.prototype,"_chartTopology");var{DEFAULT_DIVERGING_SERIES_COLOR_RANGE:DMt}=z.ThemeSymbols,IMt={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["topology"],identifier:"map-line",moduleFactory:t=>new _D(t),tooltipDefaults:{range:"exact"},themeTemplate:{...$b,series:{strokeWidth:1,maxStrokeWidth:3,lineDash:[0],lineDashOffset:0,label:{enabled:!0,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}}}},paletteFactory:t=>{const{takeColors:e,colorsCount:i,userPalette:n,themeTemplateParameters:s}=t,{fill:a}=z.singleSeriesPaletteFactory(t),o=s.get(DMt),{fills:r}=e(i);return{colorRange:n==="inbuilt"?o:[r[0],r[1]],stroke:a}}},TMt=(t,e,i)=>{let n=t,s=n;for(const a of e)if(n==null||i(n.value,a)>0)n={value:a,next:n},s=n;else{for(s=s;s.next!=null&&i(s.next.value,a)<=0;)s=s.next;s.next={value:a,next:s.next}}return n};function W6(t,e,i){const n=Td(t[0],void 0);if(n==null)return;const s=(n.lon0+n.lon1)/2,a=(n.lat0+n.lat1)/2,o=Math.abs(n.lon1-n.lon0),r=Math.abs(n.lat1-n.lat0),l=zSt(t[0]),[c,h]=l,p=-IM(t,c,h);let f;const y=(k,E)=>{const B=Math.max(E-p,0);return k-.5*B},m=(k,E,O)=>{const{distance:B,maxDistance:R}=i(t,k,E,O),L=Math.hypot(c-k,h-E),F=Math.min(Math.max(c,k-O/2),k+O/2),j=Math.min(Math.max(h,E-O/2),E+O/2),G=Math.hypot(c-F,h-j),W=y(B,L),Z=y(R,G);return{distance:B,maxDistance:R,value:W,maxValue:Z,x:k,y:E,stride:O}},b=(k,E,O,B)=>{const R=m(E,O,B);R.maxDistance>=0&&k.push(R)},v=Math.min(o,r)/2;let S={value:m(s,a,v),next:null};for(;S!=null;){const k=S.value,{distance:E,value:O,maxValue:B,x:R,y:L,stride:F}=k;if(S=S.next,E>0&&(f==null||O>f.value)&&(f=k),f!=null&&B-f.value<=e)continue;const j=F/2,G=[];b(G,R-j,L-j,j),b(G,R+j,L-j,j),b(G,R-j,L+j,j),b(G,R+j,L+j,j),G.sort(y3),S=TMt(S,G,y3)}if(f==null)return;const{distance:D,x:I,y:T}=f;return{x:I,y:T,distance:D}}var y3=(t,e)=>e.maxValue-t.maxValue;function gL(t,e){const i=W6(t,e,(a,o,r,l)=>{const c=-IM(a,o,r),h=c+l*Math.SQRT2;return{distance:c,maxDistance:h}});if(i==null)return;const{x:n,y:s}=i;return[n,s]}function Y6(t,e){var n,s;let i;switch(t.type){case"GeometryCollection":return t.geometries.flatMap(a=>Y6(a,e));case"MultiPoint":return t.coordinates;case"Point":return[t.coordinates];case"MultiPolygon":{const a=TM(t);i=a!=null?gL(a,e):void 0;break}case"Polygon":{const a=t.coordinates;i=a!=null?gL(a,e):void 0;break}case"MultiLineString":{const a=CM(t);i=a!=null?(n=DM(a))==null?void 0:n.point:void 0;break}case"LineString":{const a=t.coordinates;i=(s=DM(a))==null?void 0:s.point;break}}return i!=null?[i]:[]}var{AND:CMt,ARRAY:kMt,COLOR_STRING:$6,COLOR_STRING_ARRAY:LMt,FUNCTION:NMt,NUMBER_ARRAY:EMt,OBJECT:K6,POSITIVE_NUMBER:jD,RATIO:X6,STRING:zs,MARKER_SHAPE:OMt,LINE_DASH:wMt,Validate:Ee,SeriesProperties:RMt,SeriesTooltip:PMt,Label:BMt}=z,Z6=class extends BMt{constructor(){super(...arguments),this.placement="bottom"}};A([Ee(zs)],Z6.prototype,"placement");var Oe=class extends RMt{constructor(){super(...arguments),this.topology=void 0,this.idKey=void 0,this.topologyIdKey="name",this.idName=void 0,this.latitudeKey=void 0,this.latitudeName=void 0,this.longitudeKey=void 0,this.longitudeName=void 0,this.labelKey=void 0,this.labelName=void 0,this.colorRange=void 0,this.shape="circle",this.size=6,this.fill="black",this.fillOpacity=1,this.stroke="black",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.label=new Z6,this.tooltip=new PMt}isValid(){const t=super.isValid(),e=this.idKey!=null,i=this.latitudeKey!=null&&this.longitudeKey!=null;return!e&&!i?(ve.warnOnce("Either both [topology] and [idKey] or both [latitudeKey] and [longitudeKey] must be set to render a map marker series."),!1):t}};A([Ee(Cl,{optional:!0})],Oe.prototype,"topology");A([Ee(zs,{optional:!0})],Oe.prototype,"title");A([Ee(zs,{optional:!0})],Oe.prototype,"legendItemName");A([Ee(zs,{optional:!0})],Oe.prototype,"idKey");A([Ee(zs)],Oe.prototype,"topologyIdKey");A([Ee(zs,{optional:!0})],Oe.prototype,"idName");A([Ee(zs,{optional:!0})],Oe.prototype,"latitudeKey");A([Ee(zs,{optional:!0})],Oe.prototype,"latitudeName");A([Ee(zs,{optional:!0})],Oe.prototype,"longitudeKey");A([Ee(zs,{optional:!0})],Oe.prototype,"longitudeName");A([Ee(zs,{optional:!0})],Oe.prototype,"labelKey");A([Ee(zs,{optional:!0})],Oe.prototype,"labelName");A([Ee(zs,{optional:!0})],Oe.prototype,"sizeKey");A([Ee(zs,{optional:!0})],Oe.prototype,"sizeName");A([Ee(zs,{optional:!0})],Oe.prototype,"colorKey");A([Ee(zs,{optional:!0})],Oe.prototype,"colorName");A([Ee(CMt(LMt,kMt.restrict({minLength:1})),{optional:!0})],Oe.prototype,"colorRange");A([Ee(OMt)],Oe.prototype,"shape");A([Ee(jD)],Oe.prototype,"size");A([Ee(jD,{optional:!0})],Oe.prototype,"maxSize");A([Ee(EMt,{optional:!0})],Oe.prototype,"sizeDomain");A([Ee($6)],Oe.prototype,"fill");A([Ee(X6)],Oe.prototype,"fillOpacity");A([Ee($6)],Oe.prototype,"stroke");A([Ee(jD)],Oe.prototype,"strokeWidth");A([Ee(X6)],Oe.prototype,"strokeOpacity");A([Ee(wMt)],Oe.prototype,"lineDash");A([Ee(jD)],Oe.prototype,"lineDashOffset");A([Ee(NMt,{optional:!0})],Oe.prototype,"itemStyler");A([Ee(K6)],Oe.prototype,"label");A([Ee(K6)],Oe.prototype,"tooltip");var{CachedTextMeasurerPool:zMt,Validate:_Mt,fromToMotion:jMt,StateMachine:FMt,getMissCount:GMt,createDatumId:m3,SeriesNodePickMode:x3,valueProperty:dd,computeMarkerFocusBounds:VMt,ColorScale:UMt,LinearScale:HMt,Group:WMt,Selection:B1,Text:YMt,Marker:z1,applyShapeStyle:$Mt}=z,FD=class extends Kb{constructor(t){super({moduleCtx:t,useLabelLayer:!0,pickModes:[x3.EXACT_SHAPE_MATCH,x3.NEAREST_NODE],usesPlacedLabels:!0}),this.properties=new Oe,this._chartTopology=void 0,this.colorScale=new UMt,this.sizeScale=new HMt,this.markerGroup=this.contentGroup.appendChild(new WMt({name:"markerGroup"})),this.labelSelection=B1.select(this.labelGroup,YMt,!1),this.markerSelection=B1.select(this.markerGroup,z1,!1),this.highlightMarkerSelection=B1.select(this.highlightNode,z1),this.animationState=new FMt("empty",{empty:{update:{target:"ready",action:()=>this.animateMarkers()},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",resize:()=>this.resetAllAnimation(),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:()=>this.animateMarkers()},resize:{target:"ready",action:()=>this.resetAllAnimation()},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:()=>this.resetAllAnimation()},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}getNodeData(){var t;return(t=this.contextNodeData)==null?void 0:t.nodeData}get topology(){return this.properties.topology??this._chartTopology}get hasData(){const t=this.properties.latitudeKey!=null&&this.properties.longitudeKey!=null;return super.hasData&&(this.topology!=null||t)}renderToOffscreenCanvas(){return!0}setChartTopology(t){this._chartTopology=t,this.topology===t&&(this.nodeDataRefresh=!0)}setSeriesIndex(t){return super.setSeriesIndex(t)?(this.contentGroup.zIndex=[3,t],this.highlightGroup.zIndex=[4,t],!0):!1}isLabelEnabled(){return this.properties.labelKey!=null&&this.properties.label.enabled}async processData(t){var B,R;if(this.data==null||!this.properties.isValid())return;const{data:e,topology:i,sizeScale:n,colorScale:s}=this,{topologyIdKey:a,idKey:o,latitudeKey:r,longitudeKey:l,sizeKey:c,colorKey:h,labelKey:p,sizeDomain:f,colorRange:y}=this.properties,m=new Map;i==null||i.features.forEach(L=>{var j;const F=(j=L.properties)==null?void 0:j[a];F!=null&&m.set(F,L)});const b=this.sizeScale.type,v=this.colorScale.type,S=(B=this.scale)==null?void 0:B.type,D=r!=null&&l!=null,{dataModel:I,processedData:T}=await this.requestDataModel(t,e,{props:[...o!=null?[dd(o,S,{id:"idValue",includeProperty:!1}),dd(o,S,{id:"featureValue",includeProperty:!1,processor:()=>L=>m.get(L)})]:[],...D?[dd(r,S,{id:"latValue"}),dd(l,S,{id:"lonValue"})]:[],...p?[dd(p,"band",{id:"labelValue"})]:[],...c?[dd(c,b,{id:"sizeValue"})]:[],...h?[dd(h,v,{id:"colorValue"})]:[]]}),k=o!=null?I.resolveColumnById(this,"featureValue",T):void 0,E=D?I.resolveColumnById(this,"latValue",T):void 0,O=D?I.resolveColumnById(this,"lonValue",T):void 0;if(this.topologyBounds=(R=T.dataSources.get(this.id))==null?void 0:R.reduce((L,F,j)=>{const G=k==null?void 0:k[j],W=G==null?void 0:G.geometry;if(W!=null&&(L=qg(W,L)),E!=null&&O!=null){const Z=O[j],U=E[j];L=Xm(L,Z,U,Z,U)}return L},void 0),c!=null){const L=I.resolveProcessedDataIndexById(this,"sizeValue"),F=T.domain.values[L]??[];n.domain=f??F}if(y!=null&&this.isColorScaleValid()){const L=I.resolveProcessedDataIndexById(this,"colorValue");s.domain=T.domain.values[L],s.range=y,s.update()}this.animationState.transition("updateData")}isColorScaleValid(){const{colorKey:t}=this.properties;if(!t)return!1;const{dataModel:e,processedData:i}=this;if(!e||!i)return!1;const n=e.resolveProcessedDataIndexById(this,"colorValue"),s=i.input.count,a=GMt(this,i.defs.values[n].missing);return!(s===0||s===a)}getLabelDatum(t,e,i,n,s,a){if(e==null)return;const{idKey:o,idName:r,latitudeKey:l,latitudeName:c,longitudeKey:h,longitudeName:p,sizeKey:f,sizeName:y,colorKey:m,colorName:b,labelKey:v,labelName:S,label:D,shape:I}=this.properties,{placement:T}=D,k=this.getLabelText(D,{value:e,datum:t,idKey:o,idName:r,latitudeKey:l,latitudeName:c,longitudeKey:h,longitudeName:p,sizeKey:f,sizeName:y,colorKey:m,colorName:b,labelKey:v,labelName:S});if(k==null)return;const{width:E,height:O}=zMt.measureText(String(k),{font:a}),B=z1.anchor(I);return{point:{x:i,y:n,size:s},label:{width:E,height:O,text:k},anchor:B,placement:T}}createNodeData(){var G;const{id:t,dataModel:e,processedData:i,sizeScale:n,properties:s,scale:a}=this,{idKey:o,latitudeKey:r,longitudeKey:l,sizeKey:c,colorKey:h,labelKey:p,label:f}=s;if(e==null||i==null||a==null)return;const y=r!=null&&l!=null,m=o!=null?e.resolveColumnById(this,"idValue",i):void 0,b=o!=null?e.resolveColumnById(this,"featureValue",i):void 0,v=y?e.resolveColumnById(this,"latValue",i):void 0,S=y?e.resolveColumnById(this,"lonValue",i):void 0,D=p!=null?e.resolveColumnById(this,"labelValue",i):void 0,I=c!=null?e.resolveColumnById(this,"sizeValue",i):void 0,T=h!=null?e.resolveColumnById(this,"colorValue",i):void 0,k=s.maxSize??s.size;n.range=[Math.min(s.size,k),k];const E=f.getFont();let O;m!=null&&b!=null&&(O=new Map,(G=i.dataSources.get(this.id))==null||G.forEach((W,Z)=>{var X;const U=m[Z],K=((X=b[Z])==null?void 0:X.geometry)??void 0,$=K!=null&&a!=null?th(K,a):void 0;U!=null&&$!=null&&O.set(U,$)}));const B=[],R=[],L=[];(i.dataSources.get(this.id)??[]).forEach((W,Z)=>{const U=m==null?void 0:m[Z],K=S==null?void 0:S[Z],$=v==null?void 0:v[Z],X=T==null?void 0:T[Z],_=I==null?void 0:I[Z],V=D==null?void 0:D[Z],Y=_!=null?n.convert(_,!0):s.size,J=U!=null?O==null?void 0:O.get(U):void 0;if(U!=null&&th==null&&L.push(U),K!=null&&$!=null){const[q,nt]=a.convert([K,$]),st=this.getLabelDatum(W,V,q,nt,Y,E);st&&R.push(st),B.push({series:this,itemId:r,datum:W,datumIndex:Z,index:-1,idValue:U,lonValue:K,latValue:$,labelValue:V,sizeValue:_,colorValue:X,point:{x:q,y:nt,size:Y},midPoint:{x:q,y:nt}})}else J!=null&&Y6(J,1).forEach(([q,nt],st)=>{const rt=this.getLabelDatum(W,V,q,nt,Y,E);rt&&R.push(rt),B.push({series:this,itemId:r,datum:W,datumIndex:Z,index:st,idValue:U,lonValue:K,latValue:$,labelValue:V,sizeValue:_,colorValue:X,point:{x:q,y:nt,size:Y},midPoint:{x:q,y:nt}})})});const j=10;if(L.length>j){const W=L.length-j;L.length=j,L.push(`(+${W} more)`)}return L.length>0&&ve.warnOnce("some data items do not have matches in the provided topology",L),{itemId:t,nodeData:B,labelData:R}}updateSelections(){this.nodeDataRefresh&&(this.contextNodeData=this.createNodeData(),this.nodeDataRefresh=!1)}checkScaleChange(){return this.previousScale===this.scale?!1:(this.previousScale=this.scale,!0)}update({seriesRect:t}){var r,l;const e=this.checkResize(t),i=this.checkScaleChange(),{markerSelection:n,highlightMarkerSelection:s}=this;this.updateSelections(),this.contentGroup.visible=this.visible,this.contentGroup.opacity=this.getOpacity();let a=(r=this.ctx.highlightManager)==null?void 0:r.getActiveHighlight();a!=null&&(a.series!==this||a.datum==null)&&(a=void 0);const o=((l=this.contextNodeData)==null?void 0:l.nodeData)??[];this.markerSelection=this.updateMarkerSelection({markerData:o,markerSelection:n}),this.updateMarkerNodes({markerSelection:n,isHighlight:!1,highlightedDatum:a}),this.highlightMarkerSelection=this.updateMarkerSelection({markerData:a!=null?[a]:[],markerSelection:s}),this.updateMarkerNodes({markerSelection:s,isHighlight:!0,highlightedDatum:a}),(i||e)&&this.animationState.transition("resize"),this.animationState.transition("update")}updatePlacedLabelData(t){this.labelSelection=this.labelSelection.update(t,e=>{e.pointerEvents=z.PointerEvents.None}),this.updateLabelNodes({labelSelection:this.labelSelection})}updateLabelNodes(t){const{labelSelection:e}=t,{color:i,fontStyle:n,fontWeight:s,fontSize:a,fontFamily:o}=this.properties.label;e.each((r,{x:l,y:c,width:h,height:p,text:f})=>{r.visible=!0,r.x=l+h/2,r.y=c+p/2,r.text=f,r.fill=i,r.fontStyle=n,r.fontWeight=s,r.fontSize=a,r.fontFamily=o,r.textAlign="center",r.textBaseline="middle"})}updateMarkerSelection(t){const{markerData:e,markerSelection:i}=t;return i.update(e,void 0,n=>m3([n.index,n.idValue,n.lonValue,n.latValue]))}getMarkerItemBaseStyle(t){const{properties:e}=this,i=t?e.highlightStyle.item:void 0;return{shape:e.shape,size:e.size,fill:(i==null?void 0:i.fill)??e.fill,fillOpacity:(i==null?void 0:i.fillOpacity)??e.fillOpacity,stroke:(i==null?void 0:i.stroke)??e.stroke,strokeWidth:(i==null?void 0:i.strokeWidth)??this.getStrokeWidth(e.strokeWidth),strokeOpacity:(i==null?void 0:i.strokeOpacity)??e.strokeOpacity,lineDash:(i==null?void 0:i.lineDash)??e.lineDash,lineDashOffset:(i==null?void 0:i.lineDashOffset)??e.lineDashOffset}}getMarkerItemStyleOverrides(t,e,i,n,s,a){const{id:o,properties:r,colorScale:l,sizeScale:c}=this,{colorRange:h,itemStyler:p}=r;let f;if(!a&&i!=null&&(f??(f={}),f.fill=this.isColorScaleValid()?l.convert(i):(h==null?void 0:h[0])??r.fill),n!=null&&(f??(f={}),f.size=c.convert(n,!0)),p!=null){const y=this.cachedDatumCallback(m3(t,a?"highlight":"node"),()=>p({seriesId:o,datum:e,highlighted:a,...s,...f}));f??(f={}),Object.assign(f,y)}return f}updateMarkerNodes(t){const{markerSelection:e,isHighlight:i,highlightedDatum:n}=t,s=this.getMarkerItemBaseStyle(i);e.each((a,o)=>{const{datumIndex:r,datum:l,point:c,colorValue:h,sizeValue:p}=o,f=this.getMarkerItemStyleOverrides(String(r),l,h,p,s,i);a.shape=(f==null?void 0:f.shape)??s.shape,a.size=(f==null?void 0:f.size)??s.size,$Mt(a,s,f),a.translationX=c.x,a.translationY=c.y,a.zIndex=!i&&n!=null&&l===n.datum?1:0})}isProcessedDataAnimatable(){return!0}resetAnimation(t){t==="initial"?this.animationState.transition("reset"):t==="ready"&&this.animationState.transition("skip")}resetAllAnimation(){this.ctx.animationManager.stopByAnimationGroupId(this.id),this.ctx.animationManager.skipCurrentBatch(),this.labelSelection.cleanup(),this.markerSelection.cleanup(),this.highlightMarkerSelection.cleanup()}animateMarkers(){const{animationManager:t}=this.ctx,e=aMt();jMt(this.id,"markers",t,[this.markerSelection,this.highlightMarkerSelection],e)}getLabelData(){var t;return this.isLabelEnabled()?((t=this.contextNodeData)==null?void 0:t.labelData)??[]:[]}pickNodeClosestDatum(t){var a;const{x:e,y:i}=t;let n=1/0,s;return(a=this.contextNodeData)==null||a.nodeData.forEach(o=>{const{x:r,y:l,size:c}=o.point,h=Math.max(Math.abs(r-e)-c,0),p=Math.max(Math.abs(l-i)-c,0),f=h*h+p*p;f<n&&(n=f,s=o)}),s!=null?{datum:s,distance:Math.sqrt(n)}:void 0}legendItemSymbol(t){const{dataModel:e,processedData:i,properties:n}=this,{shape:s,fillOpacity:a,stroke:o,strokeWidth:r,strokeOpacity:l,lineDash:c,lineDashOffset:h}=n;let{fill:p}=n;if(t!=null&&this.isColorScaleValid()){const y=e.resolveColumnById(this,"colorValue",i)[t];p=this.colorScale.convert(y)}return{marker:{shape:s,fill:p,fillOpacity:a,stroke:o,strokeWidth:r,strokeOpacity:l,lineDash:c,lineDashOffset:h}}}getLegendData(t){const{processedData:e,dataModel:i}=this;if(e==null||i==null)return[];const{id:n,visible:s}=this,{title:a,legendItemName:o,idName:r,idKey:l,colorKey:c,colorName:h,colorRange:p,showInLegend:f}=this.properties;if(t==="gradient"&&c!=null&&p!=null){const y=e.domain.values[i.resolveProcessedDataIndexById(this,"colorValue")];return[{legendType:"gradient",enabled:s,seriesId:n,colorName:h,colorRange:p,colorDomain:y}]}else return t==="category"?[{legendType:"category",id:n,itemId:n,seriesId:n,enabled:s,label:{text:o??a??r??l??n},symbol:this.legendItemSymbol(),legendItemName:o,hideInLegend:!f}]:[]}getTooltipContent(t){var F;const{id:e,dataModel:i,processedData:n,properties:s}=this,{idKey:a,idName:o,latitudeKey:r,latitudeName:l,longitudeKey:c,longitudeName:h,colorKey:p,colorName:f,sizeKey:y,sizeName:m,labelKey:b,labelName:v,title:S,legendItemName:D,tooltip:I}=s;if(!i||!n)return;const{datumIndex:T}=t,k=(F=n.dataSources.get(this.id))==null?void 0:F[T],E=y!=null?i.resolveColumnById(this,"sizeValue",n)[T]:void 0,O=p!=null?i.resolveColumnById(this,"colorValue",n)[T]:void 0,B=[];if(E!=null&&B.push({label:m,fallbackLabel:y,value:String(E)}),O!=null&&B.push({label:f,fallbackLabel:p,value:String(O)}),b!=null&&b!==a){const j=i.resolveColumnById(this,"labelValue",n)[T];B.push({label:v,fallbackLabel:b,value:j})}let R;if(a!=null)R=i.resolveColumnById(this,"idValue",n)[T];else if(r!=null&&c!=null){const j=i.resolveColumnById(this,"latValue",n)[T],G=i.resolveColumnById(this,"lonValue",n)[T];R=`${Math.abs(j).toFixed(4)} ${j>=0?"N":"S"}, ${Math.abs(G).toFixed(4)} ${G>=0?"W":"E"}`}const L=this.getMarkerItemBaseStyle(!1);return Object.assign(L,this.getMarkerItemStyleOverrides(String(T),T,O,E,L,!1)),I.formatTooltip({heading:R,title:S??D,symbol:this.legendItemSymbol(T),data:B},{seriesId:e,datum:k,title:S,idKey:a,idName:o,latitudeKey:r,latitudeName:l,longitudeKey:c,longitudeName:h,colorKey:p,colorName:f,sizeKey:y,sizeName:m,labelKey:b,labelName:v,...L})}getFormattedMarkerStyle(t){const{datumIndex:e,colorValue:i,sizeValue:n}=t,s=this.getMarkerItemBaseStyle(!1);return Object.assign(s,this.getMarkerItemStyleOverrides(String(e),e,i,n,s,!1)),{size:s.size}}computeFocusBounds(t){return VMt(this,t)}};FD.className="MapMarkerSeries";FD.type="map-marker";A([_Mt(Cl,{optional:!0,property:"topology"})],FD.prototype,"_chartTopology");var{DEFAULT_DIVERGING_SERIES_COLOR_RANGE:KMt}=z.ThemeSymbols,XMt={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["topology"],identifier:"map-marker",moduleFactory:t=>new FD(t),tooltipDefaults:{range:"exact"},themeTemplate:{...$b,series:{shape:"circle",maxSize:30,fillOpacity:.5,label:{color:{$ref:"textColor"}}}},paletteFactory:t=>{const{takeColors:e,colorsCount:i,userPalette:n,themeTemplateParameters:s}=t,{fill:a,stroke:o}=z.singleSeriesPaletteFactory(t),r=s.get(KMt),{fills:l}=e(i);return{fill:a,stroke:o,colorRange:n==="inbuilt"?r:[l[0],l[1]]}}},{COLOR_STRING:q6,LINE_DASH:ZMt,OBJECT:qMt,POSITIVE_NUMBER:Q6,RATIO:J6,Validate:Vc,SeriesProperties:QMt,SeriesTooltip:JMt}=z,kl=class extends QMt{constructor(){super(...arguments),this.topology=void 0,this.fill="black",this.fillOpacity=1,this.stroke="black",this.strokeOpacity=1,this.strokeWidth=0,this.lineDash=[0],this.lineDashOffset=0,this.tooltip=new JMt}};A([Vc(Cl,{optional:!0})],kl.prototype,"topology");A([Vc(q6)],kl.prototype,"fill");A([Vc(J6)],kl.prototype,"fillOpacity");A([Vc(q6)],kl.prototype,"stroke");A([Vc(J6)],kl.prototype,"strokeOpacity");A([Vc(Q6)],kl.prototype,"strokeWidth");A([Vc(ZMt)],kl.prototype,"lineDash");A([Vc(Q6)],kl.prototype,"lineDashOffset");A([Vc(qMt)],kl.prototype,"tooltip");var{createDatumId:tAt,SeriesNodePickMode:eAt,Validate:iAt,Selection:nAt,Group:sAt,PointerEvents:aAt}=z,GD=class extends Kb{constructor(t){super({moduleCtx:t,useLabelLayer:!0,pickModes:[eAt.EXACT_SHAPE_MATCH]}),this.properties=new kl,this._chartTopology=void 0,this.itemGroup=this.contentGroup.appendChild(new sAt({name:"itemGroup"})),this.datumSelection=nAt.select(this.itemGroup,()=>this.nodeFactory())}get topology(){return this.properties.topology??this._chartTopology}get focusable(){return!1}setOptionsData(){}setChartData(){}getNodeData(){}get hasData(){return!1}renderToOffscreenCanvas(){return!0}setChartTopology(t){this._chartTopology=t,this.topology===t&&(this.nodeDataRefresh=!0)}setSeriesIndex(t){return super.setSeriesIndex(t)?(this.contentGroup.zIndex=[0,t,0],this.highlightGroup.zIndex=[0,t,1],!0):!1}nodeFactory(){const t=new Zg;return t.renderMode=1,t.lineJoin="round",t.pointerEvents=aAt.None,t}processData(){const{topology:t}=this;this.topologyBounds=t==null?void 0:t.features.reduce((e,i)=>{const n=i.geometry;return n==null?e:qg(n,e)},void 0),t==null&&ve.warnOnce("no topology was provided for [MapShapeBackgroundSeries]; nothing will be rendered.")}createNodeData(){const{id:t,topology:e,scale:i}=this;if(e==null)return;const n=[],s=[];return e.features.forEach((a,o)=>{const{geometry:r}=a,l=r!=null&&i!=null?th(r,i):void 0;l!=null&&n.push({series:this,itemId:o,datum:a,datumIndex:0,index:o,projectedGeometry:l})}),{itemId:t,nodeData:n,labelData:s}}updateSelections(){this.nodeDataRefresh&&(this.contextNodeData=this.createNodeData(),this.nodeDataRefresh=!1)}update(){const{datumSelection:t}=this;this.updateSelections(),this.contentGroup.visible=this.visible;const{nodeData:e=[]}=this.contextNodeData??{};this.datumSelection=this.updateDatumSelection({nodeData:e,datumSelection:t}),this.updateDatumNodes({datumSelection:t})}updateDatumSelection(t){return t.datumSelection.update(t.nodeData,void 0,e=>tAt(e.index))}updateDatumNodes(t){const{properties:e}=this,{datumSelection:i}=t,{fill:n,fillOpacity:s,stroke:a,strokeOpacity:o,lineDash:r,lineDashOffset:l}=e,c=this.getStrokeWidth(e.strokeWidth);i.each((h,p)=>{const{projectedGeometry:f}=p;if(f==null){h.visible=!1,h.projectedGeometry=void 0;return}h.visible=!0,h.projectedGeometry=f,h.fill=n,h.fillOpacity=s,h.stroke=a,h.strokeWidth=c,h.strokeOpacity=o,h.lineDash=r,h.lineDashOffset=l})}resetAnimation(){}getLegendData(){return[]}getTooltipContent(t){}pickFocus(){}computeFocusBounds(t){}};GD.className="MapShapeBackgroundSeries";GD.type="map-shape-background";A([iAt(Cl,{optional:!0,property:"topology"})],GD.prototype,"_chartTopology");var{DEFAULT_HIERARCHY_FILLS:oAt}=z.ThemeSymbols,rAt={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["topology"],identifier:"map-shape-background",moduleFactory:t=>new GD(t),tooltipDefaults:{range:"exact"},themeTemplate:{...$b,series:{stroke:{$ref:"backgroundColor"},strokeWidth:1}},paletteFactory:({themeTemplateParameters:t})=>{var e;return{fill:(e=t.get(oAt))==null?void 0:e[1]}}};function lAt(t,{aspectRatio:e,precision:i}){const n=W6(t,i,(l,c,h,p)=>{const f=uAt(l,c,h,e),y=f+2*p*e,m=f*Math.SQRT2,b=y*Math.SQRT2;return{distance:m,maxDistance:b}});if(n==null)return;const{x:s,y:a,distance:o}=n,r=o/Math.SQRT2;return{x:s,y:a,maxWidth:r}}function cAt(t,e,i,n,s){const[a,o]=t,[r,l]=e,c=1/s,h=r-a,p=l-o,[f,y]=o<=l?t:e,[m,b]=a<=r?t:e,[v,S]=o<=l?e:t,[D,I]=a<=r?e:t;let T=1/0;if(h!==0){const L=p/h;for(let F=0;F<=1;F+=1){const j=F===0?c:-c,G=(L*a-o-j*i+n)/(L-j);if(G>=m&&G<=D){const W=Math.abs(i-G)*2;T=Math.min(T,W)}}}else for(let L=0;L<=1;L+=1){const j=(L===0?c:-c)*(a-i)+n;if(j>=y&&j<=S){const W=Math.abs(n-j)*2*s;T=Math.min(T,W)}}const k=s,E=Math.abs((f-i)/(y-n)),O=Math.abs((v-i)/(S-n));if(S<n&&O<k){const F=Math.abs(n-S)*2*s;T=Math.min(T,F)}else if(y>n&&E<k){const F=Math.abs(n-y)*2*s;T=Math.min(T,F)}const B=Math.abs((b-n)/(m-i)),R=Math.abs((I-n)/(D-i));if(D<i&&R<c){const L=Math.abs(i-D)*2;T=Math.min(T,L)}else if(m>i&&B<c){const L=Math.abs(i-m)*2;T=Math.min(T,L)}return T}function uAt(t,e,i,n){let s=!1,a=1/0;for(const o of t){let r=o[o.length-1],[l,c]=r;for(const h of o){const[p,f]=h;f>i!=c>i&&e<(l-p)*(i-f)/(c-f)+p&&(s=!s);const y=cAt(r,h,e,i,n);a=Math.min(a,y),r=h,l=p,c=f}}return(s?1:-1)*a}function hS(t,e,i){i>=e&&(t.maxX=Math.min(t.maxX,i-e)),i<=e&&(t.minX=Math.max(t.minX,i-e))}function hAt(t,e,i,n,s,a){const o=s-a/2,r=s+a/2,[l,c]=e,[h,p]=i,f=h-l,y=p-c,[m,b]=l<=h?e:i,[v,S]=l<=h?i:e;if(f!==0){const D=y/f;for(let I=0;I<=1;I+=1){const k=((I===0?o:r)-c)/D+l;k>=m&&k<=v&&hS(t,n,k)}}else Math.max(o,Math.min(c,p))<=Math.min(r,Math.max(c,p))&&hS(t,n,l);return v<n&&S>=o&&S<=r?hS(t,n,v):m>n&&b>=o&&b<=r&&hS(t,n,m),t}function dAt(t,e,i,n){const s={minX:-1/0,maxX:1/0};for(const r of t){let l=r[r.length-1];for(const c of r)hAt(s,l,c,e,i,n),l=c}const{minX:a,maxX:o}=s;return Number.isFinite(a)&&Number.isFinite(o)?{x:e+(a+o)/2,width:o-a}:{x:e,width:0}}var{AND:pAt,ARRAY:fAt,COLOR_STRING:tK,COLOR_STRING_ARRAY:gAt,FUNCTION:yAt,LINE_DASH:mAt,OBJECT:eK,POSITIVE_NUMBER:Ww,RATIO:iK,STRING:Uc,Validate:zi,SeriesProperties:xAt,SeriesTooltip:bAt}=z,Li=class extends xAt{constructor(){super(...arguments),this.topology=void 0,this.idKey="",this.idName=void 0,this.topologyIdKey="name",this.labelKey=void 0,this.labelName=void 0,this.colorRange=void 0,this.fill="black",this.fillOpacity=1,this.stroke="black",this.strokeOpacity=1,this.strokeWidth=0,this.lineDash=[0],this.lineDashOffset=0,this.padding=0,this.label=new Wb,this.tooltip=new bAt}};A([zi(Cl,{optional:!0})],Li.prototype,"topology");A([zi(Uc,{optional:!0})],Li.prototype,"title");A([zi(Uc,{optional:!0})],Li.prototype,"legendItemName");A([zi(Uc)],Li.prototype,"idKey");A([zi(Uc,{optional:!0})],Li.prototype,"idName");A([zi(Uc)],Li.prototype,"topologyIdKey");A([zi(Uc,{optional:!0})],Li.prototype,"labelKey");A([zi(Uc,{optional:!0})],Li.prototype,"labelName");A([zi(Uc,{optional:!0})],Li.prototype,"colorKey");A([zi(Uc,{optional:!0})],Li.prototype,"colorName");A([zi(pAt(gAt,fAt.restrict({minLength:1})),{optional:!0})],Li.prototype,"colorRange");A([zi(tK)],Li.prototype,"fill");A([zi(iK)],Li.prototype,"fillOpacity");A([zi(tK)],Li.prototype,"stroke");A([zi(iK)],Li.prototype,"strokeOpacity");A([zi(Ww)],Li.prototype,"strokeWidth");A([zi(mAt)],Li.prototype,"lineDash");A([zi(Ww)],Li.prototype,"lineDashOffset");A([zi(Ww)],Li.prototype,"padding");A([zi(yAt,{optional:!0})],Li.prototype,"itemStyler");A([zi(eK)],Li.prototype,"label");A([zi(eK)],Li.prototype,"tooltip");var{getMissCount:vAt,createDatumId:b3,SeriesNodePickMode:v3,valueProperty:dS,Validate:SAt,CachedTextMeasurerPool:MAt,TextUtils:S3,ColorScale:AAt,Group:M3,Selection:_1,Text:DAt,PointerEvents:IAt,applyShapeStyle:TAt}=z,A3=z.MercatorScale.fixedScale(),VD=class extends Kb{constructor(t){super({moduleCtx:t,useLabelLayer:!0,pickModes:[v3.EXACT_SHAPE_MATCH,v3.NEAREST_NODE]}),this.properties=new Li,this._chartTopology=void 0,this.colorScale=new AAt,this.itemGroup=this.contentGroup.appendChild(new M3({name:"itemGroup"})),this.itemLabelGroup=this.contentGroup.appendChild(new M3({name:"itemLabelGroup"})),this.datumSelection=_1.select(this.itemGroup,()=>this.nodeFactory()),this.labelSelection=_1.select(this.itemLabelGroup,DAt),this.highlightDatumSelection=_1.select(this.highlightNode,()=>this.nodeFactory()),this.previousLabelLayouts=void 0,this._previousDatumMidPoint=void 0,this.itemLabelGroup.pointerEvents=IAt.None}getNodeData(){var t;return(t=this.contextNodeData)==null?void 0:t.nodeData}get topology(){return this.properties.topology??this._chartTopology}get hasData(){return super.hasData&&this.topology!=null}renderToOffscreenCanvas(){return!0}setChartTopology(t){this._chartTopology=t,this.topology===t&&(this.nodeDataRefresh=!0)}setSeriesIndex(t){return super.setSeriesIndex(t)?(this.contentGroup.zIndex=[1,t],this.highlightGroup.zIndex=[2,t],!0):!1}isLabelEnabled(){return this.properties.labelKey!=null&&this.properties.label.enabled}nodeFactory(){const t=new Zg;return t.renderMode=1,t.lineJoin="round",t}async processData(t){var b;if(this.data==null||!this.properties.isValid())return;const{data:e,topology:i,colorScale:n}=this,{topologyIdKey:s,idKey:a,colorKey:o,labelKey:r,colorRange:l}=this.properties,c=new Map;i==null||i.features.forEach(v=>{var D;const S=(D=v.properties)==null?void 0:D[s];S==null||!Uw(v.geometry,1)||c.set(S,v)});const h=this.colorScale.type,p=(b=this.scale)==null?void 0:b.type,{dataModel:f,processedData:y}=await this.requestDataModel(t,e,{props:[dS(a,p,{id:"idValue",includeProperty:!1}),dS(a,p,{id:"featureValue",includeProperty:!1,processor:()=>v=>c.get(v)}),...r?[dS(r,"band",{id:"labelValue"})]:[],...o?[dS(o,h,{id:"colorValue"})]:[]]}),m=f.resolveColumnById(this,"featureValue",y);if(this.topologyBounds=m.reduce((v,S)=>{const D=S==null?void 0:S.geometry;return D==null?v:qg(D,v)},void 0),l!=null&&this.isColorScaleValid()){const v=f.resolveProcessedDataIndexById(this,"colorValue");n.domain=y.domain.values[v],n.range=l,n.update()}i==null&&ve.warnOnce("no topology was provided for [MapShapeSeries]; nothing will be rendered.")}isColorScaleValid(){const{colorKey:t}=this.properties;if(!t)return!1;const{dataModel:e,processedData:i}=this;if(!e||!i)return!1;const n=e.resolveProcessedDataIndexById(this,"colorValue"),s=i.input.count,a=vAt(this,i.defs.values[n].missing);return!(s===0||s===a)}getLabelLayout(t,e,i,n,s){if(e==null||n==null)return;const{idKey:a,idName:o,colorKey:r,colorName:l,labelKey:c,labelName:h,padding:p,label:f}=this.properties,y=this.getLabelText(f,{value:e,datum:t,idKey:a,idName:o,colorKey:r,colorName:l,labelKey:c,labelName:h});if(y==null)return;const m=MAt.measureText(String(y),{font:i}),b=y.split(`
`).length,v=(m.width+2*p)/(b*S3.getLineHeight(f.fontSize)+2*p);if((s==null?void 0:s.geometry)===n&&(s==null?void 0:s.labelText)===y&&(s==null?void 0:s.aspectRatio)===v)return s;const S=th(n,A3),D=TM(S);if(D==null)return;const I=lAt(D,{aspectRatio:v,precision:.001});if(I==null)return;const{x:T,y:k,maxWidth:E}=I;return{geometry:n,labelText:y,aspectRatio:v,x:T,y:k,maxWidth:E,fixedPolygon:D}}getLabelDatum(t,e){const{scale:i}=this;if(i==null)return;const{padding:n,label:s}=this.properties,{labelText:a,aspectRatio:o,x:r,y:l,maxWidth:c,fixedPolygon:h}=t,p={width:Math.ceil(c*e),height:Math.ceil(c*e/o),meta:r},f=Bx(a,s,{padding:n},(T,k)=>{if(!k)return p;const E=dAt(h,r,l,T/e);return{width:E.width*e,height:T,meta:E.x}});if(f==null)return;const[{text:y,fontSize:m,lineHeight:b,width:v},S]=f;if(y===S3.EllipsisChar)return;const D=v<p.width?r:S,I=this.scale.convert(A3.invert([D,l]));return{x:I[0],y:I[1],text:y,fontSize:m,lineHeight:b}}createNodeData(){const{id:t,dataModel:e,processedData:i,properties:n,scale:s,previousLabelLayouts:a}=this,{idKey:o,colorKey:r,labelKey:l,label:c}=n;if(e==null||i==null)return;const h=s!=null?(s.range[1][0]-s.range[0][0])/s.bounds.width:NaN,p=e.resolveColumnById(this,"idValue",i),f=e.resolveColumnById(this,"featureValue",i),y=l!=null?e.resolveColumnById(this,"labelValue",i):void 0,m=r!=null?e.resolveColumnById(this,"colorValue",i):void 0,b=c.getFont(),v=new Map;this.previousLabelLayouts=v;const S=[],D=[],I=[];(i.dataSources.get(this.id)??[]).forEach((E,O)=>{var Z;const B=p[O],R=m==null?void 0:m[O],L=y==null?void 0:y[O],F=((Z=f[O])==null?void 0:Z.geometry)??void 0;F==null&&I.push(B);const j=this.getLabelLayout(E,L,b,F,a==null?void 0:a.get(B));j!=null&&v.set(B,j);const G=j!=null&&s!=null?this.getLabelDatum(j,h):void 0;G!=null&&D.push(G);const W=F!=null&&s!=null?th(F,s):void 0;S.push({series:this,itemId:o,datum:E,datumIndex:O,idValue:B,colorValue:R,labelValue:L,projectedGeometry:W})});const k=10;if(I.length>k){const E=I.length-k;I.length=k,I.push(`(+${E} more)`)}return I.length>0&&ve.warnOnce("some data items do not have matches in the provided topology",I),{itemId:t,nodeData:S,labelData:D}}updateSelections(){this.nodeDataRefresh&&(this.contextNodeData=this.createNodeData(),this.nodeDataRefresh=!1)}update(){var o,r,l;const{datumSelection:t,labelSelection:e,highlightDatumSelection:i}=this;this.updateSelections(),this.contentGroup.visible=this.visible,this.contentGroup.opacity=this.getOpacity();let n=(o=this.ctx.highlightManager)==null?void 0:o.getActiveHighlight();n!=null&&(n.series!==this||n.datum==null)&&(n=void 0);const s=((r=this.contextNodeData)==null?void 0:r.nodeData)??[],a=((l=this.contextNodeData)==null?void 0:l.labelData)??[];this.datumSelection=this.updateDatumSelection({nodeData:s,datumSelection:t}),this.updateDatumNodes({datumSelection:t,isHighlight:!1}),this.labelSelection=this.updateLabelSelection({labelData:a,labelSelection:e}),this.updateLabelNodes({labelSelection:e}),this.highlightDatumSelection=this.updateDatumSelection({nodeData:n!=null?[n]:[],datumSelection:i}),this.updateDatumNodes({datumSelection:i,isHighlight:!0})}updateDatumSelection(t){return t.datumSelection.update(t.nodeData,void 0,e=>b3(e.idValue))}getItemBaseStyle(t){const{properties:e}=this,i=t?e.highlightStyle.item:void 0;return{fill:(i==null?void 0:i.fill)??e.fill,fillOpacity:(i==null?void 0:i.fillOpacity)??e.fillOpacity,stroke:(i==null?void 0:i.stroke)??e.stroke,strokeWidth:(i==null?void 0:i.strokeWidth)??this.getStrokeWidth(e.strokeWidth),strokeOpacity:(i==null?void 0:i.strokeOpacity)??e.strokeOpacity,lineDash:(i==null?void 0:i.lineDash)??e.lineDash,lineDashOffset:(i==null?void 0:i.lineDashOffset)??e.lineDashOffset}}getItemStyleOverrides(t,e,i,n,s){const{id:a,properties:o,colorScale:r}=this,{colorRange:l,itemStyler:c}=o;let h;if(!s&&i!=null&&(h??(h={}),h.fill=this.isColorScaleValid()?r.convert(i):(l==null?void 0:l[0])??o.fill),c!=null){const p=this.cachedDatumCallback(b3(t,s?"highlight":"node"),()=>c({seriesId:a,datum:e,highlighted:s,...n,...h}));h??(h={}),Object.assign(h,p)}return h}updateDatumNodes(t){const{datumSelection:e,isHighlight:i}=t,n=this.getItemBaseStyle(i);e.each((s,a)=>{const{datum:o,datumIndex:r,colorValue:l,projectedGeometry:c}=a;if(c==null){s.visible=!1,s.projectedGeometry=void 0;return}const h=this.getItemStyleOverrides(String(r),o,l,n,i);s.visible=!0,s.projectedGeometry=c,TAt(s,n,h)})}updateLabelSelection(t){const e=this.isLabelEnabled()?t.labelData:[];return t.labelSelection.update(e)}updateLabelNodes(t){const{labelSelection:e}=t,{color:i,fontStyle:n,fontWeight:s,fontFamily:a}=this.properties.label;e.each((o,{x:r,y:l,text:c,fontSize:h,lineHeight:p})=>{o.visible=!0,o.x=r,o.y=l,o.text=c,o.fill=i,o.fontStyle=n,o.fontWeight=s,o.fontSize=h,o.lineHeight=p,o.fontFamily=a,o.textAlign="center",o.textBaseline="middle"})}resetAnimation(){}pickNodeClosestDatum({x:t,y:e}){let i=1/0,n;return this.datumSelection.each((s,a)=>{const o=s.distanceSquared(t,e);o<i&&(i=o,n=a)}),n!=null?{datum:n,distance:Math.sqrt(i)}:void 0}datumMidPoint(t){const{_previousDatumMidPoint:e}=this;if((e==null?void 0:e.datum)===t)return e.point;const i=t.projectedGeometry,n=i!=null?TM(i):void 0,s=n!=null?gL(n,2):void 0,a=s!=null?{x:s[0],y:s[1]}:void 0;return this._previousDatumMidPoint={datum:t,point:a},a}legendItemSymbol(t){const{dataModel:e,processedData:i,properties:n}=this,{fillOpacity:s,stroke:a,strokeWidth:o,strokeOpacity:r,lineDash:l,lineDashOffset:c}=n;let{fill:h}=n;if(t!=null&&this.isColorScaleValid()){const f=e.resolveColumnById(this,"colorValue",i)[t];h=this.colorScale.convert(f)}return{marker:{fill:h,fillOpacity:s,stroke:a,strokeWidth:o,strokeOpacity:r,lineDash:l,lineDashOffset:c}}}getLegendData(t){const{processedData:e,dataModel:i}=this;if(e==null||i==null)return[];const{id:n,visible:s}=this,{title:a,legendItemName:o,idKey:r,idName:l,colorKey:c,colorName:h,colorRange:p,showInLegend:f}=this.properties;if(t==="gradient"&&c!=null&&p!=null){const y=e.domain.values[i.resolveProcessedDataIndexById(this,"colorValue")];return[{legendType:"gradient",enabled:s,seriesId:n,colorName:h,colorRange:p,colorDomain:y}]}else return t==="category"?[{legendType:"category",id:n,itemId:n,seriesId:n,enabled:s,label:{text:o??a??l??r},symbol:this.legendItemSymbol(),legendItemName:o,hideInLegend:!f}]:[]}getTooltipContent(t){var T;const{id:e,dataModel:i,processedData:n,properties:s}=this,{idKey:a,idName:o,colorKey:r,colorName:l,labelKey:c,labelName:h,legendItemName:p,title:f,tooltip:y}=s;if(!i||!n)return;const{datumIndex:m}=t,b=(T=n.dataSources.get(this.id))==null?void 0:T[m],v=i.resolveColumnById(this,"idValue",n)[m],S=r!=null?i.resolveColumnById(this,"colorValue",n)[m]:void 0,D=[];if(S!=null&&D.push({label:l,fallbackLabel:r,value:String(S)}),c!=null&&c!==a){const k=i.resolveColumnById(this,"labelValue",n)[m];D.push({label:h,fallbackLabel:c,value:k})}const I=this.getItemBaseStyle(!1);return Object.assign(I,this.getItemStyleOverrides(String(m),m,S,I,!1)),y.formatTooltip({heading:v,title:f??p,symbol:this.legendItemSymbol(m),data:D},{seriesId:e,datum:b,title:f,idKey:a,idName:o,colorKey:r,colorName:l,labelKey:c,labelName:h,...I})}computeFocusBounds(t){return U6(this,t)}};VD.className="MapShapeSeries";VD.type="map-shape";A([SAt(Cl,{optional:!0,property:"topology"})],VD.prototype,"_chartTopology");var{DEFAULT_DIVERGING_SERIES_COLOR_RANGE:CAt,DEFAULT_BACKGROUND_COLOUR:kAt}=z.ThemeSymbols,LAt={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["topology"],identifier:"map-shape",moduleFactory:t=>new VD(t),tooltipDefaults:{range:"exact"},themeTemplate:{...$b,series:{fillOpacity:1,strokeWidth:1,lineDash:[0],lineDashOffset:0,padding:2,label:{color:{$ref:"backgroundColor"},fontFamily:{$ref:"fontFamily"},fontSize:{$ref:"fontSize"},fontWeight:"bold",overflowStrategy:"hide"}}},paletteFactory:t=>{const{takeColors:e,colorsCount:i,userPalette:n,themeTemplateParameters:s}=t,{fill:a}=z.singleSeriesPaletteFactory(t),o=s.get(CAt),{fills:r}=e(i);return{fill:a,stroke:s.get(kAt),colorRange:n==="inbuilt"?o:[r[0],r[1]]}}},{ChartAxisDirection:ql,PolarAxis:NAt,diff:EAt,fixNumericExtent:OAt,groupAccumulativeValueProperty:D3,keyProperty:wAt,normaliseGroupTo:RAt,resetLabelFn:PAt,seriesLabelFadeInAnimation:BAt,seriesLabelFadeOutAnimation:zAt,valueProperty:_At,animationValidation:jAt,createDatumId:I3,SeriesNodePickMode:T3,normalizeAngle360:C3,CategoryScale:FAt,motion:k3,applyShapeStyle:GAt}=z,VAt=class extends z.SeriesNodeEvent{constructor(t,e,i,n){super(t,e,i,n),this.angleKey=n.properties.angleKey,this.radiusKey=n.properties.radiusKey}},nK=class extends z.PolarSeries{constructor(t,{animationResetFns:e}){super({moduleCtx:t,useLabelLayer:!0,canHaveAxes:!0,pickModes:[T3.NEAREST_NODE,T3.EXACT_SHAPE_MATCH],animationResetFns:{...e,label:PAt}}),this.NodeEvent=VAt,this.groupScale=new FAt,this.circleCache={r:0,cx:0,cy:0}}getSeriesDomain(t){const{dataModel:e,processedData:i}=this;if(!i||!e)return[];if(t===ql.X)return e.getDomain(this,"angleValue","key",i);{const n=e.getDomain(this,"radiusValue-end","value",i),s=Number.isFinite(n[1]-n[0])?[n[0]>0?0:n[0],n[1]<0?0:n[1]]:[];return OAt(s)}}async processData(t){var f,y;const{visible:e}=this,{angleKey:i,radiusKey:n,normalizedTo:s}=this.properties,a=!this.ctx.animationManager.isSkipped();if(!this.properties.isValid())return;const o=this.getStackId(),r=`${o}-trailing`,l=[];ns(s)&&l.push(RAt([o,r],Math.abs(s))),a&&this.processedData&&l.push(EAt(this.id,this.processedData)),a&&l.push(jAt());const c=e||!a?{}:{forceValue:0},h=(f=this.axes[ql.Y])==null?void 0:f.scale.type,p=(y=this.axes[ql.X])==null?void 0:y.scale.type;await this.requestDataModel(t,this.data,{props:[wAt(i,p,{id:"angleValue"}),_At(n,h,{id:"radiusValue-raw",invalidValue:null,...c}),...D3(n,"normal","current",{id:"radiusValue-end",rangeId:"radiusValue-range",invalidValue:null,groupId:o,separateNegative:!0,...c},h),...D3(n,"trailing","current",{id:"radiusValue-start",invalidValue:null,groupId:r,separateNegative:!0,...c},h),...l],groupByKeys:!0,groupByData:!1}),this.animationState.transition("updateData")}didCircleChange(){const t=this.radius,e=this.centerX,i=this.centerY,n=this.circleCache;return t!==n.r||e!==n.cx||i!==n.cy?(this.circleCache={r:t,cx:e,cy:i},!0):!1}isRadiusAxisReversed(){var t;return(t=this.axes[ql.Y])==null?void 0:t.isReversed()}maybeRefreshNodeData(){if(!this.didCircleChange()&&!this.nodeDataRefresh)return;const{nodeData:e=[]}=this.createNodeData()??{};this.nodeData=e,this.nodeDataRefresh=!1}getAxisInnerRadius(){const t=this.axes[ql.Y];return t instanceof NAt?this.radius*t.innerRadiusRatio:0}createNodeData(){const{processedData:t,dataModel:e,groupScale:i}=this;if(!e||!t||t.type!=="grouped"||!this.properties.isValid())return;const n=this.axes[ql.X],s=this.axes[ql.Y],a=n==null?void 0:n.scale,o=s==null?void 0:s.scale;if(!a||!o)return;const r=e.resolveKeysById(this,"angleValue",t),l=e.resolveColumnById(this,"radiusValue-start",t),c=e.resolveColumnById(this,"radiusValue-end",t),h=e.resolveColumnById(this,"radiusValue-raw",t),p=e.resolveProcessedDataIndexById(this,"radiusValue-range");let f=0,y=0;n instanceof qd&&(f=n.groupPaddingInner,y=n.paddingInner);const b=(a.bandwidth??0)*(1-y),{index:v,visibleGroupCount:S}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this);i.domain=Array.from({length:S}).map((U,K)=>String(K)),i.range=[-b/2,b/2],i.paddingInner=S>1?f:0;const D=this.isRadiusAxisReversed(),I=D?this.radius:this.getAxisInnerRadius(),T=D?this.getAxisInnerRadius():this.radius,k=T+I,{angleKey:E,radiusKey:O,angleName:B,radiusName:R,label:L}=this.properties,F=(U,K,$,X)=>{const _=this.getLabelText(L,{value:K,datum:U,angleKey:E,radiusKey:O,angleName:B,radiusName:R});if(_)return{x:$,y:X,text:_,textAlign:"center",textBaseline:"middle"}},j=[],G={itemId:O,nodeData:j,labelData:j};if(!this.visible)return G;const{dataSources:W}=t,Z=W.get(this.id)??[];for(const{datumIndex:U,group:K}of e.forEachGroupDatum(this,t)){const $=Z[U],X=r[U];if(X==null)return;const _=h[U],V=_>=0&&!Object.is(_,-0),Y=l[U],J=c[U],q=K.aggregation[p][V?1:0]??0,nt=V===D;if(Y===void 0||J===void 0)return;let st,rt;if(Z.length===1)st=-.5*Math.PI,rt=1.5*Math.PI;else{const Ot=a.convert(X);st=C3(Ot+i.convert(String(v))),rt=C3(st+i.bandwidth)}const ct=st+i.bandwidth/2,dt=k-o.convert(Y),ht=k-o.convert(J),yt=(dt+ht)/2,pt=k-o.convert(0),vt=k-o.convert(q),At=Math.cos(ct)*yt,bt=Math.sin(ct)*yt,Rt=this.properties.label.enabled?F($,_,At,bt):void 0,Nt=this.getColumnWidth(st,rt);j.push({series:this,datum:$,datumIndex:U,point:{x:At,y:bt,size:0},midPoint:{x:At,y:bt},label:Rt,angleValue:X,radiusValue:_,negative:nt,innerRadius:dt,outerRadius:ht,stackInnerRadius:pt,stackOuterRadius:vt,startAngle:st,endAngle:rt,axisInnerRadius:I,axisOuterRadius:T,columnWidth:Nt,index:U})}return{itemId:O,nodeData:j,labelData:j}}getColumnWidth(t,e){return NaN}update({seriesRect:t}){const e=this.checkResize(t);this.maybeRefreshNodeData(),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),this.updateSectorSelection(this.itemSelection,!1),this.updateSectorSelection(this.highlightSelection,!0),this.updateLabels(),e&&this.animationState.transition("resize"),this.animationState.transition("update")}getItemBaseStyle(t){const{properties:e}=this,i=t?e.highlightStyle.item:void 0;return{fill:(i==null?void 0:i.fill)??e.fill,fillOpacity:(i==null?void 0:i.fillOpacity)??e.fillOpacity,stroke:(i==null?void 0:i.stroke)??e.stroke,strokeWidth:(i==null?void 0:i.strokeWidth)??this.getStrokeWidth(e.strokeWidth),strokeOpacity:(i==null?void 0:i.strokeOpacity)??e.strokeOpacity,lineDash:(i==null?void 0:i.lineDash)??e.lineDash,lineDashOffset:(i==null?void 0:i.lineDashOffset)??e.lineDashOffset,cornerRadius:e.cornerRadius}}getItemStyleOverrides(t,e,i,n){const{id:s,properties:a}=this,{angleKey:o,radiusKey:r,itemStyler:l}=a;if(l!=null)return this.cachedDatumCallback(I3(t,n?"highlight":"node"),()=>l({seriesId:s,datum:e,highlighted:n,angleKey:o,radiusKey:r,...i}))}updateSectorSelection(t,e){var s;let i=[];if(e){const a=(s=this.ctx.highlightManager)==null?void 0:s.getActiveHighlight();a!=null&&a.datum&&a.series===this&&i.push(a)}else i=this.nodeData;const n=this.getItemBaseStyle(e);t.update(i,void 0,a=>this.getDatumId(a)).each((a,o)=>{const{datum:r,datumIndex:l}=o,c=this.getItemStyleOverrides(String(l),r,n,e);this.updateItemPath(a,o,e),GAt(a,n,c),a.cornerRadius=(c==null?void 0:c.cornerRadius)??n.cornerRadius,a.lineJoin="round"})}updateLabels(){const{label:t}=this.properties;this.labelSelection.update(this.nodeData).each((e,i)=>{t.enabled&&i.label?(e.x=i.label.x,e.y=i.label.y,e.fill=t.color,e.fontFamily=t.fontFamily,e.fontSize=t.fontSize,e.fontStyle=t.fontStyle,e.fontWeight=t.fontWeight,e.text=i.label.text,e.textAlign=i.label.textAlign,e.textBaseline=i.label.textBaseline,e.visible=!0):e.visible=!1})}animateEmptyUpdateReady(){const{labelSelection:t}=this,e=this.getColumnTransitionFunctions();k3.fromToMotion(this.id,"datums",this.ctx.animationManager,[this.itemSelection],e),BAt(this,"labels",this.ctx.animationManager,t)}animateClearingUpdateEmpty(){const{itemSelection:t}=this,{animationManager:e}=this.ctx,i=this.getColumnTransitionFunctions();k3.fromToMotion(this.id,"datums",e,[t],i),zAt(this,"labels",e,this.labelSelection)}getTooltipContent(t){var D;const{id:e,dataModel:i,processedData:n,axes:s,properties:a}=this,{angleKey:o,angleName:r,radiusKey:l,radiusName:c,tooltip:h}=a,p=s[ql.X],f=s[ql.Y];if(!i||!n||!p||!f)return;const{datumIndex:y}=t,m=(D=n.dataSources.get(this.id))==null?void 0:D[y],b=i.resolveKeysById(this,"angleValue",n)[y],v=i.resolveColumnById(this,"radiusValue-raw",n)[y];if(b==null)return;const S=this.getItemBaseStyle(!1);return Object.assign(S,this.getItemStyleOverrides(String(y),y,S,!1)),h.formatTooltip({heading:p.formatDatum(b),symbol:this.legendItemSymbol(),data:[{label:c,fallbackLabel:l,value:f.formatDatum(v)}]},{seriesId:e,datum:m,title:r,angleKey:o,angleName:r,radiusKey:l,radiusName:c,...S})}pickNodeClosestDatum(t){return this.pickNodeNearestDistantObject(t,this.itemSelection.nodes())}legendItemSymbol(){const{fill:t,stroke:e,fillOpacity:i,strokeOpacity:n,strokeWidth:s,lineDash:a,lineDashOffset:o}=this.properties;return{marker:{fill:t??"rgba(0, 0, 0, 0)",stroke:e??"rgba(0, 0, 0, 0)",fillOpacity:i,strokeOpacity:n,strokeWidth:s,lineDash:a,lineDashOffset:o}}}getLegendData(t){if(!this.properties.isValid()||t!=="category")return[];const{id:e,visible:i}=this,{radiusKey:n,radiusName:s,showInLegend:a}=this.properties;return[{legendType:"category",id:e,itemId:n,seriesId:e,enabled:i,label:{text:s??n},symbol:this.legendItemSymbol(),hideInLegend:!a}]}getDatumId(t){return I3(t.angleValue)}computeLabelsBBox(){return null}},{SeriesProperties:UAt,SeriesTooltip:HAt,Validate:$n,COLOR_STRING:sK,NUMBER:aK,FUNCTION:WAt,LINE_DASH:YAt,OBJECT:oK,POSITIVE_NUMBER:Yw,RATIO:rK,STRING:Xb,Label:$At}=z,bn=class extends UAt{constructor(){super(...arguments),this.fill="black",this.fillOpacity=1,this.stroke="black",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.rotation=0,this.label=new $At,this.tooltip=new HAt}};A([$n(Xb)],bn.prototype,"angleKey");A([$n(Xb,{optional:!0})],bn.prototype,"angleName");A([$n(Xb)],bn.prototype,"radiusKey");A([$n(Xb,{optional:!0})],bn.prototype,"radiusName");A([$n(sK)],bn.prototype,"fill");A([$n(rK)],bn.prototype,"fillOpacity");A([$n(sK)],bn.prototype,"stroke");A([$n(Yw)],bn.prototype,"strokeWidth");A([$n(rK)],bn.prototype,"strokeOpacity");A([$n(YAt)],bn.prototype,"lineDash");A([$n(Yw)],bn.prototype,"lineDashOffset");A([$n(Yw)],bn.prototype,"cornerRadius");A([$n(WAt,{optional:!0})],bn.prototype,"itemStyler");A([$n(aK)],bn.prototype,"rotation");A([$n(Xb,{optional:!0})],bn.prototype,"stackGroup");A([$n(aK,{optional:!0})],bn.prototype,"normalizedTo");A([$n(oK)],bn.prototype,"label");A([$n(oK)],bn.prototype,"tooltip");var{motion:KAt}=z;function lK(){const t={startAngle:new Map,endAngle:new Map},e=["startAngle","endAngle"],i=(o,r,l)=>{e.forEach(c=>{var m;const h=t[c];let p=(l==="removed"||l==="updated"?o:r)[c],f=(l==="removed"?o:r)[c];isNaN(f)&&(f=((m=o.previousDatum)==null?void 0:m[c])??NaN);const y=p-f;Math.abs(y)>Math.PI&&(p-=Math.sign(y)*2*Math.PI),h.set(r,{from:p,to:f})})},n=(o,r)=>({startAngle:t.startAngle.get(o)[r],endAngle:t.endAngle.get(o)[r]});return{calculate:i,from:o=>n(o,"from"),to:o=>n(o,"to")}}function cK(t,e,i){if(i==="updated"){if(t.previousDatum==null||isNaN(t.previousDatum.startAngle)||isNaN(t.previousDatum.endAngle))return"added";if(isNaN(e.startAngle)||isNaN(e.endAngle))return"removed"}return i==="added"&&t.previousDatum!=null?"updated":i}function XAt(t){const e=lK();return{toFn:(s,a,o)=>{const{startAngle:r,endAngle:l}=e.to(a);let c,h,p,f,y;return o==="removed"?(c=s.innerRadius,h=s.innerRadius,p=s.columnWidth,f=s.axisInnerRadius,y=s.axisOuterRadius):(c=isNaN(a.innerRadius)?t:a.innerRadius,h=isNaN(a.outerRadius)?t:a.outerRadius,p=isNaN(a.columnWidth)?s.columnWidth:a.columnWidth,f=a.axisInnerRadius,y=a.axisOuterRadius),{innerRadius:c,outerRadius:h,columnWidth:p,axisInnerRadius:f,axisOuterRadius:y,startAngle:r,endAngle:l}},fromFn:(s,a,o)=>{o=cK(s,a,o),e.calculate(s,a,o);const{startAngle:r,endAngle:l}=e.from(a);let c,h,p,f,y;o==="removed"||o==="updated"?(c=s.innerRadius,h=s.outerRadius,p=s.columnWidth,f=s.axisInnerRadius,y=s.axisOuterRadius):(c=t,h=t,p=a.columnWidth,f=a.axisInnerRadius,y=a.axisOuterRadius);const m=KAt.NODE_UPDATE_STATE_TO_PHASE_MAPPING[o];return{innerRadius:c,outerRadius:h,columnWidth:p,axisInnerRadius:f,axisOuterRadius:y,startAngle:r,endAngle:l,phase:m}}}}function ZAt(t,{innerRadius:e,outerRadius:i,columnWidth:n,axisInnerRadius:s,axisOuterRadius:a,startAngle:o,endAngle:r}){return{innerRadius:e,outerRadius:i,columnWidth:n,axisInnerRadius:s,axisOuterRadius:a,startAngle:o,endAngle:r}}var{SectorBox:jS,motion:qAt}=z;function $w(t){const{negative:e,innerRadius:i,outerRadius:n,stackInnerRadius:s,stackOuterRadius:a}=t;return{innerRadius:e?a:s,outerRadius:e?s:a,clipInnerRadius:e?n:i,clipOuterRadius:e?i:n}}function QAt(t){const e=lK();return{toFn:(s,a,o)=>{const{startAngle:r,endAngle:l}=e.to(a);let c,h,p;if(o==="removed")c=t,h=t,p=new jS(r,l,c,h);else{let f,y;({innerRadius:c,outerRadius:h,clipInnerRadius:f,clipOuterRadius:y}=$w(a)),isNaN(c)&&(c=t),isNaN(h)&&(h=t),isNaN(f)&&(f=t),isNaN(y)&&(y=t),p=new jS(r,l,f,y)}return{innerRadius:c,outerRadius:h,startAngle:r,endAngle:l,clipSector:p}},fromFn:(s,a,o)=>{o=cK(s,a,o),e.calculate(s,a,o);const{startAngle:r,endAngle:l}=e.from(a);let c,h,p;o==="removed"||o==="updated"?(c=s.innerRadius,h=s.outerRadius,p=s.clipSector):(c=t,h=t),p??(p=new jS(r,l,c,h));const f=qAt.NODE_UPDATE_STATE_TO_PHASE_MAPPING[o];return{innerRadius:c,outerRadius:h,startAngle:r,endAngle:l,clipSector:p,phase:f}}}}function JAt(t,e){const{startAngle:i,endAngle:n}=e,{innerRadius:s,outerRadius:a,clipInnerRadius:o,clipOuterRadius:r}=$w(e),l=new jS(i,n,o,r);return{innerRadius:s,outerRadius:a,startAngle:i,endAngle:n,clipSector:l}}var{Sector:tDt,SectorBox:eDt,PolarZIndexMap:j1}=z,Kw=class extends nK{constructor(t){super(t,{animationResetFns:{item:JAt}}),this.properties=new bn}setSeriesIndex(t){return super.setSeriesIndex(t)?(this.contentGroup.zIndex=[0,j1.FOREGROUND,t],this.highlightGroup.zIndex=[0,j1.HIGHLIGHT,t],this.labelGroup.zIndex=[0,j1.LABEL,t],!0):!1}getStackId(){var e;return`nightingale-stack-${((e=this.seriesGrouping)==null?void 0:e.groupIndex)??this.id}-yValues`}nodeFactory(){return new tDt}updateItemPath(t,e,i){const{negative:n}=e;if(t.centerX=0,t.centerY=0,t.startOuterCornerRadius=n?0:this.properties.cornerRadius,t.endOuterCornerRadius=n?0:this.properties.cornerRadius,t.startInnerCornerRadius=n?this.properties.cornerRadius:0,t.endInnerCornerRadius=n?this.properties.cornerRadius:0,i){const{startAngle:s,endAngle:a}=e,{innerRadius:o,outerRadius:r,clipInnerRadius:l,clipOuterRadius:c}=$w(e);t.innerRadius=o,t.outerRadius=r,t.startAngle=s,t.endAngle=a,t.clipSector=new eDt(s,a,l,c)}}getColumnTransitionFunctions(){const t=this.isRadiusAxisReversed()?this.radius:this.getAxisInnerRadius();return QAt(t)}};Kw.className="NightingaleSeries";Kw.type="nightingale";var{ThemeConstants:{POLAR_AXIS_TYPE:L3,POLAR_AXIS_SHAPE:N3}}=z,iDt={series:{strokeWidth:1,label:{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}}},axes:{[L3.ANGLE_CATEGORY]:{shape:N3.CIRCLE,groupPaddingInner:0,paddingInner:0,label:{spacing:10}},[L3.RADIUS_NUMBER]:{shape:N3.CIRCLE}}},{ThemeSymbols:{DEFAULT_POLAR_SERIES_STROKE:nDt},ThemeConstants:{POLAR_AXIS_TYPE:E3}}=z,sDt={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["polar"],identifier:"nightingale",moduleFactory:t=>new Kw(t),tooltipDefaults:{range:"exact"},defaultAxes:[{type:E3.ANGLE_CATEGORY},{type:E3.RADIUS_NUMBER}],themeTemplate:iDt,paletteFactory({takeColors:t,userPalette:e}){const{fills:[i],strokes:[n]}=t(1);return{fill:i,stroke:e!=="inbuilt"?n:nDt}},stackable:!0,groupable:!0,stackedByDefault:!0},{createDatumId:aDt}=z,Xw=class extends q${constructor(){super(...arguments),this.properties=new LD}nodeFactory(){return new Bbt}updateDatumNodes({datumSelection:t,isHighlight:e}){const{id:i,properties:n}=this,{xKey:s,highKey:a,lowKey:o,openKey:r,closeKey:l,item:c,itemStyler:h}=n,{up:p,down:f}=c,{stroke:y,strokeWidth:m,strokeOpacity:b,lineDash:v,lineDashOffset:S}=p,{stroke:D,strokeWidth:I,strokeOpacity:T,lineDash:k,lineDashOffset:E}=f,O=e?n.highlightStyle.item:void 0;t.each((B,R)=>{const{isRising:L,centerX:F,width:j,y:G,height:W,yOpen:Z,yClose:U,crisp:K}=R;let $;if(h!=null){const{stroke:X,strokeWidth:_,strokeOpacity:V,lineDash:Y,lineDashOffset:J}=L?p:f;$=this.cachedDatumCallback(aDt(this.getDatumId(R),e?"highlight":"node"),()=>h({seriesId:i,itemId:R.itemId,xKey:s,highKey:a,lowKey:o,openKey:r,closeKey:l,datum:R.datum,strokeOpacity:V,stroke:X,strokeWidth:_,lineDash:Y,lineDashOffset:J,highlighted:e}))}B.centerX=F,B.width=j,B.y=G,B.height=W,B.yOpen=Z,B.yClose=U,B.crisp=K,B.stroke=(O==null?void 0:O.stroke)??($==null?void 0:$.stroke)??(L?y:D),B.strokeWidth=(O==null?void 0:O.strokeWidth)??($==null?void 0:$.strokeWidth)??(L?m:I),B.strokeOpacity=(O==null?void 0:O.strokeOpacity)??($==null?void 0:$.strokeOpacity)??(L?b:T),B.lineDash=(O==null?void 0:O.lineDash)??($==null?void 0:$.lineDash)??(L?v:k),B.lineDashOffset=(O==null?void 0:O.lineDashOffset)??($==null?void 0:$.lineDashOffset)??(L?S:E),B.strokeAlignment=(($==null?void 0:$.strokeWidth)??(L?m:I))/2})}getLegendData(t){const{id:e,data:i,ctx:{legendManager:n},visible:s}=this,{xKey:a,yName:o,item:{up:r,down:l},showInLegend:c,legendItemName:h}=this.properties;if(!(i!=null&&i.length)||!a||t!=="category")return[];const p=new z.LinearGradient("rgb",[{color:r.stroke,offset:0},{color:r.stroke,offset:.5},{color:l.stroke,offset:.5}],90);return[{legendType:"category",id:e,itemId:e,seriesId:e,enabled:s&&n.getItemEnabled({seriesId:e,itemId:e}),label:{text:h??o??e},symbol:{marker:{fill:p,fillOpacity:r.strokeOpacity,stroke:void 0,strokeWidth:0,strokeOpacity:1,lineDash:[0],lineDashOffset:0}},legendItemName:h,hideInLegend:!c}]}};Xw.className="ohlc";Xw.type="ohlc";var{CARTESIAN_AXIS_TYPE:pS,CARTESIAN_POSITION:O3}=z.ThemeConstants,oDt={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"ohlc",moduleFactory:t=>new Xw(t),tooltipDefaults:{range:"nearest"},defaultAxes:[{type:pS.NUMBER,position:O3.LEFT},{type:pS.ORDINAL_TIME,position:O3.BOTTOM}],themeTemplate:{animation:{enabled:!1},axes:{[pS.NUMBER]:{crosshair:{snap:!1}},[pS.ORDINAL_TIME]:{groupPaddingInner:0,crosshair:{enabled:!0}}}},groupable:!1,paletteFactory:({takeColors:t,colorsCount:e,userPalette:i,palette:n})=>{if(i==="user-indexed"){const[s]=t(e).strokes;return{item:{up:{stroke:s},down:{stroke:s}}}}return{item:{up:{stroke:n.up.stroke},down:{stroke:n.down.stroke}}}}},{SeriesProperties:rDt,SeriesTooltip:lDt,Validate:vn,UNION:cDt,COLOR_STRING_ARRAY:uK,FUNCTION:uDt,DIRECTION:hDt,BOOLEAN:dDt,LINE_DASH:pDt,OBJECT:UD,NUMBER:fDt,POSITIVE_NUMBER:HD,RATIO:hK,STRING:dK,Label:pK,DropShadow:gDt}=z,yDt=class extends pK{},Zw=class extends pK{constructor(){super(...arguments),this.spacing=0}};A([vn(fDt)],Zw.prototype,"spacing");A([vn(cDt(["before","after"],"a placement"))],Zw.prototype,"placement");var wn=class extends rDt{constructor(){super(...arguments),this.fills=[],this.fillOpacity=1,this.strokes=[],this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.direction="vertical",this.reverse=void 0,this.spacing=0,this.aspectRatio=void 0,this.shadow=new gDt().set({enabled:!1}),this.label=new yDt,this.stageLabel=new Zw,this.tooltip=new lDt}};A([vn(dK)],wn.prototype,"stageKey");A([vn(dK)],wn.prototype,"valueKey");A([vn(uK)],wn.prototype,"fills");A([vn(hK)],wn.prototype,"fillOpacity");A([vn(uK)],wn.prototype,"strokes");A([vn(HD)],wn.prototype,"strokeWidth");A([vn(hK)],wn.prototype,"strokeOpacity");A([vn(pDt)],wn.prototype,"lineDash");A([vn(HD)],wn.prototype,"lineDashOffset");A([vn(hDt)],wn.prototype,"direction");A([vn(dDt,{optional:!0})],wn.prototype,"reverse");A([vn(HD)],wn.prototype,"spacing");A([vn(HD,{optional:!0})],wn.prototype,"aspectRatio");A([vn(uDt,{optional:!0})],wn.prototype,"itemStyler");A([vn(UD)],wn.prototype,"shadow");A([vn(UD)],wn.prototype,"label");A([vn(UD)],wn.prototype,"stageLabel");A([vn(UD)],wn.prototype,"tooltip");var{valueProperty:w3,SeriesNodePickMode:R3,CachedTextMeasurerPool:mDt,TextUtils:xDt,createDatumId:bDt,BBox:F1,Group:G1,Selection:fS,Text:P3,PointerEvents:B3,applyShapeStyle:vDt}=z,qw=class extends z.DataModelSeries{constructor(t){super({moduleCtx:t,pickModes:[R3.EXACT_SHAPE_MATCH,R3.NEAREST_NODE]}),this.properties=new wn,this.itemGroup=this.contentGroup.appendChild(new G1({name:"itemGroup"})),this.itemLabelGroup=this.contentGroup.appendChild(new G1({name:"itemLabelGroup"})),this.stageLabelGroup=this.contentGroup.appendChild(new G1({name:"stageLabelGroup"})),this.datumSelection=fS.select(this.itemGroup,()=>this.nodeFactory()),this.labelSelection=fS.select(this.itemLabelGroup,P3),this.stageLabelSelection=fS.select(this.stageLabelGroup,P3),this.highlightDatumSelection=fS.select(this.highlightNode,()=>this.nodeFactory()),this.itemLabelGroup.pointerEvents=B3.None,this.stageLabelGroup.pointerEvents=B3.None}addChartEventListeners(){var t;this.destroyFns.push((t=this.ctx.chartEventManager)==null?void 0:t.addListener("legend-item-click",e=>this.onLegendItemClick(e)))}nodeFactory(){return new Il}getNodeData(){var t;return(t=this.contextNodeData)==null?void 0:t.nodeData}async processData(t){if(this.data==null||!this.properties.isValid())return;const{id:e,visible:i,ctx:{legendManager:n}}=this,{stageKey:s,valueKey:a}=this.properties,o="band",r="number",l=(h,p,f)=>i&&n.getItemEnabled({seriesId:e,itemId:f}),c=this.visible?{}:{forceValue:0};await this.requestDataModel(t,this.data,{props:[w3(s,o,{id:"xValue"}),w3(a,r,{id:"yValue",...c,validation:l,invalidValue:0})]})}createNodeData(){var _,V;const{id:t,dataModel:e,processedData:i,properties:n,visible:s,ctx:{legendManager:a}}=this,{stageKey:o,valueKey:r,direction:l,reverse:c=l==="horizontal",spacing:h,aspectRatio:p,label:f,stageLabel:y}=n;if(e==null||i==null)return;const m=l==="horizontal",b=e.resolveColumnById(this,"xValue",i),v=e.resolveColumnById(this,"yValue",i),S=mDt.getMeasurer({font:y.getFont()});let D,I;m?(D="center",I=y.placement==="before"?"bottom":"top"):(D=y.placement==="after"?"left":"right",I="middle");const T=y.enabled?[]:void 0;let k=0,E=0,O=0;const B=i.dataSources.get(this.id)??[];B.forEach((Y,J)=>{const q=b[J],nt=v[J],st=s&&a.getItemEnabled({seriesId:t,itemId:J});if(O+=nt,T==null)return;const rt=this.getLabelText(this.properties.stageLabel,{datum:Y,value:q,stageKey:o,valueKey:r}),{width:ct}=S.measureText(rt),dt=rt.split(`
`).length*xDt.getLineHeight(f.fontSize);k=Math.max(k,ct),E=Math.max(E,dt),T.push({x:NaN,y:NaN,text:rt,textAlign:D,textBaseline:I,visible:st})});const R=((_=this._nodeDataDependencies)==null?void 0:_.seriesRectWidth)??0,L=((V=this._nodeDataDependencies)==null?void 0:V.seriesRectHeight)??0,F=h*(i.input.count-1);let j;if(m){const Y=E+y.spacing;j=new F1(0,y.placement==="before"?Y:0,R,L-Y)}else{const Y=k+y.spacing;j=new F1(y.placement==="after"?0:Y,0,R-Y,L)}if(p!=null&&p!==0){const Y=l==="horizontal"?1/p:p,J=Math.min(j.width,j.height*Y),q=J/Y;j=new F1(j.x+(j.width-J)/2,j.y+(j.height-q)/2,J,q)}let G,W;m?W=y.placement==="before"?j.y-y.spacing:j.y+j.height+y.spacing:G=y.placement==="after"?j.x+j.width+y.spacing:j.x-y.spacing;const Z=j.width-(m?F:0),U=j.height-(m?0:F);if(Z<0||U<0)return;const K=[],$=[];let X=0;return B.forEach((Y,J)=>{const q=b[J],nt=v[J],st=s&&a.getItemEnabled({seriesId:t,itemId:J}),rt=X+nt,ct=(X+rt)/(2*O),dt=(rt-X)/O,ht=m?Z*ct+h*J:Z*.5,yt=m?U*.5:U*ct+h*J,pt=j.x+ht,vt=j.y+yt;if(T!=null){const zt=T[J];zt.x=G??pt,zt.y=W??vt}let At,bt,Rt,Nt;if(m){const zt=Z*dt;At=zt,Rt=zt;const Gt=(ht+zt/2)*(U/j.width),St=(ht-zt/2)*(U/j.width);bt=c?j.height-Gt:Gt,Nt=c?j.height-St:St}else{const zt=U*dt;bt=zt,Nt=zt;const Gt=(yt-zt/2)*(Z/j.height),St=(yt+zt/2)*(Z/j.height);At=c?j.width-Gt:Gt,Rt=c?j.width-St:St}const Ot=this.getLabelText(f,{datum:Y,value:nt,stageKey:o,valueKey:r}),Xt={x:pt,y:vt,text:Ot,textAlign:"center",textBaseline:"middle",visible:st};$.push(Xt),K.push({series:this,itemId:r,datum:Y,datumIndex:J,index:J,xValue:q,yValue:nt,x:pt,y:vt,top:At,right:bt,bottom:Rt,left:Nt,label:Xt,enabled:st,midPoint:{x:pt,y:vt}}),X=rt}),{itemId:t,nodeData:K,labelData:$,stageLabelData:T}}updateSelections(){this.nodeDataRefresh&&(this.contextNodeData=this.createNodeData(),this.nodeDataRefresh=!1)}update({seriesRect:t}){var c,h,p,f;this.checkResize(t);const{datumSelection:e,labelSelection:i,stageLabelSelection:n,highlightDatumSelection:s}=this;this.updateSelections(),this.contentGroup.visible=this.visible,this.contentGroup.opacity=this.getOpacity();let a=(c=this.ctx.highlightManager)==null?void 0:c.getActiveHighlight();a!=null&&(a.series!==this||a.datum==null)&&(a=void 0);const o=((h=this.contextNodeData)==null?void 0:h.nodeData)??[],r=((p=this.contextNodeData)==null?void 0:p.labelData)??[],l=((f=this.contextNodeData)==null?void 0:f.stageLabelData)??[];this.datumSelection=this.updateDatumSelection({nodeData:o,datumSelection:e}),this.updateDatumNodes({datumSelection:e,isHighlight:!1}),this.labelSelection=this.updateLabelSelection({labelData:r,labelSelection:i}),this.updateLabelNodes({labelSelection:i,labelProperties:this.properties.label}),this.stageLabelSelection=this.updateStageLabelSelection({stageLabelData:l,stageLabelSelection:n}),this.updateLabelNodes({labelSelection:n,labelProperties:this.properties.stageLabel}),this.highlightDatumSelection=this.updateDatumSelection({nodeData:a!=null?[a]:[],datumSelection:s}),this.updateDatumNodes({datumSelection:s,isHighlight:!0})}updateDatumSelection(t){return t.datumSelection.update(t.nodeData)}getItemBaseStyle(t){const{properties:e}=this,i=t?e.highlightStyle.item:void 0;return{fill:i==null?void 0:i.fill,fillOpacity:(i==null?void 0:i.fillOpacity)??e.fillOpacity,stroke:i==null?void 0:i.stroke,strokeWidth:(i==null?void 0:i.strokeWidth)??this.getStrokeWidth(e.strokeWidth),strokeOpacity:(i==null?void 0:i.strokeOpacity)??e.strokeOpacity,lineDash:(i==null?void 0:i.lineDash)??e.lineDash,lineDashOffset:(i==null?void 0:i.lineDashOffset)??e.lineDashOffset}}getItemStyleOverrides(t,e,i,n,s){const{id:a,properties:o}=this,{fills:r,strokes:l,stageKey:c,valueKey:h,itemStyler:p}=o,f=n.fill??r[i%r.length],y=n.stroke??l[i%l.length],m={};if(s||(m.fill=f,m.stroke=y),p!=null){const b=this.cachedDatumCallback(bDt(t,s?"highlight":"node"),()=>p({seriesId:a,datum:e,stageKey:c,valueKey:h,highlighted:s,fill:f,stroke:y,...n}));Object.assign(m,b)}return m}updateDatumNodes(t){const{datumSelection:e,isHighlight:i}=t,{properties:n}=this,{shadow:s}=n,a=this.getItemBaseStyle(i);e.each((o,r)=>{const{datumIndex:l,datum:c,x:h,y:p,top:f,right:y,bottom:m,left:b}=r,v=this.getItemStyleOverrides(String(l),c,l,a,i);o.x0=h-f/2,o.x1=h+f/2,o.x2=h+m/2,o.x3=h-m/2,o.y0=p-b/2,o.y1=p-y/2,o.y2=p+y/2,o.y3=p+b/2,vDt(o,a,v),o.fillShadow=s})}updateLabelSelection(t){return t.labelSelection.update(this.properties.label.enabled?t.labelData:[])}updateStageLabelSelection(t){return t.stageLabelSelection.update(t.stageLabelData)}updateLabelNodes(t){const{labelSelection:e,labelProperties:i}=t,{color:n,fontSize:s,fontStyle:a,fontWeight:o,fontFamily:r}=i;e.each((l,{visible:c,x:h,y:p,text:f,textAlign:y,textBaseline:m})=>{l.visible=c,l.x=h,l.y=p,l.text=f,l.fill=n,l.fontStyle=a,l.fontWeight=o,l.fontSize=s,l.fontFamily=r,l.textAlign=y,l.textBaseline=m})}resetAnimation(t){}computeFocusBounds(t){var i;const e=(i=this.getNodeData())==null?void 0:i[t.datumIndex];if(e!==void 0){for(const n of this.datumSelection)if(n.datum===e)return n.node}}getTooltipContent(t){var m,b;const{id:e,dataModel:i,processedData:n,properties:s}=this,{stageKey:a,valueKey:o,tooltip:r}=s;if(!i||!n)return;const{datumIndex:l}=t,c=(m=n.dataSources.get(this.id))==null?void 0:m[l],h=i.resolveColumnById(this,"xValue",n)[l],p=i.resolveColumnById(this,"yValue",n)[l];if(h==null)return;const f=this.getLabelText(this.properties.stageLabel,{datum:(b=n.dataSources.get(this.id))==null?void 0:b[l],value:p,stageKey:a,valueKey:o}),y=this.getItemBaseStyle(!1);return Object.assign(y,this.getItemStyleOverrides(String(l),l,l,y,!1)),r.formatTooltip({symbol:this.legendItemSymbol(l),data:[{label:String(h),value:f}]},{seriesId:e,datum:c,title:void 0,stageKey:a,valueKey:o,...y})}getSeriesDomain(){return[NaN,NaN]}getSeriesRange(t,e){return[NaN,NaN]}pickNodeClosestDatum({x:t,y:e}){let i=1/0,n;return this.datumSelection.each((s,a)=>{const o=s.distanceSquared(t,e);o<i&&(i=o,n=a)}),n!=null?{datum:n,distance:Math.sqrt(i)}:void 0}legendItemSymbol(t){const{fills:e,strokes:i,strokeWidth:n,fillOpacity:s,strokeOpacity:a,lineDash:o,lineDashOffset:r}=this.properties,l=e[t%e.length]??"black",c=i[t%i.length]??"black";return{marker:{fill:l,fillOpacity:s,stroke:c,strokeWidth:n,strokeOpacity:a,lineDash:o,lineDashOffset:r}}}getLegendData(t){const{processedData:e,dataModel:i,id:n,ctx:{legendManager:s},visible:a}=this;if(!i||!e||t!=="category"||!this.properties.isValid())return[];const{showInLegend:o}=this.properties,r=[],l=i.resolveColumnById(this,"xValue",e);return(e.dataSources.get(this.id)??[]).forEach((h,p)=>{const f=l[p];r.push({legendType:"category",id:n,itemId:p,seriesId:n,enabled:a&&s.getItemEnabled({seriesId:n,itemId:p}),label:{text:f},symbol:this.legendItemSymbol(p),hideInLegend:!o})}),r}};qw.className="PyramidSeries";qw.type="pyramid";var{ThemeSymbols:{DEFAULT_SHADOW_COLOUR:SDt}}=z,MDt={series:{direction:"vertical",strokeWidth:0,spacing:2,label:{enabled:!0,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"backgroundColor"}},stageLabel:{enabled:!0,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"},spacing:12},shadow:{enabled:!1,color:SDt,xOffset:3,yOffset:3,blur:5}}},ADt={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["standalone"],identifier:"pyramid",moduleFactory:t=>new qw(t),solo:!0,tooltipDefaults:{range:"exact"},themeTemplate:MDt,paletteFactory:({takeColors:t,colorsCount:e})=>{const{fills:i,strokes:n}=t(e);return{fills:i,strokes:n}}},{ThemeConstants:{POLAR_AXIS_TYPE:DDt}}=z,fK={series:{label:{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}},marker:{enabled:!0,fillOpacity:1,shape:"circle",size:6,strokeOpacity:1,strokeWidth:0}},axes:{[DDt.ANGLE_CATEGORY]:{label:{spacing:10}}}},IDt=z.mergeDefaults({series:{strokeWidth:2}},fK),TDt=z.mergeDefaults({series:{fillOpacity:.8,strokeWidth:2,marker:{enabled:!1}}},fK),{Label:CDt,SeriesMarker:kDt,SeriesProperties:LDt,SeriesTooltip:NDt,Validate:ka,BOOLEAN:EDt,COLOR_STRING:ODt,NUMBER:wDt,LINE_DASH:RDt,OBJECT:Qw,POSITIVE_NUMBER:gK,RATIO:PDt,STRING:WD}=z,_s=class extends LDt{constructor(){super(...arguments),this.stroke="black",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.rotation=0,this.marker=new kDt,this.label=new CDt,this.tooltip=new NDt,this.connectMissingData=!1}};A([ka(WD)],_s.prototype,"angleKey");A([ka(WD)],_s.prototype,"radiusKey");A([ka(WD,{optional:!0})],_s.prototype,"angleName");A([ka(WD,{optional:!0})],_s.prototype,"radiusName");A([ka(ODt)],_s.prototype,"stroke");A([ka(gK)],_s.prototype,"strokeWidth");A([ka(PDt)],_s.prototype,"strokeOpacity");A([ka(RDt)],_s.prototype,"lineDash");A([ka(gK)],_s.prototype,"lineDashOffset");A([ka(wDt)],_s.prototype,"rotation");A([ka(Qw)],_s.prototype,"marker");A([ka(Qw)],_s.prototype,"label");A([ka(Qw)],_s.prototype,"tooltip");A([ka(EDt)],_s.prototype,"connectMissingData");var{ChartAxisDirection:or,PolarAxis:BDt,SeriesNodePickMode:z3,valueProperty:_3,fixNumericExtent:zDt,seriesLabelFadeInAnimation:_Dt,markerFadeInAnimation:jDt,resetMarkerFn:FDt,animationValidation:GDt,computeMarkerFocusBounds:VDt,extent:UDt,isNumberEqual:j3,createDatumId:HDt,BBox:WDt,Group:YDt,Path:$Dt,PointerEvents:KDt,Selection:F3,Text:XDt,Marker:ZDt,applyShapeStyle:qDt}=z,QDt=class extends z.SeriesNodeEvent{constructor(t,e,i,n){super(t,e,i,n),this.angleKey=n.properties.angleKey,this.radiusKey=n.properties.radiusKey}},Jw=class extends z.PolarSeries{constructor(t){super({moduleCtx:t,useLabelLayer:!0,pickModes:[z3.NEAREST_NODE,z3.EXACT_SHAPE_MATCH],canHaveAxes:!0,animationResetFns:{item:FDt}}),this.clipFocusBox=!1,this.properties=new _s,this.NodeEvent=QDt,this.lineGroup=this.contentGroup.appendChild(new YDt({name:"radar-line",zIndex:z.SeriesZIndexMap.ANY_CONTENT})),this.lineSelection=F3.select(this.lineGroup,$Dt),this.resetInvalidToZero=!1,this.circleCache={r:0,cx:0,cy:0}}nodeFactory(){return new ZDt}setSeriesIndex(t){return super.setSeriesIndex(t)?(this.lineGroup.zIndex=[z.SeriesZIndexMap.ANY_CONTENT,t,z.SeriesContentZIndexMap.FOREGROUND,1],!0):!1}getSeriesDomain(t){const{dataModel:e,processedData:i}=this;if(!i||!e)return[];if(t===or.X)return e.getDomain(this,"angleValue","value",i);{const n=e.getDomain(this,"radiusValue","value",i),s=UDt(n.length===0?n:[0].concat(n));return zDt(s)}}async processData(t){var o,r;if(!this.properties.isValid())return;const{angleKey:e,radiusKey:i}=this.properties,n=[];this.ctx.animationManager.isSkipped()||n.push(GDt());const s=(o=this.axes[or.Y])==null?void 0:o.scale.type,a=(r=this.axes[or.X])==null?void 0:r.scale.type;await this.requestDataModel(t,this.data,{props:[_3(e,a,{id:"angleValue"}),_3(i,s,{id:"radiusValue",invalidValue:void 0}),...n]}),this.animationState.transition("updateData")}didCircleChange(){const t=this.radius,e=this.centerX,i=this.centerY,n=this.circleCache;return t===n.r&&e===n.cx&&i===n.cy?!1:(this.circleCache={r:t,cx:e,cy:i},!0)}getAxisInnerRadius(){const t=this.axes[or.Y];return t instanceof BDt?this.radius*t.innerRadiusRatio:0}maybeRefreshNodeData(){if(!this.didCircleChange()&&!this.nodeDataRefresh)return;const{nodeData:e=[]}=this.createNodeData()??{};this.nodeData=e,this.nodeDataRefresh=!1}createNodeData(){var b,v;const{processedData:t,dataModel:e}=this;if(!t||!e||!this.properties.isValid())return;const{angleKey:i,radiusKey:n,angleName:s,radiusName:a,marker:o,label:r}=this.properties,l=(b=this.axes[or.X])==null?void 0:b.scale,c=(v=this.axes[or.Y])==null?void 0:v.scale;if(!l||!c)return;const h=e.resolveColumnById(this,"angleValue",t),p=e.resolveColumnById(this,"radiusValue",t),f=this.getAxisInnerRadius(),m=(t.dataSources.get(this.id)??[]).map((S,D)=>{const I=h[D],T=p[D],k=l.convert(I),E=this.radius+f-c.convert(T),O=Math.cos(k),B=Math.sin(k),R=O*E,L=B*E;let F;if(r.enabled){const j=this.getLabelText(r,{value:T,datum:S,angleKey:i,radiusKey:n,angleName:s,radiusName:a});if(j){let G="right";j3(O,0)?G="center":O>0&&(G="left");let W="bottom";j3(B,0)?W="middle":B>0&&(W="top"),F={x:R+O*o.size,y:L+B*o.size,text:j,textAlign:G,textBaseline:W}}}return{series:this,datum:S,datumIndex:D,index:D,point:{x:R,y:L,size:o.size},midPoint:{x:R,y:L},label:F,angleValue:I,radiusValue:T,missing:!Fu(k)||!Fu(E)}});return{itemId:n,nodeData:m,labelData:m}}update({seriesRect:t}){var s;const e=this.checkResize(t),i=!this.ctx.animationManager.isSkipped(),{series:n}=((s=this.ctx.highlightManager)==null?void 0:s.getActiveHighlight())??{};this.highlightGroup.visible=(i||this.visible)&&n===this,this.maybeRefreshNodeData(),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),this.updatePathSelections(),this.updateMarkerSelection(),this.updateMarkers(this.itemSelection,!1),this.updateMarkers(this.highlightSelection,!0),this.updateLabels(),e&&this.animationState.transition("resize"),this.animationState.transition("update")}updatePathSelections(){const t=this.visible?[!0]:[];this.lineSelection.update(t)}updateMarkerSelection(){this.properties.marker.isDirty()&&(this.itemSelection.clear(),this.itemSelection.cleanup(),this.itemSelection=F3.select(this.itemGroup,()=>this.nodeFactory(),!1)),this.itemSelection.update(this.properties.marker.enabled?this.nodeData:[])}getMarkerFill(t){return(t==null?void 0:t.fill)??this.properties.marker.fill}getMarkerItemBaseStyle(t){const{properties:e}=this,{marker:i}=e,n=t?e.highlightStyle.item:void 0;return{shape:i.shape,size:i.size,fill:(n==null?void 0:n.fill)??i.fill,fillOpacity:(n==null?void 0:n.fillOpacity)??i.fillOpacity,stroke:(n==null?void 0:n.stroke)??i.stroke,strokeWidth:(n==null?void 0:n.strokeWidth)??this.getStrokeWidth(i.strokeWidth),strokeOpacity:(n==null?void 0:n.strokeOpacity)??i.strokeOpacity,lineDash:(n==null?void 0:n.lineDash)??i.lineDash,lineDashOffset:(n==null?void 0:n.lineDashOffset)??i.lineDashOffset}}getMarkerItemStyleOverrides(t,e,i,n){const{id:s,properties:a}=this,{angleKey:o,radiusKey:r,marker:l}=a,{itemStyler:c}=l;if(c!=null)return this.cachedDatumCallback(HDt(t,n?"highlight":"node"),()=>c({seriesId:s,datum:e,angleKey:o,radiusKey:r,highlighted:n,...i}))}updateMarkers(t,e){var o;const{visible:i}=this,{marker:n}=this.properties;let s=[];if(i&&n.shape&&n.enabled)if(e){const r=(o=this.ctx.highlightManager)==null?void 0:o.getActiveHighlight();r!=null&&r.datum&&(s=[r])}else s=this.nodeData;const a=this.getMarkerItemBaseStyle(e);t.update(s).each((r,l)=>{const{datum:c,datumIndex:h,point:p}=l,f=this.getMarkerItemStyleOverrides(String(h),c,a,e);qDt(r,a,f),r.shape=(f==null?void 0:f.shape)??a.shape,r.size=(f==null?void 0:f.size)??a.size;const{x:y,y:m}=p;r.x=y,r.y=m,r.visible=i&&r.size>0&&!isNaN(y)&&!isNaN(m)})}updateLabels(){const{label:t}=this.properties;this.labelSelection.update(this.nodeData).each((e,i)=>{t.enabled&&i.label?(e.x=i.label.x,e.y=i.label.y,e.fill=t.color,e.fontFamily=t.fontFamily,e.fontSize=t.fontSize,e.fontStyle=t.fontStyle,e.fontWeight=t.fontWeight,e.text=i.label.text,e.textAlign=i.label.textAlign,e.textBaseline=i.label.textBaseline,e.visible=!0):e.visible=!1})}getTooltipContent(t){var D;const{id:e,dataModel:i,processedData:n,axes:s,properties:a}=this,{angleKey:o,angleName:r,radiusKey:l,radiusName:c,tooltip:h}=a,p=s[or.X],f=s[or.Y];if(!i||!n||!p||!f)return;const{datumIndex:y}=t,m=(D=n.dataSources.get(this.id))==null?void 0:D[y],b=i.resolveColumnById(this,"angleValue",n)[y],v=i.resolveColumnById(this,"radiusValue",n)[y];if(b==null)return;const S=this.getMarkerItemBaseStyle(!1);return Object.assign(S,this.getMarkerItemStyleOverrides(String(y),y,S,!1)),h.formatTooltip({heading:p.formatDatum(b),symbol:this.legendItemSymbol(),data:[{label:c,fallbackLabel:l,value:f.formatDatum(v)}]},{seriesId:e,datum:m,title:r,angleKey:o,radiusKey:l,angleName:r,radiusName:c,...S})}legendItemSymbol(){const{stroke:t,strokeWidth:e,strokeOpacity:i,lineDash:n,marker:s}=this.properties;return{marker:{shape:s.shape,fill:this.getMarkerFill()??s.stroke??t??"rgba(0, 0, 0, 0)",stroke:s.stroke??t??"rgba(0, 0, 0, 0)",fillOpacity:s.fillOpacity,strokeOpacity:s.strokeOpacity,strokeWidth:s.strokeWidth,lineDash:s.lineDash,lineDashOffset:s.lineDashOffset,enabled:s.enabled||e<=0},line:{stroke:t,strokeOpacity:i,strokeWidth:e,lineDash:n}}}getLegendData(t){if(!this.properties.isValid()||t!=="category")return[];const{id:e,ctx:{legendManager:i},visible:n}=this,{radiusKey:s,radiusName:a,showInLegend:o}=this.properties;return[{legendType:"category",id:e,itemId:s,seriesId:e,enabled:n&&i.getItemEnabled({seriesId:e,itemId:s}),label:{text:a??s},symbol:this.legendItemSymbol(),hideInLegend:!o}]}pickNodeClosestDatum(t){var h;const{nodeData:e,centerX:i,centerY:n}=this,{x:s,y:a}=t,o=this.radius;if(Math.sqrt((s-i)**2+(a-n)**2)>o+this.properties.marker.size)return;let l=1/0,c;for(const p of e){const{point:{x:f=NaN,y=NaN}={}}=p;if(isNaN(f)||isNaN(y))continue;const m=Math.sqrt((t.x-f-i)**2+(t.y-y-n)**2);m<l&&(l=m,c=p)}if(c){const p=Math.max(l-(((h=c.point)==null?void 0:h.size)??0),0);return{datum:c,distance:p}}}computeLabelsBBox(){const{label:t}=this.properties;this.maybeRefreshNodeData();const e=[],i=new XDt;return this.nodeData.forEach(n=>{if(!t.enabled||!n.label)return;i.text=n.label.text,i.x=n.label.x,i.y=n.label.y,i.setFont(t),i.setAlign(n.label);const s=i.getBBox();e.push(s)}),e.length===0?null:WDt.merge(e)}getLineNode(){var t;return(t=this.lineSelection)==null?void 0:t.at(0)}beforePathAnimation(){const t=this.getLineNode();t&&(t.fill=void 0,t.lineJoin="round",t.lineCap="round",t.pointerEvents=KDt.None,t.stroke=this.properties.stroke,t.strokeWidth=this.getStrokeWidth(this.properties.strokeWidth),t.strokeOpacity=this.properties.strokeOpacity,t.lineDash=this.properties.lineDash,t.lineDashOffset=this.properties.lineDashOffset)}getLinePoints(){const{nodeData:t,resetInvalidToZero:e}=this,{connectMissingData:i}=this.properties;if(t.length===0)return[];const n=this.axes[or.Y],s=this.axes[or.X],a=s==null?void 0:s.isReversed(),r=(n==null?void 0:n.isReversed())&&!a?[...t].reverse():t,l=[];let c=!1,h;return r.forEach((p,f)=>{let{x:y,y:m}=p.point;const b=isNaN(y)||isNaN(m);b||(h??(h=p)),b&&!i&&(y=0,m=0);const v=f===0||!e&&!i&&(b||c);l.push({x:y,y:m,moveTo:v}),c=b}),h!==void 0&&l.push({x:h.point.x,y:h.point.y,moveTo:!1}),l}animateSinglePath(t,e,i){const{path:n}=t;n.clear(!0);const s=this.getAxisInnerRadius(),a=this.axes[or.Y],r=(a==null?void 0:a.isReversed())?this.radius+s-(a==null?void 0:a.scale.convert(0)):s;e.forEach(l=>{const{x:c,y:h,arc:p,radius:f=0,startAngle:y=0,endAngle:m=0,moveTo:b}=l,v=Math.atan2(h,c),S=r*Math.cos(v),D=r*Math.sin(v),I=i,T=S*(1-I)+c*I,k=D*(1-I)+h*I;p?n.arc(c,h,f,y,m):b?n.moveTo(T,k):n.lineTo(T,k)}),t.checkPathDirty()}animatePaths(t){const e=this.getLinePoints(),i=this.getLineNode();i&&this.animateSinglePath(i,e,t)}animateEmptyUpdateReady(){const{itemSelection:t,labelSelection:e}=this,{animationManager:i}=this.ctx;this.beforePathAnimation(),i.animate({id:`${this.id}_'path`,groupId:this.id,from:0,to:1,phase:"initial",collapsable:!1,onUpdate:n=>this.animatePaths(n),onStop:()=>this.animatePaths(1)}),jDt(this,i,"added",t),_Dt(this,"labels",i,e)}animateWaitingUpdateReady(t){super.animateWaitingUpdateReady(t),this.resetPaths()}animateReadyResize(t){super.animateReadyResize(t),this.resetPaths()}resetPaths(){const t=this.getLineNode();if(t){const{path:e}=t,i=this.getLinePoints();t.fill=void 0,t.stroke=this.properties.stroke,t.strokeWidth=this.getStrokeWidth(this.properties.strokeWidth),t.strokeOpacity=this.properties.strokeOpacity,t.lineDash=this.properties.lineDash,t.lineDashOffset=this.properties.lineDashOffset,e.clear(!0);for(const{x:n,y:s,moveTo:a}of i)a?e.moveTo(n,s):e.lineTo(n,s);t.checkPathDirty()}}getFormattedMarkerStyle(t){const{angleKey:e,radiusKey:i}=this.properties;return this.getMarkerStyle(this.properties.marker,{datum:t,angleKey:e,radiusKey:i,highlighted:!0})}computeFocusBounds(t){return VDt(this,t)}};Jw.className="RadarSeries";var{RATIO:JDt,COLOR_STRING:tIt,Validate:yK}=z,tR=class extends _s{constructor(){super(...arguments),this.fill="black",this.fillOpacity=1}};A([yK(tIt)],tR.prototype,"fill");A([yK(JDt)],tR.prototype,"fillOpacity");var{Group:eIt,Path:iIt,PointerEvents:nIt,Selection:sIt,ChartAxisDirection:G3}=z,eR=class extends Jw{constructor(t){super(t),this.properties=new tR,this.resetInvalidToZero=!0;const e=new eIt;this.contentGroup.append(e),this.areaSelection=sIt.select(e,iIt)}updatePathSelections(){const t=this.visible?[!0]:[];this.areaSelection.update(t),super.updatePathSelections()}getAreaNode(){return this.areaSelection.at(0)}getMarkerFill(t){return(t==null?void 0:t.fill)??this.properties.marker.fill??this.properties.fill}beforePathAnimation(){super.beforePathAnimation();const t=this.getAreaNode();t.fill=this.properties.fill,t.fillOpacity=this.properties.fillOpacity,t.pointerEvents=nIt.None,t.stroke=void 0}animatePaths(t){super.animatePaths(t),this.animateSinglePath(this.getAreaNode(),this.getAreaPoints(),t)}getAreaPoints(){var o;const t=this.getLinePoints(),e=r=>{const l=this.axes[r];return l instanceof z.PolarAxis?l:void 0},i=e(G3.Y),n=e(G3.X);if(!(i==null?void 0:i.isReversed()))return t;const a=((o=n==null?void 0:n.getAxisLinePoints())==null?void 0:o.points)??[];return t.concat(...a)}resetPaths(){super.resetPaths();const t=this.getAreaNode();if(t){const{path:e}=t,i=this.getAreaPoints();t.fill=this.properties.fill,t.fillOpacity=this.properties.fillOpacity,t.stroke=void 0,t.lineDash=this.properties.lineDash,t.lineDashOffset=this.properties.lineDashOffset,t.lineJoin=t.lineCap="round",e.clear(!0),i.forEach(({x:n,y:s,moveTo:a,arc:o,radius:r=0,startAngle:l=0,endAngle:c=0})=>{o?e.arc(n,s,r,l,c):a?e.moveTo(n,s):e.lineTo(n,s)}),e.closePath(),t.checkPathDirty()}}};eR.className="RadarAreaSeries";eR.type="radar-area";var{markerPaletteFactory:aIt,ThemeConstants:{POLAR_AXIS_TYPE:V3}}=z,oIt={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radar-area",moduleFactory:t=>new eR(t),tooltipDefaults:{range:"nearest"},defaultAxes:[{type:V3.ANGLE_CATEGORY},{type:V3.RADIUS_NUMBER}],themeTemplate:TDt,paletteFactory:t=>{const{marker:e}=aIt(t);return{stroke:e.stroke,fill:e.fill,marker:e}}},iR=class extends Jw{updatePathSelections(){this.lineSelection.update(this.visible?[!0]:[])}};iR.className="RadarLineSeries";iR.type="radar-line";var{POLAR_AXIS_TYPE:U3}=z.ThemeConstants,rIt={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radar-line",moduleFactory:t=>new iR(t),tooltipDefaults:{range:"nearest"},defaultAxes:[{type:U3.ANGLE_CATEGORY},{type:U3.RADIUS_NUMBER}],themeTemplate:IDt,paletteFactory:({takeColors:t})=>{const{fills:[e],strokes:[i]}=t(1);return{stroke:e,marker:{fill:e,stroke:i}}}},{SeriesProperties:lIt,SeriesTooltip:cIt,Validate:Kn,COLOR_STRING:mK,NUMBER:xK,FUNCTION:uIt,LINE_DASH:hIt,OBJECT:bK,POSITIVE_NUMBER:nR,RATIO:vK,STRING:Zb,Label:dIt}=z,Rn=class extends lIt{constructor(){super(...arguments),this.fill="black",this.fillOpacity=1,this.stroke="black",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.rotation=0,this.label=new dIt,this.tooltip=new cIt}};A([Kn(Zb)],Rn.prototype,"angleKey");A([Kn(Zb)],Rn.prototype,"radiusKey");A([Kn(Zb,{optional:!0})],Rn.prototype,"angleName");A([Kn(Zb,{optional:!0})],Rn.prototype,"radiusName");A([Kn(mK)],Rn.prototype,"fill");A([Kn(vK)],Rn.prototype,"fillOpacity");A([Kn(mK)],Rn.prototype,"stroke");A([Kn(nR)],Rn.prototype,"strokeWidth");A([Kn(vK)],Rn.prototype,"strokeOpacity");A([Kn(hIt)],Rn.prototype,"lineDash");A([Kn(nR)],Rn.prototype,"lineDashOffset");A([Kn(nR)],Rn.prototype,"cornerRadius");A([Kn(uIt,{optional:!0})],Rn.prototype,"itemStyler");A([Kn(xK)],Rn.prototype,"rotation");A([Kn(Zb,{optional:!0})],Rn.prototype,"stackGroup");A([Kn(xK,{optional:!0})],Rn.prototype,"normalizedTo");A([Kn(bK)],Rn.prototype,"label");A([Kn(bK)],Rn.prototype,"tooltip");var{SectorBox:H3,motion:pIt}=z;function fIt(t,e,i){if(i==="updated"){if(t.previousDatum==null||isNaN(t.previousDatum.innerRadius)||isNaN(t.previousDatum.outerRadius))return"added";if(isNaN(e.innerRadius)||isNaN(e.outerRadius))return"removed"}return i==="added"&&t.previousDatum!=null?"updated":i}function W3(t){return{toFn:(n,s,a)=>{let o,r,l,c,h;return a==="removed"?(o=t,r=t,l=s.innerRadius,c=s.outerRadius,h=new H3(o,r,l,c)):(o=s.startAngle,r=s.endAngle,l=isNaN(s.innerRadius)?n.innerRadius:s.innerRadius,c=isNaN(s.outerRadius)?n.outerRadius:s.outerRadius,h=s.clipSector),{startAngle:o,endAngle:r,innerRadius:l,outerRadius:c,clipSector:h}},fromFn:(n,s,a)=>{a=fIt(n,s,a);let o,r,l,c,h;a==="removed"||a==="updated"?(o=n.startAngle,r=n.endAngle,l=n.innerRadius,c=n.outerRadius,h=n.clipSector):(o=t,r=t,l=s.innerRadius,c=s.outerRadius),h??(h=new H3(o,r,l,c));const p=pIt.NODE_UPDATE_STATE_TO_PHASE_MAPPING[a];return{startAngle:o,endAngle:r,innerRadius:l,outerRadius:c,clipSector:h,phase:p}}}}function gIt(t,e){return{centerX:0,centerY:0,innerRadius:e.innerRadius,outerRadius:e.outerRadius,startAngle:e.startAngle,endAngle:e.endAngle,clipSector:e.clipSector}}var{ChartAxisDirection:Ql,PolarAxis:yIt,diff:mIt,groupAccumulativeValueProperty:Y3,keyProperty:xIt,normaliseGroupTo:bIt,valueProperty:vIt,fixNumericExtent:SIt,resetLabelFn:MIt,seriesLabelFadeInAnimation:AIt,seriesLabelFadeOutAnimation:DIt,animationValidation:IIt,angleBetween:TIt,createDatumId:$3,CategoryScale:CIt,Sector:kIt,SectorBox:LIt,motion:K3,applyShapeStyle:NIt}=z,EIt=class extends z.SeriesNodeEvent{constructor(t,e,i,n){super(t,e,i,n),this.angleKey=n.properties.angleKey,this.radiusKey=n.properties.radiusKey}},sR=class extends z.PolarSeries{constructor(t){super({moduleCtx:t,useLabelLayer:!0,canHaveAxes:!0,animationResetFns:{item:gIt,label:MIt}}),this.properties=new Rn,this.NodeEvent=EIt,this.groupScale=new CIt,this.circleCache={r:0,cx:0,cy:0}}nodeFactory(){return new kIt}getSeriesDomain(t){const{dataModel:e,processedData:i}=this;if(!i||!e)return[];if(t===Ql.X){const n=e.getDomain(this,"angleValue-end","value",i),s=[n[0]>0?0:n[0],n[1]<0?0:n[1]];return SIt(s)}else return e.getDomain(this,"radiusValue","key",i)}async processData(t){var f,y;const{visible:e}=this,{angleKey:i,radiusKey:n,normalizedTo:s}=this.properties,a=!this.ctx.animationManager.isSkipped();if(!this.properties.isValid())return;const o=this.getStackId(),r=`${o}-trailing`,l=[];ns(s)&&l.push(bIt([o,r],Math.abs(s))),a&&(this.processedData&&l.push(mIt(this.id,this.processedData)),l.push(IIt()));const c=e||!a?{}:{forceValue:0},h=(f=this.axes[Ql.Y])==null?void 0:f.scale.type,p=(y=this.axes[Ql.X])==null?void 0:y.scale.type;await this.requestDataModel(t,this.data,{props:[xIt(n,h,{id:"radiusValue"}),vIt(i,p,{id:"angleValue-raw",invalidValue:null,...c}),...Y3(i,"normal","current",{id:"angleValue-end",rangeId:"angleValue-range",invalidValue:null,groupId:o,separateNegative:!0,...c},p),...Y3(i,"trailing","current",{id:"angleValue-start",invalidValue:null,groupId:r,separateNegative:!0,...c},p),...l],groupByKeys:!0,groupByData:!1}),this.animationState.transition("updateData")}didCircleChange(){const t=this.radius,e=this.centerX,i=this.centerY,n=this.circleCache;return t===n.r&&e===n.cx&&i===n.cy?!1:(this.circleCache={r:t,cx:e,cy:i},!0)}maybeRefreshNodeData(){if(!this.didCircleChange()&&!this.nodeDataRefresh)return;const{nodeData:e=[]}=this.createNodeData()??{};this.nodeData=e,this.nodeDataRefresh=!1}getAxisInnerRadius(){const t=this.axes[Ql.Y];return t instanceof yIt?this.radius*t.innerRadiusRatio:0}createNodeData(){const{processedData:t,dataModel:e}=this;if(!e||!t||t.type!=="grouped"||!this.properties.isValid())return;const i=this.axes[Ql.X],n=this.axes[Ql.Y],s=i==null?void 0:i.scale,a=n==null?void 0:n.scale;if(!s||!a)return;const o=e.resolveKeysById(this,"radiusValue",t),r=e.resolveColumnById(this,"angleValue-start",t),l=e.resolveColumnById(this,"angleValue-end",t),c=e.resolveColumnById(this,"angleValue-raw",t),h=e.resolveProcessedDataIndexById(this,"angleValue-range");let p=0;n instanceof Qd&&(p=n.groupPaddingInner);const{groupScale:f}=this,{index:y,visibleGroupCount:m}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this);f.domain=Array.from({length:m}).map((Z,U)=>String(U)),f.range=[0,Math.abs(a.bandwidth??0)],f.paddingInner=m>1?p:0;const b=f.bandwidth>=1?f.bandwidth:f.rawBandwidth,v=i.isReversed(),S=n.isReversed(),D=S?this.radius:this.getAxisInnerRadius(),T=(S?this.getAxisInnerRadius():this.radius)+D,{angleKey:k,radiusKey:E,angleName:O,radiusName:B,label:R}=this.properties,L=(Z,U,K,$)=>{const X=this.getLabelText(R,{value:U,datum:Z,angleKey:k,radiusKey:E,angleName:O,radiusName:B});if(X)return{x:K,y:$,text:X,textAlign:"center",textBaseline:"middle"}},F=[],j={itemId:E,nodeData:F,labelData:F};if(!this.visible)return j;const{dataSources:G}=t,W=G.get(this.id)??[];for(const{datumIndex:Z,group:U}of e.forEachGroupDatum(this,t)){const K=W[Z],$=o[Z];if($==null)return;const X=c[Z],_=r[Z],V=l[Z],Y=X>=0&&!Object.is(X,-0),J=U.aggregation[h][Y?1:0],q=Y===v;let nt=s.convert(_,!0),st=s.convert(V,!0),rt=s.convert(0,!0),ct=s.convert(J,!0);q&&([rt,ct]=[ct,rt],[nt,st]=[st,nt]);const ht=T-a.convert($)+f.convert(String(y)),yt=ht+b,pt=(ht+yt)/2,vt=nt+TIt(nt,st)/2,At=Math.cos(vt)*pt,bt=Math.sin(vt)*pt,Rt=this.properties.label.enabled?L(K,X,At,bt):void 0,Nt=new LIt(nt,st,ht,yt);F.push({series:this,datum:K,datumIndex:Z,point:{x:At,y:bt,size:0},midPoint:{x:At,y:bt},label:Rt,angleValue:X,radiusValue:$,innerRadius:ht,outerRadius:yt,startAngle:rt,endAngle:ct,clipSector:Nt,reversed:q,index:Z})}return j}update({seriesRect:t}){const e=this.checkResize(t);this.maybeRefreshNodeData(),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),this.updateSectorSelection(this.itemSelection,!1),this.updateSectorSelection(this.highlightSelection,!0),this.updateLabels(),e&&this.animationState.transition("resize"),this.animationState.transition("update")}getItemBaseStyle(t){const{properties:e}=this,i=t?e.highlightStyle.item:void 0;return{fill:(i==null?void 0:i.fill)??e.fill,fillOpacity:(i==null?void 0:i.fillOpacity)??e.fillOpacity,stroke:(i==null?void 0:i.stroke)??e.stroke,strokeWidth:(i==null?void 0:i.strokeWidth)??this.getStrokeWidth(e.strokeWidth),strokeOpacity:(i==null?void 0:i.strokeOpacity)??e.strokeOpacity,lineDash:(i==null?void 0:i.lineDash)??e.lineDash,lineDashOffset:(i==null?void 0:i.lineDashOffset)??e.lineDashOffset,cornerRadius:e.cornerRadius}}getItemStyleOverrides(t,e,i,n){const{id:s,properties:a}=this,{angleKey:o,radiusKey:r,itemStyler:l}=a;if(l!=null)return this.cachedDatumCallback($3(t,n?"highlight":"node"),()=>l({seriesId:s,datum:e,highlighted:n,angleKey:o,radiusKey:r,...i}))}updateSectorSelection(t,e){var s;let i=[];if(e){const a=(s=this.ctx.highlightManager)==null?void 0:s.getActiveHighlight();a!=null&&a.datum&&a.series===this&&i.push(a)}else i=this.nodeData;const n=this.getItemBaseStyle(e);t.update(i,void 0,a=>this.getDatumId(a)).each((a,o)=>{const{datum:r,datumIndex:l}=o,c=this.getItemStyleOverrides(String(l),r,n,e),h=(c==null?void 0:c.cornerRadius)??n.cornerRadius;NIt(a,n,c),a.lineJoin="round",a.inset=a.stroke!=null?a.strokeWidth/2:0,a.startInnerCornerRadius=r.reversed?h:0,a.startOuterCornerRadius=r.reversed?h:0,a.endInnerCornerRadius=r.reversed?0:h,a.endOuterCornerRadius=r.reversed?0:h,e&&(a.startAngle=o.startAngle,a.endAngle=o.endAngle,a.clipSector=o.clipSector,a.innerRadius=o.innerRadius,a.outerRadius=o.outerRadius)})}updateLabels(){const{label:t}=this.properties;this.labelSelection.update(this.nodeData).each((e,i)=>{t.enabled&&i.label?(e.x=i.label.x,e.y=i.label.y,e.fill=t.color,e.fontFamily=t.fontFamily,e.fontSize=t.fontSize,e.fontStyle=t.fontStyle,e.fontWeight=t.fontWeight,e.text=i.label.text,e.textAlign=i.label.textAlign,e.textBaseline=i.label.textBaseline,e.visible=!0):e.visible=!1})}getBarTransitionFunctions(){var s;const t=(s=this.axes[Ql.X])==null?void 0:s.scale;let e=0;if(!t)return W3(e);const i=Math.min(t.domain[0],t.domain[1]),n=Math.max(t.domain[0],t.domain[1]);return i<=0&&n>=0&&(e=t.convert(0)),W3(e)}animateEmptyUpdateReady(){const{labelSelection:t}=this,e=this.getBarTransitionFunctions();K3.fromToMotion(this.id,"datums",this.ctx.animationManager,[this.itemSelection],e),AIt(this,"labels",this.ctx.animationManager,t)}animateClearingUpdateEmpty(){const{itemSelection:t}=this,{animationManager:e}=this.ctx,i=this.getBarTransitionFunctions();K3.fromToMotion(this.id,"datums",e,[t],i),DIt(this,"labels",e,this.labelSelection)}getTooltipContent(t){var D;const{id:e,dataModel:i,processedData:n,axes:s,properties:a}=this,{angleKey:o,angleName:r,radiusKey:l,radiusName:c,tooltip:h}=a,p=s[Ql.X],f=s[Ql.Y];if(!i||!n||!p||!f)return;const{datumIndex:y}=t,m=(D=n.dataSources.get(this.id))==null?void 0:D[y],b=i.resolveKeysById(this,"radiusValue",n)[y],v=i.resolveColumnById(this,"angleValue-raw",n)[y];if(b==null)return;const S=this.getItemBaseStyle(!1);return Object.assign(S,this.getItemStyleOverrides(String(y),y,S,!1)),h.formatTooltip({heading:f.formatDatum(b),symbol:this.legendItemSymbol(),data:[{label:r,fallbackLabel:o,value:p.formatDatum(v)}]},{seriesId:e,datum:m,title:r,angleKey:o,angleName:r,radiusKey:l,radiusName:c,...S})}pickNodeClosestDatum(t){return this.pickNodeNearestDistantObject(t,this.itemSelection.nodes())}legendItemSymbol(){const{fill:t,stroke:e,fillOpacity:i,strokeOpacity:n,strokeWidth:s,lineDash:a,lineDashOffset:o}=this.properties;return{marker:{fill:t??"rgba(0, 0, 0, 0)",stroke:e??"rgba(0, 0, 0, 0)",fillOpacity:i,strokeOpacity:n,strokeWidth:s,lineDash:a,lineDashOffset:o}}}getLegendData(t){if(!this.properties.isValid()||t!=="category")return[];const{id:e,visible:i}=this,{angleKey:n,angleName:s,showInLegend:a}=this.properties;return[{legendType:"category",id:e,itemId:n,seriesId:e,enabled:i,label:{text:s??n},symbol:this.legendItemSymbol(),hideInLegend:!a}]}getDatumId(t){return $3(t.radiusValue)}computeLabelsBBox(){return null}getStackId(){var e;return`radialBar-stack-${((e=this.seriesGrouping)==null?void 0:e.groupIndex)??this.id}-xValues`}};sR.className="RadialBarSeries";sR.type="radial-bar";var{ThemeConstants:{POLAR_AXIS_TYPE:OIt}}=z,wIt={series:{strokeWidth:0,label:{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"backgroundColor"}}},axes:{[OIt.RADIUS_CATEGORY]:{innerRadiusRatio:.2,groupPaddingInner:.2,paddingInner:.2,paddingOuter:.1}}},{POLAR_AXIS_TYPE:X3}=z.ThemeConstants,RIt={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radial-bar",moduleFactory:t=>new sR(t),tooltipDefaults:{range:"exact"},defaultAxes:[{type:X3.ANGLE_NUMBER},{type:X3.RADIUS_CATEGORY}],themeTemplate:wIt,paletteFactory:({takeColors:t})=>{const{fills:[e],strokes:[i]}=t(1);return{fill:e,stroke:i}},stackable:!0,groupable:!0},{Validate:SK,RATIO:MK}=z,aR=class extends bn{};A([SK(MK,{optional:!0})],aR.prototype,"columnWidthRatio");A([SK(MK,{optional:!0})],aR.prototype,"maxColumnWidthRatio");var{ChartAxisDirection:PIt,PolarAxis:BIt,RadialColumnShape:zIt,getRadialColumnWidth:_It}=z,oR=class extends nK{constructor(t){super(t,{animationResetFns:{item:ZAt}}),this.properties=new aR}getStackId(){var e;return`radarColumn-stack-${((e=this.seriesGrouping)==null?void 0:e.groupIndex)??this.id}-yValues`}nodeFactory(){return new zIt}getColumnTransitionFunctions(){const t=this.isRadiusAxisReversed()?this.radius:this.getAxisInnerRadius();return XAt(t)}isRadiusAxisCircle(){const t=this.axes[PIt.Y];return t instanceof BIt?t.shape==="circle":!1}updateItemPath(t,e,i){t.isBeveled=this.isRadiusAxisCircle(),t.isRadiusAxisReversed=this.isRadiusAxisReversed(),i&&(t.innerRadius=e.innerRadius,t.outerRadius=e.outerRadius,t.startAngle=e.startAngle,t.endAngle=e.endAngle,t.columnWidth=e.columnWidth,t.axisInnerRadius=e.axisInnerRadius,t.axisOuterRadius=e.axisOuterRadius)}getColumnWidth(t,e){const{columnWidthRatio:i=.5,maxColumnWidthRatio:n=.5}=this.properties;return _It(t,e,this.radius,i,n)}};oR.className="RadialColumnSeries";oR.type="radial-column";var{ThemeConstants:{POLAR_AXIS_TYPE:Z3,POLAR_AXIS_SHAPE:q3}}=z,jIt={series:{columnWidthRatio:.5,maxColumnWidthRatio:.5,strokeWidth:0,label:{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}}},axes:{[Z3.ANGLE_CATEGORY]:{shape:q3.CIRCLE,groupPaddingInner:0,paddingInner:0,label:{spacing:10}},[Z3.RADIUS_NUMBER]:{shape:q3.CIRCLE,innerRadiusRatio:.5}}},{POLAR_AXIS_TYPE:Q3}=z.ThemeConstants,FIt={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radial-column",moduleFactory:t=>new oR(t),tooltipDefaults:{range:"exact"},defaultAxes:[{type:Q3.ANGLE_CATEGORY},{type:Q3.RADIUS_NUMBER}],themeTemplate:jIt,paletteFactory:({takeColors:t})=>{const{fills:[e],strokes:[i]}=t(1);return{fill:e,stroke:i}},stackable:!0,groupable:!0},{SvgPath:GIt,Rotatable:VIt,Translatable:UIt,Scalable:HIt}=z,yL=class extends VIt(HIt(UIt(GIt))){constructor(){super(...arguments),this.scalingCenterX=.5,this.scalingCenterY=.5,this.rotationCenterX=.5,this.rotationCenterY=.5}};yL.defaultPathData="M0.50245 0.53745C0.481767 0.53745 0.465 0.520683 0.465 0.5C0.465 0.479317 0.481767 0.46255 0.50245 0.46255L1 0.500012L0.50245 0.53745Z";var{BaseProperties:YD,SeriesTooltip:WIt,SeriesProperties:YIt,PropertiesArray:rR,Validate:wt,BOOLEAN:AK,COLOR_STRING:Hc,COLOR_STRING_ARRAY:$It,FUNCTION:KIt,LINE_DASH:$D,NUMBER:fp,OBJECT_ARRAY:lR,OBJECT:Wc,POSITIVE_NUMBER:$o,RATIO:kr,STRING:cR,UNION:XIt,Label:ZIt}=z,qIt=XIt(["inside","outside","middle"],"a placement"),DK=class extends ZIt{};A([wt(fp,{optional:!0})],DK.prototype,"spacing");var us=class extends YD{constructor(){super(...arguments),this.label=new DK}};A([wt(cR,{optional:!0})],us.prototype,"text");A([wt(fp,{optional:!0})],us.prototype,"value");A([wt(E6,{optional:!0})],us.prototype,"shape");A([wt(qIt,{optional:!0})],us.prototype,"placement");A([wt(fp,{optional:!0})],us.prototype,"spacing");A([wt($o,{optional:!0})],us.prototype,"size");A([wt(fp,{optional:!0})],us.prototype,"rotation");A([wt(Hc,{optional:!0})],us.prototype,"fill");A([wt(kr,{optional:!0})],us.prototype,"fillOpacity");A([wt(Hc,{optional:!0})],us.prototype,"stroke");A([wt($o,{optional:!0})],us.prototype,"strokeWidth");A([wt(kr,{optional:!0})],us.prototype,"strokeOpacity");A([wt($D,{optional:!0})],us.prototype,"lineDash");A([wt($o,{optional:!0})],us.prototype,"lineDashOffset");A([wt(Wc)],us.prototype,"label");var Lr=class extends YD{constructor(){super(...arguments),this.enabled=!0,this.fills=new rR(z.StopProperties),this.fillMode="continuous",this.fillOpacity=1,this.stroke="black",this.strokeWidth=0,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0}};A([wt(AK)],Lr.prototype,"enabled");A([wt(lR)],Lr.prototype,"fills");A([wt(RD)],Lr.prototype,"fillMode");A([wt(Hc,{optional:!0})],Lr.prototype,"fill");A([wt(kr)],Lr.prototype,"fillOpacity");A([wt(Hc,{optional:!0})],Lr.prototype,"stroke");A([wt($o,{optional:!0})],Lr.prototype,"strokeWidth");A([wt(kr)],Lr.prototype,"strokeOpacity");A([wt($D)],Lr.prototype,"lineDash");A([wt($o)],Lr.prototype,"lineDashOffset");var Nr=class extends YD{constructor(){super(...arguments),this.fills=new rR(z.StopProperties),this.fillMode="continuous",this.fillOpacity=1,this.stroke="black",this.strokeWidth=0,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.defaultFill="black"}};A([wt(lR)],Nr.prototype,"fills");A([wt(RD)],Nr.prototype,"fillMode");A([wt(Hc,{optional:!0})],Nr.prototype,"fill");A([wt(kr)],Nr.prototype,"fillOpacity");A([wt(Hc)],Nr.prototype,"stroke");A([wt($o)],Nr.prototype,"strokeWidth");A([wt(kr)],Nr.prototype,"strokeOpacity");A([wt($D)],Nr.prototype,"lineDash");A([wt($o)],Nr.prototype,"lineDashOffset");A([wt(Hc)],Nr.prototype,"defaultFill");var Er=class extends YD{constructor(){super(...arguments),this.enabled=!0,this.spacing=0,this.fill="black",this.fillOpacity=1,this.stroke="black",this.strokeWidth=0,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0}};A([wt(AK)],Er.prototype,"enabled");A([wt(kr,{optional:!0})],Er.prototype,"radiusRatio");A([wt(fp)],Er.prototype,"spacing");A([wt(Hc)],Er.prototype,"fill");A([wt(kr)],Er.prototype,"fillOpacity");A([wt(Hc)],Er.prototype,"stroke");A([wt($o)],Er.prototype,"strokeWidth");A([wt(kr)],Er.prototype,"strokeOpacity");A([wt($D)],Er.prototype,"lineDash");A([wt($o)],Er.prototype,"lineDashOffset");var IK=class extends hl{};A([wt(cR,{optional:!0})],IK.prototype,"text");var TK=class extends Wb{};A([wt(cR,{optional:!0})],TK.prototype,"text");var Sn=class extends YIt{constructor(){super(...arguments),this.segmentation=new Yb,this.defaultColorRange=[],this.targets=new rR(us),this.defaultTarget=new us,this.outerRadiusRatio=1,this.innerRadiusRatio=1,this.cornerRadius=0,this.cornerMode="container",this.spacing=0,this.scale=new Nr,this.bar=new Lr,this.needle=new Er,this.label=new IK,this.secondaryLabel=new TK,this.tooltip=new WIt}isValid(t){if(!super.isValid(t))return!1;const{outerRadius:e,innerRadius:i}=this;return e==null!=(i==null)?(ve.warnOnce("Either [innerRadius] and [outerRadius] must both be set, or neither can be set."),!1):!0}};A([wt(fp)],Sn.prototype,"value");A([wt(Wc)],Sn.prototype,"segmentation");A([wt($It)],Sn.prototype,"defaultColorRange");A([wt(lR)],Sn.prototype,"targets");A([wt(Wc)],Sn.prototype,"defaultTarget");A([wt(kr)],Sn.prototype,"outerRadiusRatio");A([wt(kr)],Sn.prototype,"innerRadiusRatio");A([wt($o,{optional:!0})],Sn.prototype,"outerRadius");A([wt($o,{optional:!0})],Sn.prototype,"innerRadius");A([wt($o)],Sn.prototype,"cornerRadius");A([wt(O6)],Sn.prototype,"cornerMode");A([wt(fp)],Sn.prototype,"spacing");A([wt(Wc)],Sn.prototype,"scale");A([wt(Wc)],Sn.prototype,"bar");A([wt(Wc)],Sn.prototype,"needle");A([wt(KIt,{optional:!0})],Sn.prototype,"itemStyler");A([wt(Wc)],Sn.prototype,"label");A([wt(Wc)],Sn.prototype,"secondaryLabel");A([wt(Wc)],Sn.prototype,"tooltip");var{SectorBox:uR}=z;function QIt(t){const{startAngle:e,endAngle:i,clipStartAngle:n,clipEndAngle:s,innerRadius:a,outerRadius:o}=t;if(!(n==null||s==null))return new uR(Math.max(n,e),Math.min(s,i),a,o)}function CK(t,e,i){return Math.max(t,i.startAngle)<=Math.min(e,i.endAngle)}function V1(t){return t.clipStartAngle!=null&&t.clipEndAngle!=null}function U1(t,e){const{clipStartAngle:i,clipEndAngle:n,innerRadius:s,outerRadius:a}=t;return new uR(i,e?i:n,s,a)}function J3(t,e){const i=t?"initial":"update";return{node:{fromFn(a,o){const r=a.previousDatum;let{startAngle:l,endAngle:c}=r??o;const h=r!=null&&V1(r)?U1(r,t):void 0,p=V1(o)?U1(o,t):void 0;let f;return h!=null&&p!=null?f=h:h==null&&p!=null?(f=p,l=o.startAngle,c=o.endAngle):h!=null&&p==null?(f=void 0,l=o.startAngle,c=o.endAngle):t&&(c=l),{startAngle:l,endAngle:c,clipSector:f,phase:i}},toFn(a,o){const{startAngle:r,endAngle:l}=o;let c;return V1(o)&&(c=U1(o,!1)),{startAngle:r,endAngle:l,clipSector:c}},applyFn(a,o){const{startAngle:r,endAngle:l}=o;let{clipSector:c}=o;c!=null&&(c=new uR(Math.max(r,c.startAngle),Math.min(l,c.endAngle),c.innerRadius,c.outerRadius));const h=c==null||CK(r,l,c);a.startAngle=r,a.endAngle=l,a.clipSector=c,a.visible=h}},needle:{fromFn(a){let{angle:o}=a.previousDatum??a.datum;return t&&(o=e),{rotation:o,phase:i}},toFn(a,o){const{angle:r}=o;return{rotation:r}}}}}function H1(t,e){const{startAngle:i,endAngle:n}=e,s=QIt(e),a=s==null||CK(i,n,s);return{startAngle:i,endAngle:n,clipSector:s,visible:a}}function tG(t,e){const{angle:i}=e;return{rotation:i}}var JIt={top:0,middle:.5,bottom:1};function tTt(t,e,i,n,s){const{padding:a,textAlign:o,verticalAlign:r}=i;let l,c;if(e.each((T,k)=>{k.label==="primary"?l=k:k.label==="secondary"&&(c=k)}),l==null)return;const h=zx(t,l,s==null?void 0:s.label);if(h==null)return;const p=c!=null?zx(t,c,s==null?void 0:s.secondaryLabel):void 0,f={padding:a},y=o==="center"?2:1,m=r==="middle"?2:1,b=T=>({width:Math.sqrt(Math.max(n**2-(T/m)**2,0))*y,height:Math.min(T,m*n),meta:null});let v,S,D;if(c!=null&&p!=null){const T=v6(h,l,p,c,f,b);v=T==null?void 0:T.label,S=T==null?void 0:T.secondaryLabel,D=(T==null?void 0:T.height)??0}else{const T=Bx(h,l,f,b);v=T==null?void 0:T[0],S=void 0,D=(T==null?void 0:T[0].height)??0}const I=D*JIt[r];e.each((T,k)=>{let E;if(k.label==="primary"?E=v:k.label==="secondary"&&(E=S),E==null){T.visible=!1;return}T.visible=!0,T.text=E.text,T.fontSize=E.fontSize,T.lineHeight=E.lineHeight,T.textAlign=o,T.textBaseline="middle";const O=k.label==="primary"?E.height/2:D-E.height/2;T.y=k.centerY+O-I,T.x=k.centerX})}var{fromToMotion:Am,resetMotion:eG,SeriesNodePickMode:iG,StateMachine:eTt,createDatumId:W1,ChartAxisDirection:Tu,normalizeAngle360:nG,normalizeAngle360Inclusive:sG,toDegrees:iTt,toRadians:nTt,BBox:sTt,Group:pd,PointerEvents:aTt,Selection:fd,Sector:oTt,SectorBox:rTt,Text:aG,ConicGradient:lTt,Marker:cTt,getColorStops:uTt}=z,hTt={inside:90,middle:0,outside:-90},dTt=[{textAlign:"left",textBaseline:"top"},{textAlign:"right",textBaseline:"top"},{textAlign:"right",textBaseline:"bottom"},{textAlign:"left",textBaseline:"bottom"}],pTt=[{textAlign:"right",textBaseline:"bottom"},{textAlign:"left",textBaseline:"bottom"},{textAlign:"left",textBaseline:"top"},{textAlign:"right",textBaseline:"top"}],hR=class extends z.Series{constructor(t){super({moduleCtx:t,useLabelLayer:!0,pickModes:[iG.EXACT_SHAPE_MATCH,iG.NEAREST_NODE]}),this.canHaveAxes=!0,this.properties=new Sn,this.centerX=0,this.centerY=0,this.radius=0,this.textAlign="center",this.verticalAlign="middle",this.scaleGroup=this.contentGroup.appendChild(new pd({name:"scaleGroup"})),this.itemGroup=this.contentGroup.appendChild(new pd({name:"itemGroup"})),this.itemNeedleGroup=this.contentGroup.appendChild(new pd({name:"itemNeedleGroup"})),this.itemTargetGroup=this.contentGroup.appendChild(new pd({name:"itemTargetGroup"})),this.itemTargetLabelGroup=this.contentGroup.appendChild(new pd({name:"itemTargetLabelGroup"})),this.itemLabelGroup=this.contentGroup.appendChild(new pd({name:"itemLabelGroup"})),this.highlightTargetGroup=this.highlightGroup.appendChild(new pd({name:"itemTargetLabelGroup"})),this.scaleSelection=fd.select(this.scaleGroup,()=>this.nodeFactory()),this.datumSelection=fd.select(this.itemGroup,()=>this.nodeFactory()),this.needleSelection=fd.select(this.itemNeedleGroup,yL),this.targetSelection=fd.select(this.itemTargetGroup,()=>this.markerFactory()),this.targetLabelSelection=fd.select(this.itemTargetLabelGroup,aG),this.labelSelection=fd.select(this.itemLabelGroup,aG),this.highlightTargetSelection=fd.select(this.highlightTargetGroup,()=>this.markerFactory()),this.datumUnion=new I6,this.animationState=new eTt("empty",{empty:{update:{target:"ready",action:()=>this.animateEmptyUpdateReady()},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",resize:()=>this.animateReadyResize(),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:()=>this.animateWaitingUpdateReady()},reset:"empty",skip:"ready"},clearing:{update:{target:"empty"},reset:"empty",skip:"ready"}}),this.scaleGroup.pointerEvents=aTt.None}get maximumRadius(){return this.properties.outerRadius}get minimumRadius(){return this.properties.outerRadius}get hasData(){return this.properties.value!=null}nodeFactory(){return new oTt}markerFactory(){const t=new cTt;return t.size=1,t}processData(){this.nodeDataRefresh=!0,this.animationState.transition("updateData")}formatLabel(t){return C6(t,this.axes[Tu.X])}createConicGradient(t,e){const{centerX:i,centerY:n,radius:s}=this,{domain:a,range:o}=this.axes[Tu.X].scale,[r,l]=o,{defaultColorRange:c}=this.properties,h=nG((r+l)/2+Math.PI),p=sG(l-r),f=uTt(t,c,a,e).map(({color:y,offset:m})=>(m=Math.min(Math.max(m,0),1),m=(r+p*m-h)/(2*Math.PI),m=(m%1+1)%1,{offset:m,color:y}));return new lTt("oklch",f,iTt(h)-90,new sTt(i-s,n-s,2*s,2*s))}getTargets(){const{properties:t}=this,e=t.defaultTarget;return Array.from(t.targets).map(i=>{const{text:n=e.text,value:s=e.value??0,shape:a=e.shape??"triangle",rotation:o=e.rotation??0,strokeWidth:r=e.strokeWidth??0,placement:l=e.placement??"middle",spacing:c=e.spacing??0,size:h=e.size??0,fill:p=e.fill??"black",fillOpacity:f=e.fillOpacity??1,stroke:y=e.stroke??"black",strokeOpacity:m=e.strokeOpacity??1,lineDash:b=e.lineDash??[0],lineDashOffset:v=e.lineDashOffset??0}=i,{enabled:S=e.label.enabled,color:D=e.label.color??"black",fontStyle:I=e.label.fontStyle??"normal",fontWeight:T=e.label.fontWeight??"normal",fontSize:k=e.label.fontSize,fontFamily:E=e.label.fontFamily,spacing:O=e.label.spacing??0}=i.label;return{text:n,value:s,shape:a,placement:l,spacing:c,size:h,rotation:o,fill:p,fillOpacity:f,stroke:y,strokeWidth:r,strokeOpacity:m,lineDash:b,lineDashOffset:v,label:{enabled:S,color:D,fontStyle:I,fontWeight:T,fontSize:k,fontFamily:E,spacing:O}}})}getTargetRadius(t){const{radius:e,properties:i}=this,{innerRadiusRatio:n,outerRadiusRatio:s}=i,{placement:a,spacing:o,size:r}=t,l=e*s,c=e*n;switch(a){case"inside":return Math.max(c-o-r/2,0);case"outside":return l+o+r/2;default:return(c+l)/2}}getTargetLabel(t){const i=this.axes[Tu.X].scale,{value:n,size:s,placement:a,label:o}=t,{spacing:r,color:l,fontStyle:c,fontWeight:h,fontSize:p,fontFamily:f}=o,y=void 0,m=i.convert(n),b=nG(m)/(Math.PI/2)|0,v=s/2+r;let S,D,I,T;switch(a){case"outside":({textAlign:S,textBaseline:D}=dTt[b]),I=v*Math.cos(m),T=v*Math.sin(m);break;case"inside":({textAlign:S,textBaseline:D}=pTt[b]),I=-v*Math.cos(m),T=-v*Math.sin(m);break;default:S="center",D="bottom",I=0,T=-v;break}return{offsetX:I,offsetY:T,fill:l,textAlign:S,textBaseline:D,fontStyle:c,fontWeight:h,fontSize:p,fontFamily:f,lineHeight:y}}createNodeData(){const{id:t,properties:e,radius:i,centerX:n,centerY:s}=this;if(!e.isValid())return;const a=this.axes[Tu.X];if(a==null)return;const{value:o,innerRadiusRatio:r,outerRadiusRatio:l,segmentation:c,cornerRadius:h,cornerMode:p,needle:f,bar:y,scale:m,label:b,secondaryLabel:v}=e,{outerRadius:S=i*l,innerRadius:D=i*r}=e,I=this.getTargets(),{domain:T}=a.scale,k=[],E=[],O=[],B=[],R=[],[L,F]=a.range,j=a.scale,G=p==="item",W=j.convert(T[0]),Z=j.convert(o),U=Math.ceil(sG(Z-W)*i);let K=c.enabled?c.interval.getSegments(a.scale,U):void 0;const $=y.enabled?y.fill??this.createConicGradient(y.fills,y.fillMode):"rgba(0,0,0,0)",X=m.fill??(y.enabled&&m.fills.length===0?m.defaultFill:void 0)??this.createConicGradient(m.fills,m.fillMode);if(K==null&&G){const[_,V]=T,Y={value:o,segmentStart:_,segmentEnd:V},q=Math.min(h,(S-D)/2)/((D+S)/2);k.push({series:this,itemId:"value",datum:Y,datumIndex:{type:0},type:0,centerX:n,centerY:s,outerRadius:S,innerRadius:D,startAngle:W-q,endAngle:Z+q,clipStartAngle:void 0,clipEndAngle:void 0,startCornerRadius:h,endCornerRadius:h,fill:$}),R.push({series:this,itemId:"scale",datum:Y,datumIndex:{type:0},type:0,centerX:n,centerY:s,outerRadius:S,innerRadius:D,startAngle:L-q,endAngle:F+q,clipStartAngle:void 0,clipEndAngle:void 0,startCornerRadius:h,endCornerRadius:h,fill:X})}else{K??(K=T);for(let _=0;_<K.length-1;_++){const V=K[_],Y=K[_+1],J={value:o,segmentStart:V,segmentEnd:Y},q=_===0,nt=_===K.length-2,st=j.convert(V),rt=j.convert(Y);k.push({series:this,itemId:`value-${_}`,datum:J,datumIndex:{type:0},type:0,centerX:n,centerY:s,outerRadius:S,innerRadius:D,startAngle:st,endAngle:rt,clipStartAngle:W,clipEndAngle:Z,startCornerRadius:G||q?h:0,endCornerRadius:G||nt?h:0,fill:$}),R.push({series:this,itemId:`scale-${_}`,datum:J,datumIndex:{type:0},type:0,centerX:n,centerY:s,outerRadius:S,innerRadius:D,startAngle:st,endAngle:rt,clipStartAngle:void 0,clipEndAngle:void 0,startCornerRadius:G||q?h:0,endCornerRadius:G||nt?h:0,fill:X})}}if(!f.enabled&&b.enabled){const{text:_,color:V,fontSize:Y,minimumFontSize:J,fontStyle:q,fontWeight:nt,fontFamily:st,lineHeight:rt,formatter:ct=dt=>this.formatLabel(dt.value)}=b;B.push({label:"primary",centerX:n,centerY:s,text:_,value:o,fill:V,fontSize:Y,minimumFontSize:J,fontStyle:q,fontWeight:nt,fontFamily:st,lineHeight:rt,formatter:ct})}if(!f.enabled&&v.enabled){const{text:_,color:V,fontSize:Y,minimumFontSize:J,fontStyle:q,fontWeight:nt,fontFamily:st,lineHeight:rt,formatter:ct}=v;B.push({label:"secondary",centerX:n,centerY:s,text:_,value:o,fill:V,fontSize:Y,minimumFontSize:J,fontStyle:q,fontWeight:nt,fontFamily:st,lineHeight:rt,formatter:ct})}if(f.enabled){let _=f.radiusRatio!=null?i*f.radiusRatio:D;_=Math.max(_-f.spacing,0);const V=j.convert(o);O.push({centerX:n,centerY:s,radius:_,angle:V,series:this})}for(let _=0;_<I.length;_+=1){const V=I[_],{value:Y,text:J,size:q,shape:nt,fill:st,fillOpacity:rt,stroke:ct,strokeWidth:dt,strokeOpacity:ht,lineDash:yt,lineDashOffset:pt}=V;if(Y<Math.min(...T)||Y>Math.max(...T))continue;const vt=this.getTargetRadius(V),At=j.convert(Y),bt=nTt(V.rotation+hTt[V.placement]);E.push({series:this,itemId:`target-${_}`,midPoint:{x:vt*Math.cos(At)+n,y:vt*Math.sin(At)+s},datum:{value:Y},datumIndex:{type:1,index:_},type:1,value:Y,text:J,centerX:n,centerY:s,shape:nt,radius:vt,angle:At,rotation:bt,size:q,fill:st,fillOpacity:rt,stroke:ct,strokeOpacity:ht,strokeWidth:dt,lineDash:yt,lineDashOffset:pt,label:this.getTargetLabel(V)})}return{itemId:t,nodeData:k,needleData:O,targetData:E,labelData:B,scaleData:R}}updateSelections(t){(this.nodeDataRefresh||t)&&(this.contextNodeData=this.createNodeData(),this.nodeDataRefresh=!1)}highlightDatum(t){if(t!=null&&t.series===this&&t.type===1)return t}update({seriesRect:t}){var b,v,S,D,I;const{datumSelection:e,labelSelection:i,needleSelection:n,targetSelection:s,targetLabelSelection:a,scaleSelection:o,highlightTargetSelection:r}=this,l=this.checkResize(t);this.updateSelections(l),this.contentGroup.visible=this.visible,this.contentGroup.opacity=this.getOpacity();const c=((b=this.contextNodeData)==null?void 0:b.nodeData)??[],h=((v=this.contextNodeData)==null?void 0:v.labelData)??[],p=((S=this.contextNodeData)==null?void 0:S.needleData)??[],f=((D=this.contextNodeData)==null?void 0:D.targetData)??[],y=((I=this.contextNodeData)==null?void 0:I.scaleData)??[],m=this.highlightDatum(this.ctx.highlightManager.getActiveHighlight());this.scaleSelection=this.updateScaleSelection({scaleData:y,scaleSelection:o}),this.updateScaleNodes({scaleSelection:o}),this.needleSelection=this.updateNeedleSelection({needleData:p,needleSelection:n}),this.updateNeedleNodes({needleSelection:n}),this.targetSelection=this.updateTargetSelection({targetData:f,targetSelection:s}),this.updateTargetNodes({targetSelection:s,isHighlight:!1}),this.targetLabelSelection=this.updateTargetLabelSelection({targetData:f,targetLabelSelection:a}),this.updateTargetLabelNodes({targetLabelSelection:a}),this.datumSelection=this.updateDatumSelection({nodeData:c,datumSelection:e}),this.updateDatumNodes({datumSelection:e}),this.labelSelection=this.updateLabelSelection({labelData:h,labelSelection:i}),this.updateLabelNodes({labelSelection:i}),this.highlightTargetSelection=this.updateTargetSelection({targetData:m!=null?[m]:[],targetSelection:r}),this.updateTargetNodes({targetSelection:r,isHighlight:!0}),l&&this.animationState.transition("resize"),this.animationState.transition("update")}updateDatumSelection(t){return t.datumSelection.update(t.nodeData,void 0,e=>W1(t.nodeData.length,e.itemId))}updateDatumNodes(t){const{datumSelection:e}=t,{ctx:i,properties:n}=this,{bar:s,segmentation:a}=n,o=a.spacing??0,{fillOpacity:r,stroke:l,strokeOpacity:c,lineDash:h,lineDashOffset:p}=s,f=this.getStrokeWidth(s.strokeWidth),y=i.animationManager.isSkipped();e.each((m,b)=>{const{centerX:v,centerY:S,innerRadius:D,outerRadius:I,startCornerRadius:T,endCornerRadius:k,fill:E}=b;m.centerX=v,m.centerY=S,m.innerRadius=D,m.outerRadius=I,m.pointerEvents=this.properties.bar.enabled?z.PointerEvents.All:z.PointerEvents.None,m.fill=E,m.fillOpacity=r,m.stroke=l,m.strokeOpacity=c,m.strokeWidth=f,m.lineDash=h,m.lineDashOffset=p,m.startOuterCornerRadius=T,m.startInnerCornerRadius=T,m.endOuterCornerRadius=k,m.endInnerCornerRadius=k,m.radialEdgeInset=(o+m.strokeWidth)/2,m.concentricEdgeInset=m.strokeWidth/2,(y||m.previousDatum==null)&&m.setProperties(H1(m,b))}),this.datumUnion.update(e,this.itemGroup,z.Sector,(m,b,v)=>{var S;m.clipSector??(m.clipSector=new rTt(NaN,NaN,NaN,NaN)),m.centerX=b.centerX,m.centerY=b.centerY,m.outerRadius=m.clipSector.outerRadius=b.outerRadius,m.innerRadius=m.clipSector.innerRadius=b.innerRadius,m.startAngle=m.clipSector.startAngle=b.startAngle,m.startInnerCornerRadius=b.startInnerCornerRadius,m.startOuterCornerRadius=b.startOuterCornerRadius,m.endAngle=v.endAngle,m.clipSector.endAngle=((S=v.clipSector)==null?void 0:S.endAngle)??v.endAngle,m.endInnerCornerRadius=v.endInnerCornerRadius,m.endOuterCornerRadius=v.endOuterCornerRadius,m.pointerEvents=z.PointerEvents.None})}updateScaleSelection(t){return t.scaleSelection.update(t.scaleData,void 0,e=>W1(t.scaleData.length,e.itemId))}updateScaleNodes(t){const{scaleSelection:e}=t,{scale:i,segmentation:n}=this.properties,s=n.spacing??0,{fillOpacity:a,stroke:o,strokeOpacity:r,strokeWidth:l,lineDash:c,lineDashOffset:h}=i;e.each((p,f)=>{const{centerX:y,centerY:m,innerRadius:b,outerRadius:v,startCornerRadius:S,endCornerRadius:D,fill:I}=f;p.centerX=y,p.centerY=m,p.innerRadius=b,p.outerRadius=v,p.fill=I,p.fillOpacity=a,p.stroke=o,p.strokeOpacity=r,p.strokeWidth=l,p.lineDash=c,p.lineDashOffset=h,p.startOuterCornerRadius=S,p.startInnerCornerRadius=S,p.endOuterCornerRadius=D,p.endInnerCornerRadius=D,p.radialEdgeInset=(s+p.strokeWidth)/2,p.concentricEdgeInset=p.strokeWidth/2,p.setProperties(H1(p,f))})}updateNeedleSelection(t){return t.needleSelection.update(t.needleData,void 0,()=>W1([]))}updateNeedleNodes(t){const{needleSelection:e}=t,{fill:i,fillOpacity:n,stroke:s,strokeOpacity:a,strokeWidth:o,lineDash:r,lineDashOffset:l}=this.properties.needle,c=this.ctx.animationManager.isSkipped();e.each((h,p)=>{const{centerX:f,centerY:y,radius:m}=p,b=m*2;h.d=yL.defaultPathData,h.fill=i,h.fillOpacity=n,h.stroke=s,h.strokeOpacity=a,h.strokeWidth=o/b,h.lineDash=r.map(v=>v/b),h.lineDashOffset=l/b,h.translationX=f,h.translationY=y,h.scalingX=b,h.scalingY=b,c&&h.setProperties(tG(h,p))})}updateTargetSelection(t){return t.targetSelection.update(t.targetData,void 0,e=>e.itemId)}updateTargetNodes(t){const{targetSelection:e,isHighlight:i}=t,n=i?this.properties.highlightStyle.item:void 0;e.each((s,a)=>{const{centerX:o,centerY:r,angle:l,radius:c,shape:h,size:p,rotation:f,fill:y,fillOpacity:m,stroke:b,strokeOpacity:v,strokeWidth:S,lineDash:D,lineDashOffset:I}=a;s.shape=h==="line"?k6:h,s.size=p,s.fill=(n==null?void 0:n.fill)??y,s.fillOpacity=(n==null?void 0:n.fillOpacity)??m,s.stroke=(n==null?void 0:n.stroke)??b,s.strokeOpacity=(n==null?void 0:n.strokeOpacity)??v,s.strokeWidth=(n==null?void 0:n.strokeWidth)??S,s.lineDash=(n==null?void 0:n.lineDash)??D,s.lineDashOffset=(n==null?void 0:n.lineDashOffset)??I,s.translationX=o+c*Math.cos(l),s.translationY=r+c*Math.sin(l),s.rotation=l+f})}updateTargetLabelSelection(t){return t.targetLabelSelection.update(t.targetData,void 0,e=>e.itemId)}updateTargetLabelNodes(t){const{targetLabelSelection:e}=t;e.each((i,n)=>{const{centerX:s,centerY:a,radius:o,angle:r,text:l}=n,{offsetX:c,offsetY:h,fill:p,fontStyle:f,fontWeight:y,fontSize:m,fontFamily:b,textAlign:v,textBaseline:S}=n.label;if(l==null){i.visible=!1;return}i.visible=!0,i.x=s+o*Math.cos(r)+c,i.y=a+o*Math.sin(r)+h,i.text=l,i.fill=p,i.fontStyle=f,i.fontWeight=y,i.fontSize=m,i.fontFamily=b,i.textAlign=v,i.textBaseline=S})}updateLabelSelection(t){return t.labelSelection.update(t.labelData,void 0,e=>e.label)}updateLabelNodes(t){const{labelSelection:e}=t,i=this.ctx.animationManager.isSkipped();e.each((n,s)=>{n.fill=s.fill,n.fontStyle=s.fontStyle,n.fontWeight=s.fontWeight,n.fontFamily=s.fontFamily}),(i||this.labelsHaveExplicitText())&&this.formatLabelText()}labelsHaveExplicitText(){for(const{datum:t}of this.labelSelection)if(t.text==null)return!1;return!0}formatLabelText(t){if(this.axes[Tu.X]==null)return;const{labelSelection:i,radius:n,textAlign:s,verticalAlign:a}=this,{spacing:o,innerRadiusRatio:r}=this.properties;tTt(this,i,{padding:o,textAlign:s,verticalAlign:a},n*r,t)}resetAllAnimation(){this.ctx.animationManager.stopByAnimationGroupId(this.id),eG([this.datumSelection],H1),eG([this.needleSelection],tG),this.formatLabelText()}resetAnimation(t){t==="initial"?this.animationState.transition("reset"):t==="ready"&&this.animationState.transition("skip")}animateLabelText(t={}){const{animationManager:e}=this.ctx;let i,n,s,a;if(this.labelSelection.each((o,r)=>{var l,c;o.opacity=1,r.label==="primary"?(i=((l=o.previousDatum)==null?void 0:l.value)??t.from??r.value,n=r.value):r.label==="secondary"&&(s=((c=o.previousDatum)==null?void 0:c.value)??t.from??r.value,a=r.value)}),!this.labelsHaveExplicitText())if(n==null||a==null)this.formatLabelText();else if(i===n&&s===a)this.formatLabelText({label:n,secondaryLabel:a});else{const o=`${this.id}_labels`;e.animate({id:o,groupId:"label",from:{label:i,secondaryLabel:s},to:{label:n,secondaryLabel:a},phase:t.phase??"update",onUpdate:r=>this.formatLabelText(r)})}}animateEmptyUpdateReady(){var n,s;const{animationManager:t}=this.ctx,{node:e,needle:i}=J3(!0,((n=this.axes[Tu.X])==null?void 0:n.range[0])??0);Am(this.id,"node",t,[this.datumSelection],e,(a,o)=>o.itemId),Am(this.id,"needle",t,[this.needleSelection],i,()=>"needle"),Am(this.id,"label",t,[this.labelSelection],T6,(a,o)=>o.label),this.animateLabelText({from:((s=this.axes[Tu.X])==null?void 0:s.scale.domain[0])??0,phase:"initial"})}animateWaitingUpdateReady(){var n;const{animationManager:t}=this.ctx,{node:e,needle:i}=J3(!1,((n=this.axes[Tu.X])==null?void 0:n.range[0])??0);Am(this.id,"node",t,[this.datumSelection],e,(s,a)=>a.itemId),Am(this.id,"needle",t,[this.needleSelection],i,()=>"needle"),this.animateLabelText()}animateReadyResize(){this.resetAllAnimation()}getSeriesDomain(){return[NaN,NaN]}getSeriesRange(t,e){return[NaN,NaN]}getLegendData(){return[]}getTooltipContent(t){const{id:e,properties:i}=this,{tooltip:n}=i;if(!i.isValid())return;const{value:s=i.value,text:a=i.label.text}=w6(t);return n.formatTooltip({data:[{label:a,fallbackLabel:"Value",value:this.formatLabel(s)}]},{seriesId:e,title:void 0,datum:void 0,value:s})}pickNodeClosestDatum(t){return L6(this,t)}pickFocus(t){return N6(this,t)}getCaptionText(){const{value:t}=this.properties,e=[];return e.push(this.formatLabel(t)),this.labelSelection.each((i,n)=>{const s=zx(this,n);s!=null&&e.push(s)}),e.join(". ")}};hR.className="RadialGaugeSeries";hR.type="radial-gauge";var{FONT_SIZE_RATIO:fTt,ThemeSymbols:{DEFAULT_HIERARCHY_FILLS:gTt,DEFAULT_GAUGE_SERIES_COLOR_RANGE:yTt},ThemeConstants:{POLAR_AXIS_TYPE:Y1}}=z,mTt={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["gauge"],identifier:"radial-gauge",moduleFactory:t=>new hR(t),tooltipDefaults:{range:10},defaultAxes:[{type:Y1.ANGLE_NUMBER,line:{enabled:!1}},{type:Y1.RADIUS_NUMBER,line:{enabled:!1}}],themeTemplate:{minWidth:200,minHeight:200,tooltip:{enabled:!1},series:{outerRadiusRatio:1,innerRadiusRatio:.8,bar:{strokeWidth:0},segmentation:{enabled:!1,interval:{},spacing:2},defaultTarget:{fill:{$ref:"foregroundColor"},stroke:{$ref:"foregroundColor"},size:10,shape:"triangle",placement:"outside",spacing:5,label:{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$ref:"textColor"},spacing:5}},needle:{enabled:!1,fill:{$ref:"foregroundColor"},spacing:10},label:{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:56,minimumFontSize:18/56,fontFamily:{$ref:"fontFamily"},color:{$ref:"textColor"}},secondaryLabel:{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:[fTt.LARGE]},minimumFontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$ref:"subtleTextColor"}}},axes:{[Y1.ANGLE_NUMBER]:{startAngle:270,endAngle:450,nice:!1,line:{enabled:!1}}}},paletteFactory(t){const{takeColors:e,colorsCount:i,userPalette:n,themeTemplateParameters:s}=t,{fills:a}=e(i),o=s.get(yTt),r=s.get(gTt),l=n==="inbuilt"?o:[a[0],a[1]];return{scale:{defaultFill:r==null?void 0:r[1],stroke:r==null?void 0:r[2]},defaultColorRange:D6(l)}}},xTt=1e3;function oG(t,e,i,n,s,a){const o=t[a];if(o==null)return!1;const r=DD(o,e,i),l=ID(r,s);return a===n[l+ma]}function rG(t,e,i,n,s,a){const o=t[a];if(o==null)return!1;const r=DD(o,e,i),l=ID(r,s);return a===n[l+ya]}function bTt(t,e,i,n){if(t.length<xTt)return;const[s,a]=Rb(n);let o=wb(t);const{indexData:r,valueData:l}=Pb(t,e,i,s,a,o);let c=[],h=[];for(let f=0;f<t.length;f+=1)oG(t,s,a,r,o,f)&&c.push(f),rG(t,s,a,r,o,f)&&h.push(f);const p=[{maxRange:o,topIndices:c,bottomIndices:h}];for(;o>64;)({maxRange:o}=Bb(r,l,o,{inPlace:!0})),c=c.filter(oG.bind(null,t,s,a,r,o)),h=h.filter(rG.bind(null,t,s,a,r,o)),p.push({maxRange:o,topIndices:c,bottomIndices:h});return p.reverse(),p}var{CartesianSeriesProperties:vTt,InterpolationProperties:STt,SeriesMarker:MTt,SeriesTooltip:ATt,Validate:_i,BOOLEAN:DTt,COLOR_STRING:kK,LINE_DASH:ITt,OBJECT:qb,PLACEMENT:TTt,POSITIVE_NUMBER:dR,RATIO:LK,STRING:gp,DropShadow:CTt,Label:kTt}=z,pR=class extends kTt{constructor(){super(...arguments),this.placement="outside",this.padding=6}};A([_i(TTt)],pR.prototype,"placement");A([_i(dR)],pR.prototype,"padding");var nn=class extends vTt{constructor(){super(...arguments),this.fill="#99CCFF",this.fillOpacity=1,this.stroke="#99CCFF",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.interpolation=new STt,this.shadow=new CTt().set({enabled:!1}),this.marker=new MTt,this.label=new pR,this.tooltip=new ATt,this.connectMissingData=!1}};A([_i(gp)],nn.prototype,"xKey");A([_i(gp)],nn.prototype,"yLowKey");A([_i(gp)],nn.prototype,"yHighKey");A([_i(gp,{optional:!0})],nn.prototype,"xName");A([_i(gp,{optional:!0})],nn.prototype,"yName");A([_i(gp,{optional:!0})],nn.prototype,"yLowName");A([_i(gp,{optional:!0})],nn.prototype,"yHighName");A([_i(kK)],nn.prototype,"fill");A([_i(LK)],nn.prototype,"fillOpacity");A([_i(kK)],nn.prototype,"stroke");A([_i(dR)],nn.prototype,"strokeWidth");A([_i(LK)],nn.prototype,"strokeOpacity");A([_i(ITt)],nn.prototype,"lineDash");A([_i(dR)],nn.prototype,"lineDashOffset");A([_i(qb)],nn.prototype,"interpolation");A([_i(qb)],nn.prototype,"shadow");A([_i(qb)],nn.prototype,"marker");A([_i(qb)],nn.prototype,"label");A([_i(qb)],nn.prototype,"tooltip");A([_i(DTt)],nn.prototype,"connectMissingData");var{CollapseMode:gS,isScaleValid:lG,pairUpSpans:yS,prepareAreaFillAnimationFns:LTt,plotInterpolatedLinePathStroke:Tf,prepareLinePathPropertyAnimation:NTt,areScalingEqual:cG}=z;function ETt(t,e,i,n){const s=(l,c)=>{Tf(l,c,e.removed),Tf(l,c,i.removed)},a=(l,c)=>{Tf(l,c,e.moved),Tf(l,c,i.moved)},o=(l,c)=>{Tf(l,c,e.added),Tf(l,c,i.added)},r=NTt(t,n);return{status:t,path:{addPhaseFn:o,updatePhaseFn:a,removePhaseFn:s},pathProperties:r}}function OTt(t,e,i){var m,b;const n=((m=t.scales.x)==null?void 0:m.type)==="category",s=((b=e.scales.x)==null?void 0:b.type)==="category";if(n!==s||!lG(t.scales.x)||!lG(e.scales.x))return;let a="updated";e.visible&&!t.visible?a="removed":!e.visible&&t.visible&&(a="added");const o=yS({scales:t.scales,data:t.fillData.spans},{scales:e.scales,data:e.fillData.spans},gS.Split);if(o==null)return;const r=yS({scales:t.scales,data:t.fillData.phantomSpans},{scales:e.scales,data:e.fillData.phantomSpans},gS.Split);if(r==null)return;const l=yS({scales:t.scales,data:t.highStrokeData.spans},{scales:e.scales,data:e.highStrokeData.spans},gS.Split);if(l==null)return;const c=yS({scales:t.scales,data:t.lowStrokeData.spans},{scales:e.scales,data:e.lowStrokeData.spans},gS.Split);if(c==null)return;const h="fade",p=LTt(a,o,r,h),f=ETt(a,l,c,h),y=((i==null?void 0:i.changed)??!0)||!cG(t.scales.x,e.scales.x)||!cG(t.scales.y,e.scales.y)||a!=="updated";return{status:a,fill:p,stroke:f,hasMotion:y}}var{valueProperty:uG,keyProperty:wTt,ChartAxisDirection:vs,mergeDefaults:RTt,updateLabelNode:PTt,fixNumericExtent:hG,buildResetPathFn:BTt,resetLabelFn:zTt,resetMarkerFn:_Tt,resetMarkerPositionFn:dG,pathSwipeInAnimation:jTt,resetMotion:FTt,markerSwipeScaleInAnimation:GTt,seriesLabelFadeInAnimation:$1,animationValidation:VTt,diff:UTt,updateClipPath:pG,computeMarkerFocusBounds:fG,plotAreaPathFill:HTt,plotLinePathStroke:gG,interpolatePoints:yG,pathFadeInAnimation:mG,markerFadeInAnimation:xG,fromToMotion:bG,pathMotion:vG,extent:WTt,createDatumId:YTt,PointerEvents:K1,Group:$Tt,BBox:KTt,ContinuousScale:XTt,OrdinalTimeScale:ZTt,findMinMax:qTt}=z,QTt=class extends z.SeriesNodeEvent{constructor(t,e,i,n){super(t,e,i,n),this.xKey=n.properties.xKey,this.yLowKey=n.properties.yLowKey,this.yHighKey=n.properties.yHighKey}},fR=class extends z.CartesianSeries{constructor(t){super({moduleCtx:t,hasMarkers:!0,pathsPerSeries:["fill","stroke"],pickModes:[z.SeriesNodePickMode.AXIS_ALIGNED],directionKeys:{[vs.X]:["xKey"],[vs.Y]:["yLowKey","yHighKey"]},directionNames:{[vs.X]:["xName"],[vs.Y]:["yLowName","yHighName","yName"]},animationResetFns:{path:BTt({getVisible:()=>this.visible,getOpacity:()=>this.getOpacity()}),label:zTt,marker:(e,i)=>({..._Tt(e),...dG(e,i)})}}),this.properties=new nn,this.NodeEvent=QTt,this.dataAggregationFilters=void 0}async processData(t){var f,y;if(!this.properties.isValid())return;const{xKey:e,yLowKey:i,yHighKey:n}=this.properties,s=(f=this.axes[vs.X])==null?void 0:f.scale,a=(y=this.axes[vs.Y])==null?void 0:y.scale,{xScaleType:o,yScaleType:r}=this.getScaleInformation({xScale:s,yScale:a}),l=[],c=!this.ctx.animationManager.isSkipped();!this.ctx.animationManager.isSkipped()&&this.processedData&&l.push(UTt(this.id,this.processedData)),c&&l.push(VTt());const{dataModel:h,processedData:p}=await this.requestDataModel(t,this.data,{props:[wTt(e,o,{id:"xValue"}),uG(i,r,{id:"yLowValue"}),uG(n,r,{id:"yHighValue"}),...l]});this.dataAggregationFilters=this.aggregateData(h,p),this.animationState.transition("updateData")}aggregateData(t,e){const i=this.axes[vs.X];if(i==null||!(XTt.is(i.scale)||ZTt.is(i.scale)))return;const n=t.resolveKeysById(this,"xValue",e),s=t.resolveColumnById(this,"yHighValue",e),a=t.resolveColumnById(this,"yLowValue",e),{index:o}=t.resolveProcessedDataDefById(this,"xValue"),r=e.domain.keys[o];return bTt(n,s,a,r)}xCoordinateRange(t){const e=this.axes[vs.X].scale.convert(t);return[e,e]}yCoordinateRange(t){const e=this.axes[vs.Y].scale.convert(t[0]);return[e,e]}getSeriesDomain(t){const{processedData:e,dataModel:i}=this;if(!(e&&i))return[];const{domain:{keys:[n]}}=e;if(t===vs.X){const s=i.resolveProcessedDataDefById(this,"xValue");return(s==null?void 0:s.def.type)==="key"&&s.def.valueType==="category"?n:hG(WTt(n))}else{const s=this.domainForClippedRange(vs.Y,["yHighValue","yLowValue"],"xValue",!0),a=qTt(s);return hG(a)}}getSeriesRange(t,e){return this.domainForVisibleRange(vs.Y,["yHighValue","yLowValue"],"xValue",e,!0)}createNodeData(){const{data:t,dataModel:e,processedData:i,axes:n}=this,s=n[vs.X],a=n[vs.Y];if(!(t&&s&&a&&e&&i))return;const o=s.scale,r=a.scale,{xKey:l,yLowKey:c,yHighKey:h,connectMissingData:p,marker:f,interpolation:y}=this.properties,m=i.dataSources.get(this.id)??[],b=(o.bandwidth??0)/2,v=e.resolveKeysById(this,"xValue",i),S=e.resolveColumnById(this,"yHighValue",i),D=e.resolveColumnById(this,"yLowValue",i),I=_=>o.convert(v[_])+b,T=[],k=[],E=[],O=(_,V,Y)=>{const J=m[_],q=v[_];if(q==null)return;const nt=E[E.length-1];if(Number.isFinite(V)&&Number.isFinite(Y)){const st=(vt,At,bt)=>{k.push({index:_,series:this,itemId:vt,datum:J,datumIndex:_,midPoint:{x:ct,y:bt},yHighValue:V,yLowValue:Y,xValue:q,xKey:l,yLowKey:c,yHighKey:h,point:{x:ct,y:bt,size:yt},enabled:!0});const Rt=this.createLabelData({datumIndex:_,point:{x:ct,y:bt},value:At,yLowValue:Y,yHighValue:V,itemId:vt,inverted:rt,datum:J,series:this});T.push(Rt)},rt=Y>V,ct=I(_),dt=r.convert(V),ht=r.convert(Y),{size:yt}=f;st("high",V,dt),st("low",Y,ht);const pt={high:{point:{x:ct,y:dt},xDatum:q,yDatum:V},low:{point:{x:ct,y:ht},xDatum:q,yDatum:Y}};Array.isArray(nt)?nt.push(pt):nt!=null?(nt.skip+=1,E.push([pt])):E.push([pt])}else p||(Array.isArray(nt)||nt==null?E.push({skip:0}):nt.skip+=1)},{dataAggregationFilters:B}=this,[R,L]=o.range,F=L-R,j=B==null?void 0:B.find(_=>_.maxRange>F),G=j==null?void 0:j.topIndices,W=j==null?void 0:j.bottomIndices;let[Z,U]=this.visibleRange("xValue",s.range,G);Z=Math.max(Z-1,0),U=Math.min(U+1,(G==null?void 0:G.length)??v.length),i.input.count<1e3&&(Z=0,U=i.input.count);for(let _=Z;_<U;_+=1){const V=(G==null?void 0:G[_])??_,Y=(W==null?void 0:W[_])??_;O(V,S[V],D[Y])}const K=E.flatMap(_=>{if(!Array.isArray(_))return[];const V=_.map(Y=>Y.high);return yG(V,y)}),$=E.flatMap(_=>{if(!Array.isArray(_))return[];const V=_.map(Y=>Y.low);return yG(V,y)});return{itemId:`${c}-${h}`,labelData:T,nodeData:k,fillData:{itemId:"high",spans:K,phantomSpans:$},highStrokeData:{itemId:"high",spans:K},lowStrokeData:{itemId:"low",spans:$},scales:this.calculateScaling(),visible:this.visible}}createLabelData({datumIndex:t,point:e,value:i,itemId:n,inverted:s,datum:a,series:o}){const{xKey:r,yLowKey:l,yHighKey:c,xName:h,yName:p,yLowName:f,yHighName:y,label:m}=this.properties,{placement:b,padding:v=10}=m;let S=n;s&&(S=n==="low"?"high":"low");const D=b==="outside"&&S==="high"||b==="inside"&&S==="low"?-1:1;return{x:e.x,y:e.y+v*D,series:o,itemId:n,datum:a,datumIndex:t,text:this.getLabelText(m,{value:i,datum:a,itemId:n,xKey:r,yLowKey:l,yHighKey:c,xName:h,yLowName:f,yHighName:y,yName:p}),textAlign:"center",textBaseline:D===-1?"bottom":"top"}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}updatePathNodes(t){const{opacity:e,visible:i,animationEnabled:n}=t,[s,a]=t.paths,o=this.getStrokeWidth(this.properties.strokeWidth);a.setProperties({fill:void 0,lineCap:"round",lineJoin:"round",pointerEvents:K1.None,stroke:this.properties.stroke,strokeWidth:o,strokeOpacity:this.properties.strokeOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset,opacity:e,visible:i||n}),s.setProperties({stroke:void 0,lineJoin:"round",pointerEvents:K1.None,fill:this.properties.fill,fillOpacity:this.properties.fillOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset,strokeOpacity:this.properties.strokeOpacity,fillShadow:this.properties.shadow,strokeWidth:o,opacity:e,visible:i||n}),pG(this,a),pG(this,s)}updatePaths(t){this.updateAreaPaths(t.paths,t.contextData)}updateAreaPaths(t,e){for(const i of t)i.visible=e.visible;if(e.visible)this.updateFillPath(t,e),this.updateStrokePath(t,e);else for(const i of t)i.path.clear(),i.markDirty()}updateFillPath(t,e){const[i]=t;i.path.clear(),HTt(i,e.fillData),i.markDirty()}updateStrokePath(t,e){const[,i]=t;i.path.clear(),gG(i,e.highStrokeData.spans),gG(i,e.lowStrokeData.spans),i.markDirty()}updateMarkerSelection(t){const{nodeData:e,markerSelection:i}=t;return this.properties.marker.isDirty()&&(i.clear(),i.cleanup()),i.update(this.properties.marker.enabled?e:[])}getMarkerItemBaseStyle(t){const{properties:e}=this,{marker:i}=e,n=t?e.highlightStyle.item:void 0;return{shape:i.shape,size:i.size,fill:(n==null?void 0:n.fill)??i.fill,fillOpacity:(n==null?void 0:n.fillOpacity)??i.fillOpacity,stroke:(n==null?void 0:n.stroke)??i.stroke,strokeWidth:(n==null?void 0:n.strokeWidth)??this.getStrokeWidth(i.strokeWidth),strokeOpacity:(n==null?void 0:n.strokeOpacity)??i.strokeOpacity,lineDash:(n==null?void 0:n.lineDash)??i.lineDash,lineDashOffset:(n==null?void 0:n.lineDashOffset)??i.lineDashOffset}}getMarkerItemStyleOverrides(t,e,i,n){const{id:s,properties:a}=this,{xKey:o,yHighKey:r,yLowKey:l,marker:c}=a,{itemStyler:h}=c;if(h!=null)return this.cachedDatumCallback(YTt(t,n?"highlight":"node"),()=>h({seriesId:s,datum:e,xKey:o,yHighKey:r,yLowKey:l,highlighted:n,...i}))}updateMarkerNodes(t){const{markerSelection:e,isHighlight:i}=t,{xKey:n,yLowKey:s,yHighKey:a,marker:o,fill:r,stroke:l,strokeWidth:c,fillOpacity:h,strokeOpacity:p}=this.properties,f=RTt(i&&this.properties.highlightStyle.item,o.getStyle(),{fill:r,fillOpacity:h,stroke:l,strokeWidth:c,strokeOpacity:p});e.each((y,m)=>{this.updateMarkerStyle(y,o,{datum:m,highlighted:i,xKey:n,yHighKey:a,yLowKey:s},f)}),i||this.properties.marker.markClean()}updateLabelSelection(t){const{labelData:e,labelSelection:i}=t;return i.update(e,n=>{n.pointerEvents=K1.None})}updateLabelNodes(t){t.labelSelection.each((e,i)=>{PTt(e,this.properties.label,i)})}getHighlightLabelData(t,e){const i=t.filter(n=>n.datum===e.datum);return i.length>0?i:void 0}getHighlightData(t,e){const i=t.filter(n=>n.datum===e.datum);return i.length>0?i:void 0}getTooltipContent(t){var O;const{id:e,dataModel:i,processedData:n,axes:s,properties:a}=this,{xName:o,yName:r,yLowKey:l,yLowName:c,xKey:h,yHighKey:p,yHighName:f,tooltip:y}=a,m=s[vs.X],b=s[vs.Y];if(!i||!n||!m||!b)return;const{datumIndex:v}=t,S=(O=n.dataSources.get(this.id))==null?void 0:O[v],D=i.resolveKeysById(this,"xValue",n)[v],I=i.resolveColumnById(this,"yHighValue",n)[v],T=i.resolveColumnById(this,"yLowValue",n)[v];if(D==null)return;const k=this.getMarkerItemBaseStyle(!1);Object.assign(k,this.getMarkerItemStyleOverrides(String(v),v,k,!1));const E=`${b.formatDatum(T)} - ${b.formatDatum(I)}`;return y.formatTooltip({heading:m.formatDatum(D),symbol:this.legendItemSymbol(),data:[{label:r,fallbackLabel:`${c??l} - ${f??p}`,value:E}]},{seriesId:e,datum:S,title:r,itemId:t.itemId,xName:o,yName:r,yLowKey:l,yLowName:c,xKey:h,yHighKey:p,yHighName:f,...k})}legendItemSymbol(){const{fill:t,stroke:e,strokeWidth:i,strokeOpacity:n,lineDash:s,marker:a}=this.properties;return{marker:{shape:a.shape,fill:a.fill??t,stroke:a.stroke??e,fillOpacity:a.fillOpacity,strokeOpacity:a.strokeOpacity,strokeWidth:a.strokeWidth,lineDash:a.lineDash,lineDashOffset:a.lineDashOffset},line:{stroke:e,strokeOpacity:n,strokeWidth:i,lineDash:s}}}getLegendData(t){if(t!=="category")return[];const{id:e,visible:i}=this,{yLowKey:n,yHighKey:s,yName:a,yLowName:o,yHighName:r,showInLegend:l}=this.properties,c=a??`${o??n} - ${r??s}`,h=`${n}-${s}`;return[{legendType:"category",id:e,itemId:h,seriesId:e,enabled:i,label:{text:`${c}`},symbol:this.legendItemSymbol(),hideInLegend:!l}]}isLabelEnabled(){return this.properties.label.enabled}onDataChange(){}nodeFactory(){return new $Tt}animateEmptyUpdateReady(t){const{markerSelection:e,labelSelection:i,contextData:n,paths:s}=t,{animationManager:a}=this.ctx;this.updateAreaPaths(s,n),jTt(this,a,...s),FTt([e],dG),GTt(this,a,e),$1(this,"labels",a,i)}animateReadyResize(t){const{contextData:e,paths:i}=t;this.updateAreaPaths(i,e),super.animateReadyResize(t)}animateWaitingUpdateReady(t){var f,y,m;const{animationManager:e}=this.ctx,{markerSelection:i,labelSelection:n,contextData:s,paths:a,previousContextData:o}=t,[r,l]=a;if(r==null&&l==null)return;this.resetMarkerAnimation(t),this.resetLabelAnimation(t);const c=()=>{this.resetPathAnimation(t),this.updateAreaPaths(a,s)},h=()=>{e.skipCurrentBatch(),c()};if(s==null||o==null){c(),xG(this,e,"added",i),mG(this,"fill_path_properties",e,"add",r),mG(this,"stroke_path_properties",e,"add",l),$1(this,"labels",e,n);return}const p=OTt(s,o,(m=(y=(f=this.processedData)==null?void 0:f.reduced)==null?void 0:y.diff)==null?void 0:m[this.id]);if(p===void 0){h();return}else if(p.status==="no-op")return;bG(this.id,"fill_path_properties",e,[r],p.fill.pathProperties),bG(this.id,"stroke_path_properties",e,[l],p.stroke.pathProperties),p.status==="added"?this.updateAreaPaths(a,s):p.status==="removed"?this.updateAreaPaths(a,o):(vG(this.id,"fill_path_update",e,[r],p.fill.path),vG(this.id,"stroke_path_update",e,[l],p.stroke.path)),p.hasMotion&&(xG(this,e,void 0,i),$1(this,"labels",e,n)),this.ctx.animationManager.animate({id:this.id,groupId:"reset_after_animation",phase:"trailing",from:{},to:{},onComplete:()=>this.updateAreaPaths(a,s)})}getFormattedMarkerStyle(t){const{xKey:e,yLowKey:i,yHighKey:n}=this.properties;return this.getMarkerStyle(this.properties.marker,{datum:t,xKey:e,yLowKey:i,yHighKey:n,highlighted:!0})}computeFocusBounds(t){const e=fG(this,t),i=fG(this,{...t,datumIndex:t.datumIndex+1});if(e&&i)return KTt.merge([e,i])}computeFocusDatumIndex(t,e){const i={...t,datumIndex:t.datumIndex+t.datumIndexDelta,datumIndexDelta:t.datumIndexDelta*2};return super.computeFocusDatumIndex(i,e)}};fR.className="RangeAreaSeries";fR.type="range-area";var JTt={series:{fillOpacity:.7,nodeClickRange:"nearest",marker:{enabled:!1,size:6,strokeWidth:2},label:{enabled:!1,placement:"outside",padding:10,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}},interpolation:{type:"linear",tension:1,position:"end"}},axes:{[z.ThemeConstants.CARTESIAN_AXIS_TYPE.NUMBER]:{crosshair:{enabled:!0}}}},{markerPaletteFactory:tCt,ThemeConstants:{CARTESIAN_AXIS_TYPE:SG,CARTESIAN_POSITION:MG}}=z,eCt={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"range-area",moduleFactory:t=>new fR(t),tooltipDefaults:{range:"nearest"},defaultAxes:[{type:SG.NUMBER,position:MG.LEFT},{type:SG.CATEGORY,position:MG.BOTTOM}],themeTemplate:JTt,paletteFactory:t=>{const{marker:e}=tCt(t);return{fill:e.fill,stroke:e.stroke,marker:e}}},iCt=1e3,nCt=5;function sCt(t,e,i,n){if(t.length<iCt)return;const[s,a]=Rb(n);let o=wb(t,nCt),{indexData:r,valueData:l}=Pb(t,e,i,s,a,o);const c=[{maxRange:o,indexData:r}];for(;o>64;)({indexData:r,valueData:l,maxRange:o}=Bb(r,l,o)),c.push({maxRange:o,indexData:r});return c.reverse(),c}var{AbstractBarSeriesProperties:aCt,SeriesTooltip:oCt,Validate:ji,COLOR_STRING:NK,FUNCTION:rCt,LINE_DASH:lCt,OBJECT:gR,PLACEMENT:cCt,POSITIVE_NUMBER:KD,RATIO:EK,STRING:yp,BOOLEAN:uCt,DropShadow:hCt,Label:dCt}=z,yR=class extends dCt{constructor(){super(...arguments),this.placement="inside",this.padding=6}};A([ji(cCt)],yR.prototype,"placement");A([ji(KD)],yR.prototype,"padding");var sn=class extends aCt{constructor(){super(...arguments),this.fill="#99CCFF",this.fillOpacity=1,this.stroke="#99CCFF",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.shadow=new hCt().set({enabled:!1}),this.label=new yR,this.tooltip=new oCt,this.fastDataProcessing=!1}};A([ji(yp)],sn.prototype,"xKey");A([ji(yp)],sn.prototype,"yLowKey");A([ji(yp)],sn.prototype,"yHighKey");A([ji(yp,{optional:!0})],sn.prototype,"xName");A([ji(yp,{optional:!0})],sn.prototype,"yName");A([ji(yp,{optional:!0})],sn.prototype,"yLowName");A([ji(yp,{optional:!0})],sn.prototype,"yHighName");A([ji(NK)],sn.prototype,"fill");A([ji(EK)],sn.prototype,"fillOpacity");A([ji(NK)],sn.prototype,"stroke");A([ji(KD)],sn.prototype,"strokeWidth");A([ji(EK)],sn.prototype,"strokeOpacity");A([ji(lCt)],sn.prototype,"lineDash");A([ji(KD)],sn.prototype,"lineDashOffset");A([ji(KD)],sn.prototype,"cornerRadius");A([ji(rCt,{optional:!0})],sn.prototype,"itemStyler");A([ji(gR)],sn.prototype,"shadow");A([ji(gR)],sn.prototype,"label");A([ji(gR)],sn.prototype,"tooltip");A([ji(uCt)],sn.prototype,"fastDataProcessing");var{SeriesNodePickMode:AG,valueProperty:DG,keyProperty:pCt,ChartAxisDirection:Dm,checkCrisp:fCt,updateLabelNode:gCt,SMALLEST_KEY_INTERVAL:yCt,LARGEST_KEY_INTERVAL:mCt,diff:xCt,prepareBarAnimationFunctions:IG,midpointStartingBarPosition:TG,resetBarSelectionsFn:bCt,fixNumericExtent:vCt,seriesLabelFadeInAnimation:CG,resetLabelFn:SCt,animationValidation:MCt,computeBarFocusBounds:ACt,visibleRangeIndices:kG,createDatumId:DCt,ContinuousScale:LG,OrdinalTimeScale:ICt,Rect:TCt,PointerEvents:CCt,motion:NG,applyShapeStyle:kCt,findMinMax:LCt}=z,NCt=class extends z.SeriesNodeEvent{constructor(t,e,i,n){super(t,e,i,n),this.xKey=n.properties.xKey,this.yLowKey=n.properties.yLowKey,this.yHighKey=n.properties.yHighKey}},mR=class extends z.AbstractBarSeries{constructor(t){super({moduleCtx:t,pickModes:[AG.AXIS_ALIGNED,AG.EXACT_SHAPE_MATCH],hasHighlightedLabels:!0,directionKeys:{x:["xKey"],y:["yLowKey","yHighKey"]},directionNames:{x:["xName"],y:["yLowName","yHighName","yName"]},datumSelectionGarbageCollection:!1,animationResetFns:{datum:bCt,label:SCt}}),this.properties=new sn,this.dataAggregationFilters=void 0,this.NodeEvent=NCt}async processData(t){var b,v,S,D;if(!this.properties.isValid())return;const{xKey:e,yLowKey:i,yHighKey:n,fastDataProcessing:s}=this.properties,a=!s,o=(b=this.getCategoryAxis())==null?void 0:b.scale,r=(v=this.getValueAxis())==null?void 0:v.scale,{isContinuousX:l,xScaleType:c,yScaleType:h}=this.getScaleInformation({xScale:o,yScale:r}),p=[];this.ctx.animationManager.isSkipped()||(this.processedData&&p.push(xCt(this.id,this.processedData)),p.push(MCt()));const f=this.visible?{}:{forceValue:0},{dataModel:y,processedData:m}=await this.requestDataModel(t,this.data,{props:[pCt(e,c,{id:"xValue"}),DG(i,h,{id:"yLowValue",invalidValue:null,...f}),DG(n,h,{id:"yHighValue",invalidValue:null,...f}),...l?[yCt,mCt]:[],...p],groupByKeys:a});this.smallestDataInterval=(S=m.reduced)==null?void 0:S.smallestKeyInterval,this.largestDataInterval=(D=m.reduced)==null?void 0:D.largestKeyInterval,this.dataAggregationFilters=this.aggregateData(y,m),this.animationState.transition("updateData")}aggregateData(t,e){if(e.type!=="grouped")return;const i=this.axes[Dm.X];if(i==null||!(LG.is(i.scale)||ICt.is(i.scale)))return;const n=t.resolveKeysById(this,"xValue",e),s=t.resolveColumnById(this,"yHighValue",e),a=t.resolveColumnById(this,"yLowValue",e),{index:o}=t.resolveProcessedDataDefById(this,"xValue"),r=e.domain.keys[o];return sCt(n,s,a,r)}getSeriesDomain(t){const{processedData:e,dataModel:i}=this;if(!e||!i)return[];const{keys:[n]}=e.domain;if(t===this.getCategoryDirection()){const s=i.resolveProcessedDataDefById(this,"xValue");return(s==null?void 0:s.def.type)==="key"&&(s==null?void 0:s.def.valueType)==="category"?n:this.padBandExtent(n)}else{const s=this.domainForClippedRange(Dm.Y,["yHighValue","yLowValue"],"xValue",!0),a=LCt(s);return vCt(a)}}getSeriesRange(t,e){return this.domainForVisibleRange(Dm.Y,["yHighValue","yLowValue"],"xValue",e,!0)}createNodeData(){const{data:t,dataModel:e,groupScale:i,processedData:n,visible:s}=this,a=this.getCategoryAxis(),o=this.getValueAxis();if(!(t&&a&&o&&e&&(n!=null&&n.dataSources)))return;const r=a.scale,l=o.scale,c=this.getBarDirection()===Dm.X,{xKey:h,yLowKey:p,yHighKey:f,strokeWidth:y}=this.properties,m=`${p}-${f}`,b={itemId:m,nodeData:[],labelData:[],scales:this.calculateScaling(),visible:this.visible};if(!s)return b;const v=n.dataSources.get(this.id)??[],S=e.resolveKeysById(this,"xValue",n),D=e.resolveColumnById(this,"yLowValue",n),I=e.resolveColumnById(this,"yHighValue",n),{barWidth:T,groupIndex:k}=this.updateGroupScale(a),E=LG.is(r)?T*-.5:0,O=i.convert(String(k)),B=fCt(a==null?void 0:a.scale,a==null?void 0:a.visibleRange,this.smallestDataInterval,this.largestDataInterval),R=U=>Math.round(r.convert(S[U]))+O+E,L=(U,K,$,X,_,V,Y)=>{const J=v[U],q=S[U];if(q==null)return;const nt=D[U],st=I[U];if(!Number.isFinite(nt==null?void 0:nt.valueOf())||!Number.isFinite(st==null?void 0:st.valueOf()))return;const[rt,ct]=nt<st?[nt,st]:[st,nt],dt=Math.round(l.convert(V)),ht=Math.round(l.convert(_)),yt=Math.max(y,Math.abs(ht-dt)),pt={x:c?Math.min(dt,ht):$,y:c?$:Math.min(dt,ht),width:c?yt:X,height:c?X:yt},vt={x:pt.x+pt.width/2,y:pt.y+pt.height/2},At=this.createLabelData({datumIndex:U,rect:pt,barAlongX:c,yLowValue:rt,yHighValue:ct,datum:J,series:this}),bt={index:K,valueIndex:U,series:this,itemId:m,datum:J,datumIndex:U,xValue:q,yLowValue:nt,yHighValue:st,yLowKey:p,yHighKey:f,xKey:h,x:pt.x,y:pt.y,width:pt.width,height:pt.height,midPoint:vt,crisp:Y,labels:At};b.nodeData.push(bt),b.labelData.push(...At)},{dataAggregationFilters:F}=this,[j,G]=r.range,W=G-j,Z=F==null?void 0:F.find(U=>U.maxRange>W);if(Z!=null){const{maxRange:U,indexData:K}=Z,[$,X]=kG(U,a.range,_=>{const V=_*ja,Y=K[V+os],J=K[V+qs];if(Y===-1)return;const q=(Y+J)/2|0;return[R(q),R(J)+T]});for(let _=$;_<X;_+=1){const V=_*ja,Y=K[V+os],J=K[V+qs],q=K[V+ya],nt=K[V+ma];if(Y===-1)continue;const st=(Y+J)/2|0;if(S[st]==null)continue;const ct=R(st),dt=Math.abs(R(Y)-R(J))+T,ht=D[q],yt=I[nt];L(st,0,ct,dt,ht,yt,!1)}}else if(n.type==="ungrouped"){let[U,K]=kG(v.length,a.range,$=>[R($),T]);n.input.count<1e3&&(U=0,K=n.input.count);for(let $=U;$<K;$+=1){const X=R($),_=T,V=D[$],Y=I[$];L($,0,X,_,V,Y,B)}}else for(const{datumIndex:U,groupIndex:K}of e.forEachGroupDatum(this,n)){const $=R(U),X=T,_=D[U],V=I[U];L(U,K,$,X,_,V,B)}return b}createLabelData({datumIndex:t,rect:e,barAlongX:i,yLowValue:n,yHighValue:s,datum:a,series:o}){const{xKey:r,yLowKey:l,yHighKey:c,xName:h,yLowName:p,yHighName:f,yName:y,label:m}=this.properties,b={datum:a,xKey:r,yLowKey:l,yHighKey:c,xName:h,yLowName:p,yHighName:f,yName:y},{placement:v,padding:S}=m,I=S*(v==="outside"?1:-1),T={datumIndex:t,x:e.x+(i?-I:e.width/2),y:e.y+(i?e.height/2:e.height+I),textAlign:i?"left":"center",textBaseline:i?"middle":"bottom",text:this.getLabelText(m,{itemId:"low",value:n,...b}),itemId:"low",datum:a,series:o},k={datumIndex:t,x:e.x+(i?e.width+I:e.width/2),y:e.y+(i?e.height/2:-I),textAlign:i?"right":"center",textBaseline:i?"middle":"top",text:this.getLabelText(m,{itemId:"high",value:s,...b}),itemId:"high",datum:a,series:o};return v==="outside"&&(T.textAlign=i?"right":"center",T.textBaseline=i?"middle":"top",k.textAlign=i?"left":"center",k.textBaseline=i?"middle":"bottom"),[T,k]}nodeFactory(){return new TCt}updateDatumSelection(t){const{nodeData:e,datumSelection:i}=t,n=e??[];return i.update(n,void 0,s=>this.getDatumId(s))}getItemBaseStyle(t){const{properties:e}=this,{cornerRadius:i}=e,n=t?e.highlightStyle.item:void 0;return{fill:(n==null?void 0:n.fill)??e.fill,fillOpacity:(n==null?void 0:n.fillOpacity)??e.fillOpacity,stroke:(n==null?void 0:n.stroke)??e.stroke,strokeWidth:(n==null?void 0:n.strokeWidth)??this.getStrokeWidth(e.strokeWidth),strokeOpacity:(n==null?void 0:n.strokeOpacity)??e.strokeOpacity,lineDash:(n==null?void 0:n.lineDash)??e.lineDash??[],lineDashOffset:(n==null?void 0:n.lineDashOffset)??e.lineDashOffset,cornerRadius:i}}getItemStyleOverrides(t,e,i,n){const{id:s,properties:a}=this,{xKey:o,yHighKey:r,yLowKey:l,itemStyler:c}=a;if(c!=null)return this.cachedDatumCallback(DCt(t,n?"highlight":"node"),()=>c({seriesId:s,datum:e,xKey:o,yHighKey:r,yLowKey:l,highlighted:n,...i}))}updateDatumNodes(t){const{datumSelection:e,isHighlight:i}=t,n=this.getCategoryDirection()===Dm.X,s=this.getItemBaseStyle(i);e.each((a,o)=>{const r=this.getItemStyleOverrides(String(o.datumIndex),o.datum,s,i);kCt(a,s,r),a.cornerRadius=(r==null?void 0:r.cornerRadius)??s.cornerRadius,a.visible=n?o.width>0:o.height>0,a.crisp=o.crisp})}getHighlightLabelData(t,e){const i=t.filter(n=>n.datum===e.datum);return i.length>0?i:void 0}updateLabelSelection(t){const e=this.properties.label.enabled?t.labelData:[];return t.labelSelection.update(e,i=>{i.pointerEvents=CCt.None})}updateLabelNodes(t){t.labelSelection.each((e,i)=>{gCt(e,this.properties.label,i)})}getTooltipContent(t){var E;const{id:e,dataModel:i,processedData:n,properties:s}=this,{xKey:a,xName:o,yName:r,yLowKey:l,yHighKey:c,yLowName:h,yHighName:p,tooltip:f}=s,y=this.getCategoryAxis(),m=this.getValueAxis();if(!i||!n||!y||!m)return;const{datumIndex:b}=t,v=(E=n.dataSources.get(this.id))==null?void 0:E[b],S=i.resolveKeysById(this,"xValue",n)[b],D=i.resolveColumnById(this,"yHighValue",n)[b],I=i.resolveColumnById(this,"yLowValue",n)[b];if(S==null)return;const T=this.getItemBaseStyle(!1);Object.assign(T,this.getItemStyleOverrides(String(b),v,T,!1));const k=`${m.formatDatum(I)} - ${m.formatDatum(D)}`;return f.formatTooltip({heading:y.formatDatum(S),symbol:this.legendItemSymbol(),data:[{label:r,fallbackLabel:`${h??l} - ${p??c}`,value:k}]},{seriesId:e,datum:v,title:r,xKey:a,xName:o,yName:r,yLowKey:l,yHighKey:c,yLowName:h,yHighName:p,...T})}legendItemSymbol(){const{fill:t,stroke:e,strokeWidth:i,fillOpacity:n,strokeOpacity:s,lineDash:a,lineDashOffset:o}=this.properties;return{marker:{fill:t,stroke:e,fillOpacity:n,strokeOpacity:s,strokeWidth:i,lineDash:a,lineDashOffset:o}}}getLegendData(t){if(t!=="category")return[];const{id:e,visible:i}=this,{yName:n,yLowName:s,yHighName:a,yLowKey:o,yHighKey:r,showInLegend:l}=this.properties,c=n??`${s??o} - ${a??r}`,h=`${o}-${r}`;return[{legendType:"category",id:e,itemId:h,seriesId:e,enabled:i,label:{text:`${c}`},symbol:this.legendItemSymbol(),hideInLegend:!l}]}animateEmptyUpdateReady({datumSelection:t,labelSelection:e}){const i=IG(TG(this.isVertical(),"normal"));NG.fromToMotion(this.id,"datums",this.ctx.animationManager,[t],i),CG(this,"labels",this.ctx.animationManager,e)}animateWaitingUpdateReady(t){var o,r;const{datumSelection:e,labelSelection:i}=t,{processedData:n}=this,s=(r=(o=n==null?void 0:n.reduced)==null?void 0:o.diff)==null?void 0:r[this.id];this.ctx.animationManager.stopByAnimationGroupId(this.id);const a=IG(TG(this.isVertical(),"fade"));NG.fromToMotion(this.id,"datums",this.ctx.animationManager,[e],a,(l,c)=>this.getDatumId(c),s),CG(this,"labels",this.ctx.animationManager,i)}getDatumId(t){return`${t.xValue}-${t.valueIndex}`}isLabelEnabled(){return this.properties.label.enabled}onDataChange(){}computeFocusBounds({datumIndex:t}){var e;return ACt(this,(e=this.contextNodeData)==null?void 0:e.nodeData[t])}};mR.className="RangeBarSeries";mR.type="range-bar";var ECt={series:{direction:"vertical",strokeWidth:0,label:{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"backgroundColor"},placement:"inside"}},axes:{[z.ThemeConstants.CARTESIAN_AXIS_TYPE.NUMBER]:{crosshair:{enabled:!0}}}},{CARTESIAN_AXIS_TYPE:EG,CARTESIAN_POSITION:OG}=z.ThemeConstants,OCt={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"range-bar",moduleFactory:t=>new mR(t),tooltipDefaults:{range:"exact"},defaultAxes:z.swapAxisCondition([{type:EG.NUMBER,position:OG.LEFT},{type:EG.CATEGORY,position:OG.BOTTOM}],t=>(t==null?void 0:t.direction)==="horizontal"),themeTemplate:ECt,paletteFactory:({takeColors:t})=>{const{fills:[e],strokes:[i]}=t(1);return{fill:e,stroke:i}},groupable:!0};function OK(t){t.nodes.sort((e,i)=>Math.round((e.datum.y-i.datum.y)*100)/100||-(e.datum.size-i.datum.size))}function wCt({nodes:t,size:e},{seriesRectHeight:i,nodeSpacing:n,sizeScale:s}){const a=i*e*s;let o=(i-(a+n*(t.length-1)))/2;t.forEach(({datum:r})=>{const l=i*r.size*s;r.y=o,r.height=l,o+=l+n})}function RCt(t,e){const{nodes:i}=t,{seriesRectHeight:n,nodeSpacing:s}=e;OK(t);let a=0,o=0;for(const{datum:c}of i){const h=Math.max(o-c.y,0);c.y+=h,a+=h,o=c.y+c.height+s}if(o-s<n)return a>0;let l=n;for(let c=i.length-1;c>=0;c-=1){const{datum:h}=i[c],p=h.y+h.height,f=Math.min(l-p,0);h.y+=f,a+=f,l=h.y-s}return!0}function X1(t,e,i,n,s,a,o,r){const l=(i-t)/(n-e),c=(o-s)/(r-a),h=((a-e)*(l*c)+t*c-s*l)/(c-l);return t<i?h>t&&h<Math.min(i,o):h<t&&h>Math.max(i,o)}function wG(t,e){let i=!1;const n=t.nodes.filter(a=>e(a).length===1);let s=!0;for(let a=0;s&&a<n.length;a+=1){s=!1;for(let o=0;o<n.length-1;o+=1){const{datum:r}=n[o],l=e(n[o])[0].node.datum,{datum:c}=n[o+1],h=e(n[o+1])[0].node.datum;if(!(X1(r.x,r.y,l.x,l.y,c.x,c.y,h.x,h.y)||X1(r.x,r.y+r.height/2,l.x,l.y+l.height/2,c.x,c.y+c.height/2,h.x,h.y+h.height/2)||X1(r.x,r.y+r.height,l.x,l.y+l.height,c.x,c.y+c.height,h.x,h.y+h.height)))continue;const f=n[o];n[o]=n[o+1],n[o+1]=f;const y=r.y;r.y=c.y+c.height-r.height,c.y=y,i=!0,s=!0}}return i}function PCt(t){let e=!1;return OK(t),e=wG(t,i=>i.linksBefore)||e,e=wG(t,i=>i.linksAfter)||e,e}function BCt(t){if(t.length===0)return;let e=0,i=0;for(const{node:{datum:n}}of t)e+=n.y*n.size,i+=n.size;return e/i}function wK(t,e,i,n){return t.nodes.forEach(({datum:s,linksBefore:a,linksAfter:o})=>{const r=n===1?a:o,l=n===1?o:a,c=BCt(r);if(c!=null){const h=l.length!==0?i:1;s.y=s.y+(c-s.y)*h}}),RCt(t,e)}function RG(t,e,i){let n=!1;for(const s of t)n=wK(s,e,i,1)||n;return n}function zCt(t,e,i){let n=!1;for(let s=t.length-1;s>=0;s-=1)n=wK(t[s],e,i,-1)||n;return n}function PG(t){let e=!1;for(let i=t.length-1;i>=0;i-=1)e=PCt(t[i])||e;return e}function _Ct(t,e){t.forEach(n=>{wCt(n,e)});let i=!1;for(let n=0;n<6;n+=1){const s=RG(t,e,1);i=zCt(t,e,.5);const a=PG(t);if(!s&&!i&&!a)break}i&&(RG(t,e,1),PG(t))}var{BBox:jCt,Path:FCt,ScenePathChangeDetection:Qg,splitBezier:GCt}=z;function mS(t,e,i,n,s,a,o,r,l,c){let h,p;if(s!==i&&l!==o){const E=-(n-e)/(s-i),O=-(r-a)/(l-o);h=(o-i+E*e-O*a)/(E-O),p=E*(h-e)+i}else if(s===i&&l!==o)h=e,p=-(r-a)/(l-o)*(h-r)+l;else if(s!==i&&l===o)h=r,p=-(n-e)/(s-i)*(h-e)+i;else throw new Error("Offsetting flat bezier curve");const f=Math.hypot(i-p,e-h),y=(f+c)/f,m=Math.hypot(l-p,r-h),b=(m+c)/m,v=h+(n-h)*y,S=p+(s-p)*y,D=h+(a-h)*b,I=p+(o-p)*b,T=h+(r-h)*b,k=p+(l-p)*b;t.cubicCurveTo(v,S,D,I,T,k)}var mp=class extends FCt{constructor(){super(...arguments),this.x1=0,this.x2=0,this.y1=0,this.y2=0,this.height=0,this.inset=0}computeBBox(){const t=Math.min(this.x1,this.x2),e=Math.max(this.x1,this.x2)-t,i=Math.min(this.y1,this.y2),n=Math.max(this.y1,this.y2)-i+this.height;return new jCt(t,i,e,n)}updatePath(){const{path:t,inset:e}=this;t.clear();const i=this.x1+e,n=this.x2-e,s=this.y1+e,a=this.y2+e,o=this.height-2*e;if(o<0||i>n)return;const r=i,l=s+o/2,c=(i+n)/2,h=s+o/2,p=(i+n)/2,f=a+o/2,y=n,m=a+o/2;if(t.moveTo(r,l-o/2),Math.abs(this.y2-this.y1)<1||this.x2-this.x1<this.height*Math.SQRT2)t.cubicCurveTo(c,h-o/2,p,f-o/2,y,m-o/2),t.lineTo(y,m+o/2),t.cubicCurveTo(p,f+o/2,c,h+o/2,r,l+o/2);else{const[b,v]=GCt(r,l,c,h,p,f,y,m,.5),S=(a>s?1:-1)*o/2;mS(t,b[0].x,b[0].y,b[1].x,b[1].y,b[2].x,b[2].y,b[3].x,b[3].y,S),mS(t,v[0].x,v[0].y,v[1].x,v[1].y,v[2].x,v[2].y,v[3].x,v[3].y,-S),t.lineTo(y,m+o/2),mS(t,v[3].x,v[3].y,v[2].x,v[2].y,v[1].x,v[1].y,v[0].x,v[0].y,S),mS(t,b[3].x,b[3].y,b[2].x,b[2].y,b[1].x,b[1].y,b[0].x,b[0].y,-S)}t.closePath()}};A([Qg()],mp.prototype,"x1");A([Qg()],mp.prototype,"x2");A([Qg()],mp.prototype,"y1");A([Qg()],mp.prototype,"y2");A([Qg()],mp.prototype,"height");A([Qg()],mp.prototype,"inset");var{BaseProperties:RK,SeriesTooltip:VCt,SeriesProperties:UCt,ARRAY:HCt,COLOR_STRING:XD,COLOR_STRING_ARRAY:PK,FUNCTION:BK,LINE_DASH:zK,OBJECT:ZD,POSITIVE_NUMBER:xp,RATIO:qD,STRING:Dh,UNION:WCt,Validate:me,Label:YCt}=z,$Ct=WCt(["left","right","center","justify"],"a justification value"),_K=class extends YCt{constructor(){super(...arguments),this.spacing=1}};A([me(xp)],_K.prototype,"spacing");var Yc=class extends RK{constructor(){super(...arguments),this.fill=void 0,this.fillOpacity=1,this.stroke=void 0,this.strokeOpacity=1,this.strokeWidth=1,this.lineDash=[0],this.lineDashOffset=0}};A([me(XD,{optional:!0})],Yc.prototype,"fill");A([me(qD)],Yc.prototype,"fillOpacity");A([me(XD,{optional:!0})],Yc.prototype,"stroke");A([me(qD)],Yc.prototype,"strokeOpacity");A([me(xp)],Yc.prototype,"strokeWidth");A([me(zK)],Yc.prototype,"lineDash");A([me(xp)],Yc.prototype,"lineDashOffset");A([me(BK,{optional:!0})],Yc.prototype,"itemStyler");var Ko=class extends RK{constructor(){super(...arguments),this.spacing=1,this.width=1,this.alignment="justify",this.fill=void 0,this.fillOpacity=1,this.stroke=void 0,this.strokeOpacity=1,this.strokeWidth=1,this.lineDash=[0],this.lineDashOffset=0}};A([me(xp)],Ko.prototype,"spacing");A([me(xp)],Ko.prototype,"width");A([me($Ct)],Ko.prototype,"alignment");A([me(XD,{optional:!0})],Ko.prototype,"fill");A([me(qD)],Ko.prototype,"fillOpacity");A([me(XD,{optional:!0})],Ko.prototype,"stroke");A([me(qD)],Ko.prototype,"strokeOpacity");A([me(xp)],Ko.prototype,"strokeWidth");A([me(zK)],Ko.prototype,"lineDash");A([me(xp)],Ko.prototype,"lineDashOffset");A([me(BK,{optional:!0})],Ko.prototype,"itemStyler");var js=class extends UCt{constructor(){super(...arguments),this.nodes=void 0,this.idKey="",this.idName=void 0,this.labelKey=void 0,this.labelName=void 0,this.sizeKey=void 0,this.sizeName=void 0,this.fills=[],this.strokes=[],this.label=new _K,this.link=new Yc,this.node=new Ko,this.tooltip=new VCt}};A([me(HCt,{optional:!0})],js.prototype,"nodes");A([me(Dh)],js.prototype,"fromKey");A([me(Dh)],js.prototype,"toKey");A([me(Dh)],js.prototype,"idKey");A([me(Dh,{optional:!0})],js.prototype,"idName");A([me(Dh,{optional:!0})],js.prototype,"labelKey");A([me(Dh,{optional:!0})],js.prototype,"labelName");A([me(Dh,{optional:!0})],js.prototype,"sizeKey");A([me(Dh,{optional:!0})],js.prototype,"sizeName");A([me(PK)],js.prototype,"fills");A([me(PK)],js.prototype,"strokes");A([me(ZD)],js.prototype,"label");A([me(ZD)],js.prototype,"link");A([me(ZD)],js.prototype,"node");A([me(ZD)],js.prototype,"tooltip");var{Transformable:KCt,applyShapeStyle:BG,SeriesNodePickMode:zG,CachedTextMeasurerPool:XCt,TextWrapper:_G,TextUtils:jG,createDatumId:xS,Rect:FG,BBox:ZCt}=z,xR=class extends Dw{constructor(t){super({moduleCtx:t,pickModes:[zG.NEAREST_NODE,zG.EXACT_SHAPE_MATCH]}),this.properties=new js}isLabelEnabled(){return(this.properties.labelKey!=null||this.nodes==null)&&this.properties.label.enabled}linkFactory(){return new mp}nodeFactory(){return new FG}createNodeData(){const{id:t,_nodeDataDependencies:{seriesRectWidth:e,seriesRectHeight:i}={seriesRectWidth:0,seriesRectHeight:0}}=this,{fromKey:n,toKey:s,sizeKey:a,label:{spacing:o},node:{spacing:r,width:l,alignment:c}}=this.properties,{nodeGraph:h,links:p,maxPathLength:f}=this.getNodeGraph(O=>({...O,x:NaN,y:NaN,width:l,height:NaN}),O=>({...O,x1:NaN,x2:NaN,y1:NaN,y2:NaN,height:NaN}),{includeCircularReferences:!1}),y=h,m=this.isLabelEnabled()?(e-l)*(1-f/(f+1)):0,b=(e-l-2*m)/(f-1),v=[];for(let O=0;O<f;O+=1){const B=m+O*b;v.push({index:O,size:0,nodes:[],x:B})}y.forEach(O=>{const{datum:B,linksBefore:R,linksAfter:L,maxPathLengthBefore:F,maxPathLengthAfter:j}=O,G=Math.max(R.reduce((U,{link:K})=>U+K.size,0),L.reduce((U,{link:K})=>U+K.size,0));if(R.length===0&&L.length===0||G===0){O.columnIndex=-1;return}let W;switch(c){case"left":W=v[F];break;case"right":W=v[f-1-j];break;case"center":{if(R.length!==0)W=v[F];else if(L.length!==0){const U=L.reduce((K,$)=>Math.min(K,$.node.maxPathLengthBefore),f)-1;W=v[U]}else W=v[0];break}case"justify":{W=L.length===0?v[f-1]:v[F];break}}B.x=W.x,B.size=G;const Z=this.getLabelText(this.properties.label,{datum:B.datum,value:B.label,fromKey:n,toKey:s,sizeKey:a,size:G});B.label=String(Z),W.nodes.push(O),W.size+=G,O.columnIndex=W.index}),y.forEach(O=>{let B=1/0,R=0;O.linksAfter.forEach(L=>{const F=L.node,{columnIndex:j}=F;j<B?(B=j,R=F.datum.size):j===B&&(R=Math.max(R,F.datum.size))}),O.closestColumnIndex=B,O.maxSizeOfClosestNodesAfter=R});const S=v.reduce((O,{size:B,nodes:R})=>{const L=(1-(R.length-1)*(r/i))/B;return Math.min(O,L)},1/0);for(let O=v.length-1;O>=0;O-=1)v[O].nodes.sort((R,L)=>R.closestColumnIndex-L.closestColumnIndex||R.maxSizeOfClosestNodesAfter-L.maxSizeOfClosestNodesAfter||R.datum.size-L.datum.size);_Ct(v,{seriesRectHeight:i,nodeSpacing:r,sizeScale:S});let D=!1;if(y.forEach(({datum:O,linksBefore:B,linksAfter:R})=>{D||(D=O.height<0);const L=O.y+O.height,F=W=>W.sort((Z,U)=>{const K=Z.node.datum,$=U.node.datum,X=K.y+K.height,_=$.y+$.height,V=Math.atan2(K.y-O.y,Math.abs(K.x-O.x))-Math.atan2($.y-O.y,Math.abs($.x-O.x)),Y=Math.atan2(X-L,Math.abs(K.x-O.x))-Math.atan2(_-L,Math.abs($.x-O.x));return V+Y});let j=O.y;F(B).forEach(({link:W})=>{W.y2=j,j+=W.size*i*S});let G=O.y;F(R).forEach(({link:W})=>{W.y1=G,G+=W.size*i*S})}),D){ve.warnOnce("There was insufficient space to display the Sankey Series. Reduce the node spacing, or provide a larger container.");return}const I=[],T=[],{fontSize:k}=this.properties.label,E=this.properties.label.getFont();return v.forEach((O,B)=>{const R=B===0,L=B===v.length-1;let F=-1/0;O.nodes.sort((j,G)=>j.datum.y-G.datum.y),O.nodes.forEach(({datum:j})=>{if(j.midPoint={x:j.x+j.width/2,y:j.y+j.height/2},I.push(j),j.label==null)return;const G=R?j.x-o:j.x+j.width+o,W=j.y+j.height/2;let Z;if(!R&&!L){const X=W-jG.getLineHeight(k),_=W+jG.getLineHeight(k);let V=e;y.forEach(({datum:J})=>{J.x>j.x&&Math.max(J.y,X)<=Math.min(J.y+J.height,_)&&(V=Math.min(V,J.x-o))});const Y=V-j.x-2*o;Z=_G.wrapText(j.label,{maxWidth:Y,maxHeight:j.height,font:this.properties.label,textWrap:"never",overflow:"hide"})}if(Z==null||Z===""){const X=R||L?o:o*2;Z=_G.wrapText(j.label,{maxWidth:b-X,maxHeight:j.height,font:this.properties.label,textWrap:"never"})}if(Z==="")return;const{height:U}=XCt.measureText(Z,{font:E,textAlign:"left",textBaseline:"middle"}),K=W-U/2,$=W+U/2;K>=F&&(T.push({x:G,y:W,leading:R,text:Z}),F=$)})}),p.forEach(O=>{const{fromNode:B,toNode:R,size:L}=O;O.height=i*L*S,O.x1=B.x+l,O.x2=R.x,O.midPoint={x:(O.x1+O.x2)/2,y:(O.y1+O.y2)/2+O.height/2},I.push(O)}),{itemId:t,nodeData:I,labelData:T}}updateLabelSelection(t){const e=this.isLabelEnabled()?t.labelData:[];return t.labelSelection.update(e)}updateLabelNodes(t){const{labelSelection:e}=t,{color:i,fontStyle:n,fontWeight:s,fontSize:a,fontFamily:o}=this.properties.label;e.each((r,{x:l,y:c,leading:h,text:p})=>{r.visible=!0,r.x=l,r.y=c,r.text=p,r.fill=i,r.fontStyle=n,r.fontWeight=s,r.fontSize=a,r.fontFamily=o,r.textAlign=h?"right":"left",r.textBaseline="middle"})}updateNodeSelection(t){return t.datumSelection.update(t.nodeData,void 0,e=>xS([e.type,e.id]))}getBaseNodeStyle(t){const{properties:e}=this,{fill:i,fillOpacity:n,stroke:s,strokeOpacity:a,lineDash:o,lineDashOffset:r}=e.node,l=t?e.highlightStyle.item:void 0;return{fill:(l==null?void 0:l.fill)??i,fillOpacity:(l==null?void 0:l.fillOpacity)??n,stroke:(l==null?void 0:l.stroke)??s,strokeOpacity:(l==null?void 0:l.strokeOpacity)??a,strokeWidth:(l==null?void 0:l.strokeWidth)??this.getStrokeWidth(e.node.strokeWidth),lineDash:(l==null?void 0:l.lineDash)??o,lineDashOffset:(l==null?void 0:l.lineDashOffset)??r}}getNodeStyleOverrides(t,e,i,n,s,a,o){const{id:r,properties:l}=this,{fills:c,strokes:h}=l,{itemStyler:p}=l.node,f=a.fill??c[i%c.length],y=a.stroke??h[i%h.length],m={};if(o||(m.fill=f,m.stroke=y),p!=null){const b=this.cachedDatumCallback(xS(t,o?"highlight":"node"),()=>{const{fillOpacity:v=1,strokeOpacity:S=1,strokeWidth:D=0,lineDash:I=[],lineDashOffset:T=0}=a;return p({seriesId:r,datum:e,highlighted:o,label:s,size:n,fill:f,fillOpacity:v,stroke:y,strokeOpacity:S,strokeWidth:D,lineDash:I,lineDashOffset:T})});Object.assign(m,b)}return m}updateNodeNodes(t){const{datumSelection:e,isHighlight:i}=t,n=this.getBaseNodeStyle(i);e.each((s,a)=>{const{datumIndex:o,size:r,label:l}=a,c=this.getNodeStyleOverrides(String(o),a,o.index,r,l,n,i);s.x=a.x,s.y=a.y,s.width=Math.max(a.width,0),s.height=Math.max(a.height,0),BG(s,n,c)})}updateLinkSelection(t){return t.datumSelection.update(t.nodeData,void 0,e=>xS([e.type,e.index,e.fromNode.id,e.toNode.id]))}getBaseLinkStyle(t){const{properties:e}=this,{fill:i,fillOpacity:n,stroke:s,strokeOpacity:a,lineDash:o,lineDashOffset:r}=e.link,l=t?e.highlightStyle.item:void 0;return{fill:(l==null?void 0:l.fill)??i,fillOpacity:(l==null?void 0:l.fillOpacity)??n,stroke:(l==null?void 0:l.stroke)??s,strokeOpacity:(l==null?void 0:l.strokeOpacity)??a,strokeWidth:(l==null?void 0:l.strokeWidth)??this.getStrokeWidth(e.link.strokeWidth),lineDash:(l==null?void 0:l.lineDash)??o,lineDashOffset:(l==null?void 0:l.lineDashOffset)??r}}getLinkStyleOverrides(t,e,i,n,s){const{id:a,properties:o}=this,{fills:r,strokes:l}=o,{itemStyler:c}=o.link,h=n.fill??r[i%r.length],p=n.stroke??l[i%l.length],f={};if(s||(f.fill=h,f.stroke=p),c!=null){const y=this.cachedDatumCallback(xS(t,s?"highlight":"node"),()=>{const{fillOpacity:m=1,strokeOpacity:b=1,strokeWidth:v=0,lineDash:S=[],lineDashOffset:D=0}=n;return c({seriesId:a,datum:e,highlighted:s,fill:h,fillOpacity:m,stroke:p,strokeOpacity:b,strokeWidth:v,lineDash:S,lineDashOffset:D})});Object.assign(f,y)}return f}updateLinkNodes(t){const{datumSelection:e,isHighlight:i}=t,n=this.getBaseLinkStyle(i);e.each((s,a)=>{const{datumIndex:o}=a,r=a.fromNode.datumIndex,l=this.getLinkStyleOverrides(String(o),a,r.index,n,i);s.x1=a.x1,s.y1=a.y1,s.x2=a.x2,s.y2=a.y2,s.height=a.height,BG(s,n,l),s.inset=s.strokeWidth/2})}getTooltipContent(t){var v,S;const{id:e,linksProcessedData:i,nodesProcessedData:n,properties:s}=this,{fromKey:a,toKey:o,sizeKey:r,sizeName:l,tooltip:c}=s,{datumIndex:h}=t,p=t.type===0?t.fromNode.index:t.index,f=t.type===0?`${t.fromNode.label} - ${t.toNode.label}`:t.label,y=h.type===0?(v=i==null?void 0:i.dataSources.get(this.id))==null?void 0:v[h.index]:(S=n==null?void 0:n.dataSources.get(this.id))==null?void 0:S[h.index],m=t.size;let b;if(t.type===0){const D=t.fromNode.datumIndex,I=this.getBaseLinkStyle(!1);Object.assign(I,this.getLinkStyleOverrides(String(h),y,D.index,I,!1)),b=I}else{const D=t.label,I=this.getBaseNodeStyle(!1);Object.assign(I,this.getNodeStyleOverrides(String(h),y,h.index,m,D,I,!1)),b=I}return c.formatTooltip({title:f,symbol:this.legendItemSymbol(t.type,p,b),data:r!=null?[{label:l,fallbackLabel:r,value:String(m)}]:[]},{seriesId:e,datum:y,title:f,fromKey:a,toKey:o,sizeKey:r,sizeName:l,size:m,...b})}computeFocusBounds(t){if(t instanceof FG){const{x:e,y:i,width:n,height:s}=t,a=new ZCt(e,i,n,s);return KCt.toCanvas(this.contentGroup,a)}return t}};xR.className="SankeySeries";xR.type="sankey";var qCt={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["flow-proportion"],solo:!0,identifier:"sankey",moduleFactory:t=>new xR(t),tooltipDefaults:{range:"exact"},themeTemplate:{seriesArea:{padding:{top:10,bottom:10}},series:{highlightStyle:{series:{dimOpacity:.2}},label:{fontFamily:{$ref:"fontFamily"},fontSize:{$ref:"fontSize"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"},spacing:10},node:{spacing:20,width:10,strokeWidth:0},link:{fillOpacity:.5,strokeWidth:0}},legend:{enabled:!1,toggleSeries:!1}},paletteFactory({takeColors:t,colorsCount:e}){return t(e)}},{HierarchySeriesProperties:QCt,HighlightStyle:JCt,SeriesTooltip:t1t,Validate:an,COLOR_STRING:e1t,FUNCTION:i1t,NUMBER:jK,OBJECT:Jg,POSITIVE_NUMBER:bR,RATIO:QD,STRING:JD}=z,Ih=class extends JCt{constructor(){super(...arguments),this.label=new hl,this.secondaryLabel=new hl}};A([an(JD,{optional:!0})],Ih.prototype,"fill");A([an(QD,{optional:!0})],Ih.prototype,"fillOpacity");A([an(e1t,{optional:!0})],Ih.prototype,"stroke");A([an(bR,{optional:!0})],Ih.prototype,"strokeWidth");A([an(QD,{optional:!0})],Ih.prototype,"strokeOpacity");A([an(Jg)],Ih.prototype,"label");A([an(Jg)],Ih.prototype,"secondaryLabel");var aa=class extends QCt{constructor(){super(...arguments),this.fillOpacity=1,this.strokeWidth=0,this.strokeOpacity=1,this.cornerRadius=0,this.highlightStyle=new Ih,this.label=new hl,this.secondaryLabel=new Wb,this.tooltip=new t1t}};A([an(JD,{optional:!0})],aa.prototype,"sizeName");A([an(JD,{optional:!0})],aa.prototype,"labelKey");A([an(JD,{optional:!0})],aa.prototype,"secondaryLabelKey");A([an(QD)],aa.prototype,"fillOpacity");A([an(bR)],aa.prototype,"strokeWidth");A([an(QD)],aa.prototype,"strokeOpacity");A([an(bR)],aa.prototype,"cornerRadius");A([an(jK,{optional:!0})],aa.prototype,"sectorSpacing");A([an(jK,{optional:!0})],aa.prototype,"padding");A([an(i1t,{optional:!0})],aa.prototype,"itemStyler");A([an(Jg)],aa.prototype,"highlightStyle");A([an(Jg)],aa.prototype,"label");A([an(Jg)],aa.prototype,"secondaryLabel");A([an(Jg)],aa.prototype,"tooltip");var{fromToMotion:n1t,normalizeAngle360:s1t,createDatumId:a1t,Sector:Z1,Group:bS,ScalableGroup:o1t,Selection:q1,TransformableText:Q1,applyShapeStyle:r1t}=z,l1t=class extends z.HierarchyNode{constructor(){super(...arguments),this.label=void 0,this.secondaryLabel=void 0,this.contentHeight=0,this.bbox=void 0,this.startAngle=0,this.endAngle=0}};function FK(t,e=0,i=2*Math.PI/t.sumSize){for(const n of t.children){const s=e+n.sumSize*i;n.startAngle=e,n.endAngle=s,FK(n,e,i),e=s}}var vR=class extends z.HierarchySeries{constructor(){super(...arguments),this.NodeClass=l1t,this.properties=new aa,this.scalingGroup=this.contentGroup.appendChild(new o1t),this.sectorGroup=this.scalingGroup.appendChild(new bS),this.sectorLabelGroup=this.scalingGroup.appendChild(new bS),this.highlightSectorGroup=this.scalingGroup.appendChild(new bS),this.datumSelection=q1.select(this.sectorGroup,Z1),this.labelSelection=q1.select(this.sectorLabelGroup,bS),this.highlightSelection=q1.select(this.highlightSectorGroup,Z1)}processData(){super.processData(),FK(this.rootNode)}updateSelections(){var a;const t=(a=this.ctx.highlightManager)==null?void 0:a.getActiveHighlight();if(this.highlightSelection.update(t!=null?[t]:[],void 0,o=>this.getDatumId(o)),!this.nodeDataRefresh)return;this.nodeDataRefresh=!1;const{chart:e}=this;if(e==null||e.seriesRect==null)return;const n=Array.from(this.rootNode),s=o=>{o.append([new Q1({tag:0}),new Q1({tag:1})])};this.datumSelection.update(n,void 0,o=>this.getDatumId(o)),this.labelSelection.update(n,s,o=>this.getDatumId(o))}getItemBaseStyle(t){const{properties:e}=this,i=t?e.highlightStyle:void 0;return{fill:i==null?void 0:i.fill,fillOpacity:(i==null?void 0:i.fillOpacity)??e.fillOpacity,stroke:i==null?void 0:i.stroke,strokeWidth:(i==null?void 0:i.strokeWidth)??this.getStrokeWidth(e.strokeWidth),strokeOpacity:(i==null?void 0:i.strokeOpacity)??e.strokeOpacity}}getItemStyleOverrides(t,e,i,n,s,a){const{id:o,properties:r,colorScale:l}=this,{fills:c,strokes:h,itemStyler:p}=r,f=t[0],y=s.fill??c[f%c.length],m=s.stroke??h[f%h.length],b={};if(a||(b.fill=n!=null?l.convert(n):y,b.stroke=m),p!=null){const v=this.cachedDatumCallback(a1t(t.join(":"),a?"highlight":"node"),()=>p({seriesId:o,datum:e,depth:i,highlighted:a,fill:y,stroke:m,...s}));Object.assign(b,v)}return b}updateNodes(){var B,R,L;const{chart:t,data:e,maxDepth:i}=this;if(t==null||e==null)return;const{width:n,height:s}=t.seriesRect,{sectorSpacing:a=0,padding:o=0,cornerRadius:r,childrenKey:l,colorKey:c,colorName:h,labelKey:p,secondaryLabelKey:f,sizeKey:y,sizeName:m}=this.properties;this.contentGroup.translationX=n/2,this.contentGroup.translationY=s/2;const b=a*.5,S=Math.min(n,s)/2/(i+1),D=-Math.PI/2;(B=this.rootNode)==null||B.walk(F=>{const{startAngle:j,endAngle:G}=F;if(F.depth!=null){const W=(j+G)/2+D,Z=(F.depth+.5)*S;F.midPoint.x=Math.cos(W)*Z,F.midPoint.y=Math.sin(W)*Z}}),(R=this.rootNode)==null||R.walk(F=>{const{datum:j,depth:G,startAngle:W,endAngle:Z,parent:U,sumSize:K}=F;F.label=void 0,F.secondaryLabel=void 0,F.contentHeight=0;let $;if(j!=null&&G!=null&&p!=null){const St=j[p];$=this.getLabelText(this.properties.label,{depth:G,datum:j,childrenKey:l,colorKey:c,colorName:h,labelKey:p,secondaryLabelKey:f,sizeKey:y,sizeName:m,value:St})}$===""&&($=void 0);let X;if(j!=null&&G!=null&&f!=null){const St=j[f];X=this.getLabelText(this.properties.secondaryLabel,{depth:G,datum:j,childrenKey:l,colorKey:c,colorName:h,labelKey:p,secondaryLabelKey:f,sizeKey:y,sizeName:m,value:St})}if(X===""&&(X=void 0),G==null)return;const _=G*S+b,V=(G+1)*S-b,Y=_>b?b/_:b,J=V>b?b/V:b,q=W+Y,st=Z+Y-q,rt=W+J,dt=Z+J-rt,ht=St=>{if(G===0&&(U==null?void 0:U.sumSize)===K)return{width:2*Math.sqrt(V**2-(St*.5)**2),height:St,meta:0};const Ht=St,on=2*Math.sqrt(V**2-(_+Ht)**2),Fi=st<Math.PI?2*_*Math.tan(st*.5):1/0,gs=Math.min(on,Fi),Fs=Math.PI/4;let Xn,oa;return G===0?(Xn=St,oa=Math.sqrt(V**2-(Xn/2)**2)-St/(2*Math.tan(dt*.5))):s1t(st)<Fs?(Xn=2*_*Math.tan(st*.5),oa=Math.sqrt(V**2-(Xn/2)**2)-_):(oa=0,Xn=0),gs>=oa?{width:gs,height:Ht,meta:1}:{width:oa,height:Xn,meta:2}},yt=Ow($,this.properties.label,X,this.properties.secondaryLabel,{padding:o},ht);if(yt==null)return;const{width:pt,height:vt,meta:At,label:bt,secondaryLabel:Rt}=yt,Nt=D+(W+Z)/2,Ot=Math.sin(Nt)>=0,Xt=Math.cos(Nt)>=0,zt=(Ot?3:12)&(Xt?6:9);let Gt;switch(At){case 0:Gt=0;break;case 1:{const Ie=V-(S-vt)*.58,Ht=Math.sqrt((V-o)**2-(pt/2)**2);Gt=Math.min(Ie,Ht);break}case 2:if(G===0){const St=vt/(2*Math.tan(st*.5))+pt*.5,Ie=Math.sqrt(V**2-(vt*.5)**2)-pt*.5;Gt=(St+Ie)*.5}else Gt=(_+V)*.5;break}if(bt!=null){const{fontStyle:St="normal",fontFamily:Ie,fontWeight:Ht="normal",color:on="black"}=this.properties.label;F.label={...bt,fontStyle:St,fontFamily:Ie,fontWeight:Ht,color:on,labelPlacement:At,circleQuarter:zt,radius:Gt,theta:Nt}}if(Rt!=null){const{fontStyle:St="normal",fontFamily:Ie,fontWeight:Ht="normal",color:on="black"}=this.properties.secondaryLabel;F.secondaryLabel={...Rt,fontStyle:St,fontFamily:Ie,fontWeight:Ht,color:on,labelPlacement:At,circleQuarter:zt,radius:Gt,theta:Nt}}F.contentHeight=yt.height});const I=(F,j,G,W)=>{const{datum:Z,datumIndex:U,depth:K,colorValue:$,startAngle:X,endAngle:_}=F;if(K==null){j.visible=!1;return}j.visible=!0;const V=this.getItemStyleOverrides(U,Z,K,$,G,W),Y=V.strokeWidth??G.strokeWidth;r1t(j,G,V),j.centerX=0,j.centerY=0,j.innerRadius=K*S,j.outerRadius=(K+1)*S,j.startAngle=X+D,j.endAngle=_+D,j.inset=b+Y*.5,j.cornerRadius=r},T=this.getItemBaseStyle(!1);this.datumSelection.each((F,j)=>{I(j,F,T,!1)});const k=this.getItemBaseStyle(!0);this.highlightSelection.each((F,j)=>{I(j,F,k,!0)});const E=(F,j,G,W)=>{const{depth:Z,contentHeight:U}=F,K=G===0,$=K?F.label:F.secondaryLabel;if(Z==null||$==null){j.visible=!1;return}const{labelPlacement:X,circleQuarter:_,radius:V,theta:Y}=$;let J;switch(W&&(J=(K?this.properties.highlightStyle.label:this.properties.highlightStyle.secondaryLabel).color),j.text=$.text,j.fontSize=$.fontSize,j.lineHeight=$.lineHeight,j.fontStyle=$.fontStyle,j.fontFamily=$.fontFamily,j.fontWeight=$.fontWeight,j.fill=J??$.color,X){case 0:j.textAlign="center",j.textBaseline="top",j.translationX=0,j.translationY=(K?0:U-$.height)-U*.5,j.rotation=0;break;case 1:{const q=(_&3)!==0,nt=K===!q?V:V-(U-$.height);j.textAlign="center",j.textBaseline=q?"bottom":"top",j.translationX=Math.cos(Y)*nt,j.translationY=Math.sin(Y)*nt,j.rotation=q?Y-Math.PI*.5:Y+Math.PI*.5;break}case 2:{const q=(_&6)!==0,nt=K===!q?(U-$.height)*.5:($.height-U)*.5;j.textAlign="center",j.textBaseline="middle",j.translationX=Math.cos(Y)*V+Math.cos(Y+Math.PI/2)*nt,j.translationY=Math.sin(Y)*V+Math.sin(Y+Math.PI/2)*nt,j.rotation=q?Y:Y+Math.PI;break}}j.visible=!0},O=(L=this.ctx.highlightManager)==null?void 0:L.getActiveHighlight();this.labelSelection.selectByClass(Q1).forEach(F=>{E(F.datum,F,F.tag,F.datum===O)})}getTooltipContent(t){const{id:e,properties:i}=this,{labelKey:n,secondaryLabelKey:s,childrenKey:a,sizeKey:o,sizeName:r,colorKey:l,colorName:c,tooltip:h}=i,{datum:p,datumIndex:f,depth:y}=t;if(p==null||y==null)return;const m=[],b=o!=null?p[o]:void 0;b!=null&&m.push({label:r,fallbackLabel:o,value:b});const v=l!=null?p[l]:void 0;v!=null&&m.push({label:c,fallbackLabel:l,value:v});const S=this.getItemBaseStyle(!1);Object.assign(S,this.getItemStyleOverrides(f,p,y,v,S,!1));const D=S.fill;return h.formatTooltip({title:n!=null?p[n]:void 0,symbol:{marker:{shape:"square",fill:D,fillOpacity:1,stroke:void 0,strokeWidth:0,strokeOpacity:1,lineDash:[0],lineDashOffset:0}},data:m},{seriesId:e,datum:p,title:void 0,depth:y,labelKey:n,secondaryLabelKey:s,childrenKey:a,sizeKey:o,sizeName:r,colorKey:l,colorName:c,...S})}createNodeData(){}pickNodeClosestDatum(t){return this.pickNodeNearestDistantObject(t,this.datumSelection.selectByClass(Z1))}animateEmptyUpdateReady(){n1t(this.id,"nodes",this.ctx.animationManager,[this.scalingGroup],{toFn(){return{scalingX:1,scalingY:1}},fromFn(){return{scalingX:0,scalingY:0}}})}computeFocusBounds(t){return t}};vR.className="SunburstSeries";vR.type="sunburst";var{FONT_SIZE_RATIO:GG,ThemeSymbols:{DEFAULT_DIVERGING_SERIES_COLOR_RANGE:c1t}}=z,u1t={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["hierarchy"],identifier:"sunburst",moduleFactory:t=>new vR(t),tooltipDefaults:{range:"exact"},solo:!0,themeTemplate:{series:{label:{fontFamily:{$ref:"fontFamily"},fontSize:{$rem:[GG.LARGE]},minimumFontSize:{$round:[{$mul:[{$ref:"fontSize"},9/12]}]},fontWeight:{$ref:"fontWeight"},color:{$ref:"backgroundColor"},overflowStrategy:"ellipsis",wrapping:"never",spacing:2},secondaryLabel:{fontFamily:{$ref:"fontFamily"},fontSize:{$rem:[GG.SMALLEST]},minimumFontSize:{$round:[{$mul:[{$ref:"fontSize"},7/12]}]},fontWeight:{$ref:"fontWeight"},color:{$ref:"backgroundColor"},overflowStrategy:"ellipsis",wrapping:"never"},sectorSpacing:2,padding:3,highlightStyle:{label:{color:{$ref:"backgroundColor"}},secondaryLabel:{color:{$ref:"backgroundColor"}},fill:"rgba(255,255,255, 0.33)",stroke:"rgba(0, 0, 0, 0.4)",strokeWidth:2}},gradientLegend:{enabled:!0}},paletteFactory:({takeColors:t,colorsCount:e,themeTemplateParameters:i})=>{const{fills:n,strokes:s}=t(e),a=i.get(c1t);return{fills:n,strokes:s,colorRange:a}}},{BaseProperties:tI,HierarchySeriesProperties:h1t,HighlightStyle:d1t,SeriesTooltip:p1t,Validate:Kt,BOOLEAN:f1t,COLOR_STRING:eI,FUNCTION:g1t,NUMBER:y1t,OBJECT:Xo,POSITIVE_NUMBER:Ll,RATIO:Th,STRING:bp,STRING_ARRAY:GK,TEXT_ALIGN:VK,VERTICAL_ALIGN:m1t,Label:x1t}=z,UK=class extends x1t{constructor(){super(...arguments),this.spacing=0}};A([Kt(y1t)],UK.prototype,"spacing");var Zo=class extends tI{constructor(){super(...arguments),this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.cornerRadius=0,this.textAlign="center",this.gap=0,this.padding=0,this.interactive=!0,this.label=new UK}};A([Kt(bp,{optional:!0})],Zo.prototype,"fill");A([Kt(Th)],Zo.prototype,"fillOpacity");A([Kt(eI,{optional:!0})],Zo.prototype,"stroke");A([Kt(Ll)],Zo.prototype,"strokeWidth");A([Kt(Th)],Zo.prototype,"strokeOpacity");A([Kt(Ll)],Zo.prototype,"cornerRadius");A([Kt(VK)],Zo.prototype,"textAlign");A([Kt(Ll)],Zo.prototype,"gap");A([Kt(Ll)],Zo.prototype,"padding");A([Kt(f1t)],Zo.prototype,"interactive");A([Kt(Xo)],Zo.prototype,"label");var Qa=class extends tI{constructor(){super(...arguments),this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.cornerRadius=0,this.textAlign="center",this.verticalAlign="middle",this.gap=0,this.padding=0,this.label=new hl,this.secondaryLabel=new Wb}};A([Kt(bp,{optional:!0})],Qa.prototype,"fill");A([Kt(Th)],Qa.prototype,"fillOpacity");A([Kt(eI,{optional:!0})],Qa.prototype,"stroke");A([Kt(Ll,{optional:!0})],Qa.prototype,"strokeWidth");A([Kt(Th)],Qa.prototype,"strokeOpacity");A([Kt(Ll)],Qa.prototype,"cornerRadius");A([Kt(VK)],Qa.prototype,"textAlign");A([Kt(m1t)],Qa.prototype,"verticalAlign");A([Kt(Ll)],Qa.prototype,"gap");A([Kt(Ll)],Qa.prototype,"padding");A([Kt(Xo)],Qa.prototype,"label");A([Kt(Xo)],Qa.prototype,"secondaryLabel");var vp=class extends tI{constructor(){super(...arguments),this.label=new hl}};A([Kt(bp,{optional:!0})],vp.prototype,"fill");A([Kt(Th,{optional:!0})],vp.prototype,"fillOpacity");A([Kt(eI,{optional:!0})],vp.prototype,"stroke");A([Kt(Ll,{optional:!0})],vp.prototype,"strokeWidth");A([Kt(Th,{optional:!0})],vp.prototype,"strokeOpacity");A([Kt(Xo)],vp.prototype,"label");var Ch=class extends tI{constructor(){super(...arguments),this.label=new hl,this.secondaryLabel=new Wb}};A([Kt(bp,{optional:!0})],Ch.prototype,"fill");A([Kt(Th,{optional:!0})],Ch.prototype,"fillOpacity");A([Kt(eI,{optional:!0})],Ch.prototype,"stroke");A([Kt(Ll,{optional:!0})],Ch.prototype,"strokeWidth");A([Kt(Th,{optional:!0})],Ch.prototype,"strokeOpacity");A([Kt(Xo)],Ch.prototype,"label");A([Kt(Xo)],Ch.prototype,"secondaryLabel");var SR=class extends d1t{constructor(){super(...arguments),this.group=new vp,this.tile=new Ch}};A([Kt(Xo)],SR.prototype,"group");A([Kt(Xo)],SR.prototype,"tile");var Or=class extends h1t{constructor(){super(...arguments),this.highlightStyle=new SR,this.tooltip=new p1t,this.group=new Zo,this.tile=new Qa,this.undocumentedGroupFills=[],this.undocumentedGroupStrokes=[]}};A([Kt(bp,{optional:!0})],Or.prototype,"sizeName");A([Kt(bp,{optional:!0})],Or.prototype,"labelKey");A([Kt(bp,{optional:!0})],Or.prototype,"secondaryLabelKey");A([Kt(g1t,{optional:!0})],Or.prototype,"itemStyler");A([Kt(Xo)],Or.prototype,"highlightStyle");A([Kt(Xo)],Or.prototype,"tooltip");A([Kt(Xo)],Or.prototype,"group");A([Kt(Xo)],Or.prototype,"tile");A([Kt(GK)],Or.prototype,"undocumentedGroupFills");A([Kt(GK)],Or.prototype,"undocumentedGroupStrokes");var{TextUtils:b1t,TextWrapper:v1t,isNumberEqual:S1t,createDatumId:VG,Rect:UG,Group:HG,BBox:vS,Selection:J1,Text:FS,Transformable:M1t,applyShapeStyle:A1t}=z,D1t=class extends z.HierarchyNode{constructor(){super(...arguments),this.labelValue=void 0,this.secondaryLabelValue=void 0,this.label=void 0,this.secondaryLabel=void 0,this.bbox=void 0,this.padding=void 0}},WG=new FS;function I1t(t,e){const{fontStyle:i,fontWeight:n,fontSize:s,fontFamily:a}=e;WG.setProperties({text:t,fontStyle:i,fontWeight:n,fontSize:s,fontFamily:a,textAlign:"left",textBaseline:"top"});const{width:o,height:r}=WG.getBBox();return{width:o,height:r}}function Cu(t){return t.children.length>0?t.sumSize-t.sizeValue:t.sizeValue}var YG={left:0,center:.5,right:1},T1t={top:0,middle:.5,bottom:1};(class extends z.Group{distanceSquared(t,e){return this.getBBox().distanceSquared(t,e)}});var MR=class extends z.HierarchySeries{constructor(){super(...arguments),this.NodeClass=D1t,this.properties=new Or,this.rectGroup=this.contentGroup.appendChild(new HG),this.datumSelection=J1.select(this.rectGroup,UG),this.labelSelection=J1.select(this.labelGroup,HG),this.highlightSelection=J1.select(this.rectGroup,UG)}groupTitleHeight(t,e){const{labelValue:i}=t,{label:n}=this.properties.group,s=3;if(i!=null){if(n.fontSize>e.width/s||n.fontSize>e.height/s)return;{const{height:a}=I1t(i,n);return Math.max(a,n.fontSize)}}}getNodePadding(t,e){if(t.parent==null)return{top:0,right:0,bottom:0,left:0};if(t.children.length===0){const{padding:o}=this.properties.tile;return{top:o,right:o,bottom:o,left:o}}const{label:{spacing:i},padding:n}=this.properties.group,s=this.groupTitleHeight(t,e),a=s!=null?s+i:0;return{top:n+a,right:n,bottom:n,left:n}}sortChildren({children:t}){const e=Array.from(t,(n,s)=>s).filter(n=>Cu(t[n])>0).sort((n,s)=>Cu(t[s])-Cu(t[n]));return{sortedChildrenIndices:e,childAt:n=>{const s=e[n];return t[s]}}}squarify(t,e){const{datum:i,children:n}=t;if(e.width<=0||e.height<=0){t.bbox=void 0,t.padding=void 0,t.midPoint.x=NaN,t.midPoint.y=NaN;return}const s=i!=null?this.getNodePadding(t,e):{top:0,right:0,bottom:0,left:0};t.parent==null?(t.bbox=void 0,t.padding=void 0,t.midPoint.x=NaN,t.midPoint.y=NaN):(t.bbox=e,t.padding=s,t.midPoint.x=e.x+e.width/2,t.midPoint.y=e.y);const{sortedChildrenIndices:a,childAt:o}=this.sortChildren(t),r=a.every(k=>n[k].children.length===0),l=1,c=e.width-s.left-s.right,h=e.height-s.top-s.bottom;if(c<=0||h<=0)return;const p=a.length;let f=0,y=0,m=1/0,b=a.reduce((k,E)=>k+Cu(n[E]),0);const v=new vS(e.x+s.left,e.y+s.top,c,h),S=v.clone();let D=0;for(;D<p;){const k=Cu(o(D)),E=Cu(o(y)),O=S.width<S.height;f+=k;const B=O?S.height:S.width,R=O?S.width:S.height,L=R*E/f;let F=B*f/b;const j=Math.max(L,F)/Math.min(L,F),G=Math.abs(l-j);if(G<m){m=G,D++;continue}f-=k,F=B*f/b;let W=O?S.x:S.y;for(let Z=y;Z<D;Z++){const U=o(Z),K=Cu(U),$=O?W:S.x,X=O?S.y:W,_=R*K/f,V=O?_:F,Y=O?F:_,J=new vS($,X,V,Y);this.applyGap(v,J,r),this.squarify(U,J),b-=K,W+=_}O?(S.y+=F,S.height-=F):(S.x+=F,S.width-=F),y=D,f=0,m=1/0}const I=S.width<S.height;let T=I?S.x:S.y;for(let k=y;k<p;k++){const E=o(k),O=I?T:S.x,B=I?S.y:T,R=Cu(E)/b,L=S.width*(I?R:1),F=S.height*(I?1:R),j=new vS(O,B,L,F);this.applyGap(v,j,r),this.squarify(E,j),T+=I?L:F}}applyGap(t,e,i){const n=i?this.properties.tile.gap*.5:this.properties.group.gap*.5,s=l=>({left:l.x,top:l.y,right:l.x+l.width,bottom:l.y+l.height}),a=s(t),o=s(e);["top","right","bottom","left"].forEach(l=>{S1t(a[l],o[l])||e.shrink(n,l)})}createNodeData(){}getGroupBaseStyle(t){const{properties:e}=this,{group:i}=e,n=t?e.highlightStyle.group:void 0;return{fill:(n==null?void 0:n.fill)??i.fill,fillOpacity:(n==null?void 0:n.fillOpacity)??i.fillOpacity,stroke:(n==null?void 0:n.stroke)??i.stroke,strokeWidth:(n==null?void 0:n.strokeWidth)??i.strokeWidth,strokeOpacity:(n==null?void 0:n.strokeOpacity)??i.strokeOpacity}}getGroupStyleOverrides(t,e,i,n,s){const{id:a,properties:o}=this,{undocumentedGroupFills:r,undocumentedGroupStrokes:l,itemStyler:c}=o,h=n.fill??r[Math.min(i??0,r.length)],p=n.stroke??l[Math.min(i??0,l.length)],f={};if(s||(f.fill=h,f.stroke=p),c!=null){const y=this.cachedDatumCallback(VG(t.join(":"),s?"highlight":"node"),()=>c({seriesId:a,datum:e,depth:i,highlighted:s,fill:h,stroke:p,...n}));Object.assign(f,y)}return f}getTileBaseStyle(t){const{properties:e}=this,{tile:i}=e,n=t?e.highlightStyle.tile:void 0;return{fill:(n==null?void 0:n.fill)??i.fill,fillOpacity:(n==null?void 0:n.fillOpacity)??i.fillOpacity,stroke:(n==null?void 0:n.stroke)??i.stroke,strokeWidth:(n==null?void 0:n.strokeWidth)??i.strokeWidth,strokeOpacity:(n==null?void 0:n.strokeOpacity)??i.strokeOpacity}}getTileStyleOverrides(t,e,i,n,s,a){const{id:o,properties:r,colorScale:l}=this,{fills:c,strokes:h,itemStyler:p}=r,f=t[0],y=s.fill??c[f%c.length],m=s.stroke??h[f%h.length],b={};if(a||(b.fill=n!=null?l.convert(n):y,b.stroke=m),p!=null){const v=this.cachedDatumCallback(VG(t.join(":"),a?"highlight":"node"),()=>p({seriesId:o,datum:e,depth:i,highlighted:a,fill:y,stroke:m,...s}));Object.assign(b,v)}return b}updateSelections(){var s;let t=(s=this.ctx.highlightManager)==null?void 0:s.getActiveHighlight();if(t!=null&&!this.properties.group.interactive&&t.children.length!==0&&(t=void 0),this.highlightSelection.update(t!=null?[t]:[],void 0,a=>this.getDatumId(a)),!this.nodeDataRefresh)return;this.nodeDataRefresh=!1;const{seriesRect:e}=this.chart??{};if(!e)return;const i=Array.from(this.rootNode),n=a=>{a.append([new FS({tag:0}),new FS({tag:1})])};this.datumSelection.update(i,void 0,a=>this.getDatumId(a)),this.labelSelection.update(i,n,a=>this.getDatumId(a))}updateNodes(){var E,O,B;const{rootNode:t,data:e}=this,{childrenKey:i,colorKey:n,colorName:s,labelKey:a,secondaryLabelKey:o,sizeKey:r,sizeName:l,highlightStyle:c,tile:h,group:p}=this.properties,{seriesRect:f}=this.chart??{};if(!f||!e)return;(E=this.rootNode)==null||E.walk(R=>{const{datum:L,depth:F,children:j}=R,G=j.length===0,W=G?h.label:p.label;let Z;if(L!=null&&F!=null&&a!=null){const K=L[a];Z=this.getLabelText(W,{depth:F,datum:L,childrenKey:i,colorKey:n,colorName:s,labelKey:a,secondaryLabelKey:o,sizeKey:r,sizeName:l,value:K})}Z===""&&(Z=void 0);let U;if(G&&L!=null&&F!=null&&o!=null){const K=L[o];U=this.getLabelText(h.secondaryLabel,{depth:F,datum:L,childrenKey:i,colorKey:n,colorName:s,labelKey:a,secondaryLabelKey:o,sizeKey:r,sizeName:l,value:K})}U===""&&(U=void 0),R.labelValue=Z,R.secondaryLabelValue=U});const{width:y,height:m}=f;this.squarify(t,new vS(0,0,y,m)),(O=this.rootNode)==null||O.walk(R=>{const{bbox:L,children:F,labelValue:j,secondaryLabelValue:G}=R;if(R.label=void 0,R.secondaryLabel=void 0,L!=null)if(F.length===0){const W={width:L.width,height:L.height,meta:null},Z=Ow(j,this.properties.tile.label,G,this.properties.tile.secondaryLabel,{padding:h.padding},()=>W);if(Z==null)return;const{height:U,label:K,secondaryLabel:$}=Z,{textAlign:X,verticalAlign:_,padding:V}=h,Y=YG[X]??.5,J=L.x+V+(L.width-2*V)*Y,q=T1t[_]??.5,nt=L.y+V+U*.5+(L.height-2*V-U)*q;if(K!=null){const{fontStyle:st="normal",fontFamily:rt,fontWeight:ct="normal",color:dt="black"}=this.properties.tile.label;R.label={text:K.text,fontSize:K.fontSize,lineHeight:K.lineHeight,fontStyle:st,fontFamily:rt,fontWeight:ct,color:dt,textAlign:X,verticalAlign:"middle",x:J,y:nt-(U-K.height)*.5}}if($!=null){const{fontStyle:st="normal",fontFamily:rt,fontWeight:ct="normal",color:dt="black"}=this.properties.tile.secondaryLabel;R.secondaryLabel={text:$.text,fontSize:$.fontSize,lineHeight:$.fontSize,fontStyle:st,fontFamily:rt,fontWeight:ct,color:dt,textAlign:X,verticalAlign:"middle",x:J,y:nt+(U-$.height)*.5}}}else{if(j==null)return;{const{padding:W,textAlign:Z}=p,U=this.groupTitleHeight(R,L);if(U==null)return;const K=L.width-2*W,$=v1t.wrapText(j,{maxWidth:L.width-2*W,font:p.label,textWrap:"never"}),X=YG[Z]??.5,{fontStyle:_="normal",fontFamily:V,fontWeight:Y="normal",color:J="black"}=this.properties.group.label;R.label={text:$,fontSize:p.label.fontSize,lineHeight:b1t.getLineHeight(p.label.fontSize),fontStyle:_,fontFamily:V,fontWeight:Y,color:J,textAlign:Z,verticalAlign:"middle",x:L.x+W+K*X,y:L.y+W+U*.5}}}});const b=(R,L,F,j,G)=>{var nt;const{bbox:W}=R;if(W==null){L.visible=!1;return}const{datum:Z,depth:U=-1,datumIndex:K,colorValue:$}=R,X=R.children.length===0,_=X?j:F,V=X?this.getTileStyleOverrides(K,Z,U,$,_,G):this.getGroupStyleOverrides(K,Z,U,_,G);L.crisp=!0,A1t(L,_,V),L.cornerRadius=X?h.cornerRadius:p.cornerRadius,L.zIndex=[0,U,G?1:0];const Y=(nt=R.parent)==null?void 0:nt.children.every(st=>st.children.length===0),J=R.parent!=null?R.parent.bbox:void 0,q=R.parent!=null?R.parent.padding:void 0;Y===!0&&J!=null&&q!=null?(L.clipBBox=W,L.x=J.x+q.left,L.y=J.y+q.top,L.width=J.width-(q.left+q.right),L.height=J.height-(q.top+q.bottom)):(L.clipBBox=void 0,L.x=W.x,L.y=W.y,L.width=W.width,L.height=W.height),L.visible=!0},v=this.getGroupBaseStyle(!1),S=this.getTileBaseStyle(!1);this.datumSelection.each((R,L)=>b(L,R,v,S,!1));const D=this.getGroupBaseStyle(!0),I=this.getTileBaseStyle(!0);this.highlightSelection.each((R,L)=>{b(L,R,D,I,!0)});const T=(R,L,F,j)=>{const G=R.children.length===0,W=F===0?R.label:R.secondaryLabel;if(W==null){L.visible=!1;return}let Z;if(j){const{tile:U,group:K}=c;Z=U.secondaryLabel.color,G?F===0&&(Z=U.label.color):Z=K.label.color}L.text=W.text,L.fontSize=W.fontSize,L.lineHeight=W.lineHeight,L.fontStyle=W.fontStyle,L.fontFamily=W.fontFamily,L.fontWeight=W.fontWeight,L.fill=Z??W.color,L.textAlign=W.textAlign,L.textBaseline=W.verticalAlign,L.x=W.x,L.y=W.y,L.visible=!0,L.zIndex=1},k=(B=this.ctx.highlightManager)==null?void 0:B.getActiveHighlight();this.labelSelection.selectByClass(FS).forEach(R=>{T(R.datum,R,R.tag,R.datum===k)})}pickNodeClosestDatum(t){const e=this.pickNodeExactShape(t);return e!==void 0?e:this.pickNodeNearestDistantObject(t,this.datumSelection.nodes())}getTooltipContent(t){const{id:e,properties:i}=this,{labelKey:n,secondaryLabelKey:s,childrenKey:a,sizeKey:o,sizeName:r,colorKey:l,colorName:c,tooltip:h}=i,{datum:p,datumIndex:f,depth:y,children:m}=t;if(p==null||y==null)return;const b=m.length===0,v=[],S=o!=null?p[o]:void 0;S!=null&&v.push({label:r,fallbackLabel:o,value:S});const D=l!=null?p[l]:void 0;D!=null&&v.push({label:c,fallbackLabel:l,value:D});let I;b?(I=this.getTileBaseStyle(!1),Object.assign(I,this.getTileStyleOverrides(f,p,y,D,I,!1))):(I=this.getGroupBaseStyle(!1),Object.assign(I,this.getGroupStyleOverrides(f,p,y,I,!1)));const T=I.fill,k=b?{marker:{shape:"square",fill:T,fillOpacity:1,stroke:void 0,strokeWidth:0,strokeOpacity:1,lineDash:[0],lineDashOffset:0}}:void 0;return h.formatTooltip({title:n!=null?p[n]:void 0,symbol:k,data:v},{seriesId:e,datum:p,title:void 0,depth:y,labelKey:n,secondaryLabelKey:s,childrenKey:a,sizeKey:o,sizeName:r,colorKey:l,colorName:c,...I})}computeFocusBounds(t){return M1t.toCanvas(this.contentGroup,t.getBBox())}};MR.className="TreemapSeries";MR.type="treemap";var{FONT_SIZE_RATIO:$G,ThemeSymbols:{DEFAULT_DIVERGING_SERIES_COLOR_RANGE:C1t,DEFAULT_HIERARCHY_FILLS:k1t,DEFAULT_HIERARCHY_STROKES:L1t}}=z,N1t={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["hierarchy"],identifier:"treemap",moduleFactory:t=>new MR(t),tooltipDefaults:{range:"exact"},solo:!0,themeTemplate:{series:{group:{label:{enabled:!0,color:{$ref:"textColor"},fontStyle:void 0,fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},spacing:4},fill:void 0,stroke:void 0,strokeWidth:1,padding:4,gap:2,textAlign:"left"},tile:{label:{enabled:!0,color:{$ref:"backgroundColor"},fontStyle:void 0,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:[1.5]},minimumFontSize:{$rem:[$G.SMALLER]},fontFamily:{$ref:"fontFamily"},wrapping:"on-space",overflowStrategy:"ellipsis",spacing:2},secondaryLabel:{enabled:!0,color:{$ref:"backgroundColor"},fontStyle:void 0,fontWeight:void 0,fontSize:{$ref:"fontSize"},minimumFontSize:{$rem:[$G.SMALLER]},fontFamily:{$ref:"fontFamily"},wrapping:"never",overflowStrategy:"ellipsis"},fill:void 0,stroke:void 0,strokeWidth:0,padding:3,gap:1},highlightStyle:{group:{label:{color:{$ref:"textColor"}},fill:"rgba(255,255,255, 0.33)",stroke:"rgba(0, 0, 0, 0.4)",strokeWidth:2},tile:{label:{color:{$ref:"backgroundColor"}},secondaryLabel:{color:{$ref:"backgroundColor"}},fill:"rgba(255,255,255, 0.33)",stroke:"rgba(0, 0, 0, 0.4)",strokeWidth:2}}},gradientLegend:{enabled:!0}},paletteFactory:({takeColors:t,colorsCount:e,themeTemplateParameters:i})=>{const{fills:n,strokes:s}=t(e),a=i.get(C1t),o=i.get(k1t),r=i.get(L1t);return{fills:n,strokes:s,colorRange:a,undocumentedGroupFills:o,undocumentedGroupStrokes:r}}},{AbstractBarSeriesProperties:E1t,BaseProperties:Qb,PropertiesArray:O1t,SeriesTooltip:w1t,Validate:fe,BOOLEAN:R1t,COLOR_STRING:AR,FUNCTION:HK,LINE_DASH:WK,NUMBER:P1t,OBJECT:$c,OBJECT_ARRAY:B1t,POSITIVE_NUMBER:ty,RATIO:DR,STRING:ey,UNION:YK,DropShadow:z1t,Label:_1t}=z,iI=class extends Qb{};A([fe(YK(["subtotal","total"],"a total type"))],iI.prototype,"totalType");A([fe(P1t)],iI.prototype,"index");A([fe(ey)],iI.prototype,"axisLabel");var $K=class extends Qb{};A([fe(HK,{optional:!0})],$K.prototype,"renderer");var IR=class extends _1t{constructor(){super(...arguments),this.placement="outside-end",this.padding=6}};A([fe(YK(["inside-center","inside-start","inside-end","outside-start","outside-end"],"a placement"))],IR.prototype,"placement");A([fe(ty)],IR.prototype,"padding");var ks=class extends Qb{constructor(){super(...arguments),this.fill="#c16068",this.stroke="#c16068",this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.strokeWidth=1,this.cornerRadius=0,this.shadow=new z1t().set({enabled:!1}),this.label=new IR,this.tooltip=new $K}};A([fe(ey,{optional:!0})],ks.prototype,"name");A([fe(AR)],ks.prototype,"fill");A([fe(AR)],ks.prototype,"stroke");A([fe(DR)],ks.prototype,"fillOpacity");A([fe(DR)],ks.prototype,"strokeOpacity");A([fe(WK)],ks.prototype,"lineDash");A([fe(ty)],ks.prototype,"lineDashOffset");A([fe(ty)],ks.prototype,"strokeWidth");A([fe(ty)],ks.prototype,"cornerRadius");A([fe(HK,{optional:!0})],ks.prototype,"itemStyler");A([fe($c)],ks.prototype,"shadow");A([fe($c)],ks.prototype,"label");A([fe($c)],ks.prototype,"tooltip");var Sp=class extends Qb{constructor(){super(...arguments),this.enabled=!0,this.stroke="black",this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.strokeWidth=2}};A([fe(R1t)],Sp.prototype,"enabled");A([fe(AR)],Sp.prototype,"stroke");A([fe(DR)],Sp.prototype,"strokeOpacity");A([fe(WK)],Sp.prototype,"lineDash");A([fe(ty)],Sp.prototype,"lineDashOffset");A([fe(ty)],Sp.prototype,"strokeWidth");var nI=class extends Qb{constructor(){super(...arguments),this.positive=new ks,this.negative=new ks,this.total=new ks}};A([fe($c)],nI.prototype,"positive");A([fe($c)],nI.prototype,"negative");A([fe($c)],nI.prototype,"total");var Kc=class extends E1t{constructor(){super(...arguments),this.item=new nI,this.totals=new O1t(iI),this.line=new Sp,this.tooltip=new w1t}};A([fe(ey)],Kc.prototype,"xKey");A([fe(ey)],Kc.prototype,"yKey");A([fe(ey,{optional:!0})],Kc.prototype,"xName");A([fe(ey,{optional:!0})],Kc.prototype,"yName");A([fe($c)],Kc.prototype,"item");A([fe(B1t)],Kc.prototype,"totals");A([fe($c)],Kc.prototype,"line");A([fe($c)],Kc.prototype,"tooltip");var{adjustLabelPlacement:j1t,SeriesNodePickMode:KG,fixNumericExtent:F1t,valueProperty:XG,keyProperty:G1t,accumulativeValueProperty:SS,trailingAccumulatedValueProperty:V1t,ChartAxisDirection:tk,createDatumId:U1t,checkCrisp:H1t,updateLabelNode:W1t,prepareBarAnimationFunctions:Y1t,collapsedStartingBarPosition:$1t,resetBarSelectionsFn:K1t,seriesLabelFadeInAnimation:X1t,resetLabelFn:Z1t,animationValidation:q1t,DEFAULT_CARTESIAN_DIRECTION_KEYS:Q1t,DEFAULT_CARTESIAN_DIRECTION_NAMES:J1t,computeBarFocusBounds:tkt,isContinuous:ZG,Rect:ekt,motion:ikt,applyShapeStyle:nkt}=z,TR=class extends z.AbstractBarSeries{constructor(t){super({moduleCtx:t,directionKeys:Q1t,directionNames:J1t,pickModes:[KG.NEAREST_NODE,KG.EXACT_SHAPE_MATCH],pathsPerSeries:["connector"],hasHighlightedLabels:!0,pathsZIndexSubOrderOffset:[-1,-1],animationResetFns:{datum:K1t,label:Z1t}}),this.properties=new Kc,this.seriesItemTypes=new Set(["positive","negative","total"])}async processData(t){var D,I,T,k;const{xKey:e,yKey:i,totals:n}=this.properties,{data:s=[]}=this;if(!this.properties.isValid()||!this.visible)return;const a=E=>ZG(E)&&Number(E)>=0,o=E=>ZG(E)&&Number(E)>=0,r=E=>E==="total"||E==="subtotal",l={missingValue:void 0,invalidValue:void 0},c=[],h=n.reduce((E,O)=>{const B=E.get(O.index);return B?B.push(O):E.set(O.index,[O]),E},new Map);s.forEach((E,O)=>{var B;c.push(E),(B=h.get(O))==null||B.forEach(R=>c.push({...R.toJson(),[e]:R.axisLabel}))});const p=[];this.ctx.animationManager.isSkipped()||p.push(q1t());const f=(D=this.getCategoryAxis())==null?void 0:D.scale,y=(I=this.getValueAxis())==null?void 0:I.scale,{isContinuousX:m,xScaleType:b,yScaleType:v}=this.getScaleInformation({xScale:f,yScale:y}),{processedData:S}=await this.requestDataModel(t,c,{props:[G1t(e,b,{id:"xValue"}),SS(i,v,{...l,id:"yCurrent"}),SS(i,v,{...l,missingValue:0,id:"yCurrentTotal"}),SS(i,v,{...l,id:"yCurrentPositive",validation:a}),SS(i,v,{...l,id:"yCurrentNegative",validation:o}),V1t(i,v,{...l,id:"yPrevious"}),XG(i,v,{id:"yRaw"}),XG("totalType","band",{id:"totalTypeValue",missingValue:void 0,validation:r}),...m?[z.SMALLEST_KEY_INTERVAL,z.LARGEST_KEY_INTERVAL]:[],...p]});this.smallestDataInterval=(T=S.reduced)==null?void 0:T.smallestKeyInterval,this.largestDataInterval=(k=S.reduced)==null?void 0:k.largestKeyInterval,this.updateSeriesItemTypes(),this.animationState.transition("updateData")}getSeriesDomain(t){const{processedData:e,dataModel:i}=this;if(!e||!i)return[];const{keys:[n],values:s}=e.domain;if(t===this.getCategoryDirection()){const a=i.resolveProcessedDataDefById(this,"xValue");if((a==null?void 0:a.def.type)==="key"&&(a==null?void 0:a.def.valueType)==="category")return n;const o=t===tk.Y,r=this.getCategoryAxis().isReversed();return this.padBandExtent(n,r!==o)}else{const a=i.resolveProcessedDataIndexById(this,"yCurrent"),o=s[a],r=[Math.min(0,o[0]),Math.max(0,o[1])];return F1t(r)}}getSeriesRange(t,e){return[NaN,NaN]}createNodeData(){const{data:t,dataModel:e,processedData:i}=this,n=this.getCategoryAxis(),s=this.getValueAxis();if(!t||!n||!s||!e||!i)return;const{line:a}=this.properties,o=n.scale,r=s.scale,l=this.getBarDirection()===tk.X,c=this.getBandwidth(n)??10,h=n.isReversed(),p=s.isReversed();if(i.type!=="ungrouped")return;const f={itemId:this.properties.yKey,nodeData:[],labelData:[],pointData:[],scales:this.calculateScaling(),visible:this.visible};if(!this.visible)return f;const y=[],m=e.resolveKeysById(this,"xValue",i),b=e.resolveColumnById(this,"yRaw",i),v=e.resolveColumnById(this,"totalTypeValue",i),S=e.resolveColumnById(this,"yCurrent",i),D=e.resolveColumnById(this,"yPrevious",i),I=e.resolveColumnById(this,"yCurrentTotal",i),T=H1t(n==null?void 0:n.scale,n==null?void 0:n.visibleRange,this.smallestDataInterval,this.largestDataInterval);function k(W,Z,U){return W||Z?{cumulativeValue:I[U],trailingValue:Z?O:0}:{cumulativeValue:S[U],trailingValue:D[U]}}function E(W,Z,U,K,$){return W?K:Z?(K??0)-($??0):U}let O=0;const{xKey:B,yKey:R,xName:L,yName:F}=this.properties;(i.dataSources.get(this.id)??[]).forEach((W,Z)=>{const U=v[Z],K=this.isSubtotal(U),$=this.isTotal(U),X=$||K,_=m[Z];if(_==null)return;const V=Math.round(o.convert(_)),Y=b[Z],{cumulativeValue:J,trailingValue:q}=k($,K,Z);X&&(O=J??0);const nt=Math.round(r.convert(J)),st=Math.round(r.convert(q)),rt=E($,K,Y,J,q),ct=(rt??0)>=0,dt=this.getSeriesItemType(ct,U),{strokeWidth:ht,label:yt}=this.getItemConfig(dt),pt=ct?nt:st,vt=ct?st:nt,At=Math.max(ht,Math.abs(vt-pt)),bt={x:l?Math.min(pt,vt):V,y:l?V:Math.min(pt,vt),width:l?At:c,height:l?c:At},Rt={x:bt.x+bt.width/2,y:bt.y+bt.height/2},Nt=X?nt:st,Ot=Math.floor(a.strokeWidth)%2/2,Xt=h?nt:Nt,zt=h?Nt:nt;let Gt,St;l?(Gt={x:Xt+Ot,y:bt.y},St={x:zt+Ot,y:bt.y+bt.height}):(Gt={x:bt.x,y:Xt+Ot},St={x:bt.x+bt.width,y:zt+Ot});const Ie={x:h?St.x:Gt.x,y:h?St.y:Gt.y,x2:h?Gt.x:St.x,y2:h?Gt.y:St.y,size:0};y.push(Ie);const Ht=dt==="subtotal"?"total":dt,on=this.getLabelText(yt,{itemId:Ht,value:rt,datum:W,xKey:B,yKey:R,xName:L,yName:F}),Fi={index:Z,series:this,itemId:dt,datum:W,datumIndex:Z,cumulativeValue:J??0,xValue:_,yValue:rt,yKey:R,xKey:B,x:bt.x,y:bt.y,width:bt.width,height:bt.height,midPoint:Rt,crisp:T,label:{text:on,...j1t({isUpward:(rt??-1)>=0!==p,isVertical:!l,placement:yt.placement,padding:yt.padding,rect:bt})}};f.nodeData.push(Fi),f.labelData.push(Fi)});const G=this.properties.line.enabled;return S!=null&&G&&(f.pointData=y),f}updateSeriesItemTypes(){const{dataModel:t,seriesItemTypes:e,processedData:i}=this;if(!t||!i)return;e.clear();const n=t.resolveProcessedDataIndexById(this,"yCurrentPositive"),s=t.resolveProcessedDataIndexById(this,"yCurrentNegative"),a=t.resolveProcessedDataIndexById(this,"totalTypeValue"),o=i.domain.values[n]??[],r=i.domain.values[s]??[];o.length>0&&e.add("positive"),r.length>0&&e.add("negative");const l=i==null?void 0:i.domain.values[a];l&&l.forEach(c=>{(c==="total"||c==="subtotal")&&e.add("total")})}isSubtotal(t){return t==="subtotal"}isTotal(t){return t==="total"}nodeFactory(){return new ekt}getSeriesItemType(t,e){return e??(t?"positive":"negative")}getItemConfig(t){switch(t){case"positive":return this.properties.item.positive;case"negative":return this.properties.item.negative;case"subtotal":case"total":return this.properties.item.total}}updateDatumSelection(t){const{nodeData:e,datumSelection:i}=t,n=e??[];return i.update(n)}getItemStyle(t,e,i,n){const{id:s,properties:a}=this,o=a.item[i==="subtotal"?"total":i],r=n?a.highlightStyle.item:void 0,{itemStyler:l}=o,{xKey:c,yKey:h}=a,p={fill:(r==null?void 0:r.fill)??o.fill,fillOpacity:(r==null?void 0:r.fillOpacity)??o.fillOpacity,stroke:(r==null?void 0:r.stroke)??o.stroke,strokeWidth:(r==null?void 0:r.strokeWidth)??o.strokeWidth,strokeOpacity:(r==null?void 0:r.strokeOpacity)??o.strokeOpacity,lineDash:(r==null?void 0:r.lineDash)??o.lineDash??[],lineDashOffset:(r==null?void 0:r.lineDashOffset)??o.lineDashOffset,cornerRadius:o.cornerRadius};if(l!=null){const f=this.cachedDatumCallback(U1t(t,n?"highlight":"node"),()=>l({seriesId:s,itemId:i,datum:e,xKey:c,yKey:h,highlighted:n,...p}));Object.assign(p,f)}return p}updateDatumNodes(t){const{datumSelection:e,isHighlight:i}=t,n=this.getCategoryDirection()===tk.X;e.each((s,a)=>{const o=a.itemId,r=this.getItemStyle(String(a.datumIndex),a.datum,o,i);nkt(s,r),s.visible=n?a.width>0:a.height>0,s.crisp=a.crisp})}updateLabelSelection(t){const{labelData:e,labelSelection:i}=t;if(e.length===0)return i.update([]);const n=e.filter(s=>{const{label:a}=this.getItemConfig(s.itemId);return a.enabled});return i.update(n)}updateLabelNodes(t){t.labelSelection.each((e,i)=>{W1t(e,this.getItemConfig(i.itemId).label,i.label)})}getTooltipContent(t){var O;const{id:e,dataModel:i,processedData:n,properties:s}=this,{xKey:a,xName:o,yKey:r,yName:l,tooltip:c}=s,h=this.getCategoryAxis(),p=this.getValueAxis();if(!i||!n||!h||!p)return;const{datumIndex:f}=t,y=(O=n.dataSources.get(this.id))==null?void 0:O[f],m=i.resolveKeysById(this,"xValue",n)[f],b=i.resolveColumnById(this,"yRaw",n)[f],v=i.resolveColumnById(this,"yCurrentTotal",n),S=i.resolveColumnById(this,"totalTypeValue",n);if(m==null)return;const D=S[f],I=(b??0)>=0,T=this.getSeriesItemType(I,D);let k;if(this.isTotal(D))k=v[f];else if(this.isSubtotal(D)){k=v[f];for(let B=f-1;B>=0;B-=1)if(this.isSubtotal(S[B])){k=k-v[B];break}}else k=b;const E=this.getItemStyle(String(f),y,T,!1);return c.formatTooltip({heading:h.formatDatum(m),symbol:this.legendItemSymbol(T),data:[{label:l,fallbackLabel:r,value:p.formatDatum(k)}]},{seriesId:e,datum:y,title:l,itemId:T,xKey:a,xName:o,yKey:r,yName:l,...E})}legendItemSymbol(t){const{fill:e,stroke:i,fillOpacity:n,strokeOpacity:s,strokeWidth:a,lineDash:o,lineDashOffset:r}=this.getItemConfig(t);return{marker:{fill:e,stroke:i,fillOpacity:n,strokeOpacity:s,strokeWidth:a,lineDash:o,lineDashOffset:r}}}getLegendData(t){if(t!=="category")return[];const{id:e,seriesItemTypes:i}=this,n=[],s=o=>o.charAt(0).toUpperCase()+o.substring(1),{showInLegend:a}=this.properties;return i.forEach(o=>{const{name:r}=this.getItemConfig(o);n.push({legendType:"category",id:e,itemId:o,seriesId:e,enabled:!0,label:{text:r??s(o)},symbol:this.legendItemSymbol(o),hideInLegend:!a,isFixed:!0})}),n}toggleSeriesItem(){}animateEmptyUpdateReady({datumSelection:t,labelSelection:e,contextData:i,paths:n}){const s=Y1t($1t(this.isVertical(),this.axes,"normal"));ikt.fromToMotion(this.id,"datums",this.ctx.animationManager,[t],s),X1t(this,"labels",this.ctx.animationManager,e);const{pointData:a}=i;if(!a)return;const[o]=n;this.isVertical()?this.animateConnectorLinesVertical(o,a):this.animateConnectorLinesHorizontal(o,a)}animateConnectorLinesHorizontal(t,e){const{path:i}=t;this.updateLineNode(t);const n=this.getValueAxis(),s=n==null?void 0:n.isReversed(),a=s?(c,h)=>c<h:(c,h)=>c>h,o=n==null?void 0:n.scale.convert(0),r=e.reduce((c,h)=>(a(h.x,c)&&(c=h.x),c),s?1/0:0),l=(c,h,p,f,y)=>(c-h)/(p-h)*(y-f)+f;this.ctx.animationManager.animate({id:`${this.id}_connectors`,groupId:this.id,phase:"initial",from:o,to:r,ease:z.Motion.easeOut,collapsable:!1,onUpdate(c){i.clear(!0),e.forEach((h,p)=>{const f=l(c,o,r,o,h.x),y=l(c,o,r,o,h.x2);p!==0&&i.lineTo(f,h.y),i.moveTo(y,h.y2)}),t.checkPathDirty()}})}animateConnectorLinesVertical(t,e){const{path:i}=t;this.updateLineNode(t);const n=this.getValueAxis(),s=n==null?void 0:n.isReversed(),a=s?(c,h)=>c>h:(c,h)=>c<h,o=n==null?void 0:n.scale.convert(0),r=e.reduce((c,h)=>(a(h.y,c)&&(c=h.y),c),s?0:1/0),l=(c,h,p,f,y)=>(c-h)/(p-h)*(y-f)+f;this.ctx.animationManager.animate({id:`${this.id}_connectors`,groupId:this.id,phase:"initial",from:o,to:r,ease:z.Motion.easeOut,collapsable:!1,onUpdate(c){i.clear(!0),e.forEach((h,p)=>{const f=l(c,o,r,o,h.y),y=l(c,o,r,o,h.y2);p!==0&&i.lineTo(h.x,f),i.moveTo(h.x2,y)}),t.checkPathDirty()}})}animateReadyResize(t){super.animateReadyResize(t),this.resetConnectorLinesPath(t)}updatePaths(t){this.resetConnectorLinesPath({contextData:t.contextData,paths:t.paths})}resetConnectorLinesPath({contextData:t,paths:e}){if(e.length===0)return;const[i]=e;this.updateLineNode(i);const{path:n}=i;n.clear(!0);const{pointData:s}=t;s&&(s.forEach((a,o)=>{o!==0&&n.lineTo(a.x,a.y),n.moveTo(a.x2,a.y2)}),i.checkPathDirty())}updateLineNode(t){const{stroke:e,strokeWidth:i,strokeOpacity:n,lineDash:s,lineDashOffset:a}=this.properties.line;t.setProperties({fill:void 0,stroke:e,strokeWidth:this.getStrokeWidth(i),strokeOpacity:n,lineDash:s,lineDashOffset:a,lineJoin:"round",pointerEvents:z.PointerEvents.None})}isLabelEnabled(){const{positive:t,negative:e,total:i}=this.properties.item;return t.label.enabled||e.label.enabled||i.label.enabled}onDataChange(){}computeFocusBounds({datumIndex:t}){var e;return tkt(this,(e=this.contextNodeData)==null?void 0:e.nodeData[t])}};TR.className="WaterfallSeries";TR.type="waterfall";var ek={strokeWidth:0,label:{enabled:!1,fontStyle:void 0,fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$ref:"textColor"},formatter:void 0,placement:"outside-end"}},skt={series:{item:{positive:ek,negative:ek,total:ek},line:{stroke:z.ThemeSymbols.PALETTE_NEUTRAL_STROKE,strokeOpacity:1,lineDash:[0],lineDashOffset:0,strokeWidth:2}},legend:{enabled:!0,toggleSeries:!1}},{ThemeConstants:MS}=z,akt={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"waterfall",solo:!0,moduleFactory:t=>new TR(t),tooltipDefaults:{range:"exact"},defaultAxes:z.swapAxisCondition([{type:MS.CARTESIAN_AXIS_TYPE.NUMBER,position:MS.CARTESIAN_POSITION.LEFT},{type:MS.CARTESIAN_AXIS_TYPE.CATEGORY,position:MS.CARTESIAN_POSITION.BOTTOM}],t=>(t==null?void 0:t.direction)==="horizontal"),themeTemplate:skt,paletteFactory:({takeColors:t,colorsCount:e,userPalette:i,palette:n})=>{if(i==="user-indexed"){const{fills:s,strokes:a}=t(e);return{line:{stroke:n.neutral.stroke},item:{positive:{fill:s[0],stroke:a[0]},negative:{fill:s[1],stroke:a[1]},total:{fill:s[2],stroke:a[2]}}}}return{line:{stroke:n.neutral.stroke},item:{positive:{fill:n.altUp.fill,stroke:n.altUp.stroke,label:{color:{$ref:"textColor"}}},negative:{fill:n.altDown.fill,stroke:n.altDown.stroke,label:{color:{$ref:"textColor"}}},total:{fill:n.neutral.fill,stroke:n.neutral.stroke,label:{color:{$ref:"textColor"}}}}}}},okt=`.ag-watermark{position:absolute;bottom:20px;right:25px;font-weight:700;font-family:Impact,sans-serif;font-size:19px;opacity:.7;animation:1s ease-out 3s ag-watermark-fadeout;color:#9b9b9b;pointer-events:none;&:before{content:"";display:block;height:40px;width:170px;background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjU4IiBoZWlnaHQ9IjQwIiB2aWV3Qm94PSIwIDAgMjU4IDQwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNMjUuNzc5IDI4LjY1N0gxMy4zNTlMMTEuMTczIDM0LjAxMkg1LjY3Mjk3TDE3LjE4MiA3LjA1OTk5SDIxLjk1M0wzMy40NjIgMzQuMDEySDI3Ljk2MkwyNS43NzYgMjguNjU3SDI1Ljc3OVpNMjQuMDY4IDI0LjM5N0wxOS41ODggMTMuNDM0TDE1LjEwNyAyNC4zOTdIMjQuMDY4Wk02Mi4wOTIgMTguODIzSDQ5LjgxN1YyMy4wODZINTYuNzc1QzU2LjU1NSAyNS4yMjIgNTUuNzU1IDI2LjkyNyA1NC4zNzIgMjguMjAyQzUyLjk4OSAyOS40NzYgNTEuMTY2IDMwLjExNSA0OC45MDkgMzAuMTE1QzQ3LjYyMiAzMC4xMTUgNDYuNDUgMjkuODg1IDQ1LjM5MyAyOS40MjNDNDQuMzU4MyAyOC45NzgxIDQzLjQzMjYgMjguMzEzOCA0Mi42OCAyNy40NzZDNDEuOTI3IDI2LjYzOSA0MS4zNDQgMjUuNjMxIDQwLjkzMSAyNC40NTNDNDAuNTE5IDIzLjI3NSA0MC4zMTEgMjEuOTcgNDAuMzExIDIwLjUzN0M0MC4zMTEgMTkuMTA1IDQwLjUxNiAxNy44IDQwLjkzMSAxNi42MjFDNDEuMzQ0IDE1LjQ0MyA0MS45MjcgMTQuNDM2IDQyLjY4IDEzLjU5OEM0My40Mzc2IDEyLjc1NzcgNDQuMzY5NiAxMi4wOTMyIDQ1LjQxMSAxMS42NTFDNDYuNDc4IDExLjE4OSA0Ny42NTYgMTAuOTYgNDguOTQ2IDEwLjk2QzUxLjYxMiAxMC45NiA1My42MzcgMTEuNjAyIDU1LjAyIDEyLjg4NUw1OC4zIDkuNjA0OTlDNTUuODE3IDcuNjY5OTkgNTIuNjc2IDYuNjk5OTkgNDguODcyIDYuNjk5OTlDNDYuNzYgNi42OTk5OSA0NC44NTMgNy4wMzQ5OSA0My4xNTQgNy43MDA5OUM0MS40NTUgOC4zNjc5OSAzOS45OTggOS4zMDM5OSAzOC43ODMgMTAuNTA0QzM3LjU2NyAxMS43MDcgMzYuNjM0IDEzLjE1OCAzNS45NzcgMTQuODU3QzM1LjMxOSAxNi41NTYgMzQuOTk0IDE4LjQ1MSAzNC45OTQgMjAuNTRDMzQuOTk0IDIyLjYzIDM1LjMyOSAyNC40OTQgMzUuOTk1IDI2LjIwNUMzNi42NjIgMjcuOTE2IDM3LjYwNSAyOS4zNzQgMzguODE3IDMwLjU3N0M0MC4wMzIgMzEuNzggNDEuNDg2IDMyLjcxMyA0My4xODggMzMuMzgzQzQ0Ljg4OCAzNC4wNDkgNDYuNzgyIDM0LjM4NCA0OC44NzIgMzQuMzg0QzUwLjk2MSAzNC4zODQgNTIuNzUgMzQuMDQ5IDU0LjM5IDMzLjM4M0M1Ni4wMzEgMzIuNzE2IDU3LjQyNiAzMS43OCA1OC41NzkgMzAuNTc3QzU5LjczMyAyOS4zNzQgNjAuNjE5IDI3LjkxNiA2MS4yMzkgMjYuMjA1QzYxLjg2IDI0LjQ5NCA2Mi4xNyAyMi42MDUgNjIuMTcgMjAuNTRDNjIuMTY5NiAxOS45Njg4IDYyLjE0NDUgMTkuMzk4IDYyLjA5NSAxOC44MjlMNjIuMDkyIDE4LjgyM1pNMTUxLjgxIDE2Ljk4MUMxNTMuNDEgMTQuNjA5IDE1Ny40MTkgMTQuMzU4IDE1OS4wMjIgMTQuMzU4VjE4LjkxQzE1Ni45NTcgMTguOTEgMTU0Ljk4NSAxOC45OTYgMTUzLjc1NyAxOS44OTJDMTUyLjUyOSAyMC43OTIgMTUxLjkxOSAyMS45ODIgMTUxLjkxOSAyMy40NjRWMzMuOTlIMTQ2Ljk2NFYxNC4zNThIMTUxLjczNkwxNTEuODEgMTYuOTgxWk0xNDMuMDExIDE0LjM2MVYzNC4wMzFIMTM4LjI0TDEzOC4xMzEgMzEuMDQ1QzEzNy40NjYgMzIuMDc2IDEzNi41NTEgMzIuOTIxOSAxMzUuNDcxIDMzLjUwNEMxMzQuMzc2IDM0LjA5OSAxMzMuMDY4IDM0LjM5NiAxMzEuNTM2IDM0LjM5NkMxMzAuMiAzNC4zOTYgMTI4Ljk2MyAzNC4xNTIgMTI3LjgyMiAzMy42NjhDMTI2LjcgMzMuMTk2NCAxMjUuNjg5IDMyLjQ5NSAxMjQuODU1IDMxLjYwOUMxMjQuMDE4IDMwLjcyMiAxMjMuMzU0IDI5LjY2MiAxMjIuODcxIDI4LjQyMkMxMjIuMzg0IDI3LjE4NSAxMjIuMTQyIDI1LjgxMSAxMjIuMTQyIDI0LjMwNEMxMjIuMTQyIDIyLjc5OCAxMjIuMzg0IDIxLjM3OCAxMjIuODcxIDIwLjExNkMxMjMuMzU3IDE4Ljg1NCAxMjQuMDE4IDE3Ljc3MiAxMjQuODU1IDE2Ljg3M0MxMjUuNjg4IDE1Ljk3NjQgMTI2LjY5OCAxNS4yNjM2IDEyNy44MjIgMTQuNzhDMTI4Ljk2MyAxNC4yODEgMTMwLjIwMyAxNC4wMzMgMTMxLjUzNiAxNC4wMzNDMTMzLjA0MyAxNC4wMzMgMTM0LjMzIDE0LjMxOCAxMzUuMzk3IDE0Ljg4OEMxMzYuNDYyIDE1LjQ1ODkgMTM3LjM3NSAxNi4yNzggMTM4LjA1NyAxNy4yNzZWMTQuMzYxSDE0My4wMTFaTTEzMi42MzEgMzAuMTMzQzEzNC4yNTYgMzAuMTMzIDEzNS41NjcgMjkuNTk0IDEzNi41NjUgMjguNTEyQzEzNy41NjEgMjcuNDMgMTM4LjA2IDI1Ljk5MSAxMzguMDYgMjQuMTk2QzEzOC4wNiAyMi40MDEgMTM3LjU2MSAyMC45OSAxMzYuNTY1IDE5Ljg5OUMxMzUuNTcgMTguODA3IDEzNC4yNTkgMTguMjU4IDEzMi42MzEgMTguMjU4QzEzMS4wMDMgMTguMjU4IDEyOS43MjkgMTguODA0IDEyOC43MzQgMTkuODk5QzEyNy43MzggMjAuOTkzIDEyNy4yMzkgMjIuNDM4IDEyNy4yMzkgMjQuMjMzQzEyNy4yMzkgMjYuMDI4IDEyNy43MzUgMjcuNDMzIDEyOC43MzQgMjguNTE1QzEyOS43MjkgMjkuNTk0IDEzMS4wMjggMzAuMTM2IDEzMi42MzEgMzAuMTM2VjMwLjEzM1pNOTMuNjk4IDI3Ljg3NkM5My41Nzk1IDI4LjAwMjUgOTMuNDU2NCAyOC4xMjQ2IDkzLjMyOSAyOC4yNDJDOTEuOTQ3IDI5LjUxNiA5MC4xMjMgMzAuMTU1IDg3Ljg2NiAzMC4xNTVDODYuNTggMzAuMTU1IDg1LjQwOCAyOS45MjYgODQuMzUgMjkuNDY0QzgzLjMxNTUgMjkuMDE4OSA4Mi4zODk4IDI4LjM1NDYgODEuNjM3IDI3LjUxN0M4MC44ODQgMjYuNjc5IDgwLjMwMSAyNS42NzIgNzkuODg5IDI0LjQ5NEM3OS40NzYgMjMuMzE1IDc5LjI2OSAyMi4wMSA3OS4yNjkgMjAuNTc4Qzc5LjI2OSAxOS4xNDUgNzkuNDczIDE3Ljg0IDc5Ljg4OSAxNi42NjJDODAuMzAxIDE1LjQ4NCA4MC44ODQgMTQuNDc2IDgxLjYzNyAxMy42MzlDODIuMzk0OSAxMi43OTg3IDgzLjMyNzMgMTIuMTM0MiA4NC4zNjkgMTEuNjkyQzg1LjQzNiAxMS4yMyA4Ni42MTQgMTEgODcuOTAzIDExQzkwLjU3IDExIDkyLjU5NSAxMS42NDIgOTMuOTc3IDEyLjkyNkw5Ny4yNTggOS42NDQ5OUM5NC43NzQgNy43MTA5OSA5MS42MzMgNi43Mzk5OSA4Ny44MjkgNi43Mzk5OUM4NS43MTggNi43Mzk5OSA4My44MTEgNy4wNzQ5OSA4Mi4xMTIgNy43NDE5OUM4MC40MTMgOC40MDc5OSA3OC45NTYgOS4zNDQ5OSA3Ny43NCAxMC41NDVDNzYuNTI1IDExLjc0NyA3NS41OTIgMTMuMTk5IDc0LjkzNCAxNC44OThDNzQuMjc3IDE2LjU5NyA3My45NTEgMTguNDkxIDczLjk1MSAyMC41ODFDNzMuOTUxIDIyLjY3IDc0LjI4NiAyNC41MzQgNzQuOTUzIDI2LjI0NUM3NS42MTkgMjcuOTU3IDc2LjU2MiAyOS40MTQgNzcuNzc0IDMwLjYxN0M3OC45OSAzMS44MiA4MC40NDQgMzIuNzUzIDgyLjE0NiAzMy40MjNDODMuODQ1IDM0LjA5IDg1LjczOSAzNC40MjQgODcuODI5IDM0LjQyNEM4OS45MTkgMzQuNDI0IDkxLjcwOCAzNC4wOSA5My4zNDggMzMuNDIzQzk0LjcxOCAzMi44NjUgOTUuOTE4IDMyLjEyMSA5Ni45NDggMzEuMTkxQzk3LjE0OSAzMS4wMDggOTcuMzQ4IDMwLjgxNSA5Ny41MzcgMzAuNjJMOTMuNzAxIDI3Ljg4NUw5My42OTggMjcuODc2Wk0xMTAuODAyIDE0LjAxNUMxMDkuMTk5IDE0LjAxNSAxMDYuODM2IDE0LjQ3MSAxMDUuNjExIDE2LjE1OEwxMDUuNTM3IDYuMDE1OTlIMTAwLjc2NVYzMy45MzlIMTA1LjcyVjIyLjY0MUMxMDUuNzcxIDIxLjQ2MDcgMTA2LjI4OCAyMC4zNDg4IDEwNy4xNTcgMTkuNTQ4OUMxMDguMDI3IDE4Ljc0OTEgMTA5LjE3OCAxOC4zMjY2IDExMC4zNTggMTguMzc0QzExMy4zOTcgMTguMzc0IDExNC4yNjggMjEuMTU5IDExNC4yNjggMjIuNjQxVjMzLjkzOUgxMTkuMjIzVjIxLjA1OUMxMTkuMjIzIDIxLjA1OSAxMTkuMTQyIDE0LjAxNSAxMTAuODAyIDE0LjAxNVpNMTczLjc2MyAxNC4zNThIMTY5Ljk5OVY4LjcxNDk5SDE2NS4wNDhWMTQuMzU4SDE2MS4yODRWMTguOTE2SDE2NS4wNDhWMzQuMDAzSDE2OS45OTlWMTguOTE2SDE3My43NjNWMTQuMzU4Wk0xOTAuNzg3IDI1LjI2MkMxOTAuMTI5IDI0LjUwMTQgMTg5LjMwNyAyMy44OTk0IDE4OC4zODQgMjMuNTAxQzE4Ny40ODggMjMuMTE3IDE4Ni4zMzEgMjIuNzMyIDE4NC45NDggMjIuMzY0QzE4NC4xNjUgMjIuMTQzOSAxODMuMzkgMjEuODk3OCAxODIuNjIzIDIxLjYyNkMxODIuMTYzIDIxLjQ2MjEgMTgxLjc0MSAyMS4yMDY2IDE4MS4zODMgMjAuODc1QzE4MS4yMzUgMjAuNzQyMSAxODEuMTE4IDIwLjU3ODkgMTgxLjAzOSAyMC4zOTY0QzE4MC45NjEgMjAuMjE0IDE4MC45MjIgMjAuMDE2NiAxODAuOTI3IDE5LjgxOEMxODAuOTI3IDE5LjI3MiAxODEuMTU2IDE4Ljg0NCAxODEuNjI1IDE4LjUxQzE4Mi4xMjEgMTguMTU2IDE4Mi44NjIgMTcuOTc2IDE4My44MjYgMTcuOTc2QzE4NC43OSAxNy45NzYgMTg1LjU4NyAxOC4yMDkgMTg2LjE0OCAxOC42NjhDMTg2LjcwNiAxOS4xMjQgMTg3LjAwNyAxOS43MjUgMTg3LjA3MiAyMC41TDE4Ny4wOTQgMjAuNzgySDE5MS42MzNMMTkxLjYxNyAyMC40NkMxOTEuNTIxIDE4LjQ4NSAxOTAuNzcxIDE2LjkgMTg5LjM4NSAxNS43NUMxODguMDEyIDE0LjYxMiAxODYuMTg1IDE0LjAzMyAxODMuOTYyIDE0LjAzM0MxODIuNDc3IDE0LjAzMyAxODEuMTQxIDE0LjI4NyAxNzkuOTk0IDE0Ljc4NkMxNzguODMxIDE1LjI5MSAxNzcuOTI2IDE1Ljk5NSAxNzcuMjk2IDE2Ljg4MkMxNzYuNjczIDE3Ljc0NTUgMTc2LjMzOCAxOC43ODQgMTc2LjM0MSAxOS44NDlDMTc2LjM0MSAyMS4xNjcgMTc2LjY5OCAyMi4yNDkgMTc3LjM5OSAyMy4wNjRDMTc4LjA2IDIzLjg0MzIgMTc4Ljg5OCAyNC40NTM0IDE3OS44NDIgMjQuODQ0QzE4MC43NDQgMjUuMjE2IDE4MS45MjggMjUuNjA3IDE4My4zNjEgMjZDMTg0LjgwNiAyNi40MSAxODUuODcyIDI2Ljc4NSAxODYuNTMgMjcuMTIzQzE4Ny4xIDI3LjQxNCAxODcuMzc5IDI3Ljg0NSAxODcuMzc5IDI4LjQ0NEMxODcuMzc5IDI5LjA0MiAxODcuMTIyIDI5LjQ2NyAxODYuNTk1IDI5LjgzOUMxODYuMDQzIDMwLjIyNiAxODUuMjM3IDMwLjQyNSAxODQuMjAxIDMwLjQyNUMxODMuMTY2IDMwLjQyNSAxODIuMzk0IDMwLjE3NCAxODEuNzQ5IDI5LjY3NEMxODEuMTEzIDI5LjE4MSAxODAuNzcyIDI4LjU4OSAxODAuNzEgMjcuODY0TDE4MC42ODUgMjcuNTgySDE3Ni4wMTNMMTc2LjAyNSAyNy45MDFDMTc2LjA2NyAyOS4wOTU1IDE3Ni40NzIgMzAuMjQ4NyAxNzcuMTg4IDMxLjIwNkMxNzcuOTA3IDMyLjE4IDE3OC44OTMgMzIuOTU4IDE4MC4xMTggMzMuNTE5QzE4MS4zMzYgMzQuMDc3IDE4Mi43MzIgMzQuMzYyIDE4NC4yNjYgMzQuMzYyQzE4NS44MDEgMzQuMzYyIDE4Ny4xMDkgMzQuMTA4IDE4OC4yMzggMzMuNjA5QzE4OS4zNzYgMzMuMTA0IDE5MC4yNzIgMzIuMzk0IDE5MC45MDEgMzEuNDk0QzE5MS41MzQgMzAuNTkyIDE5MS44NTMgMjkuNTU0IDE5MS44NTMgMjguNDAzQzE5MS44MjggMjcuMTEgMTkxLjQ2NiAyNi4wNTMgMTkwLjc3NyAyNS4yNjJIMTkwLjc4N1oiIGZpbGw9IiM5QjlCOUIiLz4KPHBhdGggZD0iTTI0MS45ODIgMjUuNjU4MlYxNy43MTE3SDIyOC40NDFMMjIwLjQ5NCAyNS42NTgySDI0MS45ODJaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yNTcuMjM5IDUuOTUwODFIMjQwLjI2NUwyMzIuMjU1IDEzLjg5NzNIMjU3LjIzOVY1Ljk1MDgxWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMjEyLjYxMSAzMy42MDQ4TDIxNi42OCAyOS41MzYxSDIzMC40MTJWMzcuNDgyN0gyMTIuNjExVjMzLjYwNDhaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yMTUuNTk5IDIxLjc4MDNIMjI0LjM3MkwyMzIuMzgyIDEzLjgzMzdIMjE1LjU5OVYyMS43ODAzWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMjA2IDMzLjYwNDdIMjEyLjYxMUwyMjAuNDk0IDI1LjY1ODJIMjA2VjMzLjYwNDdaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yNDAuMjY1IDUuOTUwODFMMjM2LjE5NyAxMC4wMTk0SDIxMC4yNTlWMi4wNzI4OEgyNDAuMjY1VjUuOTUwODFaIiBmaWxsPSIjOUI5QjlCIi8+Cjwvc3ZnPgo=);background-repeat:no-repeat;background-size:170px 40px}>span{padding-left:.7rem}}@keyframes ag-watermark-fadeout{0%{opacity:.5}to{opacity:0}}.ag-charts-dialog{display:flex;flex-direction:column;font-size:var(--ag-charts-chrome-font-size-large)}.ag-charts-dialog__tabs{display:flex;flex-direction:column}.ag-charts-dialog__header{border-bottom:1px solid var(--ag-charts-border-color);display:flex}.ag-charts-dialog__tab-list{display:flex;gap:calc(var(--ag-charts-spacing) * 2)}.ag-charts-dialog__drag-handle{align-items:center;color:inherit;cursor:grab;display:flex;padding:1px 6px;text-align:center}.ag-charts-dialog__drag-handle--dragging{cursor:grabbing}.ag-charts-dialog__tab-button{background:none;border:0;border-bottom:2px solid transparent;border-radius:0;color:var(--ag-charts-chrome-subtle-text-color);margin-bottom:-1px;padding:var(--input-padding) calc(var(--input-padding) / 2)}.ag-charts-dialog__tab-button:hover{background:none}.ag-charts-dialog__tab-button--active{border-color:var(--ag-charts-accent-color);color:inherit}.ag-charts-dialog__drag-handle+.ag-charts-dialog__tab-button{margin-left:calc(var(--ag-charts-spacing) * -2)}.ag-charts-button.ag-charts-dialog__close-button{background:none;border:0;margin-left:auto;padding:1px 6px}.ag-charts-dialog__close-button:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow);z-index:calc(var(--ag-charts-layer-ui-overlay) + 1)}.ag-charts-dialog__tab-panel{display:none;flex-direction:column;gap:calc(var(--ag-charts-spacing) * 4);margin:0 calc(var(--ag-charts-spacing) * 4);padding:calc(var(--ag-charts-spacing) * 4) 0}.ag-charts-dialog__tab-panel--active{display:flex}.ag-charts-dialog__input-group-line{display:flex;gap:16px 18px;flex-wrap:wrap}.ag-charts-dialog__input-group{align-items:center;display:flex;font-size:var(--ag-charts-chrome-font-size)}.ag-charts-dialog__input-group-label{color:var(--ag-charts-chrome-subtle-text-color);margin-right:5px}.ag-charts-dialog__input-group-label[for]{cursor:pointer}.ag-charts-dialog__button{border-radius:0;margin-right:-1px}.ag-charts-dialog__button.ag-charts-dialog__button--active{background:var(--ag-charts-button-focus-background-color);border-color:var(--ag-charts-input-focus-border-color);color:var(--ag-charts-input-focus-text-color);z-index:var(--input-layer-active)}.ag-charts-dialog__button:first-child,.ag-charts-dialog__input-group-label+.ag-charts-dialog__button{border-bottom-left-radius:var(--ag-charts-input-border-radius);border-top-left-radius:var(--ag-charts-input-border-radius)}.ag-charts-dialog__button:last-child{border-bottom-right-radius:var(--ag-charts-input-border-radius);border-top-right-radius:var(--ag-charts-input-border-radius)}.ag-charts-dialog__color-picker-button{--color: #000;background:var(--color);border:none;color:transparent;height:26px;width:26px}.ag-charts-dialog__color-picker-button:hover{background:var(--color)}.ag-charts-dialog__color-picker-button--multi-color,.ag-charts-dialog__color-picker-button--multi-color:hover{background:linear-gradient(135deg,red 0%,#ff0 calc(100% * 1 / 6),#0f0 calc(100% * 2 / 6),#0ff 50%,#00f calc(100% * 4 / 6),#f0f calc(100% * 5 / 6),red 100%)}.ag-charts-color-picker{width:190px;padding:8px;--h: 0;--s: 0;--v: 0;--a: 0;--color: #000;--color-a: #000;--thumb-size: 18px;--inner-width: 172px;--track-height: 12px;--palette-height: 136px;--checker: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="4" height="4"><rect x="0" y="0" width="4" height="4" fill="%23fff"/><path d="M0 0H2V4H4V2H0Z" fill="%23b2b2b2"/></svg>');--multi-color: linear-gradient( 135deg, #f00 0% , #ff0 calc(100% * 1 / 6), #0f0 calc(100% * 2 / 6), #0ff 50% , #00f calc(100% * 4 / 6), #f0f calc(100% * 5 / 6), #f00 100% )}.ag-charts-color-picker__content{display:flex;flex-direction:column}.ag-charts-color-picker__palette{position:relative;width:100%;height:var(--palette-height);margin-bottom:8px;background:linear-gradient(to bottom,#0000,#000),linear-gradient(to right,#fff,#fff0) hsl(var(--h),100%,50%);border-radius:calc(var(--ag-charts-border-radius) * 1.5);box-shadow:inset 0 0 0 1px #0003}.ag-charts-color-picker__palette:after{content:"";position:absolute;display:block;top:calc(var(--thumb-size) * -.5 + (1 - var(--v)) * 100%);left:calc(var(--thumb-size) * -.5 + var(--s) * 100%);background:var(--color);width:var(--thumb-size);height:var(--thumb-size);border-radius:calc(var(--ag-charts-border-radius) * 99);box-shadow:var(--box-shadow);--box-shadow: inset 0 0 0 3px white, inset 0 0 1px 3px #0006, 0 0 5px #00000038}.ag-charts-color-picker__palette:focus-visible:after{outline:var(--ag-charts-focus-border);box-shadow:var(--box-shadow),0 0 0 2px #fff8,var(--ag-charts-focus-border-shadow)}.ag-charts-color-picker__color-row{display:flex;gap:8px;align-items:center;margin-bottom:4px;--inset: calc((var(--thumb-size) - var(--track-height)) / 2)}.ag-charts-color-picker__hue-input,.ag-charts-color-picker__alpha-input{-webkit-appearance:none;display:block;position:relative;padding:0;margin:0 calc(var(--inset) * -1);border:0;height:var(--thumb-size);width:auto;background:transparent;--inset: calc((var(--thumb-size) - var(--track-height)) / 2)}.ag-charts-color-picker__hue-input::-webkit-slider-thumb,.ag-charts-color-picker__alpha-input::-webkit-slider-thumb{-webkit-appearance:none;width:var(--thumb-size);height:var(--thumb-size);border-radius:calc(var(--ag-charts-border-radius) * 99);box-shadow:var(--box-shadow);--box-shadow: inset 0 0 0 3px white, inset 0 0 1px 3px #0006, 0 0 5px #00000038;transform:translateZ(0)}.ag-charts-color-picker__hue-input::-webkit-slider-thumb{background:hsl(var(--h),100%,50%)}.ag-charts-color-picker__alpha-input::-webkit-slider-thumb{background:transparent}.ag-charts-color-picker__alpha-input--opaque::-webkit-slider-thumb{background:var(--color)}.ag-charts-color-picker__hue-input:focus-visible::-webkit-slider-thumb,.ag-charts-color-picker__alpha-input:focus-visible::-webkit-slider-thumb{outline:var(--ag-charts-focus-border);box-shadow:var(--box-shadow),var(--ag-charts-focus-border-shadow)}.ag-charts-color-picker__hue-input:before,.ag-charts-color-picker__alpha-input:before{position:absolute;content:"";display:block;top:calc(50% - var(--track-height) / 2);left:var(--inset);right:var(--inset);height:var(--track-height);border-radius:calc(var(--ag-charts-border-radius) * 99);box-shadow:inset 0 0 0 1px #0003}.ag-charts-color-picker__multi-color-button{width:36px;margin-left:var(--inset);height:var(--track-height);border-radius:calc(var(--ag-charts-border-radius) * 99);border:0;background:var(--multi-color);box-shadow:inset 0 0 0 1px #0003}.ag-charts-color-picker__multi-color-button--hidden{display:none}.ag-charts-color-picker__multi-color-button--active{box-shadow:inset 0 0 0 1px #0003;outline-offset:1px;outline:2px solid #2196f3}.ag-charts-color-picker__hue-input{flex:1 0 0}.ag-charts-color-picker__hue-input:before{background:linear-gradient(to right,red,red calc((100% - var(--track-height)) * 0 / 6 + var(--track-height) / 2),#ff0 calc((100% - var(--track-height)) * 1 / 6 + var(--track-height) / 2),#0f0 calc((100% - var(--track-height)) * 2 / 6 + var(--track-height) / 2),#0ff calc((100% - var(--track-height)) * 3 / 6 + var(--track-height) / 2),#00f calc((100% - var(--track-height)) * 4 / 6 + var(--track-height) / 2),#f0f calc((100% - var(--track-height)) * 5 / 6 + var(--track-height) / 2),red calc((100% - var(--track-height)) * 6 / 6 + var(--track-height) / 2))}.ag-charts-color-picker__alpha-input{margin-bottom:7px}.ag-charts-color-picker__alpha-input:before{background:linear-gradient(to right,transparent,var(--color)),var(--checker) top left / 4px 4px}.ag-charts-color-picker__color-field{display:flex;border:var(--ag-charts-border);background:var(--ag-charts-background-color);border-radius:var(--ag-charts-border-radius);overflow:hidden}.ag-charts-color-picker__color-field:has(:focus-visible){border-color:var(--ag-charts-accent-color);box-shadow:var(--ag-charts-focus-border-shadow)}.ag-charts-color-picker__color-label{width:16px;height:16px;margin:7px 0 7px 7px;color:transparent;background:linear-gradient(to right,var(--color-a),var(--color-a)),var(--checker) top left / 4px 4px;border-radius:calc(var(--ag-charts-border-radius) / 2);box-shadow:inset 0 0 0 1px #0003}.ag-charts-color-picker__color-label--multi-color{background:var(--multi-color)}.ag-charts-color-picker__color-input{flex:1;min-width:0;padding:7px 7px 7px 8px;border:0;margin:0;color:inherit;background:transparent;font-variant:tabular-nums}.ag-charts-color-picker__color-input:focus-visible{border:none;outline:none}.ag-charts-annotations__line-stroke-width-menu,.ag-charts-annotations__line-style-type-menu,.ag-charts-annotations__text-size-menu{.ag-charts-menu__row:first-child{border-radius:0}}.ag-charts-annotations__text-size-menu{--item-padding: 4px 8px;border-top-left-radius:0;border-top-right-radius:0;min-width:34px;text-align:center}.ag-charts-annotations__line-stroke-width-menu{--item-padding: 6px;column-gap:6px}.ag-charts-annotations__line-style-type-menu{--item-padding: 6px;column-gap:0}.ag-charts-annotations__stroke-width-button:before{background:var(--ag-charts-foreground-color);content:"";margin-right:var(--toolbar-button-padding);height:min(var(--stroke-width),20px);width:12px}.ag-charts-annotations__stroke-width-button[aria-disabled=true]:before{filter:grayscale(1);opacity:.5}.ag-charts-annotations__color-picker-button{--emblem: var(--color)}.ag-charts-annotations__color-picker-button--multi-color{--emblem: linear-gradient( to right, #f00 0% , #ff0 calc(100% * 1 / 6), #0f0 calc(100% * 2 / 6), #0ff 50% , #00f calc(100% * 4 / 6), #f0f calc(100% * 5 / 6), #f00 100% )}.ag-charts-annotations__color-picker-button:after{content:"";display:block;position:absolute;bottom:3px;left:5px;right:5px;height:4px;border-radius:99px;box-shadow:inset 0 0 0 1px color-mix(in srgb,var(--ag-charts-foreground-color) 10%,transparent);background:var(--emblem)}.ag-charts-annotations__color-picker-button[aria-disabled=true]:after{filter:grayscale(1);opacity:.5}.ag-charts-annotations__toolbar-menu{min-width:200px}.ag-charts-annotations__axis-button--hidden{display:none}.ag-charts-annotations__axis-button{background-color:var(--ag-charts-crosshair-label-background-color);border-radius:calc(var(--ag-charts-border-radius) / 2);border:none;box-sizing:border-box;color:var(--ag-charts-crosshair-label-text-color);cursor:pointer;font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size);font-weight:var(--ag-charts-chrome-font-weight);left:0;line-height:16px;overflow:hidden;padding:0;position:absolute;top:0;user-select:none;white-space:nowrap;z-index:var(--ag-charts-layer-annotations)}.ag-charts-annotations__axis-button:hover{opacity:.8;color:var(--ag-charts-background-color)}.ag-charts-dialog--annotation-settings{min-height:233px;width:289px}.ag-charts-dialog--annotation-settings .ag-charts-textarea{height:calc(10px * 2 + var(--textarea-line-height) * 1em * 3 + 2px);overflow-y:auto;resize:vertical}.ag-charts-context-menu{background:var(--ag-charts-chrome-background-color);border:var(--ag-charts-border);border-radius:var(--ag-charts-border-radius);box-shadow:var(--ag-charts-shadow);color:var(--ag-charts-chrome-text-color);font-family:var(--ag-charts-chrome-font-family);font-size:calc(var(--ag-charts-chrome-font-size) * (13 / 12));font-weight:var(--ag-charts-chrome-font-weight);transition:transform .1s ease;white-space:nowrap;z-index:var(--ag-charts-layer-ui-overlay)}.ag-charts-context-menu__cover{position:fixed;left:0;top:0}.ag-charts-context-menu__menu{display:flex;flex-direction:column;padding:.5em 0}.ag-charts-context-menu__menu:focus{outline:none}.ag-charts-context-menu__item{background:none;border:none;box-sizing:border-box;color:inherit;font:inherit;padding:.5em 1em;text-align:left;-webkit-appearance:none;-moz-appearance:none}.ag-charts-context-menu__item:focus,.ag-charts-context-menu__item:active{background:var(--ag-charts-focus-color)}.ag-charts-context-menu__item[data-focus-visible-override=true]:focus,.ag-charts-context-menu__item:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow);z-index:calc(var(--ag-charts-layer-ui-overlay) + 1)}.ag-charts-context-menu__item[data-focus-visible-override=false]{outline:inherit;box-shadow:inherit;z-index:inherit}.ag-charts-context-menu__item[aria-disabled=true]{border:none;opacity:.5;text-align:left}.ag-charts-context-menu__item[aria-disabled=true]:focus{background:inherit;cursor:inherit}.ag-charts-context-menu__divider{margin:5px 0;background:#babfc7;height:1px}.ag-charts-context-menu__divider.ag-charts-dark-context-menu{background:#2196f31a}.ag-charts-crosshair-label{position:absolute;left:0;top:0;user-select:none;pointer-events:none;font-family:var(--ag-charts-font-family);font-size:var(--ag-charts-font-size);font-weight:var(--ag-charts-font-weight);overflow:hidden;white-space:nowrap;z-index:var(--ag-charts-layer-crosshair);box-sizing:border-box}.ag-charts-crosshair-label-content{padding:0 8px;border-radius:calc(var(--ag-charts-border-radius) / 2);line-height:calc(var(--ag-charts-font-size) + 8px);background-color:var(--ag-charts-crosshair-label-background-color);color:var(--ag-charts-crosshair-label-text-color)}.ag-charts-crosshair-label--hidden{visibility:hidden!important}.ag-charts-text-input{position:absolute}.ag-charts-text-input__textarea{--placeholder-text-color: var(--ag-charts-input-placeholder-text-color);display:block;height:100%;width:100%;border:0;background:none;line-height:1.38;outline:none;transform:translateY(.09em)}.ag-charts-text-input__textarea[placeholder]:empty:before{content:attr(placeholder);color:var(--placeholder-text-color);font-weight:400}.ag-charts-text-input__textarea[placeholder]:not(:empty):before{content:""}.ag-charts-chart-toolbar__menu{min-width:200px}.ag-charts-range-buttons .ag-charts-toolbar__button{padding:var(--toolbar-button-padding) calc(var(--toolbar-button-padding) * 1.5)}.ag-charts-zoom-buttons{align-items:center;display:flex;height:44px;justify-content:center;overflow:hidden;padding-bottom:10px;pointer-events:none;width:100%;.ag-charts-toolbar{--toolbar-size: 24px;--toolbar-button-padding: 1px;display:flex;font-size:var(--ag-charts-chrome-font-size);height:var(--toolbar-size);justify-content:center;opacity:1;pointer-events:auto;transition:opacity .2s ease-in-out,transform .4s ease-in-out;.ag-charts-toolbar__button--first{border-bottom-left-radius:var(--ag-charts-border-radius);border-top-left-radius:var(--ag-charts-border-radius)}.ag-charts-toolbar__button--last{border-bottom-right-radius:var(--ag-charts-border-radius);border-top-right-radius:var(--ag-charts-border-radius)}.ag-charts-toolbar__label{padding-left:var(--ag-charts-spacing);padding-right:var(--ag-charts-spacing)}.ag-charts-toolbar__icon+.ag-charts-toolbar__label{padding-left:0}.ag-charts-toolbar__button--gap{margin-left:var(--toolbar-gap)}.ag-charts-zoom-buttons__toolbar--hidden{opacity:0;transition:opacity .4s ease-in-out,transform .4s ease-in-out}}}.ag-charts-shared-toolbar{gap:var(--toolbar-gap);.ag-charts-toolbar__button{border-radius:var(--ag-charts-border-radius);margin:0}}
`;z.ModuleRegistry.registerMany([kht,Kht,qht,tdt,ndt]);function rkt(){z.moduleRegistry.register(But,Yut,odt,Ugt,Jgt,Qxt,$yt,bbt,Kbt,g0t,K0t,hvt,oDt,ayt,cyt,Ayt,Tyt,Gyt,RSt,Zvt,IMt,sMt,XMt,LAt,rAt,dmt,Fmt,Gxt,Vvt,sDt,Kut,oIt,rIt,RIt,FIt,bht,mTt,Dht,OCt,eCt,Imt,ADt,qCt,Cmt,u1t,Wmt,N1t,akt,kxt),z.enterpriseModule.isEnterprise=!0,z.enterpriseModule.styles=okt,z.enterpriseModule.licenseManager=t=>{var e;return new Om(((e=t.container)==null?void 0:e.ownerDocument)??(typeof document>"u"?void 0:document))},z.enterpriseModule.injectWatermark=Vxt}rkt();wo.create.bind(wo),wo.__createSparkline.bind(wo),Om.setGridContext.bind(Om),Om.setLicenseKey.bind(Om);const lkt=()=>{const[t]=ot.useState({type:"radial-gauge",value:86,width:1e3,scale:{min:0,max:100},bar:{fills:[{color:"#4CAF50"},{color:"#FFC107"},{color:"#FF7043"}],fillMode:"discrete"},background:{fill:"transparent"}});return tt.jsxs(be,{display:"flex",justifyContent:"space-between",alignItems:"center",flexDirection:"column",mt:2,overflow:"hidden",children:[tt.jsx(be,{sx:{display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden",width:"100%"},children:tt.jsx(tut,{options:t})}),tt.jsxs(be,{flexDirection:"row",sx:{display:"flex",width:"100%",justifyContent:"space-between"},children:[tt.jsxs(be,{textAlign:"center",children:[tt.jsx(bi,{fontWeight:"bold",children:"95"}),tt.jsx(bi,{fontSize:14,color:"gray",children:"Total projects"})]}),tt.jsxs(be,{textAlign:"center",children:[tt.jsx(bi,{fontWeight:"bold",color:"green",children:"26"}),tt.jsx(bi,{fontSize:14,color:"gray",children:"Completed"})]}),tt.jsxs(be,{textAlign:"center",children:[tt.jsx(bi,{fontWeight:"bold",color:"#FFC107",children:"35"}),tt.jsx(bi,{fontSize:14,color:"gray",children:"Delayed"})]}),tt.jsxs(be,{textAlign:"center",children:[tt.jsx(bi,{fontWeight:"bold",color:"#FF7043",children:"35"}),tt.jsx(bi,{fontSize:14,color:"gray",children:"On going"})]})]})]})},ckt=Ru.memo(lkt),ukt=({value:t,color:e})=>tt.jsxs(be,{position:"relative",display:"inline-flex",children:[tt.jsx(yk,{variant:"determinate",value:100,sx:{color:"#E0DFDC",position:"relative",left:0,top:0},size:50,thickness:4}),tt.jsx(yk,{variant:"determinate",value:t,sx:{color:e,position:"absolute",left:0,top:0,transform:"translate(-50%, -50%)"},size:50,thickness:4}),tt.jsx(be,{position:"absolute",top:"50%",left:"50%",sx:{transform:"translate(-50%, -50%)",fontWeight:"bold"},children:tt.jsxs(bi,{fontSize:"14px",fontWeight:"bold",children:[t,"%"]})})]}),hkt=({projectHeader:t,projectData:e})=>tt.jsx(itt,{children:tt.jsxs(UJ,{children:[tt.jsx(rtt,{children:tt.jsx(h4,{children:t.map((i,n)=>tt.jsx(uf,{sx:{fontWeight:"500"},children:i},n))})}),tt.jsx(KJ,{children:e.map(i=>tt.jsxs(h4,{children:[tt.jsx(uf,{children:i.name}),tt.jsx(uf,{children:i.manager}),tt.jsx(uf,{children:i.dueDate}),tt.jsx(uf,{children:tt.jsx(w5,{label:i.status,sx:{bgcolor:`rgba(${i.color}, 0.3)`,color:`rgba(${i.color}, 1)`}})}),tt.jsx(uf,{children:tt.jsx(ukt,{value:i.progress,color:`rgba(${i.color}, 1)`})})]},i.name))})]})}),dkt=(t,e)=>t===0?{backgroundColor:e===10?"#D45A2B":"black",color:"white"}:{border:"1px solid black",backgroundColor:"transparent"},pkt=({workloadData:t})=>tt.jsx(be,{display:"flex",justifyContent:"space-between",alignItems:"flex-end",mt:4,children:t.map(e=>tt.jsxs(be,{display:"flex",flexDirection:"column",alignItems:"center",children:[[...Array(Math.floor(Math.random()*5)+1)].map((i,n)=>tt.jsx(be,{sx:{width:40,height:40,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",fontSize:14,...dkt(n,e.value)},children:n===0?String(e.value):""},n)),tt.jsx(bi,{variant:"body2",mt:1,children:e.name})]},e.name))}),fkt=Ru.memo(pkt),gkt=({activeTab:t,setActiveTab:e})=>tt.jsx(Ltt,{value:t,onChange:(i,n)=>e(n),variant:"standard",sx:{"& .MuiTabs-indicator":{backgroundColor:"#3b82f6",height:"3px",borderRadius:"4px"}},children:Vtt.map((i,n)=>tt.jsx(jJ,{label:tt.jsxs(be,{display:"flex",alignItems:"center",gap:2.2,children:[i.label,i.count!==null&&tt.jsx(xJ,{badgeContent:String(i.count).padStart(2,"0"),color:"primary",sx:{"& .MuiBadge-badge":{backgroundColor:"#e0e7ff",color:"#3b82f6",fontSize:"10px",fontWeight:"bold",borderRadius:"8px",padding:"0 6px"}}})]}),sx:{textTransform:"none",fontSize:"14px",fontWeight:t===n?"bold":"normal",color:t===n?as.black:"#666","&.Mui-selected":{color:"black"}}},i.label))}),ykt=({index:t,task:e})=>tt.jsxs(be,{display:"flex",my:1,children:[t!==3?tt.jsx(Ytt,{color:"warning"}):tt.jsx(Xtt,{}),tt.jsx(bi,{flexGrow:1,marginLeft:1,children:e.task}),tt.jsx(w5,{label:e.status,sx:{bgcolor:`rgba(${e.color}, 0.3)`,color:`rgba(${e.color}, 1)`,marginRight:10}})]}),mkt=()=>{const[t,e]=ot.useState(1);return tt.jsx(be,{sx:{flexGrow:1,p:3},children:tt.jsxs(nm,{container:!0,spacing:3,children:[tt.jsx(nm,{item:!0,xs:12,md:8,children:tt.jsx(be,{sx:{borderRadius:4,bgcolor:as.secondary},children:tt.jsxs(uv,{children:[tt.jsxs(IC,{heading:"Project Summary",sx:{display:"flex","@media (max-width: 700px)":{display:"none"}},children:[tt.jsx(Cf,{text:"Project"}),tt.jsx(Cf,{text:"Project Manager"}),tt.jsx(Cf,{text:"Status"})]}),tt.jsx(hkt,{projectHeader:_tt,projectData:jtt})]})})}),tt.jsx(nm,{item:!0,xs:12,md:4,children:tt.jsx(be,{sx:{borderRadius:4,bgcolor:as.secondary},children:tt.jsxs(uv,{children:[tt.jsx(IC,{heading:" Overall Progress",children:tt.jsx(Cf,{text:"All"})}),tt.jsx(be,{display:"flex",justifyContent:"center",mt:2}),tt.jsx(ckt,{})]})})}),tt.jsx(nm,{item:!0,xs:12,md:8,children:tt.jsx(be,{sx:{borderRadius:4,bgcolor:as.secondary},children:tt.jsxs(uv,{children:[tt.jsx(bi,{variant:"h6",fontWeight:"bold",children:"Today Task"}),tt.jsx(be,{sx:{borderBottom:1,borderColor:"divider"},children:tt.jsx(gkt,{activeTab:t,setActiveTab:e})}),Ftt.map((i,n)=>tt.jsx(ykt,{index:n,task:i},n))]})})}),tt.jsx(nm,{item:!0,xs:12,md:4,children:tt.jsx(be,{sx:{borderRadius:4,bgcolor:as.secondary},children:tt.jsxs(uv,{children:[tt.jsx(IC,{heading:"Projects Workload",children:tt.jsx(Cf,{text:"Last 3 months"})}),tt.jsx(fkt,{workloadData:Gtt})]})})})]})})},xkt=()=>tt.jsxs(be,{bgcolor:as.primary,children:[tt.jsx(qtt,{}),tt.jsx(Htt,{}),tt.jsx(mkt,{})]});function bkt(){return tt.jsx(xkt,{})}bX.createRoot(document.getElementById("root")).render(tt.jsx(ot.StrictMode,{children:tt.jsx(bkt,{})}));
